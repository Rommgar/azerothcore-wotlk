<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Azerotcore-wotlk: deps/jemalloc/src/jemalloc.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Azerotcore-wotlk
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_94a36784afa54c0b50996002372b429e.html">deps</a></li><li class="navelem"><a class="el" href="../../dir_179d929e1819901db0d59fdfce5a15ff.html">jemalloc</a></li><li class="navelem"><a class="el" href="../../dir_6403d2db28602dc73d908ad32919b631.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">jemalloc.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../d1/d18/jemalloc__preamble_8h_source.html">jemalloc/internal/jemalloc_preamble.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d6/dd2/jemalloc__internal__includes_8h_source.html">jemalloc/internal/jemalloc_internal_includes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/da7/assert_8h_source.html">jemalloc/internal/assert.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/d02/atomic_8h_source.html">jemalloc/internal/atomic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/d9c/ctl_8h_source.html">jemalloc/internal/ctl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/ddd/extent__dss_8h_source.html">jemalloc/internal/extent_dss.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/d2a/extent__mmap_8h_source.html">jemalloc/internal/extent_mmap.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d6/d34/hook_8h_source.html">jemalloc/internal/hook.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/dc4/jemalloc__internal__types_8h_source.html">jemalloc/internal/jemalloc_internal_types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h_source.html">jemalloc/internal/log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/d9b/malloc__io_8h_source.html">jemalloc/internal/malloc_io.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d0/df8/mutex_8h_source.html">jemalloc/internal/mutex.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/d9a/rtree_8h_source.html">jemalloc/internal/rtree.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/dd3/safety__check_8h_source.html">jemalloc/internal/safety_check.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d9/d50/sc_8h_source.html">jemalloc/internal/sc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d9/d84/spin_8h_source.html">jemalloc/internal/spin.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d04/sz_8h_source.html">jemalloc/internal/sz.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d1/d16/ticker_8h_source.html">jemalloc/internal/ticker.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html">jemalloc/internal/util.h</a>&quot;</code><br />
</div>
<p><a href="../../d8/d80/jemalloc_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dbb/structmalloc__utrace__t.html">malloc_utrace_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d7c/structstatic__opts__s.html">static_opts_s</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d96/structdynamic__opts__s.html">dynamic_opts_s</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a3670ceeda0e018cf4e31b15aaa59f517"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a3670ceeda0e018cf4e31b15aaa59f517">JEMALLOC_C_</a></td></tr>
<tr class="separator:a3670ceeda0e018cf4e31b15aaa59f517"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac19ee6dc36258a288840ca42da370e66"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#ac19ee6dc36258a288840ca42da370e66">NO_INITIALIZER</a>&#160;&#160;&#160;<a class="el" href="../../d9/d5e/stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></td></tr>
<tr class="separator:ac19ee6dc36258a288840ca42da370e66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6de9cd0c9d351ed9eac04d9cd64827f4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a6de9cd0c9d351ed9eac04d9cd64827f4">INITIALIZER</a>&#160;&#160;&#160;<a class="el" href="../../d9/d5e/stdbool_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a></td></tr>
<tr class="separator:a6de9cd0c9d351ed9eac04d9cd64827f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae85e4c6cf761558babffa1b8af5baffc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#ae85e4c6cf761558babffa1b8af5baffc">IS_INITIALIZER</a>&#160;&#160;&#160;<a class="el" href="../../d8/d80/jemalloc_8c.html#a8400570f1e40143af4be1cfc16f3faf1">malloc_initializer</a></td></tr>
<tr class="separator:ae85e4c6cf761558babffa1b8af5baffc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6bcbb3858b3ceee509112e7b82b2d2f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#ac6bcbb3858b3ceee509112e7b82b2d2f">UTRACE</a>(a,  <a class="el" href="../../df/d31/prof_8c.html#a3fca4d23183335e3d46f507d28e94e8b">b</a>,  c)</td></tr>
<tr class="separator:ac6bcbb3858b3ceee509112e7b82b2d2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeaa24adf279828db3df5186af346686"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#adeaa24adf279828db3df5186af346686">OPTION</a>(o,  v,  d,  s)&#160;&#160;&#160;case o: break;</td></tr>
<tr class="separator:adeaa24adf279828db3df5186af346686"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac22db27019ac8c549ec10997d1509d7d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#ac22db27019ac8c549ec10997d1509d7d">MALLOC_CONF_NSOURCES</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:ac22db27019ac8c549ec10997d1509d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc82e6bbf4b5be96087f18ffaed6da5c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#adc82e6bbf4b5be96087f18ffaed6da5c">CONF_ERROR</a>(msg,  k,  klen,  v,  vlen)</td></tr>
<tr class="separator:adc82e6bbf4b5be96087f18ffaed6da5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc7d87677ec3b88c2102fb9aaf1a2fdb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#afc7d87677ec3b88c2102fb9aaf1a2fdb">CONF_CONTINUE</a></td></tr>
<tr class="separator:afc7d87677ec3b88c2102fb9aaf1a2fdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a865ae75505501aae4d21b77c92dc841c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a865ae75505501aae4d21b77c92dc841c">CONF_MATCH</a>(n)&#160;&#160;&#160;	(sizeof(n)-1 == klen &amp;&amp; strncmp(n, k, klen) == 0)</td></tr>
<tr class="separator:a865ae75505501aae4d21b77c92dc841c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7cba9b4231871a5bcfc900faf555263"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#af7cba9b4231871a5bcfc900faf555263">CONF_MATCH_VALUE</a>(n)&#160;&#160;&#160;	(sizeof(n)-1 == vlen &amp;&amp; strncmp(n, v, vlen) == 0)</td></tr>
<tr class="separator:af7cba9b4231871a5bcfc900faf555263"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5540c28741aa39b34c2a8a2a9a605e73"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a5540c28741aa39b34c2a8a2a9a605e73">CONF_HANDLE_BOOL</a>(o,  n)</td></tr>
<tr class="separator:a5540c28741aa39b34c2a8a2a9a605e73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90de27f4b8326502dc65b7057ab586d7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a90de27f4b8326502dc65b7057ab586d7">CONF_DONT_CHECK_MIN</a>(um,  <a class="el" href="../../d9/df6/my__global_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>)&#160;&#160;&#160;<a class="el" href="../../d9/d5e/stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></td></tr>
<tr class="separator:a90de27f4b8326502dc65b7057ab586d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9357f99d76f60cf152a2924be0c61be2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a9357f99d76f60cf152a2924be0c61be2">CONF_CHECK_MIN</a>(um,  <a class="el" href="../../d9/df6/my__global_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>)&#160;&#160;&#160;((um) &lt; (<a class="el" href="../../d9/df6/my__global_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>))</td></tr>
<tr class="separator:a9357f99d76f60cf152a2924be0c61be2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95ce7c59321cc3cd5aeb14f80d46c95f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a95ce7c59321cc3cd5aeb14f80d46c95f">CONF_DONT_CHECK_MAX</a>(um,  <a class="el" href="../../d9/df6/my__global_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>)&#160;&#160;&#160;<a class="el" href="../../d9/d5e/stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></td></tr>
<tr class="separator:a95ce7c59321cc3cd5aeb14f80d46c95f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56ea703d09898b2be7228ef705cddb51"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a56ea703d09898b2be7228ef705cddb51">CONF_CHECK_MAX</a>(um,  <a class="el" href="../../d9/df6/my__global_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>)&#160;&#160;&#160;((um) &gt; (<a class="el" href="../../d9/df6/my__global_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>))</td></tr>
<tr class="separator:a56ea703d09898b2be7228ef705cddb51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a546c222d2e7ab0a5c8779c35089695d1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a546c222d2e7ab0a5c8779c35089695d1">CONF_HANDLE_T_U</a>(t,  o,  n,  <a class="el" href="../../d9/df6/my__global_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>,  <a class="el" href="../../d9/df6/my__global_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>,  check_min,  check_max,  clip)</td></tr>
<tr class="separator:a546c222d2e7ab0a5c8779c35089695d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac693bc5ba5788399a6409a258e558166"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#ac693bc5ba5788399a6409a258e558166">CONF_HANDLE_UNSIGNED</a>(o,  n,  <a class="el" href="../../d9/df6/my__global_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>,  <a class="el" href="../../d9/df6/my__global_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>,  check_min,  check_max,  clip)</td></tr>
<tr class="separator:ac693bc5ba5788399a6409a258e558166"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a285632ddc2228220acc4245a16239c3a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a285632ddc2228220acc4245a16239c3a">CONF_HANDLE_SIZE_T</a>(o,  n,  <a class="el" href="../../d9/df6/my__global_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>,  <a class="el" href="../../d9/df6/my__global_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>,  check_min,  check_max,  clip)</td></tr>
<tr class="separator:a285632ddc2228220acc4245a16239c3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eb604d85b3b2b97aaa3c3f96c4cf2c5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a1eb604d85b3b2b97aaa3c3f96c4cf2c5">CONF_HANDLE_SSIZE_T</a>(o,  n,  <a class="el" href="../../d9/df6/my__global_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>,  <a class="el" href="../../d9/df6/my__global_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>)</td></tr>
<tr class="separator:a1eb604d85b3b2b97aaa3c3f96c4cf2c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f39a8f55c52bab1dde2a7785424dafc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a2f39a8f55c52bab1dde2a7785424dafc">CONF_HANDLE_CHAR_P</a>(o,  n,  d)</td></tr>
<tr class="separator:a2f39a8f55c52bab1dde2a7785424dafc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4fe1a86c7b6e4fdef78f0792519d473"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#ae4fe1a86c7b6e4fdef78f0792519d473">UNLOCK_RETURN</a>(tsdn,  <a class="el" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>,  reentrancy)</td></tr>
<tr class="separator:ae4fe1a86c7b6e4fdef78f0792519d473"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a547d79639d1847a9d5a354799a989a6d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a547d79639d1847a9d5a354799a989a6d">TCACHE_IND_NONE</a>&#160;&#160;&#160;((unsigned)-1)</td></tr>
<tr class="separator:a547d79639d1847a9d5a354799a989a6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a089922bccba51a5452ad46e30a6e1572"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a089922bccba51a5452ad46e30a6e1572">TCACHE_IND_AUTOMATIC</a>&#160;&#160;&#160;((unsigned)-2)</td></tr>
<tr class="separator:a089922bccba51a5452ad46e30a6e1572"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a698bb0ab65b175bfa83ee515e5489dcc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a698bb0ab65b175bfa83ee515e5489dcc">ARENA_IND_AUTOMATIC</a>&#160;&#160;&#160;((unsigned)-1)</td></tr>
<tr class="separator:a698bb0ab65b175bfa83ee515e5489dcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a1d90a39f861fd6f06172a5647dc3c409"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../d6/d7c/structstatic__opts__s.html">static_opts_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a1d90a39f861fd6f06172a5647dc3c409">static_opts_t</a></td></tr>
<tr class="separator:a1d90a39f861fd6f06172a5647dc3c409"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac85ffbc3906fc597d30fd0db704f0274"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../d0/d96/structdynamic__opts__s.html">dynamic_opts_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#ac85ffbc3906fc597d30fd0db704f0274">dynamic_opts_t</a></td></tr>
<tr class="separator:ac85ffbc3906fc597d30fd0db704f0274"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a5d300f5734516669c0ae1049d529a2be"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a5d300f5734516669c0ae1049d529a2be">malloc_init_t</a> { <a class="el" href="../../d8/d80/jemalloc_8c.html#a5d300f5734516669c0ae1049d529a2bead6292aed10e45dfd5ff7df99194a5c4a">malloc_init_uninitialized</a> = 3
, <a class="el" href="../../d8/d80/jemalloc_8c.html#a5d300f5734516669c0ae1049d529a2bea589bae8a3cf89c6f94e7c317285d71c1">malloc_init_a0_initialized</a> = 2
, <a class="el" href="../../d8/d80/jemalloc_8c.html#a5d300f5734516669c0ae1049d529a2bea63b46c755cfbec0e45dd57d21586e47b">malloc_init_recursible</a> = 1
, <a class="el" href="../../d8/d80/jemalloc_8c.html#a5d300f5734516669c0ae1049d529a2bea98fb0f3bceca1918adec6c0f8ca43368">malloc_init_initialized</a> = 0
 }</td></tr>
<tr class="separator:a5d300f5734516669c0ae1049d529a2be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fb9092bcdeada2d206bdc74afbbe122"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="../../d8/d80/jemalloc_8c.html#a1fb9092bcdeada2d206bdc74afbbe122a8049c6a2d986d20eead9ace7e8195d90">flag_opt_junk_alloc</a> = (1U)
, <a class="el" href="../../d8/d80/jemalloc_8c.html#a1fb9092bcdeada2d206bdc74afbbe122a58caf58b3925c7f45176a453c366f2a0">flag_opt_junk_free</a> = (1U &lt;&lt; 1)
, <a class="el" href="../../d8/d80/jemalloc_8c.html#a1fb9092bcdeada2d206bdc74afbbe122aeba436f0f87c3a877f0c609c5177fbeb">flag_opt_zero</a> = (1U &lt;&lt; 2)
, <a class="el" href="../../d8/d80/jemalloc_8c.html#a1fb9092bcdeada2d206bdc74afbbe122af149e3d5339e6e6e48e6f895474e3865">flag_opt_utrace</a> = (1U &lt;&lt; 3)
, <br />
&#160;&#160;<a class="el" href="../../d8/d80/jemalloc_8c.html#a1fb9092bcdeada2d206bdc74afbbe122a18f644a061eaf2b78420d8e6a61659e9">flag_opt_xmalloc</a> = (1U &lt;&lt; 4)
<br />
 }</td></tr>
<tr class="separator:a1fb9092bcdeada2d206bdc74afbbe122"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af6586c24937d6f399d32789bb102ecc8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#af6586c24937d6f399d32789bb102ecc8">malloc_init_hard_a0</a> (void)</td></tr>
<tr class="separator:af6586c24937d6f399d32789bb102ecc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c1ea0cfb9ed4a4da64de3cee0d04ad3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a2c1ea0cfb9ed4a4da64de3cee0d04ad3">malloc_init_hard</a> (void)</td></tr>
<tr class="separator:a2c1ea0cfb9ed4a4da64de3cee0d04ad3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01b7b0d8bcb19acba3bdea9fcb06cd7b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a01b7b0d8bcb19acba3bdea9fcb06cd7b">malloc_initialized</a> (void)</td></tr>
<tr class="separator:a01b7b0d8bcb19acba3bdea9fcb06cd7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c616b901f9ba5120368b5be68ef7f3a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a5c616b901f9ba5120368b5be68ef7f3a">malloc_init_a0</a> (void)</td></tr>
<tr class="separator:a5c616b901f9ba5120368b5be68ef7f3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a293cf98baff03c7fb3581b2d6a86dc3d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a293cf98baff03c7fb3581b2d6a86dc3d">malloc_init</a> (void)</td></tr>
<tr class="separator:a293cf98baff03c7fb3581b2d6a86dc3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9ff561da5d3f1a5e656c4837dea6f77"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#af9ff561da5d3f1a5e656c4837dea6f77">a0ialloc</a> (size_t size, <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> zero, <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> is_internal)</td></tr>
<tr class="separator:af9ff561da5d3f1a5e656c4837dea6f77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe1e47e1fa4f829e8c111c4c3f389fdc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#afe1e47e1fa4f829e8c111c4c3f389fdc">a0idalloc</a> (void *<a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#aa6ec2d4315570f27d9637ce3c770e787">ptr</a>, <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> is_internal)</td></tr>
<tr class="separator:afe1e47e1fa4f829e8c111c4c3f389fdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09ca1dbe9a31eeae0defd51fa17514ae"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a09ca1dbe9a31eeae0defd51fa17514ae">a0malloc</a> (size_t size)</td></tr>
<tr class="separator:a09ca1dbe9a31eeae0defd51fa17514ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae36b0c28334a91f4e47068093f14e7c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#ae36b0c28334a91f4e47068093f14e7c9">a0dalloc</a> (void *<a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#aa6ec2d4315570f27d9637ce3c770e787">ptr</a>)</td></tr>
<tr class="separator:ae36b0c28334a91f4e47068093f14e7c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7da19b772cc5105e6e7948a9364474a0"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a7da19b772cc5105e6e7948a9364474a0">bootstrap_malloc</a> (size_t size)</td></tr>
<tr class="separator:a7da19b772cc5105e6e7948a9364474a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a9d2c5789fdacdd85310f4f6dee359f"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a7a9d2c5789fdacdd85310f4f6dee359f">bootstrap_calloc</a> (size_t num, size_t size)</td></tr>
<tr class="separator:a7a9d2c5789fdacdd85310f4f6dee359f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ef70288b6bf0bc5482a01c047a094eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a8ef70288b6bf0bc5482a01c047a094eb">bootstrap_free</a> (void *<a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#aa6ec2d4315570f27d9637ce3c770e787">ptr</a>)</td></tr>
<tr class="separator:a8ef70288b6bf0bc5482a01c047a094eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab38b484579c03fb2dd6b55382040bd92"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#ab38b484579c03fb2dd6b55382040bd92">arena_set</a> (unsigned ind, <a class="el" href="../../d8/d5e/arena__types_8h.html#a75ec58797d4c793b05def94ed85c6bdc">arena_t</a> *<a class="el" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>)</td></tr>
<tr class="separator:ab38b484579c03fb2dd6b55382040bd92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae99f958e7f12e1e470a0cc8dba7a9e03"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#ae99f958e7f12e1e470a0cc8dba7a9e03">narenas_total_set</a> (unsigned narenas)</td></tr>
<tr class="separator:ae99f958e7f12e1e470a0cc8dba7a9e03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dfe917fd6b4618d5c4f3703ae8dfc99"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a6dfe917fd6b4618d5c4f3703ae8dfc99">narenas_total_inc</a> (void)</td></tr>
<tr class="separator:a6dfe917fd6b4618d5c4f3703ae8dfc99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5770c88b2b0c8dd5c610f366f9b160e1"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a5770c88b2b0c8dd5c610f366f9b160e1">narenas_total_get</a> (void)</td></tr>
<tr class="separator:a5770c88b2b0c8dd5c610f366f9b160e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b9044614d96e3a1b281d53ddfa0752f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d8/d5e/arena__types_8h.html#a75ec58797d4c793b05def94ed85c6bdc">arena_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a7b9044614d96e3a1b281d53ddfa0752f">arena_init_locked</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *tsdn, unsigned ind, <a class="el" href="../../d5/dee/jemalloc_8h.html#ae56a2325ce153c144be31a50c5d140f4">extent_hooks_t</a> *extent_hooks)</td></tr>
<tr class="separator:a7b9044614d96e3a1b281d53ddfa0752f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56e94527f06f0393905c286f5577b358"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a56e94527f06f0393905c286f5577b358">arena_new_create_background_thread</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *tsdn, unsigned ind)</td></tr>
<tr class="separator:a56e94527f06f0393905c286f5577b358"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23a2391c4ae19597391e5e93f560ce41"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d5e/arena__types_8h.html#a75ec58797d4c793b05def94ed85c6bdc">arena_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a23a2391c4ae19597391e5e93f560ce41">arena_init</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *tsdn, unsigned ind, <a class="el" href="../../d5/dee/jemalloc_8h.html#ae56a2325ce153c144be31a50c5d140f4">extent_hooks_t</a> *extent_hooks)</td></tr>
<tr class="separator:a23a2391c4ae19597391e5e93f560ce41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa21d964b9d890dd25c5bb470eb22a17e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#aa21d964b9d890dd25c5bb470eb22a17e">arena_bind</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *tsd, unsigned ind, <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> internal)</td></tr>
<tr class="separator:aa21d964b9d890dd25c5bb470eb22a17e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc022d852b359588883f5540fb2e3331"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#acc022d852b359588883f5540fb2e3331">arena_migrate</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *tsd, unsigned oldind, unsigned newind)</td></tr>
<tr class="separator:acc022d852b359588883f5540fb2e3331"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8829a0559f24f7eb6523dedc727ae56d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a8829a0559f24f7eb6523dedc727ae56d">arena_unbind</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *tsd, unsigned ind, <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> internal)</td></tr>
<tr class="separator:a8829a0559f24f7eb6523dedc727ae56d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab90091d79e4a43ba66568c65116b0685"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d5e/arena__types_8h.html#a5ef4b03a2e959bc0484b87ccde88afc5">arena_tdata_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#ab90091d79e4a43ba66568c65116b0685">arena_tdata_get_hard</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *tsd, unsigned ind)</td></tr>
<tr class="separator:ab90091d79e4a43ba66568c65116b0685"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0af550f600c2bb226f05e1ace9c76c7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d5e/arena__types_8h.html#a75ec58797d4c793b05def94ed85c6bdc">arena_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#ae0af550f600c2bb226f05e1ace9c76c7">arena_choose_hard</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *tsd, <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> internal)</td></tr>
<tr class="separator:ae0af550f600c2bb226f05e1ace9c76c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69674e0e0c1ba2064c58fb0f2821c180"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a69674e0e0c1ba2064c58fb0f2821c180">iarena_cleanup</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *tsd)</td></tr>
<tr class="separator:a69674e0e0c1ba2064c58fb0f2821c180"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad872a16b200e178fc3bc6fee3f84ede5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#ad872a16b200e178fc3bc6fee3f84ede5">arena_cleanup</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *tsd)</td></tr>
<tr class="separator:ad872a16b200e178fc3bc6fee3f84ede5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e38d282bc2e69c45ee652459f32fc10"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a3e38d282bc2e69c45ee652459f32fc10">arenas_tdata_cleanup</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *tsd)</td></tr>
<tr class="separator:a3e38d282bc2e69c45ee652459f32fc10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a146ce08675a6dab3ea9abb47608ee491"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a146ce08675a6dab3ea9abb47608ee491">stats_print_atexit</a> (void)</td></tr>
<tr class="separator:a146ce08675a6dab3ea9abb47608ee491"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab159f1c3520c779394df6b2c2038a3c0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *tsdn)</td></tr>
<tr class="separator:ab159f1c3520c779394df6b2c2038a3c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f0bbaff7c03a202069cec2a7ac25707"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a3f0bbaff7c03a202069cec2a7ac25707">jemalloc_secure_getenv</a> (<a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *name)</td></tr>
<tr class="separator:a3f0bbaff7c03a202069cec2a7ac25707"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f2483bf63304825e80397be1f295c67"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a4f2483bf63304825e80397be1f295c67">malloc_ncpus</a> (void)</td></tr>
<tr class="separator:a4f2483bf63304825e80397be1f295c67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f7c08580dd383f37407183db1d72b65"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a9f7c08580dd383f37407183db1d72b65">init_opt_stats_print_opts</a> (<a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *v, size_t vlen)</td></tr>
<tr class="separator:a9f7c08580dd383f37407183db1d72b65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d90b5fac834c14f5f2235e3e61b4040"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a1d90b5fac834c14f5f2235e3e61b4040">malloc_conf_multi_sizes_next</a> (<a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char **slab_size_segment_cur, size_t *vlen_left, size_t *slab_start, size_t *slab_end, size_t *new_size)</td></tr>
<tr class="separator:a1d90b5fac834c14f5f2235e3e61b4040"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e0739ebf372b760fae659f3bdc431c2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a6e0739ebf372b760fae659f3bdc431c2">malloc_conf_next</a> (char <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> **opts_p, char <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> **k_p, size_t *klen_p, char <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> **v_p, size_t *vlen_p)</td></tr>
<tr class="separator:a6e0739ebf372b760fae659f3bdc431c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c02493047521bab55347d4d2457b5ae"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a5c02493047521bab55347d4d2457b5ae">malloc_abort_invalid_conf</a> (void)</td></tr>
<tr class="separator:a5c02493047521bab55347d4d2457b5ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dbb77e2b90f01d64270d30277d6a232"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a0dbb77e2b90f01d64270d30277d6a232">malloc_conf_error</a> (<a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *msg, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *k, size_t klen, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *v, size_t vlen)</td></tr>
<tr class="separator:a0dbb77e2b90f01d64270d30277d6a232"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3889307af5e20e24de40d2efcaa83a38"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a3889307af5e20e24de40d2efcaa83a38">malloc_slow_flag_init</a> (void)</td></tr>
<tr class="separator:a3889307af5e20e24de40d2efcaa83a38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adae7e94321e7cd2c88af97c9113766cc"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#adae7e94321e7cd2c88af97c9113766cc">obtain_malloc_conf</a> (unsigned which_source, char buf[PATH_MAX+1])</td></tr>
<tr class="separator:adae7e94321e7cd2c88af97c9113766cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a700c764ae92430f237a3967dc9b51351"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a700c764ae92430f237a3967dc9b51351">malloc_conf_init_helper</a> (<a class="el" href="../../d9/d50/sc_8h.html#a2a21985e2ff9c14e556cb0433cde3093">sc_data_t</a> *sc_data, unsigned bin_shard_sizes[<a class="el" href="../../d9/d50/sc_8h.html#a27ab0819dfe55034e37976d220e9940c">SC_NBINS</a>], <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> initial_call, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *opts_cache[<a class="el" href="../../d8/d80/jemalloc_8c.html#ac22db27019ac8c549ec10997d1509d7d">MALLOC_CONF_NSOURCES</a>], char buf[PATH_MAX+1])</td></tr>
<tr class="separator:a700c764ae92430f237a3967dc9b51351"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb11fc9275df8e40d353b32c8d8716c0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#acb11fc9275df8e40d353b32c8d8716c0">malloc_conf_init</a> (<a class="el" href="../../d9/d50/sc_8h.html#a2a21985e2ff9c14e556cb0433cde3093">sc_data_t</a> *sc_data, unsigned bin_shard_sizes[<a class="el" href="../../d9/d50/sc_8h.html#a27ab0819dfe55034e37976d220e9940c">SC_NBINS</a>])</td></tr>
<tr class="separator:acb11fc9275df8e40d353b32c8d8716c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a425c9916b890012174ef97fac442187b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a425c9916b890012174ef97fac442187b">malloc_init_hard_needed</a> (void)</td></tr>
<tr class="separator:a425c9916b890012174ef97fac442187b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc4cf7044f79b04085885460d4b8e715"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#acc4cf7044f79b04085885460d4b8e715">malloc_init_hard_a0_locked</a> ()</td></tr>
<tr class="separator:acc4cf7044f79b04085885460d4b8e715"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcafbf9ecb8b6b72db2f915e16734b81"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#adcafbf9ecb8b6b72db2f915e16734b81">malloc_init_hard_recursible</a> (void)</td></tr>
<tr class="separator:adcafbf9ecb8b6b72db2f915e16734b81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7275363a7610ce2513bd4d10804927d1"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a7275363a7610ce2513bd4d10804927d1">malloc_narenas_default</a> (void)</td></tr>
<tr class="separator:a7275363a7610ce2513bd4d10804927d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80e6b15ee964bee5c73dff0d85254bdc"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d8/d5e/arena__types_8h.html#a8fefe7a12391be829a0a5bd781ec8528">percpu_arena_mode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a80e6b15ee964bee5c73dff0d85254bdc">percpu_arena_as_initialized</a> (<a class="el" href="../../d8/d5e/arena__types_8h.html#a8fefe7a12391be829a0a5bd781ec8528">percpu_arena_mode_t</a> mode)</td></tr>
<tr class="separator:a80e6b15ee964bee5c73dff0d85254bdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b0f70083639b2a058577f212556550d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a0b0f70083639b2a058577f212556550d">malloc_init_narenas</a> (void)</td></tr>
<tr class="separator:a0b0f70083639b2a058577f212556550d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8b19a69f3c74ee421d1de124438e291"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#ac8b19a69f3c74ee421d1de124438e291">malloc_init_percpu</a> (void)</td></tr>
<tr class="separator:ac8b19a69f3c74ee421d1de124438e291"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9da36721bf0d23235f26aa5daf2149e5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a9da36721bf0d23235f26aa5daf2149e5">malloc_init_hard_finish</a> (void)</td></tr>
<tr class="separator:a9da36721bf0d23235f26aa5daf2149e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94b8c9ae2e64ca1ad662c6e3bcb30af8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a94b8c9ae2e64ca1ad662c6e3bcb30af8">malloc_init_hard_cleanup</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *tsdn, <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> reentrancy_set)</td></tr>
<tr class="separator:a94b8c9ae2e64ca1ad662c6e3bcb30af8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcaa042370db1f2f2786830cc4b8ed80"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#afcaa042370db1f2f2786830cc4b8ed80">static_opts_init</a> (<a class="el" href="../../d8/d80/jemalloc_8c.html#a1d90a39f861fd6f06172a5647dc3c409">static_opts_t</a> *static_opts)</td></tr>
<tr class="separator:afcaa042370db1f2f2786830cc4b8ed80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab053d14ca62b4edf38d6165e66cd375f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#ab053d14ca62b4edf38d6165e66cd375f">dynamic_opts_init</a> (<a class="el" href="../../d8/d80/jemalloc_8c.html#ac85ffbc3906fc597d30fd0db704f0274">dynamic_opts_t</a> *dynamic_opts)</td></tr>
<tr class="separator:ab053d14ca62b4edf38d6165e66cd375f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39f6ceb222f55b6218b15ff818c7a903"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a39f6ceb222f55b6218b15ff818c7a903">imalloc_no_sample</a> (<a class="el" href="../../d8/d80/jemalloc_8c.html#a1d90a39f861fd6f06172a5647dc3c409">static_opts_t</a> *sopts, <a class="el" href="../../d8/d80/jemalloc_8c.html#ac85ffbc3906fc597d30fd0db704f0274">dynamic_opts_t</a> *dopts, <a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *tsd, size_t size, size_t usize, <a class="el" href="../../dc/dc4/jemalloc__internal__types_8h.html#a09eb24f5d01f07b2e22afae9a52820d7">szind_t</a> ind)</td></tr>
<tr class="separator:a39f6ceb222f55b6218b15ff818c7a903"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a870870f547900681db6f244c538827a5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a870870f547900681db6f244c538827a5">imalloc_sample</a> (<a class="el" href="../../d8/d80/jemalloc_8c.html#a1d90a39f861fd6f06172a5647dc3c409">static_opts_t</a> *sopts, <a class="el" href="../../d8/d80/jemalloc_8c.html#ac85ffbc3906fc597d30fd0db704f0274">dynamic_opts_t</a> *dopts, <a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *tsd, size_t usize, <a class="el" href="../../dc/dc4/jemalloc__internal__types_8h.html#a09eb24f5d01f07b2e22afae9a52820d7">szind_t</a> ind)</td></tr>
<tr class="separator:a870870f547900681db6f244c538827a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a841707a7d2371a5c4f14e2d72ffca96d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a841707a7d2371a5c4f14e2d72ffca96d">compute_size_with_overflow</a> (<a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> may_overflow, <a class="el" href="../../d8/d80/jemalloc_8c.html#ac85ffbc3906fc597d30fd0db704f0274">dynamic_opts_t</a> *dopts, size_t *size)</td></tr>
<tr class="separator:a841707a7d2371a5c4f14e2d72ffca96d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaebaaa2d9f8a5577ffc4b1712af5798d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#aaebaaa2d9f8a5577ffc4b1712af5798d">imalloc_body</a> (<a class="el" href="../../d8/d80/jemalloc_8c.html#a1d90a39f861fd6f06172a5647dc3c409">static_opts_t</a> *sopts, <a class="el" href="../../d8/d80/jemalloc_8c.html#ac85ffbc3906fc597d30fd0db704f0274">dynamic_opts_t</a> *dopts, <a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *tsd)</td></tr>
<tr class="separator:aaebaaa2d9f8a5577ffc4b1712af5798d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1caf8f281453f9dcd53df81d72690b9b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a1caf8f281453f9dcd53df81d72690b9b">imalloc_init_check</a> (<a class="el" href="../../d8/d80/jemalloc_8c.html#a1d90a39f861fd6f06172a5647dc3c409">static_opts_t</a> *sopts, <a class="el" href="../../d8/d80/jemalloc_8c.html#ac85ffbc3906fc597d30fd0db704f0274">dynamic_opts_t</a> *dopts)</td></tr>
<tr class="separator:a1caf8f281453f9dcd53df81d72690b9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a507ab410a72f86f0d98ca025ce86d788"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a507ab410a72f86f0d98ca025ce86d788">imalloc</a> (<a class="el" href="../../d8/d80/jemalloc_8c.html#a1d90a39f861fd6f06172a5647dc3c409">static_opts_t</a> *sopts, <a class="el" href="../../d8/d80/jemalloc_8c.html#ac85ffbc3906fc597d30fd0db704f0274">dynamic_opts_t</a> *dopts)</td></tr>
<tr class="separator:a507ab410a72f86f0d98ca025ce86d788"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66b5864d08f06681b7f3c9034fa0d91"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/dee/jemalloc_8h.html#a33ce01f92103ee0fd1dc201fcd3551e8">JEMALLOC_NOINLINE</a> void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#ae66b5864d08f06681b7f3c9034fa0d91">malloc_default</a> (size_t size)</td></tr>
<tr class="separator:ae66b5864d08f06681b7f3c9034fa0d91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe58a68e9cbc5c8ac7c765f82c4546fa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/dee/jemalloc_8h.html#aba3724e4c028b9b7041a83ad03ab1725">JEMALLOC_EXPORT</a> <a class="el" href="../../d5/dee/jemalloc_8h.html#af722c9f95beb57e535e748b28813347f">JEMALLOC_ALLOCATOR</a> <a class="el" href="../../d5/dee/jemalloc_8h.html#a06b1c64251b2ff6371512aeab6ab46ef">JEMALLOC_RESTRICT_RETURN</a> void <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#afe58a68e9cbc5c8ac7c765f82c4546fa">JEMALLOC_ATTR</a> (malloc)</td></tr>
<tr class="separator:afe58a68e9cbc5c8ac7c765f82c4546fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4e1da1d098eefa7a5b0e127288547c9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/dee/jemalloc_8h.html#aba3724e4c028b9b7041a83ad03ab1725">JEMALLOC_EXPORT</a> int <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#ad4e1da1d098eefa7a5b0e127288547c9">je_posix_memalign</a> (void **memptr, size_t alignment, size_t size)</td></tr>
<tr class="separator:ad4e1da1d098eefa7a5b0e127288547c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36f1a1c6880b8a3411a3a0e79c3cf370"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a36f1a1c6880b8a3411a3a0e79c3cf370">irealloc_prof_sample</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *tsd, void *old_ptr, size_t old_usize, size_t usize, <a class="el" href="../../da/d2c/prof__types_8h.html#abeea2850aa56b1f29482d3fae1e83785">prof_tctx_t</a> *<a class="el" href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a>, <a class="el" href="../../d6/d34/hook_8h.html#aeca480b4e2ff00c366fd538a7646401f">hook_ralloc_args_t</a> *hook_args)</td></tr>
<tr class="separator:a36f1a1c6880b8a3411a3a0e79c3cf370"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a561115c34dfd12eba19d511525df29eb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a561115c34dfd12eba19d511525df29eb">irealloc_prof</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *tsd, void *old_ptr, size_t old_usize, size_t usize, <a class="el" href="../../d8/d5e/arena__types_8h.html#a8b3a06ac6fe6eb95c8f5b3de1241049a">alloc_ctx_t</a> *alloc_ctx, <a class="el" href="../../d6/d34/hook_8h.html#aeca480b4e2ff00c366fd538a7646401f">hook_ralloc_args_t</a> *hook_args)</td></tr>
<tr class="separator:a561115c34dfd12eba19d511525df29eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6d1ee3e064dc8bbb43b91362b19dd2c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#ae6d1ee3e064dc8bbb43b91362b19dd2c">ifree</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *tsd, void *<a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#aa6ec2d4315570f27d9637ce3c770e787">ptr</a>, <a class="el" href="../../d9/d7d/tcache__types_8h.html#a6d7a41c928468d38e45e4cb0767932e6">tcache_t</a> *tcache, <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> slow_path)</td></tr>
<tr class="separator:ae6d1ee3e064dc8bbb43b91362b19dd2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3345466d80e4ee71655dc31ae0419553"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a3345466d80e4ee71655dc31ae0419553">isfree</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *tsd, void *<a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#aa6ec2d4315570f27d9637ce3c770e787">ptr</a>, size_t usize, <a class="el" href="../../d9/d7d/tcache__types_8h.html#a6d7a41c928468d38e45e4cb0767932e6">tcache_t</a> *tcache, <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> slow_path)</td></tr>
<tr class="separator:a3345466d80e4ee71655dc31ae0419553"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d5383d3edb95ceb96fa7724ad69e6ab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/dee/jemalloc_8h.html#aba3724e4c028b9b7041a83ad03ab1725">JEMALLOC_EXPORT</a> <a class="el" href="../../d5/dee/jemalloc_8h.html#af722c9f95beb57e535e748b28813347f">JEMALLOC_ALLOCATOR</a> <a class="el" href="../../d5/dee/jemalloc_8h.html#a06b1c64251b2ff6371512aeab6ab46ef">JEMALLOC_RESTRICT_RETURN</a> void <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a0d5383d3edb95ceb96fa7724ad69e6ab">je_realloc</a> (void *<a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#aa6ec2d4315570f27d9637ce3c770e787">ptr</a>, size_t arg_size)</td></tr>
<tr class="separator:a0d5383d3edb95ceb96fa7724ad69e6ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adad8f676c21d5299883d9e98226aafee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/dee/jemalloc_8h.html#a33ce01f92103ee0fd1dc201fcd3551e8">JEMALLOC_NOINLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#adad8f676c21d5299883d9e98226aafee">free_default</a> (void *<a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#aa6ec2d4315570f27d9637ce3c770e787">ptr</a>)</td></tr>
<tr class="separator:adad8f676c21d5299883d9e98226aafee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a540a0ea0cb6406de249e499422b9acd8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a540a0ea0cb6406de249e499422b9acd8">free_fastpath</a> (void *<a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#aa6ec2d4315570f27d9637ce3c770e787">ptr</a>, size_t size, <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> size_hint)</td></tr>
<tr class="separator:a540a0ea0cb6406de249e499422b9acd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaaf44dc4e4de16a1402c6adc9aaac6f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/dee/jemalloc_8h.html#aba3724e4c028b9b7041a83ad03ab1725">JEMALLOC_EXPORT</a> void <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#adaaf44dc4e4de16a1402c6adc9aaac6f">je_free</a> (void *<a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#aa6ec2d4315570f27d9637ce3c770e787">ptr</a>)</td></tr>
<tr class="separator:adaaf44dc4e4de16a1402c6adc9aaac6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2917306ca7a33c7e35bfb18cf1683a1d"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a2917306ca7a33c7e35bfb18cf1683a1d">irallocx_prof_sample</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *tsdn, void *old_ptr, size_t old_usize, size_t usize, size_t alignment, <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> zero, <a class="el" href="../../d9/d7d/tcache__types_8h.html#a6d7a41c928468d38e45e4cb0767932e6">tcache_t</a> *tcache, <a class="el" href="../../d8/d5e/arena__types_8h.html#a75ec58797d4c793b05def94ed85c6bdc">arena_t</a> *<a class="el" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>, <a class="el" href="../../da/d2c/prof__types_8h.html#abeea2850aa56b1f29482d3fae1e83785">prof_tctx_t</a> *<a class="el" href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a>, <a class="el" href="../../d6/d34/hook_8h.html#aeca480b4e2ff00c366fd538a7646401f">hook_ralloc_args_t</a> *hook_args)</td></tr>
<tr class="separator:a2917306ca7a33c7e35bfb18cf1683a1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcdf7a6eecc0c6489f6ca7a94b031476"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#adcdf7a6eecc0c6489f6ca7a94b031476">irallocx_prof</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *tsd, void *old_ptr, size_t old_usize, size_t size, size_t alignment, size_t *usize, <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> zero, <a class="el" href="../../d9/d7d/tcache__types_8h.html#a6d7a41c928468d38e45e4cb0767932e6">tcache_t</a> *tcache, <a class="el" href="../../d8/d5e/arena__types_8h.html#a75ec58797d4c793b05def94ed85c6bdc">arena_t</a> *<a class="el" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>, <a class="el" href="../../d8/d5e/arena__types_8h.html#a8b3a06ac6fe6eb95c8f5b3de1241049a">alloc_ctx_t</a> *alloc_ctx, <a class="el" href="../../d6/d34/hook_8h.html#aeca480b4e2ff00c366fd538a7646401f">hook_ralloc_args_t</a> *hook_args)</td></tr>
<tr class="separator:adcdf7a6eecc0c6489f6ca7a94b031476"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4d2000716ca4119e8671fd7e8696177"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/dee/jemalloc_8h.html#aba3724e4c028b9b7041a83ad03ab1725">JEMALLOC_EXPORT</a> <a class="el" href="../../d5/dee/jemalloc_8h.html#af722c9f95beb57e535e748b28813347f">JEMALLOC_ALLOCATOR</a> <a class="el" href="../../d5/dee/jemalloc_8h.html#a06b1c64251b2ff6371512aeab6ab46ef">JEMALLOC_RESTRICT_RETURN</a> void <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#ae4d2000716ca4119e8671fd7e8696177">je_rallocx</a> (void *<a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#aa6ec2d4315570f27d9637ce3c770e787">ptr</a>, size_t size, int flags)</td></tr>
<tr class="separator:ae4d2000716ca4119e8671fd7e8696177"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8345a4a77ae304813ddc984c1b0ff48"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#af8345a4a77ae304813ddc984c1b0ff48">ixallocx_helper</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *tsdn, void *<a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#aa6ec2d4315570f27d9637ce3c770e787">ptr</a>, size_t old_usize, size_t size, size_t extra, size_t alignment, <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> zero)</td></tr>
<tr class="separator:af8345a4a77ae304813ddc984c1b0ff48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabee1faa762c103251bcb7547465d1b2"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#aabee1faa762c103251bcb7547465d1b2">ixallocx_prof_sample</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *tsdn, void *<a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#aa6ec2d4315570f27d9637ce3c770e787">ptr</a>, size_t old_usize, size_t size, size_t extra, size_t alignment, <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> zero, <a class="el" href="../../da/d2c/prof__types_8h.html#abeea2850aa56b1f29482d3fae1e83785">prof_tctx_t</a> *<a class="el" href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a>)</td></tr>
<tr class="separator:aabee1faa762c103251bcb7547465d1b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bc8c87dbc68d9d584d5ce568c455338"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a0bc8c87dbc68d9d584d5ce568c455338">ixallocx_prof</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *tsd, void *<a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#aa6ec2d4315570f27d9637ce3c770e787">ptr</a>, size_t old_usize, size_t size, size_t extra, size_t alignment, <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> zero, <a class="el" href="../../d8/d5e/arena__types_8h.html#a8b3a06ac6fe6eb95c8f5b3de1241049a">alloc_ctx_t</a> *alloc_ctx)</td></tr>
<tr class="separator:a0bc8c87dbc68d9d584d5ce568c455338"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a8879834001a9d08507b7ebd6981de6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/dee/jemalloc_8h.html#aba3724e4c028b9b7041a83ad03ab1725">JEMALLOC_EXPORT</a> size_t <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a3a8879834001a9d08507b7ebd6981de6">je_xallocx</a> (void *<a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#aa6ec2d4315570f27d9637ce3c770e787">ptr</a>, size_t size, size_t extra, int flags)</td></tr>
<tr class="separator:a3a8879834001a9d08507b7ebd6981de6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4fa02e9e0e70cca7a8896a23ad5d1a7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/dee/jemalloc_8h.html#aba3724e4c028b9b7041a83ad03ab1725">JEMALLOC_EXPORT</a> size_t <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#ac4fa02e9e0e70cca7a8896a23ad5d1a7">je_sallocx</a> (<a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> void *<a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#aa6ec2d4315570f27d9637ce3c770e787">ptr</a>, int flags)</td></tr>
<tr class="separator:ac4fa02e9e0e70cca7a8896a23ad5d1a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9323a7214e5248e0ff72238ca7a30b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/dee/jemalloc_8h.html#aba3724e4c028b9b7041a83ad03ab1725">JEMALLOC_EXPORT</a> void <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#ae9323a7214e5248e0ff72238ca7a30b7">je_dallocx</a> (void *<a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#aa6ec2d4315570f27d9637ce3c770e787">ptr</a>, int flags)</td></tr>
<tr class="separator:ae9323a7214e5248e0ff72238ca7a30b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96e3a96612cb818d870f927d7b850e8e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a96e3a96612cb818d870f927d7b850e8e">inallocx</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *tsdn, size_t size, int flags)</td></tr>
<tr class="separator:a96e3a96612cb818d870f927d7b850e8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad18fce64fdae3679dd6286e7924f8bba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/dee/jemalloc_8h.html#a33ce01f92103ee0fd1dc201fcd3551e8">JEMALLOC_NOINLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#ad18fce64fdae3679dd6286e7924f8bba">sdallocx_default</a> (void *<a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#aa6ec2d4315570f27d9637ce3c770e787">ptr</a>, size_t size, int flags)</td></tr>
<tr class="separator:ad18fce64fdae3679dd6286e7924f8bba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21da9ddef7166899eb06d7a98261559b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/dee/jemalloc_8h.html#aba3724e4c028b9b7041a83ad03ab1725">JEMALLOC_EXPORT</a> void <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a21da9ddef7166899eb06d7a98261559b">je_sdallocx</a> (void *<a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#aa6ec2d4315570f27d9637ce3c770e787">ptr</a>, size_t size, int flags)</td></tr>
<tr class="separator:a21da9ddef7166899eb06d7a98261559b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7362acfedcf4dd276f22e81560c75864"><td class="memItemLeft" align="right" valign="top">void <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a7362acfedcf4dd276f22e81560c75864">je_sdallocx_noflags</a> (void *<a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#aa6ec2d4315570f27d9637ce3c770e787">ptr</a>, size_t size)</td></tr>
<tr class="separator:a7362acfedcf4dd276f22e81560c75864"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53623a68ff8f2f05d892cdb11f73e085"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/dee/jemalloc_8h.html#aba3724e4c028b9b7041a83ad03ab1725">JEMALLOC_EXPORT</a> size_t <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a53623a68ff8f2f05d892cdb11f73e085">je_nallocx</a> (size_t size, int flags)</td></tr>
<tr class="separator:a53623a68ff8f2f05d892cdb11f73e085"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4ae5e129bc437d9c7b0488f6fabd7f4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/dee/jemalloc_8h.html#aba3724e4c028b9b7041a83ad03ab1725">JEMALLOC_EXPORT</a> int <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#ad4ae5e129bc437d9c7b0488f6fabd7f4">je_mallctl</a> (<a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *name, void *oldp, size_t *oldlenp, void *newp, size_t newlen)</td></tr>
<tr class="separator:ad4ae5e129bc437d9c7b0488f6fabd7f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bfedd2a19b5b62f496ed798ee5523a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/dee/jemalloc_8h.html#aba3724e4c028b9b7041a83ad03ab1725">JEMALLOC_EXPORT</a> int <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a9bfedd2a19b5b62f496ed798ee5523a0">je_mallctlnametomib</a> (<a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *name, size_t *mibp, size_t *miblenp)</td></tr>
<tr class="separator:a9bfedd2a19b5b62f496ed798ee5523a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3688c3926f0ad2318a03387bd16e8dba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/dee/jemalloc_8h.html#aba3724e4c028b9b7041a83ad03ab1725">JEMALLOC_EXPORT</a> int <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a3688c3926f0ad2318a03387bd16e8dba">je_mallctlbymib</a> (<a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> size_t *mib, size_t miblen, void *oldp, size_t *oldlenp, void *newp, size_t newlen)</td></tr>
<tr class="separator:a3688c3926f0ad2318a03387bd16e8dba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cff7358b7ac52c39983f529258c0e12"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/dee/jemalloc_8h.html#aba3724e4c028b9b7041a83ad03ab1725">JEMALLOC_EXPORT</a> void <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a3cff7358b7ac52c39983f529258c0e12">je_malloc_stats_print</a> (void(*write_cb)(void *, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *), void *cbopaque, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *opts)</td></tr>
<tr class="separator:a3cff7358b7ac52c39983f529258c0e12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a519558a87cc339c59e9c82296307c05d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/dee/jemalloc_8h.html#aba3724e4c028b9b7041a83ad03ab1725">JEMALLOC_EXPORT</a> size_t <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a519558a87cc339c59e9c82296307c05d">je_malloc_usable_size</a> (<a class="el" href="../../d5/dee/jemalloc_8h.html#aa7d03785bedf846509bcd746fd5fba4a">JEMALLOC_USABLE_SIZE_CONST</a> void *<a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#aa6ec2d4315570f27d9637ce3c770e787">ptr</a>)</td></tr>
<tr class="separator:a519558a87cc339c59e9c82296307c05d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa90fcf43c871f87e109582ea32abf9ff"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#aa90fcf43c871f87e109582ea32abf9ff">jemalloc_constructor</a> (void)</td></tr>
<tr class="separator:aa90fcf43c871f87e109582ea32abf9ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbb5f6a79529bdd6ed63fbdfe8b8f524"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#acbb5f6a79529bdd6ed63fbdfe8b8f524">jemalloc_prefork</a> (void)</td></tr>
<tr class="separator:acbb5f6a79529bdd6ed63fbdfe8b8f524"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acde2a7596c29745b5796c706f3e4cc50"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#acde2a7596c29745b5796c706f3e4cc50">jemalloc_postfork_parent</a> (void)</td></tr>
<tr class="separator:acde2a7596c29745b5796c706f3e4cc50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cd53dded2a83e733236d3986ff126ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a8cd53dded2a83e733236d3986ff126ac">jemalloc_postfork_child</a> (void)</td></tr>
<tr class="separator:a8cd53dded2a83e733236d3986ff126ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:acc07984c0731c12cd227b0f6086254c7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#acc07984c0731c12cd227b0f6086254c7">je_malloc_conf</a></td></tr>
<tr class="separator:acc07984c0731c12cd227b0f6086254c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c1b61d3016ffe1bb7daf5d000c14ab9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a7c1b61d3016ffe1bb7daf5d000c14ab9">opt_abort</a></td></tr>
<tr class="separator:a7c1b61d3016ffe1bb7daf5d000c14ab9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a398e56ddef33deda34f9a8a040e3b008"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a398e56ddef33deda34f9a8a040e3b008">opt_abort_conf</a></td></tr>
<tr class="separator:a398e56ddef33deda34f9a8a040e3b008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48bd222d8fb563cc39f819a7b7f7f6e4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a48bd222d8fb563cc39f819a7b7f7f6e4">opt_confirm_conf</a> = <a class="el" href="../../d9/d5e/stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></td></tr>
<tr class="separator:a48bd222d8fb563cc39f819a7b7f7f6e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c3466e5c6fccbbcbbed933dc0264484"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a5c3466e5c6fccbbcbbed933dc0264484">opt_junk</a></td></tr>
<tr class="separator:a5c3466e5c6fccbbcbbed933dc0264484"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ccae085c69622115282f8427ddcf17e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a9ccae085c69622115282f8427ddcf17e">opt_junk_alloc</a></td></tr>
<tr class="separator:a9ccae085c69622115282f8427ddcf17e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff6fd647d678b35e59a0ab748d1314df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#aff6fd647d678b35e59a0ab748d1314df">opt_junk_free</a></td></tr>
<tr class="separator:aff6fd647d678b35e59a0ab748d1314df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56da2438511aa30130f1034b635452ba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a56da2438511aa30130f1034b635452ba">opt_utrace</a> = <a class="el" href="../../d9/d5e/stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></td></tr>
<tr class="separator:a56da2438511aa30130f1034b635452ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb699624a4c15add503df6cb54a5132e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#abb699624a4c15add503df6cb54a5132e">opt_xmalloc</a> = <a class="el" href="../../d9/d5e/stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></td></tr>
<tr class="separator:abb699624a4c15add503df6cb54a5132e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62715b37c6bb7259dc4b1b52a2294080"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a62715b37c6bb7259dc4b1b52a2294080">opt_zero</a> = <a class="el" href="../../d9/d5e/stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></td></tr>
<tr class="separator:a62715b37c6bb7259dc4b1b52a2294080"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98f27264f740a00e1c9acfc795862a73"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a98f27264f740a00e1c9acfc795862a73">opt_narenas</a> = 0</td></tr>
<tr class="separator:a98f27264f740a00e1c9acfc795862a73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a291a57628877b50ad8d0639b805a8595"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a291a57628877b50ad8d0639b805a8595">ncpus</a></td></tr>
<tr class="separator:a291a57628877b50ad8d0639b805a8595"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98e3833a2f20e314304e382556ec75f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/df8/mutex_8h.html#a1160dfc00be16f6378bd638157c903cd">malloc_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a98e3833a2f20e314304e382556ec75f1">arenas_lock</a></td></tr>
<tr class="separator:a98e3833a2f20e314304e382556ec75f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4c32fd6a358b290e1d8b304c44b313f"><td class="memItemLeft" align="right" valign="top">atomic_p_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#aa4c32fd6a358b290e1d8b304c44b313f">arenas</a> [<a class="el" href="../../dc/dc4/jemalloc__internal__types_8h.html#ab0acba69002a74c91fadd17848dc8030">MALLOCX_ARENA_LIMIT</a>]</td></tr>
<tr class="separator:aa4c32fd6a358b290e1d8b304c44b313f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53e13bc710cec2a1d6a2d130ca1c43f9"><td class="memItemLeft" align="right" valign="top">static atomic_u_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a53e13bc710cec2a1d6a2d130ca1c43f9">narenas_total</a></td></tr>
<tr class="separator:a53e13bc710cec2a1d6a2d130ca1c43f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f531dd76e2b7bed05becca9c598868c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d8/d5e/arena__types_8h.html#a75ec58797d4c793b05def94ed85c6bdc">arena_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a7f531dd76e2b7bed05becca9c598868c">a0</a></td></tr>
<tr class="separator:a7f531dd76e2b7bed05becca9c598868c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9d6a15b8260ba57e1781be757233789"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#ae9d6a15b8260ba57e1781be757233789">narenas_auto</a></td></tr>
<tr class="separator:ae9d6a15b8260ba57e1781be757233789"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76a1030556e1f53d588940e0e23761bc"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a76a1030556e1f53d588940e0e23761bc">manual_arena_base</a></td></tr>
<tr class="separator:a76a1030556e1f53d588940e0e23761bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa94afe6cfd4412d842b50d290fbb2f25"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d8/d80/jemalloc_8c.html#a5d300f5734516669c0ae1049d529a2be">malloc_init_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#aa94afe6cfd4412d842b50d290fbb2f25">malloc_init_state</a> = <a class="el" href="../../d8/d80/jemalloc_8c.html#a5d300f5734516669c0ae1049d529a2bead6292aed10e45dfd5ff7df99194a5c4a">malloc_init_uninitialized</a></td></tr>
<tr class="separator:aa94afe6cfd4412d842b50d290fbb2f25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa52b77f0789f762c334c6323af323760"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#aa52b77f0789f762c334c6323af323760">malloc_slow</a> = <a class="el" href="../../d9/d5e/stdbool_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a></td></tr>
<tr class="separator:aa52b77f0789f762c334c6323af323760"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92e12fcf973e5617eebcb68f13fb6a7f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a92e12fcf973e5617eebcb68f13fb6a7f">malloc_slow_flags</a></td></tr>
<tr class="separator:a92e12fcf973e5617eebcb68f13fb6a7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8400570f1e40143af4be1cfc16f3faf1"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a8400570f1e40143af4be1cfc16f3faf1">malloc_initializer</a> = <a class="el" href="../../d8/d80/jemalloc_8c.html#ac19ee6dc36258a288840ca42da370e66">NO_INITIALIZER</a></td></tr>
<tr class="separator:a8400570f1e40143af4be1cfc16f3faf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa910397ee13e42388902c8788fd6df6a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d0/df8/mutex_8h.html#a1160dfc00be16f6378bd638157c903cd">malloc_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#aa910397ee13e42388902c8788fd6df6a">init_lock</a> = <a class="el" href="../../d0/df8/mutex_8h.html#a1e9b630556a69dabc0bd7deac7ae9deb">MALLOC_MUTEX_INITIALIZER</a></td></tr>
<tr class="separator:aa910397ee13e42388902c8788fd6df6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bd2976d700d3ae616e8d1dad50878af"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d80/jemalloc_8c.html#a0bd2976d700d3ae616e8d1dad50878af">had_conf_error</a> = <a class="el" href="../../d9/d5e/stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></td></tr>
<tr class="separator:a0bd2976d700d3ae616e8d1dad50878af"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a698bb0ab65b175bfa83ee515e5489dcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a698bb0ab65b175bfa83ee515e5489dcc">&#9670;&nbsp;</a></span>ARENA_IND_AUTOMATIC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ARENA_IND_AUTOMATIC&#160;&#160;&#160;((unsigned)-1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01884">1884</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

</div>
</div>
<a id="a56ea703d09898b2be7228ef705cddb51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56ea703d09898b2be7228ef705cddb51">&#9670;&nbsp;</a></span>CONF_CHECK_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONF_CHECK_MAX</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">um, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d9/df6/my__global_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((um) &gt; (<a class="el" href="../../d9/df6/my__global_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9357f99d76f60cf152a2924be0c61be2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9357f99d76f60cf152a2924be0c61be2">&#9670;&nbsp;</a></span>CONF_CHECK_MIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONF_CHECK_MIN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">um, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d9/df6/my__global_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((um) &lt; (<a class="el" href="../../d9/df6/my__global_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afc7d87677ec3b88c2102fb9aaf1a2fdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc7d87677ec3b88c2102fb9aaf1a2fdb">&#9670;&nbsp;</a></span>CONF_CONTINUE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONF_CONTINUE</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">                {                       \</div>
<div class="line">                if (!initial_call &amp;&amp; <a class="code" href="../../d8/d80/jemalloc_8c.html#a48bd222d8fb563cc39f819a7b7f7f6e4">opt_confirm_conf</a>   \</div>
<div class="line">                    &amp;&amp; cur_opt_valid) {         \</div>
<div class="line">                    malloc_printf(<span class="stringliteral">&quot;&lt;jemalloc&gt;: -- &quot;</span> \</div>
<div class="line">                        <span class="stringliteral">&quot;Set conf value: %.*s:%.*s&quot;</span> \</div>
<div class="line">                        <span class="stringliteral">&quot;\n&quot;</span>, (<span class="keywordtype">int</span>)klen, k,     \</div>
<div class="line">                        (<span class="keywordtype">int</span>)vlen, v);      \</div>
<div class="line">                }                   \</div>
<div class="line">                continue;               \</div>
<div class="line">            }</div>
<div class="ttc" id="ajemalloc_8c_html_a48bd222d8fb563cc39f819a7b7f7f6e4"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a48bd222d8fb563cc39f819a7b7f7f6e4">opt_confirm_conf</a></div><div class="ttdeci">bool opt_confirm_conf</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00047">jemalloc.c:47</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a95ce7c59321cc3cd5aeb14f80d46c95f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95ce7c59321cc3cd5aeb14f80d46c95f">&#9670;&nbsp;</a></span>CONF_DONT_CHECK_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONF_DONT_CHECK_MAX</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">um, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d9/df6/my__global_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../d9/d5e/stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a90de27f4b8326502dc65b7057ab586d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90de27f4b8326502dc65b7057ab586d7">&#9670;&nbsp;</a></span>CONF_DONT_CHECK_MIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONF_DONT_CHECK_MIN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">um, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d9/df6/my__global_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../d9/d5e/stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="adc82e6bbf4b5be96087f18ffaed6da5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc82e6bbf4b5be96087f18ffaed6da5c">&#9670;&nbsp;</a></span>CONF_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONF_ERROR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">k, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">klen, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">vlen&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">            <span class="keywordflow">if</span> (!initial_call) {                \</div>
<div class="line">                malloc_conf_error(          \</div>
<div class="line">                    msg, k, klen, v, vlen);     \</div>
<div class="line">                cur_opt_valid = <span class="keyword">false</span>;          \</div>
<div class="line">            }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5540c28741aa39b34c2a8a2a9a605e73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5540c28741aa39b34c2a8a2a9a605e73">&#9670;&nbsp;</a></span>CONF_HANDLE_BOOL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONF_HANDLE_BOOL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">o, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#a865ae75505501aae4d21b77c92dc841c">CONF_MATCH</a>(n)) {                \</div>
<div class="line">                if (<a class="code" href="../../d8/d80/jemalloc_8c.html#af7cba9b4231871a5bcfc900faf555263">CONF_MATCH_VALUE</a>(<span class="stringliteral">&quot;true&quot;</span>)) {     \</div>
<div class="line">                    o = <span class="keyword">true</span>;           \</div>
<div class="line">                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#af7cba9b4231871a5bcfc900faf555263">CONF_MATCH_VALUE</a>(<span class="stringliteral">&quot;false&quot;</span>)) { \</div>
<div class="line">                    o = <span class="keyword">false</span>;          \</div>
<div class="line">                } <span class="keywordflow">else</span> {                \</div>
<div class="line">                    CONF_ERROR(<span class="stringliteral">&quot;Invalid conf value&quot;</span>,\</div>
<div class="line">                        k, klen, v, vlen);      \</div>
<div class="line">                }                   \</div>
<div class="line">                CONF_CONTINUE;              \</div>
<div class="line">            }</div>
<div class="ttc" id="ajemalloc_8c_html_a865ae75505501aae4d21b77c92dc841c"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a865ae75505501aae4d21b77c92dc841c">CONF_MATCH</a></div><div class="ttdeci">#define CONF_MATCH(n)</div></div>
<div class="ttc" id="ajemalloc_8c_html_af7cba9b4231871a5bcfc900faf555263"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#af7cba9b4231871a5bcfc900faf555263">CONF_MATCH_VALUE</a></div><div class="ttdeci">#define CONF_MATCH_VALUE(n)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2f39a8f55c52bab1dde2a7785424dafc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f39a8f55c52bab1dde2a7785424dafc">&#9670;&nbsp;</a></span>CONF_HANDLE_CHAR_P</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONF_HANDLE_CHAR_P</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">o, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">d&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#a865ae75505501aae4d21b77c92dc841c">CONF_MATCH</a>(n)) {                \</div>
<div class="line">                size_t cpylen = (vlen &lt;=        \</div>
<div class="line">                    sizeof(o)-1) ? vlen :       \</div>
<div class="line">                    <span class="keyword">sizeof</span>(o)-1;            \</div>
<div class="line">                strncpy(o, v, cpylen);          \</div>
<div class="line">                o[cpylen] = <span class="charliteral">&#39;\0&#39;</span>;           \</div>
<div class="line">                CONF_CONTINUE;              \</div>
<div class="line">            }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a285632ddc2228220acc4245a16239c3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a285632ddc2228220acc4245a16239c3a">&#9670;&nbsp;</a></span>CONF_HANDLE_SIZE_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONF_HANDLE_SIZE_T</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">o, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d9/df6/my__global_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d9/df6/my__global_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">check_min, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">check_max, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">clip&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">            <a class="code" href="../../d8/d80/jemalloc_8c.html#a546c222d2e7ab0a5c8779c35089695d1">CONF_HANDLE_T_U</a>(<span class="keywordtype">size_t</span>, o, n, <a class="code" href="../../d9/df6/my__global_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>, <a class="code" href="../../d9/df6/my__global_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>,     \</div>
<div class="line">                check_min, check_max, clip)</div>
<div class="ttc" id="ajemalloc_8c_html_a546c222d2e7ab0a5c8779c35089695d1"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a546c222d2e7ab0a5c8779c35089695d1">CONF_HANDLE_T_U</a></div><div class="ttdeci">#define CONF_HANDLE_T_U(t, o, n, min, max, check_min, check_max, clip)</div></div>
<div class="ttc" id="amy__global_8h_html_ac6afabdc09a49a433ee19d8a9486056d"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a></div><div class="ttdeci">#define min(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l01387">my_global.h:1387</a></div></div>
<div class="ttc" id="amy__global_8h_html_affe776513b24d84b39af8ab0930fef7f"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a></div><div class="ttdeci">#define max(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l01386">my_global.h:1386</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1eb604d85b3b2b97aaa3c3f96c4cf2c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1eb604d85b3b2b97aaa3c3f96c4cf2c5">&#9670;&nbsp;</a></span>CONF_HANDLE_SSIZE_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONF_HANDLE_SSIZE_T</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">o, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d9/df6/my__global_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d9/df6/my__global_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#a865ae75505501aae4d21b77c92dc841c">CONF_MATCH</a>(n)) {                \</div>
<div class="line">                long <a class="code" href="../../d4/d71/namespacempq.html#aba272a7db9f3764e70d3bc79e5ead8cb">l</a>;                 \</div>
<div class="line">                char *end;              <a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a132c48faab6dcea1dca5ef9012266300">\</a></div>
<div class="line"><a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a132c48faab6dcea1dca5ef9012266300">									\</a></div>
<div class="line"><a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a132c48faab6dcea1dca5ef9012266300">				set_errno</a>(0);               \</div>
<div class="line">                l = <a class="code" href="../../d6/dda/m__string_8h.html#a5543bd7dd8cb62e6c2648fdda40dfc2f">strtol</a>(v, &amp;end, 0);         \</div>
<div class="line">                if (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a2d9133e7ee5dd33009d6501253f9ddb2">get_errno</a>() != 0 || (<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)end -\</div>
<div class="line">                    (<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)v != vlen) {     \</div>
<div class="line">                    CONF_ERROR(<span class="stringliteral">&quot;Invalid conf value&quot;</span>,\</div>
<div class="line">                        k, klen, v, vlen);      \</div>
<div class="line">                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d4/d71/namespacempq.html#aba272a7db9f3764e70d3bc79e5ead8cb">l</a> &lt; (ssize_t)(<a class="code" href="../../d9/df6/my__global_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>) || <a class="code" href="../../d4/d71/namespacempq.html#aba272a7db9f3764e70d3bc79e5ead8cb">l</a> &gt;    \</div>
<div class="line">                    (ssize_t)(<a class="code" href="../../d9/df6/my__global_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>)) {           \</div>
<div class="line">                    CONF_ERROR(         \</div>
<div class="line">                        <span class="stringliteral">&quot;Out-of-range conf value&quot;</span>,  \</div>
<div class="line">                        k, klen, v, vlen);      \</div>
<div class="line">                } <span class="keywordflow">else</span> {                \</div>
<div class="line">                    o = <a class="code" href="../../d4/d71/namespacempq.html#aba272a7db9f3764e70d3bc79e5ead8cb">l</a>;              \</div>
<div class="line">                }                   \</div>
<div class="line">                CONF_CONTINUE;              \</div>
<div class="line">            }</div>
<div class="ttc" id="adeps_2jemalloc_2include_2jemalloc_2internal_2util_8h_html_a132c48faab6dcea1dca5ef9012266300"><div class="ttname"><a href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a132c48faab6dcea1dca5ef9012266300">set_errno</a></div><div class="ttdeci">UTIL_INLINE void set_errno(int errnum)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00047">util.h:47</a></div></div>
<div class="ttc" id="adeps_2jemalloc_2include_2jemalloc_2internal_2util_8h_html_a2d9133e7ee5dd33009d6501253f9ddb2"><div class="ttname"><a href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a2d9133e7ee5dd33009d6501253f9ddb2">get_errno</a></div><div class="ttdeci">UTIL_INLINE int get_errno(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00057">util.h:57</a></div></div>
<div class="ttc" id="ajemalloc_2include_2msvc__compat_2_c99_2stdint_8h_html_a31b85deecb45924320becd11d3ee16ce"><div class="ttname"><a href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a></div><div class="ttdeci">_W64 unsigned int uintptr_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h_source.html#l00119">stdint.h:119</a></div></div>
<div class="ttc" id="am__string_8h_html_a5543bd7dd8cb62e6c2648fdda40dfc2f"><div class="ttname"><a href="../../d6/dda/m__string_8h.html#a5543bd7dd8cb62e6c2648fdda40dfc2f">strtol</a></div><div class="ttdeci">long strtol(const char *str, char **ptr, int base)</div></div>
<div class="ttc" id="anamespacempq_html_aba272a7db9f3764e70d3bc79e5ead8cb"><div class="ttname"><a href="../../d4/d71/namespacempq.html#aba272a7db9f3764e70d3bc79e5ead8cb">mpq.l</a></div><div class="ttdeci">l</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3e/mpq_8py_source.html#l00297">mpq.py:297</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a546c222d2e7ab0a5c8779c35089695d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a546c222d2e7ab0a5c8779c35089695d1">&#9670;&nbsp;</a></span>CONF_HANDLE_T_U</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONF_HANDLE_T_U</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">o, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d9/df6/my__global_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d9/df6/my__global_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">check_min, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">check_max, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">clip&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac693bc5ba5788399a6409a258e558166"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac693bc5ba5788399a6409a258e558166">&#9670;&nbsp;</a></span>CONF_HANDLE_UNSIGNED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONF_HANDLE_UNSIGNED</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">o, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d9/df6/my__global_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d9/df6/my__global_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">check_min, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">check_max, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">clip&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">            <a class="code" href="../../d8/d80/jemalloc_8c.html#a546c222d2e7ab0a5c8779c35089695d1">CONF_HANDLE_T_U</a>(<span class="keywordtype">unsigned</span>, o, n, <a class="code" href="../../d9/df6/my__global_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>, <a class="code" href="../../d9/df6/my__global_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>,   \</div>
<div class="line">                check_min, check_max, clip)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a865ae75505501aae4d21b77c92dc841c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a865ae75505501aae4d21b77c92dc841c">&#9670;&nbsp;</a></span>CONF_MATCH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONF_MATCH</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n</td><td>)</td>
          <td>&#160;&#160;&#160;	(sizeof(n)-1 == klen &amp;&amp; strncmp(n, k, klen) == 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af7cba9b4231871a5bcfc900faf555263"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7cba9b4231871a5bcfc900faf555263">&#9670;&nbsp;</a></span>CONF_MATCH_VALUE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONF_MATCH_VALUE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n</td><td>)</td>
          <td>&#160;&#160;&#160;	(sizeof(n)-1 == vlen &amp;&amp; strncmp(n, v, vlen) == 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6de9cd0c9d351ed9eac04d9cd64827f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6de9cd0c9d351ed9eac04d9cd64827f4">&#9670;&nbsp;</a></span>INITIALIZER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INITIALIZER&#160;&#160;&#160;<a class="el" href="../../d9/d5e/stdbool_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00126">126</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

</div>
</div>
<a id="ae85e4c6cf761558babffa1b8af5baffc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae85e4c6cf761558babffa1b8af5baffc">&#9670;&nbsp;</a></span>IS_INITIALIZER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IS_INITIALIZER&#160;&#160;&#160;<a class="el" href="../../d8/d80/jemalloc_8c.html#a8400570f1e40143af4be1cfc16f3faf1">malloc_initializer</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00127">127</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

</div>
</div>
<a id="a3670ceeda0e018cf4e31b15aaa59f517"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3670ceeda0e018cf4e31b15aaa59f517">&#9670;&nbsp;</a></span>JEMALLOC_C_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JEMALLOC_C_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00001">1</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

</div>
</div>
<a id="ac22db27019ac8c549ec10997d1509d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac22db27019ac8c549ec10997d1509d7d">&#9670;&nbsp;</a></span>MALLOC_CONF_NSOURCES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MALLOC_CONF_NSOURCES&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00935">935</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

</div>
</div>
<a id="ac19ee6dc36258a288840ca42da370e66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac19ee6dc36258a288840ca42da370e66">&#9670;&nbsp;</a></span>NO_INITIALIZER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NO_INITIALIZER&#160;&#160;&#160;<a class="el" href="../../d9/d5e/stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00125">125</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

</div>
</div>
<a id="adeaa24adf279828db3df5186af346686"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adeaa24adf279828db3df5186af346686">&#9670;&nbsp;</a></span>OPTION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OPTION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">o, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">d, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">s&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;case o: break;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a089922bccba51a5452ad46e30a6e1572"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a089922bccba51a5452ad46e30a6e1572">&#9670;&nbsp;</a></span>TCACHE_IND_AUTOMATIC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCACHE_IND_AUTOMATIC&#160;&#160;&#160;((unsigned)-2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01883">1883</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

</div>
</div>
<a id="a547d79639d1847a9d5a354799a989a6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a547d79639d1847a9d5a354799a989a6d">&#9670;&nbsp;</a></span>TCACHE_IND_NONE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCACHE_IND_NONE&#160;&#160;&#160;((unsigned)-1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01882">1882</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

</div>
</div>
<a id="ae4fe1a86c7b6e4fdef78f0792519d473"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4fe1a86c7b6e4fdef78f0792519d473">&#9670;&nbsp;</a></span>UNLOCK_RETURN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UNLOCK_RETURN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tsdn, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">reentrancy&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <a class="code" href="../../d8/d80/jemalloc_8c.html#a94b8c9ae2e64ca1ad662c6e3bcb30af8">malloc_init_hard_cleanup</a>(tsdn, reentrancy); \</div>
<div class="line">    return <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="ttc" id="ajemalloc_8c_html_a94b8c9ae2e64ca1ad662c6e3bcb30af8"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a94b8c9ae2e64ca1ad662c6e3bcb30af8">malloc_init_hard_cleanup</a></div><div class="ttdeci">static void malloc_init_hard_cleanup(tsdn_t *tsdn, bool reentrancy_set)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01721">jemalloc.c:1721</a></div></div>
<div class="ttc" id="aprof_8c_html_a339672ff94e6199019102f50d317c3d7"><div class="ttname"><a href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a></div><div class="ttdeci">int ret</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d31/prof_8c_source.html#l00281">prof.c:281</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac6bcbb3858b3ceee509112e7b82b2d2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6bcbb3858b3ceee509112e7b82b2d2f">&#9670;&nbsp;</a></span>UTRACE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UTRACE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../df/d31/prof_8c.html#a3fca4d23183335e3d46f507d28e94e8b">b</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">c&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00188">188</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ac85ffbc3906fc597d30fd0db704f0274"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac85ffbc3906fc597d30fd0db704f0274">&#9670;&nbsp;</a></span>dynamic_opts_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../d0/d96/structdynamic__opts__s.html">dynamic_opts_s</a> <a class="el" href="../../d8/d80/jemalloc_8c.html#ac85ffbc3906fc597d30fd0db704f0274">dynamic_opts_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01864">1864</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

</div>
</div>
<a id="a1d90a39f861fd6f06172a5647dc3c409"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d90a39f861fd6f06172a5647dc3c409">&#9670;&nbsp;</a></span>static_opts_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../d6/d7c/structstatic__opts__s.html">static_opts_s</a> <a class="el" href="../../d8/d80/jemalloc_8c.html#a1d90a39f861fd6f06172a5647dc3c409">static_opts_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01733">1733</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a1fb9092bcdeada2d206bdc74afbbe122"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fb9092bcdeada2d206bdc74afbbe122">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a1fb9092bcdeada2d206bdc74afbbe122a8049c6a2d986d20eead9ace7e8195d90"></a>flag_opt_junk_alloc&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a1fb9092bcdeada2d206bdc74afbbe122a58caf58b3925c7f45176a453c366f2a0"></a>flag_opt_junk_free&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a1fb9092bcdeada2d206bdc74afbbe122aeba436f0f87c3a877f0c609c5177fbeb"></a>flag_opt_zero&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a1fb9092bcdeada2d206bdc74afbbe122af149e3d5339e6e6e48e6f895474e3865"></a>flag_opt_utrace&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a1fb9092bcdeada2d206bdc74afbbe122a18f644a061eaf2b78420d8e6a61659e9"></a>flag_opt_xmalloc&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00109">109</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;     {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#a1fb9092bcdeada2d206bdc74afbbe122a8049c6a2d986d20eead9ace7e8195d90">flag_opt_junk_alloc</a> = (1U),</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#a1fb9092bcdeada2d206bdc74afbbe122a58caf58b3925c7f45176a453c366f2a0">flag_opt_junk_free</a>  = (1U &lt;&lt; 1),</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#a1fb9092bcdeada2d206bdc74afbbe122aeba436f0f87c3a877f0c609c5177fbeb">flag_opt_zero</a>       = (1U &lt;&lt; 2),</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#a1fb9092bcdeada2d206bdc74afbbe122af149e3d5339e6e6e48e6f895474e3865">flag_opt_utrace</a>     = (1U &lt;&lt; 3),</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#a1fb9092bcdeada2d206bdc74afbbe122a18f644a061eaf2b78420d8e6a61659e9">flag_opt_xmalloc</a>    = (1U &lt;&lt; 4)</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;};</div>
<div class="ttc" id="ajemalloc_8c_html_a1fb9092bcdeada2d206bdc74afbbe122a18f644a061eaf2b78420d8e6a61659e9"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a1fb9092bcdeada2d206bdc74afbbe122a18f644a061eaf2b78420d8e6a61659e9">flag_opt_xmalloc</a></div><div class="ttdeci">@ flag_opt_xmalloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00115">jemalloc.c:114</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a1fb9092bcdeada2d206bdc74afbbe122a58caf58b3925c7f45176a453c366f2a0"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a1fb9092bcdeada2d206bdc74afbbe122a58caf58b3925c7f45176a453c366f2a0">flag_opt_junk_free</a></div><div class="ttdeci">@ flag_opt_junk_free</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00111">jemalloc.c:111</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a1fb9092bcdeada2d206bdc74afbbe122a8049c6a2d986d20eead9ace7e8195d90"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a1fb9092bcdeada2d206bdc74afbbe122a8049c6a2d986d20eead9ace7e8195d90">flag_opt_junk_alloc</a></div><div class="ttdeci">@ flag_opt_junk_alloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00110">jemalloc.c:110</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a1fb9092bcdeada2d206bdc74afbbe122aeba436f0f87c3a877f0c609c5177fbeb"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a1fb9092bcdeada2d206bdc74afbbe122aeba436f0f87c3a877f0c609c5177fbeb">flag_opt_zero</a></div><div class="ttdeci">@ flag_opt_zero</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00112">jemalloc.c:112</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a1fb9092bcdeada2d206bdc74afbbe122af149e3d5339e6e6e48e6f895474e3865"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a1fb9092bcdeada2d206bdc74afbbe122af149e3d5339e6e6e48e6f895474e3865">flag_opt_utrace</a></div><div class="ttdeci">@ flag_opt_utrace</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00113">jemalloc.c:113</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5d300f5734516669c0ae1049d529a2be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d300f5734516669c0ae1049d529a2be">&#9670;&nbsp;</a></span>malloc_init_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d80/jemalloc_8c.html#a5d300f5734516669c0ae1049d529a2be">malloc_init_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a5d300f5734516669c0ae1049d529a2bead6292aed10e45dfd5ff7df99194a5c4a"></a>malloc_init_uninitialized&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5d300f5734516669c0ae1049d529a2bea589bae8a3cf89c6f94e7c317285d71c1"></a>malloc_init_a0_initialized&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5d300f5734516669c0ae1049d529a2bea63b46c755cfbec0e45dd57d21586e47b"></a>malloc_init_recursible&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5d300f5734516669c0ae1049d529a2bea98fb0f3bceca1918adec6c0f8ca43368"></a>malloc_init_initialized&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00097">97</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;             {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#a5d300f5734516669c0ae1049d529a2bead6292aed10e45dfd5ff7df99194a5c4a">malloc_init_uninitialized</a>   = 3,</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#a5d300f5734516669c0ae1049d529a2bea589bae8a3cf89c6f94e7c317285d71c1">malloc_init_a0_initialized</a>  = 2,</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#a5d300f5734516669c0ae1049d529a2bea63b46c755cfbec0e45dd57d21586e47b">malloc_init_recursible</a>      = 1,</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#a5d300f5734516669c0ae1049d529a2bea98fb0f3bceca1918adec6c0f8ca43368">malloc_init_initialized</a>     = 0 <span class="comment">/* Common case --&gt; jnz. */</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;} <a class="code" href="../../d8/d80/jemalloc_8c.html#a5d300f5734516669c0ae1049d529a2be">malloc_init_t</a>;</div>
<div class="ttc" id="ajemalloc_8c_html_a5d300f5734516669c0ae1049d529a2be"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a5d300f5734516669c0ae1049d529a2be">malloc_init_t</a></div><div class="ttdeci">malloc_init_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00097">jemalloc.c:97</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a5d300f5734516669c0ae1049d529a2bea589bae8a3cf89c6f94e7c317285d71c1"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a5d300f5734516669c0ae1049d529a2bea589bae8a3cf89c6f94e7c317285d71c1">malloc_init_a0_initialized</a></div><div class="ttdeci">@ malloc_init_a0_initialized</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00099">jemalloc.c:99</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a5d300f5734516669c0ae1049d529a2bea63b46c755cfbec0e45dd57d21586e47b"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a5d300f5734516669c0ae1049d529a2bea63b46c755cfbec0e45dd57d21586e47b">malloc_init_recursible</a></div><div class="ttdeci">@ malloc_init_recursible</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00100">jemalloc.c:100</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a5d300f5734516669c0ae1049d529a2bea98fb0f3bceca1918adec6c0f8ca43368"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a5d300f5734516669c0ae1049d529a2bea98fb0f3bceca1918adec6c0f8ca43368">malloc_init_initialized</a></div><div class="ttdeci">@ malloc_init_initialized</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00102">jemalloc.c:101</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a5d300f5734516669c0ae1049d529a2bead6292aed10e45dfd5ff7df99194a5c4a"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a5d300f5734516669c0ae1049d529a2bead6292aed10e45dfd5ff7df99194a5c4a">malloc_init_uninitialized</a></div><div class="ttdeci">@ malloc_init_uninitialized</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00098">jemalloc.c:98</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae36b0c28334a91f4e47068093f14e7c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae36b0c28334a91f4e47068093f14e7c9">&#9670;&nbsp;</a></span>a0dalloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void a0dalloc </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00255">255</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                    {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#afe1e47e1fa4f829e8c111c4c3f389fdc">a0idalloc</a>(<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;}</div>
<div class="ttc" id="afmt_2include_2fmt_2format_8h_html_adb6e274f8eb0b74b2865215e1b49c535"><div class="ttname"><a href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a></div><div class="ttdeci">auto ptr(T p) -&gt; const void *</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddf/fmt_2include_2fmt_2format_8h_source.html#l02451">format.h:2451</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_afe1e47e1fa4f829e8c111c4c3f389fdc"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#afe1e47e1fa4f829e8c111c4c3f389fdc">a0idalloc</a></div><div class="ttdeci">static void a0idalloc(void *ptr, bool is_internal)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00245">jemalloc.c:245</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00245">a0idalloc()</a>, and <a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h_source.html#l02451">ptr()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00422">arena_tdata_get_hard()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00633">arenas_tdata_cleanup()</a>.</p>

</div>
</div>
<a id="af9ff561da5d3f1a5e656c4837dea6f77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9ff561da5d3f1a5e656c4837dea6f77">&#9670;&nbsp;</a></span>a0ialloc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* a0ialloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>zero</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>is_internal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00235">235</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                                                   {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#a5c616b901f9ba5120368b5be68ef7f3a">malloc_init_a0</a>())) {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../df/d67/jemalloc__internal__inlines__c_8h.html#a2c3335ee7bf28b8e7db125f2810ccdf1">iallocztm</a>(<a class="code" href="../../db/d1d/tsd_8h.html#aa34793c8885227e81c7795ecbace8918">TSDN_NULL</a>, size, <a class="code" href="../../db/d04/sz_8h.html#a710950755b0e755950007b68d8b2440b">sz_size2index</a>(size), <a class="code" href="../../df/de2/namespace_g3_d.html#afe56d91f54a2ecc472b75ccf88b4c59c">zero</a>, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>,</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        is_internal, <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#afc61837312aeb8ba2123252226db9ce0">arena_get</a>(<a class="code" href="../../db/d1d/tsd_8h.html#aa34793c8885227e81c7795ecbace8918">TSDN_NULL</a>, 0, <span class="keyword">true</span>), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;}</div>
<div class="ttc" id="adeps_2jemalloc_2include_2jemalloc_2internal_2util_8h_html_ac6c45889010c1bd68631771b64f18101"><div class="ttname"><a href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a></div><div class="ttdeci">#define unlikely(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00036">util.h:36</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a5c616b901f9ba5120368b5be68ef7f3a"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a5c616b901f9ba5120368b5be68ef7f3a">malloc_init_a0</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE bool malloc_init_a0(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00214">jemalloc.c:214</a></div></div>
<div class="ttc" id="ajemalloc__internal_8h_html_ae89ee89f41328ac0ade1e3e26c103570"><div class="ttname"><a href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a></div><div class="ttdeci">arena_t NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">jemalloc_internal.h:624</a></div></div>
<div class="ttc" id="ajemalloc__internal__inlines__a_8h_html_afc61837312aeb8ba2123252226db9ce0"><div class="ttname"><a href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#afc61837312aeb8ba2123252226db9ce0">arena_get</a></div><div class="ttdeci">static arena_t * arena_get(tsdn_t *tsdn, unsigned ind, bool init_if_missing)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00085">jemalloc_internal_inlines_a.h:85</a></div></div>
<div class="ttc" id="ajemalloc__internal__inlines__c_8h_html_a2c3335ee7bf28b8e7db125f2810ccdf1"><div class="ttname"><a href="../../df/d67/jemalloc__internal__inlines__c_8h.html#a2c3335ee7bf28b8e7db125f2810ccdf1">iallocztm</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE void * iallocztm(tsdn_t *tsdn, size_t size, szind_t ind, bool zero, tcache_t *tcache, bool is_internal, arena_t *arena, bool slow_path)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d67/jemalloc__internal__inlines__c_8h_source.html#l00042">jemalloc_internal_inlines_c.h:42</a></div></div>
<div class="ttc" id="anamespace_g3_d_html_afe56d91f54a2ecc472b75ccf88b4c59c"><div class="ttname"><a href="../../df/de2/namespace_g3_d.html#afe56d91f54a2ecc472b75ccf88b4c59c">G3D::zero</a></div><div class="ttdeci">static unorm16 zero()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd6/unorm16_8h_source.html#l00082">unorm16.h:82</a></div></div>
<div class="ttc" id="asz_8h_html_a710950755b0e755950007b68d8b2440b"><div class="ttname"><a href="../../db/d04/sz_8h.html#a710950755b0e755950007b68d8b2440b">sz_size2index</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE szind_t sz_size2index(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d04/sz_8h_source.html#l00164">sz.h:164</a></div></div>
<div class="ttc" id="atsd_8h_html_aa34793c8885227e81c7795ecbace8918"><div class="ttname"><a href="../../db/d1d/tsd_8h.html#aa34793c8885227e81c7795ecbace8918">TSDN_NULL</a></div><div class="ttdeci">#define TSDN_NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d1d/tsd_8h_source.html#l00222">tsd.h:222</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00085">arena_get()</a>, <a class="el" href="../../df/d67/jemalloc__internal__inlines__c_8h_source.html#l00042">iallocztm()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00214">malloc_init_a0()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../db/d04/sz_8h_source.html#l00164">sz_size2index()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00222">TSDN_NULL</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00036">unlikely</a>, and <a class="el" href="../../d6/dd6/unorm16_8h_source.html#l00082">G3D::zero()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00250">a0malloc()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00275">bootstrap_calloc()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00266">bootstrap_malloc()</a>.</p>

</div>
</div>
<a id="afe1e47e1fa4f829e8c111c4c3f389fdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe1e47e1fa4f829e8c111c4c3f389fdc">&#9670;&nbsp;</a></span>a0idalloc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void a0idalloc </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>is_internal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00245">245</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                                       {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="../../df/d67/jemalloc__internal__inlines__c_8h.html#ada39923f89153aa3efa08d4a15e9b7de">idalloctm</a>(<a class="code" href="../../db/d1d/tsd_8h.html#aa34793c8885227e81c7795ecbace8918">TSDN_NULL</a>, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>, is_internal, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;}</div>
<div class="ttc" id="ajemalloc__internal__inlines__c_8h_html_ada39923f89153aa3efa08d4a15e9b7de"><div class="ttname"><a href="../../df/d67/jemalloc__internal__inlines__c_8h.html#ada39923f89153aa3efa08d4a15e9b7de">idalloctm</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE void idalloctm(tsdn_t *tsdn, void *ptr, tcache_t *tcache, alloc_ctx_t *alloc_ctx, bool is_internal, bool slow_path)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d67/jemalloc__internal__inlines__c_8h_source.html#l00104">jemalloc_internal_inlines_c.h:104</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../df/d67/jemalloc__internal__inlines__c_8h_source.html#l00104">idalloctm()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h_source.html#l02451">ptr()</a>, and <a class="el" href="../../db/d1d/tsd_8h_source.html#l00222">TSDN_NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00255">a0dalloc()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00288">bootstrap_free()</a>.</p>

</div>
</div>
<a id="a09ca1dbe9a31eeae0defd51fa17514ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09ca1dbe9a31eeae0defd51fa17514ae">&#9670;&nbsp;</a></span>a0malloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* a0malloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00250">250</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                      {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d80/jemalloc_8c.html#af9ff561da5d3f1a5e656c4837dea6f77">a0ialloc</a>(size, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;}</div>
<div class="ttc" id="ajemalloc_8c_html_af9ff561da5d3f1a5e656c4837dea6f77"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#af9ff561da5d3f1a5e656c4837dea6f77">a0ialloc</a></div><div class="ttdeci">static void * a0ialloc(size_t size, bool zero, bool is_internal)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00235">jemalloc.c:235</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00235">a0ialloc()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00422">arena_tdata_get_hard()</a>.</p>

</div>
</div>
<a id="aa21d964b9d890dd25c5bb470eb22a17e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa21d964b9d890dd25c5bb470eb22a17e">&#9670;&nbsp;</a></span>arena_bind()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void arena_bind </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *&#160;</td>
          <td class="paramname"><em>tsd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>ind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>internal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00377">377</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                                                    {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <a class="code" href="../../da/dc2/structarena__s.html">arena_t</a> *<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a> = <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#afc61837312aeb8ba2123252226db9ce0">arena_get</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), ind, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#a40a13af00eafceb03fac524a1ba3ca45">arena_nthreads_inc</a>(<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>, <span class="keyword">internal</span>);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">internal</span>) {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        tsd_iarena_set(tsd, <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        tsd_arena_set(tsd, <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="keywordtype">unsigned</span> shard = atomic_fetch_add_u(&amp;<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>-&gt;<a class="code" href="../../da/dc2/structarena__s.html#a4ceb42e380de6be0b873a709ef365333">binshard_next</a>, 1,</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            <a class="code" href="../../dd/d02/atomic_8h.html#a197d45c27356d55c21b4c65ce8250d24">ATOMIC_RELAXED</a>);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <a class="code" href="../../de/d95/structtsd__binshards__s.html">tsd_binshards_t</a> *bins = tsd_binshardsp_get(tsd);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="../../d9/d50/sc_8h.html#a27ab0819dfe55034e37976d220e9940c">SC_NBINS</a>; i++) {</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../dd/de2/private__namespace_8h.html#ada53a3975b866b1be366639df6453e24">bin_infos</a>[i].n_shards &gt; 0 &amp;&amp;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                <a class="code" href="../../dd/de2/private__namespace_8h.html#ada53a3975b866b1be366639df6453e24">bin_infos</a>[i].n_shards &lt;= <a class="code" href="../../d5/d8c/bin__types_8h.html#ac5308ce680a050b58cff9a76f7df3111">BIN_SHARDS_MAX</a>);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            bins-&gt;<a class="code" href="../../de/d95/structtsd__binshards__s.html#a4bf265954e62328a5db021df2f479cc6">binshard</a>[i] = shard % <a class="code" href="../../dd/de2/private__namespace_8h.html#ada53a3975b866b1be366639df6453e24">bin_infos</a>[i].n_shards;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        }</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;}</div>
<div class="ttc" id="aatomic_8h_html_a197d45c27356d55c21b4c65ce8250d24"><div class="ttname"><a href="../../dd/d02/atomic_8h.html#a197d45c27356d55c21b4c65ce8250d24">ATOMIC_RELAXED</a></div><div class="ttdeci">#define ATOMIC_RELAXED</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d02/atomic_8h_source.html#l00048">atomic.h:48</a></div></div>
<div class="ttc" id="abackground__thread_8c_html_ac9323a11b5f8df8d4a1c86d8a98ac434"><div class="ttname"><a href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a></div><div class="ttdeci">bool arena_t * arena</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd3/background__thread_8c_source.html#l00057">background_thread.c:57</a></div></div>
<div class="ttc" id="abin__types_8h_html_ac5308ce680a050b58cff9a76f7df3111"><div class="ttname"><a href="../../d5/d8c/bin__types_8h.html#ac5308ce680a050b58cff9a76f7df3111">BIN_SHARDS_MAX</a></div><div class="ttdeci">#define BIN_SHARDS_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8c/bin__types_8h_source.html#l00006">bin_types.h:6</a></div></div>
<div class="ttc" id="aemitter_8h_html_a7f6f984a70f2a669b89e3f10c795932f"><div class="ttname"><a href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a></div><div class="ttdeci">assert(written&lt; out_size)</div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a40a13af00eafceb03fac524a1ba3ca45"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a40a13af00eafceb03fac524a1ba3ca45">arena_nthreads_inc</a></div><div class="ttdeci">#define arena_nthreads_inc</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00072">private_namespace.h:72</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_ada53a3975b866b1be366639df6453e24"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#ada53a3975b866b1be366639df6453e24">bin_infos</a></div><div class="ttdeci">#define bin_infos</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00133">private_namespace.h:133</a></div></div>
<div class="ttc" id="asc_8h_html_a27ab0819dfe55034e37976d220e9940c"><div class="ttname"><a href="../../d9/d50/sc_8h.html#a27ab0819dfe55034e37976d220e9940c">SC_NBINS</a></div><div class="ttdeci">#define SC_NBINS</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d50/sc_8h_source.html#l00229">sc.h:229</a></div></div>
<div class="ttc" id="astructarena__s_html"><div class="ttname"><a href="../../da/dc2/structarena__s.html">arena_s</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de1/arena__structs__b_8h_source.html#l00077">arena_structs_b.h:77</a></div></div>
<div class="ttc" id="astructarena__s_html_a4ceb42e380de6be0b873a709ef365333"><div class="ttname"><a href="../../da/dc2/structarena__s.html#a4ceb42e380de6be0b873a709ef365333">arena_s::binshard_next</a></div><div class="ttdeci">atomic_u_t binshard_next</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de1/arena__structs__b_8h_source.html#l00094">arena_structs_b.h:94</a></div></div>
<div class="ttc" id="astructtsd__binshards__s_html"><div class="ttname"><a href="../../de/d95/structtsd__binshards__s.html">tsd_binshards_s</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8c/bin__types_8h_source.html#l00013">bin_types.h:13</a></div></div>
<div class="ttc" id="astructtsd__binshards__s_html_a4bf265954e62328a5db021df2f479cc6"><div class="ttname"><a href="../../de/d95/structtsd__binshards__s.html#a4bf265954e62328a5db021df2f479cc6">tsd_binshards_s::binshard</a></div><div class="ttdeci">uint8_t binshard[SC_NBINS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8c/bin__types_8h_source.html#l00014">bin_types.h:14</a></div></div>
<div class="ttc" id="atsd_8h_html_a9d2a8a60d53b9e0b7ef62cdc52deb124"><div class="ttname"><a href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE tsdn_t * tsd_tsdn(tsd_t *tsd)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d1d/tsd_8h_source.html#l00224">tsd.h:224</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/dd3/background__thread_8c_source.html#l00057">arena</a>, <a class="el" href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00085">arena_get()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00072">arena_nthreads_inc</a>, <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../dd/d02/atomic_8h_source.html#l00048">ATOMIC_RELAXED</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00133">bin_infos</a>, <a class="el" href="../../d5/d8c/bin__types_8h_source.html#l00006">BIN_SHARDS_MAX</a>, <a class="el" href="../../d5/d8c/bin__types_8h_source.html#l00014">tsd_binshards_s::binshard</a>, <a class="el" href="../../dc/de1/arena__structs__b_8h_source.html#l00094">arena_s::binshard_next</a>, <a class="el" href="../../d9/d50/sc_8h_source.html#l00229">SC_NBINS</a>, and <a class="el" href="../../db/d1d/tsd_8h_source.html#l00224">tsd_tsdn()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00499">arena_choose_hard()</a>.</p>

</div>
</div>
<a id="ae0af550f600c2bb226f05e1ace9c76c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0af550f600c2bb226f05e1ace9c76c7">&#9670;&nbsp;</a></span>arena_choose_hard()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d5e/arena__types_8h.html#a75ec58797d4c793b05def94ed85c6bdc">arena_t</a>* arena_choose_hard </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *&#160;</td>
          <td class="paramname"><em>tsd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>internal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00499">499</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                                             {</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <a class="code" href="../../da/dc2/structarena__s.html">arena_t</a> *<a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> <a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a000aefd29f2af655d2b9fad2fa340e32">JEMALLOC_CC_SILENCE_INIT</a>(<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160; </div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/d18/jemalloc__preamble_8h.html#abb215e7e187d8b6867f30acad5005dfb">have_percpu_arena</a> &amp;&amp; <a class="code" href="../../d8/d5e/arena__types_8h.html#a118c260ef7adc893c9d627463fbba787">PERCPU_ARENA_ENABLED</a>(<a class="code" href="../../dd/de2/private__namespace_8h.html#a46bd2d47e523e083522bdb5f03c607b7">opt_percpu_arena</a>)) {</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="keywordtype">unsigned</span> choose = <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#adc87f8418e8b451df413b3a8314429a3">percpu_arena_choose</a>();</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#afc61837312aeb8ba2123252226db9ce0">arena_get</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), choose, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> != <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#aa21d964b9d890dd25c5bb470eb22a17e">arena_bind</a>(tsd, <a class="code" href="../../de/de3/arena__inlines__a_8h.html#a7e4ee8971cbd6b54ad49c9ba46f81d0c">arena_ind_get</a>(<a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>), <span class="keyword">false</span>);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#aa21d964b9d890dd25c5bb470eb22a17e">arena_bind</a>(tsd, <a class="code" href="../../de/de3/arena__inlines__a_8h.html#a7e4ee8971cbd6b54ad49c9ba46f81d0c">arena_ind_get</a>(<a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    }</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160; </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#ae9d6a15b8260ba57e1781be757233789">narenas_auto</a> &gt; 1) {</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="keywordtype">unsigned</span> i, j, choose[2], first_null;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <span class="keywordtype">bool</span> is_new_arena[2];</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment">         * Determine binding for both non-internal and internal</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment">         * allocation.</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment">         *</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="comment">         *   choose[0]: For application allocation.</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment">         *   choose[1]: For internal metadata allocation.</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160; </div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; 2; j++) {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            choose[j] = 0;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            is_new_arena[j] = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        }</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160; </div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        first_null = <a class="code" href="../../d8/d80/jemalloc_8c.html#ae9d6a15b8260ba57e1781be757233789">narenas_auto</a>;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <a class="code" href="../../d0/df8/mutex_8h.html#a8ef3eafed2797ee477454ac0846022c5">malloc_mutex_lock</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), &amp;<a class="code" href="../../d8/d80/jemalloc_8c.html#a98e3833a2f20e314304e382556ec75f1">arenas_lock</a>);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#afc61837312aeb8ba2123252226db9ce0">arena_get</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), 0, <span class="keyword">false</span>) != <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <span class="keywordflow">for</span> (i = 1; i &lt; <a class="code" href="../../d8/d80/jemalloc_8c.html#ae9d6a15b8260ba57e1781be757233789">narenas_auto</a>; i++) {</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#afc61837312aeb8ba2123252226db9ce0">arena_get</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), i, <span class="keyword">false</span>) != <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>) {</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                <span class="comment">/*</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment">                 * Choose the first arena that has the lowest</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment">                 * number of threads assigned to it.</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment">                 */</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                <span class="keywordflow">for</span> (j = 0; j &lt; 2; j++) {</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de2/private__namespace_8h.html#a39e6c2f80817fe9ac29173a252126d6d">arena_nthreads_get</a>(<a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#afc61837312aeb8ba2123252226db9ce0">arena_get</a>(</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                        <a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), i, <span class="keyword">false</span>), !!j) &lt;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                        <a class="code" href="../../dd/de2/private__namespace_8h.html#a39e6c2f80817fe9ac29173a252126d6d">arena_nthreads_get</a>(<a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#afc61837312aeb8ba2123252226db9ce0">arena_get</a>(</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                        <a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), choose[j], <span class="keyword">false</span>),</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                        !!j)) {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                        choose[j] = i;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                    }</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                }</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (first_null == <a class="code" href="../../d8/d80/jemalloc_8c.html#ae9d6a15b8260ba57e1781be757233789">narenas_auto</a>) {</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                <span class="comment">/*</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment">                 * Record the index of the first uninitialized</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment">                 * arena, in case all extant arenas are in use.</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="comment">                 *</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="comment">                 * NB: It is possible for there to be</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment">                 * discontinuities in terms of initialized</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment">                 * versus uninitialized arenas, due to the</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="comment">                 * &quot;thread.arena&quot; mallctl.</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="comment">                 */</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                first_null = i;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            }</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        }</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160; </div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; 2; j++) {</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../dd/de2/private__namespace_8h.html#a39e6c2f80817fe9ac29173a252126d6d">arena_nthreads_get</a>(<a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#afc61837312aeb8ba2123252226db9ce0">arena_get</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd),</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                choose[j], <span class="keyword">false</span>), !!j) == 0 || first_null ==</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                <a class="code" href="../../d8/d80/jemalloc_8c.html#ae9d6a15b8260ba57e1781be757233789">narenas_auto</a>) {</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                <span class="comment">/*</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment">                 * Use an unloaded arena, or the least loaded</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment">                 * arena if all arenas are already initialized.</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="comment">                 */</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                <span class="keywordflow">if</span> (!!j == <span class="keyword">internal</span>) {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                    <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#afc61837312aeb8ba2123252226db9ce0">arena_get</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd),</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                        choose[j], <span class="keyword">false</span>);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                }</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                <a class="code" href="../../da/dc2/structarena__s.html">arena_t</a> *<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160; </div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                <span class="comment">/* Initialize a new arena. */</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                choose[j] = first_null;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a> = <a class="code" href="../../d8/d80/jemalloc_8c.html#a7b9044614d96e3a1b281d53ddfa0752f">arena_init_locked</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd),</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                    choose[j],</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                    (<a class="code" href="../../df/d05/structextent__hooks__s.html">extent_hooks_t</a> *)&amp;<a class="code" href="../../dd/de2/private__namespace_8h.html#ac6d645bd7b2a3e4e3ae0b3b2e0ae7619">extent_hooks_default</a>);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a> == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>) {</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                    <a class="code" href="../../d0/df8/mutex_8h.html#a154125aa931881a4a7f0ee6b59fe96ba">malloc_mutex_unlock</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd),</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                        &amp;<a class="code" href="../../d8/d80/jemalloc_8c.html#a98e3833a2f20e314304e382556ec75f1">arenas_lock</a>);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                }</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                is_new_arena[j] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                <span class="keywordflow">if</span> (!!j == <span class="keyword">internal</span>) {</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                    <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                }</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            }</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            <a class="code" href="../../d8/d80/jemalloc_8c.html#aa21d964b9d890dd25c5bb470eb22a17e">arena_bind</a>(tsd, choose[j], !!j);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        }</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        <a class="code" href="../../d0/df8/mutex_8h.html#a154125aa931881a4a7f0ee6b59fe96ba">malloc_mutex_unlock</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), &amp;<a class="code" href="../../d8/d80/jemalloc_8c.html#a98e3833a2f20e314304e382556ec75f1">arenas_lock</a>);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160; </div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; 2; j++) {</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            <span class="keywordflow">if</span> (is_new_arena[j]) {</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(choose[j] &gt; 0);</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                <a class="code" href="../../d8/d80/jemalloc_8c.html#a56e94527f06f0393905c286f5577b358">arena_new_create_background_thread</a>(</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                    <a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), choose[j]);</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;            }</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        }</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160; </div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#afc61837312aeb8ba2123252226db9ce0">arena_get</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), 0, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#aa21d964b9d890dd25c5bb470eb22a17e">arena_bind</a>(tsd, 0, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#aa21d964b9d890dd25c5bb470eb22a17e">arena_bind</a>(tsd, 0, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160; </div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;}</div>
<div class="ttc" id="aarena__inlines__a_8h_html_a7e4ee8971cbd6b54ad49c9ba46f81d0c"><div class="ttname"><a href="../../de/de3/arena__inlines__a_8h.html#a7e4ee8971cbd6b54ad49c9ba46f81d0c">arena_ind_get</a></div><div class="ttdeci">static unsigned arena_ind_get(const arena_t *arena)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/arena__inlines__a_8h_source.html#l00005">arena_inlines_a.h:5</a></div></div>
<div class="ttc" id="aarena__types_8h_html_a118c260ef7adc893c9d627463fbba787"><div class="ttname"><a href="../../d8/d5e/arena__types_8h.html#a118c260ef7adc893c9d627463fbba787">PERCPU_ARENA_ENABLED</a></div><div class="ttdeci">#define PERCPU_ARENA_ENABLED(m)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/arena__types_8h_source.html#l00042">arena_types.h:42</a></div></div>
<div class="ttc" id="adeps_2jemalloc_2include_2jemalloc_2internal_2util_8h_html_a000aefd29f2af655d2b9fad2fa340e32"><div class="ttname"><a href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a000aefd29f2af655d2b9fad2fa340e32">JEMALLOC_CC_SILENCE_INIT</a></div><div class="ttdeci">#define JEMALLOC_CC_SILENCE_INIT(v)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00029">util.h:29</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a56e94527f06f0393905c286f5577b358"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a56e94527f06f0393905c286f5577b358">arena_new_create_background_thread</a></div><div class="ttdeci">static void arena_new_create_background_thread(tsdn_t *tsdn, unsigned ind)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00346">jemalloc.c:346</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a7b9044614d96e3a1b281d53ddfa0752f"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a7b9044614d96e3a1b281d53ddfa0752f">arena_init_locked</a></div><div class="ttdeci">static arena_t * arena_init_locked(tsdn_t *tsdn, unsigned ind, extent_hooks_t *extent_hooks)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00318">jemalloc.c:318</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a98e3833a2f20e314304e382556ec75f1"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a98e3833a2f20e314304e382556ec75f1">arenas_lock</a></div><div class="ttdeci">malloc_mutex_t arenas_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00078">jemalloc.c:78</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_aa21d964b9d890dd25c5bb470eb22a17e"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#aa21d964b9d890dd25c5bb470eb22a17e">arena_bind</a></div><div class="ttdeci">static void arena_bind(tsd_t *tsd, unsigned ind, bool internal)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00377">jemalloc.c:377</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_ae9d6a15b8260ba57e1781be757233789"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#ae9d6a15b8260ba57e1781be757233789">narenas_auto</a></div><div class="ttdeci">unsigned narenas_auto</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00094">jemalloc.c:94</a></div></div>
<div class="ttc" id="ajemalloc__internal__inlines__a_8h_html_adc87f8418e8b451df413b3a8314429a3"><div class="ttname"><a href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#adc87f8418e8b451df413b3a8314429a3">percpu_arena_choose</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE unsigned percpu_arena_choose(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00025">jemalloc_internal_inlines_a.h:25</a></div></div>
<div class="ttc" id="ajemalloc__preamble_8h_html_abb215e7e187d8b6867f30acad5005dfb"><div class="ttname"><a href="../../d1/d18/jemalloc__preamble_8h.html#abb215e7e187d8b6867f30acad5005dfb">have_percpu_arena</a></div><div class="ttdeci">static const bool have_percpu_arena</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d18/jemalloc__preamble_8h_source.html#l00187">jemalloc_preamble.h:187</a></div></div>
<div class="ttc" id="amutex_8h_html_a154125aa931881a4a7f0ee6b59fe96ba"><div class="ttname"><a href="../../d0/df8/mutex_8h.html#a154125aa931881a4a7f0ee6b59fe96ba">malloc_mutex_unlock</a></div><div class="ttdeci">static void malloc_mutex_unlock(tsdn_t *tsdn, malloc_mutex_t *mutex)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df8/mutex_8h_source.html#l00230">mutex.h:230</a></div></div>
<div class="ttc" id="amutex_8h_html_a8ef3eafed2797ee477454ac0846022c5"><div class="ttname"><a href="../../d0/df8/mutex_8h.html#a8ef3eafed2797ee477454ac0846022c5">malloc_mutex_lock</a></div><div class="ttdeci">static void malloc_mutex_lock(tsdn_t *tsdn, malloc_mutex_t *mutex)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df8/mutex_8h_source.html#l00217">mutex.h:217</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a39e6c2f80817fe9ac29173a252126d6d"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a39e6c2f80817fe9ac29173a252126d6d">arena_nthreads_get</a></div><div class="ttdeci">#define arena_nthreads_get</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00071">private_namespace.h:71</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a46bd2d47e523e083522bdb5f03c607b7"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a46bd2d47e523e083522bdb5f03c607b7">opt_percpu_arena</a></div><div class="ttdeci">#define opt_percpu_arena</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00095">private_namespace.h:95</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_ac6d645bd7b2a3e4e3ae0b3b2e0ae7619"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#ac6d645bd7b2a3e4e3ae0b3b2e0ae7619">extent_hooks_default</a></div><div class="ttdeci">#define extent_hooks_default</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00187">private_namespace.h:187</a></div></div>
<div class="ttc" id="astructextent__hooks__s_html"><div class="ttname"><a href="../../df/d05/structextent__hooks__s.html">extent_hooks_s</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dee/jemalloc_8h_source.html#l00347">jemalloc.h:347</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/dd3/background__thread_8c_source.html#l00057">arena</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00377">arena_bind()</a>, <a class="el" href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00085">arena_get()</a>, <a class="el" href="../../de/de3/arena__inlines__a_8h_source.html#l00005">arena_ind_get()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00318">arena_init_locked()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00346">arena_new_create_background_thread()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00071">arena_nthreads_get</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00078">arenas_lock</a>, <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00187">extent_hooks_default</a>, <a class="el" href="../../d1/d18/jemalloc__preamble_8h_source.html#l00187">have_percpu_arena</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00029">JEMALLOC_CC_SILENCE_INIT</a>, <a class="el" href="../../d0/df8/mutex_8h_source.html#l00217">malloc_mutex_lock()</a>, <a class="el" href="../../d0/df8/mutex_8h_source.html#l00230">malloc_mutex_unlock()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00094">narenas_auto</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00095">opt_percpu_arena</a>, <a class="el" href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00025">percpu_arena_choose()</a>, <a class="el" href="../../d8/d5e/arena__types_8h_source.html#l00042">PERCPU_ARENA_ENABLED</a>, <a class="el" href="../../df/d31/prof_8c_source.html#l00281">ret</a>, and <a class="el" href="../../db/d1d/tsd_8h_source.html#l00224">tsd_tsdn()</a>.</p>

</div>
</div>
<a id="ad872a16b200e178fc3bc6fee3f84ede5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad872a16b200e178fc3bc6fee3f84ede5">&#9670;&nbsp;</a></span>arena_cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void arena_cleanup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *&#160;</td>
          <td class="paramname"><em>tsd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00623">623</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                          {</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <a class="code" href="../../da/dc2/structarena__s.html">arena_t</a> *<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160; </div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a> = tsd_arena_get(tsd);</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a> != <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>) {</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#a8829a0559f24f7eb6523dedc727ae56d">arena_unbind</a>(tsd, <a class="code" href="../../de/de3/arena__inlines__a_8h.html#a7e4ee8971cbd6b54ad49c9ba46f81d0c">arena_ind_get</a>(<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>), <span class="keyword">false</span>);</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    }</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;}</div>
<div class="ttc" id="ajemalloc_8c_html_a8829a0559f24f7eb6523dedc727ae56d"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a8829a0559f24f7eb6523dedc727ae56d">arena_unbind</a></div><div class="ttdeci">static void arena_unbind(tsd_t *tsd, unsigned ind, bool internal)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00408">jemalloc.c:408</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/dd3/background__thread_8c_source.html#l00057">arena</a>, <a class="el" href="../../de/de3/arena__inlines__a_8h_source.html#l00005">arena_ind_get()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00408">arena_unbind()</a>, and <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>.</p>

</div>
</div>
<a id="a23a2391c4ae19597391e5e93f560ce41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23a2391c4ae19597391e5e93f560ce41">&#9670;&nbsp;</a></span>arena_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d5e/arena__types_8h.html#a75ec58797d4c793b05def94ed85c6bdc">arena_t</a>* arena_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *&#160;</td>
          <td class="paramname"><em>tsdn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>ind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dee/jemalloc_8h.html#ae56a2325ce153c144be31a50c5d140f4">extent_hooks_t</a> *&#160;</td>
          <td class="paramname"><em>extent_hooks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00364">364</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                                                                     {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <a class="code" href="../../da/dc2/structarena__s.html">arena_t</a> *<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <a class="code" href="../../d0/df8/mutex_8h.html#a8ef3eafed2797ee477454ac0846022c5">malloc_mutex_lock</a>(tsdn, &amp;<a class="code" href="../../d8/d80/jemalloc_8c.html#a98e3833a2f20e314304e382556ec75f1">arenas_lock</a>);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a> = <a class="code" href="../../d8/d80/jemalloc_8c.html#a7b9044614d96e3a1b281d53ddfa0752f">arena_init_locked</a>(tsdn, ind, extent_hooks);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <a class="code" href="../../d0/df8/mutex_8h.html#a154125aa931881a4a7f0ee6b59fe96ba">malloc_mutex_unlock</a>(tsdn, &amp;<a class="code" href="../../d8/d80/jemalloc_8c.html#a98e3833a2f20e314304e382556ec75f1">arenas_lock</a>);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#a56e94527f06f0393905c286f5577b358">arena_new_create_background_thread</a>(tsdn, ind);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160; </div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/dd3/background__thread_8c_source.html#l00057">arena</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00318">arena_init_locked()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00346">arena_new_create_background_thread()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00078">arenas_lock</a>, <a class="el" href="../../d0/df8/mutex_8h_source.html#l00217">malloc_mutex_lock()</a>, and <a class="el" href="../../d0/df8/mutex_8h_source.html#l00230">malloc_mutex_unlock()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01479">malloc_init_hard_a0_locked()</a>.</p>

</div>
</div>
<a id="a7b9044614d96e3a1b281d53ddfa0752f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b9044614d96e3a1b281d53ddfa0752f">&#9670;&nbsp;</a></span>arena_init_locked()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d8/d5e/arena__types_8h.html#a75ec58797d4c793b05def94ed85c6bdc">arena_t</a>* arena_init_locked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *&#160;</td>
          <td class="paramname"><em>tsdn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>ind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dee/jemalloc_8h.html#ae56a2325ce153c144be31a50c5d140f4">extent_hooks_t</a> *&#160;</td>
          <td class="paramname"><em>extent_hooks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00318">318</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                                                                            {</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <a class="code" href="../../da/dc2/structarena__s.html">arena_t</a> *<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(ind &lt;= <a class="code" href="../../d8/d80/jemalloc_8c.html#a5770c88b2b0c8dd5c610f366f9b160e1">narenas_total_get</a>());</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">if</span> (ind &gt;= <a class="code" href="../../dc/dc4/jemalloc__internal__types_8h.html#ab0acba69002a74c91fadd17848dc8030">MALLOCX_ARENA_LIMIT</a>) {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    }</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordflow">if</span> (ind == <a class="code" href="../../d8/d80/jemalloc_8c.html#a5770c88b2b0c8dd5c610f366f9b160e1">narenas_total_get</a>()) {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#a6dfe917fd6b4618d5c4f3703ae8dfc99">narenas_total_inc</a>();</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    }</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">     * Another thread may have already initialized arenas[ind] if it&#39;s an</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">     * auto arena.</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a> = <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#afc61837312aeb8ba2123252226db9ce0">arena_get</a>(tsdn, ind, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a> != <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>) {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../d9/dfd/jemalloc__internal__inlines__b_8h.html#aa8f2af0fc166800101b06f7ade39a97b">arena_is_auto</a>(<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>));</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="comment">/* Actually initialize the arena. */</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a> = <a class="code" href="../../dd/de2/private__namespace_8h.html#a596afb53afbeba42fded7f2609497196">arena_new</a>(tsdn, ind, extent_hooks);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;}</div>
<div class="ttc" id="ajemalloc_8c_html_a5770c88b2b0c8dd5c610f366f9b160e1"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a5770c88b2b0c8dd5c610f366f9b160e1">narenas_total_get</a></div><div class="ttdeci">unsigned narenas_total_get(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00312">jemalloc.c:312</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a6dfe917fd6b4618d5c4f3703ae8dfc99"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a6dfe917fd6b4618d5c4f3703ae8dfc99">narenas_total_inc</a></div><div class="ttdeci">static void narenas_total_inc(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00307">jemalloc.c:307</a></div></div>
<div class="ttc" id="ajemalloc__internal__inlines__b_8h_html_aa8f2af0fc166800101b06f7ade39a97b"><div class="ttname"><a href="../../d9/dfd/jemalloc__internal__inlines__b_8h.html#aa8f2af0fc166800101b06f7ade39a97b">arena_is_auto</a></div><div class="ttdeci">static bool arena_is_auto(arena_t *arena)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dfd/jemalloc__internal__inlines__b_8h_source.html#l00072">jemalloc_internal_inlines_b.h:72</a></div></div>
<div class="ttc" id="ajemalloc__internal__types_8h_html_ab0acba69002a74c91fadd17848dc8030"><div class="ttname"><a href="../../dc/dc4/jemalloc__internal__types_8h.html#ab0acba69002a74c91fadd17848dc8030">MALLOCX_ARENA_LIMIT</a></div><div class="ttdeci">#define MALLOCX_ARENA_LIMIT</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc4/jemalloc__internal__types_8h_source.html#l00034">jemalloc_internal_types.h:34</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a596afb53afbeba42fded7f2609497196"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a596afb53afbeba42fded7f2609497196">arena_new</a></div><div class="ttdeci">#define arena_new</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00069">private_namespace.h:69</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/dd3/background__thread_8c_source.html#l00057">arena</a>, <a class="el" href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00085">arena_get()</a>, <a class="el" href="../../d9/dfd/jemalloc__internal__inlines__b_8h_source.html#l00072">arena_is_auto()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00069">arena_new</a>, <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../dc/dc4/jemalloc__internal__types_8h_source.html#l00034">MALLOCX_ARENA_LIMIT</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00312">narenas_total_get()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00307">narenas_total_inc()</a>, and <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00499">arena_choose_hard()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00364">arena_init()</a>.</p>

</div>
</div>
<a id="acc022d852b359588883f5540fb2e3331"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc022d852b359588883f5540fb2e3331">&#9670;&nbsp;</a></span>arena_migrate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void arena_migrate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *&#160;</td>
          <td class="paramname"><em>tsd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>oldind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>newind</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00397">397</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                                                            {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <a class="code" href="../../da/dc2/structarena__s.html">arena_t</a> *oldarena, *newarena;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160; </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    oldarena = <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#afc61837312aeb8ba2123252226db9ce0">arena_get</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), oldind, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    newarena = <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#afc61837312aeb8ba2123252226db9ce0">arena_get</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), newind, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#a9676d28ade33f23c1ead800c5fc12952">arena_nthreads_dec</a>(oldarena, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#a40a13af00eafceb03fac524a1ba3ca45">arena_nthreads_inc</a>(newarena, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    tsd_arena_set(tsd, newarena);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;}</div>
<div class="ttc" id="aprivate__namespace_8h_html_a9676d28ade33f23c1ead800c5fc12952"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a9676d28ade33f23c1ead800c5fc12952">arena_nthreads_dec</a></div><div class="ttdeci">#define arena_nthreads_dec</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00070">private_namespace.h:70</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00085">arena_get()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00070">arena_nthreads_dec</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00072">arena_nthreads_inc</a>, and <a class="el" href="../../db/d1d/tsd_8h_source.html#l00224">tsd_tsdn()</a>.</p>

</div>
</div>
<a id="a56e94527f06f0393905c286f5577b358"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56e94527f06f0393905c286f5577b358">&#9670;&nbsp;</a></span>arena_new_create_background_thread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void arena_new_create_background_thread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *&#160;</td>
          <td class="paramname"><em>tsdn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>ind</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00346">346</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                                                               {</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">if</span> (ind == 0) {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    }</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">     * Avoid creating a new background thread just for the huge arena, which</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">     * purges eagerly by default.</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/d18/jemalloc__preamble_8h.html#ae33bd0d1072ba0ee3d48cd7097e3ea91">have_background_thread</a> &amp;&amp; !<a class="code" href="../../dd/de2/private__namespace_8h.html#ae8b8883c858e055dbf4e6f48d202eb90">arena_is_huge</a>(ind)) {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/de2/private__namespace_8h.html#a82bc6b5fc3920279d2c0b6ca1e650083">background_thread_create</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a261ce33c28d5ef1b6e80d94b18b574d0">tsdn_tsd</a>(tsdn), ind)) {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            <a class="code" href="../../dd/de2/private__namespace_8h.html#a7b2422411cb389953ee92174ade9fb46">malloc_printf</a>(<span class="stringliteral">&quot;&lt;jemalloc&gt;: error in background thread &quot;</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                      <span class="stringliteral">&quot;creation for arena %u. Abort.\n&quot;</span>, ind);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            abort();</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;}</div>
<div class="ttc" id="ajemalloc__preamble_8h_html_ae33bd0d1072ba0ee3d48cd7097e3ea91"><div class="ttname"><a href="../../d1/d18/jemalloc__preamble_8h.html#ae33bd0d1072ba0ee3d48cd7097e3ea91">have_background_thread</a></div><div class="ttdeci">static const bool have_background_thread</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d18/jemalloc__preamble_8h_source.html#l00205">jemalloc_preamble.h:205</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a7b2422411cb389953ee92174ade9fb46"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a7b2422411cb389953ee92174ade9fb46">malloc_printf</a></div><div class="ttdeci">#define malloc_printf</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00247">private_namespace.h:247</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a82bc6b5fc3920279d2c0b6ca1e650083"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a82bc6b5fc3920279d2c0b6ca1e650083">background_thread_create</a></div><div class="ttdeci">#define background_thread_create</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00100">private_namespace.h:100</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_ae8b8883c858e055dbf4e6f48d202eb90"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#ae8b8883c858e055dbf4e6f48d202eb90">arena_is_huge</a></div><div class="ttdeci">#define arena_is_huge</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00063">private_namespace.h:63</a></div></div>
<div class="ttc" id="atsd_8h_html_a261ce33c28d5ef1b6e80d94b18b574d0"><div class="ttname"><a href="../../db/d1d/tsd_8h.html#a261ce33c28d5ef1b6e80d94b18b574d0">tsdn_tsd</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE tsd_t * tsdn_tsd(tsdn_t *tsdn)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d1d/tsd_8h_source.html#l00234">tsd.h:234</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00063">arena_is_huge</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00100">background_thread_create</a>, <a class="el" href="../../d1/d18/jemalloc__preamble_8h_source.html#l00205">have_background_thread</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00247">malloc_printf</a>, and <a class="el" href="../../db/d1d/tsd_8h_source.html#l00234">tsdn_tsd()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00499">arena_choose_hard()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00364">arena_init()</a>.</p>

</div>
</div>
<a id="ab38b484579c03fb2dd6b55382040bd92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab38b484579c03fb2dd6b55382040bd92">&#9670;&nbsp;</a></span>arena_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void arena_set </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>ind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d5e/arena__types_8h.html#a75ec58797d4c793b05def94ed85c6bdc">arena_t</a> *&#160;</td>
          <td class="paramname"><em>arena</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00297">297</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                                        {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    atomic_store_p(&amp;<a class="code" href="../../d8/d80/jemalloc_8c.html#aa4c32fd6a358b290e1d8b304c44b313f">arenas</a>[ind], <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>, <a class="code" href="../../dd/d02/atomic_8h.html#af6d707b5e3c644791fa02b15cd8fca3c">ATOMIC_RELEASE</a>);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;}</div>
<div class="ttc" id="aatomic_8h_html_af6d707b5e3c644791fa02b15cd8fca3c"><div class="ttname"><a href="../../dd/d02/atomic_8h.html#af6d707b5e3c644791fa02b15cd8fca3c">ATOMIC_RELEASE</a></div><div class="ttdeci">#define ATOMIC_RELEASE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d02/atomic_8h_source.html#l00050">atomic.h:50</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_aa4c32fd6a358b290e1d8b304c44b313f"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#aa4c32fd6a358b290e1d8b304c44b313f">arenas</a></div><div class="ttdeci">atomic_p_t arenas[MALLOCX_ARENA_LIMIT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00090">jemalloc.c:90</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/dd3/background__thread_8c_source.html#l00057">arena</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00090">arenas</a>, and <a class="el" href="../../dd/d02/atomic_8h_source.html#l00050">ATOMIC_RELEASE</a>.</p>

</div>
</div>
<a id="ab90091d79e4a43ba66568c65116b0685"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab90091d79e4a43ba66568c65116b0685">&#9670;&nbsp;</a></span>arena_tdata_get_hard()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d5e/arena__types_8h.html#a5ef4b03a2e959bc0484b87ccde88afc5">arena_tdata_t</a>* arena_tdata_get_hard </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *&#160;</td>
          <td class="paramname"><em>tsd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>ind</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00422">422</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                                               {</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <a class="code" href="../../d3/d08/structarena__tdata__s.html">arena_tdata_t</a> *tdata, *arenas_tdata_old;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <a class="code" href="../../d3/d08/structarena__tdata__s.html">arena_tdata_t</a> *arenas_tdata = tsd_arenas_tdata_get(tsd);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordtype">unsigned</span> narenas_tdata_old, i;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordtype">unsigned</span> narenas_tdata = tsd_narenas_tdata_get(tsd);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordtype">unsigned</span> narenas_actual = <a class="code" href="../../d8/d80/jemalloc_8c.html#a5770c88b2b0c8dd5c610f366f9b160e1">narenas_total_get</a>();</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160; </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment">     * Dissociate old tdata array (and set up for deallocation upon return)</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment">     * if it&#39;s too small.</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">if</span> (arenas_tdata != <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a> &amp;&amp; narenas_tdata &lt; narenas_actual) {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        arenas_tdata_old = arenas_tdata;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        narenas_tdata_old = narenas_tdata;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        arenas_tdata = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        narenas_tdata = 0;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        tsd_arenas_tdata_set(tsd, arenas_tdata);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        tsd_narenas_tdata_set(tsd, narenas_tdata);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        arenas_tdata_old = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        narenas_tdata_old = 0;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    }</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160; </div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="comment">/* Allocate tdata array if it&#39;s missing. */</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordflow">if</span> (arenas_tdata == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>) {</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keywordtype">bool</span> *arenas_tdata_bypassp = tsd_arenas_tdata_bypassp_get(tsd);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        narenas_tdata = (ind &lt; narenas_actual) ? narenas_actual : ind+1;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160; </div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/d1d/tsd_8h.html#ae71fbc4665c4ceabddd7847431838a7b">tsd_nominal</a>(tsd) &amp;&amp; !*arenas_tdata_bypassp) {</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            *arenas_tdata_bypassp = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            arenas_tdata = (<a class="code" href="../../d3/d08/structarena__tdata__s.html">arena_tdata_t</a> *)<a class="code" href="../../d8/d80/jemalloc_8c.html#a09ca1dbe9a31eeae0defd51fa17514ae">a0malloc</a>(</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                <span class="keyword">sizeof</span>(<a class="code" href="../../d3/d08/structarena__tdata__s.html">arena_tdata_t</a>) * narenas_tdata);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            *arenas_tdata_bypassp = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <span class="keywordflow">if</span> (arenas_tdata == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>) {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            tdata = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            <span class="keywordflow">goto</span> label_return;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        }</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../db/d1d/tsd_8h.html#ae71fbc4665c4ceabddd7847431838a7b">tsd_nominal</a>(tsd) &amp;&amp; !*arenas_tdata_bypassp);</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        tsd_arenas_tdata_set(tsd, arenas_tdata);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        tsd_narenas_tdata_set(tsd, narenas_tdata);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    }</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160; </div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment">     * Copy to tdata array.  It&#39;s possible that the actual number of arenas</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment">     * has increased since narenas_total_get() was called above, but that</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment">     * causes no correctness issues unless two threads concurrently execute</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment">     * the arenas.create mallctl, which we trust mallctl synchronization to</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment">     * prevent.</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160; </div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="comment">/* Copy/initialize tickers. */</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; narenas_actual; i++) {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="keywordflow">if</span> (i &lt; narenas_tdata_old) {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            <a class="code" href="../../d1/d16/ticker_8h.html#a1a22fabc78723e360848b494fb3eebd5">ticker_copy</a>(&amp;arenas_tdata[i].decay_ticker,</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                &amp;arenas_tdata_old[i].decay_ticker);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            <a class="code" href="../../d1/d16/ticker_8h.html#aaec50faf2156979d3bb8bed765cd7cc3">ticker_init</a>(&amp;arenas_tdata[i].decay_ticker,</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                <a class="code" href="../../d8/d5e/arena__types_8h.html#ae9df44744ad6398f3936e466b68dcbd3">DECAY_NTICKS_PER_UPDATE</a>);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        }</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    }</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordflow">if</span> (narenas_tdata &gt; narenas_actual) {</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(&amp;arenas_tdata[narenas_actual], 0, <span class="keyword">sizeof</span>(<a class="code" href="../../d3/d08/structarena__tdata__s.html">arena_tdata_t</a>)</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            * (narenas_tdata - narenas_actual));</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    }</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160; </div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="comment">/* Read the refreshed tdata array. */</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    tdata = &amp;arenas_tdata[ind];</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;label_return:</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">if</span> (arenas_tdata_old != <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>) {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#ae36b0c28334a91f4e47068093f14e7c9">a0dalloc</a>(arenas_tdata_old);</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    }</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordflow">return</span> tdata;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;}</div>
<div class="ttc" id="aarena__types_8h_html_ae9df44744ad6398f3936e466b68dcbd3"><div class="ttname"><a href="../../d8/d5e/arena__types_8h.html#ae9df44744ad6398f3936e466b68dcbd3">DECAY_NTICKS_PER_UPDATE</a></div><div class="ttdeci">#define DECAY_NTICKS_PER_UPDATE</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/arena__types_8h_source.html#l00014">arena_types.h:14</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a09ca1dbe9a31eeae0defd51fa17514ae"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a09ca1dbe9a31eeae0defd51fa17514ae">a0malloc</a></div><div class="ttdeci">void * a0malloc(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00250">jemalloc.c:250</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_ae36b0c28334a91f4e47068093f14e7c9"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#ae36b0c28334a91f4e47068093f14e7c9">a0dalloc</a></div><div class="ttdeci">void a0dalloc(void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00255">jemalloc.c:255</a></div></div>
<div class="ttc" id="am__string_8h_html_af1756e67d46227b3333bc21a1fadd361"><div class="ttname"><a href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a></div><div class="ttdeci">#define memset(A, C, B)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dda/m__string_8h_source.html#l00051">m_string.h:51</a></div></div>
<div class="ttc" id="astructarena__tdata__s_html"><div class="ttname"><a href="../../d3/d08/structarena__tdata__s.html">arena_tdata_s</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de1/arena__structs__b_8h_source.html#l00222">arena_structs_b.h:222</a></div></div>
<div class="ttc" id="aticker_8h_html_a1a22fabc78723e360848b494fb3eebd5"><div class="ttname"><a href="../../d1/d16/ticker_8h.html#a1a22fabc78723e360848b494fb3eebd5">ticker_copy</a></div><div class="ttdeci">static void ticker_copy(ticker_t *ticker, const ticker_t *other)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/ticker_8h_source.html#l00026">ticker.h:26</a></div></div>
<div class="ttc" id="aticker_8h_html_aaec50faf2156979d3bb8bed765cd7cc3"><div class="ttname"><a href="../../d1/d16/ticker_8h.html#aaec50faf2156979d3bb8bed765cd7cc3">ticker_init</a></div><div class="ttdeci">static void ticker_init(ticker_t *ticker, int32_t nticks)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/ticker_8h_source.html#l00020">ticker.h:20</a></div></div>
<div class="ttc" id="atsd_8h_html_ae71fbc4665c4ceabddd7847431838a7b"><div class="ttname"><a href="../../db/d1d/tsd_8h.html#ae71fbc4665c4ceabddd7847431838a7b">tsd_nominal</a></div><div class="ttdeci">static bool tsd_nominal(tsd_t *tsd)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d1d/tsd_8h_source.html#l00381">tsd.h:381</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00255">a0dalloc()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00250">a0malloc()</a>, <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../d8/d5e/arena__types_8h_source.html#l00014">DECAY_NTICKS_PER_UPDATE</a>, <a class="el" href="../../d6/dda/m__string_8h_source.html#l00051">memset</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00312">narenas_total_get()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../d1/d16/ticker_8h_source.html#l00026">ticker_copy()</a>, <a class="el" href="../../d1/d16/ticker_8h_source.html#l00020">ticker_init()</a>, and <a class="el" href="../../db/d1d/tsd_8h_source.html#l00381">tsd_nominal()</a>.</p>

</div>
</div>
<a id="a8829a0559f24f7eb6523dedc727ae56d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8829a0559f24f7eb6523dedc727ae56d">&#9670;&nbsp;</a></span>arena_unbind()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void arena_unbind </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *&#160;</td>
          <td class="paramname"><em>tsd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>ind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>internal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00408">408</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                                                      {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <a class="code" href="../../da/dc2/structarena__s.html">arena_t</a> *<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a> = <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#afc61837312aeb8ba2123252226db9ce0">arena_get</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), ind, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#a9676d28ade33f23c1ead800c5fc12952">arena_nthreads_dec</a>(<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>, <span class="keyword">internal</span>);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160; </div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">internal</span>) {</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        tsd_iarena_set(tsd, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        tsd_arena_set(tsd, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    }</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/dd3/background__thread_8c_source.html#l00057">arena</a>, <a class="el" href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00085">arena_get()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00070">arena_nthreads_dec</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, and <a class="el" href="../../db/d1d/tsd_8h_source.html#l00224">tsd_tsdn()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00623">arena_cleanup()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00613">iarena_cleanup()</a>.</p>

</div>
</div>
<a id="a3e38d282bc2e69c45ee652459f32fc10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e38d282bc2e69c45ee652459f32fc10">&#9670;&nbsp;</a></span>arenas_tdata_cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void arenas_tdata_cleanup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *&#160;</td>
          <td class="paramname"><em>tsd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00633">633</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                                 {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <a class="code" href="../../d3/d08/structarena__tdata__s.html">arena_tdata_t</a> *arenas_tdata;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160; </div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="comment">/* Prevent tsd-&gt;arenas_tdata from being (re)created. */</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    *tsd_arenas_tdata_bypassp_get(tsd) = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160; </div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    arenas_tdata = tsd_arenas_tdata_get(tsd);</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="keywordflow">if</span> (arenas_tdata != <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>) {</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        tsd_arenas_tdata_set(tsd, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#ae36b0c28334a91f4e47068093f14e7c9">a0dalloc</a>(arenas_tdata);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    }</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00255">a0dalloc()</a>, and <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>.</p>

</div>
</div>
<a id="a7a9d2c5789fdacdd85310f4f6dee359f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a9d2c5789fdacdd85310f4f6dee359f">&#9670;&nbsp;</a></span>bootstrap_calloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* bootstrap_calloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00275">275</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                                          {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordtype">size_t</span> num_size;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    num_size = num * size;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(num_size == 0)) {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(num == 0 || size == 0);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        num_size = 1;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d80/jemalloc_8c.html#af9ff561da5d3f1a5e656c4837dea6f77">a0ialloc</a>(num_size, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00235">a0ialloc()</a>, <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, and <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00036">unlikely</a>.</p>

</div>
</div>
<a id="a8ef70288b6bf0bc5482a01c047a094eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ef70288b6bf0bc5482a01c047a094eb">&#9670;&nbsp;</a></span>bootstrap_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bootstrap_free </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00288">288</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                          {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a> == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>)) {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    }</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#afe1e47e1fa4f829e8c111c4c3f389fdc">a0idalloc</a>(<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00245">a0idalloc()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h_source.html#l02451">ptr()</a>, and <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00036">unlikely</a>.</p>

</div>
</div>
<a id="a7da19b772cc5105e6e7948a9364474a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7da19b772cc5105e6e7948a9364474a0">&#9670;&nbsp;</a></span>bootstrap_malloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* bootstrap_malloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00266">266</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                              {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(size == 0)) {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        size = 1;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d80/jemalloc_8c.html#af9ff561da5d3f1a5e656c4837dea6f77">a0ialloc</a>(size, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00235">a0ialloc()</a>, and <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00036">unlikely</a>.</p>

</div>
</div>
<a id="ab159f1c3520c779394df6b2c2038a3c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab159f1c3520c779394df6b2c2038a3c0">&#9670;&nbsp;</a></span>check_entry_exit_locking()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> void check_entry_exit_locking </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *&#160;</td>
          <td class="paramname"><em>tsdn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00684">684</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                                       {</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a86146c45a3404703342db7e08f9156fb">config_debug</a>) {</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    }</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/d1d/tsd_8h.html#a46a186c007cb1897b80f014c43f762ba">tsdn_null</a>(tsdn)) {</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    }</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <a class="code" href="../../dc/d5c/structtsd__s.html">tsd_t</a> *tsd = <a class="code" href="../../db/d1d/tsd_8h.html#a261ce33c28d5ef1b6e80d94b18b574d0">tsdn_tsd</a>(tsdn);</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;<span class="comment">     * It&#39;s possible we hold locks at entry/exit if we&#39;re in a nested</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;<span class="comment">     * allocation.</span></div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#aef44329758059c91c76d334e8fc09700">int8_t</a> reentrancy_level = tsd_reentrancy_level_get(tsd);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="keywordflow">if</span> (reentrancy_level != 0) {</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    }</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <a class="code" href="../../dc/ddf/witness_8h.html#a4ed1ee40ac9d1d6876e6d804c7f418a1">witness_assert_lockless</a>(tsdn_witness_tsdp_get(tsdn));</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;}</div>
<div class="ttc" id="ajemalloc_2include_2msvc__compat_2_c99_2stdint_8h_html_aef44329758059c91c76d334e8fc09700"><div class="ttname"><a href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#aef44329758059c91c76d334e8fc09700">int8_t</a></div><div class="ttdeci">signed char int8_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h_source.html#l00075">stdint.h:75</a></div></div>
<div class="ttc" id="ajemalloc__internal_8h_html_a86146c45a3404703342db7e08f9156fb"><div class="ttname"><a href="../../d9/d33/jemalloc__internal_8h.html#a86146c45a3404703342db7e08f9156fb">config_debug</a></div><div class="ttdeci">static const bool config_debug</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/jemalloc__internal_8h_source.html#l00078">jemalloc_internal.h:78</a></div></div>
<div class="ttc" id="astructtsd__s_html"><div class="ttname"><a href="../../dc/d5c/structtsd__s.html">tsd_s</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d1d/tsd_8h_source.html#l00185">tsd.h:185</a></div></div>
<div class="ttc" id="atsd_8h_html_a46a186c007cb1897b80f014c43f762ba"><div class="ttname"><a href="../../db/d1d/tsd_8h.html#a46a186c007cb1897b80f014c43f762ba">tsdn_null</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE bool tsdn_null(const tsdn_t *tsdn)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d1d/tsd_8h_source.html#l00229">tsd.h:229</a></div></div>
<div class="ttc" id="awitness_8h_html_a4ed1ee40ac9d1d6876e6d804c7f418a1"><div class="ttname"><a href="../../dc/ddf/witness_8h.html#a4ed1ee40ac9d1d6876e6d804c7f418a1">witness_assert_lockless</a></div><div class="ttdeci">static void witness_assert_lockless(witness_tsdn_t *witness_tsdn)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/ddf/witness_8h_source.html#l00270">witness.h:270</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00078">config_debug</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00229">tsdn_null()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00234">tsdn_tsd()</a>, and <a class="el" href="../../dc/ddf/witness_8h_source.html#l00270">witness_assert_lockless()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02771">free_default()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02556">ifree()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02028">imalloc_body()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03534">inallocx()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02595">isfree()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03487">je_dallocx()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03645">je_mallctl()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03687">je_mallctlbymib()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03667">je_mallctlnametomib()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03708">je_malloc_stats_print()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03722">je_malloc_usable_size()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03619">je_nallocx()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03216">je_rallocx()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02653">je_realloc()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03461">je_sallocx()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03390">je_xallocx()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03548">sdallocx_default()</a>.</p>

</div>
</div>
<a id="a841707a7d2371a5c4f14e2d72ffca96d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a841707a7d2371a5c4f14e2d72ffca96d">&#9670;&nbsp;</a></span>compute_size_with_overflow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> compute_size_with_overflow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>may_overflow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d80/jemalloc_8c.html#ac85ffbc3906fc597d30fd0db704f0274">dynamic_opts_t</a> *&#160;</td>
          <td class="paramname"><em>dopts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01990">1990</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;                  {</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;<span class="comment">     * This function is just num_items * item_size, except that we may have</span></div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;<span class="comment">     * to check for overflow.</span></div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160; </div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;    <span class="keywordflow">if</span> (!may_overflow) {</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;        <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a09036727e3c2f6fe0562cab93596b44d">num_items</a> == 1);</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;        *size = dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a5b1852bd64ab79b0bca4ff94046773c8">item_size</a>;</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;    }</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160; </div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;    <span class="comment">/* A size_t with its high-half bits all set to 1. */</span></div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> high_bits = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#acfa3af56d5e0045c1d7a5682fd1d2853">SIZE_T_MAX</a> &lt;&lt; (<span class="keyword">sizeof</span>(size_t) * 8 / 2);</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160; </div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;    *size = dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a5b1852bd64ab79b0bca4ff94046773c8">item_size</a> * dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a09036727e3c2f6fe0562cab93596b44d">num_items</a>;</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160; </div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(*size == 0)) {</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;        <span class="keywordflow">return</span> (dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a09036727e3c2f6fe0562cab93596b44d">num_items</a> != 0 &amp;&amp; dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a5b1852bd64ab79b0bca4ff94046773c8">item_size</a> != 0);</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;    }</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160; </div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;<span class="comment">     * We got a non-zero size, but we don&#39;t know if we overflowed to get</span></div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;<span class="comment">     * there.  To avoid having to do a divide, we&#39;ll be clever and note that</span></div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;<span class="comment">     * if both A and B can be represented in N/2 bits, then their product</span></div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;<span class="comment">     * can be represented in N bits (without the possibility of overflow).</span></div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a217a0bd562b98ae8c2ffce44935351e1">likely</a>((high_bits &amp; (dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a09036727e3c2f6fe0562cab93596b44d">num_items</a> | dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a5b1852bd64ab79b0bca4ff94046773c8">item_size</a>)) == 0)) {</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;    }</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a217a0bd562b98ae8c2ffce44935351e1">likely</a>(*size / dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a5b1852bd64ab79b0bca4ff94046773c8">item_size</a> == dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a09036727e3c2f6fe0562cab93596b44d">num_items</a>)) {</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;    }</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;}</div>
<div class="ttc" id="adeps_2jemalloc_2include_2jemalloc_2internal_2util_8h_html_a217a0bd562b98ae8c2ffce44935351e1"><div class="ttname"><a href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a217a0bd562b98ae8c2ffce44935351e1">likely</a></div><div class="ttdeci">#define likely(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00035">util.h:35</a></div></div>
<div class="ttc" id="ajemalloc__internal_8h_html_acfa3af56d5e0045c1d7a5682fd1d2853"><div class="ttname"><a href="../../d9/d33/jemalloc__internal_8h.html#acfa3af56d5e0045c1d7a5682fd1d2853">SIZE_T_MAX</a></div><div class="ttdeci">#define SIZE_T_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/jemalloc__internal_8h_source.html#l00029">jemalloc_internal.h:29</a></div></div>
<div class="ttc" id="astructdynamic__opts__s_html_a09036727e3c2f6fe0562cab93596b44d"><div class="ttname"><a href="../../d0/d96/structdynamic__opts__s.html#a09036727e3c2f6fe0562cab93596b44d">dynamic_opts_s::num_items</a></div><div class="ttdeci">size_t num_items</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01890">jemalloc.c:1890</a></div></div>
<div class="ttc" id="astructdynamic__opts__s_html_a5b1852bd64ab79b0bca4ff94046773c8"><div class="ttname"><a href="../../d0/d96/structdynamic__opts__s.html#a5b1852bd64ab79b0bca4ff94046773c8">dynamic_opts_s::item_size</a></div><div class="ttdeci">size_t item_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01891">jemalloc.c:1891</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01891">dynamic_opts_s::item_size</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00035">likely</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01890">dynamic_opts_s::num_items</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00029">SIZE_T_MAX</a>, and <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00036">unlikely</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02028">imalloc_body()</a>.</p>

</div>
</div>
<a id="ab053d14ca62b4edf38d6165e66cd375f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab053d14ca62b4edf38d6165e66cd375f">&#9670;&nbsp;</a></span>dynamic_opts_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> void dynamic_opts_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d80/jemalloc_8c.html#ac85ffbc3906fc597d30fd0db704f0274">dynamic_opts_t</a> *&#160;</td>
          <td class="paramname"><em>dynamic_opts</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01899">1899</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;                                                {</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    dynamic_opts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a4b1c019538c6575926e2e473a2b61b12">result</a> = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    dynamic_opts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#aac2e4c6545d8e1f161ead8d1ed832132">usize</a> = 0;</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;    dynamic_opts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a09036727e3c2f6fe0562cab93596b44d">num_items</a> = 0;</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;    dynamic_opts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a5b1852bd64ab79b0bca4ff94046773c8">item_size</a> = 0;</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;    dynamic_opts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a55cc50f3754f427fb1e636226a78c70b">alignment</a> = 0;</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;    dynamic_opts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a17d08eb2365fff3499bd4dac13fda106">zero</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;    dynamic_opts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#ae1a649743f27493bc9f8a990f86de36e">tcache_ind</a> = <a class="code" href="../../d8/d80/jemalloc_8c.html#a089922bccba51a5452ad46e30a6e1572">TCACHE_IND_AUTOMATIC</a>;</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    dynamic_opts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a7b814130e575e883adc2db17c8e9dd73">arena_ind</a> = <a class="code" href="../../d8/d80/jemalloc_8c.html#a698bb0ab65b175bfa83ee515e5489dcc">ARENA_IND_AUTOMATIC</a>;</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;}</div>
<div class="ttc" id="ajemalloc_8c_html_a089922bccba51a5452ad46e30a6e1572"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a089922bccba51a5452ad46e30a6e1572">TCACHE_IND_AUTOMATIC</a></div><div class="ttdeci">#define TCACHE_IND_AUTOMATIC</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01883">jemalloc.c:1883</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a698bb0ab65b175bfa83ee515e5489dcc"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a698bb0ab65b175bfa83ee515e5489dcc">ARENA_IND_AUTOMATIC</a></div><div class="ttdeci">#define ARENA_IND_AUTOMATIC</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01884">jemalloc.c:1884</a></div></div>
<div class="ttc" id="astructdynamic__opts__s_html_a17d08eb2365fff3499bd4dac13fda106"><div class="ttname"><a href="../../d0/d96/structdynamic__opts__s.html#a17d08eb2365fff3499bd4dac13fda106">dynamic_opts_s::zero</a></div><div class="ttdeci">bool zero</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01893">jemalloc.c:1893</a></div></div>
<div class="ttc" id="astructdynamic__opts__s_html_a4b1c019538c6575926e2e473a2b61b12"><div class="ttname"><a href="../../d0/d96/structdynamic__opts__s.html#a4b1c019538c6575926e2e473a2b61b12">dynamic_opts_s::result</a></div><div class="ttdeci">void ** result</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01888">jemalloc.c:1888</a></div></div>
<div class="ttc" id="astructdynamic__opts__s_html_a55cc50f3754f427fb1e636226a78c70b"><div class="ttname"><a href="../../d0/d96/structdynamic__opts__s.html#a55cc50f3754f427fb1e636226a78c70b">dynamic_opts_s::alignment</a></div><div class="ttdeci">size_t alignment</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01892">jemalloc.c:1892</a></div></div>
<div class="ttc" id="astructdynamic__opts__s_html_a7b814130e575e883adc2db17c8e9dd73"><div class="ttname"><a href="../../d0/d96/structdynamic__opts__s.html#a7b814130e575e883adc2db17c8e9dd73">dynamic_opts_s::arena_ind</a></div><div class="ttdeci">unsigned arena_ind</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01895">jemalloc.c:1895</a></div></div>
<div class="ttc" id="astructdynamic__opts__s_html_aac2e4c6545d8e1f161ead8d1ed832132"><div class="ttname"><a href="../../d0/d96/structdynamic__opts__s.html#aac2e4c6545d8e1f161ead8d1ed832132">dynamic_opts_s::usize</a></div><div class="ttdeci">size_t usize</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01889">jemalloc.c:1889</a></div></div>
<div class="ttc" id="astructdynamic__opts__s_html_ae1a649743f27493bc9f8a990f86de36e"><div class="ttname"><a href="../../d0/d96/structdynamic__opts__s.html#ae1a649743f27493bc9f8a990f86de36e">dynamic_opts_s::tcache_ind</a></div><div class="ttdeci">unsigned tcache_ind</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01894">jemalloc.c:1894</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01892">dynamic_opts_s::alignment</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01895">dynamic_opts_s::arena_ind</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01884">ARENA_IND_AUTOMATIC</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01891">dynamic_opts_s::item_size</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01890">dynamic_opts_s::num_items</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01888">dynamic_opts_s::result</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01894">dynamic_opts_s::tcache_ind</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01883">TCACHE_IND_AUTOMATIC</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01889">dynamic_opts_s::usize</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01893">dynamic_opts_s::zero</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02393">je_posix_memalign()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02653">je_realloc()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02271">malloc_default()</a>.</p>

</div>
</div>
<a id="adad8f676c21d5299883d9e98226aafee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adad8f676c21d5299883d9e98226aafee">&#9670;&nbsp;</a></span>free_default()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/dee/jemalloc_8h.html#a33ce01f92103ee0fd1dc201fcd3551e8">JEMALLOC_NOINLINE</a> void free_default </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02771">2771</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;                        {</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ac6bcbb3858b3ceee509112e7b82b2d2f">UTRACE</a>(<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, 0, 0);</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a217a0bd562b98ae8c2ffce44935351e1">likely</a>(<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a> != <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>)) {</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;<span class="comment">         * We avoid setting up tsd fully (e.g. tcache, arena binding)</span></div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;<span class="comment">         * based on only free() calls -- other activities trigger the</span></div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;<span class="comment">         * minimal to full transition.  This is because free() may</span></div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;<span class="comment">         * happen during thread shutdown after tls deallocation: if a</span></div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;<span class="comment">         * thread never had any malloc activities until then, a</span></div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;<span class="comment">         * fully-setup tsd won&#39;t be destructed properly.</span></div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;        <a class="code" href="../../dc/d5c/structtsd__s.html">tsd_t</a> *tsd = <a class="code" href="../../db/d1d/tsd_8h.html#ace087969b571d024b734120bdb7a3b2f">tsd_fetch_min</a>();</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160; </div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;        <a class="code" href="../../db/d17/structtcache__s.html">tcache_t</a> *tcache;</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a217a0bd562b98ae8c2ffce44935351e1">likely</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a544b1abcfa6f150ab2358ba945862788">tsd_fast</a>(tsd))) {</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;            <a class="code" href="../../db/d1d/tsd_8h.html#a4339c0d1e319a36f93bbfb00a515499f">tsd_assert_fast</a>(tsd);</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;            <span class="comment">/* Unconditionally get tcache ptr on fast path. */</span></div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;            tcache = tsd_tcachep_get(tsd);</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;            <a class="code" href="../../d8/d80/jemalloc_8c.html#ae6d1ee3e064dc8bbb43b91362b19dd2c">ifree</a>(tsd, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, tcache, <span class="keyword">false</span>);</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a217a0bd562b98ae8c2ffce44935351e1">likely</a>(tsd_reentrancy_level_get(tsd) == 0)) {</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;                tcache = <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#a609f26d4412101faf7c34036aa9cd977">tcache_get</a>(tsd);</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;                tcache = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;            }</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;            <a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a> args_raw[3] = {(<a class="code" href="../../dc/d53/solaris_8h.html#ae5eb047989776ef8f364bc84ed316394">uintptr_t</a>)<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>};</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;            <a class="code" href="../../dd/de2/private__namespace_8h.html#a6abeb38bd2c0f36c48fa3ba81abaa69e">hook_invoke_dalloc</a>(<a class="code" href="../../d6/d34/hook_8h.html#acb15ae0a3a05274cb91b8a4882969b54a84cd781ac1239a6e344cdf33bbd4b902">hook_dalloc_free</a>, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, args_raw);</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;            <a class="code" href="../../d8/d80/jemalloc_8c.html#ae6d1ee3e064dc8bbb43b91362b19dd2c">ifree</a>(tsd, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, tcache, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;        }</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;    }</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;}</div>
<div class="ttc" id="ahook_8h_html_acb15ae0a3a05274cb91b8a4882969b54a84cd781ac1239a6e344cdf33bbd4b902"><div class="ttname"><a href="../../d6/d34/hook_8h.html#acb15ae0a3a05274cb91b8a4882969b54a84cd781ac1239a6e344cdf33bbd4b902">hook_dalloc_free</a></div><div class="ttdeci">@ hook_dalloc_free</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/hook_8h_source.html#l00071">hook.h:71</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_ab159f1c3520c779394df6b2c2038a3c0"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE void check_entry_exit_locking(tsdn_t *tsdn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00684">jemalloc.c:684</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_ac6bcbb3858b3ceee509112e7b82b2d2f"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#ac6bcbb3858b3ceee509112e7b82b2d2f">UTRACE</a></div><div class="ttdeci">#define UTRACE(a, b, c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00188">jemalloc.c:188</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_ae6d1ee3e064dc8bbb43b91362b19dd2c"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#ae6d1ee3e064dc8bbb43b91362b19dd2c">ifree</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE void ifree(tsd_t *tsd, void *ptr, tcache_t *tcache, bool slow_path)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l02556">jemalloc.c:2556</a></div></div>
<div class="ttc" id="ajemalloc__internal__inlines__a_8h_html_a609f26d4412101faf7c34036aa9cd977"><div class="ttname"><a href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#a609f26d4412101faf7c34036aa9cd977">tcache_get</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE tcache_t * tcache_get(tsd_t *tsd)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00142">jemalloc_internal_inlines_a.h:142</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a6abeb38bd2c0f36c48fa3ba81abaa69e"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a6abeb38bd2c0f36c48fa3ba81abaa69e">hook_invoke_dalloc</a></div><div class="ttdeci">#define hook_invoke_dalloc</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00224">private_namespace.h:224</a></div></div>
<div class="ttc" id="asolaris_8h_html_ae5eb047989776ef8f364bc84ed316394"><div class="ttname"><a href="../../dc/d53/solaris_8h.html#ae5eb047989776ef8f364bc84ed316394">uintptr_t</a></div><div class="ttdeci">#define uintptr_t</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d53/solaris_8h_source.html#l00029">solaris.h:29</a></div></div>
<div class="ttc" id="astructtcache__s_html"><div class="ttname"><a href="../../db/d17/structtcache__s.html">tcache_s</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dd9/tcache__structs_8h_source.html#l00013">tcache_structs.h:13</a></div></div>
<div class="ttc" id="atsd_8h_html_a4339c0d1e319a36f93bbfb00a515499f"><div class="ttname"><a href="../../db/d1d/tsd_8h.html#a4339c0d1e319a36f93bbfb00a515499f">tsd_assert_fast</a></div><div class="ttdeci">MALLOC_TSD JEMALLOC_ALWAYS_INLINE void tsd_assert_fast(tsd_t *tsd)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d1d/tsd_8h_source.html#l00321">tsd.h:321</a></div></div>
<div class="ttc" id="atsd_8h_html_a544b1abcfa6f150ab2358ba945862788"><div class="ttname"><a href="../../db/d1d/tsd_8h.html#a544b1abcfa6f150ab2358ba945862788">tsd_fast</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE bool tsd_fast(tsd_t *tsd)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d1d/tsd_8h_source.html#l00332">tsd.h:332</a></div></div>
<div class="ttc" id="atsd_8h_html_ace087969b571d024b734120bdb7a3b2f"><div class="ttname"><a href="../../db/d1d/tsd_8h.html#ace087969b571d024b734120bdb7a3b2f">tsd_fetch_min</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE tsd_t * tsd_fetch_min(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d1d/tsd_8h_source.html#l00361">tsd.h:361</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00684">check_entry_exit_locking()</a>, <a class="el" href="../../d6/d34/hook_8h_source.html#l00071">hook_dalloc_free</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00224">hook_invoke_dalloc</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02556">ifree()</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00035">likely</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h_source.html#l02451">ptr()</a>, <a class="el" href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00142">tcache_get()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00321">tsd_assert_fast()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00332">tsd_fast()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00361">tsd_fetch_min()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00224">tsd_tsdn()</a>, <a class="el" href="../../dc/d53/solaris_8h_source.html#l00029">uintptr_t</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00188">UTRACE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02863">je_free()</a>.</p>

</div>
</div>
<a id="a540a0ea0cb6406de249e499422b9acd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a540a0ea0cb6406de249e499422b9acd8">&#9670;&nbsp;</a></span>free_fastpath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> free_fastpath </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>size_hint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02806">2806</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;                                                           {</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;    <a class="code" href="../../dc/d5c/structtsd__s.html">tsd_t</a> *tsd = <a class="code" href="../../d3/dcd/tsd__generic_8h.html#ad9973f29a3701dd8fb9b443a330d1337">tsd_get</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(!tsd || !<a class="code" href="../../db/d1d/tsd_8h.html#a544b1abcfa6f150ab2358ba945862788">tsd_fast</a>(tsd))) {</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;    }</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160; </div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;    <a class="code" href="../../db/d17/structtcache__s.html">tcache_t</a> *tcache = tsd_tcachep_get(tsd);</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160; </div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;    <a class="code" href="../../dd/df5/structalloc__ctx__s.html">alloc_ctx_t</a> alloc_ctx;</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;<span class="comment">     * If !config_cache_oblivious, we can check PAGE alignment to</span></div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;<span class="comment">     * detect sampled objects.  Otherwise addresses are</span></div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;<span class="comment">     * randomized, and we have to look it up in the rtree anyway.</span></div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;<span class="comment">     * See also isfree().</span></div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;    <span class="keywordflow">if</span> (!size_hint || <a class="code" href="../../d1/d18/jemalloc__preamble_8h.html#a52aae7e7ae1bc431c4f1ca406083c792">config_cache_oblivious</a>) {</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;        <a class="code" href="../../d8/d77/structrtree__ctx__s.html">rtree_ctx_t</a> *rtree_ctx = <a class="code" href="../../db/d1d/tsd_8h.html#a64c07f3dcab6961dcf64d2631462acce">tsd_rtree_ctx</a>(tsd);</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;        <span class="keywordtype">bool</span> res = <a class="code" href="../../df/d9a/rtree_8h.html#ac9cb50a62c977bc12b9e8f766644be0c">rtree_szind_slab_read_fast</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), &amp;<a class="code" href="../../dd/de2/private__namespace_8h.html#a8544dacd100c532d7af36c3e65e70cec">extents_rtree</a>,</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;                              rtree_ctx, (<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>,</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;                              &amp;alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#a38309af4c914807568ea787f862b18a5">szind</a>, &amp;alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#ab76225490df94cc8fcf34a8cfe365a3f">slab</a>);</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160; </div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;        <span class="comment">/* Note: profiled objects will have alloc_ctx.slab set */</span></div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;        <span class="keywordflow">if</span> (!res || !alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#ab76225490df94cc8fcf34a8cfe365a3f">slab</a>) {</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;        }</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;        <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#a38309af4c914807568ea787f862b18a5">szind</a> != <a class="code" href="../../d9/d50/sc_8h.html#a633e0f4ff2ce528678368e23538a0456">SC_NSIZES</a>);</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;<span class="comment">         * Check for both sizes that are too large, and for sampled objects.</span></div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;<span class="comment">         * Sampled objects are always page-aligned.  The sampled object check</span></div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;<span class="comment">         * will also check for null ptr.</span></div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;        <span class="keywordflow">if</span> (size &gt; <a class="code" href="../../d9/d50/sc_8h.html#afa119a0181906f92f4f2319810c14945">SC_LOOKUP_MAXCLASS</a> || (((<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a> &amp; <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae4aa620ce57c7c3171b916de2c5f09f2">PAGE_MASK</a>) == 0)) {</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;        }</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;        alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#a38309af4c914807568ea787f862b18a5">szind</a> = <a class="code" href="../../db/d04/sz_8h.html#ae5b9aa0c3b2e397057c61f62bf017f15">sz_size2index_lookup</a>(size);</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;    }</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160; </div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a class="code" href="../../d1/d16/ticker_8h.html#aa3c5ed0f4257ffba215983bebf3530a0">ticker_trytick</a>(&amp;tcache-&gt;<a class="code" href="../../db/d17/structtcache__s.html#ab71ad6c89b2ce9e36985833bd9f992c5">gc_ticker</a>))) {</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;    }</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160; </div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;    <a class="code" href="../../da/d74/structcache__bin__s.html">cache_bin_t</a> *bin = <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#abca1f0352e3677bb2fe9115d3cb91e84">tcache_small_bin_get</a>(tcache, alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#a38309af4c914807568ea787f862b18a5">szind</a>);</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;    <a class="code" href="../../d6/d3d/structcache__bin__info__s.html">cache_bin_info_t</a> *bin_info = &amp;<a class="code" href="../../dd/de2/private__namespace_8h.html#acd4568b0a8ed3cd0483c7721afaf8fa4">tcache_bin_info</a>[alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#a38309af4c914807568ea787f862b18a5">szind</a>];</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../da/d95/cache__bin_8h.html#ad48eadcdb4c4c92bf052b219edb48947">cache_bin_dalloc_easy</a>(bin, bin_info, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>)) {</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;    }</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160; </div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a0a3d6c7d00953f43eab9c56131604e4d">config_stats</a>) {</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;        <span class="keywordtype">size_t</span> usize = <a class="code" href="../../db/d04/sz_8h.html#a079c257f3f2c5b472499d27ad5b54d1c">sz_index2size</a>(alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#a38309af4c914807568ea787f862b18a5">szind</a>);</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;        *tsd_thread_deallocatedp_get(tsd) += usize;</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;    }</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160; </div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;}</div>
<div class="ttc" id="acache__bin_8h_html_ad48eadcdb4c4c92bf052b219edb48947"><div class="ttname"><a href="../../da/d95/cache__bin_8h.html#ad48eadcdb4c4c92bf052b219edb48947">cache_bin_dalloc_easy</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE bool cache_bin_dalloc_easy(cache_bin_t *bin, cache_bin_info_t *bin_info, void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d95/cache__bin_8h_source.html#l00120">cache_bin.h:120</a></div></div>
<div class="ttc" id="ajemalloc__internal_8h_html_a0a3d6c7d00953f43eab9c56131604e4d"><div class="ttname"><a href="../../d9/d33/jemalloc__internal_8h.html#a0a3d6c7d00953f43eab9c56131604e4d">config_stats</a></div><div class="ttdeci">static const bool config_stats</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/jemalloc__internal_8h_source.html#l00141">jemalloc_internal.h:141</a></div></div>
<div class="ttc" id="ajemalloc__internal_8h_html_ae4aa620ce57c7c3171b916de2c5f09f2"><div class="ttname"><a href="../../d9/d33/jemalloc__internal_8h.html#ae4aa620ce57c7c3171b916de2c5f09f2">PAGE_MASK</a></div><div class="ttdeci">#define PAGE_MASK</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/jemalloc__internal_8h_source.html#l00361">jemalloc_internal.h:361</a></div></div>
<div class="ttc" id="ajemalloc__internal__inlines__a_8h_html_abca1f0352e3677bb2fe9115d3cb91e84"><div class="ttname"><a href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#abca1f0352e3677bb2fe9115d3cb91e84">tcache_small_bin_get</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE cache_bin_t * tcache_small_bin_get(tcache_t *tcache, szind_t binind)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00112">jemalloc_internal_inlines_a.h:112</a></div></div>
<div class="ttc" id="ajemalloc__preamble_8h_html_a52aae7e7ae1bc431c4f1ca406083c792"><div class="ttname"><a href="../../d1/d18/jemalloc__preamble_8h.html#a52aae7e7ae1bc431c4f1ca406083c792">config_cache_oblivious</a></div><div class="ttdeci">static const bool config_cache_oblivious</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d18/jemalloc__preamble_8h_source.html#l00146">jemalloc_preamble.h:146</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a8544dacd100c532d7af36c3e65e70cec"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a8544dacd100c532d7af36c3e65e70cec">extents_rtree</a></div><div class="ttdeci">#define extents_rtree</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00205">private_namespace.h:205</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_acd4568b0a8ed3cd0483c7721afaf8fa4"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#acd4568b0a8ed3cd0483c7721afaf8fa4">tcache_bin_info</a></div><div class="ttdeci">#define tcache_bin_info</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00376">private_namespace.h:376</a></div></div>
<div class="ttc" id="artree_8h_html_ac9cb50a62c977bc12b9e8f766644be0c"><div class="ttname"><a href="../../df/d9a/rtree_8h.html#ac9cb50a62c977bc12b9e8f766644be0c">rtree_szind_slab_read_fast</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE bool rtree_szind_slab_read_fast(tsdn_t *tsdn, rtree_t *rtree, rtree_ctx_t *rtree_ctx, uintptr_t key, szind_t *r_szind, bool *r_slab)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d9a/rtree_8h_source.html#l00463">rtree.h:463</a></div></div>
<div class="ttc" id="asc_8h_html_a633e0f4ff2ce528678368e23538a0456"><div class="ttname"><a href="../../d9/d50/sc_8h.html#a633e0f4ff2ce528678368e23538a0456">SC_NSIZES</a></div><div class="ttdeci">#define SC_NSIZES</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d50/sc_8h_source.html#l00198">sc.h:198</a></div></div>
<div class="ttc" id="asc_8h_html_afa119a0181906f92f4f2319810c14945"><div class="ttname"><a href="../../d9/d50/sc_8h.html#afa119a0181906f92f4f2319810c14945">SC_LOOKUP_MAXCLASS</a></div><div class="ttdeci">#define SC_LOOKUP_MAXCLASS</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d50/sc_8h_source.html#l00246">sc.h:246</a></div></div>
<div class="ttc" id="astructalloc__ctx__s_html"><div class="ttname"><a href="../../dd/df5/structalloc__ctx__s.html">alloc_ctx_s</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de1/arena__structs__b_8h_source.html#l00227">arena_structs_b.h:227</a></div></div>
<div class="ttc" id="astructalloc__ctx__s_html_a38309af4c914807568ea787f862b18a5"><div class="ttname"><a href="../../dd/df5/structalloc__ctx__s.html#a38309af4c914807568ea787f862b18a5">alloc_ctx_s::szind</a></div><div class="ttdeci">szind_t szind</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de1/arena__structs__b_8h_source.html#l00228">arena_structs_b.h:228</a></div></div>
<div class="ttc" id="astructalloc__ctx__s_html_ab76225490df94cc8fcf34a8cfe365a3f"><div class="ttname"><a href="../../dd/df5/structalloc__ctx__s.html#ab76225490df94cc8fcf34a8cfe365a3f">alloc_ctx_s::slab</a></div><div class="ttdeci">bool slab</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de1/arena__structs__b_8h_source.html#l00229">arena_structs_b.h:229</a></div></div>
<div class="ttc" id="astructcache__bin__info__s_html"><div class="ttname"><a href="../../d6/d3d/structcache__bin__info__s.html">cache_bin_info_s</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d95/cache__bin_8h_source.html#l00038">cache_bin.h:38</a></div></div>
<div class="ttc" id="astructcache__bin__s_html"><div class="ttname"><a href="../../da/d74/structcache__bin__s.html">cache_bin_s</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d95/cache__bin_8h_source.html#l00044">cache_bin.h:44</a></div></div>
<div class="ttc" id="astructrtree__ctx__s_html"><div class="ttname"><a href="../../d8/d77/structrtree__ctx__s.html">rtree_ctx_s</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dec/rtree__tsd_8h_source.html#l00041">rtree_tsd.h:41</a></div></div>
<div class="ttc" id="astructtcache__s_html_ab71ad6c89b2ce9e36985833bd9f992c5"><div class="ttname"><a href="../../db/d17/structtcache__s.html#ab71ad6c89b2ce9e36985833bd9f992c5">tcache_s::gc_ticker</a></div><div class="ttdeci">ticker_t gc_ticker</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dd9/tcache__structs_8h_source.html#l00022">tcache_structs.h:22</a></div></div>
<div class="ttc" id="asz_8h_html_a079c257f3f2c5b472499d27ad5b54d1c"><div class="ttname"><a href="../../db/d04/sz_8h.html#a079c257f3f2c5b472499d27ad5b54d1c">sz_index2size</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE size_t sz_index2size(szind_t index)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d04/sz_8h_source.html#l00205">sz.h:205</a></div></div>
<div class="ttc" id="asz_8h_html_ae5b9aa0c3b2e397057c61f62bf017f15"><div class="ttname"><a href="../../db/d04/sz_8h.html#ae5b9aa0c3b2e397057c61f62bf017f15">sz_size2index_lookup</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE szind_t sz_size2index_lookup(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d04/sz_8h_source.html#l00155">sz.h:155</a></div></div>
<div class="ttc" id="aticker_8h_html_aa3c5ed0f4257ffba215983bebf3530a0"><div class="ttname"><a href="../../d1/d16/ticker_8h.html#aa3c5ed0f4257ffba215983bebf3530a0">ticker_trytick</a></div><div class="ttdeci">static bool ticker_trytick(ticker_t *ticker)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/ticker_8h_source.html#l00083">ticker.h:83</a></div></div>
<div class="ttc" id="atsd_8h_html_a64c07f3dcab6961dcf64d2631462acce"><div class="ttname"><a href="../../db/d1d/tsd_8h.html#a64c07f3dcab6961dcf64d2631462acce">tsd_rtree_ctx</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE rtree_ctx_t * tsd_rtree_ctx(tsd_t *tsd)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d1d/tsd_8h_source.html#l00395">tsd.h:395</a></div></div>
<div class="ttc" id="atsd__generic_8h_html_ad9973f29a3701dd8fb9b443a330d1337"><div class="ttname"><a href="../../d3/dcd/tsd__generic_8h.html#ad9973f29a3701dd8fb9b443a330d1337">tsd_get</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE tsd_t * tsd_get(bool init)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcd/tsd__generic_8h_source.html#l00142">tsd_generic.h:142</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../da/d95/cache__bin_8h_source.html#l00120">cache_bin_dalloc_easy()</a>, <a class="el" href="../../d1/d18/jemalloc__preamble_8h_source.html#l00146">config_cache_oblivious</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00141">config_stats</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00205">extents_rtree</a>, <a class="el" href="../../d1/dd9/tcache__structs_8h_source.html#l00022">tcache_s::gc_ticker</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00361">PAGE_MASK</a>, <a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h_source.html#l02451">ptr()</a>, <a class="el" href="../../df/d9a/rtree_8h_source.html#l00463">rtree_szind_slab_read_fast()</a>, <a class="el" href="../../d9/d50/sc_8h_source.html#l00246">SC_LOOKUP_MAXCLASS</a>, <a class="el" href="../../d9/d50/sc_8h_source.html#l00198">SC_NSIZES</a>, <a class="el" href="../../dc/de1/arena__structs__b_8h_source.html#l00229">alloc_ctx_s::slab</a>, <a class="el" href="../../db/d04/sz_8h_source.html#l00205">sz_index2size()</a>, <a class="el" href="../../db/d04/sz_8h_source.html#l00155">sz_size2index_lookup()</a>, <a class="el" href="../../dc/de1/arena__structs__b_8h_source.html#l00228">alloc_ctx_s::szind</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00376">tcache_bin_info</a>, <a class="el" href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00112">tcache_small_bin_get()</a>, <a class="el" href="../../d1/d16/ticker_8h_source.html#l00083">ticker_trytick()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00332">tsd_fast()</a>, <a class="el" href="../../d3/dcd/tsd__generic_8h_source.html#l00142">tsd_get()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00395">tsd_rtree_ctx()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00224">tsd_tsdn()</a>, and <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00036">unlikely</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02863">je_free()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03594">je_sdallocx()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03606">je_sdallocx_noflags()</a>.</p>

</div>
</div>
<a id="a69674e0e0c1ba2064c58fb0f2821c180"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69674e0e0c1ba2064c58fb0f2821c180">&#9670;&nbsp;</a></span>iarena_cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void iarena_cleanup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *&#160;</td>
          <td class="paramname"><em>tsd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00613">613</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                           {</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <a class="code" href="../../da/dc2/structarena__s.html">arena_t</a> *iarena;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160; </div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    iarena = tsd_iarena_get(tsd);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="keywordflow">if</span> (iarena != <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>) {</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#a8829a0559f24f7eb6523dedc727ae56d">arena_unbind</a>(tsd, <a class="code" href="../../de/de3/arena__inlines__a_8h.html#a7e4ee8971cbd6b54ad49c9ba46f81d0c">arena_ind_get</a>(iarena), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    }</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/de3/arena__inlines__a_8h_source.html#l00005">arena_ind_get()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00408">arena_unbind()</a>, and <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>.</p>

</div>
</div>
<a id="ae6d1ee3e064dc8bbb43b91362b19dd2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6d1ee3e064dc8bbb43b91362b19dd2c">&#9670;&nbsp;</a></span>ifree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> void ifree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *&#160;</td>
          <td class="paramname"><em>tsd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d7d/tcache__types_8h.html#a6d7a41c928468d38e45e4cb0767932e6">tcache_t</a> *&#160;</td>
          <td class="paramname"><em>tcache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>slow_path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02556">2556</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;                                                               {</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;    <span class="keywordflow">if</span> (!slow_path) {</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;        <a class="code" href="../../db/d1d/tsd_8h.html#a4339c0d1e319a36f93bbfb00a515499f">tsd_assert_fast</a>(tsd);</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;    }</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;    <span class="keywordflow">if</span> (tsd_reentrancy_level_get(tsd) != 0) {</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;        <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(slow_path);</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;    }</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160; </div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a> != <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#a01b7b0d8bcb19acba3bdea9fcb06cd7b">malloc_initialized</a>() || <a class="code" href="../../d8/d80/jemalloc_8c.html#ae85e4c6cf761558babffa1b8af5baffc">IS_INITIALIZER</a>);</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160; </div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;    <a class="code" href="../../dd/df5/structalloc__ctx__s.html">alloc_ctx_t</a> alloc_ctx;</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;    <a class="code" href="../../d8/d77/structrtree__ctx__s.html">rtree_ctx_t</a> *rtree_ctx = <a class="code" href="../../db/d1d/tsd_8h.html#a64c07f3dcab6961dcf64d2631462acce">tsd_rtree_ctx</a>(tsd);</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;    <a class="code" href="../../df/d9a/rtree_8h.html#a6e117ed328a6a0e2edd9060202787108">rtree_szind_slab_read</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), &amp;<a class="code" href="../../dd/de2/private__namespace_8h.html#a8544dacd100c532d7af36c3e65e70cec">extents_rtree</a>, rtree_ctx,</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;        (<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, <span class="keyword">true</span>, &amp;alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#a38309af4c914807568ea787f862b18a5">szind</a>, &amp;alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#ab76225490df94cc8fcf34a8cfe365a3f">slab</a>);</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#a38309af4c914807568ea787f862b18a5">szind</a> != <a class="code" href="../../d9/d50/sc_8h.html#a633e0f4ff2ce528678368e23538a0456">SC_NSIZES</a>);</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160; </div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;    <span class="keywordtype">size_t</span> usize;</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a6bba19605480b2588c644265529447c2">config_prof</a> &amp;&amp; <a class="code" href="../../dd/de2/private__namespace_8h.html#a547467db6ef3d75a6303c08d90ff1307">opt_prof</a>) {</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;        usize = <a class="code" href="../../db/d04/sz_8h.html#a079c257f3f2c5b472499d27ad5b54d1c">sz_index2size</a>(alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#a38309af4c914807568ea787f862b18a5">szind</a>);</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;        <a class="code" href="../../de/d97/prof__inlines__b_8h.html#a16ff4268d32e8d70e77919f49a55e56e">prof_free</a>(tsd, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, usize, &amp;alloc_ctx);</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a0a3d6c7d00953f43eab9c56131604e4d">config_stats</a>) {</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;        usize = <a class="code" href="../../db/d04/sz_8h.html#a079c257f3f2c5b472499d27ad5b54d1c">sz_index2size</a>(alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#a38309af4c914807568ea787f862b18a5">szind</a>);</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;    }</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a0a3d6c7d00953f43eab9c56131604e4d">config_stats</a>) {</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;        *tsd_thread_deallocatedp_get(tsd) += usize;</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;    }</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160; </div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a217a0bd562b98ae8c2ffce44935351e1">likely</a>(!slow_path)) {</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;        <a class="code" href="../../df/d67/jemalloc__internal__inlines__c_8h.html#ada39923f89153aa3efa08d4a15e9b7de">idalloctm</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, tcache, &amp;alloc_ctx, <span class="keyword">false</span>,</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;            <span class="keyword">false</span>);</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;        <a class="code" href="../../df/d67/jemalloc__internal__inlines__c_8h.html#ada39923f89153aa3efa08d4a15e9b7de">idalloctm</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, tcache, &amp;alloc_ctx, <span class="keyword">false</span>,</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;            <span class="keyword">true</span>);</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;    }</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;}</div>
<div class="ttc" id="ajemalloc_8c_html_a01b7b0d8bcb19acba3bdea9fcb06cd7b"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a01b7b0d8bcb19acba3bdea9fcb06cd7b">malloc_initialized</a></div><div class="ttdeci">bool malloc_initialized(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00209">jemalloc.c:209</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_ae85e4c6cf761558babffa1b8af5baffc"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#ae85e4c6cf761558babffa1b8af5baffc">IS_INITIALIZER</a></div><div class="ttdeci">#define IS_INITIALIZER</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00127">jemalloc.c:127</a></div></div>
<div class="ttc" id="ajemalloc__internal_8h_html_a6bba19605480b2588c644265529447c2"><div class="ttname"><a href="../../d9/d33/jemalloc__internal_8h.html#a6bba19605480b2588c644265529447c2">config_prof</a></div><div class="ttdeci">static const bool config_prof</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/jemalloc__internal_8h_source.html#l00106">jemalloc_internal.h:106</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a547467db6ef3d75a6303c08d90ff1307"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a547467db6ef3d75a6303c08d90ff1307">opt_prof</a></div><div class="ttdeci">#define opt_prof</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00298">private_namespace.h:298</a></div></div>
<div class="ttc" id="aprof__inlines__b_8h_html_a16ff4268d32e8d70e77919f49a55e56e"><div class="ttname"><a href="../../de/d97/prof__inlines__b_8h.html#a16ff4268d32e8d70e77919f49a55e56e">prof_free</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE void prof_free(tsd_t *tsd, const void *ptr, size_t usize, alloc_ctx_t *alloc_ctx)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d97/prof__inlines__b_8h_source.html#l00239">prof_inlines_b.h:239</a></div></div>
<div class="ttc" id="artree_8h_html_a6e117ed328a6a0e2edd9060202787108"><div class="ttname"><a href="../../df/d9a/rtree_8h.html#a6e117ed328a6a0e2edd9060202787108">rtree_szind_slab_read</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE bool rtree_szind_slab_read(tsdn_t *tsdn, rtree_t *rtree, rtree_ctx_t *rtree_ctx, uintptr_t key, bool dependent, szind_t *r_szind, bool *r_slab)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d9a/rtree_8h_source.html#l00492">rtree.h:492</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00684">check_entry_exit_locking()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00106">config_prof</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00141">config_stats</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00205">extents_rtree</a>, <a class="el" href="../../df/d67/jemalloc__internal__inlines__c_8h_source.html#l00104">idalloctm()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00127">IS_INITIALIZER</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00035">likely</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00209">malloc_initialized()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00298">opt_prof</a>, <a class="el" href="../../de/d97/prof__inlines__b_8h_source.html#l00239">prof_free()</a>, <a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h_source.html#l02451">ptr()</a>, <a class="el" href="../../df/d9a/rtree_8h_source.html#l00492">rtree_szind_slab_read()</a>, <a class="el" href="../../d9/d50/sc_8h_source.html#l00198">SC_NSIZES</a>, <a class="el" href="../../dc/de1/arena__structs__b_8h_source.html#l00229">alloc_ctx_s::slab</a>, <a class="el" href="../../db/d04/sz_8h_source.html#l00205">sz_index2size()</a>, <a class="el" href="../../dc/de1/arena__structs__b_8h_source.html#l00228">alloc_ctx_s::szind</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00321">tsd_assert_fast()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00395">tsd_rtree_ctx()</a>, and <a class="el" href="../../db/d1d/tsd_8h_source.html#l00224">tsd_tsdn()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02771">free_default()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03487">je_dallocx()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02653">je_realloc()</a>.</p>

</div>
</div>
<a id="a507ab410a72f86f0d98ca025ce86d788"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a507ab410a72f86f0d98ca025ce86d788">&#9670;&nbsp;</a></span>imalloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> int imalloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d80/jemalloc_8c.html#a1d90a39f861fd6f06172a5647dc3c409">static_opts_t</a> *&#160;</td>
          <td class="paramname"><em>sopts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d80/jemalloc_8c.html#ac85ffbc3906fc597d30fd0db704f0274">dynamic_opts_t</a> *&#160;</td>
          <td class="paramname"><em>dopts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02246">2246</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;                                                     {</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d3/dcd/tsd__generic_8h.html#a7b7faaf2166ca87345dc67762a96b215">tsd_get_allocates</a>() &amp;&amp; !<a class="code" href="../../d8/d80/jemalloc_8c.html#a1caf8f281453f9dcd53df81d72690b9b">imalloc_init_check</a>(sopts, dopts)) {</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;        <span class="keywordflow">return</span> ENOMEM;</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;    }</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160; </div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;    <span class="comment">/* We always need the tsd.  Let&#39;s grab it right away. */</span></div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;    <a class="code" href="../../dc/d5c/structtsd__s.html">tsd_t</a> *tsd = <a class="code" href="../../db/d1d/tsd_8h.html#aa09b1487cb924fd62ac5171c3d267802">tsd_fetch</a>();</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(tsd);</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a217a0bd562b98ae8c2ffce44935351e1">likely</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a544b1abcfa6f150ab2358ba945862788">tsd_fast</a>(tsd))) {</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;        <span class="comment">/* Fast and common path. */</span></div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;        <a class="code" href="../../db/d1d/tsd_8h.html#a4339c0d1e319a36f93bbfb00a515499f">tsd_assert_fast</a>(tsd);</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;        sopts-&gt;<a class="code" href="../../d6/d7c/structstatic__opts__s.html#a0b201929708af8d731b93d56cb794e71">slow</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d8/d80/jemalloc_8c.html#aaebaaa2d9f8a5577ffc4b1712af5798d">imalloc_body</a>(sopts, dopts, tsd);</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d3/dcd/tsd__generic_8h.html#a7b7faaf2166ca87345dc67762a96b215">tsd_get_allocates</a>() &amp;&amp; !<a class="code" href="../../d8/d80/jemalloc_8c.html#a1caf8f281453f9dcd53df81d72690b9b">imalloc_init_check</a>(sopts, dopts)) {</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;            <span class="keywordflow">return</span> ENOMEM;</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;        }</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160; </div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;        sopts-&gt;<a class="code" href="../../d6/d7c/structstatic__opts__s.html#a0b201929708af8d731b93d56cb794e71">slow</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d8/d80/jemalloc_8c.html#aaebaaa2d9f8a5577ffc4b1712af5798d">imalloc_body</a>(sopts, dopts, tsd);</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;    }</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;}</div>
<div class="ttc" id="ajemalloc_8c_html_a1caf8f281453f9dcd53df81d72690b9b"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a1caf8f281453f9dcd53df81d72690b9b">imalloc_init_check</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE bool imalloc_init_check(static_opts_t *sopts, dynamic_opts_t *dopts)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l02228">jemalloc.c:2228</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_aaebaaa2d9f8a5577ffc4b1712af5798d"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#aaebaaa2d9f8a5577ffc4b1712af5798d">imalloc_body</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE int imalloc_body(static_opts_t *sopts, dynamic_opts_t *dopts, tsd_t *tsd)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l02028">jemalloc.c:2028</a></div></div>
<div class="ttc" id="astructstatic__opts__s_html_a0b201929708af8d731b93d56cb794e71"><div class="ttname"><a href="../../d6/d7c/structstatic__opts__s.html#a0b201929708af8d731b93d56cb794e71">static_opts_s::slow</a></div><div class="ttdeci">bool slow</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01856">jemalloc.c:1856</a></div></div>
<div class="ttc" id="atsd_8h_html_aa09b1487cb924fd62ac5171c3d267802"><div class="ttname"><a href="../../db/d1d/tsd_8h.html#aa09b1487cb924fd62ac5171c3d267802">tsd_fetch</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE tsd_t * tsd_fetch(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d1d/tsd_8h_source.html#l00376">tsd.h:376</a></div></div>
<div class="ttc" id="atsd__generic_8h_html_a7b7faaf2166ca87345dc67762a96b215"><div class="ttname"><a href="../../d3/dcd/tsd__generic_8h.html#a7b7faaf2166ca87345dc67762a96b215">tsd_get_allocates</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE bool tsd_get_allocates(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcd/tsd__generic_8h_source.html#l00136">tsd_generic.h:136</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02028">imalloc_body()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02228">imalloc_init_check()</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00035">likely</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01856">static_opts_s::slow</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00321">tsd_assert_fast()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00332">tsd_fast()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00376">tsd_fetch()</a>, and <a class="el" href="../../d3/dcd/tsd__generic_8h_source.html#l00136">tsd_get_allocates()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02393">je_posix_memalign()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02653">je_realloc()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02271">malloc_default()</a>.</p>

</div>
</div>
<a id="aaebaaa2d9f8a5577ffc4b1712af5798d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaebaaa2d9f8a5577ffc4b1712af5798d">&#9670;&nbsp;</a></span>imalloc_body()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> int imalloc_body </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d80/jemalloc_8c.html#a1d90a39f861fd6f06172a5647dc3c409">static_opts_t</a> *&#160;</td>
          <td class="paramname"><em>sopts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d80/jemalloc_8c.html#ac85ffbc3906fc597d30fd0db704f0274">dynamic_opts_t</a> *&#160;</td>
          <td class="paramname"><em>dopts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *&#160;</td>
          <td class="paramname"><em>tsd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02028">2028</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;                                                                      {</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;    <span class="comment">/* Where the actual allocated memory will live. */</span></div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;    <span class="keywordtype">void</span> *allocation = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;    <span class="comment">/* Filled in by compute_size_with_overflow below. */</span></div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;    <span class="keywordtype">size_t</span> size = 0;</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;<span class="comment">     * For unaligned allocations, we need only ind.  For aligned</span></div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;<span class="comment">     * allocations, or in case of stats or profiling we need usize.</span></div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;<span class="comment">     * These are actually dead stores, in that their values are reset before</span></div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;<span class="comment">     * any branch on their value is taken.  Sometimes though, it&#39;s</span></div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;<span class="comment">     * convenient to pass them as arguments before this point.  To avoid</span></div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;<span class="comment">     * undefined behavior then, we initialize them with dummy stores.</span></div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;    <a class="code" href="../../dc/dc4/jemalloc__internal__types_8h.html#a09eb24f5d01f07b2e22afae9a52820d7">szind_t</a> ind = 0;</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    <span class="keywordtype">size_t</span> usize = 0;</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160; </div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;    <span class="comment">/* Reentrancy is only checked on slow path. */</span></div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    <a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#aef44329758059c91c76d334e8fc09700">int8_t</a> reentrancy_level;</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160; </div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    <span class="comment">/* Compute the amount of memory the user wants. */</span></div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#a841707a7d2371a5c4f14e2d72ffca96d">compute_size_with_overflow</a>(sopts-&gt;<a class="code" href="../../d6/d7c/structstatic__opts__s.html#a0a582f9d8a5ec93eb9ac46b946ef2510">may_overflow</a>, dopts,</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;        &amp;size))) {</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;        <span class="keywordflow">goto</span> label_oom;</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;    }</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160; </div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a55cc50f3754f427fb1e636226a78c70b">alignment</a> &lt; sopts-&gt;<a class="code" href="../../d6/d7c/structstatic__opts__s.html#acb7c331953d512ac69f0ea79a553b4e3">min_alignment</a></div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;        || (dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a55cc50f3754f427fb1e636226a78c70b">alignment</a> &amp; (dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a55cc50f3754f427fb1e636226a78c70b">alignment</a> - 1)) != 0)) {</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;        <span class="keywordflow">goto</span> label_invalid_alignment;</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    }</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160; </div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;    <span class="comment">/* This is the beginning of the &quot;core&quot; algorithm. */</span></div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160; </div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;    <span class="keywordflow">if</span> (dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a55cc50f3754f427fb1e636226a78c70b">alignment</a> == 0) {</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;        ind = <a class="code" href="../../db/d04/sz_8h.html#a710950755b0e755950007b68d8b2440b">sz_size2index</a>(size);</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(ind &gt;= <a class="code" href="../../d9/d50/sc_8h.html#a633e0f4ff2ce528678368e23538a0456">SC_NSIZES</a>)) {</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;            <span class="keywordflow">goto</span> label_oom;</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;        }</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a0a3d6c7d00953f43eab9c56131604e4d">config_stats</a> || (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a6bba19605480b2588c644265529447c2">config_prof</a> &amp;&amp; <a class="code" href="../../dd/de2/private__namespace_8h.html#a547467db6ef3d75a6303c08d90ff1307">opt_prof</a>) || sopts-&gt;<a class="code" href="../../d6/d7c/structstatic__opts__s.html#aefe162954663a6fac0cb8f1bd071369b">usize</a>) {</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;            usize = <a class="code" href="../../db/d04/sz_8h.html#a079c257f3f2c5b472499d27ad5b54d1c">sz_index2size</a>(ind);</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;            dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#aac2e4c6545d8e1f161ead8d1ed832132">usize</a> = usize;</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;            <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(usize &gt; 0 &amp;&amp; usize</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;                &lt;= <a class="code" href="../../d9/d50/sc_8h.html#ac66e2f56f4f0411ca5d5c3444ba4d491">SC_LARGE_MAXCLASS</a>);</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;        }</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;        <span class="keywordflow">if</span> (sopts-&gt;<a class="code" href="../../d6/d7c/structstatic__opts__s.html#ad4264bc625a811547f2185057df08dd5">bump_empty_aligned_alloc</a>) {</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(size == 0)) {</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;                size = 1;</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;            }</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;        }</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;        usize = <a class="code" href="../../db/d04/sz_8h.html#a8506233457e9ceb58a016db4340d1266">sz_sa2u</a>(size, dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a55cc50f3754f427fb1e636226a78c70b">alignment</a>);</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;        dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#aac2e4c6545d8e1f161ead8d1ed832132">usize</a> = usize;</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(usize == 0</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;            || usize &gt; <a class="code" href="../../d9/d50/sc_8h.html#ac66e2f56f4f0411ca5d5c3444ba4d491">SC_LARGE_MAXCLASS</a>)) {</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;            <span class="keywordflow">goto</span> label_oom;</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;        }</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;    }</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;    <span class="comment">/* Validate the user input. */</span></div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;    <span class="keywordflow">if</span> (sopts-&gt;<a class="code" href="../../d6/d7c/structstatic__opts__s.html#a54bbea91641320fa4399a6b466680990">assert_nonempty_alloc</a>) {</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;        <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a> (size != 0);</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;    }</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160; </div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160; </div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;<span class="comment">     * If we need to handle reentrancy, we can do it out of a</span></div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;<span class="comment">     * known-initialized arena (i.e. arena 0).</span></div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;    reentrancy_level = tsd_reentrancy_level_get(tsd);</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;    <span class="keywordflow">if</span> (sopts-&gt;<a class="code" href="../../d6/d7c/structstatic__opts__s.html#a0b201929708af8d731b93d56cb794e71">slow</a> &amp;&amp; <a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(reentrancy_level &gt; 0)) {</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;<span class="comment">         * We should never specify particular arenas or tcaches from</span></div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;<span class="comment">         * within our internal allocations.</span></div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;        <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#ae1a649743f27493bc9f8a990f86de36e">tcache_ind</a> == <a class="code" href="../../d8/d80/jemalloc_8c.html#a089922bccba51a5452ad46e30a6e1572">TCACHE_IND_AUTOMATIC</a> ||</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;            dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#ae1a649743f27493bc9f8a990f86de36e">tcache_ind</a> == <a class="code" href="../../d8/d80/jemalloc_8c.html#a547d79639d1847a9d5a354799a989a6d">TCACHE_IND_NONE</a>);</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;        <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a7b814130e575e883adc2db17c8e9dd73">arena_ind</a> == <a class="code" href="../../d8/d80/jemalloc_8c.html#a698bb0ab65b175bfa83ee515e5489dcc">ARENA_IND_AUTOMATIC</a>);</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;        dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#ae1a649743f27493bc9f8a990f86de36e">tcache_ind</a> = <a class="code" href="../../d8/d80/jemalloc_8c.html#a547d79639d1847a9d5a354799a989a6d">TCACHE_IND_NONE</a>;</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;        <span class="comment">/* We know that arena 0 has already been initialized. */</span></div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;        dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a7b814130e575e883adc2db17c8e9dd73">arena_ind</a> = 0;</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;    }</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160; </div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;    <span class="comment">/* If profiling is on, get our profiling context. */</span></div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a6bba19605480b2588c644265529447c2">config_prof</a> &amp;&amp; <a class="code" href="../../dd/de2/private__namespace_8h.html#a547467db6ef3d75a6303c08d90ff1307">opt_prof</a>) {</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;<span class="comment">         * Note that if we&#39;re going down this path, usize must have been</span></div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;<span class="comment">         * initialized in the previous if statement.</span></div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;        <a class="code" href="../../d7/d01/structprof__tctx__s.html">prof_tctx_t</a> *<a class="code" href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a> = <a class="code" href="../../de/d97/prof__inlines__b_8h.html#a9b46533268bca5cea30acf3fe3744b36">prof_alloc_prep</a>(</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;            tsd, usize, <a class="code" href="../../d7/d48/prof__inlines__a_8h.html#a42acb28483e529efeec9238b734d4f63">prof_active_get_unlocked</a>(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160; </div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;        <a class="code" href="../../dd/df5/structalloc__ctx__s.html">alloc_ctx_t</a> alloc_ctx;</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a217a0bd562b98ae8c2ffce44935351e1">likely</a>((<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)<a class="code" href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a> == (<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)1U)) {</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;            alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#ab76225490df94cc8fcf34a8cfe365a3f">slab</a> = (usize</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;                &lt;= <a class="code" href="../../d9/d50/sc_8h.html#a4e728b3887b0b2b14a2db1eed407854c">SC_SMALL_MAXCLASS</a>);</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;            allocation = <a class="code" href="../../d8/d80/jemalloc_8c.html#a39f6ceb222f55b6218b15ff818c7a903">imalloc_no_sample</a>(</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;                sopts, dopts, tsd, usize, usize, ind);</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)<a class="code" href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a> &gt; (<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)1U) {</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;            <span class="comment">/*</span></div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;<span class="comment">             * Note that ind might still be 0 here.  This is fine;</span></div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;<span class="comment">             * imalloc_sample ignores ind if dopts-&gt;alignment &gt; 0.</span></div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;            allocation = <a class="code" href="../../d8/d80/jemalloc_8c.html#a870870f547900681db6f244c538827a5">imalloc_sample</a>(</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;                sopts, dopts, tsd, usize, ind);</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;            alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#ab76225490df94cc8fcf34a8cfe365a3f">slab</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;            allocation = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;        }</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160; </div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(allocation == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>)) {</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;            <a class="code" href="../../db/d2d/prof__externs_8h.html#a3bf787c60f460619224625fff930c25a">prof_alloc_rollback</a>(tsd, <a class="code" href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;            <span class="keywordflow">goto</span> label_oom;</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;        }</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;        <a class="code" href="../../de/d97/prof__inlines__b_8h.html#aed624d7d1c0a96fcf11dbc56598b4b7f">prof_malloc</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), allocation, usize, &amp;alloc_ctx, <a class="code" href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a>);</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;<span class="comment">         * If dopts-&gt;alignment &gt; 0, then ind is still 0, but usize was</span></div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;<span class="comment">         * computed in the previous if statement.  Down the positive</span></div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;<span class="comment">         * alignment path, imalloc_no_sample ignores ind and size</span></div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;<span class="comment">         * (relying only on usize).</span></div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;        allocation = <a class="code" href="../../d8/d80/jemalloc_8c.html#a39f6ceb222f55b6218b15ff818c7a903">imalloc_no_sample</a>(sopts, dopts, tsd, size, usize,</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;            ind);</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(allocation == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>)) {</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;            <span class="keywordflow">goto</span> label_oom;</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;        }</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;    }</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160; </div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;<span class="comment">     * Allocation has been done at this point.  We still have some</span></div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;<span class="comment">     * post-allocation work to do though.</span></div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a55cc50f3754f427fb1e636226a78c70b">alignment</a> == 0</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;        || ((<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)allocation &amp; (dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a55cc50f3754f427fb1e636226a78c70b">alignment</a> - 1)) == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#aaa9edfed3cbf1c592eacee6d4378771b">ZU</a>(0));</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160; </div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a0a3d6c7d00953f43eab9c56131604e4d">config_stats</a>) {</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;        <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(usize == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#aa3255636edeac1ba4261012191d1d189">isalloc</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), allocation));</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;        *tsd_thread_allocatedp_get(tsd) += usize;</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;    }</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160; </div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;    <span class="keywordflow">if</span> (sopts-&gt;<a class="code" href="../../d6/d7c/structstatic__opts__s.html#a0b201929708af8d731b93d56cb794e71">slow</a>) {</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#ac6bcbb3858b3ceee509112e7b82b2d2f">UTRACE</a>(0, size, allocation);</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;    }</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160; </div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;    <span class="comment">/* Success! */</span></div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;    *dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a4b1c019538c6575926e2e473a2b61b12">result</a> = allocation;</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160; </div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;label_oom:</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(sopts-&gt;<a class="code" href="../../d6/d7c/structstatic__opts__s.html#a0b201929708af8d731b93d56cb794e71">slow</a>) &amp;&amp; <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ac5fef66aba0898411be771980aef22c8">config_xmalloc</a> &amp;&amp; <a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#abb699624a4c15add503df6cb54a5132e">opt_xmalloc</a>)) {</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;        <a class="code" href="../../dd/de2/private__namespace_8h.html#aa5e64f0a9668adb32f12d43a5d04f09a">malloc_write</a>(sopts-&gt;<a class="code" href="../../d6/d7c/structstatic__opts__s.html#aad0178fec42358f91f612f3197fcd640">oom_string</a>);</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;        abort();</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;    }</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160; </div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;    <span class="keywordflow">if</span> (sopts-&gt;<a class="code" href="../../d6/d7c/structstatic__opts__s.html#a0b201929708af8d731b93d56cb794e71">slow</a>) {</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#ac6bcbb3858b3ceee509112e7b82b2d2f">UTRACE</a>(<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>, size, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;    }</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160; </div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160; </div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;    <span class="keywordflow">if</span> (sopts-&gt;<a class="code" href="../../d6/d7c/structstatic__opts__s.html#a2e3e6b3283bee38c9c9b52f5be82d4b2">set_errno_on_error</a>) {</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;        <a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a132c48faab6dcea1dca5ef9012266300">set_errno</a>(ENOMEM);</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;    }</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160; </div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;    <span class="keywordflow">if</span> (sopts-&gt;<a class="code" href="../../d6/d7c/structstatic__opts__s.html#a827d38e6c4bd5de6ae121e79bdf06c3b">null_out_result_on_error</a>) {</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;        *dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a4b1c019538c6575926e2e473a2b61b12">result</a> = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;    }</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160; </div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;    <span class="keywordflow">return</span> ENOMEM;</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160; </div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;<span class="comment">     * This label is only jumped to by one goto; we move it out of line</span></div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;<span class="comment">     * anyways to avoid obscuring the non-error paths, and for symmetry with</span></div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;<span class="comment">     * the oom case.</span></div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;label_invalid_alignment:</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ac5fef66aba0898411be771980aef22c8">config_xmalloc</a> &amp;&amp; <a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#abb699624a4c15add503df6cb54a5132e">opt_xmalloc</a>)) {</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;        <a class="code" href="../../dd/de2/private__namespace_8h.html#aa5e64f0a9668adb32f12d43a5d04f09a">malloc_write</a>(sopts-&gt;<a class="code" href="../../d6/d7c/structstatic__opts__s.html#a2a760634c35b2df727542452532cc63f">invalid_alignment_string</a>);</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;        abort();</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;    }</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160; </div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;    <span class="keywordflow">if</span> (sopts-&gt;<a class="code" href="../../d6/d7c/structstatic__opts__s.html#a2e3e6b3283bee38c9c9b52f5be82d4b2">set_errno_on_error</a>) {</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;        <a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a132c48faab6dcea1dca5ef9012266300">set_errno</a>(EINVAL);</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;    }</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160; </div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;    <span class="keywordflow">if</span> (sopts-&gt;<a class="code" href="../../d6/d7c/structstatic__opts__s.html#a0b201929708af8d731b93d56cb794e71">slow</a>) {</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#ac6bcbb3858b3ceee509112e7b82b2d2f">UTRACE</a>(<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>, size, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;    }</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160; </div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160; </div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;    <span class="keywordflow">if</span> (sopts-&gt;<a class="code" href="../../d6/d7c/structstatic__opts__s.html#a827d38e6c4bd5de6ae121e79bdf06c3b">null_out_result_on_error</a>) {</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;        *dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a4b1c019538c6575926e2e473a2b61b12">result</a> = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;    }</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160; </div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;    <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;}</div>
<div class="ttc" id="ajemalloc_8c_html_a39f6ceb222f55b6218b15ff818c7a903"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a39f6ceb222f55b6218b15ff818c7a903">imalloc_no_sample</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE void * imalloc_no_sample(static_opts_t *sopts, dynamic_opts_t *dopts, tsd_t *tsd, size_t size, size_t usize, szind_t ind)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01912">jemalloc.c:1912</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a547d79639d1847a9d5a354799a989a6d"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a547d79639d1847a9d5a354799a989a6d">TCACHE_IND_NONE</a></div><div class="ttdeci">#define TCACHE_IND_NONE</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01882">jemalloc.c:1882</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a841707a7d2371a5c4f14e2d72ffca96d"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a841707a7d2371a5c4f14e2d72ffca96d">compute_size_with_overflow</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE bool compute_size_with_overflow(bool may_overflow, dynamic_opts_t *dopts, size_t *size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01990">jemalloc.c:1990</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a870870f547900681db6f244c538827a5"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a870870f547900681db6f244c538827a5">imalloc_sample</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE void * imalloc_sample(static_opts_t *sopts, dynamic_opts_t *dopts, tsd_t *tsd, size_t usize, szind_t ind)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01954">jemalloc.c:1954</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_abb699624a4c15add503df6cb54a5132e"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#abb699624a4c15add503df6cb54a5132e">opt_xmalloc</a></div><div class="ttdeci">bool opt_xmalloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00071">jemalloc.c:71</a></div></div>
<div class="ttc" id="ajemalloc__internal_8h_html_aa3255636edeac1ba4261012191d1d189"><div class="ttname"><a href="../../d9/d33/jemalloc__internal_8h.html#aa3255636edeac1ba4261012191d1d189">isalloc</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE size_t isalloc(const void *ptr, bool demote)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/jemalloc__internal_8h_source.html#l00869">jemalloc_internal.h:869</a></div></div>
<div class="ttc" id="ajemalloc__internal_8h_html_aaa9edfed3cbf1c592eacee6d4378771b"><div class="ttname"><a href="../../d9/d33/jemalloc__internal_8h.html#aaa9edfed3cbf1c592eacee6d4378771b">ZU</a></div><div class="ttdeci">#define ZU(z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/jemalloc__internal_8h_source.html#l00234">jemalloc_internal.h:234</a></div></div>
<div class="ttc" id="ajemalloc__internal_8h_html_ac5fef66aba0898411be771980aef22c8"><div class="ttname"><a href="../../d9/d33/jemalloc__internal_8h.html#ac5fef66aba0898411be771980aef22c8">config_xmalloc</a></div><div class="ttdeci">static const bool config_xmalloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/jemalloc__internal_8h_source.html#l00176">jemalloc_internal.h:176</a></div></div>
<div class="ttc" id="ajemalloc__internal__types_8h_html_a09eb24f5d01f07b2e22afae9a52820d7"><div class="ttname"><a href="../../dc/dc4/jemalloc__internal__types_8h.html#a09eb24f5d01f07b2e22afae9a52820d7">szind_t</a></div><div class="ttdeci">unsigned szind_t</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc4/jemalloc__internal__types_8h_source.html#l00010">jemalloc_internal_types.h:10</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_aa5e64f0a9668adb32f12d43a5d04f09a"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#aa5e64f0a9668adb32f12d43a5d04f09a">malloc_write</a></div><div class="ttdeci">#define malloc_write</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00252">private_namespace.h:252</a></div></div>
<div class="ttc" id="aprof_8c_html_abbb25b298a4eb9395fa2f4e9f64e2400"><div class="ttname"><a href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a></div><div class="ttdeci">prof_tctx_t * tctx</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d31/prof_8c_source.html#l00313">prof.c:313</a></div></div>
<div class="ttc" id="aprof__externs_8h_html_a3bf787c60f460619224625fff930c25a"><div class="ttname"><a href="../../db/d2d/prof__externs_8h.html#a3bf787c60f460619224625fff930c25a">prof_alloc_rollback</a></div><div class="ttdeci">void prof_alloc_rollback(tsd_t *tsd, prof_tctx_t *tctx, bool updated)</div></div>
<div class="ttc" id="aprof__inlines__a_8h_html_a42acb28483e529efeec9238b734d4f63"><div class="ttname"><a href="../../d7/d48/prof__inlines__a_8h.html#a42acb28483e529efeec9238b734d4f63">prof_active_get_unlocked</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE bool prof_active_get_unlocked(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d48/prof__inlines__a_8h_source.html#l00075">prof_inlines_a.h:75</a></div></div>
<div class="ttc" id="aprof__inlines__b_8h_html_a9b46533268bca5cea30acf3fe3744b36"><div class="ttname"><a href="../../de/d97/prof__inlines__b_8h.html#a9b46533268bca5cea30acf3fe3744b36">prof_alloc_prep</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE prof_tctx_t * prof_alloc_prep(tsd_t *tsd, size_t usize, bool prof_active, bool update)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d97/prof__inlines__b_8h_source.html#l00146">prof_inlines_b.h:146</a></div></div>
<div class="ttc" id="aprof__inlines__b_8h_html_aed624d7d1c0a96fcf11dbc56598b4b7f"><div class="ttname"><a href="../../de/d97/prof__inlines__b_8h.html#aed624d7d1c0a96fcf11dbc56598b4b7f">prof_malloc</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE void prof_malloc(tsdn_t *tsdn, const void *ptr, size_t usize, alloc_ctx_t *alloc_ctx, prof_tctx_t *tctx)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d97/prof__inlines__b_8h_source.html#l00166">prof_inlines_b.h:166</a></div></div>
<div class="ttc" id="asc_8h_html_a4e728b3887b0b2b14a2db1eed407854c"><div class="ttname"><a href="../../d9/d50/sc_8h.html#a4e728b3887b0b2b14a2db1eed407854c">SC_SMALL_MAXCLASS</a></div><div class="ttdeci">#define SC_SMALL_MAXCLASS</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d50/sc_8h_source.html#l00253">sc.h:253</a></div></div>
<div class="ttc" id="asc_8h_html_ac66e2f56f4f0411ca5d5c3444ba4d491"><div class="ttname"><a href="../../d9/d50/sc_8h.html#ac66e2f56f4f0411ca5d5c3444ba4d491">SC_LARGE_MAXCLASS</a></div><div class="ttdeci">#define SC_LARGE_MAXCLASS</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d50/sc_8h_source.html#l00265">sc.h:265</a></div></div>
<div class="ttc" id="astructprof__tctx__s_html"><div class="ttname"><a href="../../d7/d01/structprof__tctx__s.html">prof_tctx_s</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d73/prof__structs_8h_source.html#l00047">prof_structs.h:47</a></div></div>
<div class="ttc" id="astructstatic__opts__s_html_a0a582f9d8a5ec93eb9ac46b946ef2510"><div class="ttname"><a href="../../d6/d7c/structstatic__opts__s.html#a0a582f9d8a5ec93eb9ac46b946ef2510">static_opts_s::may_overflow</a></div><div class="ttdeci">bool may_overflow</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01818">jemalloc.c:1818</a></div></div>
<div class="ttc" id="astructstatic__opts__s_html_a2a760634c35b2df727542452532cc63f"><div class="ttname"><a href="../../d6/d7c/structstatic__opts__s.html#a2a760634c35b2df727542452532cc63f">static_opts_s::invalid_alignment_string</a></div><div class="ttdeci">const char * invalid_alignment_string</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01847">jemalloc.c:1847</a></div></div>
<div class="ttc" id="astructstatic__opts__s_html_a2e3e6b3283bee38c9c9b52f5be82d4b2"><div class="ttname"><a href="../../d6/d7c/structstatic__opts__s.html#a2e3e6b3283bee38c9c9b52f5be82d4b2">static_opts_s::set_errno_on_error</a></div><div class="ttdeci">bool set_errno_on_error</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01837">jemalloc.c:1837</a></div></div>
<div class="ttc" id="astructstatic__opts__s_html_a54bbea91641320fa4399a6b466680990"><div class="ttname"><a href="../../d6/d7c/structstatic__opts__s.html#a54bbea91641320fa4399a6b466680990">static_opts_s::assert_nonempty_alloc</a></div><div class="ttdeci">bool assert_nonempty_alloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01829">jemalloc.c:1829</a></div></div>
<div class="ttc" id="astructstatic__opts__s_html_a827d38e6c4bd5de6ae121e79bdf06c3b"><div class="ttname"><a href="../../d6/d7c/structstatic__opts__s.html#a827d38e6c4bd5de6ae121e79bdf06c3b">static_opts_s::null_out_result_on_error</a></div><div class="ttdeci">bool null_out_result_on_error</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01835">jemalloc.c:1835</a></div></div>
<div class="ttc" id="astructstatic__opts__s_html_aad0178fec42358f91f612f3197fcd640"><div class="ttname"><a href="../../d6/d7c/structstatic__opts__s.html#aad0178fec42358f91f612f3197fcd640">static_opts_s::oom_string</a></div><div class="ttdeci">const char * oom_string</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01845">jemalloc.c:1845</a></div></div>
<div class="ttc" id="astructstatic__opts__s_html_acb7c331953d512ac69f0ea79a553b4e3"><div class="ttname"><a href="../../d6/d7c/structstatic__opts__s.html#acb7c331953d512ac69f0ea79a553b4e3">static_opts_s::min_alignment</a></div><div class="ttdeci">size_t min_alignment</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01842">jemalloc.c:1842</a></div></div>
<div class="ttc" id="astructstatic__opts__s_html_ad4264bc625a811547f2185057df08dd5"><div class="ttname"><a href="../../d6/d7c/structstatic__opts__s.html#ad4264bc625a811547f2185057df08dd5">static_opts_s::bump_empty_aligned_alloc</a></div><div class="ttdeci">bool bump_empty_aligned_alloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01824">jemalloc.c:1824</a></div></div>
<div class="ttc" id="astructstatic__opts__s_html_aefe162954663a6fac0cb8f1bd071369b"><div class="ttname"><a href="../../d6/d7c/structstatic__opts__s.html#aefe162954663a6fac0cb8f1bd071369b">static_opts_s::usize</a></div><div class="ttdeci">bool usize</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01860">jemalloc.c:1860</a></div></div>
<div class="ttc" id="asz_8h_html_a8506233457e9ceb58a016db4340d1266"><div class="ttname"><a href="../../db/d04/sz_8h.html#a8506233457e9ceb58a016db4340d1266">sz_sa2u</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE size_t sz_sa2u(size_t size, size_t alignment)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d04/sz_8h_source.html#l00263">sz.h:263</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01892">dynamic_opts_s::alignment</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01895">dynamic_opts_s::arena_ind</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01884">ARENA_IND_AUTOMATIC</a>, <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01829">static_opts_s::assert_nonempty_alloc</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01824">static_opts_s::bump_empty_aligned_alloc</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00684">check_entry_exit_locking()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01990">compute_size_with_overflow()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00106">config_prof</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00141">config_stats</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00176">config_xmalloc</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01912">imalloc_no_sample()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01954">imalloc_sample()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01847">static_opts_s::invalid_alignment_string</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00869">isalloc()</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00035">likely</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00252">malloc_write</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01818">static_opts_s::may_overflow</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01842">static_opts_s::min_alignment</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01835">static_opts_s::null_out_result_on_error</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01845">static_opts_s::oom_string</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00298">opt_prof</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00071">opt_xmalloc</a>, <a class="el" href="../../d7/d48/prof__inlines__a_8h_source.html#l00075">prof_active_get_unlocked()</a>, <a class="el" href="../../de/d97/prof__inlines__b_8h_source.html#l00146">prof_alloc_prep()</a>, <a class="el" href="../../db/d2d/prof__externs_8h.html#a3bf787c60f460619224625fff930c25a">prof_alloc_rollback()</a>, <a class="el" href="../../de/d97/prof__inlines__b_8h_source.html#l00166">prof_malloc()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01888">dynamic_opts_s::result</a>, <a class="el" href="../../d9/d50/sc_8h_source.html#l00265">SC_LARGE_MAXCLASS</a>, <a class="el" href="../../d9/d50/sc_8h_source.html#l00198">SC_NSIZES</a>, <a class="el" href="../../d9/d50/sc_8h_source.html#l00253">SC_SMALL_MAXCLASS</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00047">set_errno()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01837">static_opts_s::set_errno_on_error</a>, <a class="el" href="../../dc/de1/arena__structs__b_8h_source.html#l00229">alloc_ctx_s::slab</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01856">static_opts_s::slow</a>, <a class="el" href="../../db/d04/sz_8h_source.html#l00205">sz_index2size()</a>, <a class="el" href="../../db/d04/sz_8h_source.html#l00263">sz_sa2u()</a>, <a class="el" href="../../db/d04/sz_8h_source.html#l00164">sz_size2index()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01894">dynamic_opts_s::tcache_ind</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01883">TCACHE_IND_AUTOMATIC</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01882">TCACHE_IND_NONE</a>, <a class="el" href="../../df/d31/prof_8c_source.html#l00313">tctx</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00224">tsd_tsdn()</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00036">unlikely</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01860">static_opts_s::usize</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01889">dynamic_opts_s::usize</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00188">UTRACE</a>, and <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00234">ZU</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02246">imalloc()</a>.</p>

</div>
</div>
<a id="a1caf8f281453f9dcd53df81d72690b9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1caf8f281453f9dcd53df81d72690b9b">&#9670;&nbsp;</a></span>imalloc_init_check()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> imalloc_init_check </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d80/jemalloc_8c.html#a1d90a39f861fd6f06172a5647dc3c409">static_opts_t</a> *&#160;</td>
          <td class="paramname"><em>sopts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d80/jemalloc_8c.html#ac85ffbc3906fc597d30fd0db704f0274">dynamic_opts_t</a> *&#160;</td>
          <td class="paramname"><em>dopts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02228">2228</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;                                                                {</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(!<a class="code" href="../../d8/d80/jemalloc_8c.html#a01b7b0d8bcb19acba3bdea9fcb06cd7b">malloc_initialized</a>()) &amp;&amp; <a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#a293cf98baff03c7fb3581b2d6a86dc3d">malloc_init</a>())) {</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ac5fef66aba0898411be771980aef22c8">config_xmalloc</a> &amp;&amp; <a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#abb699624a4c15add503df6cb54a5132e">opt_xmalloc</a>)) {</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;            <a class="code" href="../../dd/de2/private__namespace_8h.html#aa5e64f0a9668adb32f12d43a5d04f09a">malloc_write</a>(sopts-&gt;<a class="code" href="../../d6/d7c/structstatic__opts__s.html#aad0178fec42358f91f612f3197fcd640">oom_string</a>);</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;            abort();</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;        }</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#ac6bcbb3858b3ceee509112e7b82b2d2f">UTRACE</a>(<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>, dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a09036727e3c2f6fe0562cab93596b44d">num_items</a> * dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a5b1852bd64ab79b0bca4ff94046773c8">item_size</a>, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;        <a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a132c48faab6dcea1dca5ef9012266300">set_errno</a>(ENOMEM);</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;        *dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a4b1c019538c6575926e2e473a2b61b12">result</a> = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160; </div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;    }</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160; </div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;}</div>
<div class="ttc" id="ajemalloc_8c_html_a293cf98baff03c7fb3581b2d6a86dc3d"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a293cf98baff03c7fb3581b2d6a86dc3d">malloc_init</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE bool malloc_init(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00222">jemalloc.c:222</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00176">config_xmalloc</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01891">dynamic_opts_s::item_size</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00222">malloc_init()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00209">malloc_initialized()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00252">malloc_write</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01890">dynamic_opts_s::num_items</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01845">static_opts_s::oom_string</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00071">opt_xmalloc</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01888">dynamic_opts_s::result</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00047">set_errno()</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00036">unlikely</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00188">UTRACE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02246">imalloc()</a>.</p>

</div>
</div>
<a id="a39f6ceb222f55b6218b15ff818c7a903"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39f6ceb222f55b6218b15ff818c7a903">&#9670;&nbsp;</a></span>imalloc_no_sample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> void* imalloc_no_sample </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d80/jemalloc_8c.html#a1d90a39f861fd6f06172a5647dc3c409">static_opts_t</a> *&#160;</td>
          <td class="paramname"><em>sopts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d80/jemalloc_8c.html#ac85ffbc3906fc597d30fd0db704f0274">dynamic_opts_t</a> *&#160;</td>
          <td class="paramname"><em>dopts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *&#160;</td>
          <td class="paramname"><em>tsd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>usize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dc4/jemalloc__internal__types_8h.html#a09eb24f5d01f07b2e22afae9a52820d7">szind_t</a>&#160;</td>
          <td class="paramname"><em>ind</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01912">1912</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;                                            {</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;    <a class="code" href="../../db/d17/structtcache__s.html">tcache_t</a> *tcache;</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;    <a class="code" href="../../da/dc2/structarena__s.html">arena_t</a> *<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>;</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160; </div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;    <span class="comment">/* Fill in the tcache. */</span></div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;    <span class="keywordflow">if</span> (dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#ae1a649743f27493bc9f8a990f86de36e">tcache_ind</a> == <a class="code" href="../../d8/d80/jemalloc_8c.html#a089922bccba51a5452ad46e30a6e1572">TCACHE_IND_AUTOMATIC</a>) {</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a217a0bd562b98ae8c2ffce44935351e1">likely</a>(!sopts-&gt;<a class="code" href="../../d6/d7c/structstatic__opts__s.html#a0b201929708af8d731b93d56cb794e71">slow</a>)) {</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;            <span class="comment">/* Getting tcache ptr unconditionally. */</span></div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;            tcache = tsd_tcachep_get(tsd);</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;            <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(tcache == <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#a609f26d4412101faf7c34036aa9cd977">tcache_get</a>(tsd));</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;            tcache = <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#a609f26d4412101faf7c34036aa9cd977">tcache_get</a>(tsd);</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;        }</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#ae1a649743f27493bc9f8a990f86de36e">tcache_ind</a> == <a class="code" href="../../d8/d80/jemalloc_8c.html#a547d79639d1847a9d5a354799a989a6d">TCACHE_IND_NONE</a>) {</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;        tcache = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;        tcache = <a class="code" href="../../da/d06/tcache__inlines_8h.html#ab5870a1d6b6ccd14e3c5ebd44a38dae6">tcaches_get</a>(tsd, dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#ae1a649743f27493bc9f8a990f86de36e">tcache_ind</a>);</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    }</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160; </div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    <span class="comment">/* Fill in the arena. */</span></div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    <span class="keywordflow">if</span> (dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a7b814130e575e883adc2db17c8e9dd73">arena_ind</a> == <a class="code" href="../../d8/d80/jemalloc_8c.html#a698bb0ab65b175bfa83ee515e5489dcc">ARENA_IND_AUTOMATIC</a>) {</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;<span class="comment">         * In case of automatic arena management, we defer arena</span></div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;<span class="comment">         * computation until as late as we can, hoping to fill the</span></div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;<span class="comment">         * allocation out of the tcache.</span></div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;        <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a> = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;        <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a> = <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#afc61837312aeb8ba2123252226db9ce0">arena_get</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a7b814130e575e883adc2db17c8e9dd73">arena_ind</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;    }</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160; </div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a55cc50f3754f427fb1e636226a78c70b">alignment</a> != 0)) {</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a7beec5a90bb01aebcc70fcc5509131c2">ipalloct</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), usize, dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a55cc50f3754f427fb1e636226a78c70b">alignment</a>,</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;            dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a17d08eb2365fff3499bd4dac13fda106">zero</a>, tcache, <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>);</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    }</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160; </div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../df/d67/jemalloc__internal__inlines__c_8h.html#a2c3335ee7bf28b8e7db125f2810ccdf1">iallocztm</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), size, ind, dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a17d08eb2365fff3499bd4dac13fda106">zero</a>, tcache, <span class="keyword">false</span>,</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;        <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>, sopts-&gt;<a class="code" href="../../d6/d7c/structstatic__opts__s.html#a0b201929708af8d731b93d56cb794e71">slow</a>);</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;}</div>
<div class="ttc" id="ajemalloc__internal_8h_html_a7beec5a90bb01aebcc70fcc5509131c2"><div class="ttname"><a href="../../d9/d33/jemalloc__internal_8h.html#a7beec5a90bb01aebcc70fcc5509131c2">ipalloct</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE void * ipalloct(size_t usize, size_t alignment, bool zero, bool try_tcache, arena_t *arena)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/jemalloc__internal_8h_source.html#l00832">jemalloc_internal.h:832</a></div></div>
<div class="ttc" id="atcache__inlines_8h_html_ab5870a1d6b6ccd14e3c5ebd44a38dae6"><div class="ttname"><a href="../../da/d06/tcache__inlines_8h.html#ab5870a1d6b6ccd14e3c5ebd44a38dae6">tcaches_get</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE tcache_t * tcaches_get(tsd_t *tsd, unsigned ind)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d06/tcache__inlines_8h_source.html#l00216">tcache_inlines.h:216</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01892">dynamic_opts_s::alignment</a>, <a class="el" href="../../d2/dd3/background__thread_8c_source.html#l00057">arena</a>, <a class="el" href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00085">arena_get()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01895">dynamic_opts_s::arena_ind</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01884">ARENA_IND_AUTOMATIC</a>, <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../df/d67/jemalloc__internal__inlines__c_8h_source.html#l00042">iallocztm()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00832">ipalloct()</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00035">likely</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01856">static_opts_s::slow</a>, <a class="el" href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00142">tcache_get()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01894">dynamic_opts_s::tcache_ind</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01883">TCACHE_IND_AUTOMATIC</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01882">TCACHE_IND_NONE</a>, <a class="el" href="../../da/d06/tcache__inlines_8h_source.html#l00216">tcaches_get()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00224">tsd_tsdn()</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00036">unlikely</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01893">dynamic_opts_s::zero</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02028">imalloc_body()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01954">imalloc_sample()</a>.</p>

</div>
</div>
<a id="a870870f547900681db6f244c538827a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a870870f547900681db6f244c538827a5">&#9670;&nbsp;</a></span>imalloc_sample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> void* imalloc_sample </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d80/jemalloc_8c.html#a1d90a39f861fd6f06172a5647dc3c409">static_opts_t</a> *&#160;</td>
          <td class="paramname"><em>sopts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d80/jemalloc_8c.html#ac85ffbc3906fc597d30fd0db704f0274">dynamic_opts_t</a> *&#160;</td>
          <td class="paramname"><em>dopts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *&#160;</td>
          <td class="paramname"><em>tsd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>usize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dc4/jemalloc__internal__types_8h.html#a09eb24f5d01f07b2e22afae9a52820d7">szind_t</a>&#160;</td>
          <td class="paramname"><em>ind</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01954">1954</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;                               {</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160; </div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;<span class="comment">     * For small allocations, sampling bumps the usize.  If so, we allocate</span></div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;<span class="comment">     * from the ind_large bucket.</span></div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;    <a class="code" href="../../dc/dc4/jemalloc__internal__types_8h.html#a09eb24f5d01f07b2e22afae9a52820d7">szind_t</a> ind_large;</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;    <span class="keywordtype">size_t</span> bumped_usize = usize;</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160; </div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;    <span class="keywordflow">if</span> (usize &lt;= <a class="code" href="../../d9/d50/sc_8h.html#a4e728b3887b0b2b14a2db1eed407854c">SC_SMALL_MAXCLASS</a>) {</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;        <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(((dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a55cc50f3754f427fb1e636226a78c70b">alignment</a> == 0) ?</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;            <a class="code" href="../../db/d04/sz_8h.html#a3f43fd132f781edb0d4a1a2cbcd6f80f">sz_s2u</a>(<a class="code" href="../../d9/d50/sc_8h.html#ae0e65b77903c5683f3c0ed10214937d7">SC_LARGE_MINCLASS</a>) :</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;            <a class="code" href="../../db/d04/sz_8h.html#a8506233457e9ceb58a016db4340d1266">sz_sa2u</a>(<a class="code" href="../../d9/d50/sc_8h.html#ae0e65b77903c5683f3c0ed10214937d7">SC_LARGE_MINCLASS</a>, dopts-&gt;<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a55cc50f3754f427fb1e636226a78c70b">alignment</a>))</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;            == <a class="code" href="../../d9/d50/sc_8h.html#ae0e65b77903c5683f3c0ed10214937d7">SC_LARGE_MINCLASS</a>);</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;        ind_large = <a class="code" href="../../db/d04/sz_8h.html#a710950755b0e755950007b68d8b2440b">sz_size2index</a>(<a class="code" href="../../d9/d50/sc_8h.html#ae0e65b77903c5683f3c0ed10214937d7">SC_LARGE_MINCLASS</a>);</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;        bumped_usize = <a class="code" href="../../db/d04/sz_8h.html#a3f43fd132f781edb0d4a1a2cbcd6f80f">sz_s2u</a>(<a class="code" href="../../d9/d50/sc_8h.html#ae0e65b77903c5683f3c0ed10214937d7">SC_LARGE_MINCLASS</a>);</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;        <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code" href="../../d8/d80/jemalloc_8c.html#a39f6ceb222f55b6218b15ff818c7a903">imalloc_no_sample</a>(sopts, dopts, tsd, bumped_usize,</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;            bumped_usize, ind_large);</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>)) {</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;        }</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;        <a class="code" href="../../dd/de2/private__namespace_8h.html#a8586fc47690237b0de5b62749589ad3d">arena_prof_promote</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>, usize);</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;        <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code" href="../../d8/d80/jemalloc_8c.html#a39f6ceb222f55b6218b15ff818c7a903">imalloc_no_sample</a>(sopts, dopts, tsd, usize, usize, ind);</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;    }</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160; </div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;}</div>
<div class="ttc" id="aprivate__namespace_8h_html_a8586fc47690237b0de5b62749589ad3d"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a8586fc47690237b0de5b62749589ad3d">arena_prof_promote</a></div><div class="ttdeci">#define arena_prof_promote</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00084">private_namespace.h:84</a></div></div>
<div class="ttc" id="asc_8h_html_ae0e65b77903c5683f3c0ed10214937d7"><div class="ttname"><a href="../../d9/d50/sc_8h.html#ae0e65b77903c5683f3c0ed10214937d7">SC_LARGE_MINCLASS</a></div><div class="ttdeci">#define SC_LARGE_MINCLASS</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d50/sc_8h_source.html#l00257">sc.h:257</a></div></div>
<div class="ttc" id="asz_8h_html_a3f43fd132f781edb0d4a1a2cbcd6f80f"><div class="ttname"><a href="../../db/d04/sz_8h.html#a3f43fd132f781edb0d4a1a2cbcd6f80f">sz_s2u</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE size_t sz_s2u(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d04/sz_8h_source.html#l00251">sz.h:251</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01892">dynamic_opts_s::alignment</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00084">arena_prof_promote</a>, <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01912">imalloc_no_sample()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../df/d31/prof_8c_source.html#l00281">ret</a>, <a class="el" href="../../d9/d50/sc_8h_source.html#l00257">SC_LARGE_MINCLASS</a>, <a class="el" href="../../d9/d50/sc_8h_source.html#l00253">SC_SMALL_MAXCLASS</a>, <a class="el" href="../../db/d04/sz_8h_source.html#l00251">sz_s2u()</a>, <a class="el" href="../../db/d04/sz_8h_source.html#l00263">sz_sa2u()</a>, <a class="el" href="../../db/d04/sz_8h_source.html#l00164">sz_size2index()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00224">tsd_tsdn()</a>, and <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00036">unlikely</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02028">imalloc_body()</a>.</p>

</div>
</div>
<a id="a96e3a96612cb818d870f927d7b850e8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96e3a96612cb818d870f927d7b850e8e">&#9670;&nbsp;</a></span>inallocx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> size_t inallocx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *&#160;</td>
          <td class="paramname"><em>tsdn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03534">3534</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;                                               {</div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(tsdn);</div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160; </div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;    <span class="keywordtype">size_t</span> usize;</div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a217a0bd562b98ae8c2ffce44935351e1">likely</a>((flags &amp; <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a0d713144006ff6573a2da89668e622ae">MALLOCX_LG_ALIGN_MASK</a>) == 0)) {</div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;        usize = <a class="code" href="../../db/d04/sz_8h.html#a3f43fd132f781edb0d4a1a2cbcd6f80f">sz_s2u</a>(size);</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;        usize = <a class="code" href="../../db/d04/sz_8h.html#a8506233457e9ceb58a016db4340d1266">sz_sa2u</a>(size, <a class="code" href="../../dc/dc4/jemalloc__internal__types_8h.html#a335e80c221c73cc83610d43af2dabd84">MALLOCX_ALIGN_GET_SPECIFIED</a>(flags));</div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;    }</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(tsdn);</div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;    <span class="keywordflow">return</span> usize;</div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;}</div>
<div class="ttc" id="ajemalloc__internal_8h_html_a0d713144006ff6573a2da89668e622ae"><div class="ttname"><a href="../../d9/d33/jemalloc__internal_8h.html#a0d713144006ff6573a2da89668e622ae">MALLOCX_LG_ALIGN_MASK</a></div><div class="ttdeci">#define MALLOCX_LG_ALIGN_MASK</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/jemalloc__internal_8h_source.html#l00231">jemalloc_internal.h:231</a></div></div>
<div class="ttc" id="ajemalloc__internal__types_8h_html_a335e80c221c73cc83610d43af2dabd84"><div class="ttname"><a href="../../dc/dc4/jemalloc__internal__types_8h.html#a335e80c221c73cc83610d43af2dabd84">MALLOCX_ALIGN_GET_SPECIFIED</a></div><div class="ttdeci">#define MALLOCX_ALIGN_GET_SPECIFIED(flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc4/jemalloc__internal__types_8h_source.html#l00040">jemalloc_internal_types.h:40</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00684">check_entry_exit_locking()</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00035">likely</a>, <a class="el" href="../../dc/dc4/jemalloc__internal__types_8h_source.html#l00040">MALLOCX_ALIGN_GET_SPECIFIED</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00231">MALLOCX_LG_ALIGN_MASK</a>, <a class="el" href="../../db/d04/sz_8h_source.html#l00251">sz_s2u()</a>, and <a class="el" href="../../db/d04/sz_8h_source.html#l00263">sz_sa2u()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03619">je_nallocx()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03548">sdallocx_default()</a>.</p>

</div>
</div>
<a id="a9f7c08580dd383f37407183db1d72b65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f7c08580dd383f37407183db1d72b65">&#9670;&nbsp;</a></span>init_opt_stats_print_opts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void init_opt_stats_print_opts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>vlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00754">754</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                                                      {</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordtype">size_t</span> opts_len = strlen(<a class="code" href="../../dd/de2/private__namespace_8h.html#aa6d1f5339409049179d41ab9c8609e09">opt_stats_print_opts</a>);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(opts_len &lt;= <a class="code" href="../../d9/d9b/stats_8h.html#afa231099d07583c3ed0981e0bb665f55adc8c456dd2d1bc866777f0aa96d2a342">stats_print_tot_num_options</a>);</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160; </div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; vlen; i++) {</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        <span class="keywordflow">switch</span> (v[i]) {</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="preprocessor">#define OPTION(o, v, d, s) case o: break;</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;            <a class="code" href="../../d9/d9b/stats_8h.html#a03614155b5727f79945624624a560ca6">STATS_PRINT_OPTIONS</a></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="preprocessor">#undef OPTION</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        <span class="keywordflow">default</span>: <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        }</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160; </div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        <span class="keywordflow">if</span> (strchr(<a class="code" href="../../dd/de2/private__namespace_8h.html#aa6d1f5339409049179d41ab9c8609e09">opt_stats_print_opts</a>, v[i]) != <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>) {</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;            <span class="comment">/* Ignore repeated. */</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        }</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160; </div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        <a class="code" href="../../dd/de2/private__namespace_8h.html#aa6d1f5339409049179d41ab9c8609e09">opt_stats_print_opts</a>[opts_len++] = v[i];</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        <a class="code" href="../../dd/de2/private__namespace_8h.html#aa6d1f5339409049179d41ab9c8609e09">opt_stats_print_opts</a>[opts_len] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(opts_len &lt;= <a class="code" href="../../d9/d9b/stats_8h.html#afa231099d07583c3ed0981e0bb665f55adc8c456dd2d1bc866777f0aa96d2a342">stats_print_tot_num_options</a>);</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    }</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(opts_len == strlen(<a class="code" href="../../dd/de2/private__namespace_8h.html#aa6d1f5339409049179d41ab9c8609e09">opt_stats_print_opts</a>));</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;}</div>
<div class="ttc" id="aprivate__namespace_8h_html_aa6d1f5339409049179d41ab9c8609e09"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#aa6d1f5339409049179d41ab9c8609e09">opt_stats_print_opts</a></div><div class="ttdeci">#define opt_stats_print_opts</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00358">private_namespace.h:358</a></div></div>
<div class="ttc" id="astats_8h_html_a03614155b5727f79945624624a560ca6"><div class="ttname"><a href="../../d9/d9b/stats_8h.html#a03614155b5727f79945624624a560ca6">STATS_PRINT_OPTIONS</a></div><div class="ttdeci">#define STATS_PRINT_OPTIONS</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d9b/stats_8h_source.html#l00005">stats.h:5</a></div></div>
<div class="ttc" id="astats_8h_html_afa231099d07583c3ed0981e0bb665f55adc8c456dd2d1bc866777f0aa96d2a342"><div class="ttname"><a href="../../d9/d9b/stats_8h.html#afa231099d07583c3ed0981e0bb665f55adc8c456dd2d1bc866777f0aa96d2a342">stats_print_tot_num_options</a></div><div class="ttdeci">@ stats_print_tot_num_options</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d9b/stats_8h_source.html#l00021">stats.h:20</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00358">opt_stats_print_opts</a>, <a class="el" href="../../d9/d9b/stats_8h_source.html#l00005">STATS_PRINT_OPTIONS</a>, and <a class="el" href="../../d9/d9b/stats_8h_source.html#l00020">stats_print_tot_num_options</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01021">malloc_conf_init_helper()</a>.</p>

</div>
</div>
<a id="adcdf7a6eecc0c6489f6ca7a94b031476"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcdf7a6eecc0c6489f6ca7a94b031476">&#9670;&nbsp;</a></span>irallocx_prof()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> void* irallocx_prof </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *&#160;</td>
          <td class="paramname"><em>tsd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>old_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>old_usize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>alignment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>usize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>zero</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d7d/tcache__types_8h.html#a6d7a41c928468d38e45e4cb0767932e6">tcache_t</a> *&#160;</td>
          <td class="paramname"><em>tcache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d5e/arena__types_8h.html#a75ec58797d4c793b05def94ed85c6bdc">arena_t</a> *&#160;</td>
          <td class="paramname"><em>arena</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d5e/arena__types_8h.html#a8b3a06ac6fe6eb95c8f5b3de1241049a">alloc_ctx_t</a> *&#160;</td>
          <td class="paramname"><em>alloc_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d34/hook_8h.html#aeca480b4e2ff00c366fd538a7646401f">hook_ralloc_args_t</a> *&#160;</td>
          <td class="paramname"><em>hook_args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03174">3174</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;                                                                           {</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;    <span class="keywordtype">void</span> *p;</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../dd/de2/private__namespace_8h.html#adaf0a6593dc0aba6c0064e2202b0b5ff">prof_active</a>;</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;    <a class="code" href="../../d7/d01/structprof__tctx__s.html">prof_tctx_t</a> *old_tctx, *<a class="code" href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a>;</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160; </div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#adaf0a6593dc0aba6c0064e2202b0b5ff">prof_active</a> = <a class="code" href="../../d7/d48/prof__inlines__a_8h.html#a42acb28483e529efeec9238b734d4f63">prof_active_get_unlocked</a>();</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;    old_tctx = <a class="code" href="../../de/d97/prof__inlines__b_8h.html#a5405f723eeb016457204add1dfc7d004">prof_tctx_get</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), old_ptr, alloc_ctx);</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;    <a class="code" href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a> = <a class="code" href="../../de/d97/prof__inlines__b_8h.html#a9b46533268bca5cea30acf3fe3744b36">prof_alloc_prep</a>(tsd, *usize, <a class="code" href="../../dd/de2/private__namespace_8h.html#adaf0a6593dc0aba6c0064e2202b0b5ff">prof_active</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>((<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)<a class="code" href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a> != (<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)1U)) {</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;        p = <a class="code" href="../../d8/d80/jemalloc_8c.html#a2917306ca7a33c7e35bfb18cf1683a1d">irallocx_prof_sample</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), old_ptr, old_usize,</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;            *usize, alignment, <a class="code" href="../../df/de2/namespace_g3_d.html#afe56d91f54a2ecc472b75ccf88b4c59c">zero</a>, tcache, <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>, <a class="code" href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a>, hook_args);</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;        p = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a7522c999cedb5e262f039dcf578f4c82">iralloct</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), old_ptr, old_usize, size, alignment,</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;            <a class="code" href="../../df/de2/namespace_g3_d.html#afe56d91f54a2ecc472b75ccf88b4c59c">zero</a>, tcache, <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>, hook_args);</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;    }</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(p == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>)) {</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;        <a class="code" href="../../db/d2d/prof__externs_8h.html#a3bf787c60f460619224625fff930c25a">prof_alloc_rollback</a>(tsd, <a class="code" href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;    }</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160; </div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;    <span class="keywordflow">if</span> (p == old_ptr &amp;&amp; alignment != 0) {</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;<span class="comment">         * The allocation did not move, so it is possible that the size</span></div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;<span class="comment">         * class is smaller than would guarantee the requested</span></div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;<span class="comment">         * alignment, and that the alignment constraint was</span></div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;<span class="comment">         * serendipitously satisfied.  Additionally, old_usize may not</span></div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;<span class="comment">         * be the same as the current usize because of in-place large</span></div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;<span class="comment">         * reallocation.  Therefore, query the actual value of usize.</span></div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;        *usize = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#aa3255636edeac1ba4261012191d1d189">isalloc</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), p);</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;    }</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;    <a class="code" href="../../de/d97/prof__inlines__b_8h.html#abd8119303c0f61529ab434b7df3bf321">prof_realloc</a>(tsd, p, *usize, <a class="code" href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a>, <a class="code" href="../../dd/de2/private__namespace_8h.html#adaf0a6593dc0aba6c0064e2202b0b5ff">prof_active</a>, <span class="keyword">false</span>, old_ptr,</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;        old_usize, old_tctx);</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160; </div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;    <span class="keywordflow">return</span> p;</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;}</div>
<div class="ttc" id="ajemalloc_8c_html_a2917306ca7a33c7e35bfb18cf1683a1d"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a2917306ca7a33c7e35bfb18cf1683a1d">irallocx_prof_sample</a></div><div class="ttdeci">static void * irallocx_prof_sample(tsdn_t *tsdn, void *old_ptr, size_t old_usize, size_t usize, size_t alignment, bool zero, tcache_t *tcache, arena_t *arena, prof_tctx_t *tctx, hook_ralloc_args_t *hook_args)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l03149">jemalloc.c:3149</a></div></div>
<div class="ttc" id="ajemalloc__internal_8h_html_a7522c999cedb5e262f039dcf578f4c82"><div class="ttname"><a href="../../d9/d33/jemalloc__internal_8h.html#a7522c999cedb5e262f039dcf578f4c82">iralloct</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE void * iralloct(void *ptr, size_t size, size_t extra, size_t alignment, bool zero, bool try_tcache_alloc, bool try_tcache_dalloc, arena_t *arena)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/jemalloc__internal_8h_source.html#l00992">jemalloc_internal.h:992</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_adaf0a6593dc0aba6c0064e2202b0b5ff"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#adaf0a6593dc0aba6c0064e2202b0b5ff">prof_active</a></div><div class="ttdeci">#define prof_active</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00308">private_namespace.h:308</a></div></div>
<div class="ttc" id="aprof__inlines__b_8h_html_a5405f723eeb016457204add1dfc7d004"><div class="ttname"><a href="../../de/d97/prof__inlines__b_8h.html#a5405f723eeb016457204add1dfc7d004">prof_tctx_get</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE prof_tctx_t * prof_tctx_get(tsdn_t *tsdn, const void *ptr, alloc_ctx_t *alloc_ctx)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d97/prof__inlines__b_8h_source.html#l00041">prof_inlines_b.h:41</a></div></div>
<div class="ttc" id="aprof__inlines__b_8h_html_abd8119303c0f61529ab434b7df3bf321"><div class="ttname"><a href="../../de/d97/prof__inlines__b_8h.html#abd8119303c0f61529ab434b7df3bf321">prof_realloc</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE void prof_realloc(tsd_t *tsd, const void *ptr, size_t usize, prof_tctx_t *tctx, bool prof_active, bool updated, const void *old_ptr, size_t old_usize, prof_tctx_t *old_tctx)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d97/prof__inlines__b_8h_source.html#l00181">prof_inlines_b.h:181</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/dd3/background__thread_8c_source.html#l00057">arena</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00992">iralloct()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03149">irallocx_prof_sample()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00869">isalloc()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00308">prof_active</a>, <a class="el" href="../../d7/d48/prof__inlines__a_8h_source.html#l00075">prof_active_get_unlocked()</a>, <a class="el" href="../../de/d97/prof__inlines__b_8h_source.html#l00146">prof_alloc_prep()</a>, <a class="el" href="../../db/d2d/prof__externs_8h.html#a3bf787c60f460619224625fff930c25a">prof_alloc_rollback()</a>, <a class="el" href="../../de/d97/prof__inlines__b_8h_source.html#l00181">prof_realloc()</a>, <a class="el" href="../../de/d97/prof__inlines__b_8h_source.html#l00041">prof_tctx_get()</a>, <a class="el" href="../../df/d31/prof_8c_source.html#l00313">tctx</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00224">tsd_tsdn()</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00036">unlikely</a>, and <a class="el" href="../../d6/dd6/unorm16_8h_source.html#l00082">G3D::zero()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03216">je_rallocx()</a>.</p>

</div>
</div>
<a id="a2917306ca7a33c7e35bfb18cf1683a1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2917306ca7a33c7e35bfb18cf1683a1d">&#9670;&nbsp;</a></span>irallocx_prof_sample()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* irallocx_prof_sample </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *&#160;</td>
          <td class="paramname"><em>tsdn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>old_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>old_usize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>usize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>alignment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>zero</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d7d/tcache__types_8h.html#a6d7a41c928468d38e45e4cb0767932e6">tcache_t</a> *&#160;</td>
          <td class="paramname"><em>tcache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d5e/arena__types_8h.html#a75ec58797d4c793b05def94ed85c6bdc">arena_t</a> *&#160;</td>
          <td class="paramname"><em>arena</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d2c/prof__types_8h.html#abeea2850aa56b1f29482d3fae1e83785">prof_tctx_t</a> *&#160;</td>
          <td class="paramname"><em>tctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d34/hook_8h.html#aeca480b4e2ff00c366fd538a7646401f">hook_ralloc_args_t</a> *&#160;</td>
          <td class="paramname"><em>hook_args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03149">3149</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;                                                      {</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;    <span class="keywordtype">void</span> *p;</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160; </div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a> == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>) {</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;    }</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;    <span class="keywordflow">if</span> (usize &lt;= <a class="code" href="../../d9/d50/sc_8h.html#a4e728b3887b0b2b14a2db1eed407854c">SC_SMALL_MAXCLASS</a>) {</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;        p = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a7522c999cedb5e262f039dcf578f4c82">iralloct</a>(tsdn, old_ptr, old_usize,</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;            <a class="code" href="../../d9/d50/sc_8h.html#ae0e65b77903c5683f3c0ed10214937d7">SC_LARGE_MINCLASS</a>, alignment, <a class="code" href="../../df/de2/namespace_g3_d.html#afe56d91f54a2ecc472b75ccf88b4c59c">zero</a>, tcache,</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;            <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>, hook_args);</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;        <span class="keywordflow">if</span> (p == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>) {</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;        }</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;        <a class="code" href="../../dd/de2/private__namespace_8h.html#a8586fc47690237b0de5b62749589ad3d">arena_prof_promote</a>(tsdn, p, usize);</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;        p = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a7522c999cedb5e262f039dcf578f4c82">iralloct</a>(tsdn, old_ptr, old_usize, usize, alignment, <a class="code" href="../../df/de2/namespace_g3_d.html#afe56d91f54a2ecc472b75ccf88b4c59c">zero</a>,</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;            tcache, <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>, hook_args);</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;    }</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160; </div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;    <span class="keywordflow">return</span> p;</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/dd3/background__thread_8c_source.html#l00057">arena</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00084">arena_prof_promote</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00992">iralloct()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../d9/d50/sc_8h_source.html#l00257">SC_LARGE_MINCLASS</a>, <a class="el" href="../../d9/d50/sc_8h_source.html#l00253">SC_SMALL_MAXCLASS</a>, <a class="el" href="../../df/d31/prof_8c_source.html#l00313">tctx</a>, and <a class="el" href="../../d6/dd6/unorm16_8h_source.html#l00082">G3D::zero()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03174">irallocx_prof()</a>.</p>

</div>
</div>
<a id="a561115c34dfd12eba19d511525df29eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a561115c34dfd12eba19d511525df29eb">&#9670;&nbsp;</a></span>irealloc_prof()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> void* irealloc_prof </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *&#160;</td>
          <td class="paramname"><em>tsd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>old_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>old_usize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>usize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d5e/arena__types_8h.html#a8b3a06ac6fe6eb95c8f5b3de1241049a">alloc_ctx_t</a> *&#160;</td>
          <td class="paramname"><em>alloc_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d34/hook_8h.html#aeca480b4e2ff00c366fd538a7646401f">hook_ralloc_args_t</a> *&#160;</td>
          <td class="paramname"><em>hook_args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02529">2529</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;                                                          {</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;    <span class="keywordtype">void</span> *p;</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../dd/de2/private__namespace_8h.html#adaf0a6593dc0aba6c0064e2202b0b5ff">prof_active</a>;</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;    <a class="code" href="../../d7/d01/structprof__tctx__s.html">prof_tctx_t</a> *old_tctx, *<a class="code" href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a>;</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160; </div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#adaf0a6593dc0aba6c0064e2202b0b5ff">prof_active</a> = <a class="code" href="../../d7/d48/prof__inlines__a_8h.html#a42acb28483e529efeec9238b734d4f63">prof_active_get_unlocked</a>();</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;    old_tctx = <a class="code" href="../../de/d97/prof__inlines__b_8h.html#a5405f723eeb016457204add1dfc7d004">prof_tctx_get</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), old_ptr, alloc_ctx);</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;    <a class="code" href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a> = <a class="code" href="../../de/d97/prof__inlines__b_8h.html#a9b46533268bca5cea30acf3fe3744b36">prof_alloc_prep</a>(tsd, usize, <a class="code" href="../../dd/de2/private__namespace_8h.html#adaf0a6593dc0aba6c0064e2202b0b5ff">prof_active</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>((<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)<a class="code" href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a> != (<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)1U)) {</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;        p = <a class="code" href="../../d8/d80/jemalloc_8c.html#a36f1a1c6880b8a3411a3a0e79c3cf370">irealloc_prof_sample</a>(tsd, old_ptr, old_usize, usize, <a class="code" href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a>,</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;            hook_args);</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;        p = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a45cd27a2d9dab4c57b243036359b4e3e">iralloc</a>(tsd, old_ptr, old_usize, usize, 0, <span class="keyword">false</span>,</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;            hook_args);</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;    }</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(p == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>)) {</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;        <a class="code" href="../../db/d2d/prof__externs_8h.html#a3bf787c60f460619224625fff930c25a">prof_alloc_rollback</a>(tsd, <a class="code" href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;    }</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;    <a class="code" href="../../de/d97/prof__inlines__b_8h.html#abd8119303c0f61529ab434b7df3bf321">prof_realloc</a>(tsd, p, usize, <a class="code" href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a>, <a class="code" href="../../dd/de2/private__namespace_8h.html#adaf0a6593dc0aba6c0064e2202b0b5ff">prof_active</a>, <span class="keyword">true</span>, old_ptr, old_usize,</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;        old_tctx);</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160; </div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;    <span class="keywordflow">return</span> p;</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;}</div>
<div class="ttc" id="ajemalloc_8c_html_a36f1a1c6880b8a3411a3a0e79c3cf370"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a36f1a1c6880b8a3411a3a0e79c3cf370">irealloc_prof_sample</a></div><div class="ttdeci">static void * irealloc_prof_sample(tsd_t *tsd, void *old_ptr, size_t old_usize, size_t usize, prof_tctx_t *tctx, hook_ralloc_args_t *hook_args)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l02506">jemalloc.c:2506</a></div></div>
<div class="ttc" id="ajemalloc__internal_8h_html_a45cd27a2d9dab4c57b243036359b4e3e"><div class="ttname"><a href="../../d9/d33/jemalloc__internal_8h.html#a45cd27a2d9dab4c57b243036359b4e3e">iralloc</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE void * iralloc(void *ptr, size_t size, size_t extra, size_t alignment, bool zero)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/jemalloc__internal_8h_source.html#l01023">jemalloc_internal.h:1023</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l01023">iralloc()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02506">irealloc_prof_sample()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00308">prof_active</a>, <a class="el" href="../../d7/d48/prof__inlines__a_8h_source.html#l00075">prof_active_get_unlocked()</a>, <a class="el" href="../../de/d97/prof__inlines__b_8h_source.html#l00146">prof_alloc_prep()</a>, <a class="el" href="../../db/d2d/prof__externs_8h.html#a3bf787c60f460619224625fff930c25a">prof_alloc_rollback()</a>, <a class="el" href="../../de/d97/prof__inlines__b_8h_source.html#l00181">prof_realloc()</a>, <a class="el" href="../../de/d97/prof__inlines__b_8h_source.html#l00041">prof_tctx_get()</a>, <a class="el" href="../../df/d31/prof_8c_source.html#l00313">tctx</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00224">tsd_tsdn()</a>, and <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00036">unlikely</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02653">je_realloc()</a>.</p>

</div>
</div>
<a id="a36f1a1c6880b8a3411a3a0e79c3cf370"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36f1a1c6880b8a3411a3a0e79c3cf370">&#9670;&nbsp;</a></span>irealloc_prof_sample()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* irealloc_prof_sample </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *&#160;</td>
          <td class="paramname"><em>tsd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>old_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>old_usize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>usize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d2c/prof__types_8h.html#abeea2850aa56b1f29482d3fae1e83785">prof_tctx_t</a> *&#160;</td>
          <td class="paramname"><em>tctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d34/hook_8h.html#aeca480b4e2ff00c366fd538a7646401f">hook_ralloc_args_t</a> *&#160;</td>
          <td class="paramname"><em>hook_args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02506">2506</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;                                                      {</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;    <span class="keywordtype">void</span> *p;</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160; </div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a> == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>) {</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;    }</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;    <span class="keywordflow">if</span> (usize &lt;= <a class="code" href="../../d9/d50/sc_8h.html#a4e728b3887b0b2b14a2db1eed407854c">SC_SMALL_MAXCLASS</a>) {</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;        p = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a45cd27a2d9dab4c57b243036359b4e3e">iralloc</a>(tsd, old_ptr, old_usize,</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;            <a class="code" href="../../d9/d50/sc_8h.html#ae0e65b77903c5683f3c0ed10214937d7">SC_LARGE_MINCLASS</a>, 0, <span class="keyword">false</span>, hook_args);</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;        <span class="keywordflow">if</span> (p == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>) {</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;        }</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;        <a class="code" href="../../dd/de2/private__namespace_8h.html#a8586fc47690237b0de5b62749589ad3d">arena_prof_promote</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), p, usize);</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;        p = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a45cd27a2d9dab4c57b243036359b4e3e">iralloc</a>(tsd, old_ptr, old_usize, usize, 0, <span class="keyword">false</span>,</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;            hook_args);</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;    }</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160; </div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;    <span class="keywordflow">return</span> p;</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00084">arena_prof_promote</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l01023">iralloc()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../d9/d50/sc_8h_source.html#l00257">SC_LARGE_MINCLASS</a>, <a class="el" href="../../d9/d50/sc_8h_source.html#l00253">SC_SMALL_MAXCLASS</a>, <a class="el" href="../../df/d31/prof_8c_source.html#l00313">tctx</a>, and <a class="el" href="../../db/d1d/tsd_8h_source.html#l00224">tsd_tsdn()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02529">irealloc_prof()</a>.</p>

</div>
</div>
<a id="a3345466d80e4ee71655dc31ae0419553"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3345466d80e4ee71655dc31ae0419553">&#9670;&nbsp;</a></span>isfree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> void isfree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *&#160;</td>
          <td class="paramname"><em>tsd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>usize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d7d/tcache__types_8h.html#a6d7a41c928468d38e45e4cb0767932e6">tcache_t</a> *&#160;</td>
          <td class="paramname"><em>tcache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>slow_path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02595">2595</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;                                                                              {</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;    <span class="keywordflow">if</span> (!slow_path) {</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;        <a class="code" href="../../db/d1d/tsd_8h.html#a4339c0d1e319a36f93bbfb00a515499f">tsd_assert_fast</a>(tsd);</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;    }</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;    <span class="keywordflow">if</span> (tsd_reentrancy_level_get(tsd) != 0) {</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;        <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(slow_path);</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;    }</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160; </div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a> != <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#a01b7b0d8bcb19acba3bdea9fcb06cd7b">malloc_initialized</a>() || <a class="code" href="../../d8/d80/jemalloc_8c.html#ae85e4c6cf761558babffa1b8af5baffc">IS_INITIALIZER</a>);</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160; </div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;    <a class="code" href="../../dd/df5/structalloc__ctx__s.html">alloc_ctx_t</a> alloc_ctx, *ctx;</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d18/jemalloc__preamble_8h.html#a52aae7e7ae1bc431c4f1ca406083c792">config_cache_oblivious</a> &amp;&amp; ((<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a> &amp; <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae4aa620ce57c7c3171b916de2c5f09f2">PAGE_MASK</a>) != 0) {</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;<span class="comment">         * When cache_oblivious is disabled and ptr is not page aligned,</span></div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;<span class="comment">         * the allocation was not sampled -- usize can be used to</span></div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;<span class="comment">         * determine szind directly.</span></div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;        alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#a38309af4c914807568ea787f862b18a5">szind</a> = <a class="code" href="../../db/d04/sz_8h.html#a710950755b0e755950007b68d8b2440b">sz_size2index</a>(usize);</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;        alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#ab76225490df94cc8fcf34a8cfe365a3f">slab</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;        ctx = &amp;alloc_ctx;</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a86146c45a3404703342db7e08f9156fb">config_debug</a>) {</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;            <a class="code" href="../../dd/df5/structalloc__ctx__s.html">alloc_ctx_t</a> dbg_ctx;</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;            <a class="code" href="../../d8/d77/structrtree__ctx__s.html">rtree_ctx_t</a> *rtree_ctx = <a class="code" href="../../db/d1d/tsd_8h.html#a64c07f3dcab6961dcf64d2631462acce">tsd_rtree_ctx</a>(tsd);</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;            <a class="code" href="../../df/d9a/rtree_8h.html#a6e117ed328a6a0e2edd9060202787108">rtree_szind_slab_read</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), &amp;<a class="code" href="../../dd/de2/private__namespace_8h.html#a8544dacd100c532d7af36c3e65e70cec">extents_rtree</a>,</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;                rtree_ctx, (<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, <span class="keyword">true</span>, &amp;dbg_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#a38309af4c914807568ea787f862b18a5">szind</a>,</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;                &amp;dbg_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#ab76225490df94cc8fcf34a8cfe365a3f">slab</a>);</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;            <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(dbg_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#a38309af4c914807568ea787f862b18a5">szind</a> == alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#a38309af4c914807568ea787f862b18a5">szind</a>);</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;            <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(dbg_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#ab76225490df94cc8fcf34a8cfe365a3f">slab</a> == alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#ab76225490df94cc8fcf34a8cfe365a3f">slab</a>);</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;        }</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a6bba19605480b2588c644265529447c2">config_prof</a> &amp;&amp; <a class="code" href="../../dd/de2/private__namespace_8h.html#a547467db6ef3d75a6303c08d90ff1307">opt_prof</a>) {</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;        <a class="code" href="../../d8/d77/structrtree__ctx__s.html">rtree_ctx_t</a> *rtree_ctx = <a class="code" href="../../db/d1d/tsd_8h.html#a64c07f3dcab6961dcf64d2631462acce">tsd_rtree_ctx</a>(tsd);</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;        <a class="code" href="../../df/d9a/rtree_8h.html#a6e117ed328a6a0e2edd9060202787108">rtree_szind_slab_read</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), &amp;<a class="code" href="../../dd/de2/private__namespace_8h.html#a8544dacd100c532d7af36c3e65e70cec">extents_rtree</a>, rtree_ctx,</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;            (<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, <span class="keyword">true</span>, &amp;alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#a38309af4c914807568ea787f862b18a5">szind</a>, &amp;alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#ab76225490df94cc8fcf34a8cfe365a3f">slab</a>);</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;        <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#a38309af4c914807568ea787f862b18a5">szind</a> == <a class="code" href="../../db/d04/sz_8h.html#a710950755b0e755950007b68d8b2440b">sz_size2index</a>(usize));</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;        ctx = &amp;alloc_ctx;</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;        ctx = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;    }</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160; </div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a6bba19605480b2588c644265529447c2">config_prof</a> &amp;&amp; <a class="code" href="../../dd/de2/private__namespace_8h.html#a547467db6ef3d75a6303c08d90ff1307">opt_prof</a>) {</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;        <a class="code" href="../../de/d97/prof__inlines__b_8h.html#a16ff4268d32e8d70e77919f49a55e56e">prof_free</a>(tsd, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, usize, ctx);</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;    }</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a0a3d6c7d00953f43eab9c56131604e4d">config_stats</a>) {</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;        *tsd_thread_deallocatedp_get(tsd) += usize;</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;    }</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160; </div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a217a0bd562b98ae8c2ffce44935351e1">likely</a>(!slow_path)) {</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;        <a class="code" href="../../df/d67/jemalloc__internal__inlines__c_8h.html#a2d574f99e56edf49b7d7b236f46f00a1">isdalloct</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, usize, tcache, ctx, <span class="keyword">false</span>);</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;        <a class="code" href="../../df/d67/jemalloc__internal__inlines__c_8h.html#a2d574f99e56edf49b7d7b236f46f00a1">isdalloct</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, usize, tcache, ctx, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;    }</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;}</div>
<div class="ttc" id="ajemalloc__internal__inlines__c_8h_html_a2d574f99e56edf49b7d7b236f46f00a1"><div class="ttname"><a href="../../df/d67/jemalloc__internal__inlines__c_8h.html#a2d574f99e56edf49b7d7b236f46f00a1">isdalloct</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE void isdalloct(tsdn_t *tsdn, void *ptr, size_t size, tcache_t *tcache, alloc_ctx_t *alloc_ctx, bool slow_path)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d67/jemalloc__internal__inlines__c_8h_source.html#l00127">jemalloc_internal_inlines_c.h:127</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00684">check_entry_exit_locking()</a>, <a class="el" href="../../d1/d18/jemalloc__preamble_8h_source.html#l00146">config_cache_oblivious</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00078">config_debug</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00106">config_prof</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00141">config_stats</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00205">extents_rtree</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00127">IS_INITIALIZER</a>, <a class="el" href="../../df/d67/jemalloc__internal__inlines__c_8h_source.html#l00127">isdalloct()</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00035">likely</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00209">malloc_initialized()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00298">opt_prof</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00361">PAGE_MASK</a>, <a class="el" href="../../de/d97/prof__inlines__b_8h_source.html#l00239">prof_free()</a>, <a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h_source.html#l02451">ptr()</a>, <a class="el" href="../../df/d9a/rtree_8h_source.html#l00492">rtree_szind_slab_read()</a>, <a class="el" href="../../dc/de1/arena__structs__b_8h_source.html#l00229">alloc_ctx_s::slab</a>, <a class="el" href="../../db/d04/sz_8h_source.html#l00164">sz_size2index()</a>, <a class="el" href="../../dc/de1/arena__structs__b_8h_source.html#l00228">alloc_ctx_s::szind</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00321">tsd_assert_fast()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00395">tsd_rtree_ctx()</a>, and <a class="el" href="../../db/d1d/tsd_8h_source.html#l00224">tsd_tsdn()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03548">sdallocx_default()</a>.</p>

</div>
</div>
<a id="af8345a4a77ae304813ddc984c1b0ff48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8345a4a77ae304813ddc984c1b0ff48">&#9670;&nbsp;</a></span>ixallocx_helper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> size_t ixallocx_helper </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *&#160;</td>
          <td class="paramname"><em>tsdn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>old_usize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>extra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>alignment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>zero</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03312">3312</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;                                               {</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;    <span class="keywordtype">size_t</span> newsize;</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160; </div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#aac1dbed2a6b5d3b486424445906e3377">ixalloc</a>(tsdn, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, old_usize, size, extra, alignment, <a class="code" href="../../df/de2/namespace_g3_d.html#afe56d91f54a2ecc472b75ccf88b4c59c">zero</a>,</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;        &amp;newsize)) {</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;        <span class="keywordflow">return</span> old_usize;</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;    }</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160; </div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;    <span class="keywordflow">return</span> newsize;</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;}</div>
<div class="ttc" id="ajemalloc__internal_8h_html_aac1dbed2a6b5d3b486424445906e3377"><div class="ttname"><a href="../../d9/d33/jemalloc__internal_8h.html#aac1dbed2a6b5d3b486424445906e3377">ixalloc</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE bool ixalloc(void *ptr, size_t size, size_t extra, size_t alignment, bool zero)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/jemalloc__internal_8h_source.html#l01030">jemalloc_internal.h:1030</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l01030">ixalloc()</a>, <a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h_source.html#l02451">ptr()</a>, and <a class="el" href="../../d6/dd6/unorm16_8h_source.html#l00082">G3D::zero()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03339">ixallocx_prof()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03325">ixallocx_prof_sample()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03390">je_xallocx()</a>.</p>

</div>
</div>
<a id="a0bc8c87dbc68d9d584d5ce568c455338"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bc8c87dbc68d9d584d5ce568c455338">&#9670;&nbsp;</a></span>ixallocx_prof()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> size_t ixallocx_prof </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a001645652bd64e87155fbb7e441ffd11">tsd_t</a> *&#160;</td>
          <td class="paramname"><em>tsd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>old_usize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>extra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>alignment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>zero</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d5e/arena__types_8h.html#a8b3a06ac6fe6eb95c8f5b3de1241049a">alloc_ctx_t</a> *&#160;</td>
          <td class="paramname"><em>alloc_ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03339">3339</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;                                                                       {</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;    <span class="keywordtype">size_t</span> usize_max, usize;</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../dd/de2/private__namespace_8h.html#adaf0a6593dc0aba6c0064e2202b0b5ff">prof_active</a>;</div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;    <a class="code" href="../../d7/d01/structprof__tctx__s.html">prof_tctx_t</a> *old_tctx, *<a class="code" href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a>;</div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160; </div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#adaf0a6593dc0aba6c0064e2202b0b5ff">prof_active</a> = <a class="code" href="../../d7/d48/prof__inlines__a_8h.html#a42acb28483e529efeec9238b734d4f63">prof_active_get_unlocked</a>();</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;    old_tctx = <a class="code" href="../../de/d97/prof__inlines__b_8h.html#a5405f723eeb016457204add1dfc7d004">prof_tctx_get</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, alloc_ctx);</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;<span class="comment">     * usize isn&#39;t knowable before ixalloc() returns when extra is non-zero.</span></div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;<span class="comment">     * Therefore, compute its maximum possible value and use that in</span></div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;<span class="comment">     * prof_alloc_prep() to decide whether to capture a backtrace.</span></div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;<span class="comment">     * prof_realloc() will use the actual usize to decide whether to sample.</span></div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;    <span class="keywordflow">if</span> (alignment == 0) {</div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;        usize_max = <a class="code" href="../../db/d04/sz_8h.html#a3f43fd132f781edb0d4a1a2cbcd6f80f">sz_s2u</a>(size+extra);</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;        <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(usize_max &gt; 0</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;            &amp;&amp; usize_max &lt;= <a class="code" href="../../d9/d50/sc_8h.html#ac66e2f56f4f0411ca5d5c3444ba4d491">SC_LARGE_MAXCLASS</a>);</div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;        usize_max = <a class="code" href="../../db/d04/sz_8h.html#a8506233457e9ceb58a016db4340d1266">sz_sa2u</a>(size+extra, alignment);</div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(usize_max == 0</div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;            || usize_max &gt; <a class="code" href="../../d9/d50/sc_8h.html#ac66e2f56f4f0411ca5d5c3444ba4d491">SC_LARGE_MAXCLASS</a>)) {</div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;            <span class="comment">/*</span></div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;<span class="comment">             * usize_max is out of range, and chances are that</span></div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;<span class="comment">             * allocation will fail, but use the maximum possible</span></div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;<span class="comment">             * value and carry on with prof_alloc_prep(), just in</span></div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;<span class="comment">             * case allocation succeeds.</span></div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;            usize_max = <a class="code" href="../../d9/d50/sc_8h.html#ac66e2f56f4f0411ca5d5c3444ba4d491">SC_LARGE_MAXCLASS</a>;</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;        }</div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;    }</div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;    <a class="code" href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a> = <a class="code" href="../../de/d97/prof__inlines__b_8h.html#a9b46533268bca5cea30acf3fe3744b36">prof_alloc_prep</a>(tsd, usize_max, <a class="code" href="../../dd/de2/private__namespace_8h.html#adaf0a6593dc0aba6c0064e2202b0b5ff">prof_active</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160; </div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>((<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)<a class="code" href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a> != (<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)1U)) {</div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;        usize = <a class="code" href="../../d8/d80/jemalloc_8c.html#aabee1faa762c103251bcb7547465d1b2">ixallocx_prof_sample</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, old_usize,</div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;            size, extra, alignment, <a class="code" href="../../df/de2/namespace_g3_d.html#afe56d91f54a2ecc472b75ccf88b4c59c">zero</a>, <a class="code" href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a>);</div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;        usize = <a class="code" href="../../d8/d80/jemalloc_8c.html#af8345a4a77ae304813ddc984c1b0ff48">ixallocx_helper</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, old_usize, size,</div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;            extra, alignment, <a class="code" href="../../df/de2/namespace_g3_d.html#afe56d91f54a2ecc472b75ccf88b4c59c">zero</a>);</div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;    }</div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;    <span class="keywordflow">if</span> (usize == old_usize) {</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;        <a class="code" href="../../db/d2d/prof__externs_8h.html#a3bf787c60f460619224625fff930c25a">prof_alloc_rollback</a>(tsd, <a class="code" href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;        <span class="keywordflow">return</span> usize;</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;    }</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;    <a class="code" href="../../de/d97/prof__inlines__b_8h.html#abd8119303c0f61529ab434b7df3bf321">prof_realloc</a>(tsd, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, usize, <a class="code" href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a>, <a class="code" href="../../dd/de2/private__namespace_8h.html#adaf0a6593dc0aba6c0064e2202b0b5ff">prof_active</a>, <span class="keyword">false</span>, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, old_usize,</div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;        old_tctx);</div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160; </div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;    <span class="keywordflow">return</span> usize;</div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;}</div>
<div class="ttc" id="ajemalloc_8c_html_aabee1faa762c103251bcb7547465d1b2"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#aabee1faa762c103251bcb7547465d1b2">ixallocx_prof_sample</a></div><div class="ttdeci">static size_t ixallocx_prof_sample(tsdn_t *tsdn, void *ptr, size_t old_usize, size_t size, size_t extra, size_t alignment, bool zero, prof_tctx_t *tctx)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l03325">jemalloc.c:3325</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_af8345a4a77ae304813ddc984c1b0ff48"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#af8345a4a77ae304813ddc984c1b0ff48">ixallocx_helper</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE size_t ixallocx_helper(tsdn_t *tsdn, void *ptr, size_t old_usize, size_t size, size_t extra, size_t alignment, bool zero)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l03312">jemalloc.c:3312</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03312">ixallocx_helper()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03325">ixallocx_prof_sample()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00308">prof_active</a>, <a class="el" href="../../d7/d48/prof__inlines__a_8h_source.html#l00075">prof_active_get_unlocked()</a>, <a class="el" href="../../de/d97/prof__inlines__b_8h_source.html#l00146">prof_alloc_prep()</a>, <a class="el" href="../../db/d2d/prof__externs_8h.html#a3bf787c60f460619224625fff930c25a">prof_alloc_rollback()</a>, <a class="el" href="../../de/d97/prof__inlines__b_8h_source.html#l00181">prof_realloc()</a>, <a class="el" href="../../de/d97/prof__inlines__b_8h_source.html#l00041">prof_tctx_get()</a>, <a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h_source.html#l02451">ptr()</a>, <a class="el" href="../../d9/d50/sc_8h_source.html#l00265">SC_LARGE_MAXCLASS</a>, <a class="el" href="../../db/d04/sz_8h_source.html#l00251">sz_s2u()</a>, <a class="el" href="../../db/d04/sz_8h_source.html#l00263">sz_sa2u()</a>, <a class="el" href="../../df/d31/prof_8c_source.html#l00313">tctx</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00224">tsd_tsdn()</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00036">unlikely</a>, and <a class="el" href="../../d6/dd6/unorm16_8h_source.html#l00082">G3D::zero()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03390">je_xallocx()</a>.</p>

</div>
</div>
<a id="aabee1faa762c103251bcb7547465d1b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabee1faa762c103251bcb7547465d1b2">&#9670;&nbsp;</a></span>ixallocx_prof_sample()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t ixallocx_prof_sample </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *&#160;</td>
          <td class="paramname"><em>tsdn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>old_usize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>extra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>alignment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>zero</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d2c/prof__types_8h.html#abeea2850aa56b1f29482d3fae1e83785">prof_tctx_t</a> *&#160;</td>
          <td class="paramname"><em>tctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03325">3325</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;                                                                  {</div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;    <span class="keywordtype">size_t</span> usize;</div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160; </div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a> == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>) {</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;        <span class="keywordflow">return</span> old_usize;</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;    }</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;    usize = <a class="code" href="../../d8/d80/jemalloc_8c.html#af8345a4a77ae304813ddc984c1b0ff48">ixallocx_helper</a>(tsdn, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, old_usize, size, extra, alignment,</div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;        <a class="code" href="../../df/de2/namespace_g3_d.html#afe56d91f54a2ecc472b75ccf88b4c59c">zero</a>);</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160; </div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;    <span class="keywordflow">return</span> usize;</div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03312">ixallocx_helper()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h_source.html#l02451">ptr()</a>, <a class="el" href="../../df/d31/prof_8c_source.html#l00313">tctx</a>, and <a class="el" href="../../d6/dd6/unorm16_8h_source.html#l00082">G3D::zero()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03339">ixallocx_prof()</a>.</p>

</div>
</div>
<a id="ae9323a7214e5248e0ff72238ca7a30b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9323a7214e5248e0ff72238ca7a30b7">&#9670;&nbsp;</a></span>je_dallocx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/dee/jemalloc_8h.html#aba3724e4c028b9b7041a83ad03ab1725">JEMALLOC_EXPORT</a> void <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a> je_dallocx </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03487">3487</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;                                 {</div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.dallocx.entry&quot;</span>, <span class="stringliteral">&quot;ptr: %p, flags: %d&quot;</span>, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, flags);</div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160; </div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a> != <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#a01b7b0d8bcb19acba3bdea9fcb06cd7b">malloc_initialized</a>() || <a class="code" href="../../d8/d80/jemalloc_8c.html#ae85e4c6cf761558babffa1b8af5baffc">IS_INITIALIZER</a>);</div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160; </div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;    <a class="code" href="../../dc/d5c/structtsd__s.html">tsd_t</a> *tsd = <a class="code" href="../../db/d1d/tsd_8h.html#aa09b1487cb924fd62ac5171c3d267802">tsd_fetch</a>();</div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;    <span class="keywordtype">bool</span> fast = <a class="code" href="../../db/d1d/tsd_8h.html#a544b1abcfa6f150ab2358ba945862788">tsd_fast</a>(tsd);</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160; </div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;    <a class="code" href="../../db/d17/structtcache__s.html">tcache_t</a> *tcache;</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>((flags &amp; <a class="code" href="../../dc/dc4/jemalloc__internal__types_8h.html#ac9c4dbc0a26bbd6818bd23eabbd057d6">MALLOCX_TCACHE_MASK</a>) != 0)) {</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;        <span class="comment">/* Not allowed to be reentrant and specify a custom tcache. */</span></div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;        <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(tsd_reentrancy_level_get(tsd) == 0);</div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;        <span class="keywordflow">if</span> ((flags &amp; <a class="code" href="../../dc/dc4/jemalloc__internal__types_8h.html#ac9c4dbc0a26bbd6818bd23eabbd057d6">MALLOCX_TCACHE_MASK</a>) == <a class="code" href="../../d5/dee/jemalloc_8h.html#af2f6b8b9b0103181d3eba16f495854ac">MALLOCX_TCACHE_NONE</a>) {</div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;            tcache = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;            tcache = <a class="code" href="../../da/d06/tcache__inlines_8h.html#ab5870a1d6b6ccd14e3c5ebd44a38dae6">tcaches_get</a>(tsd, <a class="code" href="../../dc/dc4/jemalloc__internal__types_8h.html#a836837d4169bd46e4fc3f8b9bd29c486">MALLOCX_TCACHE_GET</a>(flags));</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;        }</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a217a0bd562b98ae8c2ffce44935351e1">likely</a>(fast)) {</div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;            tcache = tsd_tcachep_get(tsd);</div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;            <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(tcache == <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#a609f26d4412101faf7c34036aa9cd977">tcache_get</a>(tsd));</div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a217a0bd562b98ae8c2ffce44935351e1">likely</a>(tsd_reentrancy_level_get(tsd) == 0)) {</div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;                tcache = <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#a609f26d4412101faf7c34036aa9cd977">tcache_get</a>(tsd);</div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;            }  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;                tcache = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;            }</div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;        }</div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;    }</div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160; </div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ac6bcbb3858b3ceee509112e7b82b2d2f">UTRACE</a>(<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, 0, 0);</div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a217a0bd562b98ae8c2ffce44935351e1">likely</a>(fast)) {</div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;        <a class="code" href="../../db/d1d/tsd_8h.html#a4339c0d1e319a36f93bbfb00a515499f">tsd_assert_fast</a>(tsd);</div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#ae6d1ee3e064dc8bbb43b91362b19dd2c">ifree</a>(tsd, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, tcache, <span class="keyword">false</span>);</div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;        <a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a> args_raw[3] = {(<a class="code" href="../../dc/d53/solaris_8h.html#ae5eb047989776ef8f364bc84ed316394">uintptr_t</a>)<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, flags};</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;        <a class="code" href="../../dd/de2/private__namespace_8h.html#a6abeb38bd2c0f36c48fa3ba81abaa69e">hook_invoke_dalloc</a>(<a class="code" href="../../d6/d34/hook_8h.html#acb15ae0a3a05274cb91b8a4882969b54afddd5784080ee32ac3e74403e4e91b8b">hook_dalloc_dallocx</a>, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, args_raw);</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#ae6d1ee3e064dc8bbb43b91362b19dd2c">ifree</a>(tsd, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, tcache, <span class="keyword">true</span>);</div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;    }</div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160; </div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.dallocx.exit&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;}</div>
<div class="ttc" id="adeps_2jemalloc_2include_2jemalloc_2internal_2_log_8h_html_a75e06609d24538f41f99843923293841"><div class="ttname"><a href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a></div><div class="ttdeci">#define LOG(log_var_str,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h_source.html#l00107">log.h:107</a></div></div>
<div class="ttc" id="ahook_8h_html_acb15ae0a3a05274cb91b8a4882969b54afddd5784080ee32ac3e74403e4e91b8b"><div class="ttname"><a href="../../d6/d34/hook_8h.html#acb15ae0a3a05274cb91b8a4882969b54afddd5784080ee32ac3e74403e4e91b8b">hook_dalloc_dallocx</a></div><div class="ttdeci">@ hook_dalloc_dallocx</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/hook_8h_source.html#l00072">hook.h:72</a></div></div>
<div class="ttc" id="ajemalloc_8h_html_af2f6b8b9b0103181d3eba16f495854ac"><div class="ttname"><a href="../../d5/dee/jemalloc_8h.html#af2f6b8b9b0103181d3eba16f495854ac">MALLOCX_TCACHE_NONE</a></div><div class="ttdeci">#define MALLOCX_TCACHE_NONE</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dee/jemalloc_8h_source.html#l00112">jemalloc.h:112</a></div></div>
<div class="ttc" id="ajemalloc__internal__types_8h_html_a836837d4169bd46e4fc3f8b9bd29c486"><div class="ttname"><a href="../../dc/dc4/jemalloc__internal__types_8h.html#a836837d4169bd46e4fc3f8b9bd29c486">MALLOCX_TCACHE_GET</a></div><div class="ttdeci">#define MALLOCX_TCACHE_GET(flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc4/jemalloc__internal__types_8h_source.html#l00047">jemalloc_internal_types.h:47</a></div></div>
<div class="ttc" id="ajemalloc__internal__types_8h_html_ac9c4dbc0a26bbd6818bd23eabbd057d6"><div class="ttname"><a href="../../dc/dc4/jemalloc__internal__types_8h.html#ac9c4dbc0a26bbd6818bd23eabbd057d6">MALLOCX_TCACHE_MASK</a></div><div class="ttdeci">#define MALLOCX_TCACHE_MASK</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc4/jemalloc__internal__types_8h_source.html#l00035">jemalloc_internal_types.h:35</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00684">check_entry_exit_locking()</a>, <a class="el" href="../../d6/d34/hook_8h_source.html#l00072">hook_dalloc_dallocx</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00224">hook_invoke_dalloc</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02556">ifree()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00127">IS_INITIALIZER</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00035">likely</a>, <a class="el" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h_source.html#l00107">LOG</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00209">malloc_initialized()</a>, <a class="el" href="../../dc/dc4/jemalloc__internal__types_8h_source.html#l00047">MALLOCX_TCACHE_GET</a>, <a class="el" href="../../dc/dc4/jemalloc__internal__types_8h_source.html#l00035">MALLOCX_TCACHE_MASK</a>, <a class="el" href="../../d5/dee/jemalloc_8h_source.html#l00112">MALLOCX_TCACHE_NONE</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h_source.html#l02451">ptr()</a>, <a class="el" href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00142">tcache_get()</a>, <a class="el" href="../../da/d06/tcache__inlines_8h_source.html#l00216">tcaches_get()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00321">tsd_assert_fast()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00332">tsd_fast()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00376">tsd_fetch()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00224">tsd_tsdn()</a>, <a class="el" href="../../dc/d53/solaris_8h_source.html#l00029">uintptr_t</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00036">unlikely</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00188">UTRACE</a>.</p>

</div>
</div>
<a id="adaaf44dc4e4de16a1402c6adc9aaac6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaaf44dc4e4de16a1402c6adc9aaac6f">&#9670;&nbsp;</a></span>je_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/dee/jemalloc_8h.html#aba3724e4c028b9b7041a83ad03ab1725">JEMALLOC_EXPORT</a> void <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a> je_free </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02863">2863</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;                   {</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.free.entry&quot;</span>, <span class="stringliteral">&quot;ptr: %p&quot;</span>, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>);</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160; </div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d80/jemalloc_8c.html#a540a0ea0cb6406de249e499422b9acd8">free_fastpath</a>(<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, 0, <span class="keyword">false</span>)) {</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#adad8f676c21d5299883d9e98226aafee">free_default</a>(<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>);</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;    }</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160; </div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.free.exit&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;}</div>
<div class="ttc" id="ajemalloc_8c_html_a540a0ea0cb6406de249e499422b9acd8"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a540a0ea0cb6406de249e499422b9acd8">free_fastpath</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE bool free_fastpath(void *ptr, size_t size, bool size_hint)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l02806">jemalloc.c:2806</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_adad8f676c21d5299883d9e98226aafee"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#adad8f676c21d5299883d9e98226aafee">free_default</a></div><div class="ttdeci">JEMALLOC_NOINLINE void free_default(void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l02771">jemalloc.c:2771</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02771">free_default()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02806">free_fastpath()</a>, <a class="el" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h_source.html#l00107">LOG</a>, and <a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h_source.html#l02451">ptr()</a>.</p>

</div>
</div>
<a id="ad4ae5e129bc437d9c7b0488f6fabd7f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4ae5e129bc437d9c7b0488f6fabd7f4">&#9670;&nbsp;</a></span>je_mallctl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/dee/jemalloc_8h.html#aba3724e4c028b9b7041a83ad03ab1725">JEMALLOC_EXPORT</a> int <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a> je_mallctl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>oldp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>oldlenp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>newp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>newlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03645">3645</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;                   {</div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;    <a class="code" href="../../dc/d5c/structtsd__s.html">tsd_t</a> *tsd;</div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160; </div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.mallctl.entry&quot;</span>, <span class="stringliteral">&quot;name: %s&quot;</span>, name);</div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160; </div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#a293cf98baff03c7fb3581b2d6a86dc3d">malloc_init</a>())) {</div>
<div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;        <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.mallctl.exit&quot;</span>, <span class="stringliteral">&quot;result: %d&quot;</span>, EAGAIN);</div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;        <span class="keywordflow">return</span> EAGAIN;</div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;    }</div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160; </div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;    tsd = <a class="code" href="../../db/d1d/tsd_8h.html#aa09b1487cb924fd62ac5171c3d267802">tsd_fetch</a>();</div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;    <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code" href="../../dd/de2/private__namespace_8h.html#a560312b550587ae87f5da69358013c57">ctl_byname</a>(tsd, name, oldp, oldlenp, newp, newlen);</div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160; </div>
<div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.mallctl.exit&quot;</span>, <span class="stringliteral">&quot;result: %d&quot;</span>, <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>);</div>
<div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;}</div>
<div class="ttc" id="aprivate__namespace_8h_html_a560312b550587ae87f5da69358013c57"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a560312b550587ae87f5da69358013c57">ctl_byname</a></div><div class="ttdeci">#define ctl_byname</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00156">private_namespace.h:156</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00684">check_entry_exit_locking()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00156">ctl_byname</a>, <a class="el" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h_source.html#l00107">LOG</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00222">malloc_init()</a>, <a class="el" href="../../df/d31/prof_8c_source.html#l00281">ret</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00376">tsd_fetch()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00224">tsd_tsdn()</a>, and <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00036">unlikely</a>.</p>

</div>
</div>
<a id="a3688c3926f0ad2318a03387bd16e8dba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3688c3926f0ad2318a03387bd16e8dba">&#9670;&nbsp;</a></span>je_mallctlbymib()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/dee/jemalloc_8h.html#aba3724e4c028b9b7041a83ad03ab1725">JEMALLOC_EXPORT</a> int <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a> je_mallctlbymib </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> size_t *&#160;</td>
          <td class="paramname"><em>mib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>miblen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>oldp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>oldlenp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>newp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>newlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03687">3687</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;                             {</div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;    <a class="code" href="../../dc/d5c/structtsd__s.html">tsd_t</a> *tsd;</div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160; </div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.mallctlbymib.entry&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160; </div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#a293cf98baff03c7fb3581b2d6a86dc3d">malloc_init</a>())) {</div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;        <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.mallctlbymib.exit&quot;</span>, <span class="stringliteral">&quot;result: %d&quot;</span>, EAGAIN);</div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;        <span class="keywordflow">return</span> EAGAIN;</div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;    }</div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160; </div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;    tsd = <a class="code" href="../../db/d1d/tsd_8h.html#aa09b1487cb924fd62ac5171c3d267802">tsd_fetch</a>();</div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;    <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code" href="../../dd/de2/private__namespace_8h.html#aa44bce3c9c7095af8b7aa06d08c92218">ctl_bymib</a>(tsd, mib, miblen, oldp, oldlenp, newp, newlen);</div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.mallctlbymib.exit&quot;</span>, <span class="stringliteral">&quot;result: %d&quot;</span>, <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>);</div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;}</div>
<div class="ttc" id="aprivate__namespace_8h_html_aa44bce3c9c7095af8b7aa06d08c92218"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#aa44bce3c9c7095af8b7aa06d08c92218">ctl_bymib</a></div><div class="ttdeci">#define ctl_bymib</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00155">private_namespace.h:155</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00684">check_entry_exit_locking()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00155">ctl_bymib</a>, <a class="el" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h_source.html#l00107">LOG</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00222">malloc_init()</a>, <a class="el" href="../../df/d31/prof_8c_source.html#l00281">ret</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00376">tsd_fetch()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00224">tsd_tsdn()</a>, and <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00036">unlikely</a>.</p>

</div>
</div>
<a id="a9bfedd2a19b5b62f496ed798ee5523a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bfedd2a19b5b62f496ed798ee5523a0">&#9670;&nbsp;</a></span>je_mallctlnametomib()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/dee/jemalloc_8h.html#aba3724e4c028b9b7041a83ad03ab1725">JEMALLOC_EXPORT</a> int <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a> je_mallctlnametomib </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>mibp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>miblenp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03667">3667</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;                                                                     {</div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160; </div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.mallctlnametomib.entry&quot;</span>, <span class="stringliteral">&quot;name: %s&quot;</span>, name);</div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160; </div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#a293cf98baff03c7fb3581b2d6a86dc3d">malloc_init</a>())) {</div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;        <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.mallctlnametomib.exit&quot;</span>, <span class="stringliteral">&quot;result: %d&quot;</span>, EAGAIN);</div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;        <span class="keywordflow">return</span> EAGAIN;</div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;    }</div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160; </div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;    <a class="code" href="../../dc/d5c/structtsd__s.html">tsd_t</a> *tsd = <a class="code" href="../../db/d1d/tsd_8h.html#aa09b1487cb924fd62ac5171c3d267802">tsd_fetch</a>();</div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;    <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code" href="../../dd/de2/private__namespace_8h.html#a13db0e2ce9df0399c6975e653d5c6a71">ctl_nametomib</a>(tsd, name, mibp, miblenp);</div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160; </div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.mallctlnametomib.exit&quot;</span>, <span class="stringliteral">&quot;result: %d&quot;</span>, <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>);</div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;}</div>
<div class="ttc" id="aprivate__namespace_8h_html_a13db0e2ce9df0399c6975e653d5c6a71"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a13db0e2ce9df0399c6975e653d5c6a71">ctl_nametomib</a></div><div class="ttdeci">#define ctl_nametomib</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00157">private_namespace.h:157</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00684">check_entry_exit_locking()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00157">ctl_nametomib</a>, <a class="el" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h_source.html#l00107">LOG</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00222">malloc_init()</a>, <a class="el" href="../../df/d31/prof_8c_source.html#l00281">ret</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00376">tsd_fetch()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00224">tsd_tsdn()</a>, and <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00036">unlikely</a>.</p>

</div>
</div>
<a id="a3cff7358b7ac52c39983f529258c0e12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cff7358b7ac52c39983f529258c0e12">&#9670;&nbsp;</a></span>je_malloc_stats_print()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/dee/jemalloc_8h.html#aba3724e4c028b9b7041a83ad03ab1725">JEMALLOC_EXPORT</a> void <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a> je_malloc_stats_print </td>
          <td>(</td>
          <td class="paramtype">void(*)(void *, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *)&#160;</td>
          <td class="paramname"><em>write_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cbopaque</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>opts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03708">3708</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;                      {</div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;    <a class="code" href="../../d9/d83/structtsdn__s.html">tsdn_t</a> *tsdn;</div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160; </div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.malloc_stats_print.entry&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160; </div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;    tsdn = <a class="code" href="../../db/d1d/tsd_8h.html#a84bbcd98c2715d18380ca6cdfe755346">tsdn_fetch</a>();</div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(tsdn);</div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#a0b9fbc88993d63e732e4ed3f0c0e46b1">stats_print</a>(write_cb, cbopaque, opts);</div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(tsdn);</div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.malloc_stats_print.exit&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;}</div>
<div class="ttc" id="aprivate__namespace_8h_html_a0b9fbc88993d63e732e4ed3f0c0e46b1"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a0b9fbc88993d63e732e4ed3f0c0e46b1">stats_print</a></div><div class="ttdeci">#define stats_print</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00359">private_namespace.h:359</a></div></div>
<div class="ttc" id="astructtsdn__s_html"><div class="ttname"><a href="../../d9/d83/structtsdn__s.html">tsdn_s</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d1d/tsd_8h_source.html#l00219">tsd.h:219</a></div></div>
<div class="ttc" id="atsd_8h_html_a84bbcd98c2715d18380ca6cdfe755346"><div class="ttname"><a href="../../db/d1d/tsd_8h.html#a84bbcd98c2715d18380ca6cdfe755346">tsdn_fetch</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE tsdn_t * tsdn_fetch(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d1d/tsd_8h_source.html#l00386">tsd.h:386</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00684">check_entry_exit_locking()</a>, <a class="el" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h_source.html#l00107">LOG</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00359">stats_print</a>, and <a class="el" href="../../db/d1d/tsd_8h_source.html#l00386">tsdn_fetch()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00647">stats_print_atexit()</a>.</p>

</div>
</div>
<a id="a519558a87cc339c59e9c82296307c05d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a519558a87cc339c59e9c82296307c05d">&#9670;&nbsp;</a></span>je_malloc_usable_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/dee/jemalloc_8h.html#aba3724e4c028b9b7041a83ad03ab1725">JEMALLOC_EXPORT</a> size_t <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a> je_malloc_usable_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dee/jemalloc_8h.html#aa7d03785bedf846509bcd746fd5fba4a">JEMALLOC_USABLE_SIZE_CONST</a> void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03722">3722</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;                                                            {</div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;    <a class="code" href="../../d9/d83/structtsdn__s.html">tsdn_t</a> *tsdn;</div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160; </div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.malloc_usable_size.entry&quot;</span>, <span class="stringliteral">&quot;ptr: %p&quot;</span>, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>);</div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160; </div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#a01b7b0d8bcb19acba3bdea9fcb06cd7b">malloc_initialized</a>() || <a class="code" href="../../d8/d80/jemalloc_8c.html#ae85e4c6cf761558babffa1b8af5baffc">IS_INITIALIZER</a>);</div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160; </div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;    tsdn = <a class="code" href="../../db/d1d/tsd_8h.html#a84bbcd98c2715d18380ca6cdfe755346">tsdn_fetch</a>();</div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(tsdn);</div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160; </div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a> == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>)) {</div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;        <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> = 0;</div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a86146c45a3404703342db7e08f9156fb">config_debug</a> || <a class="code" href="../../d1/d18/jemalloc__preamble_8h.html#aeaae88c3aa43402d6abab879ce93bf7a">force_ivsalloc</a>) {</div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;            <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a2a1d0d76f59f6f521750b8dc581134e2">ivsalloc</a>(tsdn, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>);</div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;            <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../d1/d18/jemalloc__preamble_8h.html#aeaae88c3aa43402d6abab879ce93bf7a">force_ivsalloc</a> || <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> != 0);</div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;            <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#aa3255636edeac1ba4261012191d1d189">isalloc</a>(tsdn, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>);</div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;        }</div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;    }</div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160; </div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(tsdn);</div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.malloc_usable_size.exit&quot;</span>, <span class="stringliteral">&quot;result: %zu&quot;</span>, <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>);</div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;}</div>
<div class="ttc" id="ajemalloc__internal_8h_html_a2a1d0d76f59f6f521750b8dc581134e2"><div class="ttname"><a href="../../d9/d33/jemalloc__internal_8h.html#a2a1d0d76f59f6f521750b8dc581134e2">ivsalloc</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE size_t ivsalloc(const void *ptr, bool demote)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/jemalloc__internal_8h_source.html#l00888">jemalloc_internal.h:888</a></div></div>
<div class="ttc" id="ajemalloc__preamble_8h_html_aeaae88c3aa43402d6abab879ce93bf7a"><div class="ttname"><a href="../../d1/d18/jemalloc__preamble_8h.html#aeaae88c3aa43402d6abab879ce93bf7a">force_ivsalloc</a></div><div class="ttdeci">static const bool force_ivsalloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d18/jemalloc__preamble_8h_source.html#l00198">jemalloc_preamble.h:198</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00684">check_entry_exit_locking()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00078">config_debug</a>, <a class="el" href="../../d1/d18/jemalloc__preamble_8h_source.html#l00198">force_ivsalloc</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00127">IS_INITIALIZER</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00869">isalloc()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00888">ivsalloc()</a>, <a class="el" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h_source.html#l00107">LOG</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00209">malloc_initialized()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h_source.html#l02451">ptr()</a>, <a class="el" href="../../df/d31/prof_8c_source.html#l00281">ret</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00386">tsdn_fetch()</a>, and <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00036">unlikely</a>.</p>

</div>
</div>
<a id="a53623a68ff8f2f05d892cdb11f73e085"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53623a68ff8f2f05d892cdb11f73e085">&#9670;&nbsp;</a></span>je_nallocx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/dee/jemalloc_8h.html#aba3724e4c028b9b7041a83ad03ab1725">JEMALLOC_EXPORT</a> size_t <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a> je_nallocx </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03619">3619</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;                                   {</div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;    <span class="keywordtype">size_t</span> usize;</div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;    <a class="code" href="../../d9/d83/structtsdn__s.html">tsdn_t</a> *tsdn;</div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160; </div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(size != 0);</div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160; </div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#a293cf98baff03c7fb3581b2d6a86dc3d">malloc_init</a>())) {</div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;        <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.nallocx.exit&quot;</span>, <span class="stringliteral">&quot;result: %zu&quot;</span>, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#aaa9edfed3cbf1c592eacee6d4378771b">ZU</a>(0));</div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;    }</div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160; </div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;    tsdn = <a class="code" href="../../db/d1d/tsd_8h.html#a84bbcd98c2715d18380ca6cdfe755346">tsdn_fetch</a>();</div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(tsdn);</div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160; </div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;    usize = <a class="code" href="../../d8/d80/jemalloc_8c.html#a96e3a96612cb818d870f927d7b850e8e">inallocx</a>(tsdn, size, flags);</div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(usize &gt; <a class="code" href="../../d9/d50/sc_8h.html#ac66e2f56f4f0411ca5d5c3444ba4d491">SC_LARGE_MAXCLASS</a>)) {</div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;        <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.nallocx.exit&quot;</span>, <span class="stringliteral">&quot;result: %zu&quot;</span>, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#aaa9edfed3cbf1c592eacee6d4378771b">ZU</a>(0));</div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;    }</div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160; </div>
<div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(tsdn);</div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.nallocx.exit&quot;</span>, <span class="stringliteral">&quot;result: %zu&quot;</span>, usize);</div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;    <span class="keywordflow">return</span> usize;</div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;}</div>
<div class="ttc" id="ajemalloc_8c_html_a96e3a96612cb818d870f927d7b850e8e"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a96e3a96612cb818d870f927d7b850e8e">inallocx</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE size_t inallocx(tsdn_t *tsdn, size_t size, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l03534">jemalloc.c:3534</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00684">check_entry_exit_locking()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03534">inallocx()</a>, <a class="el" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h_source.html#l00107">LOG</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00222">malloc_init()</a>, <a class="el" href="../../d9/d50/sc_8h_source.html#l00265">SC_LARGE_MAXCLASS</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00386">tsdn_fetch()</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00036">unlikely</a>, and <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00234">ZU</a>.</p>

</div>
</div>
<a id="ad4e1da1d098eefa7a5b0e127288547c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4e1da1d098eefa7a5b0e127288547c9">&#9670;&nbsp;</a></span>je_posix_memalign()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/dee/jemalloc_8h.html#aba3724e4c028b9b7041a83ad03ab1725">JEMALLOC_EXPORT</a> int <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a> je_posix_memalign </td>
          <td>(</td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>memptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>alignment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02393">2393</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;                                                                {</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;    <a class="code" href="../../d6/d7c/structstatic__opts__s.html">static_opts_t</a> sopts;</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;    <a class="code" href="../../d0/d96/structdynamic__opts__s.html">dynamic_opts_t</a> dopts;</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160; </div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.posix_memalign.entry&quot;</span>, <span class="stringliteral">&quot;mem ptr: %p, alignment: %zu, &quot;</span></div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;        <span class="stringliteral">&quot;size: %zu&quot;</span>, memptr, alignment, size);</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160; </div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#afcaa042370db1f2f2786830cc4b8ed80">static_opts_init</a>(&amp;sopts);</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab053d14ca62b4edf38d6165e66cd375f">dynamic_opts_init</a>(&amp;dopts);</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160; </div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;    sopts.<a class="code" href="../../d6/d7c/structstatic__opts__s.html#ad4264bc625a811547f2185057df08dd5">bump_empty_aligned_alloc</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;    sopts.<a class="code" href="../../d6/d7c/structstatic__opts__s.html#acb7c331953d512ac69f0ea79a553b4e3">min_alignment</a> = <span class="keyword">sizeof</span>(<span class="keywordtype">void</span> *);</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;    sopts.<a class="code" href="../../d6/d7c/structstatic__opts__s.html#aad0178fec42358f91f612f3197fcd640">oom_string</a> =</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;        <span class="stringliteral">&quot;&lt;jemalloc&gt;: Error allocating aligned memory: out of memory\n&quot;</span>;</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;    sopts.<a class="code" href="../../d6/d7c/structstatic__opts__s.html#a2a760634c35b2df727542452532cc63f">invalid_alignment_string</a> =</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;        <span class="stringliteral">&quot;&lt;jemalloc&gt;: Error allocating aligned memory: invalid alignment\n&quot;</span>;</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160; </div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;    dopts.<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a4b1c019538c6575926e2e473a2b61b12">result</a> = memptr;</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;    dopts.<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a09036727e3c2f6fe0562cab93596b44d">num_items</a> = 1;</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;    dopts.<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a5b1852bd64ab79b0bca4ff94046773c8">item_size</a> = size;</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;    dopts.<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a55cc50f3754f427fb1e636226a78c70b">alignment</a> = alignment;</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160; </div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;    <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code" href="../../d8/d80/jemalloc_8c.html#a507ab410a72f86f0d98ca025ce86d788">imalloc</a>(&amp;sopts, &amp;dopts);</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;    <span class="keywordflow">if</span> (sopts.<a class="code" href="../../d6/d7c/structstatic__opts__s.html#a0b201929708af8d731b93d56cb794e71">slow</a>) {</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;        <a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a> args[3] = {(<a class="code" href="../../dc/d53/solaris_8h.html#ae5eb047989776ef8f364bc84ed316394">uintptr_t</a>)memptr, (<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)alignment,</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;            (<a class="code" href="../../dc/d53/solaris_8h.html#ae5eb047989776ef8f364bc84ed316394">uintptr_t</a>)size};</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;        <a class="code" href="../../dd/de2/private__namespace_8h.html#a6f495f026f3a26ce46461b977665c7a3">hook_invoke_alloc</a>(<a class="code" href="../../d6/d34/hook_8h.html#a727ba44c39035431416831558a894399ac352c4c0ad05472b6f8cb7018f38344f">hook_alloc_posix_memalign</a>, *memptr,</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;            (<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)<a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>, args);</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;    }</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160; </div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.posix_memalign.exit&quot;</span>, <span class="stringliteral">&quot;result: %d, alloc ptr: %p&quot;</span>, <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>,</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;        *memptr);</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160; </div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;}</div>
<div class="ttc" id="ahook_8h_html_a727ba44c39035431416831558a894399ac352c4c0ad05472b6f8cb7018f38344f"><div class="ttname"><a href="../../d6/d34/hook_8h.html#a727ba44c39035431416831558a894399ac352c4c0ad05472b6f8cb7018f38344f">hook_alloc_posix_memalign</a></div><div class="ttdeci">@ hook_alloc_posix_memalign</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/hook_8h_source.html#l00053">hook.h:53</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a507ab410a72f86f0d98ca025ce86d788"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a507ab410a72f86f0d98ca025ce86d788">imalloc</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE int imalloc(static_opts_t *sopts, dynamic_opts_t *dopts)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l02246">jemalloc.c:2246</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_ab053d14ca62b4edf38d6165e66cd375f"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#ab053d14ca62b4edf38d6165e66cd375f">dynamic_opts_init</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE void dynamic_opts_init(dynamic_opts_t *dynamic_opts)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01899">jemalloc.c:1899</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_afcaa042370db1f2f2786830cc4b8ed80"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#afcaa042370db1f2f2786830cc4b8ed80">static_opts_init</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE void static_opts_init(static_opts_t *static_opts)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01864">jemalloc.c:1864</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a6f495f026f3a26ce46461b977665c7a3"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a6f495f026f3a26ce46461b977665c7a3">hook_invoke_alloc</a></div><div class="ttdeci">#define hook_invoke_alloc</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00223">private_namespace.h:223</a></div></div>
<div class="ttc" id="astructdynamic__opts__s_html"><div class="ttname"><a href="../../d0/d96/structdynamic__opts__s.html">dynamic_opts_s</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01887">jemalloc.c:1887</a></div></div>
<div class="ttc" id="astructstatic__opts__s_html"><div class="ttname"><a href="../../d6/d7c/structstatic__opts__s.html">static_opts_s</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01816">jemalloc.c:1816</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01892">dynamic_opts_s::alignment</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01824">static_opts_s::bump_empty_aligned_alloc</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01899">dynamic_opts_init()</a>, <a class="el" href="../../d6/d34/hook_8h_source.html#l00053">hook_alloc_posix_memalign</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00223">hook_invoke_alloc</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02246">imalloc()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01847">static_opts_s::invalid_alignment_string</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01891">dynamic_opts_s::item_size</a>, <a class="el" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h_source.html#l00107">LOG</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01842">static_opts_s::min_alignment</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01890">dynamic_opts_s::num_items</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01845">static_opts_s::oom_string</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01888">dynamic_opts_s::result</a>, <a class="el" href="../../df/d31/prof_8c_source.html#l00281">ret</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01856">static_opts_s::slow</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01864">static_opts_init()</a>, and <a class="el" href="../../dc/d53/solaris_8h_source.html#l00029">uintptr_t</a>.</p>

</div>
</div>
<a id="ae4d2000716ca4119e8671fd7e8696177"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4d2000716ca4119e8671fd7e8696177">&#9670;&nbsp;</a></span>je_rallocx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/dee/jemalloc_8h.html#aba3724e4c028b9b7041a83ad03ab1725">JEMALLOC_EXPORT</a> <a class="el" href="../../d5/dee/jemalloc_8h.html#af722c9f95beb57e535e748b28813347f">JEMALLOC_ALLOCATOR</a> <a class="el" href="../../d5/dee/jemalloc_8h.html#a06b1c64251b2ff6371512aeab6ab46ef">JEMALLOC_RESTRICT_RETURN</a> void <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a>* je_rallocx </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03216">3216</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;                                              {</div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;    <span class="keywordtype">void</span> *p;</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;    <a class="code" href="../../dc/d5c/structtsd__s.html">tsd_t</a> *tsd;</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;    <span class="keywordtype">size_t</span> usize;</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;    <span class="keywordtype">size_t</span> old_usize;</div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;    <span class="keywordtype">size_t</span> alignment = <a class="code" href="../../dc/dc4/jemalloc__internal__types_8h.html#a9179cd4c221dd1257f22970bfe859775">MALLOCX_ALIGN_GET</a>(flags);</div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../df/de2/namespace_g3_d.html#afe56d91f54a2ecc472b75ccf88b4c59c">zero</a> = flags &amp; <a class="code" href="../../d5/dee/jemalloc_8h.html#aebf656cfb26669683de3a217896daeb2">MALLOCX_ZERO</a>;</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;    <a class="code" href="../../da/dc2/structarena__s.html">arena_t</a> *<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>;</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;    <a class="code" href="../../db/d17/structtcache__s.html">tcache_t</a> *tcache;</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160; </div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.rallocx.entry&quot;</span>, <span class="stringliteral">&quot;ptr: %p, size: %zu, flags: %d&quot;</span>, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>,</div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;        size, flags);</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160; </div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160; </div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a> != <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(size != 0);</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#a01b7b0d8bcb19acba3bdea9fcb06cd7b">malloc_initialized</a>() || <a class="code" href="../../d8/d80/jemalloc_8c.html#ae85e4c6cf761558babffa1b8af5baffc">IS_INITIALIZER</a>);</div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;    tsd = <a class="code" href="../../db/d1d/tsd_8h.html#aa09b1487cb924fd62ac5171c3d267802">tsd_fetch</a>();</div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160; </div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>((flags &amp; <a class="code" href="../../dc/dc4/jemalloc__internal__types_8h.html#a57abebbcb8cea070e256844fe043a27c">MALLOCX_ARENA_MASK</a>) != 0)) {</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;        <span class="keywordtype">unsigned</span> arena_ind = <a class="code" href="../../dc/dc4/jemalloc__internal__types_8h.html#a6e48b3fe60c827b02357acd44d1df8fa">MALLOCX_ARENA_GET</a>(flags);</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;        <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a> = <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#afc61837312aeb8ba2123252226db9ce0">arena_get</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), arena_ind, <span class="keyword">true</span>);</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a> == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>)) {</div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;            <span class="keywordflow">goto</span> label_oom;</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;        }</div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;        <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a> = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;    }</div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160; </div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>((flags &amp; <a class="code" href="../../dc/dc4/jemalloc__internal__types_8h.html#ac9c4dbc0a26bbd6818bd23eabbd057d6">MALLOCX_TCACHE_MASK</a>) != 0)) {</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;        <span class="keywordflow">if</span> ((flags &amp; <a class="code" href="../../dc/dc4/jemalloc__internal__types_8h.html#ac9c4dbc0a26bbd6818bd23eabbd057d6">MALLOCX_TCACHE_MASK</a>) == <a class="code" href="../../d5/dee/jemalloc_8h.html#af2f6b8b9b0103181d3eba16f495854ac">MALLOCX_TCACHE_NONE</a>) {</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;            tcache = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;            tcache = <a class="code" href="../../da/d06/tcache__inlines_8h.html#ab5870a1d6b6ccd14e3c5ebd44a38dae6">tcaches_get</a>(tsd, <a class="code" href="../../dc/dc4/jemalloc__internal__types_8h.html#a836837d4169bd46e4fc3f8b9bd29c486">MALLOCX_TCACHE_GET</a>(flags));</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;        }</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;        tcache = <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#a609f26d4412101faf7c34036aa9cd977">tcache_get</a>(tsd);</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;    }</div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160; </div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;    <a class="code" href="../../dd/df5/structalloc__ctx__s.html">alloc_ctx_t</a> alloc_ctx;</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;    <a class="code" href="../../d8/d77/structrtree__ctx__s.html">rtree_ctx_t</a> *rtree_ctx = <a class="code" href="../../db/d1d/tsd_8h.html#a64c07f3dcab6961dcf64d2631462acce">tsd_rtree_ctx</a>(tsd);</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;    <a class="code" href="../../df/d9a/rtree_8h.html#a6e117ed328a6a0e2edd9060202787108">rtree_szind_slab_read</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), &amp;<a class="code" href="../../dd/de2/private__namespace_8h.html#a8544dacd100c532d7af36c3e65e70cec">extents_rtree</a>, rtree_ctx,</div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;        (<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, <span class="keyword">true</span>, &amp;alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#a38309af4c914807568ea787f862b18a5">szind</a>, &amp;alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#ab76225490df94cc8fcf34a8cfe365a3f">slab</a>);</div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#a38309af4c914807568ea787f862b18a5">szind</a> != <a class="code" href="../../d9/d50/sc_8h.html#a633e0f4ff2ce528678368e23538a0456">SC_NSIZES</a>);</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;    old_usize = <a class="code" href="../../db/d04/sz_8h.html#a079c257f3f2c5b472499d27ad5b54d1c">sz_index2size</a>(alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#a38309af4c914807568ea787f862b18a5">szind</a>);</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(old_usize == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#aa3255636edeac1ba4261012191d1d189">isalloc</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>));</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160; </div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;    <a class="code" href="../../d3/db7/structhook__ralloc__args__s.html">hook_ralloc_args_t</a> hook_args = {<span class="keyword">false</span>, {(<a class="code" href="../../dc/d53/solaris_8h.html#ae5eb047989776ef8f364bc84ed316394">uintptr_t</a>)<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, size, flags,</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;        0}};</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a6bba19605480b2588c644265529447c2">config_prof</a> &amp;&amp; <a class="code" href="../../dd/de2/private__namespace_8h.html#a547467db6ef3d75a6303c08d90ff1307">opt_prof</a>) {</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;        usize = (alignment == 0) ?</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;            <a class="code" href="../../db/d04/sz_8h.html#a3f43fd132f781edb0d4a1a2cbcd6f80f">sz_s2u</a>(size) : <a class="code" href="../../db/d04/sz_8h.html#a8506233457e9ceb58a016db4340d1266">sz_sa2u</a>(size, alignment);</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(usize == 0</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;            || usize &gt; <a class="code" href="../../d9/d50/sc_8h.html#ac66e2f56f4f0411ca5d5c3444ba4d491">SC_LARGE_MAXCLASS</a>)) {</div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;            <span class="keywordflow">goto</span> label_oom;</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;        }</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;        p = <a class="code" href="../../d8/d80/jemalloc_8c.html#adcdf7a6eecc0c6489f6ca7a94b031476">irallocx_prof</a>(tsd, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, old_usize, size, alignment, &amp;usize,</div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;            <a class="code" href="../../df/de2/namespace_g3_d.html#afe56d91f54a2ecc472b75ccf88b4c59c">zero</a>, tcache, <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>, &amp;alloc_ctx, &amp;hook_args);</div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(p == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>)) {</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;            <span class="keywordflow">goto</span> label_oom;</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;        }</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;        p = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a7522c999cedb5e262f039dcf578f4c82">iralloct</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, old_usize, size, alignment,</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;            <a class="code" href="../../df/de2/namespace_g3_d.html#afe56d91f54a2ecc472b75ccf88b4c59c">zero</a>, tcache, <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>, &amp;hook_args);</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(p == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>)) {</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;            <span class="keywordflow">goto</span> label_oom;</div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;        }</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a0a3d6c7d00953f43eab9c56131604e4d">config_stats</a>) {</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;            usize = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#aa3255636edeac1ba4261012191d1d189">isalloc</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), p);</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;        }</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;    }</div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(alignment == 0 || ((<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)p &amp; (alignment - 1)) == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#aaa9edfed3cbf1c592eacee6d4378771b">ZU</a>(0));</div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160; </div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a0a3d6c7d00953f43eab9c56131604e4d">config_stats</a>) {</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;        *tsd_thread_allocatedp_get(tsd) += usize;</div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;        *tsd_thread_deallocatedp_get(tsd) += old_usize;</div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;    }</div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ac6bcbb3858b3ceee509112e7b82b2d2f">UTRACE</a>(<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, size, p);</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160; </div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.rallocx.exit&quot;</span>, <span class="stringliteral">&quot;result: %p&quot;</span>, p);</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;    <span class="keywordflow">return</span> p;</div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;label_oom:</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ac5fef66aba0898411be771980aef22c8">config_xmalloc</a> &amp;&amp; <a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#abb699624a4c15add503df6cb54a5132e">opt_xmalloc</a>)) {</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;        <a class="code" href="../../dd/de2/private__namespace_8h.html#aa5e64f0a9668adb32f12d43a5d04f09a">malloc_write</a>(<span class="stringliteral">&quot;&lt;jemalloc&gt;: Error in rallocx(): out of memory\n&quot;</span>);</div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;        abort();</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;    }</div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ac6bcbb3858b3ceee509112e7b82b2d2f">UTRACE</a>(<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, size, 0);</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160; </div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.rallocx.exit&quot;</span>, <span class="stringliteral">&quot;result: %p&quot;</span>, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;}</div>
<div class="ttc" id="ajemalloc_8c_html_adcdf7a6eecc0c6489f6ca7a94b031476"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#adcdf7a6eecc0c6489f6ca7a94b031476">irallocx_prof</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE void * irallocx_prof(tsd_t *tsd, void *old_ptr, size_t old_usize, size_t size, size_t alignment, size_t *usize, bool zero, tcache_t *tcache, arena_t *arena, alloc_ctx_t *alloc_ctx, hook_ralloc_args_t *hook_args)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l03174">jemalloc.c:3174</a></div></div>
<div class="ttc" id="ajemalloc_8h_html_aebf656cfb26669683de3a217896daeb2"><div class="ttname"><a href="../../d5/dee/jemalloc_8h.html#aebf656cfb26669683de3a217896daeb2">MALLOCX_ZERO</a></div><div class="ttdeci">#define MALLOCX_ZERO</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dee/jemalloc_8h_source.html#l00106">jemalloc.h:106</a></div></div>
<div class="ttc" id="ajemalloc__internal__types_8h_html_a57abebbcb8cea070e256844fe043a27c"><div class="ttname"><a href="../../dc/dc4/jemalloc__internal__types_8h.html#a57abebbcb8cea070e256844fe043a27c">MALLOCX_ARENA_MASK</a></div><div class="ttdeci">#define MALLOCX_ARENA_MASK</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc4/jemalloc__internal__types_8h_source.html#l00031">jemalloc_internal_types.h:31</a></div></div>
<div class="ttc" id="ajemalloc__internal__types_8h_html_a6e48b3fe60c827b02357acd44d1df8fa"><div class="ttname"><a href="../../dc/dc4/jemalloc__internal__types_8h.html#a6e48b3fe60c827b02357acd44d1df8fa">MALLOCX_ARENA_GET</a></div><div class="ttdeci">#define MALLOCX_ARENA_GET(flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc4/jemalloc__internal__types_8h_source.html#l00049">jemalloc_internal_types.h:49</a></div></div>
<div class="ttc" id="ajemalloc__internal__types_8h_html_a9179cd4c221dd1257f22970bfe859775"><div class="ttname"><a href="../../dc/dc4/jemalloc__internal__types_8h.html#a9179cd4c221dd1257f22970bfe859775">MALLOCX_ALIGN_GET</a></div><div class="ttdeci">#define MALLOCX_ALIGN_GET(flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc4/jemalloc__internal__types_8h_source.html#l00042">jemalloc_internal_types.h:42</a></div></div>
<div class="ttc" id="astructhook__ralloc__args__s_html"><div class="ttname"><a href="../../d3/db7/structhook__ralloc__args__s.html">hook_ralloc_args_s</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/hook_8h_source.html#l00131">hook.h:131</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/dd3/background__thread_8c_source.html#l00057">arena</a>, <a class="el" href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00085">arena_get()</a>, <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00684">check_entry_exit_locking()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00106">config_prof</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00141">config_stats</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00176">config_xmalloc</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00205">extents_rtree</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00992">iralloct()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03174">irallocx_prof()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00127">IS_INITIALIZER</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00869">isalloc()</a>, <a class="el" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h_source.html#l00107">LOG</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00209">malloc_initialized()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00252">malloc_write</a>, <a class="el" href="../../dc/dc4/jemalloc__internal__types_8h_source.html#l00042">MALLOCX_ALIGN_GET</a>, <a class="el" href="../../dc/dc4/jemalloc__internal__types_8h_source.html#l00049">MALLOCX_ARENA_GET</a>, <a class="el" href="../../dc/dc4/jemalloc__internal__types_8h_source.html#l00031">MALLOCX_ARENA_MASK</a>, <a class="el" href="../../dc/dc4/jemalloc__internal__types_8h_source.html#l00047">MALLOCX_TCACHE_GET</a>, <a class="el" href="../../dc/dc4/jemalloc__internal__types_8h_source.html#l00035">MALLOCX_TCACHE_MASK</a>, <a class="el" href="../../d5/dee/jemalloc_8h_source.html#l00112">MALLOCX_TCACHE_NONE</a>, <a class="el" href="../../d5/dee/jemalloc_8h_source.html#l00106">MALLOCX_ZERO</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00298">opt_prof</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00071">opt_xmalloc</a>, <a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h_source.html#l02451">ptr()</a>, <a class="el" href="../../df/d9a/rtree_8h_source.html#l00492">rtree_szind_slab_read()</a>, <a class="el" href="../../d9/d50/sc_8h_source.html#l00265">SC_LARGE_MAXCLASS</a>, <a class="el" href="../../d9/d50/sc_8h_source.html#l00198">SC_NSIZES</a>, <a class="el" href="../../dc/de1/arena__structs__b_8h_source.html#l00229">alloc_ctx_s::slab</a>, <a class="el" href="../../db/d04/sz_8h_source.html#l00205">sz_index2size()</a>, <a class="el" href="../../db/d04/sz_8h_source.html#l00251">sz_s2u()</a>, <a class="el" href="../../db/d04/sz_8h_source.html#l00263">sz_sa2u()</a>, <a class="el" href="../../dc/de1/arena__structs__b_8h_source.html#l00228">alloc_ctx_s::szind</a>, <a class="el" href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00142">tcache_get()</a>, <a class="el" href="../../da/d06/tcache__inlines_8h_source.html#l00216">tcaches_get()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00376">tsd_fetch()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00395">tsd_rtree_ctx()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00224">tsd_tsdn()</a>, <a class="el" href="../../dc/d53/solaris_8h_source.html#l00029">uintptr_t</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00036">unlikely</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00188">UTRACE</a>, <a class="el" href="../../d6/dd6/unorm16_8h_source.html#l00082">G3D::zero()</a>, and <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00234">ZU</a>.</p>

</div>
</div>
<a id="a0d5383d3edb95ceb96fa7724ad69e6ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d5383d3edb95ceb96fa7724ad69e6ab">&#9670;&nbsp;</a></span>je_realloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/dee/jemalloc_8h.html#aba3724e4c028b9b7041a83ad03ab1725">JEMALLOC_EXPORT</a> <a class="el" href="../../d5/dee/jemalloc_8h.html#af722c9f95beb57e535e748b28813347f">JEMALLOC_ALLOCATOR</a> <a class="el" href="../../d5/dee/jemalloc_8h.html#a06b1c64251b2ff6371512aeab6ab46ef">JEMALLOC_RESTRICT_RETURN</a> void <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a>* je_realloc </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>arg_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02653">2653</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;                                       {</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;    <a class="code" href="../../d9/d83/structtsdn__s.html">tsdn_t</a> *tsdn <a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a000aefd29f2af655d2b9fad2fa340e32">JEMALLOC_CC_SILENCE_INIT</a>(<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;    <span class="keywordtype">size_t</span> usize <a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a000aefd29f2af655d2b9fad2fa340e32">JEMALLOC_CC_SILENCE_INIT</a>(0);</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;    <span class="keywordtype">size_t</span> old_usize = 0;</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;    <span class="keywordtype">size_t</span> size = arg_size;</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160; </div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.realloc.entry&quot;</span>, <span class="stringliteral">&quot;ptr: %p, size: %zu\n&quot;</span>, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, size);</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160; </div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(size == 0)) {</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a> != <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>) {</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;            <span class="comment">/* realloc(ptr, 0) is equivalent to free(ptr). */</span></div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;            <a class="code" href="../../d8/d80/jemalloc_8c.html#ac6bcbb3858b3ceee509112e7b82b2d2f">UTRACE</a>(<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, 0, 0);</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;            <a class="code" href="../../db/d17/structtcache__s.html">tcache_t</a> *tcache;</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;            <a class="code" href="../../dc/d5c/structtsd__s.html">tsd_t</a> *tsd = <a class="code" href="../../db/d1d/tsd_8h.html#aa09b1487cb924fd62ac5171c3d267802">tsd_fetch</a>();</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;            <span class="keywordflow">if</span> (tsd_reentrancy_level_get(tsd) == 0) {</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;                tcache = <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#a609f26d4412101faf7c34036aa9cd977">tcache_get</a>(tsd);</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;                tcache = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;            }</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160; </div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;            <a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a> args[3] = {(<a class="code" href="../../dc/d53/solaris_8h.html#ae5eb047989776ef8f364bc84ed316394">uintptr_t</a>)<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, size};</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;            <a class="code" href="../../dd/de2/private__namespace_8h.html#a6abeb38bd2c0f36c48fa3ba81abaa69e">hook_invoke_dalloc</a>(<a class="code" href="../../d6/d34/hook_8h.html#acb15ae0a3a05274cb91b8a4882969b54a5672ae0bda79da82e68678aee4e45705">hook_dalloc_realloc</a>, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, args);</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160; </div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;            <a class="code" href="../../d8/d80/jemalloc_8c.html#ae6d1ee3e064dc8bbb43b91362b19dd2c">ifree</a>(tsd, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, tcache, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160; </div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;            <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.realloc.exit&quot;</span>, <span class="stringliteral">&quot;result: %p&quot;</span>, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;        }</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;        size = 1;</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;    }</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160; </div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a217a0bd562b98ae8c2ffce44935351e1">likely</a>(<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a> != <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>)) {</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;        <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#a01b7b0d8bcb19acba3bdea9fcb06cd7b">malloc_initialized</a>() || <a class="code" href="../../d8/d80/jemalloc_8c.html#ae85e4c6cf761558babffa1b8af5baffc">IS_INITIALIZER</a>);</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;        <a class="code" href="../../dc/d5c/structtsd__s.html">tsd_t</a> *tsd = <a class="code" href="../../db/d1d/tsd_8h.html#aa09b1487cb924fd62ac5171c3d267802">tsd_fetch</a>();</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160; </div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160; </div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160; </div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;        <a class="code" href="../../d3/db7/structhook__ralloc__args__s.html">hook_ralloc_args_t</a> hook_args = {<span class="keyword">true</span>, {(<a class="code" href="../../dc/d53/solaris_8h.html#ae5eb047989776ef8f364bc84ed316394">uintptr_t</a>)<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>,</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;            (<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)arg_size, 0, 0}};</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160; </div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;        <a class="code" href="../../dd/df5/structalloc__ctx__s.html">alloc_ctx_t</a> alloc_ctx;</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;        <a class="code" href="../../d8/d77/structrtree__ctx__s.html">rtree_ctx_t</a> *rtree_ctx = <a class="code" href="../../db/d1d/tsd_8h.html#a64c07f3dcab6961dcf64d2631462acce">tsd_rtree_ctx</a>(tsd);</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;        <a class="code" href="../../df/d9a/rtree_8h.html#a6e117ed328a6a0e2edd9060202787108">rtree_szind_slab_read</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), &amp;<a class="code" href="../../dd/de2/private__namespace_8h.html#a8544dacd100c532d7af36c3e65e70cec">extents_rtree</a>, rtree_ctx,</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;            (<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, <span class="keyword">true</span>, &amp;alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#a38309af4c914807568ea787f862b18a5">szind</a>, &amp;alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#ab76225490df94cc8fcf34a8cfe365a3f">slab</a>);</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;        <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#a38309af4c914807568ea787f862b18a5">szind</a> != <a class="code" href="../../d9/d50/sc_8h.html#a633e0f4ff2ce528678368e23538a0456">SC_NSIZES</a>);</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;        old_usize = <a class="code" href="../../db/d04/sz_8h.html#a079c257f3f2c5b472499d27ad5b54d1c">sz_index2size</a>(alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#a38309af4c914807568ea787f862b18a5">szind</a>);</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;        <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(old_usize == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#aa3255636edeac1ba4261012191d1d189">isalloc</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>));</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a6bba19605480b2588c644265529447c2">config_prof</a> &amp;&amp; <a class="code" href="../../dd/de2/private__namespace_8h.html#a547467db6ef3d75a6303c08d90ff1307">opt_prof</a>) {</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;            usize = <a class="code" href="../../db/d04/sz_8h.html#a3f43fd132f781edb0d4a1a2cbcd6f80f">sz_s2u</a>(size);</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(usize == 0</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;                || usize &gt; <a class="code" href="../../d9/d50/sc_8h.html#ac66e2f56f4f0411ca5d5c3444ba4d491">SC_LARGE_MAXCLASS</a>)) {</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;                <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;                <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code" href="../../d8/d80/jemalloc_8c.html#a561115c34dfd12eba19d511525df29eb">irealloc_prof</a>(tsd, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, old_usize, usize,</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;                    &amp;alloc_ctx, &amp;hook_args);</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;            }</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a0a3d6c7d00953f43eab9c56131604e4d">config_stats</a>) {</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;                usize = <a class="code" href="../../db/d04/sz_8h.html#a3f43fd132f781edb0d4a1a2cbcd6f80f">sz_s2u</a>(size);</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;            }</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;            <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a45cd27a2d9dab4c57b243036359b4e3e">iralloc</a>(tsd, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, old_usize, size, 0, <span class="keyword">false</span>,</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;                &amp;hook_args);</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;        }</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;        tsdn = <a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd);</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;        <span class="comment">/* realloc(NULL, size) is equivalent to malloc(size). */</span></div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;        <a class="code" href="../../d6/d7c/structstatic__opts__s.html">static_opts_t</a> sopts;</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;        <a class="code" href="../../d0/d96/structdynamic__opts__s.html">dynamic_opts_t</a> dopts;</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160; </div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#afcaa042370db1f2f2786830cc4b8ed80">static_opts_init</a>(&amp;sopts);</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#ab053d14ca62b4edf38d6165e66cd375f">dynamic_opts_init</a>(&amp;dopts);</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160; </div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;        sopts.<a class="code" href="../../d6/d7c/structstatic__opts__s.html#a827d38e6c4bd5de6ae121e79bdf06c3b">null_out_result_on_error</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;        sopts.<a class="code" href="../../d6/d7c/structstatic__opts__s.html#a2e3e6b3283bee38c9c9b52f5be82d4b2">set_errno_on_error</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;        sopts.<a class="code" href="../../d6/d7c/structstatic__opts__s.html#aad0178fec42358f91f612f3197fcd640">oom_string</a> =</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;            <span class="stringliteral">&quot;&lt;jemalloc&gt;: Error in realloc(): out of memory\n&quot;</span>;</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160; </div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;        dopts.<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a4b1c019538c6575926e2e473a2b61b12">result</a> = &amp;<a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;        dopts.<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a09036727e3c2f6fe0562cab93596b44d">num_items</a> = 1;</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;        dopts.<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a5b1852bd64ab79b0bca4ff94046773c8">item_size</a> = size;</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160; </div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#a507ab410a72f86f0d98ca025ce86d788">imalloc</a>(&amp;sopts, &amp;dopts);</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;        <span class="keywordflow">if</span> (sopts.<a class="code" href="../../d6/d7c/structstatic__opts__s.html#a0b201929708af8d731b93d56cb794e71">slow</a>) {</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;            <a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a> args[3] = {(<a class="code" href="../../dc/d53/solaris_8h.html#ae5eb047989776ef8f364bc84ed316394">uintptr_t</a>)<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, arg_size};</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;            <a class="code" href="../../dd/de2/private__namespace_8h.html#a6f495f026f3a26ce46461b977665c7a3">hook_invoke_alloc</a>(<a class="code" href="../../d6/d34/hook_8h.html#a727ba44c39035431416831558a894399aa5db81f9c0db51974aa7573f3a2e34d1">hook_alloc_realloc</a>, <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>,</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;                (<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)<a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>, args);</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;        }</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160; </div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;    }</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160; </div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>)) {</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ac5fef66aba0898411be771980aef22c8">config_xmalloc</a> &amp;&amp; <a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#abb699624a4c15add503df6cb54a5132e">opt_xmalloc</a>)) {</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;            <a class="code" href="../../dd/de2/private__namespace_8h.html#aa5e64f0a9668adb32f12d43a5d04f09a">malloc_write</a>(<span class="stringliteral">&quot;&lt;jemalloc&gt;: Error in realloc(): &quot;</span></div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;                <span class="stringliteral">&quot;out of memory\n&quot;</span>);</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;            abort();</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;        }</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;        <a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a132c48faab6dcea1dca5ef9012266300">set_errno</a>(ENOMEM);</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;    }</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a0a3d6c7d00953f43eab9c56131604e4d">config_stats</a> &amp;&amp; <a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a217a0bd562b98ae8c2ffce44935351e1">likely</a>(<a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> != <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>)) {</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;        <a class="code" href="../../dc/d5c/structtsd__s.html">tsd_t</a> *tsd;</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160; </div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;        <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(usize == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#aa3255636edeac1ba4261012191d1d189">isalloc</a>(tsdn, <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>));</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;        tsd = <a class="code" href="../../db/d1d/tsd_8h.html#a261ce33c28d5ef1b6e80d94b18b574d0">tsdn_tsd</a>(tsdn);</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;        *tsd_thread_allocatedp_get(tsd) += usize;</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;        *tsd_thread_deallocatedp_get(tsd) += old_usize;</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;    }</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ac6bcbb3858b3ceee509112e7b82b2d2f">UTRACE</a>(<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, size, <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>);</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(tsdn);</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160; </div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.realloc.exit&quot;</span>, <span class="stringliteral">&quot;result: %p&quot;</span>, <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>);</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;}</div>
<div class="ttc" id="ahook_8h_html_a727ba44c39035431416831558a894399aa5db81f9c0db51974aa7573f3a2e34d1"><div class="ttname"><a href="../../d6/d34/hook_8h.html#a727ba44c39035431416831558a894399aa5db81f9c0db51974aa7573f3a2e34d1">hook_alloc_realloc</a></div><div class="ttdeci">@ hook_alloc_realloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/hook_8h_source.html#l00061">hook.h:61</a></div></div>
<div class="ttc" id="ahook_8h_html_acb15ae0a3a05274cb91b8a4882969b54a5672ae0bda79da82e68678aee4e45705"><div class="ttname"><a href="../../d6/d34/hook_8h.html#acb15ae0a3a05274cb91b8a4882969b54a5672ae0bda79da82e68678aee4e45705">hook_dalloc_realloc</a></div><div class="ttdeci">@ hook_dalloc_realloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/hook_8h_source.html#l00079">hook.h:79</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a561115c34dfd12eba19d511525df29eb"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a561115c34dfd12eba19d511525df29eb">irealloc_prof</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE void * irealloc_prof(tsd_t *tsd, void *old_ptr, size_t old_usize, size_t usize, alloc_ctx_t *alloc_ctx, hook_ralloc_args_t *hook_args)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l02529">jemalloc.c:2529</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00684">check_entry_exit_locking()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00106">config_prof</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00141">config_stats</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00176">config_xmalloc</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01899">dynamic_opts_init()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00205">extents_rtree</a>, <a class="el" href="../../d6/d34/hook_8h_source.html#l00061">hook_alloc_realloc</a>, <a class="el" href="../../d6/d34/hook_8h_source.html#l00079">hook_dalloc_realloc</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00223">hook_invoke_alloc</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00224">hook_invoke_dalloc</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02556">ifree()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02246">imalloc()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l01023">iralloc()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02529">irealloc_prof()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00127">IS_INITIALIZER</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00869">isalloc()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01891">dynamic_opts_s::item_size</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00029">JEMALLOC_CC_SILENCE_INIT</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00035">likely</a>, <a class="el" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h_source.html#l00107">LOG</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00209">malloc_initialized()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00252">malloc_write</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01835">static_opts_s::null_out_result_on_error</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01890">dynamic_opts_s::num_items</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01845">static_opts_s::oom_string</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00298">opt_prof</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00071">opt_xmalloc</a>, <a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h_source.html#l02451">ptr()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01888">dynamic_opts_s::result</a>, <a class="el" href="../../df/d31/prof_8c_source.html#l00281">ret</a>, <a class="el" href="../../df/d9a/rtree_8h_source.html#l00492">rtree_szind_slab_read()</a>, <a class="el" href="../../d9/d50/sc_8h_source.html#l00265">SC_LARGE_MAXCLASS</a>, <a class="el" href="../../d9/d50/sc_8h_source.html#l00198">SC_NSIZES</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00047">set_errno()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01837">static_opts_s::set_errno_on_error</a>, <a class="el" href="../../dc/de1/arena__structs__b_8h_source.html#l00229">alloc_ctx_s::slab</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01856">static_opts_s::slow</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01864">static_opts_init()</a>, <a class="el" href="../../db/d04/sz_8h_source.html#l00205">sz_index2size()</a>, <a class="el" href="../../db/d04/sz_8h_source.html#l00251">sz_s2u()</a>, <a class="el" href="../../dc/de1/arena__structs__b_8h_source.html#l00228">alloc_ctx_s::szind</a>, <a class="el" href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00142">tcache_get()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00376">tsd_fetch()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00395">tsd_rtree_ctx()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00224">tsd_tsdn()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00234">tsdn_tsd()</a>, <a class="el" href="../../dc/d53/solaris_8h_source.html#l00029">uintptr_t</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00036">unlikely</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00188">UTRACE</a>.</p>

</div>
</div>
<a id="ac4fa02e9e0e70cca7a8896a23ad5d1a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4fa02e9e0e70cca7a8896a23ad5d1a7">&#9670;&nbsp;</a></span>je_sallocx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/dee/jemalloc_8h.html#aba3724e4c028b9b7041a83ad03ab1725">JEMALLOC_EXPORT</a> size_t <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a> je_sallocx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03461">3461</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;                                       {</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;    <span class="keywordtype">size_t</span> usize;</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;    <a class="code" href="../../d9/d83/structtsdn__s.html">tsdn_t</a> *tsdn;</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160; </div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.sallocx.entry&quot;</span>, <span class="stringliteral">&quot;ptr: %p, flags: %d&quot;</span>, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, flags);</div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160; </div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#a01b7b0d8bcb19acba3bdea9fcb06cd7b">malloc_initialized</a>() || <a class="code" href="../../d8/d80/jemalloc_8c.html#ae85e4c6cf761558babffa1b8af5baffc">IS_INITIALIZER</a>);</div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a> != <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160; </div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;    tsdn = <a class="code" href="../../db/d1d/tsd_8h.html#a84bbcd98c2715d18380ca6cdfe755346">tsdn_fetch</a>();</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(tsdn);</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160; </div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a86146c45a3404703342db7e08f9156fb">config_debug</a> || <a class="code" href="../../d1/d18/jemalloc__preamble_8h.html#aeaae88c3aa43402d6abab879ce93bf7a">force_ivsalloc</a>) {</div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;        usize = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a2a1d0d76f59f6f521750b8dc581134e2">ivsalloc</a>(tsdn, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>);</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;        <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../d1/d18/jemalloc__preamble_8h.html#aeaae88c3aa43402d6abab879ce93bf7a">force_ivsalloc</a> || usize != 0);</div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;        usize = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#aa3255636edeac1ba4261012191d1d189">isalloc</a>(tsdn, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>);</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;    }</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160; </div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(tsdn);</div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160; </div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.sallocx.exit&quot;</span>, <span class="stringliteral">&quot;result: %zu&quot;</span>, usize);</div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;    <span class="keywordflow">return</span> usize;</div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00684">check_entry_exit_locking()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00078">config_debug</a>, <a class="el" href="../../d1/d18/jemalloc__preamble_8h_source.html#l00198">force_ivsalloc</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00127">IS_INITIALIZER</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00869">isalloc()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00888">ivsalloc()</a>, <a class="el" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h_source.html#l00107">LOG</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00209">malloc_initialized()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h_source.html#l02451">ptr()</a>, and <a class="el" href="../../db/d1d/tsd_8h_source.html#l00386">tsdn_fetch()</a>.</p>

</div>
</div>
<a id="a21da9ddef7166899eb06d7a98261559b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21da9ddef7166899eb06d7a98261559b">&#9670;&nbsp;</a></span>je_sdallocx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/dee/jemalloc_8h.html#aba3724e4c028b9b7041a83ad03ab1725">JEMALLOC_EXPORT</a> void <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a> je_sdallocx </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03594">3594</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;                                               {</div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.sdallocx.entry&quot;</span>, <span class="stringliteral">&quot;ptr: %p, size: %zu, flags: %d&quot;</span>, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>,</div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;        size, flags);</div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160; </div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;    <span class="keywordflow">if</span> (flags !=0 || !<a class="code" href="../../d8/d80/jemalloc_8c.html#a540a0ea0cb6406de249e499422b9acd8">free_fastpath</a>(<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, size, <span class="keyword">true</span>)) {</div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#ad18fce64fdae3679dd6286e7924f8bba">sdallocx_default</a>(<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, size, flags);</div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;    }</div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160; </div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.sdallocx.exit&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;}</div>
<div class="ttc" id="ajemalloc_8c_html_ad18fce64fdae3679dd6286e7924f8bba"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#ad18fce64fdae3679dd6286e7924f8bba">sdallocx_default</a></div><div class="ttdeci">JEMALLOC_NOINLINE void sdallocx_default(void *ptr, size_t size, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l03548">jemalloc.c:3548</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02806">free_fastpath()</a>, <a class="el" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h_source.html#l00107">LOG</a>, <a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h_source.html#l02451">ptr()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03548">sdallocx_default()</a>.</p>

</div>
</div>
<a id="a7362acfedcf4dd276f22e81560c75864"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7362acfedcf4dd276f22e81560c75864">&#9670;&nbsp;</a></span>je_sdallocx_noflags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a> je_sdallocx_noflags </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03606">3606</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;                                            {</div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.sdallocx.entry&quot;</span>, <span class="stringliteral">&quot;ptr: %p, size: %zu, flags: 0&quot;</span>, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>,</div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;        size);</div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160; </div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d80/jemalloc_8c.html#a540a0ea0cb6406de249e499422b9acd8">free_fastpath</a>(<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, size, <span class="keyword">true</span>)) {</div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#ad18fce64fdae3679dd6286e7924f8bba">sdallocx_default</a>(<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, size, 0);</div>
<div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;    }</div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160; </div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.sdallocx.exit&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02806">free_fastpath()</a>, <a class="el" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h_source.html#l00107">LOG</a>, <a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h_source.html#l02451">ptr()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03548">sdallocx_default()</a>.</p>

</div>
</div>
<a id="a3a8879834001a9d08507b7ebd6981de6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a8879834001a9d08507b7ebd6981de6">&#9670;&nbsp;</a></span>je_xallocx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/dee/jemalloc_8h.html#aba3724e4c028b9b7041a83ad03ab1725">JEMALLOC_EXPORT</a> size_t <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a> je_xallocx </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>extra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03390">3390</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;                                                            {</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;    <a class="code" href="../../dc/d5c/structtsd__s.html">tsd_t</a> *tsd;</div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;    <span class="keywordtype">size_t</span> usize, old_usize;</div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;    <span class="keywordtype">size_t</span> alignment = <a class="code" href="../../dc/dc4/jemalloc__internal__types_8h.html#a9179cd4c221dd1257f22970bfe859775">MALLOCX_ALIGN_GET</a>(flags);</div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../df/de2/namespace_g3_d.html#afe56d91f54a2ecc472b75ccf88b4c59c">zero</a> = flags &amp; <a class="code" href="../../d5/dee/jemalloc_8h.html#aebf656cfb26669683de3a217896daeb2">MALLOCX_ZERO</a>;</div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160; </div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.xallocx.entry&quot;</span>, <span class="stringliteral">&quot;ptr: %p, size: %zu, extra: %zu, &quot;</span></div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;        <span class="stringliteral">&quot;flags: %d&quot;</span>, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, size, extra, flags);</div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160; </div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a> != <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(size != 0);</div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#acfa3af56d5e0045c1d7a5682fd1d2853">SIZE_T_MAX</a> - size &gt;= extra);</div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#a01b7b0d8bcb19acba3bdea9fcb06cd7b">malloc_initialized</a>() || <a class="code" href="../../d8/d80/jemalloc_8c.html#ae85e4c6cf761558babffa1b8af5baffc">IS_INITIALIZER</a>);</div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;    tsd = <a class="code" href="../../db/d1d/tsd_8h.html#aa09b1487cb924fd62ac5171c3d267802">tsd_fetch</a>();</div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160; </div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;    <a class="code" href="../../dd/df5/structalloc__ctx__s.html">alloc_ctx_t</a> alloc_ctx;</div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;    <a class="code" href="../../d8/d77/structrtree__ctx__s.html">rtree_ctx_t</a> *rtree_ctx = <a class="code" href="../../db/d1d/tsd_8h.html#a64c07f3dcab6961dcf64d2631462acce">tsd_rtree_ctx</a>(tsd);</div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;    <a class="code" href="../../df/d9a/rtree_8h.html#a6e117ed328a6a0e2edd9060202787108">rtree_szind_slab_read</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), &amp;<a class="code" href="../../dd/de2/private__namespace_8h.html#a8544dacd100c532d7af36c3e65e70cec">extents_rtree</a>, rtree_ctx,</div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;        (<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, <span class="keyword">true</span>, &amp;alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#a38309af4c914807568ea787f862b18a5">szind</a>, &amp;alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#ab76225490df94cc8fcf34a8cfe365a3f">slab</a>);</div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#a38309af4c914807568ea787f862b18a5">szind</a> != <a class="code" href="../../d9/d50/sc_8h.html#a633e0f4ff2ce528678368e23538a0456">SC_NSIZES</a>);</div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;    old_usize = <a class="code" href="../../db/d04/sz_8h.html#a079c257f3f2c5b472499d27ad5b54d1c">sz_index2size</a>(alloc_ctx.<a class="code" href="../../dd/df5/structalloc__ctx__s.html#a38309af4c914807568ea787f862b18a5">szind</a>);</div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(old_usize == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#aa3255636edeac1ba4261012191d1d189">isalloc</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>));</div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;<span class="comment">     * The API explicitly absolves itself of protecting against (size +</span></div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;<span class="comment">     * extra) numerical overflow, but we may need to clamp extra to avoid</span></div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;<span class="comment">     * exceeding SC_LARGE_MAXCLASS.</span></div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;<span class="comment">     * Ordinarily, size limit checking is handled deeper down, but here we</span></div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;<span class="comment">     * have to check as part of (size + extra) clamping, since we need the</span></div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;<span class="comment">     * clamped value in the above helper functions.</span></div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(size &gt; <a class="code" href="../../d9/d50/sc_8h.html#ac66e2f56f4f0411ca5d5c3444ba4d491">SC_LARGE_MAXCLASS</a>)) {</div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;        usize = old_usize;</div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;        <span class="keywordflow">goto</span> label_not_resized;</div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;    }</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a class="code" href="../../d9/d50/sc_8h.html#ac66e2f56f4f0411ca5d5c3444ba4d491">SC_LARGE_MAXCLASS</a> - size &lt; extra)) {</div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;        extra = <a class="code" href="../../d9/d50/sc_8h.html#ac66e2f56f4f0411ca5d5c3444ba4d491">SC_LARGE_MAXCLASS</a> - size;</div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;    }</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160; </div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a6bba19605480b2588c644265529447c2">config_prof</a> &amp;&amp; <a class="code" href="../../dd/de2/private__namespace_8h.html#a547467db6ef3d75a6303c08d90ff1307">opt_prof</a>) {</div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;        usize = <a class="code" href="../../d8/d80/jemalloc_8c.html#a0bc8c87dbc68d9d584d5ce568c455338">ixallocx_prof</a>(tsd, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, old_usize, size, extra,</div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;            alignment, <a class="code" href="../../df/de2/namespace_g3_d.html#afe56d91f54a2ecc472b75ccf88b4c59c">zero</a>, &amp;alloc_ctx);</div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;        usize = <a class="code" href="../../d8/d80/jemalloc_8c.html#af8345a4a77ae304813ddc984c1b0ff48">ixallocx_helper</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, old_usize, size,</div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;            extra, alignment, <a class="code" href="../../df/de2/namespace_g3_d.html#afe56d91f54a2ecc472b75ccf88b4c59c">zero</a>);</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;    }</div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(usize == old_usize)) {</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;        <span class="keywordflow">goto</span> label_not_resized;</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;    }</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160; </div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a0a3d6c7d00953f43eab9c56131604e4d">config_stats</a>) {</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;        *tsd_thread_allocatedp_get(tsd) += usize;</div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;        *tsd_thread_deallocatedp_get(tsd) += old_usize;</div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;    }</div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;label_not_resized:</div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(!<a class="code" href="../../db/d1d/tsd_8h.html#a544b1abcfa6f150ab2358ba945862788">tsd_fast</a>(tsd))) {</div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;        <a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a> args[4] = {(<a class="code" href="../../dc/d53/solaris_8h.html#ae5eb047989776ef8f364bc84ed316394">uintptr_t</a>)<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, size, extra, flags};</div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;        <a class="code" href="../../dd/de2/private__namespace_8h.html#acd8fc5c082e74b23ba2795216d7be6e9">hook_invoke_expand</a>(<a class="code" href="../../d6/d34/hook_8h.html#a3d2732857a8a594e06a889fdd57afa80a43ef857344f8b951108073fe1ec59046">hook_expand_xallocx</a>, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, old_usize,</div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;            usize, (<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)usize, args);</div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;    }</div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160; </div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ac6bcbb3858b3ceee509112e7b82b2d2f">UTRACE</a>(<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, size, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>);</div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160; </div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.xallocx.exit&quot;</span>, <span class="stringliteral">&quot;result: %zu&quot;</span>, usize);</div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;    <span class="keywordflow">return</span> usize;</div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;}</div>
<div class="ttc" id="ahook_8h_html_a3d2732857a8a594e06a889fdd57afa80a43ef857344f8b951108073fe1ec59046"><div class="ttname"><a href="../../d6/d34/hook_8h.html#a3d2732857a8a594e06a889fdd57afa80a43ef857344f8b951108073fe1ec59046">hook_expand_xallocx</a></div><div class="ttdeci">@ hook_expand_xallocx</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/hook_8h_source.html#l00088">hook.h:88</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a0bc8c87dbc68d9d584d5ce568c455338"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a0bc8c87dbc68d9d584d5ce568c455338">ixallocx_prof</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE size_t ixallocx_prof(tsd_t *tsd, void *ptr, size_t old_usize, size_t size, size_t extra, size_t alignment, bool zero, alloc_ctx_t *alloc_ctx)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l03339">jemalloc.c:3339</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_acd8fc5c082e74b23ba2795216d7be6e9"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#acd8fc5c082e74b23ba2795216d7be6e9">hook_invoke_expand</a></div><div class="ttdeci">#define hook_invoke_expand</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00225">private_namespace.h:225</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00684">check_entry_exit_locking()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00106">config_prof</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00141">config_stats</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00205">extents_rtree</a>, <a class="el" href="../../d6/d34/hook_8h_source.html#l00088">hook_expand_xallocx</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00225">hook_invoke_expand</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00127">IS_INITIALIZER</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00869">isalloc()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03312">ixallocx_helper()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03339">ixallocx_prof()</a>, <a class="el" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h_source.html#l00107">LOG</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00209">malloc_initialized()</a>, <a class="el" href="../../dc/dc4/jemalloc__internal__types_8h_source.html#l00042">MALLOCX_ALIGN_GET</a>, <a class="el" href="../../d5/dee/jemalloc_8h_source.html#l00106">MALLOCX_ZERO</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00298">opt_prof</a>, <a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h_source.html#l02451">ptr()</a>, <a class="el" href="../../df/d9a/rtree_8h_source.html#l00492">rtree_szind_slab_read()</a>, <a class="el" href="../../d9/d50/sc_8h_source.html#l00265">SC_LARGE_MAXCLASS</a>, <a class="el" href="../../d9/d50/sc_8h_source.html#l00198">SC_NSIZES</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00029">SIZE_T_MAX</a>, <a class="el" href="../../dc/de1/arena__structs__b_8h_source.html#l00229">alloc_ctx_s::slab</a>, <a class="el" href="../../db/d04/sz_8h_source.html#l00205">sz_index2size()</a>, <a class="el" href="../../dc/de1/arena__structs__b_8h_source.html#l00228">alloc_ctx_s::szind</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00332">tsd_fast()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00376">tsd_fetch()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00395">tsd_rtree_ctx()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00224">tsd_tsdn()</a>, <a class="el" href="../../dc/d53/solaris_8h_source.html#l00029">uintptr_t</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00036">unlikely</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00188">UTRACE</a>, and <a class="el" href="../../d6/dd6/unorm16_8h_source.html#l00082">G3D::zero()</a>.</p>

</div>
</div>
<a id="afe58a68e9cbc5c8ac7c765f82c4546fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe58a68e9cbc5c8ac7c765f82c4546fa">&#9670;&nbsp;</a></span>JEMALLOC_ATTR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/dee/jemalloc_8h.html#aba3724e4c028b9b7041a83ad03ab1725">JEMALLOC_EXPORT</a> <a class="el" href="../../d5/dee/jemalloc_8h.html#af722c9f95beb57e535e748b28813347f">JEMALLOC_ALLOCATOR</a> <a class="el" href="../../d5/dee/jemalloc_8h.html#a06b1c64251b2ff6371512aeab6ab46ef">JEMALLOC_RESTRICT_RETURN</a> void <a class="el" href="../../d5/dee/jemalloc_8h.html#a7413f101e9a856005dddfa613c52fafe">JEMALLOC_NOTHROW</a> * JEMALLOC_ATTR </td>
          <td>(</td>
          <td class="paramtype">malloc&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02322">2322</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;                       {</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.malloc.entry&quot;</span>, <span class="stringliteral">&quot;size: %zu&quot;</span>, size);</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160; </div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d3/dcd/tsd__generic_8h.html#a7b7faaf2166ca87345dc67762a96b215">tsd_get_allocates</a>() &amp;&amp; <a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(!<a class="code" href="../../d8/d80/jemalloc_8c.html#a01b7b0d8bcb19acba3bdea9fcb06cd7b">malloc_initialized</a>())) {</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d8/d80/jemalloc_8c.html#ae66b5864d08f06681b7f3c9034fa0d91">malloc_default</a>(size);</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;    }</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160; </div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;    <a class="code" href="../../dc/d5c/structtsd__s.html">tsd_t</a> *tsd = <a class="code" href="../../d3/dcd/tsd__generic_8h.html#ad9973f29a3701dd8fb9b443a330d1337">tsd_get</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(!tsd || !<a class="code" href="../../db/d1d/tsd_8h.html#a544b1abcfa6f150ab2358ba945862788">tsd_fast</a>(tsd) || (size &gt; <a class="code" href="../../d9/d50/sc_8h.html#afa119a0181906f92f4f2319810c14945">SC_LOOKUP_MAXCLASS</a>))) {</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d8/d80/jemalloc_8c.html#ae66b5864d08f06681b7f3c9034fa0d91">malloc_default</a>(size);</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;    }</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160; </div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;    <a class="code" href="../../db/d17/structtcache__s.html">tcache_t</a> *tcache = tsd_tcachep_get(tsd);</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160; </div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a class="code" href="../../d1/d16/ticker_8h.html#aa3c5ed0f4257ffba215983bebf3530a0">ticker_trytick</a>(&amp;tcache-&gt;<a class="code" href="../../db/d17/structtcache__s.html#ab71ad6c89b2ce9e36985833bd9f992c5">gc_ticker</a>))) {</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d8/d80/jemalloc_8c.html#ae66b5864d08f06681b7f3c9034fa0d91">malloc_default</a>(size);</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;    }</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160; </div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;    <a class="code" href="../../dc/dc4/jemalloc__internal__types_8h.html#a09eb24f5d01f07b2e22afae9a52820d7">szind_t</a> ind = <a class="code" href="../../db/d04/sz_8h.html#ae5b9aa0c3b2e397057c61f62bf017f15">sz_size2index_lookup</a>(size);</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;    <span class="keywordtype">size_t</span> usize;</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a0a3d6c7d00953f43eab9c56131604e4d">config_stats</a> || <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a6bba19605480b2588c644265529447c2">config_prof</a>) {</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;        usize = <a class="code" href="../../db/d04/sz_8h.html#a079c257f3f2c5b472499d27ad5b54d1c">sz_index2size</a>(ind);</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;    }</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;    <span class="comment">/* Fast path relies on size being a bin. I.e. SC_LOOKUP_MAXCLASS &lt; SC_SMALL_MAXCLASS */</span></div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(ind &lt; <a class="code" href="../../d9/d50/sc_8h.html#a27ab0819dfe55034e37976d220e9940c">SC_NBINS</a>);</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(size &lt;= <a class="code" href="../../d9/d50/sc_8h.html#a4e728b3887b0b2b14a2db1eed407854c">SC_SMALL_MAXCLASS</a>);</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160; </div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a6bba19605480b2588c644265529447c2">config_prof</a>) {</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;        <a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a> bytes_until_sample = tsd_bytes_until_sample_get(tsd);</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;        bytes_until_sample -= usize;</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;        tsd_bytes_until_sample_set(tsd, bytes_until_sample);</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160; </div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(bytes_until_sample &lt; 0)) {</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;            <span class="comment">/*</span></div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;<span class="comment">             * Avoid a prof_active check on the fastpath.</span></div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;<span class="comment">             * If prof_active is false, set bytes_until_sample to</span></div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;<span class="comment">             * a large value.  If prof_active is set to true,</span></div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;<span class="comment">             * bytes_until_sample will be reset.</span></div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../dd/de2/private__namespace_8h.html#adaf0a6593dc0aba6c0064e2202b0b5ff">prof_active</a>) {</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;                tsd_bytes_until_sample_set(tsd, <a class="code" href="../../d2/d46/jemalloc__internal__decls_8h.html#a2d6569aa794c2f23e90691e60d2f3ad2">SSIZE_MAX</a>);</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;            }</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d8/d80/jemalloc_8c.html#ae66b5864d08f06681b7f3c9034fa0d91">malloc_default</a>(size);</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;        }</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;    }</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160; </div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;    <a class="code" href="../../da/d74/structcache__bin__s.html">cache_bin_t</a> *bin = <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#abca1f0352e3677bb2fe9115d3cb91e84">tcache_small_bin_get</a>(tcache, ind);</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;    <span class="keywordtype">bool</span> tcache_success;</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;    <span class="keywordtype">void</span>* <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code" href="../../da/d95/cache__bin_8h.html#a84aa00653e8bd40b19abcb3c2ed87b06">cache_bin_alloc_easy</a>(bin, &amp;tcache_success);</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160; </div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;    <span class="keywordflow">if</span> (tcache_success) {</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a0a3d6c7d00953f43eab9c56131604e4d">config_stats</a>) {</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;            *tsd_thread_allocatedp_get(tsd) += usize;</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;            bin-&gt;<a class="code" href="../../da/d74/structcache__bin__s.html#a3ddc5de2b8a1cf2fee1ce7ea4dcba4c3">tstats</a>.<a class="code" href="../../d2/d8a/structcache__bin__stats__s.html#a8dbb54065a61a867063de810d6b57772">nrequests</a>++;</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;        }</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a6bba19605480b2588c644265529447c2">config_prof</a>) {</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;            tcache-&gt;<a class="code" href="../../db/d17/structtcache__s.html#ab210d6ed541cd24ba887256278fed091">prof_accumbytes</a> += usize;</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;        }</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160; </div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;        <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.malloc.exit&quot;</span>, <span class="stringliteral">&quot;result: %p&quot;</span>, <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>);</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160; </div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;        <span class="comment">/* Fastpath success */</span></div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;    }</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160; </div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d80/jemalloc_8c.html#ae66b5864d08f06681b7f3c9034fa0d91">malloc_default</a>(size);</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;}</div>
<div class="ttc" id="acache__bin_8h_html_a84aa00653e8bd40b19abcb3c2ed87b06"><div class="ttname"><a href="../../da/d95/cache__bin_8h.html#a84aa00653e8bd40b19abcb3c2ed87b06">cache_bin_alloc_easy</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE void * cache_bin_alloc_easy(cache_bin_t *bin, bool *success)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d95/cache__bin_8h_source.html#l00088">cache_bin.h:88</a></div></div>
<div class="ttc" id="ajemalloc_2include_2msvc__compat_2_c99_2stdint_8h_html_a414156feea104f8f75b4ed9e3121b2f6"><div class="ttname"><a href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a></div><div class="ttdeci">signed __int64 int64_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h_source.html#l00089">stdint.h:89</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_ae66b5864d08f06681b7f3c9034fa0d91"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#ae66b5864d08f06681b7f3c9034fa0d91">malloc_default</a></div><div class="ttdeci">JEMALLOC_NOINLINE void * malloc_default(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l02271">jemalloc.c:2271</a></div></div>
<div class="ttc" id="ajemalloc__internal__decls_8h_html_a2d6569aa794c2f23e90691e60d2f3ad2"><div class="ttname"><a href="../../d2/d46/jemalloc__internal__decls_8h.html#a2d6569aa794c2f23e90691e60d2f3ad2">SSIZE_MAX</a></div><div class="ttdeci">#define SSIZE_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d46/jemalloc__internal__decls_8h_source.html#l00058">jemalloc_internal_decls.h:58</a></div></div>
<div class="ttc" id="astructcache__bin__s_html_a3ddc5de2b8a1cf2fee1ce7ea4dcba4c3"><div class="ttname"><a href="../../da/d74/structcache__bin__s.html#a3ddc5de2b8a1cf2fee1ce7ea4dcba4c3">cache_bin_s::tstats</a></div><div class="ttdeci">cache_bin_stats_t tstats</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d95/cache__bin_8h_source.html#l00054">cache_bin.h:54</a></div></div>
<div class="ttc" id="astructcache__bin__stats__s_html_a8dbb54065a61a867063de810d6b57772"><div class="ttname"><a href="../../d2/d8a/structcache__bin__stats__s.html#a8dbb54065a61a867063de810d6b57772">cache_bin_stats_s::nrequests</a></div><div class="ttdeci">uint64_t nrequests</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d95/cache__bin_8h_source.html#l00030">cache_bin.h:30</a></div></div>
<div class="ttc" id="astructtcache__s_html_ab210d6ed541cd24ba887256278fed091"><div class="ttname"><a href="../../db/d17/structtcache__s.html#ab210d6ed541cd24ba887256278fed091">tcache_s::prof_accumbytes</a></div><div class="ttdeci">uint64_t prof_accumbytes</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dd9/tcache__structs_8h_source.html#l00020">tcache_structs.h:20</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../da/d95/cache__bin_8h_source.html#l00088">cache_bin_alloc_easy()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00106">config_prof</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00141">config_stats</a>, <a class="el" href="../../d1/dd9/tcache__structs_8h_source.html#l00022">tcache_s::gc_ticker</a>, <a class="el" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h_source.html#l00107">LOG</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02271">malloc_default()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00209">malloc_initialized()</a>, <a class="el" href="../../da/d95/cache__bin_8h_source.html#l00030">cache_bin_stats_s::nrequests</a>, <a class="el" href="../../d1/dd9/tcache__structs_8h_source.html#l00020">tcache_s::prof_accumbytes</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00308">prof_active</a>, <a class="el" href="../../df/d31/prof_8c_source.html#l00281">ret</a>, <a class="el" href="../../d9/d50/sc_8h_source.html#l00246">SC_LOOKUP_MAXCLASS</a>, <a class="el" href="../../d9/d50/sc_8h_source.html#l00229">SC_NBINS</a>, <a class="el" href="../../d9/d50/sc_8h_source.html#l00253">SC_SMALL_MAXCLASS</a>, <a class="el" href="../../d2/d46/jemalloc__internal__decls_8h_source.html#l00058">SSIZE_MAX</a>, <a class="el" href="../../db/d04/sz_8h_source.html#l00205">sz_index2size()</a>, <a class="el" href="../../db/d04/sz_8h_source.html#l00155">sz_size2index_lookup()</a>, <a class="el" href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00112">tcache_small_bin_get()</a>, <a class="el" href="../../d1/d16/ticker_8h_source.html#l00083">ticker_trytick()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00332">tsd_fast()</a>, <a class="el" href="../../d3/dcd/tsd__generic_8h_source.html#l00142">tsd_get()</a>, <a class="el" href="../../d3/dcd/tsd__generic_8h_source.html#l00136">tsd_get_allocates()</a>, <a class="el" href="../../da/d95/cache__bin_8h_source.html#l00054">cache_bin_s::tstats</a>, and <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00036">unlikely</a>.</p>

</div>
</div>
<a id="aa90fcf43c871f87e109582ea32abf9ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa90fcf43c871f87e109582ea32abf9ff">&#9670;&nbsp;</a></span>jemalloc_constructor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void jemalloc_constructor </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03774">3774</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;                           {</div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#a293cf98baff03c7fb3581b2d6a86dc3d">malloc_init</a>();</div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00222">malloc_init()</a>.</p>

</div>
</div>
<a id="a8cd53dded2a83e733236d3986ff126ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cd53dded2a83e733236d3986ff126ac">&#9670;&nbsp;</a></span>jemalloc_postfork_child()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void jemalloc_postfork_child </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03894">3894</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;                              {</div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;    <a class="code" href="../../dc/d5c/structtsd__s.html">tsd_t</a> *tsd;</div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;    <span class="keywordtype">unsigned</span> i, narenas;</div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160; </div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#a01b7b0d8bcb19acba3bdea9fcb06cd7b">malloc_initialized</a>());</div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160; </div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;    tsd = <a class="code" href="../../db/d1d/tsd_8h.html#aa09b1487cb924fd62ac5171c3d267802">tsd_fetch</a>();</div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160; </div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#a3cf98467f34fe3ecefb2848b2ab6e90e">tsd_postfork_child</a>(tsd);</div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160; </div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#afc3629b7ffc7c31920a5eb3ef1e407d7">witness_postfork_child</a>(tsd_witness_tsdp_get(tsd));</div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;    <span class="comment">/* Release all mutexes, now that fork() has completed. */</span></div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;    <span class="keywordflow">for</span> (i = 0, narenas = <a class="code" href="../../d8/d80/jemalloc_8c.html#a5770c88b2b0c8dd5c610f366f9b160e1">narenas_total_get</a>(); i &lt; narenas; i++) {</div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;        <a class="code" href="../../da/dc2/structarena__s.html">arena_t</a> *<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>;</div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160; </div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a> = <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#afc61837312aeb8ba2123252226db9ce0">arena_get</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), i, <span class="keyword">false</span>)) != <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>) {</div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;            <a class="code" href="../../dd/de2/private__namespace_8h.html#ac3fd194ed8b76f4bea2e9ea31e6fbbc2">arena_postfork_child</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>);</div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;        }</div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;    }</div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#a8f84bc97e0db97870f3748888e8dbe0a">prof_postfork_child</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/d18/jemalloc__preamble_8h.html#ae33bd0d1072ba0ee3d48cd7097e3ea91">have_background_thread</a>) {</div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;        <a class="code" href="../../de/de9/background__thread__externs_8h.html#a8eb5d1334b4c3fe9468e4cf7f1c6b201">background_thread_postfork_child</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;    }</div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#abbc483e38d30f84f158339bb9fd590ec">malloc_mutex_postfork_child</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), &amp;<a class="code" href="../../d8/d80/jemalloc_8c.html#a98e3833a2f20e314304e382556ec75f1">arenas_lock</a>);</div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#a41c85f5d5da1903abf7f8e78c491d23f">tcache_postfork_child</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#af2abd78cce0cc1ba1b43a5fb34649600">ctl_postfork_child</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;}</div>
<div class="ttc" id="abackground__thread__externs_8h_html_a8eb5d1334b4c3fe9468e4cf7f1c6b201"><div class="ttname"><a href="../../de/de9/background__thread__externs_8h.html#a8eb5d1334b4c3fe9468e4cf7f1c6b201">background_thread_postfork_child</a></div><div class="ttdeci">void background_thread_postfork_child(tsdn_t *tsdn)</div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a3cf98467f34fe3ecefb2848b2ab6e90e"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a3cf98467f34fe3ecefb2848b2ab6e90e">tsd_postfork_child</a></div><div class="ttdeci">#define tsd_postfork_child</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00407">private_namespace.h:407</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a41c85f5d5da1903abf7f8e78c491d23f"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a41c85f5d5da1903abf7f8e78c491d23f">tcache_postfork_child</a></div><div class="ttdeci">#define tcache_postfork_child</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00383">private_namespace.h:383</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a8f84bc97e0db97870f3748888e8dbe0a"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a8f84bc97e0db97870f3748888e8dbe0a">prof_postfork_child</a></div><div class="ttdeci">#define prof_postfork_child</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00331">private_namespace.h:331</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_abbc483e38d30f84f158339bb9fd590ec"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#abbc483e38d30f84f158339bb9fd590ec">malloc_mutex_postfork_child</a></div><div class="ttdeci">#define malloc_mutex_postfork_child</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00256">private_namespace.h:256</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_ac3fd194ed8b76f4bea2e9ea31e6fbbc2"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#ac3fd194ed8b76f4bea2e9ea31e6fbbc2">arena_postfork_child</a></div><div class="ttdeci">#define arena_postfork_child</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00074">private_namespace.h:74</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_af2abd78cce0cc1ba1b43a5fb34649600"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#af2abd78cce0cc1ba1b43a5fb34649600">ctl_postfork_child</a></div><div class="ttdeci">#define ctl_postfork_child</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00158">private_namespace.h:158</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_afc3629b7ffc7c31920a5eb3ef1e407d7"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#afc3629b7ffc7c31920a5eb3ef1e407d7">witness_postfork_child</a></div><div class="ttdeci">#define witness_postfork_child</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00420">private_namespace.h:420</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/dd3/background__thread_8c_source.html#l00057">arena</a>, <a class="el" href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00085">arena_get()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00074">arena_postfork_child</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00078">arenas_lock</a>, <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../de/de9/background__thread__externs_8h.html#a8eb5d1334b4c3fe9468e4cf7f1c6b201">background_thread_postfork_child()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00158">ctl_postfork_child</a>, <a class="el" href="../../d1/d18/jemalloc__preamble_8h_source.html#l00205">have_background_thread</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00209">malloc_initialized()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00256">malloc_mutex_postfork_child</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00312">narenas_total_get()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00331">prof_postfork_child</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00383">tcache_postfork_child</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00376">tsd_fetch()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00407">tsd_postfork_child</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00224">tsd_tsdn()</a>, and <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00420">witness_postfork_child</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01575">malloc_init_hard_recursible()</a>.</p>

</div>
</div>
<a id="acde2a7596c29745b5796c706f3e4cc50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acde2a7596c29745b5796c706f3e4cc50">&#9670;&nbsp;</a></span>jemalloc_postfork_parent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void jemalloc_postfork_parent </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03855">3855</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;{</div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;    <a class="code" href="../../dc/d5c/structtsd__s.html">tsd_t</a> *tsd;</div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;    <span class="keywordtype">unsigned</span> i, narenas;</div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160; </div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;<span class="preprocessor">#ifdef JEMALLOC_MUTEX_INIT_CB</span></div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d80/jemalloc_8c.html#a01b7b0d8bcb19acba3bdea9fcb06cd7b">malloc_initialized</a>()) {</div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;    }</div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#a01b7b0d8bcb19acba3bdea9fcb06cd7b">malloc_initialized</a>());</div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160; </div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;    tsd = <a class="code" href="../../db/d1d/tsd_8h.html#aa09b1487cb924fd62ac5171c3d267802">tsd_fetch</a>();</div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160; </div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#a482e832abcd6fd17128f9275d0889693">tsd_postfork_parent</a>(tsd);</div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160; </div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#a88bb4ab0b7cc6afcd52799d7f6be841d">witness_postfork_parent</a>(tsd_witness_tsdp_get(tsd));</div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;    <span class="comment">/* Release all mutexes, now that fork() has completed. */</span></div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;    <span class="keywordflow">for</span> (i = 0, narenas = <a class="code" href="../../d8/d80/jemalloc_8c.html#a5770c88b2b0c8dd5c610f366f9b160e1">narenas_total_get</a>(); i &lt; narenas; i++) {</div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;        <a class="code" href="../../da/dc2/structarena__s.html">arena_t</a> *<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>;</div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160; </div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a> = <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#afc61837312aeb8ba2123252226db9ce0">arena_get</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), i, <span class="keyword">false</span>)) != <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>) {</div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;            <a class="code" href="../../dd/de2/private__namespace_8h.html#a4af4a4a4d649059b128cce623ae6e715">arena_postfork_parent</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>);</div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;        }</div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;    }</div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#a53e5be143f6e7e4d1c093354b6492788">prof_postfork_parent</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/d18/jemalloc__preamble_8h.html#ae33bd0d1072ba0ee3d48cd7097e3ea91">have_background_thread</a>) {</div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;        <a class="code" href="../../de/de9/background__thread__externs_8h.html#adf8e88fb6b6adbf456b22ac3f444ea41">background_thread_postfork_parent</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;    }</div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#a78e28f15d1b27326abed9f5145681b95">malloc_mutex_postfork_parent</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), &amp;<a class="code" href="../../d8/d80/jemalloc_8c.html#a98e3833a2f20e314304e382556ec75f1">arenas_lock</a>);</div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#a717f52ba80853922b8a1cb8daa6c630f">tcache_postfork_parent</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#a3e98f8bb1895a5b54eba267c084ffd7e">ctl_postfork_parent</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;}</div>
<div class="ttc" id="abackground__thread__externs_8h_html_adf8e88fb6b6adbf456b22ac3f444ea41"><div class="ttname"><a href="../../de/de9/background__thread__externs_8h.html#adf8e88fb6b6adbf456b22ac3f444ea41">background_thread_postfork_parent</a></div><div class="ttdeci">void background_thread_postfork_parent(tsdn_t *tsdn)</div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a3e98f8bb1895a5b54eba267c084ffd7e"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a3e98f8bb1895a5b54eba267c084ffd7e">ctl_postfork_parent</a></div><div class="ttdeci">#define ctl_postfork_parent</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00159">private_namespace.h:159</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a482e832abcd6fd17128f9275d0889693"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a482e832abcd6fd17128f9275d0889693">tsd_postfork_parent</a></div><div class="ttdeci">#define tsd_postfork_parent</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00408">private_namespace.h:408</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a4af4a4a4d649059b128cce623ae6e715"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a4af4a4a4d649059b128cce623ae6e715">arena_postfork_parent</a></div><div class="ttdeci">#define arena_postfork_parent</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00075">private_namespace.h:75</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a53e5be143f6e7e4d1c093354b6492788"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a53e5be143f6e7e4d1c093354b6492788">prof_postfork_parent</a></div><div class="ttdeci">#define prof_postfork_parent</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00332">private_namespace.h:332</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a717f52ba80853922b8a1cb8daa6c630f"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a717f52ba80853922b8a1cb8daa6c630f">tcache_postfork_parent</a></div><div class="ttdeci">#define tcache_postfork_parent</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00384">private_namespace.h:384</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a78e28f15d1b27326abed9f5145681b95"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a78e28f15d1b27326abed9f5145681b95">malloc_mutex_postfork_parent</a></div><div class="ttdeci">#define malloc_mutex_postfork_parent</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00257">private_namespace.h:257</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a88bb4ab0b7cc6afcd52799d7f6be841d"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a88bb4ab0b7cc6afcd52799d7f6be841d">witness_postfork_parent</a></div><div class="ttdeci">#define witness_postfork_parent</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00421">private_namespace.h:421</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/dd3/background__thread_8c_source.html#l00057">arena</a>, <a class="el" href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00085">arena_get()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00075">arena_postfork_parent</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00078">arenas_lock</a>, <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../de/de9/background__thread__externs_8h.html#adf8e88fb6b6adbf456b22ac3f444ea41">background_thread_postfork_parent()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00159">ctl_postfork_parent</a>, <a class="el" href="../../d1/d18/jemalloc__preamble_8h_source.html#l00205">have_background_thread</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00209">malloc_initialized()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00257">malloc_mutex_postfork_parent</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00312">narenas_total_get()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00332">prof_postfork_parent</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00384">tcache_postfork_parent</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00376">tsd_fetch()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00408">tsd_postfork_parent</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00224">tsd_tsdn()</a>, and <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00421">witness_postfork_parent</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01575">malloc_init_hard_recursible()</a>.</p>

</div>
</div>
<a id="acbb5f6a79529bdd6ed63fbdfe8b8f524"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbb5f6a79529bdd6ed63fbdfe8b8f524">&#9670;&nbsp;</a></span>jemalloc_prefork()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void jemalloc_prefork </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03781">3781</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;{</div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;    <a class="code" href="../../dc/d5c/structtsd__s.html">tsd_t</a> *tsd;</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;    <span class="keywordtype">unsigned</span> i, j, narenas;</div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;    <a class="code" href="../../da/dc2/structarena__s.html">arena_t</a> *<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>;</div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160; </div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;<span class="preprocessor">#ifdef JEMALLOC_MUTEX_INIT_CB</span></div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d80/jemalloc_8c.html#a01b7b0d8bcb19acba3bdea9fcb06cd7b">malloc_initialized</a>()) {</div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;    }</div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#a01b7b0d8bcb19acba3bdea9fcb06cd7b">malloc_initialized</a>());</div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160; </div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;    tsd = <a class="code" href="../../db/d1d/tsd_8h.html#aa09b1487cb924fd62ac5171c3d267802">tsd_fetch</a>();</div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160; </div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;    narenas = <a class="code" href="../../d8/d80/jemalloc_8c.html#a5770c88b2b0c8dd5c610f366f9b160e1">narenas_total_get</a>();</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160; </div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#a1e5d51a2f6d6236960854bd002888468">witness_prefork</a>(tsd_witness_tsdp_get(tsd));</div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;    <span class="comment">/* Acquire all mutexes in a safe order. */</span></div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#ab1f38865b4da617728516d502e4b1b46">ctl_prefork</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#ab5eedf5d7c800038c6f8068b55a21b57">tcache_prefork</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#ad27693d2f0e1aa199bea7b46c68429c4">malloc_mutex_prefork</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), &amp;<a class="code" href="../../d8/d80/jemalloc_8c.html#a98e3833a2f20e314304e382556ec75f1">arenas_lock</a>);</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/d18/jemalloc__preamble_8h.html#ae33bd0d1072ba0ee3d48cd7097e3ea91">have_background_thread</a>) {</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;        <a class="code" href="../../dd/de2/private__namespace_8h.html#a5c0627d519d607e3e8d4ea3d146f9d4e">background_thread_prefork0</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;    }</div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#af483410cadd6c40a1f7442b57282b9d3">prof_prefork0</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/d18/jemalloc__preamble_8h.html#ae33bd0d1072ba0ee3d48cd7097e3ea91">have_background_thread</a>) {</div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;        <a class="code" href="../../de/de9/background__thread__externs_8h.html#ab6aabf9ed3312d41bc5d978032e42232">background_thread_prefork1</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;    }</div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;    <span class="comment">/* Break arena prefork into stages to preserve lock order. */</span></div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; 8; i++) {</div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; narenas; j++) {</div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a> = <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#afc61837312aeb8ba2123252226db9ce0">arena_get</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), j, <span class="keyword">false</span>)) !=</div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;                <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>) {</div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;                <span class="keywordflow">switch</span> (i) {</div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;                <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;                    <a class="code" href="../../dd/de2/private__namespace_8h.html#a32077bde047525c946197335a40bfc63">arena_prefork0</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>);</div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;                <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;                    <a class="code" href="../../dd/de2/private__namespace_8h.html#a4b72364685f1fadb614c9db3e6ae6e36">arena_prefork1</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>);</div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;                <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;                    <a class="code" href="../../dd/de2/private__namespace_8h.html#ab40063d6346312ae3b62ee1815fd8bb3">arena_prefork2</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>);</div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;                <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;                    <a class="code" href="../../dd/de2/private__namespace_8h.html#acb2c45d6ee7f1b2c8bede6127ce11d40">arena_prefork3</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>);</div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;                <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;                    <a class="code" href="../../dd/de2/private__namespace_8h.html#a42a6ac0f25811bbe266cefc8ea477a5c">arena_prefork4</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>);</div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;                <span class="keywordflow">case</span> 5:</div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;                    <a class="code" href="../../dd/de2/private__namespace_8h.html#a5c41b80c9c5f513f16d5ed9475332955">arena_prefork5</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>);</div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;                <span class="keywordflow">case</span> 6:</div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;                    <a class="code" href="../../dd/de2/private__namespace_8h.html#a69de92b9a2fd48bda08eb5ae4115ec6f">arena_prefork6</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>);</div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;                <span class="keywordflow">case</span> 7:</div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;                    <a class="code" href="../../dd/de2/private__namespace_8h.html#afb00a7e76b0b167fb05812b67eb0b487">arena_prefork7</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>);</div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;                <span class="keywordflow">default</span>: <a class="code" href="../../dc/da7/assert_8h.html#ad7c562c47905c397ca004582aa82863a">not_reached</a>();</div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;                }</div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;            }</div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;        }</div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;    }</div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#aea3aed6a9d8f133d95f23bcda4960a3f">prof_prefork1</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#abb8222bd1fe325e2fe185e1029228854">tsd_prefork</a>(tsd);</div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;}</div>
<div class="ttc" id="aassert_8h_html_ad7c562c47905c397ca004582aa82863a"><div class="ttname"><a href="../../dc/da7/assert_8h.html#ad7c562c47905c397ca004582aa82863a">not_reached</a></div><div class="ttdeci">#define not_reached()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da7/assert_8h_source.html#l00020">assert.h:20</a></div></div>
<div class="ttc" id="abackground__thread__externs_8h_html_ab6aabf9ed3312d41bc5d978032e42232"><div class="ttname"><a href="../../de/de9/background__thread__externs_8h.html#ab6aabf9ed3312d41bc5d978032e42232">background_thread_prefork1</a></div><div class="ttdeci">void background_thread_prefork1(tsdn_t *tsdn)</div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a1e5d51a2f6d6236960854bd002888468"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a1e5d51a2f6d6236960854bd002888468">witness_prefork</a></div><div class="ttdeci">#define witness_prefork</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00422">private_namespace.h:422</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a32077bde047525c946197335a40bfc63"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a32077bde047525c946197335a40bfc63">arena_prefork0</a></div><div class="ttdeci">#define arena_prefork0</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00076">private_namespace.h:76</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a42a6ac0f25811bbe266cefc8ea477a5c"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a42a6ac0f25811bbe266cefc8ea477a5c">arena_prefork4</a></div><div class="ttdeci">#define arena_prefork4</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00080">private_namespace.h:80</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a4b72364685f1fadb614c9db3e6ae6e36"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a4b72364685f1fadb614c9db3e6ae6e36">arena_prefork1</a></div><div class="ttdeci">#define arena_prefork1</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00077">private_namespace.h:77</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a5c0627d519d607e3e8d4ea3d146f9d4e"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a5c0627d519d607e3e8d4ea3d146f9d4e">background_thread_prefork0</a></div><div class="ttdeci">#define background_thread_prefork0</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00108">private_namespace.h:108</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a5c41b80c9c5f513f16d5ed9475332955"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a5c41b80c9c5f513f16d5ed9475332955">arena_prefork5</a></div><div class="ttdeci">#define arena_prefork5</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00081">private_namespace.h:81</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a69de92b9a2fd48bda08eb5ae4115ec6f"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a69de92b9a2fd48bda08eb5ae4115ec6f">arena_prefork6</a></div><div class="ttdeci">#define arena_prefork6</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00082">private_namespace.h:82</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_ab1f38865b4da617728516d502e4b1b46"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#ab1f38865b4da617728516d502e4b1b46">ctl_prefork</a></div><div class="ttdeci">#define ctl_prefork</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00160">private_namespace.h:160</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_ab40063d6346312ae3b62ee1815fd8bb3"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#ab40063d6346312ae3b62ee1815fd8bb3">arena_prefork2</a></div><div class="ttdeci">#define arena_prefork2</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00078">private_namespace.h:78</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_ab5eedf5d7c800038c6f8068b55a21b57"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#ab5eedf5d7c800038c6f8068b55a21b57">tcache_prefork</a></div><div class="ttdeci">#define tcache_prefork</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00385">private_namespace.h:385</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_abb8222bd1fe325e2fe185e1029228854"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#abb8222bd1fe325e2fe185e1029228854">tsd_prefork</a></div><div class="ttdeci">#define tsd_prefork</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00409">private_namespace.h:409</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_acb2c45d6ee7f1b2c8bede6127ce11d40"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#acb2c45d6ee7f1b2c8bede6127ce11d40">arena_prefork3</a></div><div class="ttdeci">#define arena_prefork3</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00079">private_namespace.h:79</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_ad27693d2f0e1aa199bea7b46c68429c4"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#ad27693d2f0e1aa199bea7b46c68429c4">malloc_mutex_prefork</a></div><div class="ttdeci">#define malloc_mutex_prefork</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00258">private_namespace.h:258</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_aea3aed6a9d8f133d95f23bcda4960a3f"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#aea3aed6a9d8f133d95f23bcda4960a3f">prof_prefork1</a></div><div class="ttdeci">#define prof_prefork1</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00334">private_namespace.h:334</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_af483410cadd6c40a1f7442b57282b9d3"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#af483410cadd6c40a1f7442b57282b9d3">prof_prefork0</a></div><div class="ttdeci">#define prof_prefork0</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00333">private_namespace.h:333</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_afb00a7e76b0b167fb05812b67eb0b487"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#afb00a7e76b0b167fb05812b67eb0b487">arena_prefork7</a></div><div class="ttdeci">#define arena_prefork7</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00083">private_namespace.h:83</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/dd3/background__thread_8c_source.html#l00057">arena</a>, <a class="el" href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00085">arena_get()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00076">arena_prefork0</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00077">arena_prefork1</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00078">arena_prefork2</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00079">arena_prefork3</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00080">arena_prefork4</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00081">arena_prefork5</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00082">arena_prefork6</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00083">arena_prefork7</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00078">arenas_lock</a>, <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00108">background_thread_prefork0</a>, <a class="el" href="../../de/de9/background__thread__externs_8h.html#ab6aabf9ed3312d41bc5d978032e42232">background_thread_prefork1()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00160">ctl_prefork</a>, <a class="el" href="../../d1/d18/jemalloc__preamble_8h_source.html#l00205">have_background_thread</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00209">malloc_initialized()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00258">malloc_mutex_prefork</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00312">narenas_total_get()</a>, <a class="el" href="../../dc/da7/assert_8h_source.html#l00020">not_reached</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00333">prof_prefork0</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00334">prof_prefork1</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00385">tcache_prefork</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00376">tsd_fetch()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00409">tsd_prefork</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00224">tsd_tsdn()</a>, and <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00422">witness_prefork</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01575">malloc_init_hard_recursible()</a>.</p>

</div>
</div>
<a id="a3f0bbaff7c03a202069cec2a7ac25707"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f0bbaff7c03a202069cec2a7ac25707">&#9670;&nbsp;</a></span>jemalloc_secure_getenv()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* jemalloc_secure_getenv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00712">712</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                                         {</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;<span class="preprocessor">#ifdef JEMALLOC_HAVE_SECURE_GETENV</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/dff/hooks_8h.html#a7502729914e1e4eec88d0b80be1d7cbf">secure_getenv</a>(name);</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="preprocessor">#  ifdef JEMALLOC_HAVE_ISSETUGID</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="keywordflow">if</span> (issetugid() != 0) {</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    }</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="preprocessor">#  endif</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keywordflow">return</span> getenv(name);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;}</div>
<div class="ttc" id="ahooks_8h_html_a7502729914e1e4eec88d0b80be1d7cbf"><div class="ttname"><a href="../../d7/dff/hooks_8h.html#a7502729914e1e4eec88d0b80be1d7cbf">secure_getenv</a></div><div class="ttdeci">#define secure_getenv</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dff/hooks_8h_source.html#l00015">hooks.h:15</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, and <a class="el" href="../../d7/dff/hooks_8h_source.html#l00015">secure_getenv</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00938">obtain_malloc_conf()</a>.</p>

</div>
</div>
<a id="a5c02493047521bab55347d4d2457b5ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c02493047521bab55347d4d2457b5ae">&#9670;&nbsp;</a></span>malloc_abort_invalid_conf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void malloc_abort_invalid_conf </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00898">898</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                                {</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#a398e56ddef33deda34f9a8a040e3b008">opt_abort_conf</a>);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#a7b2422411cb389953ee92174ade9fb46">malloc_printf</a>(<span class="stringliteral">&quot;&lt;jemalloc&gt;: Abort (abort_conf:true) on invalid conf &quot;</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        <span class="stringliteral">&quot;value (see above).\n&quot;</span>);</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    abort();</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;}</div>
<div class="ttc" id="ajemalloc_8c_html_a398e56ddef33deda34f9a8a040e3b008"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a398e56ddef33deda34f9a8a040e3b008">opt_abort_conf</a></div><div class="ttdeci">bool opt_abort_conf</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00039">jemalloc.c:39</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00247">malloc_printf</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00039">opt_abort_conf</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01021">malloc_conf_init_helper()</a>.</p>

</div>
</div>
<a id="a0dbb77e2b90f01d64270d30277d6a232"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dbb77e2b90f01d64270d30277d6a232">&#9670;&nbsp;</a></span>malloc_conf_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void malloc_conf_error </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>klen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>vlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00906">906</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                 {</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#a7b2422411cb389953ee92174ade9fb46">malloc_printf</a>(<span class="stringliteral">&quot;&lt;jemalloc&gt;: %s: %.*s:%.*s\n&quot;</span>, msg, (<span class="keywordtype">int</span>)klen, k,</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        (<span class="keywordtype">int</span>)vlen, v);</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <span class="comment">/* If abort_conf is set, error out after processing all options. */</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *experimental = <span class="stringliteral">&quot;experimental_&quot;</span>;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="keywordflow">if</span> (strncmp(k, experimental, strlen(experimental)) == 0) {</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        <span class="comment">/* However, tolerate experimental features. */</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    }</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#a0bd2976d700d3ae616e8d1dad50878af">had_conf_error</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;}</div>
<div class="ttc" id="ajemalloc_8c_html_a0bd2976d700d3ae616e8d1dad50878af"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a0bd2976d700d3ae616e8d1dad50878af">had_conf_error</a></div><div class="ttdeci">static bool had_conf_error</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00192">jemalloc.c:192</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00192">had_conf_error</a>, and <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00247">malloc_printf</a>.</p>

</div>
</div>
<a id="acb11fc9275df8e40d353b32c8d8716c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb11fc9275df8e40d353b32c8d8716c0">&#9670;&nbsp;</a></span>malloc_conf_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void malloc_conf_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d50/sc_8h.html#a2a21985e2ff9c14e556cb0433cde3093">sc_data_t</a> *&#160;</td>
          <td class="paramname"><em>sc_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>bin_shard_sizes</em>[SC_NBINS]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01440">1440</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;                                                                         {</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *opts_cache[<a class="code" href="../../d8/d80/jemalloc_8c.html#ac22db27019ac8c549ec10997d1509d7d">MALLOC_CONF_NSOURCES</a>] = {<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>};</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    <span class="keywordtype">char</span> buf[PATH_MAX + 1];</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160; </div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    <span class="comment">/* The first call only set the confirm_conf option and opts_cache */</span></div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#a700c764ae92430f237a3967dc9b51351">malloc_conf_init_helper</a>(<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>, <span class="keyword">true</span>, opts_cache, buf);</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#a700c764ae92430f237a3967dc9b51351">malloc_conf_init_helper</a>(sc_data, bin_shard_sizes, <span class="keyword">false</span>, opts_cache,</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;        <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;}</div>
<div class="ttc" id="ajemalloc_8c_html_a700c764ae92430f237a3967dc9b51351"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a700c764ae92430f237a3967dc9b51351">malloc_conf_init_helper</a></div><div class="ttdeci">static void malloc_conf_init_helper(sc_data_t *sc_data, unsigned bin_shard_sizes[SC_NBINS], bool initial_call, const char *opts_cache[MALLOC_CONF_NSOURCES], char buf[PATH_MAX+1])</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01021">jemalloc.c:1021</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_ac22db27019ac8c549ec10997d1509d7d"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#ac22db27019ac8c549ec10997d1509d7d">MALLOC_CONF_NSOURCES</a></div><div class="ttdeci">#define MALLOC_CONF_NSOURCES</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00935">jemalloc.c:935</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01021">malloc_conf_init_helper()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00935">MALLOC_CONF_NSOURCES</a>, and <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01479">malloc_init_hard_a0_locked()</a>.</p>

</div>
</div>
<a id="a700c764ae92430f237a3967dc9b51351"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a700c764ae92430f237a3967dc9b51351">&#9670;&nbsp;</a></span>malloc_conf_init_helper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void malloc_conf_init_helper </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d50/sc_8h.html#a2a21985e2ff9c14e556cb0433cde3093">sc_data_t</a> *&#160;</td>
          <td class="paramname"><em>sc_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>bin_shard_sizes</em>[SC_NBINS], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>initial_call</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>opts_cache</em>[MALLOC_CONF_NSOURCES], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>buf</em>[PATH_MAX+1]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01021">1021</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;                            {</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *opts_explain[<a class="code" href="../../d8/d80/jemalloc_8c.html#ac22db27019ac8c549ec10997d1509d7d">MALLOC_CONF_NSOURCES</a>] = {</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        <span class="stringliteral">&quot;string specified via --with-malloc-conf&quot;</span>,</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        <span class="stringliteral">&quot;string pointed to by the global variable malloc_conf&quot;</span>,</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        <span class="stringliteral">&quot;\&quot;name\&quot; of the file referenced by the symbolic link named &quot;</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;            <span class="stringliteral">&quot;/etc/malloc.conf&quot;</span>,</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;        <span class="stringliteral">&quot;value of the environment variable MALLOC_CONF&quot;</span></div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    };</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <span class="keywordtype">unsigned</span> i;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *opts, *k, *v;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <span class="keywordtype">size_t</span> klen, vlen;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160; </div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d8/d80/jemalloc_8c.html#ac22db27019ac8c549ec10997d1509d7d">MALLOC_CONF_NSOURCES</a>; i++) {</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;        <span class="comment">/* Get runtime configuration. */</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        <span class="keywordflow">if</span> (initial_call) {</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;            opts_cache[i] = <a class="code" href="../../d8/d80/jemalloc_8c.html#adae7e94321e7cd2c88af97c9113766cc">obtain_malloc_conf</a>(i, buf);</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;        }</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        opts = opts_cache[i];</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        <span class="keywordflow">if</span> (!initial_call &amp;&amp; <a class="code" href="../../d8/d80/jemalloc_8c.html#a48bd222d8fb563cc39f819a7b7f7f6e4">opt_confirm_conf</a>) {</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;            <a class="code" href="../../dd/de2/private__namespace_8h.html#a7b2422411cb389953ee92174ade9fb46">malloc_printf</a>(</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                <span class="stringliteral">&quot;&lt;jemalloc&gt;: malloc_conf #%u (%s): \&quot;%s\&quot;\n&quot;</span>,</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                i + 1, opts_explain[i], opts != <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a> ? opts : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        }</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        <span class="keywordflow">if</span> (opts == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>) {</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        }</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160; </div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        <span class="keywordflow">while</span> (*opts != <span class="charliteral">&#39;\0&#39;</span> &amp;&amp; !<a class="code" href="../../d8/d80/jemalloc_8c.html#a6e0739ebf372b760fae659f3bdc431c2">malloc_conf_next</a>(&amp;opts, &amp;k, &amp;klen, &amp;v,</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;            &amp;vlen)) {</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160; </div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;<span class="preprocessor">#define CONF_ERROR(msg, k, klen, v, vlen)               \</span></div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;<span class="preprocessor">            if (!initial_call) {                \</span></div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;<span class="preprocessor">                malloc_conf_error(          \</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="preprocessor">                    msg, k, klen, v, vlen);     \</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;<span class="preprocessor">                cur_opt_valid = false;          \</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;<span class="preprocessor">            }</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;<span class="preprocessor">#define CONF_CONTINUE   {                       \</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;<span class="preprocessor">                if (!initial_call &amp;&amp; opt_confirm_conf   \</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;<span class="preprocessor">                    &amp;&amp; cur_opt_valid) {         \</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;<span class="preprocessor">                    malloc_printf(&quot;&lt;jemalloc&gt;: -- &quot;</span> \</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;                        &quot;Set conf value: %.*s:%.*s&quot; \</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                        &quot;\n&quot;, (int)klen, k,     \</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                        (int)vlen, v);      \</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;                }                   \</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;                continue;               \</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;            }</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;<span class="preprocessor">#define CONF_MATCH(n)                           \</span></div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;<span class="preprocessor">    (sizeof(n)-1 == klen &amp;&amp; strncmp(n, k, klen) == 0)</span></div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;<span class="preprocessor">#define CONF_MATCH_VALUE(n)                     \</span></div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;<span class="preprocessor">    (sizeof(n)-1 == vlen &amp;&amp; strncmp(n, v, vlen) == 0)</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;<span class="preprocessor">#define CONF_HANDLE_BOOL(o, n)                      \</span></div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="preprocessor">            if (CONF_MATCH(n)) {                \</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;<span class="preprocessor">                if (CONF_MATCH_VALUE(&quot;true&quot;</span>)) {     \</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;                    o = true;           \</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                } else if (CONF_MATCH_VALUE(&quot;false&quot;)) { \</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;                    o = false;          \</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                } else {                \</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                    CONF_ERROR(&quot;Invalid conf value&quot;,\</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;                        k, klen, v, vlen);      \</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                }                   \</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                CONF_CONTINUE;              \</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;            }</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;      <span class="comment">/*</span></div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;<span class="comment">       * One of the CONF_MIN macros below expands, in one of the use points,</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;<span class="comment">       * to &quot;unsigned integer &lt; 0&quot;, which is always false, triggering the</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;<span class="comment">       * GCC -Wtype-limits warning, which we disable here and re-enable below.</span></div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;<span class="comment">       */</span></div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;      <a class="code" href="../../db/d61/jemalloc__internal__macros_8h.html#acb2c2ec9dcc349dd329132c03bbe1010">JEMALLOC_DIAGNOSTIC_PUSH</a></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;      <a class="code" href="../../db/d61/jemalloc__internal__macros_8h.html#ab47ca7c28ab3b92dd5bca1c1302d532a">JEMALLOC_DIAGNOSTIC_IGNORE_TYPE_LIMITS</a></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160; </div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;<span class="preprocessor">#define CONF_DONT_CHECK_MIN(um, min)    false</span></div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;<span class="preprocessor">#define CONF_CHECK_MIN(um, min) ((um) &lt; (min))</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<span class="preprocessor">#define CONF_DONT_CHECK_MAX(um, max)    false</span></div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;<span class="preprocessor">#define CONF_CHECK_MAX(um, max) ((um) &gt; (max))</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;<span class="preprocessor">#define CONF_HANDLE_T_U(t, o, n, min, max, check_min, check_max, clip)  \</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;<span class="preprocessor">            if (CONF_MATCH(n)) {                \</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;<span class="preprocessor">                uintmax_t um;               \</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;<span class="preprocessor">                char *end;              \</span></div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;<span class="preprocessor">                                    \</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;<span class="preprocessor">                set_errno(0);               \</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;<span class="preprocessor">                um = malloc_strtoumax(v, &amp;end, 0);  \</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;<span class="preprocessor">                if (get_errno() != 0 || (uintptr_t)end -\</span></div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;<span class="preprocessor">                    (uintptr_t)v != vlen) {     \</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;<span class="preprocessor">                    CONF_ERROR(&quot;Invalid conf value&quot;</span>,\</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;                        k, klen, v, vlen);      \</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;                } else if (clip) {          \</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;                    if (check_min(um, (t)(min))) {  \</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;                        o = (t)(min);       \</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;                    } else if (         \</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;                        check_max(um, (t)(max))) {  \</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;                        o = (t)(max);       \</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;                    } else {            \</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;                        o = (t)um;      \</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;                    }               \</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;                } else {                \</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;                    if (check_min(um, (t)(min)) ||  \</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                        check_max(um, (t)(max))) {  \</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                        CONF_ERROR(     \</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                            &quot;Out-of-range &quot; \</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                            &quot;conf value&quot;,   \</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;                            k, klen, v, vlen);  \</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;                    } else {            \</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                        o = (t)um;      \</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;                    }               \</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                }                   \</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;                CONF_CONTINUE;              \</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;            }</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;<span class="preprocessor">#define CONF_HANDLE_UNSIGNED(o, n, min, max, check_min, check_max,  \</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;<span class="preprocessor">    clip)                               \</span></div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;<span class="preprocessor">            CONF_HANDLE_T_U(unsigned, o, n, min, max,   \</span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;<span class="preprocessor">                check_min, check_max, clip)</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;<span class="preprocessor">#define CONF_HANDLE_SIZE_T(o, n, min, max, check_min, check_max, clip)  \</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;<span class="preprocessor">            CONF_HANDLE_T_U(size_t, o, n, min, max,     \</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;<span class="preprocessor">                check_min, check_max, clip)</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;<span class="preprocessor">#define CONF_HANDLE_SSIZE_T(o, n, min, max)             \</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;<span class="preprocessor">            if (CONF_MATCH(n)) {                \</span></div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;<span class="preprocessor">                long l;                 \</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;<span class="preprocessor">                char *end;              \</span></div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;<span class="preprocessor">                                    \</span></div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;<span class="preprocessor">                set_errno(0);               \</span></div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;<span class="preprocessor">                l = strtol(v, &amp;end, 0);         \</span></div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;<span class="preprocessor">                if (get_errno() != 0 || (uintptr_t)end -\</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;<span class="preprocessor">                    (uintptr_t)v != vlen) {     \</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;<span class="preprocessor">                    CONF_ERROR(&quot;Invalid conf value&quot;</span>,\</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;                        k, klen, v, vlen);      \</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;                } else if (l &lt; (ssize_t)(min) || l &gt;    \</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;                    (ssize_t)(max)) {           \</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;                    CONF_ERROR(         \</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                        &quot;Out-of-range conf value&quot;,  \</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;                        k, klen, v, vlen);      \</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;                } else {                \</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;                    o = l;              \</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;                }                   \</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                CONF_CONTINUE;              \</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;            }</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;<span class="preprocessor">#define CONF_HANDLE_CHAR_P(o, n, d)                 \</span></div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;<span class="preprocessor">            if (CONF_MATCH(n)) {                \</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;<span class="preprocessor">                size_t cpylen = (vlen &lt;=        \</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;<span class="preprocessor">                    sizeof(o)-1) ? vlen :       \</span></div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;<span class="preprocessor">                    sizeof(o)-1;            \</span></div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;<span class="preprocessor">                strncpy(o, v, cpylen);          \</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;<span class="preprocessor">                o[cpylen] = &#39;\0&#39;;           \</span></div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;<span class="preprocessor">                CONF_CONTINUE;              \</span></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;<span class="preprocessor">            }</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160; </div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;            <span class="keywordtype">bool</span> cur_opt_valid = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160; </div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;            <a class="code" href="../../d8/d80/jemalloc_8c.html#a5540c28741aa39b34c2a8a2a9a605e73">CONF_HANDLE_BOOL</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#a48bd222d8fb563cc39f819a7b7f7f6e4">opt_confirm_conf</a>, <span class="stringliteral">&quot;confirm_conf&quot;</span>)</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;            <a class="code" href="../../dd/d68/_c_make_lists_8txt.html#a0b5da418382bdd0db6dff439e2863979">if</a> (initial_call) {</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;            }</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160; </div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;            <a class="code" href="../../d8/d80/jemalloc_8c.html#a5540c28741aa39b34c2a8a2a9a605e73">CONF_HANDLE_BOOL</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#a7c1b61d3016ffe1bb7daf5d000c14ab9">opt_abort</a>, <span class="stringliteral">&quot;abort&quot;</span>)</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;            <a class="code" href="../../d8/d80/jemalloc_8c.html#a5540c28741aa39b34c2a8a2a9a605e73">CONF_HANDLE_BOOL</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#a398e56ddef33deda34f9a8a040e3b008">opt_abort_conf</a>, &quot;abort_conf&quot;)</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;            <a class="code" href="../../dd/d68/_c_make_lists_8txt.html#a0b5da418382bdd0db6dff439e2863979">if</a> (strncmp(&quot;metadata_thp&quot;, k, klen) == 0) {</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;                <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;                <span class="keywordtype">bool</span> match = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;                <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d8/da0/base__types_8h.html#ac12017649aa54eb1e31efff5de942d84aeaa0856861105ee37fcb97b690185d84">metadata_thp_mode_limit</a>; i++) {</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;                    <span class="keywordflow">if</span> (strncmp(<a class="code" href="../../dd/de2/private__namespace_8h.html#ae8cd61f0e332a4b519ae317db6979a89">metadata_thp_mode_names</a>[i],</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                        v, vlen) == 0) {</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;                        <a class="code" href="../../dd/de2/private__namespace_8h.html#aa5912922eca3638b5b38692b301fa807">opt_metadata_thp</a> = i;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;                        match = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;                    }</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;                }</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                <span class="keywordflow">if</span> (!match) {</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                    <a class="code" href="../../d8/d80/jemalloc_8c.html#adc82e6bbf4b5be96087f18ffaed6da5c">CONF_ERROR</a>(<span class="stringliteral">&quot;Invalid conf value&quot;</span>,</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;                        k, klen, v, vlen);</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                }</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;                <a class="code" href="../../d8/d80/jemalloc_8c.html#afc7d87677ec3b88c2102fb9aaf1a2fdb">CONF_CONTINUE</a>;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;            }</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;            <a class="code" href="../../d8/d80/jemalloc_8c.html#a5540c28741aa39b34c2a8a2a9a605e73">CONF_HANDLE_BOOL</a>(<a class="code" href="../../dd/de2/private__namespace_8h.html#a45bd8956f53742c7f4149e49249dcb1b">opt_retain</a>, <span class="stringliteral">&quot;retain&quot;</span>)</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;            <a class="code" href="../../dd/d68/_c_make_lists_8txt.html#a0b5da418382bdd0db6dff439e2863979">if</a> (strncmp(&quot;dss&quot;, k, klen) == 0) {</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;                <span class="keywordtype">bool</span> match = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;                <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d3/ddd/extent__dss_8h.html#a2bc227b5562a4341edd876b0183617e0a71ac1b10dd8056b239c280c421fb6567">dss_prec_limit</a>; i++) {</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;                    <span class="keywordflow">if</span> (strncmp(<a class="code" href="../../dd/de2/private__namespace_8h.html#a3bd8b19b3b0aef2c0801425b2fc49e69">dss_prec_names</a>[i], v, vlen)</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;                        == 0) {</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../dd/de2/private__namespace_8h.html#a59ea4fdb72a164d952524d684e0c7147">extent_dss_prec_set</a>(i)) {</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;                            <a class="code" href="../../d8/d80/jemalloc_8c.html#adc82e6bbf4b5be96087f18ffaed6da5c">CONF_ERROR</a>(</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;                                <span class="stringliteral">&quot;Error setting dss&quot;</span>,</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;                                k, klen, v, vlen);</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;                            <a class="code" href="../../dd/de2/private__namespace_8h.html#aeb6121e4adcec22e53cecd1048da70f4">opt_dss</a> =</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;                                <a class="code" href="../../dd/de2/private__namespace_8h.html#a3bd8b19b3b0aef2c0801425b2fc49e69">dss_prec_names</a>[i];</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;                            match = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;                        }</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;                    }</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;                }</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;                <span class="keywordflow">if</span> (!match) {</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;                    <a class="code" href="../../d8/d80/jemalloc_8c.html#adc82e6bbf4b5be96087f18ffaed6da5c">CONF_ERROR</a>(<span class="stringliteral">&quot;Invalid conf value&quot;</span>,</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;                        k, klen, v, vlen);</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;                }</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;                <a class="code" href="../../d8/d80/jemalloc_8c.html#afc7d87677ec3b88c2102fb9aaf1a2fdb">CONF_CONTINUE</a>;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;            }</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;            <a class="code" href="../../d8/d80/jemalloc_8c.html#ac693bc5ba5788399a6409a258e558166">CONF_HANDLE_UNSIGNED</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#a98f27264f740a00e1c9acfc795862a73">opt_narenas</a>, <span class="stringliteral">&quot;narenas&quot;</span>, 1,</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;                UINT_MAX, <a class="code" href="../../d8/d80/jemalloc_8c.html#a9357f99d76f60cf152a2924be0c61be2">CONF_CHECK_MIN</a>, <a class="code" href="../../d8/d80/jemalloc_8c.html#a95ce7c59321cc3cd5aeb14f80d46c95f">CONF_DONT_CHECK_MAX</a>,</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;                <span class="keyword">false</span>)</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;            <a class="code" href="../../dd/d68/_c_make_lists_8txt.html#a0b5da418382bdd0db6dff439e2863979">if</a> (<a class="code" href="../../d8/d80/jemalloc_8c.html#a865ae75505501aae4d21b77c92dc841c">CONF_MATCH</a>(&quot;bin_shards&quot;)) {</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">char</span> *bin_shards_segment_cur = v;</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;                <span class="keywordtype">size_t</span> vlen_left = vlen;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;                <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;                    <span class="keywordtype">size_t</span> size_start;</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;                    <span class="keywordtype">size_t</span> size_end;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;                    <span class="keywordtype">size_t</span> nshards;</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;                    <span class="keywordtype">bool</span> err = <a class="code" href="../../d8/d80/jemalloc_8c.html#a1d90b5fac834c14f5f2235e3e61b4040">malloc_conf_multi_sizes_next</a>(</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;                        &amp;bin_shards_segment_cur, &amp;vlen_left,</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;                        &amp;size_start, &amp;size_end, &amp;nshards);</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;                    <span class="keywordflow">if</span> (err || <a class="code" href="../../dd/de2/private__namespace_8h.html#a55e96011ee9e96ca7a196576c1c0e5c5">bin_update_shard_size</a>(</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;                        bin_shard_sizes, size_start,</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;                        size_end, nshards)) {</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;                        <a class="code" href="../../d8/d80/jemalloc_8c.html#adc82e6bbf4b5be96087f18ffaed6da5c">CONF_ERROR</a>(</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;                            <span class="stringliteral">&quot;Invalid settings for &quot;</span></div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;                            <span class="stringliteral">&quot;bin_shards&quot;</span>, k, klen, v,</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;                            vlen);</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;                    }</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;                } <span class="keywordflow">while</span> (vlen_left &gt; 0);</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;                <a class="code" href="../../d8/d80/jemalloc_8c.html#afc7d87677ec3b88c2102fb9aaf1a2fdb">CONF_CONTINUE</a>;</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;            }</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;            <a class="code" href="../../d8/d80/jemalloc_8c.html#a1eb604d85b3b2b97aaa3c3f96c4cf2c5">CONF_HANDLE_SSIZE_T</a>(<a class="code" href="../../dd/de2/private__namespace_8h.html#aba72f16f1eee3212f8cf859df5d9fc3b">opt_dirty_decay_ms</a>,</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;                <span class="stringliteral">&quot;dirty_decay_ms&quot;</span>, -1, <a class="code" href="../../da/d92/nstime_8h.html#a93c63edfd275de53cc19e4b7c150d651">NSTIME_SEC_MAX</a> * <a class="code" href="../../db/d61/jemalloc__internal__macros_8h.html#a332380e4fe9662cd89cae74018d4c31f">KQU</a>(1000) &lt;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;                <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a0977e972a64806265f5d0bdb151ee839">QU</a>(<a class="code" href="../../d2/d46/jemalloc__internal__decls_8h.html#a2d6569aa794c2f23e90691e60d2f3ad2">SSIZE_MAX</a>) ? <a class="code" href="../../da/d92/nstime_8h.html#a93c63edfd275de53cc19e4b7c150d651">NSTIME_SEC_MAX</a> * <a class="code" href="../../db/d61/jemalloc__internal__macros_8h.html#a332380e4fe9662cd89cae74018d4c31f">KQU</a>(1000) :</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;                <a class="code" href="../../d2/d46/jemalloc__internal__decls_8h.html#a2d6569aa794c2f23e90691e60d2f3ad2">SSIZE_MAX</a>);</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;            <a class="code" href="../../d8/d80/jemalloc_8c.html#a1eb604d85b3b2b97aaa3c3f96c4cf2c5">CONF_HANDLE_SSIZE_T</a>(<a class="code" href="../../dd/de2/private__namespace_8h.html#a4c9a4557075ca3b95bfcc202085e2277">opt_muzzy_decay_ms</a>,</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;                <span class="stringliteral">&quot;muzzy_decay_ms&quot;</span>, -1, <a class="code" href="../../da/d92/nstime_8h.html#a93c63edfd275de53cc19e4b7c150d651">NSTIME_SEC_MAX</a> * <a class="code" href="../../db/d61/jemalloc__internal__macros_8h.html#a332380e4fe9662cd89cae74018d4c31f">KQU</a>(1000) &lt;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;                <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a0977e972a64806265f5d0bdb151ee839">QU</a>(<a class="code" href="../../d2/d46/jemalloc__internal__decls_8h.html#a2d6569aa794c2f23e90691e60d2f3ad2">SSIZE_MAX</a>) ? <a class="code" href="../../da/d92/nstime_8h.html#a93c63edfd275de53cc19e4b7c150d651">NSTIME_SEC_MAX</a> * <a class="code" href="../../db/d61/jemalloc__internal__macros_8h.html#a332380e4fe9662cd89cae74018d4c31f">KQU</a>(1000) :</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;                <a class="code" href="../../d2/d46/jemalloc__internal__decls_8h.html#a2d6569aa794c2f23e90691e60d2f3ad2">SSIZE_MAX</a>);</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;            <a class="code" href="../../d8/d80/jemalloc_8c.html#a5540c28741aa39b34c2a8a2a9a605e73">CONF_HANDLE_BOOL</a>(<a class="code" href="../../dd/de2/private__namespace_8h.html#a6c77d6ae00ae4f976249319555ae2efa">opt_stats_print</a>, <span class="stringliteral">&quot;stats_print&quot;</span>)</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;            <a class="code" href="../../dd/d68/_c_make_lists_8txt.html#a0b5da418382bdd0db6dff439e2863979">if</a> (<a class="code" href="../../d8/d80/jemalloc_8c.html#a865ae75505501aae4d21b77c92dc841c">CONF_MATCH</a>(&quot;stats_print_opts&quot;)) {</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;                <a class="code" href="../../d8/d80/jemalloc_8c.html#a9f7c08580dd383f37407183db1d72b65">init_opt_stats_print_opts</a>(v, vlen);</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;                <a class="code" href="../../d8/d80/jemalloc_8c.html#afc7d87677ec3b88c2102fb9aaf1a2fdb">CONF_CONTINUE</a>;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;            }</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae748e1d523f2898bc177b42c1c14fa0f">config_fill</a>) {</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#a865ae75505501aae4d21b77c92dc841c">CONF_MATCH</a>(<span class="stringliteral">&quot;junk&quot;</span>)) {</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#af7cba9b4231871a5bcfc900faf555263">CONF_MATCH_VALUE</a>(<span class="stringliteral">&quot;true&quot;</span>)) {</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;                        <a class="code" href="../../d8/d80/jemalloc_8c.html#a5c3466e5c6fccbbcbbed933dc0264484">opt_junk</a> = <span class="stringliteral">&quot;true&quot;</span>;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;                        <a class="code" href="../../d8/d80/jemalloc_8c.html#a9ccae085c69622115282f8427ddcf17e">opt_junk_alloc</a> = <a class="code" href="../../d8/d80/jemalloc_8c.html#aff6fd647d678b35e59a0ab748d1314df">opt_junk_free</a> =</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;                            <span class="keyword">true</span>;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#af7cba9b4231871a5bcfc900faf555263">CONF_MATCH_VALUE</a>(<span class="stringliteral">&quot;false&quot;</span>)) {</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;                        <a class="code" href="../../d8/d80/jemalloc_8c.html#a5c3466e5c6fccbbcbbed933dc0264484">opt_junk</a> = <span class="stringliteral">&quot;false&quot;</span>;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;                        <a class="code" href="../../d8/d80/jemalloc_8c.html#a9ccae085c69622115282f8427ddcf17e">opt_junk_alloc</a> = <a class="code" href="../../d8/d80/jemalloc_8c.html#aff6fd647d678b35e59a0ab748d1314df">opt_junk_free</a> =</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;                            <span class="keyword">false</span>;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#af7cba9b4231871a5bcfc900faf555263">CONF_MATCH_VALUE</a>(<span class="stringliteral">&quot;alloc&quot;</span>)) {</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;                        <a class="code" href="../../d8/d80/jemalloc_8c.html#a5c3466e5c6fccbbcbbed933dc0264484">opt_junk</a> = <span class="stringliteral">&quot;alloc&quot;</span>;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;                        <a class="code" href="../../d8/d80/jemalloc_8c.html#a9ccae085c69622115282f8427ddcf17e">opt_junk_alloc</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;                        <a class="code" href="../../d8/d80/jemalloc_8c.html#aff6fd647d678b35e59a0ab748d1314df">opt_junk_free</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#af7cba9b4231871a5bcfc900faf555263">CONF_MATCH_VALUE</a>(<span class="stringliteral">&quot;free&quot;</span>)) {</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;                        <a class="code" href="../../d8/d80/jemalloc_8c.html#a5c3466e5c6fccbbcbbed933dc0264484">opt_junk</a> = <span class="stringliteral">&quot;free&quot;</span>;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;                        <a class="code" href="../../d8/d80/jemalloc_8c.html#a9ccae085c69622115282f8427ddcf17e">opt_junk_alloc</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;                        <a class="code" href="../../d8/d80/jemalloc_8c.html#aff6fd647d678b35e59a0ab748d1314df">opt_junk_free</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;                        <a class="code" href="../../d8/d80/jemalloc_8c.html#adc82e6bbf4b5be96087f18ffaed6da5c">CONF_ERROR</a>(</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;                            <span class="stringliteral">&quot;Invalid conf value&quot;</span>,</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;                            k, klen, v, vlen);</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;                    }</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;                    <a class="code" href="../../d8/d80/jemalloc_8c.html#afc7d87677ec3b88c2102fb9aaf1a2fdb">CONF_CONTINUE</a>;</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;                }</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;                <a class="code" href="../../d8/d80/jemalloc_8c.html#a5540c28741aa39b34c2a8a2a9a605e73">CONF_HANDLE_BOOL</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#a62715b37c6bb7259dc4b1b52a2294080">opt_zero</a>, <span class="stringliteral">&quot;zero&quot;</span>)</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;            }</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a041f85be38eed30f494804db7975ad97">config_utrace</a>) {</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;                <a class="code" href="../../d8/d80/jemalloc_8c.html#a5540c28741aa39b34c2a8a2a9a605e73">CONF_HANDLE_BOOL</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#a56da2438511aa30130f1034b635452ba">opt_utrace</a>, <span class="stringliteral">&quot;utrace&quot;</span>)</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;            }</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ac5fef66aba0898411be771980aef22c8">config_xmalloc</a>) {</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;                <a class="code" href="../../d8/d80/jemalloc_8c.html#a5540c28741aa39b34c2a8a2a9a605e73">CONF_HANDLE_BOOL</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#abb699624a4c15add503df6cb54a5132e">opt_xmalloc</a>, <span class="stringliteral">&quot;xmalloc&quot;</span>)</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;            }</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;            <a class="code" href="../../d8/d80/jemalloc_8c.html#a5540c28741aa39b34c2a8a2a9a605e73">CONF_HANDLE_BOOL</a>(<a class="code" href="../../dd/de2/private__namespace_8h.html#a22c56e9f51175367d74654631cfeaaba">opt_tcache</a>, <span class="stringliteral">&quot;tcache&quot;</span>)</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;            <a class="code" href="../../d8/d80/jemalloc_8c.html#a1eb604d85b3b2b97aaa3c3f96c4cf2c5">CONF_HANDLE_SSIZE_T</a>(<a class="code" href="../../dd/de2/private__namespace_8h.html#a82e336e7e22d38afd1121a0ac423b0ba">opt_lg_tcache_max</a>, &quot;lg_tcache_max&quot;,</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;                -1, (sizeof(<span class="keywordtype">size_t</span>) &lt;&lt; 3) - 1)</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160; </div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;            <span class="comment">/*</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;<span class="comment">             * The runtime option of oversize_threshold remains</span></div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;<span class="comment">             * undocumented.  It may be tweaked in the next major</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;<span class="comment">             * release (6.0).  The default value 8M is rather</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;<span class="comment">             * conservative / safe.  Tuning it further down may</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;<span class="comment">             * improve fragmentation a bit more, but may also cause</span></div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;<span class="comment">             * contention on the huge arena.</span></div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;            <a class="code" href="../../d8/d80/jemalloc_8c.html#a285632ddc2228220acc4245a16239c3a">CONF_HANDLE_SIZE_T</a>(<a class="code" href="../../dd/de2/private__namespace_8h.html#aa8c8436304e2a98194c14c8356c05536">opt_oversize_threshold</a>,</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;                &quot;<a class="code" href="../../dd/de2/private__namespace_8h.html#a23a001a697f4306216ebf02ef871121d">oversize_threshold</a>&quot;, 0, <a class="code" href="../../d9/d50/sc_8h.html#ac66e2f56f4f0411ca5d5c3444ba4d491">SC_LARGE_MAXCLASS</a>,</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;                <a class="code" href="../../d8/d80/jemalloc_8c.html#a90de27f4b8326502dc65b7057ab586d7">CONF_DONT_CHECK_MIN</a>, <a class="code" href="../../d8/d80/jemalloc_8c.html#a56ea703d09898b2be7228ef705cddb51">CONF_CHECK_MAX</a>, <a class="code" href="../../db/def/_c99_2stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>)</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;            <a class="code" href="../../d8/d80/jemalloc_8c.html#a285632ddc2228220acc4245a16239c3a">CONF_HANDLE_SIZE_T</a>(<a class="code" href="../../dd/de2/private__namespace_8h.html#ab9815f66c557ca57a8963a0b20abdb4d">opt_lg_extent_max_active_fit</a>,</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;                &quot;lg_extent_max_active_fit&quot;, 0,</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;                (sizeof(<span class="keywordtype">size_t</span>) &lt;&lt; 3), <a class="code" href="../../d8/d80/jemalloc_8c.html#a90de27f4b8326502dc65b7057ab586d7">CONF_DONT_CHECK_MIN</a>,</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;                <a class="code" href="../../d8/d80/jemalloc_8c.html#a56ea703d09898b2be7228ef705cddb51">CONF_CHECK_MAX</a>, <a class="code" href="../../db/def/_c99_2stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>)</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160; </div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;            <a class="code" href="../../dd/d68/_c_make_lists_8txt.html#a0b5da418382bdd0db6dff439e2863979">if</a> (strncmp(&quot;<a class="code" href="../../d8/d5e/arena__types_8h.html#a8fefe7a12391be829a0a5bd781ec8528abfc3737c73f305abb51c81a1957fe62c">percpu_arena</a>&quot;, k, klen) == 0) {</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;                <span class="keywordtype">bool</span> match = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = <a class="code" href="../../d8/d5e/arena__types_8h.html#a8fefe7a12391be829a0a5bd781ec8528aa90a04509ebb9952ad0fb4ff4a7c7e3f">percpu_arena_mode_names_base</a>; i &lt;</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;                    <a class="code" href="../../d8/d5e/arena__types_8h.html#a8fefe7a12391be829a0a5bd781ec8528ac6c977494727460f12a68bf38231685a">percpu_arena_mode_names_limit</a>; i++) {</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;                    <span class="keywordflow">if</span> (strncmp(<a class="code" href="../../dd/de2/private__namespace_8h.html#a8e77601e7f095c864ed585f812e1b53b">percpu_arena_mode_names</a>[i],</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;                        v, vlen) == 0) {</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;                        <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d18/jemalloc__preamble_8h.html#abb215e7e187d8b6867f30acad5005dfb">have_percpu_arena</a>) {</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;                            <a class="code" href="../../d8/d80/jemalloc_8c.html#adc82e6bbf4b5be96087f18ffaed6da5c">CONF_ERROR</a>(</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;                                <span class="stringliteral">&quot;No getcpu support&quot;</span>,</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;                                k, klen, v, vlen);</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;                        }</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;                        <a class="code" href="../../dd/de2/private__namespace_8h.html#a46bd2d47e523e083522bdb5f03c607b7">opt_percpu_arena</a> = i;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;                        match = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;                    }</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;                }</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;                <span class="keywordflow">if</span> (!match) {</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;                    <a class="code" href="../../d8/d80/jemalloc_8c.html#adc82e6bbf4b5be96087f18ffaed6da5c">CONF_ERROR</a>(<span class="stringliteral">&quot;Invalid conf value&quot;</span>,</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;                        k, klen, v, vlen);</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;                }</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;                <a class="code" href="../../d8/d80/jemalloc_8c.html#afc7d87677ec3b88c2102fb9aaf1a2fdb">CONF_CONTINUE</a>;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;            }</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;            <a class="code" href="../../d8/d80/jemalloc_8c.html#a5540c28741aa39b34c2a8a2a9a605e73">CONF_HANDLE_BOOL</a>(<a class="code" href="../../dd/de2/private__namespace_8h.html#a7be114138704da701acb29c82942e61f">opt_background_thread</a>,</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;                <span class="stringliteral">&quot;background_thread&quot;</span>);</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;            <a class="code" href="../../d8/d80/jemalloc_8c.html#a285632ddc2228220acc4245a16239c3a">CONF_HANDLE_SIZE_T</a>(<a class="code" href="../../dd/de2/private__namespace_8h.html#a7b82ae2ae72a76ac1683fb4d341373b8">opt_max_background_threads</a>,</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;                       <span class="stringliteral">&quot;max_background_threads&quot;</span>, 1,</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                       <a class="code" href="../../dd/de2/private__namespace_8h.html#a7b82ae2ae72a76ac1683fb4d341373b8">opt_max_background_threads</a>,</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;                       <a class="code" href="../../d8/d80/jemalloc_8c.html#a9357f99d76f60cf152a2924be0c61be2">CONF_CHECK_MIN</a>, <a class="code" href="../../d8/d80/jemalloc_8c.html#a56ea703d09898b2be7228ef705cddb51">CONF_CHECK_MAX</a>,</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                       <span class="keyword">true</span>);</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#a865ae75505501aae4d21b77c92dc841c">CONF_MATCH</a>(<span class="stringliteral">&quot;slab_sizes&quot;</span>)) {</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;                <span class="keywordtype">bool</span> err;</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">char</span> *slab_size_segment_cur = v;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;                <span class="keywordtype">size_t</span> vlen_left = vlen;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;                <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                    <span class="keywordtype">size_t</span> slab_start;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;                    <span class="keywordtype">size_t</span> slab_end;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;                    <span class="keywordtype">size_t</span> pgs;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;                    err = <a class="code" href="../../d8/d80/jemalloc_8c.html#a1d90b5fac834c14f5f2235e3e61b4040">malloc_conf_multi_sizes_next</a>(</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;                        &amp;slab_size_segment_cur,</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;                        &amp;vlen_left, &amp;slab_start, &amp;slab_end,</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;                        &amp;pgs);</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;                    <span class="keywordflow">if</span> (!err) {</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;                        <a class="code" href="../../dd/de2/private__namespace_8h.html#ac84ea5f7c633b0e76f62e8bc622ac8b1">sc_data_update_slab_size</a>(</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;                            sc_data, slab_start,</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                            slab_end, (<span class="keywordtype">int</span>)pgs);</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;                        <a class="code" href="../../d8/d80/jemalloc_8c.html#adc82e6bbf4b5be96087f18ffaed6da5c">CONF_ERROR</a>(<span class="stringliteral">&quot;Invalid settings &quot;</span></div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;                            <span class="stringliteral">&quot;for slab_sizes&quot;</span>,</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;                            k, klen, v, vlen);</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;                    }</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;                } <span class="keywordflow">while</span> (!err &amp;&amp; vlen_left &gt; 0);</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;                <a class="code" href="../../d8/d80/jemalloc_8c.html#afc7d87677ec3b88c2102fb9aaf1a2fdb">CONF_CONTINUE</a>;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;            }</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a6bba19605480b2588c644265529447c2">config_prof</a>) {</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;                <a class="code" href="../../d8/d80/jemalloc_8c.html#a5540c28741aa39b34c2a8a2a9a605e73">CONF_HANDLE_BOOL</a>(<a class="code" href="../../dd/de2/private__namespace_8h.html#a547467db6ef3d75a6303c08d90ff1307">opt_prof</a>, <span class="stringliteral">&quot;prof&quot;</span>)</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;                <a class="code" href="../../d8/d80/jemalloc_8c.html#a2f39a8f55c52bab1dde2a7785424dafc">CONF_HANDLE_CHAR_P</a>(<a class="code" href="../../dd/de2/private__namespace_8h.html#a3e598918a5efae6170438e2b58e727ca">opt_prof_prefix</a>,</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;                    &quot;prof_prefix&quot;, &quot;jeprof&quot;)</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;                <a class="code" href="../../d8/d80/jemalloc_8c.html#a5540c28741aa39b34c2a8a2a9a605e73">CONF_HANDLE_BOOL</a>(<a class="code" href="../../dd/de2/private__namespace_8h.html#a61d04e326f0f105e3094af08838acda7">opt_prof_active</a>, &quot;<a class="code" href="../../dd/de2/private__namespace_8h.html#adaf0a6593dc0aba6c0064e2202b0b5ff">prof_active</a>&quot;)</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;                <a class="code" href="../../d8/d80/jemalloc_8c.html#a5540c28741aa39b34c2a8a2a9a605e73">CONF_HANDLE_BOOL</a>(<a class="code" href="../../dd/de2/private__namespace_8h.html#a92cc1addcbfa8675bb8afc5d12c9736c">opt_prof_thread_active_init</a>,</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;                    &quot;<a class="code" href="../../df/d31/prof_8c.html#a03a675e798d372efd2c27a2e1c9cffcb">prof_thread_active_init</a>&quot;)</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;                <a class="code" href="../../d8/d80/jemalloc_8c.html#a285632ddc2228220acc4245a16239c3a">CONF_HANDLE_SIZE_T</a>(<a class="code" href="../../dd/de2/private__namespace_8h.html#a9a2e62aa0a1f0bf4cd1d8812353339f8">opt_lg_prof_sample</a>,</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;                    &quot;<a class="code" href="../../dd/de2/private__namespace_8h.html#a62d5bba047c36b5e05364155060745e7">lg_prof_sample</a>&quot;, 0, (sizeof(<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a>) &lt;&lt; 3)</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;                    - 1, <a class="code" href="../../d8/d80/jemalloc_8c.html#a90de27f4b8326502dc65b7057ab586d7">CONF_DONT_CHECK_MIN</a>, <a class="code" href="../../d8/d80/jemalloc_8c.html#a56ea703d09898b2be7228ef705cddb51">CONF_CHECK_MAX</a>,</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;                    <a class="code" href="../../db/def/_c99_2stdbool_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a>)</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;                <a class="code" href="../../d8/d80/jemalloc_8c.html#a5540c28741aa39b34c2a8a2a9a605e73">CONF_HANDLE_BOOL</a>(<a class="code" href="../../dd/de2/private__namespace_8h.html#a5fa8c8b20cea1cd00b25402af5c71ec1">opt_prof_accum</a>, &quot;prof_accum&quot;)</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;                <a class="code" href="../../d8/d80/jemalloc_8c.html#a1eb604d85b3b2b97aaa3c3f96c4cf2c5">CONF_HANDLE_SSIZE_T</a>(<a class="code" href="../../dd/de2/private__namespace_8h.html#a91d02436b0db8a4ce097bcd556f08c60">opt_lg_prof_interval</a>,</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;                    &quot;lg_prof_interval&quot;, -1,</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;                    (sizeof(<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a>) &lt;&lt; 3) - 1)</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;                <a class="code" href="../../d8/d80/jemalloc_8c.html#a5540c28741aa39b34c2a8a2a9a605e73">CONF_HANDLE_BOOL</a>(<a class="code" href="../../dd/de2/private__namespace_8h.html#a617dee53a4ebc4a51774c5f18ca69708">opt_prof_gdump</a>, &quot;<a class="code" href="../../dd/de2/private__namespace_8h.html#a76dda0eb2c1466eeea1e1b50f5366f49">prof_gdump</a>&quot;)</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;                <a class="code" href="../../d8/d80/jemalloc_8c.html#a5540c28741aa39b34c2a8a2a9a605e73">CONF_HANDLE_BOOL</a>(<a class="code" href="../../dd/de2/private__namespace_8h.html#a0c4a1eb3c8827016062439ac27858521">opt_prof_final</a>, &quot;prof_final&quot;)</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;                <a class="code" href="../../d8/d80/jemalloc_8c.html#a5540c28741aa39b34c2a8a2a9a605e73">CONF_HANDLE_BOOL</a>(<a class="code" href="../../dd/de2/private__namespace_8h.html#a4bcf188105b8a74a0c08961f9e9c10c2">opt_prof_leak</a>, &quot;prof_leak&quot;)</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;                <a class="code" href="../../d8/d80/jemalloc_8c.html#a5540c28741aa39b34c2a8a2a9a605e73">CONF_HANDLE_BOOL</a>(<a class="code" href="../../dd/de2/private__namespace_8h.html#a57b1aa44caeb0471e167f59a6804c655">opt_prof_log</a>, &quot;prof_log&quot;)</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;            }</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;            <a class="code" href="../../dd/d68/_c_make_lists_8txt.html#a0b5da418382bdd0db6dff439e2863979">if</a> (<a class="code" href="../../d1/d18/jemalloc__preamble_8h.html#a462a5097a4a295761c1f415041123139">config_log</a>) {</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#a865ae75505501aae4d21b77c92dc841c">CONF_MATCH</a>(<span class="stringliteral">&quot;log&quot;</span>)) {</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;                    <span class="keywordtype">size_t</span> cpylen = (</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;                        vlen &lt;= <span class="keyword">sizeof</span>(<a class="code" href="../../dd/de2/private__namespace_8h.html#acd3f3a3ada8a2a87314b8e693efd3208">log_var_names</a>) ?</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;                        vlen : <span class="keyword">sizeof</span>(<a class="code" href="../../dd/de2/private__namespace_8h.html#acd3f3a3ada8a2a87314b8e693efd3208">log_var_names</a>) - 1);</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;                    strncpy(<a class="code" href="../../dd/de2/private__namespace_8h.html#acd3f3a3ada8a2a87314b8e693efd3208">log_var_names</a>, v, cpylen);</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;                    <a class="code" href="../../dd/de2/private__namespace_8h.html#acd3f3a3ada8a2a87314b8e693efd3208">log_var_names</a>[cpylen] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;                    <a class="code" href="../../d8/d80/jemalloc_8c.html#afc7d87677ec3b88c2102fb9aaf1a2fdb">CONF_CONTINUE</a>;</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;                }</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;            }</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#a865ae75505501aae4d21b77c92dc841c">CONF_MATCH</a>(<span class="stringliteral">&quot;thp&quot;</span>)) {</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;                <span class="keywordtype">bool</span> match = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d6/d56/pages_8h.html#a154dd3787d8dece9638fdfe0134100c4a2a61127a13a3f281188d5e89ec5ddfa3">thp_mode_names_limit</a>; i++) {</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;                    <span class="keywordflow">if</span> (strncmp(<a class="code" href="../../dd/de2/private__namespace_8h.html#a77f00e3ccb49d8f19665a6db9f9021e9">thp_mode_names</a>[i],v, vlen)</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;                        == 0) {</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;                        <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d18/jemalloc__preamble_8h.html#a3741ccd105d583722904e3f4930d6f6f">have_madvise_huge</a>) {</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;                            <a class="code" href="../../d8/d80/jemalloc_8c.html#adc82e6bbf4b5be96087f18ffaed6da5c">CONF_ERROR</a>(</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;                                <span class="stringliteral">&quot;No THP support&quot;</span>,</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;                                k, klen, v, vlen);</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;                        }</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;                        <a class="code" href="../../dd/de2/private__namespace_8h.html#ae108bee6cd66f4539514a3665ad19d6e">opt_thp</a> = i;</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;                        match = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;                    }</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;                }</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;                <span class="keywordflow">if</span> (!match) {</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;                    <a class="code" href="../../d8/d80/jemalloc_8c.html#adc82e6bbf4b5be96087f18ffaed6da5c">CONF_ERROR</a>(<span class="stringliteral">&quot;Invalid conf value&quot;</span>,</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;                        k, klen, v, vlen);</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;                }</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;                <a class="code" href="../../d8/d80/jemalloc_8c.html#afc7d87677ec3b88c2102fb9aaf1a2fdb">CONF_CONTINUE</a>;</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;            }</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;            <a class="code" href="../../d8/d80/jemalloc_8c.html#adc82e6bbf4b5be96087f18ffaed6da5c">CONF_ERROR</a>(<span class="stringliteral">&quot;Invalid conf pair&quot;</span>, k, klen, v, vlen);</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;<span class="preprocessor">#undef CONF_ERROR</span></div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;<span class="preprocessor">#undef CONF_CONTINUE</span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;<span class="preprocessor">#undef CONF_MATCH</span></div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;<span class="preprocessor">#undef CONF_MATCH_VALUE</span></div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;<span class="preprocessor">#undef CONF_HANDLE_BOOL</span></div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;<span class="preprocessor">#undef CONF_DONT_CHECK_MIN</span></div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;<span class="preprocessor">#undef CONF_CHECK_MIN</span></div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;<span class="preprocessor">#undef CONF_DONT_CHECK_MAX</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;<span class="preprocessor">#undef CONF_CHECK_MAX</span></div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;<span class="preprocessor">#undef CONF_HANDLE_T_U</span></div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;<span class="preprocessor">#undef CONF_HANDLE_UNSIGNED</span></div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;<span class="preprocessor">#undef CONF_HANDLE_SIZE_T</span></div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;<span class="preprocessor">#undef CONF_HANDLE_SSIZE_T</span></div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;<span class="preprocessor">#undef CONF_HANDLE_CHAR_P</span></div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <span class="comment">/* Re-enable diagnostic &quot;-Wtype-limits&quot; */</span></div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    <a class="code" href="../../db/d61/jemalloc__internal__macros_8h.html#a58a1ab244481174467293f0ae935bfe3">JEMALLOC_DIAGNOSTIC_POP</a></div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;        }</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#a398e56ddef33deda34f9a8a040e3b008">opt_abort_conf</a> &amp;&amp; <a class="code" href="../../d8/d80/jemalloc_8c.html#a0bd2976d700d3ae616e8d1dad50878af">had_conf_error</a>) {</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;            <a class="code" href="../../d8/d80/jemalloc_8c.html#a5c02493047521bab55347d4d2457b5ae">malloc_abort_invalid_conf</a>();</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;        }</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    }</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    atomic_store_b(&amp;<a class="code" href="../../dd/de2/private__namespace_8h.html#a681b563a6e819450459abb5d80bf6414">log_init_done</a>, <span class="keyword">true</span>, <a class="code" href="../../dd/d02/atomic_8h.html#af6d707b5e3c644791fa02b15cd8fca3c">ATOMIC_RELEASE</a>);</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;}</div>
<div class="ttc" id="a_c99_2stdbool_8h_html_a41f9c5fb8b08eb5dc3edce4dcb37fee7"><div class="ttname"><a href="../../db/def/_c99_2stdbool_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a></div><div class="ttdeci">#define true</div><div class="ttdef"><b>Definition:</b> <a href="../../db/def/_c99_2stdbool_8h_source.html#l00015">stdbool.h:15</a></div></div>
<div class="ttc" id="a_c99_2stdbool_8h_html_a65e9886d74aaee76545e83dd09011727"><div class="ttname"><a href="../../db/def/_c99_2stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></div><div class="ttdeci">#define false</div><div class="ttdef"><b>Definition:</b> <a href="../../db/def/_c99_2stdbool_8h_source.html#l00016">stdbool.h:16</a></div></div>
<div class="ttc" id="a_c_make_lists_8txt_html_a0b5da418382bdd0db6dff439e2863979"><div class="ttname"><a href="../../dd/d68/_c_make_lists_8txt.html#a0b5da418382bdd0db6dff439e2863979">if</a></div><div class="ttdeci">NAME if(&quot;;${DISABLED_AC_MODULES};&quot; MATCHES &quot;;${MODULENAME};&quot;) continue() endif() if(EXISTS &quot;$</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d68/_c_make_lists_8txt_source.html#l00068">CMakeLists.txt:68</a></div></div>
<div class="ttc" id="aarena__types_8h_html_a8fefe7a12391be829a0a5bd781ec8528aa90a04509ebb9952ad0fb4ff4a7c7e3f"><div class="ttname"><a href="../../d8/d5e/arena__types_8h.html#a8fefe7a12391be829a0a5bd781ec8528aa90a04509ebb9952ad0fb4ff4a7c7e3f">percpu_arena_mode_names_base</a></div><div class="ttdeci">@ percpu_arena_mode_names_base</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/arena__types_8h_source.html#l00023">arena_types.h:23</a></div></div>
<div class="ttc" id="aarena__types_8h_html_a8fefe7a12391be829a0a5bd781ec8528abfc3737c73f305abb51c81a1957fe62c"><div class="ttname"><a href="../../d8/d5e/arena__types_8h.html#a8fefe7a12391be829a0a5bd781ec8528abfc3737c73f305abb51c81a1957fe62c">percpu_arena</a></div><div class="ttdeci">@ percpu_arena</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/arena__types_8h_source.html#l00038">arena_types.h:38</a></div></div>
<div class="ttc" id="aarena__types_8h_html_a8fefe7a12391be829a0a5bd781ec8528ac6c977494727460f12a68bf38231685a"><div class="ttname"><a href="../../d8/d5e/arena__types_8h.html#a8fefe7a12391be829a0a5bd781ec8528ac6c977494727460f12a68bf38231685a">percpu_arena_mode_names_limit</a></div><div class="ttdeci">@ percpu_arena_mode_names_limit</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/arena__types_8h_source.html#l00035">arena_types.h:35</a></div></div>
<div class="ttc" id="abase__types_8h_html_ac12017649aa54eb1e31efff5de942d84aeaa0856861105ee37fcb97b690185d84"><div class="ttname"><a href="../../d8/da0/base__types_8h.html#ac12017649aa54eb1e31efff5de942d84aeaa0856861105ee37fcb97b690185d84">metadata_thp_mode_limit</a></div><div class="ttdeci">@ metadata_thp_mode_limit</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da0/base__types_8h_source.html#l00031">base_types.h:30</a></div></div>
<div class="ttc" id="aextent__dss_8h_html_a2bc227b5562a4341edd876b0183617e0a71ac1b10dd8056b239c280c421fb6567"><div class="ttname"><a href="../../d3/ddd/extent__dss_8h.html#a2bc227b5562a4341edd876b0183617e0a71ac1b10dd8056b239c280c421fb6567">dss_prec_limit</a></div><div class="ttdeci">@ dss_prec_limit</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/ddd/extent__dss_8h_source.html#l00010">extent_dss.h:9</a></div></div>
<div class="ttc" id="ajemalloc_2include_2msvc__compat_2_c99_2stdint_8h_html_aec6fcb673ff035718c238c8c9d544c47"><div class="ttname"><a href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a></div><div class="ttdeci">unsigned __int64 uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h_source.html#l00090">stdint.h:90</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a1d90b5fac834c14f5f2235e3e61b4040"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a1d90b5fac834c14f5f2235e3e61b4040">malloc_conf_multi_sizes_next</a></div><div class="ttdeci">static bool malloc_conf_multi_sizes_next(const char **slab_size_segment_cur, size_t *vlen_left, size_t *slab_start, size_t *slab_end, size_t *new_size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00780">jemalloc.c:780</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a1eb604d85b3b2b97aaa3c3f96c4cf2c5"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a1eb604d85b3b2b97aaa3c3f96c4cf2c5">CONF_HANDLE_SSIZE_T</a></div><div class="ttdeci">#define CONF_HANDLE_SSIZE_T(o, n, min, max)</div></div>
<div class="ttc" id="ajemalloc_8c_html_a285632ddc2228220acc4245a16239c3a"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a285632ddc2228220acc4245a16239c3a">CONF_HANDLE_SIZE_T</a></div><div class="ttdeci">#define CONF_HANDLE_SIZE_T(o, n, min, max, check_min, check_max, clip)</div></div>
<div class="ttc" id="ajemalloc_8c_html_a2f39a8f55c52bab1dde2a7785424dafc"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a2f39a8f55c52bab1dde2a7785424dafc">CONF_HANDLE_CHAR_P</a></div><div class="ttdeci">#define CONF_HANDLE_CHAR_P(o, n, d)</div></div>
<div class="ttc" id="ajemalloc_8c_html_a5540c28741aa39b34c2a8a2a9a605e73"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a5540c28741aa39b34c2a8a2a9a605e73">CONF_HANDLE_BOOL</a></div><div class="ttdeci">#define CONF_HANDLE_BOOL(o, n)</div></div>
<div class="ttc" id="ajemalloc_8c_html_a56da2438511aa30130f1034b635452ba"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a56da2438511aa30130f1034b635452ba">opt_utrace</a></div><div class="ttdeci">bool opt_utrace</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00070">jemalloc.c:70</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a56ea703d09898b2be7228ef705cddb51"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a56ea703d09898b2be7228ef705cddb51">CONF_CHECK_MAX</a></div><div class="ttdeci">#define CONF_CHECK_MAX(um, max)</div></div>
<div class="ttc" id="ajemalloc_8c_html_a5c02493047521bab55347d4d2457b5ae"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a5c02493047521bab55347d4d2457b5ae">malloc_abort_invalid_conf</a></div><div class="ttdeci">static void malloc_abort_invalid_conf(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00898">jemalloc.c:898</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a5c3466e5c6fccbbcbbed933dc0264484"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a5c3466e5c6fccbbcbbed933dc0264484">opt_junk</a></div><div class="ttdeci">const char * opt_junk</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00048">jemalloc.c:48</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a62715b37c6bb7259dc4b1b52a2294080"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a62715b37c6bb7259dc4b1b52a2294080">opt_zero</a></div><div class="ttdeci">bool opt_zero</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00072">jemalloc.c:72</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a6e0739ebf372b760fae659f3bdc431c2"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a6e0739ebf372b760fae659f3bdc431c2">malloc_conf_next</a></div><div class="ttdeci">static bool malloc_conf_next(char const **opts_p, char const **k_p, size_t *klen_p, char const **v_p, size_t *vlen_p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00823">jemalloc.c:823</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a7c1b61d3016ffe1bb7daf5d000c14ab9"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a7c1b61d3016ffe1bb7daf5d000c14ab9">opt_abort</a></div><div class="ttdeci">bool opt_abort</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00032">jemalloc.c:32</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a90de27f4b8326502dc65b7057ab586d7"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a90de27f4b8326502dc65b7057ab586d7">CONF_DONT_CHECK_MIN</a></div><div class="ttdeci">#define CONF_DONT_CHECK_MIN(um, min)</div></div>
<div class="ttc" id="ajemalloc_8c_html_a9357f99d76f60cf152a2924be0c61be2"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a9357f99d76f60cf152a2924be0c61be2">CONF_CHECK_MIN</a></div><div class="ttdeci">#define CONF_CHECK_MIN(um, min)</div></div>
<div class="ttc" id="ajemalloc_8c_html_a95ce7c59321cc3cd5aeb14f80d46c95f"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a95ce7c59321cc3cd5aeb14f80d46c95f">CONF_DONT_CHECK_MAX</a></div><div class="ttdeci">#define CONF_DONT_CHECK_MAX(um, max)</div></div>
<div class="ttc" id="ajemalloc_8c_html_a98f27264f740a00e1c9acfc795862a73"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a98f27264f740a00e1c9acfc795862a73">opt_narenas</a></div><div class="ttdeci">unsigned opt_narenas</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00073">jemalloc.c:73</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a9ccae085c69622115282f8427ddcf17e"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a9ccae085c69622115282f8427ddcf17e">opt_junk_alloc</a></div><div class="ttdeci">bool opt_junk_alloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00055">jemalloc.c:55</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a9f7c08580dd383f37407183db1d72b65"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a9f7c08580dd383f37407183db1d72b65">init_opt_stats_print_opts</a></div><div class="ttdeci">static void init_opt_stats_print_opts(const char *v, size_t vlen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00754">jemalloc.c:754</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_ac693bc5ba5788399a6409a258e558166"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#ac693bc5ba5788399a6409a258e558166">CONF_HANDLE_UNSIGNED</a></div><div class="ttdeci">#define CONF_HANDLE_UNSIGNED(o, n, min, max, check_min, check_max, clip)</div></div>
<div class="ttc" id="ajemalloc_8c_html_adae7e94321e7cd2c88af97c9113766cc"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#adae7e94321e7cd2c88af97c9113766cc">obtain_malloc_conf</a></div><div class="ttdeci">static const char * obtain_malloc_conf(unsigned which_source, char buf[PATH_MAX+1])</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00938">jemalloc.c:938</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_adc82e6bbf4b5be96087f18ffaed6da5c"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#adc82e6bbf4b5be96087f18ffaed6da5c">CONF_ERROR</a></div><div class="ttdeci">#define CONF_ERROR(msg, k, klen, v, vlen)</div></div>
<div class="ttc" id="ajemalloc_8c_html_afc7d87677ec3b88c2102fb9aaf1a2fdb"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#afc7d87677ec3b88c2102fb9aaf1a2fdb">CONF_CONTINUE</a></div><div class="ttdeci">#define CONF_CONTINUE</div></div>
<div class="ttc" id="ajemalloc_8c_html_aff6fd647d678b35e59a0ab748d1314df"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#aff6fd647d678b35e59a0ab748d1314df">opt_junk_free</a></div><div class="ttdeci">bool opt_junk_free</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00062">jemalloc.c:62</a></div></div>
<div class="ttc" id="ajemalloc__internal_8h_html_a041f85be38eed30f494804db7975ad97"><div class="ttname"><a href="../../d9/d33/jemalloc__internal_8h.html#a041f85be38eed30f494804db7975ad97">config_utrace</a></div><div class="ttdeci">static const bool config_utrace</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/jemalloc__internal_8h_source.html#l00162">jemalloc_internal.h:162</a></div></div>
<div class="ttc" id="ajemalloc__internal_8h_html_a0977e972a64806265f5d0bdb151ee839"><div class="ttname"><a href="../../d9/d33/jemalloc__internal_8h.html#a0977e972a64806265f5d0bdb151ee839">QU</a></div><div class="ttdeci">#define QU(q)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/jemalloc__internal_8h_source.html#l00235">jemalloc_internal.h:235</a></div></div>
<div class="ttc" id="ajemalloc__internal_8h_html_ae748e1d523f2898bc177b42c1c14fa0f"><div class="ttname"><a href="../../d9/d33/jemalloc__internal_8h.html#ae748e1d523f2898bc177b42c1c14fa0f">config_fill</a></div><div class="ttdeci">static const bool config_fill</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/jemalloc__internal_8h_source.html#l00092">jemalloc_internal.h:92</a></div></div>
<div class="ttc" id="ajemalloc__internal__macros_8h_html_a332380e4fe9662cd89cae74018d4c31f"><div class="ttname"><a href="../../db/d61/jemalloc__internal__macros_8h.html#a332380e4fe9662cd89cae74018d4c31f">KQU</a></div><div class="ttdeci">#define KQU(q)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d61/jemalloc__internal__macros_8h_source.html#l00022">jemalloc_internal_macros.h:22</a></div></div>
<div class="ttc" id="ajemalloc__internal__macros_8h_html_a58a1ab244481174467293f0ae935bfe3"><div class="ttname"><a href="../../db/d61/jemalloc__internal__macros_8h.html#a58a1ab244481174467293f0ae935bfe3">JEMALLOC_DIAGNOSTIC_POP</a></div><div class="ttdeci">#define JEMALLOC_DIAGNOSTIC_POP</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d61/jemalloc__internal__macros_8h_source.html#l00100">jemalloc_internal_macros.h:100</a></div></div>
<div class="ttc" id="ajemalloc__internal__macros_8h_html_ab47ca7c28ab3b92dd5bca1c1302d532a"><div class="ttname"><a href="../../db/d61/jemalloc__internal__macros_8h.html#ab47ca7c28ab3b92dd5bca1c1302d532a">JEMALLOC_DIAGNOSTIC_IGNORE_TYPE_LIMITS</a></div><div class="ttdeci">#define JEMALLOC_DIAGNOSTIC_IGNORE_TYPE_LIMITS</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d61/jemalloc__internal__macros_8h_source.html#l00103">jemalloc_internal_macros.h:103</a></div></div>
<div class="ttc" id="ajemalloc__internal__macros_8h_html_acb2c2ec9dcc349dd329132c03bbe1010"><div class="ttname"><a href="../../db/d61/jemalloc__internal__macros_8h.html#acb2c2ec9dcc349dd329132c03bbe1010">JEMALLOC_DIAGNOSTIC_PUSH</a></div><div class="ttdeci">#define JEMALLOC_DIAGNOSTIC_PUSH</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d61/jemalloc__internal__macros_8h_source.html#l00099">jemalloc_internal_macros.h:99</a></div></div>
<div class="ttc" id="ajemalloc__preamble_8h_html_a3741ccd105d583722904e3f4930d6f6f"><div class="ttname"><a href="../../d1/d18/jemalloc__preamble_8h.html#a3741ccd105d583722904e3f4930d6f6f">have_madvise_huge</a></div><div class="ttdeci">static const bool have_madvise_huge</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d18/jemalloc__preamble_8h_source.html#l00068">jemalloc_preamble.h:68</a></div></div>
<div class="ttc" id="ajemalloc__preamble_8h_html_a462a5097a4a295761c1f415041123139"><div class="ttname"><a href="../../d1/d18/jemalloc__preamble_8h.html#a462a5097a4a295761c1f415041123139">config_log</a></div><div class="ttdeci">static const bool config_log</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d18/jemalloc__preamble_8h_source.html#l00157">jemalloc_preamble.h:157</a></div></div>
<div class="ttc" id="anstime_8h_html_a93c63edfd275de53cc19e4b7c150d651"><div class="ttname"><a href="../../da/d92/nstime_8h.html#a93c63edfd275de53cc19e4b7c150d651">NSTIME_SEC_MAX</a></div><div class="ttdeci">#define NSTIME_SEC_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d92/nstime_8h_source.html#l00005">nstime.h:5</a></div></div>
<div class="ttc" id="apages_8h_html_a154dd3787d8dece9638fdfe0134100c4a2a61127a13a3f281188d5e89ec5ddfa3"><div class="ttname"><a href="../../d6/d56/pages_8h.html#a154dd3787d8dece9638fdfe0134100c4a2a61127a13a3f281188d5e89ec5ddfa3">thp_mode_names_limit</a></div><div class="ttdeci">@ thp_mode_names_limit</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d56/pages_8h_source.html#l00066">pages.h:66</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a0c4a1eb3c8827016062439ac27858521"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a0c4a1eb3c8827016062439ac27858521">opt_prof_final</a></div><div class="ttdeci">#define opt_prof_final</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00301">private_namespace.h:301</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a22c56e9f51175367d74654631cfeaaba"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a22c56e9f51175367d74654631cfeaaba">opt_tcache</a></div><div class="ttdeci">#define opt_tcache</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00370">private_namespace.h:370</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a23a001a697f4306216ebf02ef871121d"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a23a001a697f4306216ebf02ef871121d">oversize_threshold</a></div><div class="ttdeci">#define oversize_threshold</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00096">private_namespace.h:96</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a3bd8b19b3b0aef2c0801425b2fc49e69"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a3bd8b19b3b0aef2c0801425b2fc49e69">dss_prec_names</a></div><div class="ttdeci">#define dss_prec_names</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00210">private_namespace.h:210</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a3e598918a5efae6170438e2b58e727ca"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a3e598918a5efae6170438e2b58e727ca">opt_prof_prefix</a></div><div class="ttdeci">#define opt_prof_prefix</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00305">private_namespace.h:305</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a45bd8956f53742c7f4149e49249dcb1b"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a45bd8956f53742c7f4149e49249dcb1b">opt_retain</a></div><div class="ttdeci">#define opt_retain</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00220">private_namespace.h:220</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a4bcf188105b8a74a0c08961f9e9c10c2"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a4bcf188105b8a74a0c08961f9e9c10c2">opt_prof_leak</a></div><div class="ttdeci">#define opt_prof_leak</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00303">private_namespace.h:303</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a4c9a4557075ca3b95bfcc202085e2277"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a4c9a4557075ca3b95bfcc202085e2277">opt_muzzy_decay_ms</a></div><div class="ttdeci">#define opt_muzzy_decay_ms</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00093">private_namespace.h:93</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a55e96011ee9e96ca7a196576c1c0e5c5"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a55e96011ee9e96ca7a196576c1c0e5c5">bin_update_shard_size</a></div><div class="ttdeci">#define bin_update_shard_size</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00139">private_namespace.h:139</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a57b1aa44caeb0471e167f59a6804c655"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a57b1aa44caeb0471e167f59a6804c655">opt_prof_log</a></div><div class="ttdeci">#define opt_prof_log</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00304">private_namespace.h:304</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a59ea4fdb72a164d952524d684e0c7147"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a59ea4fdb72a164d952524d684e0c7147">extent_dss_prec_set</a></div><div class="ttdeci">#define extent_dss_prec_set</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00215">private_namespace.h:215</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a5fa8c8b20cea1cd00b25402af5c71ec1"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a5fa8c8b20cea1cd00b25402af5c71ec1">opt_prof_accum</a></div><div class="ttdeci">#define opt_prof_accum</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00299">private_namespace.h:299</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a617dee53a4ebc4a51774c5f18ca69708"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a617dee53a4ebc4a51774c5f18ca69708">opt_prof_gdump</a></div><div class="ttdeci">#define opt_prof_gdump</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00302">private_namespace.h:302</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a61d04e326f0f105e3094af08838acda7"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a61d04e326f0f105e3094af08838acda7">opt_prof_active</a></div><div class="ttdeci">#define opt_prof_active</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00300">private_namespace.h:300</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a62d5bba047c36b5e05364155060745e7"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a62d5bba047c36b5e05364155060745e7">lg_prof_sample</a></div><div class="ttdeci">#define lg_prof_sample</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00295">private_namespace.h:295</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a681b563a6e819450459abb5d80bf6414"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a681b563a6e819450459abb5d80bf6414">log_init_done</a></div><div class="ttdeci">#define log_init_done</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00242">private_namespace.h:242</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a6c77d6ae00ae4f976249319555ae2efa"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a6c77d6ae00ae4f976249319555ae2efa">opt_stats_print</a></div><div class="ttdeci">#define opt_stats_print</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00357">private_namespace.h:357</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a76dda0eb2c1466eeea1e1b50f5366f49"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a76dda0eb2c1466eeea1e1b50f5366f49">prof_gdump</a></div><div class="ttdeci">#define prof_gdump</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00319">private_namespace.h:319</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a77f00e3ccb49d8f19665a6db9f9021e9"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a77f00e3ccb49d8f19665a6db9f9021e9">thp_mode_names</a></div><div class="ttdeci">#define thp_mode_names</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00292">private_namespace.h:292</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a7b82ae2ae72a76ac1683fb4d341373b8"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a7b82ae2ae72a76ac1683fb4d341373b8">opt_max_background_threads</a></div><div class="ttdeci">#define opt_max_background_threads</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00116">private_namespace.h:116</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a7be114138704da701acb29c82942e61f"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a7be114138704da701acb29c82942e61f">opt_background_thread</a></div><div class="ttdeci">#define opt_background_thread</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00115">private_namespace.h:115</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a82e336e7e22d38afd1121a0ac423b0ba"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a82e336e7e22d38afd1121a0ac423b0ba">opt_lg_tcache_max</a></div><div class="ttdeci">#define opt_lg_tcache_max</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00369">private_namespace.h:369</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a8e77601e7f095c864ed585f812e1b53b"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a8e77601e7f095c864ed585f812e1b53b">percpu_arena_mode_names</a></div><div class="ttdeci">#define percpu_arena_mode_names</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00097">private_namespace.h:97</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a91d02436b0db8a4ce097bcd556f08c60"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a91d02436b0db8a4ce097bcd556f08c60">opt_lg_prof_interval</a></div><div class="ttdeci">#define opt_lg_prof_interval</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00296">private_namespace.h:296</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a92cc1addcbfa8675bb8afc5d12c9736c"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a92cc1addcbfa8675bb8afc5d12c9736c">opt_prof_thread_active_init</a></div><div class="ttdeci">#define opt_prof_thread_active_init</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00306">private_namespace.h:306</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a9a2e62aa0a1f0bf4cd1d8812353339f8"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a9a2e62aa0a1f0bf4cd1d8812353339f8">opt_lg_prof_sample</a></div><div class="ttdeci">#define opt_lg_prof_sample</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00297">private_namespace.h:297</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_aa5912922eca3638b5b38692b301fa807"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#aa5912922eca3638b5b38692b301fa807">opt_metadata_thp</a></div><div class="ttdeci">#define opt_metadata_thp</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00131">private_namespace.h:131</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_aa8c8436304e2a98194c14c8356c05536"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#aa8c8436304e2a98194c14c8356c05536">opt_oversize_threshold</a></div><div class="ttdeci">#define opt_oversize_threshold</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00094">private_namespace.h:94</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_ab9815f66c557ca57a8963a0b20abdb4d"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#ab9815f66c557ca57a8963a0b20abdb4d">opt_lg_extent_max_active_fit</a></div><div class="ttdeci">#define opt_lg_extent_max_active_fit</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00209">private_namespace.h:209</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_aba72f16f1eee3212f8cf859df5d9fc3b"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#aba72f16f1eee3212f8cf859df5d9fc3b">opt_dirty_decay_ms</a></div><div class="ttdeci">#define opt_dirty_decay_ms</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00092">private_namespace.h:92</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_ac84ea5f7c633b0e76f62e8bc622ac8b1"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#ac84ea5f7c633b0e76f62e8bc622ac8b1">sc_data_update_slab_size</a></div><div class="ttdeci">#define sc_data_update_slab_size</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00363">private_namespace.h:363</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_acd3f3a3ada8a2a87314b8e693efd3208"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#acd3f3a3ada8a2a87314b8e693efd3208">log_var_names</a></div><div class="ttdeci">#define log_var_names</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00243">private_namespace.h:243</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_ae108bee6cd66f4539514a3665ad19d6e"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#ae108bee6cd66f4539514a3665ad19d6e">opt_thp</a></div><div class="ttdeci">#define opt_thp</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00279">private_namespace.h:279</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_ae8cd61f0e332a4b519ae317db6979a89"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#ae8cd61f0e332a4b519ae317db6979a89">metadata_thp_mode_names</a></div><div class="ttdeci">#define metadata_thp_mode_names</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00130">private_namespace.h:130</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_aeb6121e4adcec22e53cecd1048da70f4"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#aeb6121e4adcec22e53cecd1048da70f4">opt_dss</a></div><div class="ttdeci">#define opt_dss</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00217">private_namespace.h:217</a></div></div>
<div class="ttc" id="aprof_8c_html_a03a675e798d372efd2c27a2e1c9cffcb"><div class="ttname"><a href="../../df/d31/prof_8c.html#a03a675e798d372efd2c27a2e1c9cffcb">prof_thread_active_init</a></div><div class="ttdeci">static bool prof_thread_active_init</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d31/prof_8c_source.html#l00061">prof.c:61</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d02/atomic_8h_source.html#l00050">ATOMIC_RELEASE</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00139">bin_update_shard_size</a>, <a class="el" href="../../d8/d80/jemalloc_8c.html#a56ea703d09898b2be7228ef705cddb51">CONF_CHECK_MAX</a>, <a class="el" href="../../d8/d80/jemalloc_8c.html#a9357f99d76f60cf152a2924be0c61be2">CONF_CHECK_MIN</a>, <a class="el" href="../../d8/d80/jemalloc_8c.html#afc7d87677ec3b88c2102fb9aaf1a2fdb">CONF_CONTINUE</a>, <a class="el" href="../../d8/d80/jemalloc_8c.html#a95ce7c59321cc3cd5aeb14f80d46c95f">CONF_DONT_CHECK_MAX</a>, <a class="el" href="../../d8/d80/jemalloc_8c.html#a90de27f4b8326502dc65b7057ab586d7">CONF_DONT_CHECK_MIN</a>, <a class="el" href="../../d8/d80/jemalloc_8c.html#adc82e6bbf4b5be96087f18ffaed6da5c">CONF_ERROR</a>, <a class="el" href="../../d8/d80/jemalloc_8c.html#a5540c28741aa39b34c2a8a2a9a605e73">CONF_HANDLE_BOOL</a>, <a class="el" href="../../d8/d80/jemalloc_8c.html#a2f39a8f55c52bab1dde2a7785424dafc">CONF_HANDLE_CHAR_P</a>, <a class="el" href="../../d8/d80/jemalloc_8c.html#a285632ddc2228220acc4245a16239c3a">CONF_HANDLE_SIZE_T</a>, <a class="el" href="../../d8/d80/jemalloc_8c.html#a1eb604d85b3b2b97aaa3c3f96c4cf2c5">CONF_HANDLE_SSIZE_T</a>, <a class="el" href="../../d8/d80/jemalloc_8c.html#ac693bc5ba5788399a6409a258e558166">CONF_HANDLE_UNSIGNED</a>, <a class="el" href="../../d8/d80/jemalloc_8c.html#a865ae75505501aae4d21b77c92dc841c">CONF_MATCH</a>, <a class="el" href="../../d8/d80/jemalloc_8c.html#af7cba9b4231871a5bcfc900faf555263">CONF_MATCH_VALUE</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00092">config_fill</a>, <a class="el" href="../../d1/d18/jemalloc__preamble_8h_source.html#l00157">config_log</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00106">config_prof</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00162">config_utrace</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00176">config_xmalloc</a>, <a class="el" href="../../d3/ddd/extent__dss_8h_source.html#l00009">dss_prec_limit</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00210">dss_prec_names</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00215">extent_dss_prec_set</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00192">had_conf_error</a>, <a class="el" href="../../d1/d18/jemalloc__preamble_8h_source.html#l00068">have_madvise_huge</a>, <a class="el" href="../../d1/d18/jemalloc__preamble_8h_source.html#l00187">have_percpu_arena</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00754">init_opt_stats_print_opts()</a>, <a class="el" href="../../db/d61/jemalloc__internal__macros_8h_source.html#l00103">JEMALLOC_DIAGNOSTIC_IGNORE_TYPE_LIMITS</a>, <a class="el" href="../../db/d61/jemalloc__internal__macros_8h_source.html#l00100">JEMALLOC_DIAGNOSTIC_POP</a>, <a class="el" href="../../db/d61/jemalloc__internal__macros_8h_source.html#l00099">JEMALLOC_DIAGNOSTIC_PUSH</a>, <a class="el" href="../../db/d61/jemalloc__internal__macros_8h_source.html#l00022">KQU</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00242">log_init_done</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00243">log_var_names</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00898">malloc_abort_invalid_conf()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00780">malloc_conf_multi_sizes_next()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00823">malloc_conf_next()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00935">MALLOC_CONF_NSOURCES</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00247">malloc_printf</a>, <a class="el" href="../../d8/da0/base__types_8h_source.html#l00030">metadata_thp_mode_limit</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00130">metadata_thp_mode_names</a>, <a class="el" href="../../da/d92/nstime_8h_source.html#l00005">NSTIME_SEC_MAX</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00938">obtain_malloc_conf()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00032">opt_abort</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00039">opt_abort_conf</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00115">opt_background_thread</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00047">opt_confirm_conf</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00092">opt_dirty_decay_ms</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00217">opt_dss</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00048">opt_junk</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00055">opt_junk_alloc</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00062">opt_junk_free</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00209">opt_lg_extent_max_active_fit</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00296">opt_lg_prof_interval</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00297">opt_lg_prof_sample</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00369">opt_lg_tcache_max</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00116">opt_max_background_threads</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00131">opt_metadata_thp</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00093">opt_muzzy_decay_ms</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00073">opt_narenas</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00094">opt_oversize_threshold</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00095">opt_percpu_arena</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00298">opt_prof</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00299">opt_prof_accum</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00300">opt_prof_active</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00301">opt_prof_final</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00302">opt_prof_gdump</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00303">opt_prof_leak</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00304">opt_prof_log</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00305">opt_prof_prefix</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00306">opt_prof_thread_active_init</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00220">opt_retain</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00357">opt_stats_print</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00370">opt_tcache</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00279">opt_thp</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00070">opt_utrace</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00071">opt_xmalloc</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00072">opt_zero</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00097">percpu_arena_mode_names</a>, <a class="el" href="../../d8/d5e/arena__types_8h_source.html#l00023">percpu_arena_mode_names_base</a>, <a class="el" href="../../d8/d5e/arena__types_8h_source.html#l00035">percpu_arena_mode_names_limit</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00235">QU</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00363">sc_data_update_slab_size</a>, <a class="el" href="../../d9/d50/sc_8h_source.html#l00265">SC_LARGE_MAXCLASS</a>, <a class="el" href="../../d2/d46/jemalloc__internal__decls_8h_source.html#l00058">SSIZE_MAX</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00292">thp_mode_names</a>, and <a class="el" href="../../d6/d56/pages_8h_source.html#l00066">thp_mode_names_limit</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01440">malloc_conf_init()</a>.</p>

</div>
</div>
<a id="a1d90b5fac834c14f5f2235e3e61b4040"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d90b5fac834c14f5f2235e3e61b4040">&#9670;&nbsp;</a></span>malloc_conf_multi_sizes_next()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> malloc_conf_multi_sizes_next </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char **&#160;</td>
          <td class="paramname"><em>slab_size_segment_cur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>vlen_left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>slab_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>slab_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>new_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00780">780</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                                                                               {</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *cur = *slab_size_segment_cur;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="keywordtype">char</span> *end;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a2ba5f6c0633401558d277b2c0e4f758d">uintmax_t</a> um;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160; </div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a132c48faab6dcea1dca5ef9012266300">set_errno</a>(0);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160; </div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="comment">/* First number, then &#39;-&#39; */</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    um = <a class="code" href="../../dd/de2/private__namespace_8h.html#ad6fd8531c4e97910cecb0825aeeb89cf">malloc_strtoumax</a>(cur, &amp;end, 0);</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a2d9133e7ee5dd33009d6501253f9ddb2">get_errno</a>() != 0 || *end != <span class="charliteral">&#39;-&#39;</span>) {</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    }</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    *slab_start = (size_t)um;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    cur = end + 1;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160; </div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="comment">/* Second number, then &#39;:&#39; */</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    um = <a class="code" href="../../dd/de2/private__namespace_8h.html#ad6fd8531c4e97910cecb0825aeeb89cf">malloc_strtoumax</a>(cur, &amp;end, 0);</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a2d9133e7ee5dd33009d6501253f9ddb2">get_errno</a>() != 0 || *end != <span class="charliteral">&#39;:&#39;</span>) {</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    }</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    *slab_end = (size_t)um;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    cur = end + 1;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160; </div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="comment">/* Last number */</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    um = <a class="code" href="../../dd/de2/private__namespace_8h.html#ad6fd8531c4e97910cecb0825aeeb89cf">malloc_strtoumax</a>(cur, &amp;end, 0);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a2d9133e7ee5dd33009d6501253f9ddb2">get_errno</a>() != 0) {</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    }</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    *new_size = (size_t)um;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160; </div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="comment">/* Consume the separator if there is one. */</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keywordflow">if</span> (*end == <span class="charliteral">&#39;|&#39;</span>) {</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        end++;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    }</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160; </div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    *vlen_left -= end - *slab_size_segment_cur;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    *slab_size_segment_cur = end;</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160; </div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;}</div>
<div class="ttc" id="ajemalloc_2include_2msvc__compat_2_c99_2stdint_8h_html_a2ba5f6c0633401558d277b2c0e4f758d"><div class="ttname"><a href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a2ba5f6c0633401558d277b2c0e4f758d">uintmax_t</a></div><div class="ttdeci">uint64_t uintmax_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h_source.html#l00124">stdint.h:124</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_ad6fd8531c4e97910cecb0825aeeb89cf"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#ad6fd8531c4e97910cecb0825aeeb89cf">malloc_strtoumax</a></div><div class="ttdeci">#define malloc_strtoumax</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00249">private_namespace.h:249</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00057">get_errno()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00249">malloc_strtoumax</a>, and <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00047">set_errno()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01021">malloc_conf_init_helper()</a>.</p>

</div>
</div>
<a id="a6e0739ebf372b760fae659f3bdc431c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e0739ebf372b760fae659f3bdc431c2">&#9670;&nbsp;</a></span>malloc_conf_next()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> malloc_conf_next </td>
          <td>(</td>
          <td class="paramtype">char <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> **&#160;</td>
          <td class="paramname"><em>opts_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> **&#160;</td>
          <td class="paramname"><em>k_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>klen_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> **&#160;</td>
          <td class="paramname"><em>v_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>vlen_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00823">823</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                                      {</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="keywordtype">bool</span> accept;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *opts = *opts_p;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160; </div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    *k_p = opts;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160; </div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keywordflow">for</span> (accept = <span class="keyword">false</span>; !accept;) {</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        <span class="keywordflow">switch</span> (*opts) {</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;A&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;B&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;C&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;D&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;E&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;F&#39;</span>:</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;G&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;H&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;I&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;J&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;K&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;L&#39;</span>:</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;M&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;N&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;O&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;P&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;Q&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;R&#39;</span>:</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;S&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;T&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;U&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;V&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;W&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;X&#39;</span>:</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;Y&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;Z&#39;</span>:</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;e&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;f&#39;</span>:</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;g&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;h&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;i&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;j&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;k&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;l&#39;</span>:</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;m&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;n&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;o&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;p&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;q&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;r&#39;</span>:</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;t&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;u&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;v&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;w&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;x&#39;</span>:</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;y&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;z&#39;</span>:</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;0&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;1&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;2&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;3&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;4&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;5&#39;</span>:</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;6&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;7&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;8&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;9&#39;</span>:</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;_&#39;</span>:</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;            opts++;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;:&#39;</span>:</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;            opts++;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;            *klen_p = (<a class="code" href="../../dc/d53/solaris_8h.html#ae5eb047989776ef8f364bc84ed316394">uintptr_t</a>)opts - 1 - (<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)*k_p;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;            *v_p = opts;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;            accept = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;\0&#39;</span>:</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;            <span class="keywordflow">if</span> (opts != *opts_p) {</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                <a class="code" href="../../dd/de2/private__namespace_8h.html#aa5e64f0a9668adb32f12d43a5d04f09a">malloc_write</a>(<span class="stringliteral">&quot;&lt;jemalloc&gt;: Conf string ends &quot;</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                    <span class="stringliteral">&quot;with key\n&quot;</span>);</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;            }</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;            <a class="code" href="../../dd/de2/private__namespace_8h.html#aa5e64f0a9668adb32f12d43a5d04f09a">malloc_write</a>(<span class="stringliteral">&quot;&lt;jemalloc&gt;: Malformed conf string\n&quot;</span>);</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        }</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    }</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160; </div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="keywordflow">for</span> (accept = <span class="keyword">false</span>; !accept;) {</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        <span class="keywordflow">switch</span> (*opts) {</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;,&#39;</span>:</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;            opts++;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;            <span class="comment">/*</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="comment">             * Look ahead one character here, because the next time</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="comment">             * this function is called, it will assume that end of</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="comment">             * input has been cleanly reached if no input remains,</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="comment">             * but we have optimistically already consumed the</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="comment">             * comma if one exists.</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;            <span class="keywordflow">if</span> (*opts == <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                <a class="code" href="../../dd/de2/private__namespace_8h.html#aa5e64f0a9668adb32f12d43a5d04f09a">malloc_write</a>(<span class="stringliteral">&quot;&lt;jemalloc&gt;: Conf string ends &quot;</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                    <span class="stringliteral">&quot;with comma\n&quot;</span>);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;            }</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;            *vlen_p = (<a class="code" href="../../dc/d53/solaris_8h.html#ae5eb047989776ef8f364bc84ed316394">uintptr_t</a>)opts - 1 - (<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)*v_p;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;            accept = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;\0&#39;</span>:</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;            *vlen_p = (<a class="code" href="../../dc/d53/solaris_8h.html#ae5eb047989776ef8f364bc84ed316394">uintptr_t</a>)opts - (<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)*v_p;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;            accept = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;            opts++;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        }</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    }</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160; </div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    *opts_p = opts;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00252">malloc_write</a>, and <a class="el" href="../../dc/d53/solaris_8h_source.html#l00029">uintptr_t</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01021">malloc_conf_init_helper()</a>.</p>

</div>
</div>
<a id="ae66b5864d08f06681b7f3c9034fa0d91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae66b5864d08f06681b7f3c9034fa0d91">&#9670;&nbsp;</a></span>malloc_default()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/dee/jemalloc_8h.html#a33ce01f92103ee0fd1dc201fcd3551e8">JEMALLOC_NOINLINE</a> void* malloc_default </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02271">2271</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;                            {</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;    <a class="code" href="../../d6/d7c/structstatic__opts__s.html">static_opts_t</a> sopts;</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;    <a class="code" href="../../d0/d96/structdynamic__opts__s.html">dynamic_opts_t</a> dopts;</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160; </div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.malloc.entry&quot;</span>, <span class="stringliteral">&quot;size: %zu&quot;</span>, size);</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160; </div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#afcaa042370db1f2f2786830cc4b8ed80">static_opts_init</a>(&amp;sopts);</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab053d14ca62b4edf38d6165e66cd375f">dynamic_opts_init</a>(&amp;dopts);</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160; </div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;    sopts.<a class="code" href="../../d6/d7c/structstatic__opts__s.html#a827d38e6c4bd5de6ae121e79bdf06c3b">null_out_result_on_error</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;    sopts.<a class="code" href="../../d6/d7c/structstatic__opts__s.html#a2e3e6b3283bee38c9c9b52f5be82d4b2">set_errno_on_error</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;    sopts.<a class="code" href="../../d6/d7c/structstatic__opts__s.html#aad0178fec42358f91f612f3197fcd640">oom_string</a> = <span class="stringliteral">&quot;&lt;jemalloc&gt;: Error in malloc(): out of memory\n&quot;</span>;</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160; </div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;    dopts.<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a4b1c019538c6575926e2e473a2b61b12">result</a> = &amp;<a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;    dopts.<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a09036727e3c2f6fe0562cab93596b44d">num_items</a> = 1;</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;    dopts.<a class="code" href="../../d0/d96/structdynamic__opts__s.html#a5b1852bd64ab79b0bca4ff94046773c8">item_size</a> = size;</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160; </div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#a507ab410a72f86f0d98ca025ce86d788">imalloc</a>(&amp;sopts, &amp;dopts);</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;<span class="comment">     * Note that this branch gets optimized away -- it immediately follows</span></div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;<span class="comment">     * the check on tsd_fast that sets sopts.slow.</span></div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;    <span class="keywordflow">if</span> (sopts.<a class="code" href="../../d6/d7c/structstatic__opts__s.html#a0b201929708af8d731b93d56cb794e71">slow</a>) {</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;        <a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a> args[3] = {size};</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;        <a class="code" href="../../dd/de2/private__namespace_8h.html#a6f495f026f3a26ce46461b977665c7a3">hook_invoke_alloc</a>(<a class="code" href="../../d6/d34/hook_8h.html#a727ba44c39035431416831558a894399a0611a3959f32f4e5e122484bc0f6369e">hook_alloc_malloc</a>, <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>, (<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)<a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>, args);</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;    }</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160; </div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;    <a class="code" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h.html#a75e06609d24538f41f99843923293841">LOG</a>(<span class="stringliteral">&quot;core.malloc.exit&quot;</span>, <span class="stringliteral">&quot;result: %p&quot;</span>, <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>);</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160; </div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;}</div>
<div class="ttc" id="ahook_8h_html_a727ba44c39035431416831558a894399a0611a3959f32f4e5e122484bc0f6369e"><div class="ttname"><a href="../../d6/d34/hook_8h.html#a727ba44c39035431416831558a894399a0611a3959f32f4e5e122484bc0f6369e">hook_alloc_malloc</a></div><div class="ttdeci">@ hook_alloc_malloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/hook_8h_source.html#l00052">hook.h:52</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01899">dynamic_opts_init()</a>, <a class="el" href="../../d6/d34/hook_8h_source.html#l00052">hook_alloc_malloc</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00223">hook_invoke_alloc</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02246">imalloc()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01891">dynamic_opts_s::item_size</a>, <a class="el" href="../../d0/d95/deps_2jemalloc_2include_2jemalloc_2internal_2_log_8h_source.html#l00107">LOG</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01835">static_opts_s::null_out_result_on_error</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01890">dynamic_opts_s::num_items</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01845">static_opts_s::oom_string</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01888">dynamic_opts_s::result</a>, <a class="el" href="../../df/d31/prof_8c_source.html#l00281">ret</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01837">static_opts_s::set_errno_on_error</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01856">static_opts_s::slow</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01864">static_opts_init()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02322">JEMALLOC_ATTR()</a>.</p>

</div>
</div>
<a id="a293cf98baff03c7fb3581b2d6a86dc3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a293cf98baff03c7fb3581b2d6a86dc3d">&#9670;&nbsp;</a></span>malloc_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> malloc_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00222">222</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                  {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(!<a class="code" href="../../d8/d80/jemalloc_8c.html#a01b7b0d8bcb19acba3bdea9fcb06cd7b">malloc_initialized</a>()) &amp;&amp; <a class="code" href="../../d8/d80/jemalloc_8c.html#a2c1ea0cfb9ed4a4da64de3cee0d04ad3">malloc_init_hard</a>()) {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    }</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;}</div>
<div class="ttc" id="ajemalloc_8c_html_a2c1ea0cfb9ed4a4da64de3cee0d04ad3"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a2c1ea0cfb9ed4a4da64de3cee0d04ad3">malloc_init_hard</a></div><div class="ttdeci">static bool malloc_init_hard(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01733">jemalloc.c:1733</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01733">malloc_init_hard()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00209">malloc_initialized()</a>, and <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00036">unlikely</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02228">imalloc_init_check()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03645">je_mallctl()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03687">je_mallctlbymib()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03667">je_mallctlnametomib()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03619">je_nallocx()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03774">jemalloc_constructor()</a>.</p>

</div>
</div>
<a id="a5c616b901f9ba5120368b5be68ef7f3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c616b901f9ba5120368b5be68ef7f3a">&#9670;&nbsp;</a></span>malloc_init_a0()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> malloc_init_a0 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00214">214</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                     {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#aa94afe6cfd4412d842b50d290fbb2f25">malloc_init_state</a> == <a class="code" href="../../d8/d80/jemalloc_8c.html#a5d300f5734516669c0ae1049d529a2bead6292aed10e45dfd5ff7df99194a5c4a">malloc_init_uninitialized</a>)) {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d8/d80/jemalloc_8c.html#af6586c24937d6f399d32789bb102ecc8">malloc_init_hard_a0</a>();</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;}</div>
<div class="ttc" id="ajemalloc_8c_html_aa94afe6cfd4412d842b50d290fbb2f25"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#aa94afe6cfd4412d842b50d290fbb2f25">malloc_init_state</a></div><div class="ttdeci">static malloc_init_t malloc_init_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00103">jemalloc.c:103</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_af6586c24937d6f399d32789bb102ecc8"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#af6586c24937d6f399d32789bb102ecc8">malloc_init_hard_a0</a></div><div class="ttdeci">static bool malloc_init_hard_a0(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01564">jemalloc.c:1564</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01564">malloc_init_hard_a0()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00103">malloc_init_state</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00098">malloc_init_uninitialized</a>, and <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00036">unlikely</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00235">a0ialloc()</a>.</p>

</div>
</div>
<a id="a2c1ea0cfb9ed4a4da64de3cee0d04ad3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c1ea0cfb9ed4a4da64de3cee0d04ad3">&#9670;&nbsp;</a></span>malloc_init_hard()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> malloc_init_hard </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01733">1733</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;                       {</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;    <a class="code" href="../../dc/d5c/structtsd__s.html">tsd_t</a> *tsd;</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160; </div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;<span class="preprocessor">#if defined(_WIN32) &amp;&amp; _WIN32_WINNT &lt; 0x0600</span></div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    _init_init_lock();</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    <a class="code" href="../../d0/df8/mutex_8h.html#a8ef3eafed2797ee477454ac0846022c5">malloc_mutex_lock</a>(<a class="code" href="../../db/d1d/tsd_8h.html#aa34793c8885227e81c7795ecbace8918">TSDN_NULL</a>, &amp;<a class="code" href="../../d8/d80/jemalloc_8c.html#aa910397ee13e42388902c8788fd6df6a">init_lock</a>);</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160; </div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;<span class="preprocessor">#define UNLOCK_RETURN(tsdn, ret, reentrancy)        \</span></div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;<span class="preprocessor">    malloc_init_hard_cleanup(tsdn, reentrancy); \</span></div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;<span class="preprocessor">    return ret;</span></div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160; </div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d80/jemalloc_8c.html#a425c9916b890012174ef97fac442187b">malloc_init_hard_needed</a>()) {</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#ae4fe1a86c7b6e4fdef78f0792519d473">UNLOCK_RETURN</a>(<a class="code" href="../../db/d1d/tsd_8h.html#aa34793c8885227e81c7795ecbace8918">TSDN_NULL</a>, <span class="keyword">false</span>, <span class="keyword">false</span>)</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;    }</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160; </div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#aa94afe6cfd4412d842b50d290fbb2f25">malloc_init_state</a> != <a class="code" href="../../d8/d80/jemalloc_8c.html#a5d300f5734516669c0ae1049d529a2bea589bae8a3cf89c6f94e7c317285d71c1">malloc_init_a0_initialized</a> &amp;&amp;</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#acc4cf7044f79b04085885460d4b8e715">malloc_init_hard_a0_locked</a>()) {</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#ae4fe1a86c7b6e4fdef78f0792519d473">UNLOCK_RETURN</a>(<a class="code" href="../../db/d1d/tsd_8h.html#aa34793c8885227e81c7795ecbace8918">TSDN_NULL</a>, <span class="keyword">true</span>, <span class="keyword">false</span>)</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    }</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160; </div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    <a class="code" href="../../d0/df8/mutex_8h.html#a154125aa931881a4a7f0ee6b59fe96ba">malloc_mutex_unlock</a>(<a class="code" href="../../db/d1d/tsd_8h.html#aa34793c8885227e81c7795ecbace8918">TSDN_NULL</a>, &amp;<a class="code" href="../../d8/d80/jemalloc_8c.html#aa910397ee13e42388902c8788fd6df6a">init_lock</a>);</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    <span class="comment">/* Recursive allocation relies on functional tsd. */</span></div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    tsd = <a class="code" href="../../dd/de2/private__namespace_8h.html#a85f15915797ecfd65bfbe4adaceb19ee">malloc_tsd_boot0</a>();</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    <span class="keywordflow">if</span> (tsd == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>) {</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    }</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#adcafbf9ecb8b6b72db2f915e16734b81">malloc_init_hard_recursible</a>()) {</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    }</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160; </div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    <a class="code" href="../../d0/df8/mutex_8h.html#a8ef3eafed2797ee477454ac0846022c5">malloc_mutex_lock</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), &amp;<a class="code" href="../../d8/d80/jemalloc_8c.html#aa910397ee13e42388902c8788fd6df6a">init_lock</a>);</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    <span class="comment">/* Set reentrancy level to 1 during init. */</span></div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#a779afe384cdd9fc8814e42dc7f00889d">pre_reentrancy</a>(tsd, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    <span class="comment">/* Initialize narenas before prof_boot2 (for allocation). */</span></div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#a0b0f70083639b2a058577f212556550d">malloc_init_narenas</a>() || <a class="code" href="../../dd/de2/private__namespace_8h.html#abfd995862c3e7f6b4591636bad4f4273">background_thread_boot1</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd))) {</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#ae4fe1a86c7b6e4fdef78f0792519d473">UNLOCK_RETURN</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), <span class="keyword">true</span>, <span class="keyword">true</span>)</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    }</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a6bba19605480b2588c644265529447c2">config_prof</a> &amp;&amp; <a class="code" href="../../dd/de2/private__namespace_8h.html#a447711ed9790879a305532a794d0d1a8">prof_boot2</a>(tsd)) {</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#ae4fe1a86c7b6e4fdef78f0792519d473">UNLOCK_RETURN</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), <span class="keyword">true</span>, <span class="keyword">true</span>)</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    }</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160; </div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ac8b19a69f3c74ee421d1de124438e291">malloc_init_percpu</a>();</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160; </div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#a9da36721bf0d23235f26aa5daf2149e5">malloc_init_hard_finish</a>()) {</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#ae4fe1a86c7b6e4fdef78f0792519d473">UNLOCK_RETURN</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), <span class="keyword">true</span>, <span class="keyword">true</span>)</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    }</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#a98f0e2f11219ec3ff72676626b9b6b2e">post_reentrancy</a>(tsd);</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;    <a class="code" href="../../d0/df8/mutex_8h.html#a154125aa931881a4a7f0ee6b59fe96ba">malloc_mutex_unlock</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), &amp;<a class="code" href="../../d8/d80/jemalloc_8c.html#aa910397ee13e42388902c8788fd6df6a">init_lock</a>);</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160; </div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    <a class="code" href="../../dc/ddf/witness_8h.html#a4ed1ee40ac9d1d6876e6d804c7f418a1">witness_assert_lockless</a>(<a class="code" href="../../dc/ddf/witness_8h.html#a94c27ac0e4d7859926eba816c0b78236">witness_tsd_tsdn</a>(</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;        tsd_witness_tsdp_get_unsafe(tsd)));</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#a8e25e133fa9c930fdbfbb81edf5efcd2">malloc_tsd_boot1</a>();</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    <span class="comment">/* Update TSD after tsd_boot1. */</span></div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    tsd = <a class="code" href="../../db/d1d/tsd_8h.html#aa09b1487cb924fd62ac5171c3d267802">tsd_fetch</a>();</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de2/private__namespace_8h.html#a7be114138704da701acb29c82942e61f">opt_background_thread</a>) {</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;        <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../d1/d18/jemalloc__preamble_8h.html#ae33bd0d1072ba0ee3d48cd7097e3ea91">have_background_thread</a>);</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;<span class="comment">         * Need to finish init &amp; unlock first before creating background</span></div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;<span class="comment">         * threads (pthread_create depends on malloc).  ctl_init (which</span></div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;<span class="comment">         * sets isthreaded) needs to be called without holding any lock.</span></div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;        <a class="code" href="../../dd/de2/private__namespace_8h.html#a0a33b45bbf9ebd35678cc19ca8ef95e2">background_thread_ctl_init</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/de2/private__namespace_8h.html#a82bc6b5fc3920279d2c0b6ca1e650083">background_thread_create</a>(tsd, 0)) {</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;        }</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;    }</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;<span class="preprocessor">#undef UNLOCK_RETURN</span></div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;}</div>
<div class="ttc" id="ajemalloc_8c_html_a0b0f70083639b2a058577f212556550d"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a0b0f70083639b2a058577f212556550d">malloc_init_narenas</a></div><div class="ttdeci">static bool malloc_init_narenas(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01628">jemalloc.c:1628</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a425c9916b890012174ef97fac442187b"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a425c9916b890012174ef97fac442187b">malloc_init_hard_needed</a></div><div class="ttdeci">static bool malloc_init_hard_needed(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01453">jemalloc.c:1453</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a9da36721bf0d23235f26aa5daf2149e5"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a9da36721bf0d23235f26aa5daf2149e5">malloc_init_hard_finish</a></div><div class="ttdeci">static bool malloc_init_hard_finish(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01709">jemalloc.c:1709</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_aa910397ee13e42388902c8788fd6df6a"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#aa910397ee13e42388902c8788fd6df6a">init_lock</a></div><div class="ttdeci">static malloc_mutex_t init_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00166">jemalloc.c:166</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_ac8b19a69f3c74ee421d1de124438e291"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#ac8b19a69f3c74ee421d1de124438e291">malloc_init_percpu</a></div><div class="ttdeci">static void malloc_init_percpu(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01704">jemalloc.c:1704</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_acc4cf7044f79b04085885460d4b8e715"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#acc4cf7044f79b04085885460d4b8e715">malloc_init_hard_a0_locked</a></div><div class="ttdeci">static bool malloc_init_hard_a0_locked()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01479">jemalloc.c:1479</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_adcafbf9ecb8b6b72db2f915e16734b81"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#adcafbf9ecb8b6b72db2f915e16734b81">malloc_init_hard_recursible</a></div><div class="ttdeci">static bool malloc_init_hard_recursible(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01575">jemalloc.c:1575</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_ae4fe1a86c7b6e4fdef78f0792519d473"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#ae4fe1a86c7b6e4fdef78f0792519d473">UNLOCK_RETURN</a></div><div class="ttdeci">#define UNLOCK_RETURN(tsdn, ret, reentrancy)</div></div>
<div class="ttc" id="ajemalloc__internal__inlines__a_8h_html_a779afe384cdd9fc8814e42dc7f00889d"><div class="ttname"><a href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#a779afe384cdd9fc8814e42dc7f00889d">pre_reentrancy</a></div><div class="ttdeci">static void pre_reentrancy(tsd_t *tsd, arena_t *arena)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00151">jemalloc_internal_inlines_a.h:151</a></div></div>
<div class="ttc" id="ajemalloc__internal__inlines__a_8h_html_a98f0e2f11219ec3ff72676626b9b6b2e"><div class="ttname"><a href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#a98f0e2f11219ec3ff72676626b9b6b2e">post_reentrancy</a></div><div class="ttdeci">static void post_reentrancy(tsd_t *tsd)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00166">jemalloc_internal_inlines_a.h:166</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a0a33b45bbf9ebd35678cc19ca8ef95e2"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a0a33b45bbf9ebd35678cc19ca8ef95e2">background_thread_ctl_init</a></div><div class="ttdeci">#define background_thread_ctl_init</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00101">private_namespace.h:101</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a447711ed9790879a305532a794d0d1a8"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a447711ed9790879a305532a794d0d1a8">prof_boot2</a></div><div class="ttdeci">#define prof_boot2</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00315">private_namespace.h:315</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a85f15915797ecfd65bfbe4adaceb19ee"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a85f15915797ecfd65bfbe4adaceb19ee">malloc_tsd_boot0</a></div><div class="ttdeci">#define malloc_tsd_boot0</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00396">private_namespace.h:396</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a8e25e133fa9c930fdbfbb81edf5efcd2"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a8e25e133fa9c930fdbfbb81edf5efcd2">malloc_tsd_boot1</a></div><div class="ttdeci">#define malloc_tsd_boot1</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00397">private_namespace.h:397</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_abfd995862c3e7f6b4591636bad4f4273"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#abfd995862c3e7f6b4591636bad4f4273">background_thread_boot1</a></div><div class="ttdeci">#define background_thread_boot1</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00099">private_namespace.h:99</a></div></div>
<div class="ttc" id="awitness_8h_html_a94c27ac0e4d7859926eba816c0b78236"><div class="ttname"><a href="../../dc/ddf/witness_8h.html#a94c27ac0e4d7859926eba816c0b78236">witness_tsd_tsdn</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE witness_tsdn_t * witness_tsd_tsdn(witness_tsd_t *witness_tsd)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/ddf/witness_8h_source.html#l00125">witness.h:125</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00099">background_thread_boot1</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00100">background_thread_create</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00101">background_thread_ctl_init</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00106">config_prof</a>, <a class="el" href="../../d1/d18/jemalloc__preamble_8h_source.html#l00205">have_background_thread</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00166">init_lock</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00099">malloc_init_a0_initialized</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01479">malloc_init_hard_a0_locked()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01709">malloc_init_hard_finish()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01453">malloc_init_hard_needed()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01575">malloc_init_hard_recursible()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01628">malloc_init_narenas()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01704">malloc_init_percpu()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00103">malloc_init_state</a>, <a class="el" href="../../d0/df8/mutex_8h_source.html#l00217">malloc_mutex_lock()</a>, <a class="el" href="../../d0/df8/mutex_8h_source.html#l00230">malloc_mutex_unlock()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00396">malloc_tsd_boot0</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00397">malloc_tsd_boot1</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00115">opt_background_thread</a>, <a class="el" href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00166">post_reentrancy()</a>, <a class="el" href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00151">pre_reentrancy()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00315">prof_boot2</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00376">tsd_fetch()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00224">tsd_tsdn()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00222">TSDN_NULL</a>, <a class="el" href="../../d8/d80/jemalloc_8c.html#ae4fe1a86c7b6e4fdef78f0792519d473">UNLOCK_RETURN</a>, <a class="el" href="../../dc/ddf/witness_8h_source.html#l00270">witness_assert_lockless()</a>, and <a class="el" href="../../dc/ddf/witness_8h_source.html#l00125">witness_tsd_tsdn()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00222">malloc_init()</a>.</p>

</div>
</div>
<a id="af6586c24937d6f399d32789bb102ecc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6586c24937d6f399d32789bb102ecc8">&#9670;&nbsp;</a></span>malloc_init_hard_a0()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> malloc_init_hard_a0 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01564">1564</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;                          {</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160; </div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    <a class="code" href="../../d0/df8/mutex_8h.html#a8ef3eafed2797ee477454ac0846022c5">malloc_mutex_lock</a>(<a class="code" href="../../db/d1d/tsd_8h.html#aa34793c8885227e81c7795ecbace8918">TSDN_NULL</a>, &amp;<a class="code" href="../../d8/d80/jemalloc_8c.html#aa910397ee13e42388902c8788fd6df6a">init_lock</a>);</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code" href="../../d8/d80/jemalloc_8c.html#acc4cf7044f79b04085885460d4b8e715">malloc_init_hard_a0_locked</a>();</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    <a class="code" href="../../d0/df8/mutex_8h.html#a154125aa931881a4a7f0ee6b59fe96ba">malloc_mutex_unlock</a>(<a class="code" href="../../db/d1d/tsd_8h.html#aa34793c8885227e81c7795ecbace8918">TSDN_NULL</a>, &amp;<a class="code" href="../../d8/d80/jemalloc_8c.html#aa910397ee13e42388902c8788fd6df6a">init_lock</a>);</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00166">init_lock</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01479">malloc_init_hard_a0_locked()</a>, <a class="el" href="../../d0/df8/mutex_8h_source.html#l00217">malloc_mutex_lock()</a>, <a class="el" href="../../d0/df8/mutex_8h_source.html#l00230">malloc_mutex_unlock()</a>, <a class="el" href="../../df/d31/prof_8c_source.html#l00281">ret</a>, and <a class="el" href="../../db/d1d/tsd_8h_source.html#l00222">TSDN_NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00214">malloc_init_a0()</a>.</p>

</div>
</div>
<a id="acc4cf7044f79b04085885460d4b8e715"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc4cf7044f79b04085885460d4b8e715">&#9670;&nbsp;</a></span>malloc_init_hard_a0_locked()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> malloc_init_hard_a0_locked </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01479">1479</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;                             {</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#a8400570f1e40143af4be1cfc16f3faf1">malloc_initializer</a> = <a class="code" href="../../d8/d80/jemalloc_8c.html#a6de9cd0c9d351ed9eac04d9cd64827f4">INITIALIZER</a>;</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160; </div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    <a class="code" href="../../db/d61/jemalloc__internal__macros_8h.html#acb2c2ec9dcc349dd329132c03bbe1010">JEMALLOC_DIAGNOSTIC_PUSH</a></div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    <a class="code" href="../../db/d61/jemalloc__internal__macros_8h.html#abb9bc13e4454184a3f6f353a2403ecd2">JEMALLOC_DIAGNOSTIC_IGNORE_MISSING_STRUCT_FIELD_INITIALIZERS</a></div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    <a class="code" href="../../d1/d9e/structsc__data__s.html">sc_data_t</a> sc_data = {0};</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    <a class="code" href="../../db/d61/jemalloc__internal__macros_8h.html#a58a1ab244481174467293f0ae935bfe3">JEMALLOC_DIAGNOSTIC_POP</a></div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160; </div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;<span class="comment">     * Ordering here is somewhat tricky; we need sc_boot() first, since that</span></div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;<span class="comment">     * determines what the size classes will be, and then</span></div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;<span class="comment">     * malloc_conf_init(), since any slab size tweaking will need to be done</span></div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;<span class="comment">     * before sz_boot and bin_boot, which assume that the values they read</span></div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;<span class="comment">     * out of sc_data_global are final.</span></div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#a951f1463f60f11c27981240e2bd0833a">sc_boot</a>(&amp;sc_data);</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    <span class="keywordtype">unsigned</span> bin_shard_sizes[<a class="code" href="../../d9/d50/sc_8h.html#a27ab0819dfe55034e37976d220e9940c">SC_NBINS</a>];</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#afa6f04a2a822713a1285ecaa94361dae">bin_shard_sizes_boot</a>(bin_shard_sizes);</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;<span class="comment">     * prof_boot0 only initializes opt_prof_prefix.  We need to do it before</span></div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;<span class="comment">     * we parse malloc_conf options, in case malloc_conf parsing overwrites</span></div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;<span class="comment">     * it.</span></div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a6bba19605480b2588c644265529447c2">config_prof</a>) {</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;        <a class="code" href="../../dd/de2/private__namespace_8h.html#a00c607d1fd3ece3d022fe05859f80a2e">prof_boot0</a>();</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    }</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#acb11fc9275df8e40d353b32c8d8716c0">malloc_conf_init</a>(&amp;sc_data, bin_shard_sizes);</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#adbb014cf11fe58c3e00cf95d9af1b686">sz_boot</a>(&amp;sc_data);</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#a2b239b67f9e0d7618234db58367fd266">bin_boot</a>(&amp;sc_data, bin_shard_sizes);</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160; </div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de2/private__namespace_8h.html#a6c77d6ae00ae4f976249319555ae2efa">opt_stats_print</a>) {</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;        <span class="comment">/* Print statistics at exit. */</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;        <span class="keywordflow">if</span> (atexit(<a class="code" href="../../d8/d80/jemalloc_8c.html#a146ce08675a6dab3ea9abb47608ee491">stats_print_atexit</a>) != 0) {</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;            <a class="code" href="../../dd/de2/private__namespace_8h.html#aa5e64f0a9668adb32f12d43a5d04f09a">malloc_write</a>(<span class="stringliteral">&quot;&lt;jemalloc&gt;: Error in atexit()\n&quot;</span>);</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#a7c1b61d3016ffe1bb7daf5d000c14ab9">opt_abort</a>) {</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;                abort();</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;            }</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;        }</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    }</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de2/private__namespace_8h.html#abac5a1c6c8d9181aa2e6f6f558534e4d">pages_boot</a>()) {</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    }</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de2/private__namespace_8h.html#a91cd77bcc144c37d0aca6caf09642421">base_boot</a>(<a class="code" href="../../db/d1d/tsd_8h.html#aa34793c8885227e81c7795ecbace8918">TSDN_NULL</a>)) {</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    }</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de2/private__namespace_8h.html#a16dc1924d43ad6a39e285e0acf849ae3">extent_boot</a>()) {</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    }</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de2/private__namespace_8h.html#ab659bc5940a052f4519bf8e90fca3ec0">ctl_boot</a>()) {</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    }</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a6bba19605480b2588c644265529447c2">config_prof</a>) {</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;        <a class="code" href="../../dd/de2/private__namespace_8h.html#a5e3292e539a0937205241b1b4a5daf34">prof_boot1</a>();</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    }</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#a266f2aa8e72a6e227d836c3da9e8f1f0">arena_boot</a>(&amp;sc_data);</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de2/private__namespace_8h.html#af742da8beb2339f33e7a66ff60e165bd">tcache_boot</a>(<a class="code" href="../../db/d1d/tsd_8h.html#aa34793c8885227e81c7795ecbace8918">TSDN_NULL</a>)) {</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    }</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de2/private__namespace_8h.html#a58fdfeb9297363737d0356d1642aff4c">malloc_mutex_init</a>(&amp;<a class="code" href="../../d8/d80/jemalloc_8c.html#a98e3833a2f20e314304e382556ec75f1">arenas_lock</a>, <span class="stringliteral">&quot;arenas&quot;</span>, <a class="code" href="../../dc/ddf/witness_8h.html#a9ce3c58834438dcbffced98c01f3ad80">WITNESS_RANK_ARENAS</a>,</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;        <a class="code" href="../../d0/df8/mutex_8h.html#a21892b4cfd3becc104e49e54b29d725fa79f6298caf20c2ebf13d35cb2d44ecc0">malloc_mutex_rank_exclusive</a>)) {</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    }</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    <a class="code" href="../../d6/d34/hook_8h.html#adc44b2d6aae79829824e3abf1ae51871">hook_boot</a>();</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;<span class="comment">     * Create enough scaffolding to allow recursive allocation in</span></div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;<span class="comment">     * malloc_ncpus().</span></div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ae9d6a15b8260ba57e1781be757233789">narenas_auto</a> = 1;</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#a76a1030556e1f53d588940e0e23761bc">manual_arena_base</a> = <a class="code" href="../../d8/d80/jemalloc_8c.html#ae9d6a15b8260ba57e1781be757233789">narenas_auto</a> + 1;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#aa4c32fd6a358b290e1d8b304c44b313f">arenas</a>, 0, <span class="keyword">sizeof</span>(<a class="code" href="../../da/dc2/structarena__s.html">arena_t</a> *) * <a class="code" href="../../d8/d80/jemalloc_8c.html#ae9d6a15b8260ba57e1781be757233789">narenas_auto</a>);</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;<span class="comment">     * Initialize one arena here.  The rest are lazily created in</span></div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;<span class="comment">     * arena_choose_hard().</span></div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#a23a2391c4ae19597391e5e93f560ce41">arena_init</a>(<a class="code" href="../../db/d1d/tsd_8h.html#aa34793c8885227e81c7795ecbace8918">TSDN_NULL</a>, 0, (<a class="code" href="../../df/d05/structextent__hooks__s.html">extent_hooks_t</a> *)&amp;<a class="code" href="../../dd/de2/private__namespace_8h.html#ac6d645bd7b2a3e4e3ae0b3b2e0ae7619">extent_hooks_default</a>)</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;        == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>) {</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    }</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#a7f531dd76e2b7bed05becca9c598868c">a0</a> = <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#afc61837312aeb8ba2123252226db9ce0">arena_get</a>(<a class="code" href="../../db/d1d/tsd_8h.html#aa34793c8885227e81c7795ecbace8918">TSDN_NULL</a>, 0, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#aa94afe6cfd4412d842b50d290fbb2f25">malloc_init_state</a> = <a class="code" href="../../d8/d80/jemalloc_8c.html#a5d300f5734516669c0ae1049d529a2bea589bae8a3cf89c6f94e7c317285d71c1">malloc_init_a0_initialized</a>;</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160; </div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;}</div>
<div class="ttc" id="ahook_8h_html_adc44b2d6aae79829824e3abf1ae51871"><div class="ttname"><a href="../../d6/d34/hook_8h.html#adc44b2d6aae79829824e3abf1ae51871">hook_boot</a></div><div class="ttdeci">bool hook_boot()</div></div>
<div class="ttc" id="ajemalloc_8c_html_a146ce08675a6dab3ea9abb47608ee491"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a146ce08675a6dab3ea9abb47608ee491">stats_print_atexit</a></div><div class="ttdeci">static void stats_print_atexit(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00647">jemalloc.c:647</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a23a2391c4ae19597391e5e93f560ce41"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a23a2391c4ae19597391e5e93f560ce41">arena_init</a></div><div class="ttdeci">arena_t * arena_init(tsdn_t *tsdn, unsigned ind, extent_hooks_t *extent_hooks)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00364">jemalloc.c:364</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a6de9cd0c9d351ed9eac04d9cd64827f4"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a6de9cd0c9d351ed9eac04d9cd64827f4">INITIALIZER</a></div><div class="ttdeci">#define INITIALIZER</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00126">jemalloc.c:126</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a76a1030556e1f53d588940e0e23761bc"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a76a1030556e1f53d588940e0e23761bc">manual_arena_base</a></div><div class="ttdeci">unsigned manual_arena_base</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00095">jemalloc.c:95</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a7f531dd76e2b7bed05becca9c598868c"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a7f531dd76e2b7bed05becca9c598868c">a0</a></div><div class="ttdeci">static arena_t * a0</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00093">jemalloc.c:93</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a8400570f1e40143af4be1cfc16f3faf1"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a8400570f1e40143af4be1cfc16f3faf1">malloc_initializer</a></div><div class="ttdeci">static bool malloc_initializer</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00128">jemalloc.c:128</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_acb11fc9275df8e40d353b32c8d8716c0"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#acb11fc9275df8e40d353b32c8d8716c0">malloc_conf_init</a></div><div class="ttdeci">static void malloc_conf_init(sc_data_t *sc_data, unsigned bin_shard_sizes[SC_NBINS])</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01440">jemalloc.c:1440</a></div></div>
<div class="ttc" id="ajemalloc__internal__macros_8h_html_abb9bc13e4454184a3f6f353a2403ecd2"><div class="ttname"><a href="../../db/d61/jemalloc__internal__macros_8h.html#abb9bc13e4454184a3f6f353a2403ecd2">JEMALLOC_DIAGNOSTIC_IGNORE_MISSING_STRUCT_FIELD_INITIALIZERS</a></div><div class="ttdeci">#define JEMALLOC_DIAGNOSTIC_IGNORE_MISSING_STRUCT_FIELD_INITIALIZERS</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d61/jemalloc__internal__macros_8h_source.html#l00102">jemalloc_internal_macros.h:102</a></div></div>
<div class="ttc" id="amutex_8h_html_a21892b4cfd3becc104e49e54b29d725fa79f6298caf20c2ebf13d35cb2d44ecc0"><div class="ttname"><a href="../../d0/df8/mutex_8h.html#a21892b4cfd3becc104e49e54b29d725fa79f6298caf20c2ebf13d35cb2d44ecc0">malloc_mutex_rank_exclusive</a></div><div class="ttdeci">@ malloc_mutex_rank_exclusive</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df8/mutex_8h_source.html#l00011">mutex.h:11</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a00c607d1fd3ece3d022fe05859f80a2e"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a00c607d1fd3ece3d022fe05859f80a2e">prof_boot0</a></div><div class="ttdeci">#define prof_boot0</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00313">private_namespace.h:313</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a16dc1924d43ad6a39e285e0acf849ae3"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a16dc1924d43ad6a39e285e0acf849ae3">extent_boot</a></div><div class="ttdeci">#define extent_boot</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00172">private_namespace.h:172</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a266f2aa8e72a6e227d836c3da9e8f1f0"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a266f2aa8e72a6e227d836c3da9e8f1f0">arena_boot</a></div><div class="ttdeci">#define arena_boot</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00042">private_namespace.h:42</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a2b239b67f9e0d7618234db58367fd266"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a2b239b67f9e0d7618234db58367fd266">bin_boot</a></div><div class="ttdeci">#define bin_boot</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00132">private_namespace.h:132</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a58fdfeb9297363737d0356d1642aff4c"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a58fdfeb9297363737d0356d1642aff4c">malloc_mutex_init</a></div><div class="ttdeci">#define malloc_mutex_init</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00254">private_namespace.h:254</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a5e3292e539a0937205241b1b4a5daf34"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a5e3292e539a0937205241b1b4a5daf34">prof_boot1</a></div><div class="ttdeci">#define prof_boot1</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00314">private_namespace.h:314</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a91cd77bcc144c37d0aca6caf09642421"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a91cd77bcc144c37d0aca6caf09642421">base_boot</a></div><div class="ttdeci">#define base_boot</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00121">private_namespace.h:121</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a951f1463f60f11c27981240e2bd0833a"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a951f1463f60f11c27981240e2bd0833a">sc_boot</a></div><div class="ttdeci">#define sc_boot</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00360">private_namespace.h:360</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_ab659bc5940a052f4519bf8e90fca3ec0"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#ab659bc5940a052f4519bf8e90fca3ec0">ctl_boot</a></div><div class="ttdeci">#define ctl_boot</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00154">private_namespace.h:154</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_abac5a1c6c8d9181aa2e6f6f558534e4d"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#abac5a1c6c8d9181aa2e6f6f558534e4d">pages_boot</a></div><div class="ttdeci">#define pages_boot</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00280">private_namespace.h:280</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_adbb014cf11fe58c3e00cf95d9af1b686"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#adbb014cf11fe58c3e00cf95d9af1b686">sz_boot</a></div><div class="ttdeci">#define sz_boot</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00364">private_namespace.h:364</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_af742da8beb2339f33e7a66ff60e165bd"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#af742da8beb2339f33e7a66ff60e165bd">tcache_boot</a></div><div class="ttdeci">#define tcache_boot</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00377">private_namespace.h:377</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_afa6f04a2a822713a1285ecaa94361dae"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#afa6f04a2a822713a1285ecaa94361dae">bin_shard_sizes_boot</a></div><div class="ttdeci">#define bin_shard_sizes_boot</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00138">private_namespace.h:138</a></div></div>
<div class="ttc" id="astructsc__data__s_html"><div class="ttname"><a href="../../d1/d9e/structsc__data__s.html">sc_data_s</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d50/sc_8h_source.html#l00293">sc.h:293</a></div></div>
<div class="ttc" id="awitness_8h_html_a9ce3c58834438dcbffced98c01f3ad80"><div class="ttname"><a href="../../dc/ddf/witness_8h.html#a9ce3c58834438dcbffced98c01f3ad80">WITNESS_RANK_ARENAS</a></div><div class="ttdeci">#define WITNESS_RANK_ARENAS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/ddf/witness_8h_source.html#l00022">witness.h:22</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00093">a0</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00042">arena_boot</a>, <a class="el" href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00085">arena_get()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00364">arena_init()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00090">arenas</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00078">arenas_lock</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00121">base_boot</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00132">bin_boot</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00138">bin_shard_sizes_boot</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00106">config_prof</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00154">ctl_boot</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00172">extent_boot</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00187">extent_hooks_default</a>, <a class="el" href="../../d6/d34/hook_8h.html#adc44b2d6aae79829824e3abf1ae51871">hook_boot()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00126">INITIALIZER</a>, <a class="el" href="../../db/d61/jemalloc__internal__macros_8h_source.html#l00102">JEMALLOC_DIAGNOSTIC_IGNORE_MISSING_STRUCT_FIELD_INITIALIZERS</a>, <a class="el" href="../../db/d61/jemalloc__internal__macros_8h_source.html#l00100">JEMALLOC_DIAGNOSTIC_POP</a>, <a class="el" href="../../db/d61/jemalloc__internal__macros_8h_source.html#l00099">JEMALLOC_DIAGNOSTIC_PUSH</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01440">malloc_conf_init()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00099">malloc_init_a0_initialized</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00103">malloc_init_state</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00128">malloc_initializer</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00254">malloc_mutex_init</a>, <a class="el" href="../../d0/df8/mutex_8h_source.html#l00011">malloc_mutex_rank_exclusive</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00252">malloc_write</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00095">manual_arena_base</a>, <a class="el" href="../../d6/dda/m__string_8h_source.html#l00051">memset</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00094">narenas_auto</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00032">opt_abort</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00357">opt_stats_print</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00280">pages_boot</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00313">prof_boot0</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00314">prof_boot1</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00360">sc_boot</a>, <a class="el" href="../../d9/d50/sc_8h_source.html#l00229">SC_NBINS</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00647">stats_print_atexit()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00364">sz_boot</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00377">tcache_boot</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00222">TSDN_NULL</a>, and <a class="el" href="../../dc/ddf/witness_8h_source.html#l00022">WITNESS_RANK_ARENAS</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01733">malloc_init_hard()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01564">malloc_init_hard_a0()</a>.</p>

</div>
</div>
<a id="a94b8c9ae2e64ca1ad662c6e3bcb30af8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94b8c9ae2e64ca1ad662c6e3bcb30af8">&#9670;&nbsp;</a></span>malloc_init_hard_cleanup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void malloc_init_hard_cleanup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *&#160;</td>
          <td class="paramname"><em>tsdn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>reentrancy_set</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01721">1721</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;                                                            {</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    <a class="code" href="../../d0/df8/mutex_8h.html#ad2b573262567521833d560e50e216a00">malloc_mutex_assert_owner</a>(tsdn, &amp;<a class="code" href="../../d8/d80/jemalloc_8c.html#aa910397ee13e42388902c8788fd6df6a">init_lock</a>);</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    <a class="code" href="../../d0/df8/mutex_8h.html#a154125aa931881a4a7f0ee6b59fe96ba">malloc_mutex_unlock</a>(tsdn, &amp;<a class="code" href="../../d8/d80/jemalloc_8c.html#aa910397ee13e42388902c8788fd6df6a">init_lock</a>);</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    <span class="keywordflow">if</span> (reentrancy_set) {</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;        <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(!<a class="code" href="../../db/d1d/tsd_8h.html#a46a186c007cb1897b80f014c43f762ba">tsdn_null</a>(tsdn));</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;        <a class="code" href="../../dc/d5c/structtsd__s.html">tsd_t</a> *tsd = <a class="code" href="../../db/d1d/tsd_8h.html#a261ce33c28d5ef1b6e80d94b18b574d0">tsdn_tsd</a>(tsdn);</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;        <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(tsd_reentrancy_level_get(tsd) &gt; 0);</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;        <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#a98f0e2f11219ec3ff72676626b9b6b2e">post_reentrancy</a>(tsd);</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    }</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;}</div>
<div class="ttc" id="amutex_8h_html_ad2b573262567521833d560e50e216a00"><div class="ttname"><a href="../../d0/df8/mutex_8h.html#ad2b573262567521833d560e50e216a00">malloc_mutex_assert_owner</a></div><div class="ttdeci">static void malloc_mutex_assert_owner(tsdn_t *tsdn, malloc_mutex_t *mutex)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df8/mutex_8h_source.html#l00239">mutex.h:239</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00166">init_lock</a>, <a class="el" href="../../d0/df8/mutex_8h_source.html#l00239">malloc_mutex_assert_owner()</a>, <a class="el" href="../../d0/df8/mutex_8h_source.html#l00230">malloc_mutex_unlock()</a>, <a class="el" href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00166">post_reentrancy()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00229">tsdn_null()</a>, and <a class="el" href="../../db/d1d/tsd_8h_source.html#l00234">tsdn_tsd()</a>.</p>

</div>
</div>
<a id="a9da36721bf0d23235f26aa5daf2149e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9da36721bf0d23235f26aa5daf2149e5">&#9670;&nbsp;</a></span>malloc_init_hard_finish()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> malloc_init_hard_finish </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01709">1709</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;                              {</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de2/private__namespace_8h.html#a195ba5c1020d2f436903fda414de4a42">malloc_mutex_boot</a>()) {</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    }</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160; </div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#aa94afe6cfd4412d842b50d290fbb2f25">malloc_init_state</a> = <a class="code" href="../../d8/d80/jemalloc_8c.html#a5d300f5734516669c0ae1049d529a2bea98fb0f3bceca1918adec6c0f8ca43368">malloc_init_initialized</a>;</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#a3889307af5e20e24de40d2efcaa83a38">malloc_slow_flag_init</a>();</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160; </div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;}</div>
<div class="ttc" id="ajemalloc_8c_html_a3889307af5e20e24de40d2efcaa83a38"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a3889307af5e20e24de40d2efcaa83a38">malloc_slow_flag_init</a></div><div class="ttdeci">static void malloc_slow_flag_init(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00920">jemalloc.c:920</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a195ba5c1020d2f436903fda414de4a42"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a195ba5c1020d2f436903fda414de4a42">malloc_mutex_boot</a></div><div class="ttdeci">#define malloc_mutex_boot</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00253">private_namespace.h:253</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00101">malloc_init_initialized</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00103">malloc_init_state</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00253">malloc_mutex_boot</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00920">malloc_slow_flag_init()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01733">malloc_init_hard()</a>.</p>

</div>
</div>
<a id="a425c9916b890012174ef97fac442187b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a425c9916b890012174ef97fac442187b">&#9670;&nbsp;</a></span>malloc_init_hard_needed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> malloc_init_hard_needed </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01453">1453</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;                              {</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#a01b7b0d8bcb19acba3bdea9fcb06cd7b">malloc_initialized</a>() || (<a class="code" href="../../d8/d80/jemalloc_8c.html#ae85e4c6cf761558babffa1b8af5baffc">IS_INITIALIZER</a> &amp;&amp; <a class="code" href="../../d8/d80/jemalloc_8c.html#aa94afe6cfd4412d842b50d290fbb2f25">malloc_init_state</a> ==</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#a5d300f5734516669c0ae1049d529a2bea63b46c755cfbec0e45dd57d21586e47b">malloc_init_recursible</a>)) {</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;<span class="comment">         * Another thread initialized the allocator before this one</span></div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;<span class="comment">         * acquired init_lock, or this thread is the initializing</span></div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;<span class="comment">         * thread, and it is recursively allocating.</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    }</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;<span class="preprocessor">#ifdef JEMALLOC_THREADED_INIT</span></div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#a8400570f1e40143af4be1cfc16f3faf1">malloc_initializer</a> != <a class="code" href="../../d8/d80/jemalloc_8c.html#ac19ee6dc36258a288840ca42da370e66">NO_INITIALIZER</a> &amp;&amp; !<a class="code" href="../../d8/d80/jemalloc_8c.html#ae85e4c6cf761558babffa1b8af5baffc">IS_INITIALIZER</a>) {</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;        <span class="comment">/* Busy-wait until the initializing thread completes. */</span></div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;        <a class="code" href="../../da/dca/structspin__t.html">spin_t</a> spinner = <a class="code" href="../../d9/d84/spin_8h.html#a058d56dff61b46c50bd104db0352810d">SPIN_INITIALIZER</a>;</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;            <a class="code" href="../../d0/df8/mutex_8h.html#a154125aa931881a4a7f0ee6b59fe96ba">malloc_mutex_unlock</a>(<a class="code" href="../../db/d1d/tsd_8h.html#aa34793c8885227e81c7795ecbace8918">TSDN_NULL</a>, &amp;<a class="code" href="../../d8/d80/jemalloc_8c.html#aa910397ee13e42388902c8788fd6df6a">init_lock</a>);</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;            <a class="code" href="../../d9/d84/spin_8h.html#a329957237622ec63142e90789e30976f">spin_adaptive</a>(&amp;spinner);</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;            <a class="code" href="../../d0/df8/mutex_8h.html#a8ef3eafed2797ee477454ac0846022c5">malloc_mutex_lock</a>(<a class="code" href="../../db/d1d/tsd_8h.html#aa34793c8885227e81c7795ecbace8918">TSDN_NULL</a>, &amp;<a class="code" href="../../d8/d80/jemalloc_8c.html#aa910397ee13e42388902c8788fd6df6a">init_lock</a>);</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;        } <span class="keywordflow">while</span> (!<a class="code" href="../../d8/d80/jemalloc_8c.html#a01b7b0d8bcb19acba3bdea9fcb06cd7b">malloc_initialized</a>());</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    }</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;}</div>
<div class="ttc" id="ajemalloc_8c_html_ac19ee6dc36258a288840ca42da370e66"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#ac19ee6dc36258a288840ca42da370e66">NO_INITIALIZER</a></div><div class="ttdeci">#define NO_INITIALIZER</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00125">jemalloc.c:125</a></div></div>
<div class="ttc" id="aspin_8h_html_a058d56dff61b46c50bd104db0352810d"><div class="ttname"><a href="../../d9/d84/spin_8h.html#a058d56dff61b46c50bd104db0352810d">SPIN_INITIALIZER</a></div><div class="ttdeci">#define SPIN_INITIALIZER</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d84/spin_8h_source.html#l00004">spin.h:4</a></div></div>
<div class="ttc" id="aspin_8h_html_a329957237622ec63142e90789e30976f"><div class="ttname"><a href="../../d9/d84/spin_8h.html#a329957237622ec63142e90789e30976f">spin_adaptive</a></div><div class="ttdeci">static void spin_adaptive(spin_t *spin)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d84/spin_8h_source.html#l00021">spin.h:21</a></div></div>
<div class="ttc" id="astructspin__t_html"><div class="ttname"><a href="../../da/dca/structspin__t.html">spin_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d84/spin_8h_source.html#l00006">spin.h:6</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00166">init_lock</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00127">IS_INITIALIZER</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00100">malloc_init_recursible</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00103">malloc_init_state</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00209">malloc_initialized()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00128">malloc_initializer</a>, <a class="el" href="../../d0/df8/mutex_8h_source.html#l00217">malloc_mutex_lock()</a>, <a class="el" href="../../d0/df8/mutex_8h_source.html#l00230">malloc_mutex_unlock()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00125">NO_INITIALIZER</a>, <a class="el" href="../../d9/d84/spin_8h_source.html#l00021">spin_adaptive()</a>, <a class="el" href="../../d9/d84/spin_8h_source.html#l00004">SPIN_INITIALIZER</a>, and <a class="el" href="../../db/d1d/tsd_8h_source.html#l00222">TSDN_NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01733">malloc_init_hard()</a>.</p>

</div>
</div>
<a id="adcafbf9ecb8b6b72db2f915e16734b81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcafbf9ecb8b6b72db2f915e16734b81">&#9670;&nbsp;</a></span>malloc_init_hard_recursible()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> malloc_init_hard_recursible </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01575">1575</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;                                  {</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#aa94afe6cfd4412d842b50d290fbb2f25">malloc_init_state</a> = <a class="code" href="../../d8/d80/jemalloc_8c.html#a5d300f5734516669c0ae1049d529a2bea63b46c755cfbec0e45dd57d21586e47b">malloc_init_recursible</a>;</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160; </div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#a291a57628877b50ad8d0639b805a8595">ncpus</a> = <a class="code" href="../../d8/d80/jemalloc_8c.html#a4f2483bf63304825e80397be1f295c67">malloc_ncpus</a>();</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160; </div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;<span class="preprocessor">#if (defined(JEMALLOC_HAVE_PTHREAD_ATFORK) &amp;&amp; !defined(JEMALLOC_MUTEX_INIT_CB) \</span></div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;<span class="preprocessor">    &amp;&amp; !defined(JEMALLOC_ZONE) &amp;&amp; !defined(_WIN32) &amp;&amp; \</span></div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;<span class="preprocessor">    !defined(__native_client__))</span></div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    <span class="comment">/* LinuxThreads&#39; pthread_atfork() allocates. */</span></div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    <span class="keywordflow">if</span> (pthread_atfork(<a class="code" href="../../d8/d80/jemalloc_8c.html#acbb5f6a79529bdd6ed63fbdfe8b8f524">jemalloc_prefork</a>, <a class="code" href="../../d8/d80/jemalloc_8c.html#acde2a7596c29745b5796c706f3e4cc50">jemalloc_postfork_parent</a>,</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#a8cd53dded2a83e733236d3986ff126ac">jemalloc_postfork_child</a>) != 0) {</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;        <a class="code" href="../../dd/de2/private__namespace_8h.html#aa5e64f0a9668adb32f12d43a5d04f09a">malloc_write</a>(<span class="stringliteral">&quot;&lt;jemalloc&gt;: Error in pthread_atfork()\n&quot;</span>);</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#a7c1b61d3016ffe1bb7daf5d000c14ab9">opt_abort</a>) {</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;            abort();</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;        }</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;    }</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160; </div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../de/de9/background__thread__externs_8h.html#ae46b43c92e5f8977619943a2d8d2d2a0">background_thread_boot0</a>()) {</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    }</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160; </div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;}</div>
<div class="ttc" id="abackground__thread__externs_8h_html_ae46b43c92e5f8977619943a2d8d2d2a0"><div class="ttname"><a href="../../de/de9/background__thread__externs_8h.html#ae46b43c92e5f8977619943a2d8d2d2a0">background_thread_boot0</a></div><div class="ttdeci">bool background_thread_boot0(void)</div></div>
<div class="ttc" id="ajemalloc_8c_html_a291a57628877b50ad8d0639b805a8595"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a291a57628877b50ad8d0639b805a8595">ncpus</a></div><div class="ttdeci">unsigned ncpus</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00075">jemalloc.c:75</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a4f2483bf63304825e80397be1f295c67"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a4f2483bf63304825e80397be1f295c67">malloc_ncpus</a></div><div class="ttdeci">static unsigned malloc_ncpus(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00726">jemalloc.c:726</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a8cd53dded2a83e733236d3986ff126ac"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a8cd53dded2a83e733236d3986ff126ac">jemalloc_postfork_child</a></div><div class="ttdeci">void jemalloc_postfork_child(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l03894">jemalloc.c:3894</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_acbb5f6a79529bdd6ed63fbdfe8b8f524"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#acbb5f6a79529bdd6ed63fbdfe8b8f524">jemalloc_prefork</a></div><div class="ttdeci">void jemalloc_prefork(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l03781">jemalloc.c:3781</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_acde2a7596c29745b5796c706f3e4cc50"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#acde2a7596c29745b5796c706f3e4cc50">jemalloc_postfork_parent</a></div><div class="ttdeci">void jemalloc_postfork_parent(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l03855">jemalloc.c:3855</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/de9/background__thread__externs_8h.html#ae46b43c92e5f8977619943a2d8d2d2a0">background_thread_boot0()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03894">jemalloc_postfork_child()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03855">jemalloc_postfork_parent()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03781">jemalloc_prefork()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00100">malloc_init_recursible</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00103">malloc_init_state</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00726">malloc_ncpus()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00252">malloc_write</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00075">ncpus</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00032">opt_abort</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01733">malloc_init_hard()</a>.</p>

</div>
</div>
<a id="a0b0f70083639b2a058577f212556550d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b0f70083639b2a058577f212556550d">&#9670;&nbsp;</a></span>malloc_init_narenas()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> malloc_init_narenas </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01628">1628</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;                          {</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#a291a57628877b50ad8d0639b805a8595">ncpus</a> &gt; 0);</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160; </div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de2/private__namespace_8h.html#a46bd2d47e523e083522bdb5f03c607b7">opt_percpu_arena</a> != <a class="code" href="../../d8/d5e/arena__types_8h.html#a8fefe7a12391be829a0a5bd781ec8528ac85f7ce7fb5a60133e139e3ae76b75a5">percpu_arena_disabled</a>) {</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d18/jemalloc__preamble_8h.html#abb215e7e187d8b6867f30acad5005dfb">have_percpu_arena</a> || <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#a6be683824892b6ad3851b6c84947fed9">malloc_getcpu</a>() &lt; 0) {</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;            <a class="code" href="../../dd/de2/private__namespace_8h.html#a46bd2d47e523e083522bdb5f03c607b7">opt_percpu_arena</a> = <a class="code" href="../../d8/d5e/arena__types_8h.html#a8fefe7a12391be829a0a5bd781ec8528ac85f7ce7fb5a60133e139e3ae76b75a5">percpu_arena_disabled</a>;</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;            <a class="code" href="../../dd/de2/private__namespace_8h.html#a7b2422411cb389953ee92174ade9fb46">malloc_printf</a>(<span class="stringliteral">&quot;&lt;jemalloc&gt;: perCPU arena getcpu() not &quot;</span></div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;                <span class="stringliteral">&quot;available. Setting narenas to %u.\n&quot;</span>, <a class="code" href="../../d8/d80/jemalloc_8c.html#a98f27264f740a00e1c9acfc795862a73">opt_narenas</a> ?</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;                <a class="code" href="../../d8/d80/jemalloc_8c.html#a98f27264f740a00e1c9acfc795862a73">opt_narenas</a> : <a class="code" href="../../d8/d80/jemalloc_8c.html#a7275363a7610ce2513bd4d10804927d1">malloc_narenas_default</a>());</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#a7c1b61d3016ffe1bb7daf5d000c14ab9">opt_abort</a>) {</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;                abort();</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;            }</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#a291a57628877b50ad8d0639b805a8595">ncpus</a> &gt;= <a class="code" href="../../dc/dc4/jemalloc__internal__types_8h.html#ab0acba69002a74c91fadd17848dc8030">MALLOCX_ARENA_LIMIT</a>) {</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;                <a class="code" href="../../dd/de2/private__namespace_8h.html#a7b2422411cb389953ee92174ade9fb46">malloc_printf</a>(<span class="stringliteral">&quot;&lt;jemalloc&gt;: narenas w/ percpu&quot;</span></div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;                    <span class="stringliteral">&quot;arena beyond limit (%d)\n&quot;</span>, <a class="code" href="../../d8/d80/jemalloc_8c.html#a291a57628877b50ad8d0639b805a8595">ncpus</a>);</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#a7c1b61d3016ffe1bb7daf5d000c14ab9">opt_abort</a>) {</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;                    abort();</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;                }</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;            }</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;            <span class="comment">/* NB: opt_percpu_arena isn&#39;t fully initialized yet. */</span></div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#a80e6b15ee964bee5c73dff0d85254bdc">percpu_arena_as_initialized</a>(<a class="code" href="../../dd/de2/private__namespace_8h.html#a46bd2d47e523e083522bdb5f03c607b7">opt_percpu_arena</a>) ==</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;                <a class="code" href="../../d8/d5e/arena__types_8h.html#a8fefe7a12391be829a0a5bd781ec8528a1f66dd6d18fd19d9c28a0bbffee393ef">per_phycpu_arena</a> &amp;&amp; <a class="code" href="../../d8/d80/jemalloc_8c.html#a291a57628877b50ad8d0639b805a8595">ncpus</a> % 2 != 0) {</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;                <a class="code" href="../../dd/de2/private__namespace_8h.html#a7b2422411cb389953ee92174ade9fb46">malloc_printf</a>(<span class="stringliteral">&quot;&lt;jemalloc&gt;: invalid &quot;</span></div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;                    <span class="stringliteral">&quot;configuration -- per physical CPU arena &quot;</span></div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;                    <span class="stringliteral">&quot;with odd number (%u) of CPUs (no hyper &quot;</span></div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;                    <span class="stringliteral">&quot;threading?).\n&quot;</span>, <a class="code" href="../../d8/d80/jemalloc_8c.html#a291a57628877b50ad8d0639b805a8595">ncpus</a>);</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#a7c1b61d3016ffe1bb7daf5d000c14ab9">opt_abort</a>)</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;                    abort();</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;            }</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;            <span class="keywordtype">unsigned</span> n = <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#a3eeb770c28e07b0aeabf0f3e8b544951">percpu_arena_ind_limit</a>(</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;                <a class="code" href="../../d8/d80/jemalloc_8c.html#a80e6b15ee964bee5c73dff0d85254bdc">percpu_arena_as_initialized</a>(<a class="code" href="../../dd/de2/private__namespace_8h.html#a46bd2d47e523e083522bdb5f03c607b7">opt_percpu_arena</a>));</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#a98f27264f740a00e1c9acfc795862a73">opt_narenas</a> &lt; n) {</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;                <span class="comment">/*</span></div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;<span class="comment">                 * If narenas is specified with percpu_arena</span></div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;<span class="comment">                 * enabled, actual narenas is set as the greater</span></div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;<span class="comment">                 * of the two. percpu_arena_choose will be free</span></div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;<span class="comment">                 * to use any of the arenas based on CPU</span></div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;<span class="comment">                 * id. This is conservative (at a small cost)</span></div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;<span class="comment">                 * but ensures correctness.</span></div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;<span class="comment">                 *</span></div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;<span class="comment">                 * If for some reason the ncpus determined at</span></div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;<span class="comment">                 * boot is not the actual number (e.g. because</span></div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;<span class="comment">                 * of affinity setting from numactl), reserving</span></div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;<span class="comment">                 * narenas this way provides a workaround for</span></div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;<span class="comment">                 * percpu_arena.</span></div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;<span class="comment">                 */</span></div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;                <a class="code" href="../../d8/d80/jemalloc_8c.html#a98f27264f740a00e1c9acfc795862a73">opt_narenas</a> = n;</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;            }</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;        }</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    }</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#a98f27264f740a00e1c9acfc795862a73">opt_narenas</a> == 0) {</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#a98f27264f740a00e1c9acfc795862a73">opt_narenas</a> = <a class="code" href="../../d8/d80/jemalloc_8c.html#a7275363a7610ce2513bd4d10804927d1">malloc_narenas_default</a>();</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;    }</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#a98f27264f740a00e1c9acfc795862a73">opt_narenas</a> &gt; 0);</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160; </div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ae9d6a15b8260ba57e1781be757233789">narenas_auto</a> = <a class="code" href="../../d8/d80/jemalloc_8c.html#a98f27264f740a00e1c9acfc795862a73">opt_narenas</a>;</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;<span class="comment">     * Limit the number of arenas to the indexing range of MALLOCX_ARENA().</span></div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#ae9d6a15b8260ba57e1781be757233789">narenas_auto</a> &gt;= <a class="code" href="../../dc/dc4/jemalloc__internal__types_8h.html#ab0acba69002a74c91fadd17848dc8030">MALLOCX_ARENA_LIMIT</a>) {</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#ae9d6a15b8260ba57e1781be757233789">narenas_auto</a> = <a class="code" href="../../dc/dc4/jemalloc__internal__types_8h.html#ab0acba69002a74c91fadd17848dc8030">MALLOCX_ARENA_LIMIT</a> - 1;</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;        <a class="code" href="../../dd/de2/private__namespace_8h.html#a7b2422411cb389953ee92174ade9fb46">malloc_printf</a>(<span class="stringliteral">&quot;&lt;jemalloc&gt;: Reducing narenas to limit (%d)\n&quot;</span>,</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;            <a class="code" href="../../d8/d80/jemalloc_8c.html#ae9d6a15b8260ba57e1781be757233789">narenas_auto</a>);</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;    }</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ae99f958e7f12e1e470a0cc8dba7a9e03">narenas_total_set</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#ae9d6a15b8260ba57e1781be757233789">narenas_auto</a>);</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de2/private__namespace_8h.html#ab04815bf7a70ad4a35635f555cb8d46e">arena_init_huge</a>()) {</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#a6dfe917fd6b4618d5c4f3703ae8dfc99">narenas_total_inc</a>();</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;    }</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#a76a1030556e1f53d588940e0e23761bc">manual_arena_base</a> = <a class="code" href="../../d8/d80/jemalloc_8c.html#a5770c88b2b0c8dd5c610f366f9b160e1">narenas_total_get</a>();</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160; </div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;}</div>
<div class="ttc" id="aarena__types_8h_html_a8fefe7a12391be829a0a5bd781ec8528a1f66dd6d18fd19d9c28a0bbffee393ef"><div class="ttname"><a href="../../d8/d5e/arena__types_8h.html#a8fefe7a12391be829a0a5bd781ec8528a1f66dd6d18fd19d9c28a0bbffee393ef">per_phycpu_arena</a></div><div class="ttdeci">@ per_phycpu_arena</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/arena__types_8h_source.html#l00040">arena_types.h:39</a></div></div>
<div class="ttc" id="aarena__types_8h_html_a8fefe7a12391be829a0a5bd781ec8528ac85f7ce7fb5a60133e139e3ae76b75a5"><div class="ttname"><a href="../../d8/d5e/arena__types_8h.html#a8fefe7a12391be829a0a5bd781ec8528ac85f7ce7fb5a60133e139e3ae76b75a5">percpu_arena_disabled</a></div><div class="ttdeci">@ percpu_arena_disabled</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/arena__types_8h_source.html#l00033">arena_types.h:33</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a7275363a7610ce2513bd4d10804927d1"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a7275363a7610ce2513bd4d10804927d1">malloc_narenas_default</a></div><div class="ttdeci">static unsigned malloc_narenas_default(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01602">jemalloc.c:1602</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a80e6b15ee964bee5c73dff0d85254bdc"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a80e6b15ee964bee5c73dff0d85254bdc">percpu_arena_as_initialized</a></div><div class="ttdeci">static percpu_arena_mode_t percpu_arena_as_initialized(percpu_arena_mode_t mode)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l01616">jemalloc.c:1616</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_ae99f958e7f12e1e470a0cc8dba7a9e03"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#ae99f958e7f12e1e470a0cc8dba7a9e03">narenas_total_set</a></div><div class="ttdeci">static void narenas_total_set(unsigned narenas)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00302">jemalloc.c:302</a></div></div>
<div class="ttc" id="ajemalloc__internal__inlines__a_8h_html_a3eeb770c28e07b0aeabf0f3e8b544951"><div class="ttname"><a href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#a3eeb770c28e07b0aeabf0f3e8b544951">percpu_arena_ind_limit</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE unsigned percpu_arena_ind_limit(percpu_arena_mode_t mode)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00046">jemalloc_internal_inlines_a.h:46</a></div></div>
<div class="ttc" id="ajemalloc__internal__inlines__a_8h_html_a6be683824892b6ad3851b6c84947fed9"><div class="ttname"><a href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#a6be683824892b6ad3851b6c84947fed9">malloc_getcpu</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE malloc_cpuid_t malloc_getcpu(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00011">jemalloc_internal_inlines_a.h:11</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_ab04815bf7a70ad4a35635f555cb8d46e"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#ab04815bf7a70ad4a35635f555cb8d46e">arena_init_huge</a></div><div class="ttdeci">#define arena_init_huge</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00062">private_namespace.h:62</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00062">arena_init_huge</a>, <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../d1/d18/jemalloc__preamble_8h_source.html#l00187">have_percpu_arena</a>, <a class="el" href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00011">malloc_getcpu()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01602">malloc_narenas_default()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00247">malloc_printf</a>, <a class="el" href="../../dc/dc4/jemalloc__internal__types_8h_source.html#l00034">MALLOCX_ARENA_LIMIT</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00095">manual_arena_base</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00094">narenas_auto</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00312">narenas_total_get()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00307">narenas_total_inc()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00302">narenas_total_set()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00075">ncpus</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00032">opt_abort</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00073">opt_narenas</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00095">opt_percpu_arena</a>, <a class="el" href="../../d8/d5e/arena__types_8h_source.html#l00039">per_phycpu_arena</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01616">percpu_arena_as_initialized()</a>, <a class="el" href="../../d8/d5e/arena__types_8h_source.html#l00033">percpu_arena_disabled</a>, and <a class="el" href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00046">percpu_arena_ind_limit()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01733">malloc_init_hard()</a>.</p>

</div>
</div>
<a id="ac8b19a69f3c74ee421d1de124438e291"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8b19a69f3c74ee421d1de124438e291">&#9670;&nbsp;</a></span>malloc_init_percpu()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void malloc_init_percpu </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01704">1704</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;                         {</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#a46bd2d47e523e083522bdb5f03c607b7">opt_percpu_arena</a> = <a class="code" href="../../d8/d80/jemalloc_8c.html#a80e6b15ee964bee5c73dff0d85254bdc">percpu_arena_as_initialized</a>(<a class="code" href="../../dd/de2/private__namespace_8h.html#a46bd2d47e523e083522bdb5f03c607b7">opt_percpu_arena</a>);</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00095">opt_percpu_arena</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01616">percpu_arena_as_initialized()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01733">malloc_init_hard()</a>.</p>

</div>
</div>
<a id="a01b7b0d8bcb19acba3bdea9fcb06cd7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01b7b0d8bcb19acba3bdea9fcb06cd7b">&#9670;&nbsp;</a></span>malloc_initialized()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> malloc_initialized </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00209">209</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                         {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#aa94afe6cfd4412d842b50d290fbb2f25">malloc_init_state</a> == <a class="code" href="../../d8/d80/jemalloc_8c.html#a5d300f5734516669c0ae1049d529a2bea98fb0f3bceca1918adec6c0f8ca43368">malloc_init_initialized</a>);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00101">malloc_init_initialized</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00103">malloc_init_state</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02556">ifree()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02228">imalloc_init_check()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02595">isfree()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03487">je_dallocx()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03722">je_malloc_usable_size()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03216">je_rallocx()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02653">je_realloc()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03461">je_sallocx()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03390">je_xallocx()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02322">JEMALLOC_ATTR()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03894">jemalloc_postfork_child()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03855">jemalloc_postfork_parent()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03781">jemalloc_prefork()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00222">malloc_init()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01453">malloc_init_hard_needed()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01616">percpu_arena_as_initialized()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03548">sdallocx_default()</a>.</p>

</div>
</div>
<a id="a7275363a7610ce2513bd4d10804927d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7275363a7610ce2513bd4d10804927d1">&#9670;&nbsp;</a></span>malloc_narenas_default()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned malloc_narenas_default </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01602">1602</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;                             {</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#a291a57628877b50ad8d0639b805a8595">ncpus</a> &gt; 0);</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;<span class="comment">     * For SMP systems, create more than one arena per CPU by</span></div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;<span class="comment">     * default.</span></div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#a291a57628877b50ad8d0639b805a8595">ncpus</a> &gt; 1) {</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d8/d80/jemalloc_8c.html#a291a57628877b50ad8d0639b805a8595">ncpus</a> &lt;&lt; 2;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    }</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00075">ncpus</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01628">malloc_init_narenas()</a>.</p>

</div>
</div>
<a id="a4f2483bf63304825e80397be1f295c67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f2483bf63304825e80397be1f295c67">&#9670;&nbsp;</a></span>malloc_ncpus()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned malloc_ncpus </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00726">726</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                   {</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="keywordtype">long</span> <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160; </div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    SYSTEM_INFO si;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    GetSystemInfo(&amp;si);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = si.dwNumberOfProcessors;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="preprocessor">#elif defined(JEMALLOC_GLIBC_MALLOC_HOOK) &amp;&amp; defined(CPU_COUNT)</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment">     * glibc &gt;= 2.6 has the CPU_COUNT macro.</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="comment">     * glibc&#39;s sysconf() uses isspace().  glibc allocates for the first time</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment">     * *before* setting up the isspace tables.  Therefore we need a</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="comment">     * different method to get the number of CPUs.</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    {</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        cpu_set_t <a class="code" href="../../dd/d68/_c_make_lists_8txt.html#acf593c96c89f8ba2372d78a46ed96a6c">set</a>;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160; </div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        pthread_getaffinity_np(pthread_self(), <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d68/_c_make_lists_8txt.html#acf593c96c89f8ba2372d78a46ed96a6c">set</a>), &amp;<a class="code" href="../../dd/d68/_c_make_lists_8txt.html#acf593c96c89f8ba2372d78a46ed96a6c">set</a>);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = CPU_COUNT(&amp;<a class="code" href="../../dd/d68/_c_make_lists_8txt.html#acf593c96c89f8ba2372d78a46ed96a6c">set</a>);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    }</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = sysconf(_SC_NPROCESSORS_ONLN);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordflow">return</span> ((<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> == -1) ? 1 : (<span class="keywordtype">unsigned</span>)<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;}</div>
<div class="ttc" id="a_c_make_lists_8txt_html_acf593c96c89f8ba2372d78a46ed96a6c"><div class="ttname"><a href="../../dd/d68/_c_make_lists_8txt.html#acf593c96c89f8ba2372d78a46ed96a6c">set</a></div><div class="ttdeci">lib set(CMAKE_INSTALL_RPATH_USE_LINK_PATH 1) set(AC_PATH_ROOT &quot;$</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d68/_c_make_lists_8txt_source.html#l00032">CMakeLists.txt:32</a></div></div>
<div class="ttc" id="anamespacedetail_1_1digits_html_aad69d2373aa047bdd9e81494bf3da5ae"><div class="ttname"><a href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">detail::digits::result</a></div><div class="ttdeci">result</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d50/format-inl_8h_source.html#l00622">format-inl.h:622</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d68/_c_make_lists_8txt_source.html#l00032">set()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01575">malloc_init_hard_recursible()</a>.</p>

</div>
</div>
<a id="a3889307af5e20e24de40d2efcaa83a38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3889307af5e20e24de40d2efcaa83a38">&#9670;&nbsp;</a></span>malloc_slow_flag_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void malloc_slow_flag_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00920">920</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                            {</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="comment">     * Combine the runtime options into malloc_slow for fast path.  Called</span></div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="comment">     * after processing all the options.</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#a92e12fcf973e5617eebcb68f13fb6a7f">malloc_slow_flags</a> |= (<a class="code" href="../../d8/d80/jemalloc_8c.html#a9ccae085c69622115282f8427ddcf17e">opt_junk_alloc</a> ? <a class="code" href="../../d8/d80/jemalloc_8c.html#a1fb9092bcdeada2d206bdc74afbbe122a8049c6a2d986d20eead9ace7e8195d90">flag_opt_junk_alloc</a> : 0)</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        | (<a class="code" href="../../d8/d80/jemalloc_8c.html#aff6fd647d678b35e59a0ab748d1314df">opt_junk_free</a> ? <a class="code" href="../../d8/d80/jemalloc_8c.html#a1fb9092bcdeada2d206bdc74afbbe122a58caf58b3925c7f45176a453c366f2a0">flag_opt_junk_free</a> : 0)</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        | (<a class="code" href="../../d8/d80/jemalloc_8c.html#a62715b37c6bb7259dc4b1b52a2294080">opt_zero</a> ? <a class="code" href="../../d8/d80/jemalloc_8c.html#a1fb9092bcdeada2d206bdc74afbbe122aeba436f0f87c3a877f0c609c5177fbeb">flag_opt_zero</a> : 0)</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        | (<a class="code" href="../../d8/d80/jemalloc_8c.html#a56da2438511aa30130f1034b635452ba">opt_utrace</a> ? <a class="code" href="../../d8/d80/jemalloc_8c.html#a1fb9092bcdeada2d206bdc74afbbe122af149e3d5339e6e6e48e6f895474e3865">flag_opt_utrace</a> : 0)</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        | (<a class="code" href="../../d8/d80/jemalloc_8c.html#abb699624a4c15add503df6cb54a5132e">opt_xmalloc</a> ? <a class="code" href="../../d8/d80/jemalloc_8c.html#a1fb9092bcdeada2d206bdc74afbbe122a18f644a061eaf2b78420d8e6a61659e9">flag_opt_xmalloc</a> : 0);</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160; </div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#aa52b77f0789f762c334c6323af323760">malloc_slow</a> = (<a class="code" href="../../d8/d80/jemalloc_8c.html#a92e12fcf973e5617eebcb68f13fb6a7f">malloc_slow_flags</a> != 0);</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;}</div>
<div class="ttc" id="ajemalloc_8c_html_a92e12fcf973e5617eebcb68f13fb6a7f"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a92e12fcf973e5617eebcb68f13fb6a7f">malloc_slow_flags</a></div><div class="ttdeci">static uint8_t malloc_slow_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00116">jemalloc.c:116</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_aa52b77f0789f762c334c6323af323760"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#aa52b77f0789f762c334c6323af323760">malloc_slow</a></div><div class="ttdeci">bool malloc_slow</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00106">jemalloc.c:106</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00110">flag_opt_junk_alloc</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00111">flag_opt_junk_free</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00113">flag_opt_utrace</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00114">flag_opt_xmalloc</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00112">flag_opt_zero</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00106">malloc_slow</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00116">malloc_slow_flags</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00055">opt_junk_alloc</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00062">opt_junk_free</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00070">opt_utrace</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00071">opt_xmalloc</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00072">opt_zero</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01709">malloc_init_hard_finish()</a>.</p>

</div>
</div>
<a id="a5770c88b2b0c8dd5c610f366f9b160e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5770c88b2b0c8dd5c610f366f9b160e1">&#9670;&nbsp;</a></span>narenas_total_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned narenas_total_get </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00312">312</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                        {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">return</span> atomic_load_u(&amp;<a class="code" href="../../d8/d80/jemalloc_8c.html#a53e13bc710cec2a1d6a2d130ca1c43f9">narenas_total</a>, <a class="code" href="../../dd/d02/atomic_8h.html#a9ab4b8079c8a3f87f749cf618b6a157b">ATOMIC_ACQUIRE</a>);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;}</div>
<div class="ttc" id="aatomic_8h_html_a9ab4b8079c8a3f87f749cf618b6a157b"><div class="ttname"><a href="../../dd/d02/atomic_8h.html#a9ab4b8079c8a3f87f749cf618b6a157b">ATOMIC_ACQUIRE</a></div><div class="ttdeci">#define ATOMIC_ACQUIRE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d02/atomic_8h_source.html#l00049">atomic.h:49</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a53e13bc710cec2a1d6a2d130ca1c43f9"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a53e13bc710cec2a1d6a2d130ca1c43f9">narenas_total</a></div><div class="ttdeci">static atomic_u_t narenas_total</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00091">jemalloc.c:91</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d02/atomic_8h_source.html#l00049">ATOMIC_ACQUIRE</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00091">narenas_total</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00318">arena_init_locked()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00422">arena_tdata_get_hard()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03894">jemalloc_postfork_child()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03855">jemalloc_postfork_parent()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03781">jemalloc_prefork()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01628">malloc_init_narenas()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00647">stats_print_atexit()</a>.</p>

</div>
</div>
<a id="a6dfe917fd6b4618d5c4f3703ae8dfc99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dfe917fd6b4618d5c4f3703ae8dfc99">&#9670;&nbsp;</a></span>narenas_total_inc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void narenas_total_inc </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00307">307</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                        {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    atomic_fetch_add_u(&amp;<a class="code" href="../../d8/d80/jemalloc_8c.html#a53e13bc710cec2a1d6a2d130ca1c43f9">narenas_total</a>, 1, <a class="code" href="../../dd/d02/atomic_8h.html#af6d707b5e3c644791fa02b15cd8fca3c">ATOMIC_RELEASE</a>);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d02/atomic_8h_source.html#l00050">ATOMIC_RELEASE</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00091">narenas_total</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00318">arena_init_locked()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01628">malloc_init_narenas()</a>.</p>

</div>
</div>
<a id="ae99f958e7f12e1e470a0cc8dba7a9e03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae99f958e7f12e1e470a0cc8dba7a9e03">&#9670;&nbsp;</a></span>narenas_total_set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void narenas_total_set </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>narenas</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00302">302</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                                    {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    atomic_store_u(&amp;<a class="code" href="../../d8/d80/jemalloc_8c.html#a53e13bc710cec2a1d6a2d130ca1c43f9">narenas_total</a>, narenas, <a class="code" href="../../dd/d02/atomic_8h.html#af6d707b5e3c644791fa02b15cd8fca3c">ATOMIC_RELEASE</a>);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d02/atomic_8h_source.html#l00050">ATOMIC_RELEASE</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00091">narenas_total</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01628">malloc_init_narenas()</a>.</p>

</div>
</div>
<a id="adae7e94321e7cd2c88af97c9113766cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adae7e94321e7cd2c88af97c9113766cc">&#9670;&nbsp;</a></span>obtain_malloc_conf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char* obtain_malloc_conf </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>which_source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>buf</em>[PATH_MAX+1]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00938">938</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                                                                  {</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a86146c45a3404703342db7e08f9156fb">config_debug</a>) {</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">unsigned</span> read_source = 0;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;<span class="comment">         * Each source should only be read once, to minimize # of</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;<span class="comment">         * syscalls on init.</span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(read_source++ == which_source);</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    }</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(which_source &lt; <a class="code" href="../../d8/d80/jemalloc_8c.html#ac22db27019ac8c549ec10997d1509d7d">MALLOC_CONF_NSOURCES</a>);</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160; </div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <span class="keywordflow">switch</span> (which_source) {</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;        <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code" href="../../d1/d18/jemalloc__preamble_8h.html#a4581ff36110971605b86b8d7588c1056">config_malloc_conf</a>;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d80/jemalloc_8c.html#acc07984c0731c12cd227b0f6086254c7">je_malloc_conf</a> != <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>) {</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;            <span class="comment">/* Use options that were compiled into the program. */</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;            <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code" href="../../d8/d80/jemalloc_8c.html#acc07984c0731c12cd227b0f6086254c7">je_malloc_conf</a>;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;            <span class="comment">/* No configuration specified. */</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;            <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        }</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="keywordflow">case</span> 2: {</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        ssize_t linklen = 0;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;<span class="preprocessor">#ifndef _WIN32</span></div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;        <span class="keywordtype">int</span> saved_errno = <a class="code" href="../../db/da9/my__sys_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *linkname =</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;<span class="preprocessor">#  ifdef JEMALLOC_PREFIX</span></div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;            <span class="stringliteral">&quot;/etc/&quot;</span>JEMALLOC_PREFIX<span class="stringliteral">&quot;malloc.conf&quot;</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;<span class="preprocessor">#  else</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;            <span class="stringliteral">&quot;/etc/malloc.conf&quot;</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;<span class="preprocessor">#  endif</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;            ;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160; </div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;<span class="comment">         * Try to use the contents of the &quot;/etc/malloc.conf&quot; symbolic</span></div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;<span class="comment">         * link&#39;s name.</span></div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="preprocessor">#ifndef JEMALLOC_READLINKAT</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        linklen = <a class="code" href="../../d7/dff/hooks_8h.html#afe1c008590b424aa220ec2a485c540fd">readlink</a>(linkname, buf, PATH_MAX);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        linklen = readlinkat(AT_FDCWD, linkname, buf, PATH_MAX);</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;        <span class="keywordflow">if</span> (linklen == -1) {</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;            <span class="comment">/* No configuration specified. */</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;            linklen = 0;</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;            <span class="comment">/* Restore errno. */</span></div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;            <a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a132c48faab6dcea1dca5ef9012266300">set_errno</a>(saved_errno);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        }</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        buf[linklen] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> = buf;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    } <span class="keywordflow">case</span> 3: {</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *envname =</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<span class="preprocessor">#ifdef JEMALLOC_PREFIX</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;            JEMALLOC_CPREFIX<span class="stringliteral">&quot;MALLOC_CONF&quot;</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;            <span class="stringliteral">&quot;MALLOC_CONF&quot;</span></div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;            ;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160; </div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code" href="../../d8/d80/jemalloc_8c.html#a3f0bbaff7c03a202069cec2a7ac25707">jemalloc_secure_getenv</a>(envname)) != <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>) {</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;            <span class="comment">/*</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;<span class="comment">             * Do nothing; opts is already initialized to the value</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;<span class="comment">             * of the MALLOC_CONF environment variable.</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;            <span class="comment">/* No configuration specified. */</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;            <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        }</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    } <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;        <a class="code" href="../../dc/da7/assert_8h.html#ad7c562c47905c397ca004582aa82863a">not_reached</a>();</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    }</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;}</div>
<div class="ttc" id="ahooks_8h_html_afe1c008590b424aa220ec2a485c540fd"><div class="ttname"><a href="../../d7/dff/hooks_8h.html#afe1c008590b424aa220ec2a485c540fd">readlink</a></div><div class="ttdeci">#define readlink</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dff/hooks_8h_source.html#l00012">hooks.h:12</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a3f0bbaff7c03a202069cec2a7ac25707"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a3f0bbaff7c03a202069cec2a7ac25707">jemalloc_secure_getenv</a></div><div class="ttdeci">static char * jemalloc_secure_getenv(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00712">jemalloc.c:712</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_acc07984c0731c12cd227b0f6086254c7"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#acc07984c0731c12cd227b0f6086254c7">je_malloc_conf</a></div><div class="ttdeci">const char * je_malloc_conf</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l00027">jemalloc.c:31</a></div></div>
<div class="ttc" id="ajemalloc__preamble_8h_html_a4581ff36110971605b86b8d7588c1056"><div class="ttname"><a href="../../d1/d18/jemalloc__preamble_8h.html#a4581ff36110971605b86b8d7588c1056">config_malloc_conf</a></div><div class="ttdeci">static const char *const config_malloc_conf</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d18/jemalloc__preamble_8h_source.html#l00089">jemalloc_preamble.h:89</a></div></div>
<div class="ttc" id="amy__sys_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00078">config_debug</a>, <a class="el" href="../../d1/d18/jemalloc__preamble_8h_source.html#l00089">config_malloc_conf</a>, <a class="el" href="../../db/da9/my__sys_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00031">je_malloc_conf</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00712">jemalloc_secure_getenv()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00935">MALLOC_CONF_NSOURCES</a>, <a class="el" href="../../dc/da7/assert_8h_source.html#l00020">not_reached</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../d7/dff/hooks_8h_source.html#l00012">readlink</a>, <a class="el" href="../../df/d31/prof_8c_source.html#l00281">ret</a>, and <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00047">set_errno()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01021">malloc_conf_init_helper()</a>.</p>

</div>
</div>
<a id="a80e6b15ee964bee5c73dff0d85254bdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80e6b15ee964bee5c73dff0d85254bdc">&#9670;&nbsp;</a></span>percpu_arena_as_initialized()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d8/d5e/arena__types_8h.html#a8fefe7a12391be829a0a5bd781ec8528">percpu_arena_mode_t</a> percpu_arena_as_initialized </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d5e/arena__types_8h.html#a8fefe7a12391be829a0a5bd781ec8528">percpu_arena_mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01616">1616</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;                                                      {</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(!<a class="code" href="../../d8/d80/jemalloc_8c.html#a01b7b0d8bcb19acba3bdea9fcb06cd7b">malloc_initialized</a>());</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(mode &lt;= <a class="code" href="../../d8/d5e/arena__types_8h.html#a8fefe7a12391be829a0a5bd781ec8528ac85f7ce7fb5a60133e139e3ae76b75a5">percpu_arena_disabled</a>);</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160; </div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    <span class="keywordflow">if</span> (mode != <a class="code" href="../../d8/d5e/arena__types_8h.html#a8fefe7a12391be829a0a5bd781ec8528ac85f7ce7fb5a60133e139e3ae76b75a5">percpu_arena_disabled</a>) {</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;        mode += <a class="code" href="../../d8/d5e/arena__types_8h.html#a8fefe7a12391be829a0a5bd781ec8528a6fa47724775047b95aa56ff80c7b37dc">percpu_arena_mode_enabled_base</a>;</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    }</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160; </div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    <span class="keywordflow">return</span> mode;</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;}</div>
<div class="ttc" id="aarena__types_8h_html_a8fefe7a12391be829a0a5bd781ec8528a6fa47724775047b95aa56ff80c7b37dc"><div class="ttname"><a href="../../d8/d5e/arena__types_8h.html#a8fefe7a12391be829a0a5bd781ec8528a6fa47724775047b95aa56ff80c7b37dc">percpu_arena_mode_enabled_base</a></div><div class="ttdeci">@ percpu_arena_mode_enabled_base</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/arena__types_8h_source.html#l00036">arena_types.h:36</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00209">malloc_initialized()</a>, <a class="el" href="../../d8/d5e/arena__types_8h_source.html#l00033">percpu_arena_disabled</a>, and <a class="el" href="../../d8/d5e/arena__types_8h_source.html#l00036">percpu_arena_mode_enabled_base</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01628">malloc_init_narenas()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01704">malloc_init_percpu()</a>.</p>

</div>
</div>
<a id="ad18fce64fdae3679dd6286e7924f8bba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad18fce64fdae3679dd6286e7924f8bba">&#9670;&nbsp;</a></span>sdallocx_default()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/dee/jemalloc_8h.html#a33ce01f92103ee0fd1dc201fcd3551e8">JEMALLOC_NOINLINE</a> void sdallocx_default </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03548">3548</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;                                                    {</div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a> != <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(<a class="code" href="../../d8/d80/jemalloc_8c.html#a01b7b0d8bcb19acba3bdea9fcb06cd7b">malloc_initialized</a>() || <a class="code" href="../../d8/d80/jemalloc_8c.html#ae85e4c6cf761558babffa1b8af5baffc">IS_INITIALIZER</a>);</div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160; </div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;    <a class="code" href="../../dc/d5c/structtsd__s.html">tsd_t</a> *tsd = <a class="code" href="../../db/d1d/tsd_8h.html#aa09b1487cb924fd62ac5171c3d267802">tsd_fetch</a>();</div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;    <span class="keywordtype">bool</span> fast = <a class="code" href="../../db/d1d/tsd_8h.html#a544b1abcfa6f150ab2358ba945862788">tsd_fast</a>(tsd);</div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;    <span class="keywordtype">size_t</span> usize = <a class="code" href="../../d8/d80/jemalloc_8c.html#a96e3a96612cb818d870f927d7b850e8e">inallocx</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), size, flags);</div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(usize == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#aa3255636edeac1ba4261012191d1d189">isalloc</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd), <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>));</div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160; </div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;    <a class="code" href="../../db/d17/structtcache__s.html">tcache_t</a> *tcache;</div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>((flags &amp; <a class="code" href="../../dc/dc4/jemalloc__internal__types_8h.html#ac9c4dbc0a26bbd6818bd23eabbd057d6">MALLOCX_TCACHE_MASK</a>) != 0)) {</div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;        <span class="comment">/* Not allowed to be reentrant and specify a custom tcache. */</span></div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;        <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(tsd_reentrancy_level_get(tsd) == 0);</div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;        <span class="keywordflow">if</span> ((flags &amp; <a class="code" href="../../dc/dc4/jemalloc__internal__types_8h.html#ac9c4dbc0a26bbd6818bd23eabbd057d6">MALLOCX_TCACHE_MASK</a>) == <a class="code" href="../../d5/dee/jemalloc_8h.html#af2f6b8b9b0103181d3eba16f495854ac">MALLOCX_TCACHE_NONE</a>) {</div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;            tcache = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;            tcache = <a class="code" href="../../da/d06/tcache__inlines_8h.html#ab5870a1d6b6ccd14e3c5ebd44a38dae6">tcaches_get</a>(tsd, <a class="code" href="../../dc/dc4/jemalloc__internal__types_8h.html#a836837d4169bd46e4fc3f8b9bd29c486">MALLOCX_TCACHE_GET</a>(flags));</div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;        }</div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a217a0bd562b98ae8c2ffce44935351e1">likely</a>(fast)) {</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;            tcache = tsd_tcachep_get(tsd);</div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;            <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(tcache == <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#a609f26d4412101faf7c34036aa9cd977">tcache_get</a>(tsd));</div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a217a0bd562b98ae8c2ffce44935351e1">likely</a>(tsd_reentrancy_level_get(tsd) == 0)) {</div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;                tcache = <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#a609f26d4412101faf7c34036aa9cd977">tcache_get</a>(tsd);</div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;                tcache = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;            }</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;        }</div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;    }</div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160; </div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ac6bcbb3858b3ceee509112e7b82b2d2f">UTRACE</a>(<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, 0, 0);</div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a217a0bd562b98ae8c2ffce44935351e1">likely</a>(fast)) {</div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;        <a class="code" href="../../db/d1d/tsd_8h.html#a4339c0d1e319a36f93bbfb00a515499f">tsd_assert_fast</a>(tsd);</div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#a3345466d80e4ee71655dc31ae0419553">isfree</a>(tsd, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, usize, tcache, <span class="keyword">false</span>);</div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;        <a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a> args_raw[3] = {(<a class="code" href="../../dc/d53/solaris_8h.html#ae5eb047989776ef8f364bc84ed316394">uintptr_t</a>)<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, size, flags};</div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;        <a class="code" href="../../dd/de2/private__namespace_8h.html#a6abeb38bd2c0f36c48fa3ba81abaa69e">hook_invoke_dalloc</a>(<a class="code" href="../../d6/d34/hook_8h.html#acb15ae0a3a05274cb91b8a4882969b54a01c18342ab54767b3af87ebe5c87a09d">hook_dalloc_sdallocx</a>, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, args_raw);</div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;        <a class="code" href="../../d8/d80/jemalloc_8c.html#a3345466d80e4ee71655dc31ae0419553">isfree</a>(tsd, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, usize, tcache, <span class="keyword">true</span>);</div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;    }</div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#ab159f1c3520c779394df6b2c2038a3c0">check_entry_exit_locking</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a9d2a8a60d53b9e0b7ef62cdc52deb124">tsd_tsdn</a>(tsd));</div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160; </div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;}</div>
<div class="ttc" id="ahook_8h_html_acb15ae0a3a05274cb91b8a4882969b54a01c18342ab54767b3af87ebe5c87a09d"><div class="ttname"><a href="../../d6/d34/hook_8h.html#acb15ae0a3a05274cb91b8a4882969b54a01c18342ab54767b3af87ebe5c87a09d">hook_dalloc_sdallocx</a></div><div class="ttdeci">@ hook_dalloc_sdallocx</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/hook_8h_source.html#l00073">hook.h:73</a></div></div>
<div class="ttc" id="ajemalloc_8c_html_a3345466d80e4ee71655dc31ae0419553"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a3345466d80e4ee71655dc31ae0419553">isfree</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE void isfree(tsd_t *tsd, void *ptr, size_t usize, tcache_t *tcache, bool slow_path)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l02595">jemalloc.c:2595</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00684">check_entry_exit_locking()</a>, <a class="el" href="../../d6/d34/hook_8h_source.html#l00073">hook_dalloc_sdallocx</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00224">hook_invoke_dalloc</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03534">inallocx()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00127">IS_INITIALIZER</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00869">isalloc()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02595">isfree()</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00035">likely</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00209">malloc_initialized()</a>, <a class="el" href="../../dc/dc4/jemalloc__internal__types_8h_source.html#l00047">MALLOCX_TCACHE_GET</a>, <a class="el" href="../../dc/dc4/jemalloc__internal__types_8h_source.html#l00035">MALLOCX_TCACHE_MASK</a>, <a class="el" href="../../d5/dee/jemalloc_8h_source.html#l00112">MALLOCX_TCACHE_NONE</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h_source.html#l02451">ptr()</a>, <a class="el" href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00142">tcache_get()</a>, <a class="el" href="../../da/d06/tcache__inlines_8h_source.html#l00216">tcaches_get()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00321">tsd_assert_fast()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00332">tsd_fast()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00376">tsd_fetch()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00224">tsd_tsdn()</a>, <a class="el" href="../../dc/d53/solaris_8h_source.html#l00029">uintptr_t</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00036">unlikely</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00188">UTRACE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03594">je_sdallocx()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03606">je_sdallocx_noflags()</a>.</p>

</div>
</div>
<a id="afcaa042370db1f2f2786830cc4b8ed80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcaa042370db1f2f2786830cc4b8ed80">&#9670;&nbsp;</a></span>static_opts_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#ab15ebf8b6543f3754934b3d34b4416e2">JEMALLOC_ALWAYS_INLINE</a> void static_opts_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d80/jemalloc_8c.html#a1d90a39f861fd6f06172a5647dc3c409">static_opts_t</a> *&#160;</td>
          <td class="paramname"><em>static_opts</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01864">1864</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;                                             {</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;    static_opts-&gt;<a class="code" href="../../d6/d7c/structstatic__opts__s.html#a0a582f9d8a5ec93eb9ac46b946ef2510">may_overflow</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    static_opts-&gt;<a class="code" href="../../d6/d7c/structstatic__opts__s.html#ad4264bc625a811547f2185057df08dd5">bump_empty_aligned_alloc</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    static_opts-&gt;<a class="code" href="../../d6/d7c/structstatic__opts__s.html#a54bbea91641320fa4399a6b466680990">assert_nonempty_alloc</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    static_opts-&gt;<a class="code" href="../../d6/d7c/structstatic__opts__s.html#a827d38e6c4bd5de6ae121e79bdf06c3b">null_out_result_on_error</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    static_opts-&gt;<a class="code" href="../../d6/d7c/structstatic__opts__s.html#a2e3e6b3283bee38c9c9b52f5be82d4b2">set_errno_on_error</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;    static_opts-&gt;<a class="code" href="../../d6/d7c/structstatic__opts__s.html#acb7c331953d512ac69f0ea79a553b4e3">min_alignment</a> = 0;</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    static_opts-&gt;<a class="code" href="../../d6/d7c/structstatic__opts__s.html#aad0178fec42358f91f612f3197fcd640">oom_string</a> = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    static_opts-&gt;<a class="code" href="../../d6/d7c/structstatic__opts__s.html#a2a760634c35b2df727542452532cc63f">invalid_alignment_string</a> = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    static_opts-&gt;<a class="code" href="../../d6/d7c/structstatic__opts__s.html#a0b201929708af8d731b93d56cb794e71">slow</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    static_opts-&gt;<a class="code" href="../../d6/d7c/structstatic__opts__s.html#aefe162954663a6fac0cb8f1bd071369b">usize</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02393">je_posix_memalign()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02653">je_realloc()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02271">malloc_default()</a>.</p>

</div>
</div>
<a id="a146ce08675a6dab3ea9abb47608ee491"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a146ce08675a6dab3ea9abb47608ee491">&#9670;&nbsp;</a></span>stats_print_atexit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void stats_print_atexit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00647">647</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                         {</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a0a3d6c7d00953f43eab9c56131604e4d">config_stats</a>) {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        <a class="code" href="../../d9/d83/structtsdn__s.html">tsdn_t</a> *tsdn;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        <span class="keywordtype">unsigned</span> narenas, i;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160; </div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        tsdn = <a class="code" href="../../db/d1d/tsd_8h.html#a84bbcd98c2715d18380ca6cdfe755346">tsdn_fetch</a>();</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160; </div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="comment">         * Merge stats from extant threads.  This is racy, since</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="comment">         * individual threads do not lock when recording tcache stats</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="comment">         * events.  As a consequence, the final stats may be slightly</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="comment">         * out of date by the time they are reported, if other threads</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="comment">         * continue to allocate.</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        <span class="keywordflow">for</span> (i = 0, narenas = <a class="code" href="../../d8/d80/jemalloc_8c.html#a5770c88b2b0c8dd5c610f366f9b160e1">narenas_total_get</a>(); i &lt; narenas; i++) {</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;            <a class="code" href="../../da/dc2/structarena__s.html">arena_t</a> *<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a> = <a class="code" href="../../dc/d61/jemalloc__internal__inlines__a_8h.html#afc61837312aeb8ba2123252226db9ce0">arena_get</a>(tsdn, i, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a> != <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>) {</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                <a class="code" href="../../db/d17/structtcache__s.html">tcache_t</a> *tcache;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160; </div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                <a class="code" href="../../d0/df8/mutex_8h.html#a8ef3eafed2797ee477454ac0846022c5">malloc_mutex_lock</a>(tsdn, &amp;<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>-&gt;<a class="code" href="../../da/dc2/structarena__s.html#af622f926b477a3ea9fa06e4cdb0db548">tcache_ql_mtx</a>);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                <a class="code" href="../../d1/dc1/ql_8h.html#aa691b822f71e4b8e010ca790a5ad9066">ql_foreach</a>(tcache, &amp;<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>-&gt;tcache_ql, <a class="code" href="../../dd/d95/structlink.html">link</a>) {</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                    <a class="code" href="../../dd/de2/private__namespace_8h.html#a4f2434591e240483f751a1a86d7c49b7">tcache_stats_merge</a>(tsdn, tcache, <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                }</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                <a class="code" href="../../d0/df8/mutex_8h.html#a154125aa931881a4a7f0ee6b59fe96ba">malloc_mutex_unlock</a>(tsdn,</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                    &amp;<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>-&gt;<a class="code" href="../../da/dc2/structarena__s.html#af622f926b477a3ea9fa06e4cdb0db548">tcache_ql_mtx</a>);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;            }</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        }</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    }</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <a class="code" href="../../d8/d80/jemalloc_8c.html#a3cff7358b7ac52c39983f529258c0e12">je_malloc_stats_print</a>(<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>, <a class="code" href="../../dd/de2/private__namespace_8h.html#aa6d1f5339409049179d41ab9c8609e09">opt_stats_print_opts</a>);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;}</div>
<div class="ttc" id="ajemalloc_8c_html_a3cff7358b7ac52c39983f529258c0e12"><div class="ttname"><a href="../../d8/d80/jemalloc_8c.html#a3cff7358b7ac52c39983f529258c0e12">je_malloc_stats_print</a></div><div class="ttdeci">JEMALLOC_EXPORT void JEMALLOC_NOTHROW je_malloc_stats_print(void(*write_cb)(void *, const char *), void *cbopaque, const char *opts)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d80/jemalloc_8c_source.html#l03708">jemalloc.c:3708</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a4f2434591e240483f751a1a86d7c49b7"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a4f2434591e240483f751a1a86d7c49b7">tcache_stats_merge</a></div><div class="ttdeci">#define tcache_stats_merge</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00391">private_namespace.h:391</a></div></div>
<div class="ttc" id="aql_8h_html_aa691b822f71e4b8e010ca790a5ad9066"><div class="ttname"><a href="../../d1/dc1/ql_8h.html#aa691b822f71e4b8e010ca790a5ad9066">ql_foreach</a></div><div class="ttdeci">#define ql_foreach(a_var, a_head, a_field)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc1/ql_8h_source.html#l00082">ql.h:82</a></div></div>
<div class="ttc" id="astructarena__s_html_af622f926b477a3ea9fa06e4cdb0db548"><div class="ttname"><a href="../../da/dc2/structarena__s.html#af622f926b477a3ea9fa06e4cdb0db548">arena_s::tcache_ql_mtx</a></div><div class="ttdeci">malloc_mutex_t tcache_ql_mtx</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de1/arena__structs__b_8h_source.html#l00115">arena_structs_b.h:115</a></div></div>
<div class="ttc" id="astructlink_html"><div class="ttname"><a href="../../dd/d95/structlink.html">link</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d51/dbug_8c_source.html#l00192">dbug.c:192</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/dd3/background__thread_8c_source.html#l00057">arena</a>, <a class="el" href="../../dc/d61/jemalloc__internal__inlines__a_8h_source.html#l00085">arena_get()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00141">config_stats</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03708">je_malloc_stats_print()</a>, <a class="el" href="../../d0/df8/mutex_8h_source.html#l00217">malloc_mutex_lock()</a>, <a class="el" href="../../d0/df8/mutex_8h_source.html#l00230">malloc_mutex_unlock()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00312">narenas_total_get()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00358">opt_stats_print_opts</a>, <a class="el" href="../../d1/dc1/ql_8h_source.html#l00082">ql_foreach</a>, <a class="el" href="../../dc/de1/arena__structs__b_8h_source.html#l00115">arena_s::tcache_ql_mtx</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00391">tcache_stats_merge</a>, and <a class="el" href="../../db/d1d/tsd_8h_source.html#l00386">tsdn_fetch()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01479">malloc_init_hard_a0_locked()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a7f531dd76e2b7bed05becca9c598868c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f531dd76e2b7bed05becca9c598868c">&#9670;&nbsp;</a></span>a0</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d5e/arena__types_8h.html#a75ec58797d4c793b05def94ed85c6bdc">arena_t</a>* a0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00093">93</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d65/_matrix_8cpp_source.html#l01111">G3D::Matrix::col2PseudoInverse()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01479">malloc_init_hard_a0_locked()</a>, <a class="el" href="../../d7/d48/prof__inlines__a_8h_source.html#l00007">prof_accum_add()</a>, and <a class="el" href="../../d7/d48/prof__inlines__a_8h_source.html#l00046">prof_accum_cancel()</a>.</p>

</div>
</div>
<a id="aa4c32fd6a358b290e1d8b304c44b313f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4c32fd6a358b290e1d8b304c44b313f">&#9670;&nbsp;</a></span>arenas</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">atomic_p_t arenas[<a class="el" href="../../dc/dc4/jemalloc__internal__types_8h.html#ab0acba69002a74c91fadd17848dc8030">MALLOCX_ARENA_LIMIT</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00090">90</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00297">arena_set()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01479">malloc_init_hard_a0_locked()</a>.</p>

</div>
</div>
<a id="a98e3833a2f20e314304e382556ec75f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98e3833a2f20e314304e382556ec75f1">&#9670;&nbsp;</a></span>arenas_lock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/df8/mutex_8h.html#a1160dfc00be16f6378bd638157c903cd">malloc_mutex_t</a> arenas_lock</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00078">78</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00499">arena_choose_hard()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00364">arena_init()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03894">jemalloc_postfork_child()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03855">jemalloc_postfork_parent()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03781">jemalloc_prefork()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01479">malloc_init_hard_a0_locked()</a>, and <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00721">narenas_total_get()</a>.</p>

</div>
</div>
<a id="a0bd2976d700d3ae616e8d1dad50878af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bd2976d700d3ae616e8d1dad50878af">&#9670;&nbsp;</a></span>had_conf_error</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> had_conf_error = <a class="el" href="../../d9/d5e/stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00192">192</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00906">malloc_conf_error()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01021">malloc_conf_init_helper()</a>.</p>

</div>
</div>
<a id="aa910397ee13e42388902c8788fd6df6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa910397ee13e42388902c8788fd6df6a">&#9670;&nbsp;</a></span>init_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/df8/mutex_8h.html#a1160dfc00be16f6378bd638157c903cd">malloc_mutex_t</a> init_lock = <a class="el" href="../../d0/df8/mutex_8h.html#a1e9b630556a69dabc0bd7deac7ae9deb">MALLOC_MUTEX_INITIALIZER</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00166">166</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01733">malloc_init_hard()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01564">malloc_init_hard_a0()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01721">malloc_init_hard_cleanup()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01453">malloc_init_hard_needed()</a>.</p>

</div>
</div>
<a id="acc07984c0731c12cd227b0f6086254c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc07984c0731c12cd227b0f6086254c7">&#9670;&nbsp;</a></span>je_malloc_conf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char* je_malloc_conf</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00027">27</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00938">obtain_malloc_conf()</a>.</p>

</div>
</div>
<a id="aa94afe6cfd4412d842b50d290fbb2f25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa94afe6cfd4412d842b50d290fbb2f25">&#9670;&nbsp;</a></span>malloc_init_state</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d80/jemalloc_8c.html#a5d300f5734516669c0ae1049d529a2be">malloc_init_t</a> malloc_init_state = <a class="el" href="../../d8/d80/jemalloc_8c.html#a5d300f5734516669c0ae1049d529a2bead6292aed10e45dfd5ff7df99194a5c4a">malloc_init_uninitialized</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00103">103</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00214">malloc_init_a0()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01733">malloc_init_hard()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01479">malloc_init_hard_a0_locked()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01709">malloc_init_hard_finish()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01453">malloc_init_hard_needed()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01575">malloc_init_hard_recursible()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00209">malloc_initialized()</a>.</p>

</div>
</div>
<a id="a8400570f1e40143af4be1cfc16f3faf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8400570f1e40143af4be1cfc16f3faf1">&#9670;&nbsp;</a></span>malloc_initializer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> malloc_initializer = <a class="el" href="../../d8/d80/jemalloc_8c.html#ac19ee6dc36258a288840ca42da370e66">NO_INITIALIZER</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00128">128</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01479">malloc_init_hard_a0_locked()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01453">malloc_init_hard_needed()</a>.</p>

</div>
</div>
<a id="aa52b77f0789f762c334c6323af323760"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa52b77f0789f762c334c6323af323760">&#9670;&nbsp;</a></span>malloc_slow</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> malloc_slow = <a class="el" href="../../d9/d5e/stdbool_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00106">106</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00920">malloc_slow_flag_init()</a>.</p>

</div>
</div>
<a id="a92e12fcf973e5617eebcb68f13fb6a7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92e12fcf973e5617eebcb68f13fb6a7f">&#9670;&nbsp;</a></span>malloc_slow_flags</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> malloc_slow_flags</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00116">116</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00920">malloc_slow_flag_init()</a>.</p>

</div>
</div>
<a id="a76a1030556e1f53d588940e0e23761bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76a1030556e1f53d588940e0e23761bc">&#9670;&nbsp;</a></span>manual_arena_base</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned manual_arena_base</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00095">95</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01479">malloc_init_hard_a0_locked()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01628">malloc_init_narenas()</a>.</p>

</div>
</div>
<a id="ae9d6a15b8260ba57e1781be757233789"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9d6a15b8260ba57e1781be757233789">&#9670;&nbsp;</a></span>narenas_auto</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned narenas_auto</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00094">94</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00499">arena_choose_hard()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01479">malloc_init_hard_a0_locked()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01628">malloc_init_narenas()</a>.</p>

</div>
</div>
<a id="a53e13bc710cec2a1d6a2d130ca1c43f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53e13bc710cec2a1d6a2d130ca1c43f9">&#9670;&nbsp;</a></span>narenas_total</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">atomic_u_t narenas_total</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00091">91</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00312">narenas_total_get()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00307">narenas_total_inc()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00302">narenas_total_set()</a>.</p>

</div>
</div>
<a id="a291a57628877b50ad8d0639b805a8595"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a291a57628877b50ad8d0639b805a8595">&#9670;&nbsp;</a></span>ncpus</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned ncpus</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00075">75</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01575">malloc_init_hard_recursible()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01628">malloc_init_narenas()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01602">malloc_narenas_default()</a>.</p>

</div>
</div>
<a id="a7c1b61d3016ffe1bb7daf5d000c14ab9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c1b61d3016ffe1bb7daf5d000c14ab9">&#9670;&nbsp;</a></span>opt_abort</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> opt_abort</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    <span class="keyword">false</span></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00032">32</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01021">malloc_conf_init_helper()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01479">malloc_init_hard_a0_locked()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01575">malloc_init_hard_recursible()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01628">malloc_init_narenas()</a>.</p>

</div>
</div>
<a id="a398e56ddef33deda34f9a8a040e3b008"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a398e56ddef33deda34f9a8a040e3b008">&#9670;&nbsp;</a></span>opt_abort_conf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> opt_abort_conf</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    <span class="keyword">false</span></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00039">39</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00898">malloc_abort_invalid_conf()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01021">malloc_conf_init_helper()</a>.</p>

</div>
</div>
<a id="a48bd222d8fb563cc39f819a7b7f7f6e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48bd222d8fb563cc39f819a7b7f7f6e4">&#9670;&nbsp;</a></span>opt_confirm_conf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> opt_confirm_conf = <a class="el" href="../../d9/d5e/stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00047">47</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01021">malloc_conf_init_helper()</a>.</p>

</div>
</div>
<a id="a5c3466e5c6fccbbcbbed933dc0264484"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c3466e5c6fccbbcbbed933dc0264484">&#9670;&nbsp;</a></span>opt_junk</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char* opt_junk</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    <span class="stringliteral">&quot;false&quot;</span></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00048">48</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01021">malloc_conf_init_helper()</a>.</p>

</div>
</div>
<a id="a9ccae085c69622115282f8427ddcf17e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ccae085c69622115282f8427ddcf17e">&#9670;&nbsp;</a></span>opt_junk_alloc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> opt_junk_alloc</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    <span class="keyword">false</span></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00055">55</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01021">malloc_conf_init_helper()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00920">malloc_slow_flag_init()</a>.</p>

</div>
</div>
<a id="aff6fd647d678b35e59a0ab748d1314df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff6fd647d678b35e59a0ab748d1314df">&#9670;&nbsp;</a></span>opt_junk_free</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> opt_junk_free</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    <span class="keyword">false</span></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00062">62</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01021">malloc_conf_init_helper()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00920">malloc_slow_flag_init()</a>.</p>

</div>
</div>
<a id="a98f27264f740a00e1c9acfc795862a73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98f27264f740a00e1c9acfc795862a73">&#9670;&nbsp;</a></span>opt_narenas</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned opt_narenas = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00073">73</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01021">malloc_conf_init_helper()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01628">malloc_init_narenas()</a>.</p>

</div>
</div>
<a id="a56da2438511aa30130f1034b635452ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56da2438511aa30130f1034b635452ba">&#9670;&nbsp;</a></span>opt_utrace</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> opt_utrace = <a class="el" href="../../d9/d5e/stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00070">70</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01021">malloc_conf_init_helper()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00920">malloc_slow_flag_init()</a>.</p>

</div>
</div>
<a id="abb699624a4c15add503df6cb54a5132e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb699624a4c15add503df6cb54a5132e">&#9670;&nbsp;</a></span>opt_xmalloc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> opt_xmalloc = <a class="el" href="../../d9/d5e/stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00071">71</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02028">imalloc_body()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02228">imalloc_init_check()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l03216">je_rallocx()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l02653">je_realloc()</a>, <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01021">malloc_conf_init_helper()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00920">malloc_slow_flag_init()</a>.</p>

</div>
</div>
<a id="a62715b37c6bb7259dc4b1b52a2294080"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62715b37c6bb7259dc4b1b52a2294080">&#9670;&nbsp;</a></span>opt_zero</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> opt_zero = <a class="el" href="../../d9/d5e/stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00072">72</a> of file <a class="el" href="../../d8/d80/jemalloc_8c_source.html">jemalloc.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l01021">malloc_conf_init_helper()</a>, and <a class="el" href="../../d8/d80/jemalloc_8c_source.html#l00920">malloc_slow_flag_init()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
