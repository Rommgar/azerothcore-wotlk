<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Azerotcore-wotlk: src/server/game/Combat/ThreatMgr.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Azerotcore-wotlk
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_075bb3ff235063c77951cd176d15a741.html">server</a></li><li class="navelem"><a class="el" href="../../dir_6f9eed72e6ac35fa9b9946c34be827b2.html">game</a></li><li class="navelem"><a class="el" href="../../dir_f5d1cc5fbac4fb8a854ac1ab5565e921.html">Combat</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ThreatMgr.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d8/d5e/_threat_mgr_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * This file is part of the AzerothCore Project. See AUTHORS file for Copyright information</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * This program is free software; you can redistribute it and/or modify it</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * under the terms of the GNU Affero General Public License as published by the</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * Free Software Foundation; either version 3 of the License, or (at your</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * option) any later version.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * This program is distributed in the hope that it will be useful, but WITHOUT</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * more details.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License along</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; </div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#ifndef _THREATMANAGER</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#define _THREATMANAGER</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; </div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/d1f/_common_8h.html">Common.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../da/d38/_reference_8h.html">LinkedReference/Reference.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d0b/_shared_defines_8h.html">SharedDefines.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d87/_unit_events_8h.html">UnitEvents.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;list&gt;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">//==============================================================</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">class </span><a class="code" href="../../da/db7/class_unit.html">Unit</a>;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">class </span><a class="code" href="../../d1/dac/class_creature.html">Creature</a>;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">class </span><a class="code" href="../../d0/db1/class_threat_mgr.html">ThreatMgr</a>;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="keyword">class </span><a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a>;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="../../d8/d5e/_threat_mgr_8h.html#a7173807ed06286e3a91f0497a3588f6b">   34</a></span>&#160;<span class="preprocessor">#define THREAT_UPDATE_INTERVAL 2 * IN_MILLISECONDS    </span><span class="comment">// Server should send threat update to client periodically each second</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">//==============================================================</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">// Class to calculate the real threat based</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="../../d7/dc4/struct_threat_calc_helper.html">   39</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d7/dc4/struct_threat_calc_helper.html">ThreatCalcHelper</a></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;{</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">float</span> <a class="code" href="../../d7/dc4/struct_threat_calc_helper.html#a8dff67b978f95d5ccf20f4f61f5f079b">calcThreat</a>(<a class="code" href="../../da/db7/class_unit.html">Unit</a>* hatedUnit, <a class="code" href="../../da/db7/class_unit.html">Unit</a>* hatingUnit, <span class="keywordtype">float</span> threat, <a class="code" href="../../df/d0b/_shared_defines_8h.html#aff6913cfd69489c107a071be9ec2ec8f">SpellSchoolMask</a> schoolMask = <a class="code" href="../../df/d0b/_shared_defines_8h.html#aff6913cfd69489c107a071be9ec2ec8fa12667dd3f55738c93e1ddb1351779b42">SPELL_SCHOOL_MASK_NORMAL</a>, <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* threatSpell = <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="../../d7/dc4/struct_threat_calc_helper.html#a86dca4bc12138bef3dd53d4b3356f5d2">isValidProcess</a>(<a class="code" href="../../da/db7/class_unit.html">Unit</a>* hatedUnit, <a class="code" href="../../da/db7/class_unit.html">Unit</a>* hatingUnit, <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* threatSpell = <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;};</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">//==============================================================</span></div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="../../d1/d28/class_hostile_reference.html">   46</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../d1/d28/class_hostile_reference.html">HostileReference</a> : <span class="keyword">public</span> <a class="code" href="../../de/dd2/class_reference.html">Reference</a>&lt;Unit, ThreatMgr&gt;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;{</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <a class="code" href="../../d1/d28/class_hostile_reference.html#aabdc142e65df7b7dac22a0ac7afb62db">HostileReference</a>(<a class="code" href="../../da/db7/class_unit.html">Unit</a>* refUnit, <a class="code" href="../../d0/db1/class_threat_mgr.html">ThreatMgr</a>* threatMgr, <span class="keywordtype">float</span> threat);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="comment">//=================================================</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d28/class_hostile_reference.html#ac4820cdf2dffd0f7def1497263e0ea88">addThreat</a>(<span class="keywordtype">float</span> modThreat);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="../../d1/d28/class_hostile_reference.html#af25937ba0cdba8316fd43c2cf9ad9eee">   54</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d28/class_hostile_reference.html#af25937ba0cdba8316fd43c2cf9ad9eee">setThreat</a>(<span class="keywordtype">float</span> threat) { <a class="code" href="../../d1/d28/class_hostile_reference.html#ac4820cdf2dffd0f7def1497263e0ea88">addThreat</a>(threat - <a class="code" href="../../d1/d28/class_hostile_reference.html#ad2c43f7b67ead66c0b9ba4bea7763142">getThreat</a>()); }</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d28/class_hostile_reference.html#aeaee3bd08e233b495b389d4101679a3c">addThreatPercent</a>(<a class="code" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> percent);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="../../d1/d28/class_hostile_reference.html#ad2c43f7b67ead66c0b9ba4bea7763142">   58</a></span>&#160;    [[nodiscard]] <span class="keywordtype">float</span> <a class="code" href="../../d1/d28/class_hostile_reference.html#ad2c43f7b67ead66c0b9ba4bea7763142">getThreat</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d1/d28/class_hostile_reference.html#a4ae557ae375d4e1fc0f28e069e8d3d39">iThreat</a>; }</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="../../d1/d28/class_hostile_reference.html#a041f8627b7e4f1bdc703effe67f59609">   60</a></span>&#160;    [[nodiscard]] <span class="keywordtype">bool</span> <a class="code" href="../../d1/d28/class_hostile_reference.html#a041f8627b7e4f1bdc703effe67f59609">isOnline</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d1/d28/class_hostile_reference.html#a2c8e51b8367285f9275e726264cfe602">iOnline</a>; }</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">// used for temporary setting a threat and reducting it later again.</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="comment">// the threat modification is stored</span></div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="../../d1/d28/class_hostile_reference.html#ab559a9c9994a6ca830a0a76f5a6507e6">   64</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d28/class_hostile_reference.html#ab559a9c9994a6ca830a0a76f5a6507e6">setTempThreat</a>(<span class="keywordtype">float</span> threat)</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    {</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <a class="code" href="../../d1/d28/class_hostile_reference.html#a903ebdbbba9a065b38b264ef3c3ac2e9">addTempThreat</a>(threat - <a class="code" href="../../d1/d28/class_hostile_reference.html#ad2c43f7b67ead66c0b9ba4bea7763142">getThreat</a>());</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="../../d1/d28/class_hostile_reference.html#a903ebdbbba9a065b38b264ef3c3ac2e9">   69</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d28/class_hostile_reference.html#a903ebdbbba9a065b38b264ef3c3ac2e9">addTempThreat</a>(<span class="keywordtype">float</span> threat)</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <a class="code" href="../../d1/d28/class_hostile_reference.html#af17353f550624cd5fbc311ea0e5d36d8">iTempThreatModifier</a> = threat;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/d28/class_hostile_reference.html#af17353f550624cd5fbc311ea0e5d36d8">iTempThreatModifier</a> != 0.0f)</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            <a class="code" href="../../d1/d28/class_hostile_reference.html#ac4820cdf2dffd0f7def1497263e0ea88">addThreat</a>(<a class="code" href="../../d1/d28/class_hostile_reference.html#af17353f550624cd5fbc311ea0e5d36d8">iTempThreatModifier</a>);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="../../d1/d28/class_hostile_reference.html#af52027732c37abc084c7ae1b7c7ce162">   76</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d28/class_hostile_reference.html#af52027732c37abc084c7ae1b7c7ce162">resetTempThreat</a>()</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/d28/class_hostile_reference.html#af17353f550624cd5fbc311ea0e5d36d8">iTempThreatModifier</a> != 0.0f)</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            <a class="code" href="../../d1/d28/class_hostile_reference.html#ac4820cdf2dffd0f7def1497263e0ea88">addThreat</a>(-<a class="code" href="../../d1/d28/class_hostile_reference.html#af17353f550624cd5fbc311ea0e5d36d8">iTempThreatModifier</a>);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <a class="code" href="../../d1/d28/class_hostile_reference.html#af17353f550624cd5fbc311ea0e5d36d8">iTempThreatModifier</a> = 0.0f;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        }</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    }</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="../../d1/d28/class_hostile_reference.html#a672b7160f3bf4c0475d0232025b89e81">   85</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d1/d28/class_hostile_reference.html#a672b7160f3bf4c0475d0232025b89e81">getTempThreatModifier</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d1/d28/class_hostile_reference.html#af17353f550624cd5fbc311ea0e5d36d8">iTempThreatModifier</a>; }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="comment">//=================================================</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="comment">// check, if source can reach target and set the status</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d28/class_hostile_reference.html#a0046c9cb12992bbd97ef2780ce9810e5">updateOnlineStatus</a>();</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d28/class_hostile_reference.html#a546a126cb2a9d9d27ed61b15c24d4417">setOnlineOfflineState</a>(<span class="keywordtype">bool</span> <a class="code" href="../../d1/d28/class_hostile_reference.html#a041f8627b7e4f1bdc703effe67f59609">isOnline</a>);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="comment">//=================================================</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="../../d1/d28/class_hostile_reference.html#a6e6454f5c232f7d9c4609c35e9a6efef">   94</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d1/d28/class_hostile_reference.html#a6e6454f5c232f7d9c4609c35e9a6efef">operator == </a>(<span class="keyword">const</span> <a class="code" href="../../d1/d28/class_hostile_reference.html">HostileReference</a>&amp; hostileRef)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> hostileRef.<a class="code" href="../../d1/d28/class_hostile_reference.html#a0588a24578dfe8351b8c3bd62a0c1324">getUnitGuid</a>() == <a class="code" href="../../d1/d28/class_hostile_reference.html#a0588a24578dfe8351b8c3bd62a0c1324">getUnitGuid</a>(); }</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="comment">//=================================================</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="../../d1/d28/class_hostile_reference.html#a0588a24578dfe8351b8c3bd62a0c1324">   98</a></span>&#160;    [[nodiscard]] <a class="code" href="../../d8/d03/class_object_guid.html">ObjectGuid</a> <a class="code" href="../../d1/d28/class_hostile_reference.html#a0588a24578dfe8351b8c3bd62a0c1324">getUnitGuid</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d1/d28/class_hostile_reference.html#a399aec688493314ced2ac811a71ab038">iUnitGuid</a>; }</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="comment">//=================================================</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="comment">// reference is not needed anymore. realy delete it !</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d28/class_hostile_reference.html#aa30a4bca79e58f1bf6f9c64f5092dc89">removeReference</a>();</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="comment">//=================================================</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160; </div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="../../d1/d28/class_hostile_reference.html#a73a83b7eacec5274b4b7edd754032f07">  107</a></span>&#160;    <a class="code" href="../../d1/d28/class_hostile_reference.html">HostileReference</a>* <a class="code" href="../../d1/d28/class_hostile_reference.html#a73a83b7eacec5274b4b7edd754032f07">next</a>() { <span class="keywordflow">return</span> ((<a class="code" href="../../d1/d28/class_hostile_reference.html">HostileReference</a>*) <a class="code" href="../../de/dd2/class_reference.html">Reference&lt;Unit, ThreatMgr&gt;::next</a>()); }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">//=================================================</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="comment">// Tell our refTo (target) object that we have a link</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d28/class_hostile_reference.html#a6a14c74aa1fa05efdc330a7570c99910">targetObjectBuildLink</a>() <span class="keyword">override</span>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="comment">// Tell our refTo (taget) object, that the link is cut</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d28/class_hostile_reference.html#a2fbcd4b88a86e22e3cf805cf199b1fd7">targetObjectDestroyLink</a>() <span class="keyword">override</span>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="comment">// Tell our refFrom (source) object, that the link is cut (Target destroyed)</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d28/class_hostile_reference.html#a8c708097d72791957ffc93f4d0fcb742">sourceObjectDestroyLink</a>() <span class="keyword">override</span>;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="comment">// Inform the source, that the status of that reference was changed</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d28/class_hostile_reference.html#ad9947afb3eae22c652d5b8f6f3628eed">fireStatusChanged</a>(<a class="code" href="../../d3/dcd/class_threat_ref_status_change_event.html">ThreatRefStatusChangeEvent</a>&amp; threatRefStatusChangeEvent);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <a class="code" href="../../da/db7/class_unit.html">Unit</a>* <a class="code" href="../../d1/d28/class_hostile_reference.html#abc68accd906c8134040408ef69699ecb">GetSourceUnit</a>();</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="../../d1/d28/class_hostile_reference.html#a4ae557ae375d4e1fc0f28e069e8d3d39">  125</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d1/d28/class_hostile_reference.html#a4ae557ae375d4e1fc0f28e069e8d3d39">iThreat</a>;</div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="../../d1/d28/class_hostile_reference.html#af17353f550624cd5fbc311ea0e5d36d8">  126</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d1/d28/class_hostile_reference.html#af17353f550624cd5fbc311ea0e5d36d8">iTempThreatModifier</a>;                          <span class="comment">// used for taunt</span></div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="../../d1/d28/class_hostile_reference.html#a399aec688493314ced2ac811a71ab038">  127</a></span>&#160;    <a class="code" href="../../d8/d03/class_object_guid.html">ObjectGuid</a> <a class="code" href="../../d1/d28/class_hostile_reference.html#a399aec688493314ced2ac811a71ab038">iUnitGuid</a>;</div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="../../d1/d28/class_hostile_reference.html#a2c8e51b8367285f9275e726264cfe602">  128</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d1/d28/class_hostile_reference.html#a2c8e51b8367285f9275e726264cfe602">iOnline</a>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;};</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">//==============================================================</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="keyword">class </span><a class="code" href="../../d0/db1/class_threat_mgr.html">ThreatMgr</a>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="../../de/d50/class_threat_container.html">  134</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../de/d50/class_threat_container.html">ThreatContainer</a></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;{</div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="../../de/d50/class_threat_container.html#a15a22acdc48991a2933e85328b30934b">  136</a></span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="../../d0/db1/class_threat_mgr.html">ThreatMgr</a>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="../../de/d50/class_threat_container.html#aa54b741c510fc6a3d0bac802e8ba8299">  139</a></span>&#160;    <span class="keyword">typedef</span> std::list&lt;HostileReference*&gt; <a class="code" href="../../de/d50/class_threat_container.html#aa54b741c510fc6a3d0bac802e8ba8299">StorageType</a>;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="../../de/d50/class_threat_container.html#a2e48dfbebf5cb7cc64a86b4e5ca0fd96">  141</a></span>&#160;    <a class="code" href="../../de/d50/class_threat_container.html#a2e48dfbebf5cb7cc64a86b4e5ca0fd96">ThreatContainer</a>() { }</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="../../de/d50/class_threat_container.html#a05f781e32e6a47cb77f2902dea43fde6">  143</a></span>&#160;    <a class="code" href="../../de/d50/class_threat_container.html#a05f781e32e6a47cb77f2902dea43fde6">~ThreatContainer</a>() { <a class="code" href="../../de/d50/class_threat_container.html#a0e2eb46b0743ef0f9f2243a716374c2e">clearReferences</a>(); }</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="../../d1/d28/class_hostile_reference.html">HostileReference</a>* <a class="code" href="../../de/d50/class_threat_container.html#a0bd08f78ade33458ed4897bef00559b8">addThreat</a>(<a class="code" href="../../da/db7/class_unit.html">Unit</a>* victim, <span class="keywordtype">float</span> threat);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../de/d50/class_threat_container.html#a9d66d4cd9cefcd4d84927c35a404aa83">modifyThreatPercent</a>(<a class="code" href="../../da/db7/class_unit.html">Unit</a>* victim, <a class="code" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> percent);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <a class="code" href="../../d1/d28/class_hostile_reference.html">HostileReference</a>* <a class="code" href="../../de/d50/class_threat_container.html#adba62669c0f04003e557ed2a65ea2295">selectNextVictim</a>(<a class="code" href="../../d1/dac/class_creature.html">Creature</a>* attacker, <a class="code" href="../../d1/d28/class_hostile_reference.html">HostileReference</a>* currentVictim) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="../../de/d50/class_threat_container.html#a097b94f1de5825c738cd312674e16751">  151</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../de/d50/class_threat_container.html#a097b94f1de5825c738cd312674e16751">setDirty</a>(<span class="keywordtype">bool</span> <a class="code" href="../../de/d50/class_threat_container.html#a759b5599133b30d1b60f08fbde32e380">isDirty</a>) { <a class="code" href="../../de/d50/class_threat_container.html#a8b99e743d8fd4a5f51965c924eff75a9">iDirty</a> = <a class="code" href="../../de/d50/class_threat_container.html#a759b5599133b30d1b60f08fbde32e380">isDirty</a>; }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="../../de/d50/class_threat_container.html#a759b5599133b30d1b60f08fbde32e380">  153</a></span>&#160;    [[nodiscard]] <span class="keywordtype">bool</span> <a class="code" href="../../de/d50/class_threat_container.html#a759b5599133b30d1b60f08fbde32e380">isDirty</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../de/d50/class_threat_container.html#a8b99e743d8fd4a5f51965c924eff75a9">iDirty</a>; }</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="../../de/d50/class_threat_container.html#ad3ca339afd9a79d3f2f925a4229159b6">  155</a></span>&#160;    [[nodiscard]] <span class="keywordtype">bool</span> <a class="code" href="../../de/d50/class_threat_container.html#ad3ca339afd9a79d3f2f925a4229159b6">empty</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../de/d50/class_threat_container.html#a81f66d85664dd65b06aa8412bca69db2">iThreatList</a>.empty();</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="../../de/d50/class_threat_container.html#a99256040a55f2fc06f83705973b25eac">  160</a></span>&#160;    [[nodiscard]] <a class="code" href="../../d1/d28/class_hostile_reference.html">HostileReference</a>* <a class="code" href="../../de/d50/class_threat_container.html#a99256040a55f2fc06f83705973b25eac">getMostHated</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../de/d50/class_threat_container.html#a81f66d85664dd65b06aa8412bca69db2">iThreatList</a>.empty() ? nullptr : <a class="code" href="../../de/d50/class_threat_container.html#a81f66d85664dd65b06aa8412bca69db2">iThreatList</a>.front();</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <a class="code" href="../../d1/d28/class_hostile_reference.html">HostileReference</a>* <a class="code" href="../../de/d50/class_threat_container.html#a0145e1afdd2a20fba527c6e4b3ca3c89">getReferenceByTarget</a>(<a class="code" href="../../da/db7/class_unit.html">Unit</a>* victim) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="../../de/d50/class_threat_container.html#a93feae13b535b190042e92e9ef3fd01a">  167</a></span>&#160;    [[nodiscard]] <a class="code" href="../../de/d50/class_threat_container.html#aa54b741c510fc6a3d0bac802e8ba8299">StorageType</a> <span class="keyword">const</span>&amp; <a class="code" href="../../de/d50/class_threat_container.html#a93feae13b535b190042e92e9ef3fd01a">getThreatList</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../de/d50/class_threat_container.html#a81f66d85664dd65b06aa8412bca69db2">iThreatList</a>; }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="../../de/d50/class_threat_container.html#af6122a07b7d59900a54352bbb85cde4e">  170</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../de/d50/class_threat_container.html#af6122a07b7d59900a54352bbb85cde4e">remove</a>(<a class="code" href="../../d1/d28/class_hostile_reference.html">HostileReference</a>* hostileRef)</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <a class="code" href="../../de/d50/class_threat_container.html#a81f66d85664dd65b06aa8412bca69db2">iThreatList</a>.remove(hostileRef);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    }</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="../../de/d50/class_threat_container.html#ad3d6d6b13e9b761174f9bfbb6e0c2899">  175</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../de/d50/class_threat_container.html#ad3d6d6b13e9b761174f9bfbb6e0c2899">addReference</a>(<a class="code" href="../../d1/d28/class_hostile_reference.html">HostileReference</a>* hostileRef)</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <a class="code" href="../../de/d50/class_threat_container.html#a81f66d85664dd65b06aa8412bca69db2">iThreatList</a>.push_back(hostileRef);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../de/d50/class_threat_container.html#a0e2eb46b0743ef0f9f2243a716374c2e">clearReferences</a>();</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="comment">// Sort the list if necessary</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../de/d50/class_threat_container.html#a01b426d0575bb2ff010b05d8f6c47bac">update</a>();</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="../../de/d50/class_threat_container.html#a81f66d85664dd65b06aa8412bca69db2">  185</a></span>&#160;    <a class="code" href="../../de/d50/class_threat_container.html#aa54b741c510fc6a3d0bac802e8ba8299">StorageType</a> <a class="code" href="../../de/d50/class_threat_container.html#a81f66d85664dd65b06aa8412bca69db2">iThreatList</a>;</div>
<div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="../../de/d50/class_threat_container.html#a8b99e743d8fd4a5f51965c924eff75a9">  186</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../de/d50/class_threat_container.html#a8b99e743d8fd4a5f51965c924eff75a9">iDirty</a>{<span class="keyword">false</span>};</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;};</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">//=================================================</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="../../d0/db1/class_threat_mgr.html">  191</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../d0/db1/class_threat_mgr.html">ThreatMgr</a></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;{</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="../../d0/db1/class_threat_mgr.html#ad2986bf4d69d9d5c9223c0f44e6b4554">  194</a></span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="../../d1/d28/class_hostile_reference.html">HostileReference</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keyword">explicit</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#ae724e04e02f6c35a062bd25786bbc73b">ThreatMgr</a>(<a class="code" href="../../da/db7/class_unit.html">Unit</a>* owner);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="../../d0/db1/class_threat_mgr.html#af76e930bfd291f63fe2f7984cd0f7aff">  198</a></span>&#160;    <a class="code" href="../../d0/db1/class_threat_mgr.html#af76e930bfd291f63fe2f7984cd0f7aff">~ThreatMgr</a>() { <a class="code" href="../../d0/db1/class_threat_mgr.html#a3e937749207c225d2fb0b2fa4c9519e2">clearReferences</a>(); }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#a3e937749207c225d2fb0b2fa4c9519e2">clearReferences</a>();</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#a589c008393572b51f3e7cfb69e5d1392">addThreat</a>(<a class="code" href="../../da/db7/class_unit.html">Unit</a>* victim, <span class="keywordtype">float</span> threat, <a class="code" href="../../df/d0b/_shared_defines_8h.html#aff6913cfd69489c107a071be9ec2ec8f">SpellSchoolMask</a> schoolMask = <a class="code" href="../../df/d0b/_shared_defines_8h.html#aff6913cfd69489c107a071be9ec2ec8fa12667dd3f55738c93e1ddb1351779b42">SPELL_SCHOOL_MASK_NORMAL</a>, <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* threatSpell = <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#ae5ee6e61f43ce1683da8728b630b48d2">doAddThreat</a>(<a class="code" href="../../da/db7/class_unit.html">Unit</a>* victim, <span class="keywordtype">float</span> threat);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#a772faa10ad4ff655e65f57bfe86e8836">modifyThreatPercent</a>(<a class="code" href="../../da/db7/class_unit.html">Unit</a>* victim, <a class="code" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> percent);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#a82c3983cc5bcc545a6ea2fa1da9a27e4">getThreat</a>(<a class="code" href="../../da/db7/class_unit.html">Unit</a>* victim, <span class="keywordtype">bool</span> alsoSearchOfflineList = <span class="keyword">false</span>);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#a2e55da20f90fbee22a6bc89cfabd6479">getThreatWithoutTemp</a>(<a class="code" href="../../da/db7/class_unit.html">Unit</a>* victim, <span class="keywordtype">bool</span> alsoSearchOfflineList = <span class="keyword">false</span>);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="../../d0/db1/class_threat_mgr.html#adcf06946662ccb10e22b53844871ebbe">  212</a></span>&#160;    [[nodiscard]] <span class="keywordtype">bool</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#adcf06946662ccb10e22b53844871ebbe">isThreatListEmpty</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#a915dba2303936ef06cdd65d0e8d99b9d">iThreatContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#ad3ca339afd9a79d3f2f925a4229159b6">empty</a>(); }</div>
<div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="../../d0/db1/class_threat_mgr.html#a65ba80f06e855798fabdc58e831b0791">  213</a></span>&#160;    [[nodiscard]] <span class="keywordtype">bool</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#a65ba80f06e855798fabdc58e831b0791">areThreatListsEmpty</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#a915dba2303936ef06cdd65d0e8d99b9d">iThreatContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#ad3ca339afd9a79d3f2f925a4229159b6">empty</a>() &amp;&amp; <a class="code" href="../../d0/db1/class_threat_mgr.html#a21f182f89eedb87dc73fbbaa4c52c2be">iThreatOfflineContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#ad3ca339afd9a79d3f2f925a4229159b6">empty</a>(); }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#a1aaab217053df0fc670b3f2a86d87589">processThreatEvent</a>(<a class="code" href="../../d3/dcd/class_threat_ref_status_change_event.html">ThreatRefStatusChangeEvent</a>* threatRefStatusChangeEvent);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#a2fdf017a6219469e9966a2ffe4e536fc">isNeedUpdateToClient</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> time);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="../../d0/db1/class_threat_mgr.html#ad6c5604b44b79f3ed8ad31c4b75f63d1">  219</a></span>&#160;    [[nodiscard]] <a class="code" href="../../d1/d28/class_hostile_reference.html">HostileReference</a>* <a class="code" href="../../d0/db1/class_threat_mgr.html#ad6c5604b44b79f3ed8ad31c4b75f63d1">getCurrentVictim</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#a08ae7f6d2914dca1698ae518f0133a7b">iCurrentVictim</a>; }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="../../d0/db1/class_threat_mgr.html#a8af7568291f04250454ebfbdad97be7f">  221</a></span>&#160;    [[nodiscard]] <a class="code" href="../../da/db7/class_unit.html">Unit</a>* <a class="code" href="../../d0/db1/class_threat_mgr.html#a8af7568291f04250454ebfbdad97be7f">GetOwner</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#a44cb20b0e46f9932d951218b63e77b38">iOwner</a>; }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <a class="code" href="../../da/db7/class_unit.html">Unit</a>* <a class="code" href="../../d0/db1/class_threat_mgr.html#a384c23cf271b0478904ecc61b9dc7a8e">getHostilTarget</a>();</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#a2bb07f6da7a18565a9f34f66b5ec0c74">tauntApply</a>(<a class="code" href="../../da/db7/class_unit.html">Unit</a>* taunter);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#a32c81fd4088678a3ffd8590fcd3cbb6e">tauntFadeOut</a>(<a class="code" href="../../da/db7/class_unit.html">Unit</a>* taunter);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#a0675c1295245c0418bd4021557fbacc4">setCurrentVictim</a>(<a class="code" href="../../d1/d28/class_hostile_reference.html">HostileReference</a>* hostileRef);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="../../d0/db1/class_threat_mgr.html#a3af45b133035760e8af979e132fa5d16">  230</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#a3af45b133035760e8af979e132fa5d16">setDirty</a>(<span class="keywordtype">bool</span> isDirty) { <a class="code" href="../../d0/db1/class_threat_mgr.html#a915dba2303936ef06cdd65d0e8d99b9d">iThreatContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#a097b94f1de5825c738cd312674e16751">setDirty</a>(isDirty); }</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160; </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="comment">// Reset all aggro without modifying the threadlist.</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#a14ad14e71ba14dadc89e766e10c33bec">resetAllAggro</a>();</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160; </div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="comment">// Reset all aggro of unit in threadlist satisfying the predicate.</span></div>
<div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="../../d0/db1/class_threat_mgr.html#a5c62c861a4fce0e44e9fe37d7feeb31d">  236</a></span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">class</span> PREDICATE&gt; <span class="keywordtype">void</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#a5c62c861a4fce0e44e9fe37d7feeb31d">resetAggro</a>(PREDICATE predicate)</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <a class="code" href="../../de/d50/class_threat_container.html#aa54b741c510fc6a3d0bac802e8ba8299">ThreatContainer::StorageType</a>&amp; threatList = <a class="code" href="../../d0/db1/class_threat_mgr.html#a915dba2303936ef06cdd65d0e8d99b9d">iThreatContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#a81f66d85664dd65b06aa8412bca69db2">iThreatList</a>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="keywordflow">if</span> (threatList.empty())</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> ref : threatList)</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            <span class="keywordflow">if</span> (predicate(ref-&gt;getTarget()))</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                ref-&gt;setThreat(0);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                <a class="code" href="../../d0/db1/class_threat_mgr.html#a3af45b133035760e8af979e132fa5d16">setDirty</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            }</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="comment">// methods to access the lists from the outside to do some dirty manipulation (scriping and such)</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="comment">// I hope they are used as little as possible.</span></div>
<div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="../../d0/db1/class_threat_mgr.html#a71f6cfb8c6a3896eda706db610ed5535">  254</a></span>&#160;    [[nodiscard]] <a class="code" href="../../de/d50/class_threat_container.html#aa54b741c510fc6a3d0bac802e8ba8299">ThreatContainer::StorageType</a> <span class="keyword">const</span>&amp; <a class="code" href="../../d0/db1/class_threat_mgr.html#a71f6cfb8c6a3896eda706db610ed5535">getThreatList</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#a915dba2303936ef06cdd65d0e8d99b9d">iThreatContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#a93feae13b535b190042e92e9ef3fd01a">getThreatList</a>(); }</div>
<div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="../../d0/db1/class_threat_mgr.html#a72791905f71eb8de07f33b4763a2add2">  255</a></span>&#160;    [[nodiscard]] <a class="code" href="../../de/d50/class_threat_container.html#aa54b741c510fc6a3d0bac802e8ba8299">ThreatContainer::StorageType</a> <span class="keyword">const</span>&amp; <a class="code" href="../../d0/db1/class_threat_mgr.html#a72791905f71eb8de07f33b4763a2add2">getOfflineThreatList</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#a21f182f89eedb87dc73fbbaa4c52c2be">iThreatOfflineContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#a93feae13b535b190042e92e9ef3fd01a">getThreatList</a>(); }</div>
<div class="line"><a name="l00256"></a><span class="lineno"><a class="line" href="../../d0/db1/class_threat_mgr.html#af460644c4e7d661b8e4cad3d5079a2c2">  256</a></span>&#160;    <a class="code" href="../../de/d50/class_threat_container.html">ThreatContainer</a>&amp; <a class="code" href="../../d0/db1/class_threat_mgr.html#af460644c4e7d661b8e4cad3d5079a2c2">getOnlineContainer</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#a915dba2303936ef06cdd65d0e8d99b9d">iThreatContainer</a>; }</div>
<div class="line"><a name="l00257"></a><span class="lineno"><a class="line" href="../../d0/db1/class_threat_mgr.html#ae740e976b3a5169139fb4bfe6157dc5a">  257</a></span>&#160;    <a class="code" href="../../de/d50/class_threat_container.html">ThreatContainer</a>&amp; <a class="code" href="../../d0/db1/class_threat_mgr.html#ae740e976b3a5169139fb4bfe6157dc5a">getOfflineContainer</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#a21f182f89eedb87dc73fbbaa4c52c2be">iThreatOfflineContainer</a>; }</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#a1ef6a4761e9254b61ab9fe266d68f132">_addThreat</a>(<a class="code" href="../../da/db7/class_unit.html">Unit</a>* victim, <span class="keywordtype">float</span> threat);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="../../d0/db1/class_threat_mgr.html#a08ae7f6d2914dca1698ae518f0133a7b">  261</a></span>&#160;    <a class="code" href="../../d1/d28/class_hostile_reference.html">HostileReference</a>* <a class="code" href="../../d0/db1/class_threat_mgr.html#a08ae7f6d2914dca1698ae518f0133a7b">iCurrentVictim</a>;</div>
<div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="../../d0/db1/class_threat_mgr.html#a44cb20b0e46f9932d951218b63e77b38">  262</a></span>&#160;    <a class="code" href="../../da/db7/class_unit.html">Unit</a>* <a class="code" href="../../d0/db1/class_threat_mgr.html#a44cb20b0e46f9932d951218b63e77b38">iOwner</a>;</div>
<div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="../../d0/db1/class_threat_mgr.html#a6302f3d039e18c7d9c74b26288491825">  263</a></span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <a class="code" href="../../d0/db1/class_threat_mgr.html#a6302f3d039e18c7d9c74b26288491825">iUpdateTimer</a>;</div>
<div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="../../d0/db1/class_threat_mgr.html#a915dba2303936ef06cdd65d0e8d99b9d">  264</a></span>&#160;    <a class="code" href="../../de/d50/class_threat_container.html">ThreatContainer</a> <a class="code" href="../../d0/db1/class_threat_mgr.html#a915dba2303936ef06cdd65d0e8d99b9d">iThreatContainer</a>;</div>
<div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="../../d0/db1/class_threat_mgr.html#a21f182f89eedb87dc73fbbaa4c52c2be">  265</a></span>&#160;    <a class="code" href="../../de/d50/class_threat_container.html">ThreatContainer</a> <a class="code" href="../../d0/db1/class_threat_mgr.html#a21f182f89eedb87dc73fbbaa4c52c2be">iThreatOfflineContainer</a>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;};</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">//=================================================</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="keyword">namespace </span><a class="code" href="../../d1/d7d/namespace_acore.html">Acore</a></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;{</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="comment">// Binary predicate for sorting HostileReferences based on threat value</span></div>
<div class="line"><a name="l00273"></a><span class="lineno"><a class="line" href="../../d2/de2/class_acore_1_1_threat_order_pred.html">  273</a></span>&#160;    <span class="keyword">class </span><a class="code" href="../../d2/de2/class_acore_1_1_threat_order_pred.html">ThreatOrderPred</a></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="../../d2/de2/class_acore_1_1_threat_order_pred.html#a33b2897bfd994ce57628f939814facba">  276</a></span>&#160;        <a class="code" href="../../d2/de2/class_acore_1_1_threat_order_pred.html#a33b2897bfd994ce57628f939814facba">ThreatOrderPred</a>(<span class="keywordtype">bool</span> ascending = <span class="keyword">false</span>) : <a class="code" href="../../d2/de2/class_acore_1_1_threat_order_pred.html#ad4d70c60ed781e443f07ad1b81afd10d">m_ascending</a>(ascending) {}</div>
<div class="line"><a name="l00277"></a><span class="lineno"><a class="line" href="../../d2/de2/class_acore_1_1_threat_order_pred.html#a5f668d69e800b472bc64711199f2b732">  277</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="../../d2/de2/class_acore_1_1_threat_order_pred.html#a5f668d69e800b472bc64711199f2b732">operator() </a>(<a class="code" href="../../d1/d28/class_hostile_reference.html">HostileReference</a> <span class="keyword">const</span>* a, <a class="code" href="../../d1/d28/class_hostile_reference.html">HostileReference</a> <span class="keyword">const</span>* b)<span class="keyword"> const</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="keyword">        </span>{</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d2/de2/class_acore_1_1_threat_order_pred.html#ad4d70c60ed781e443f07ad1b81afd10d">m_ascending</a> ? a-&gt;<a class="code" href="../../d1/d28/class_hostile_reference.html#ad2c43f7b67ead66c0b9ba4bea7763142">getThreat</a>() &lt; b-&gt;<a class="code" href="../../d1/d28/class_hostile_reference.html#ad2c43f7b67ead66c0b9ba4bea7763142">getThreat</a>() : a-&gt;<a class="code" href="../../d1/d28/class_hostile_reference.html#ad2c43f7b67ead66c0b9ba4bea7763142">getThreat</a>() &gt; b-&gt;<a class="code" href="../../d1/d28/class_hostile_reference.html#ad2c43f7b67ead66c0b9ba4bea7763142">getThreat</a>();</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        }</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keyword">private</span>:</div>
<div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="../../d2/de2/class_acore_1_1_threat_order_pred.html#ad4d70c60ed781e443f07ad1b81afd10d">  282</a></span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="../../d2/de2/class_acore_1_1_threat_order_pred.html#ad4d70c60ed781e443f07ad1b81afd10d">m_ascending</a>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    };</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;}</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="ttc" id="a_common_8h_html"><div class="ttname"><a href="../../db/d1f/_common_8h.html">Common.h</a></div></div>
<div class="ttc" id="a_define_8h_html_a0bf9964a3ce962c07ad3d8b5432bbbcd"><div class="ttname"><a href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a></div><div class="ttdeci">std::int32_t int32</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d35/_define_8h_source.html#l00110">Define.h:110</a></div></div>
<div class="ttc" id="a_define_8h_html_a22f78cc9780bf32aff91ae17c3101c8d"><div class="ttname"><a href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a></div><div class="ttdeci">std::uint32_t uint32</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d35/_define_8h_source.html#l00114">Define.h:114</a></div></div>
<div class="ttc" id="a_reference_8h_html"><div class="ttname"><a href="../../da/d38/_reference_8h.html">Reference.h</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html">SharedDefines.h</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_aff6913cfd69489c107a071be9ec2ec8f"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#aff6913cfd69489c107a071be9ec2ec8f">SpellSchoolMask</a></div><div class="ttdeci">SpellSchoolMask</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00266">SharedDefines.h:267</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_aff6913cfd69489c107a071be9ec2ec8fa12667dd3f55738c93e1ddb1351779b42"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#aff6913cfd69489c107a071be9ec2ec8fa12667dd3f55738c93e1ddb1351779b42">SPELL_SCHOOL_MASK_NORMAL</a></div><div class="ttdeci">@ SPELL_SCHOOL_MASK_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00269">SharedDefines.h:269</a></div></div>
<div class="ttc" id="a_unit_events_8h_html"><div class="ttname"><a href="../../d7/d87/_unit_events_8h.html">UnitEvents.h</a></div></div>
<div class="ttc" id="aclass_acore_1_1_threat_order_pred_html"><div class="ttname"><a href="../../d2/de2/class_acore_1_1_threat_order_pred.html">Acore::ThreatOrderPred</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00273">ThreatMgr.h:274</a></div></div>
<div class="ttc" id="aclass_acore_1_1_threat_order_pred_html_a33b2897bfd994ce57628f939814facba"><div class="ttname"><a href="../../d2/de2/class_acore_1_1_threat_order_pred.html#a33b2897bfd994ce57628f939814facba">Acore::ThreatOrderPred::ThreatOrderPred</a></div><div class="ttdeci">ThreatOrderPred(bool ascending=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00276">ThreatMgr.h:276</a></div></div>
<div class="ttc" id="aclass_acore_1_1_threat_order_pred_html_a5f668d69e800b472bc64711199f2b732"><div class="ttname"><a href="../../d2/de2/class_acore_1_1_threat_order_pred.html#a5f668d69e800b472bc64711199f2b732">Acore::ThreatOrderPred::operator()</a></div><div class="ttdeci">bool operator()(HostileReference const *a, HostileReference const *b) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00277">ThreatMgr.h:277</a></div></div>
<div class="ttc" id="aclass_acore_1_1_threat_order_pred_html_ad4d70c60ed781e443f07ad1b81afd10d"><div class="ttname"><a href="../../d2/de2/class_acore_1_1_threat_order_pred.html#ad4d70c60ed781e443f07ad1b81afd10d">Acore::ThreatOrderPred::m_ascending</a></div><div class="ttdeci">const bool m_ascending</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00282">ThreatMgr.h:282</a></div></div>
<div class="ttc" id="aclass_creature_html"><div class="ttname"><a href="../../d1/dac/class_creature.html">Creature</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/_creature_8h_source.html#l00045">Creature.h:46</a></div></div>
<div class="ttc" id="aclass_hostile_reference_html"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html">HostileReference</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00046">ThreatMgr.h:47</a></div></div>
<div class="ttc" id="aclass_hostile_reference_html_a0046c9cb12992bbd97ef2780ce9810e5"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#a0046c9cb12992bbd97ef2780ce9810e5">HostileReference::updateOnlineStatus</a></div><div class="ttdeci">void updateOnlineStatus()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00178">ThreatMgr.cpp:178</a></div></div>
<div class="ttc" id="aclass_hostile_reference_html_a041f8627b7e4f1bdc703effe67f59609"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#a041f8627b7e4f1bdc703effe67f59609">HostileReference::isOnline</a></div><div class="ttdeci">bool isOnline() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00060">ThreatMgr.h:60</a></div></div>
<div class="ttc" id="aclass_hostile_reference_html_a0588a24578dfe8351b8c3bd62a0c1324"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#a0588a24578dfe8351b8c3bd62a0c1324">HostileReference::getUnitGuid</a></div><div class="ttdeci">ObjectGuid getUnitGuid() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00098">ThreatMgr.h:98</a></div></div>
<div class="ttc" id="aclass_hostile_reference_html_a2c8e51b8367285f9275e726264cfe602"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#a2c8e51b8367285f9275e726264cfe602">HostileReference::iOnline</a></div><div class="ttdeci">bool iOnline</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00128">ThreatMgr.h:128</a></div></div>
<div class="ttc" id="aclass_hostile_reference_html_a2fbcd4b88a86e22e3cf805cf199b1fd7"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#a2fbcd4b88a86e22e3cf805cf199b1fd7">HostileReference::targetObjectDestroyLink</a></div><div class="ttdeci">void targetObjectDestroyLink() override</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00112">ThreatMgr.cpp:112</a></div></div>
<div class="ttc" id="aclass_hostile_reference_html_a399aec688493314ced2ac811a71ab038"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#a399aec688493314ced2ac811a71ab038">HostileReference::iUnitGuid</a></div><div class="ttdeci">ObjectGuid iUnitGuid</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00127">ThreatMgr.h:127</a></div></div>
<div class="ttc" id="aclass_hostile_reference_html_a4ae557ae375d4e1fc0f28e069e8d3d39"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#a4ae557ae375d4e1fc0f28e069e8d3d39">HostileReference::iThreat</a></div><div class="ttdeci">float iThreat</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00125">ThreatMgr.h:125</a></div></div>
<div class="ttc" id="aclass_hostile_reference_html_a546a126cb2a9d9d27ed61b15c24d4417"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#a546a126cb2a9d9d27ed61b15c24d4417">HostileReference::setOnlineOfflineState</a></div><div class="ttdeci">void setOnlineOfflineState(bool isOnline)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00212">ThreatMgr.cpp:212</a></div></div>
<div class="ttc" id="aclass_hostile_reference_html_a672b7160f3bf4c0475d0232025b89e81"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#a672b7160f3bf4c0475d0232025b89e81">HostileReference::getTempThreatModifier</a></div><div class="ttdeci">float getTempThreatModifier()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00085">ThreatMgr.h:85</a></div></div>
<div class="ttc" id="aclass_hostile_reference_html_a6a14c74aa1fa05efdc330a7570c99910"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#a6a14c74aa1fa05efdc330a7570c99910">HostileReference::targetObjectBuildLink</a></div><div class="ttdeci">void targetObjectBuildLink() override</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00105">ThreatMgr.cpp:105</a></div></div>
<div class="ttc" id="aclass_hostile_reference_html_a6e6454f5c232f7d9c4609c35e9a6efef"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#a6e6454f5c232f7d9c4609c35e9a6efef">HostileReference::operator==</a></div><div class="ttdeci">bool operator==(const HostileReference &amp;hostileRef) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00094">ThreatMgr.h:94</a></div></div>
<div class="ttc" id="aclass_hostile_reference_html_a73a83b7eacec5274b4b7edd754032f07"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#a73a83b7eacec5274b4b7edd754032f07">HostileReference::next</a></div><div class="ttdeci">HostileReference * next()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00107">ThreatMgr.h:107</a></div></div>
<div class="ttc" id="aclass_hostile_reference_html_a8c708097d72791957ffc93f4d0fcb742"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#a8c708097d72791957ffc93f4d0fcb742">HostileReference::sourceObjectDestroyLink</a></div><div class="ttdeci">void sourceObjectDestroyLink() override</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00120">ThreatMgr.cpp:120</a></div></div>
<div class="ttc" id="aclass_hostile_reference_html_a903ebdbbba9a065b38b264ef3c3ac2e9"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#a903ebdbbba9a065b38b264ef3c3ac2e9">HostileReference::addTempThreat</a></div><div class="ttdeci">void addTempThreat(float threat)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00069">ThreatMgr.h:69</a></div></div>
<div class="ttc" id="aclass_hostile_reference_html_aa30a4bca79e58f1bf6f9c64f5092dc89"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#aa30a4bca79e58f1bf6f9c64f5092dc89">HostileReference::removeReference</a></div><div class="ttdeci">void removeReference()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00227">ThreatMgr.cpp:227</a></div></div>
<div class="ttc" id="aclass_hostile_reference_html_aabdc142e65df7b7dac22a0ac7afb62db"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#aabdc142e65df7b7dac22a0ac7afb62db">HostileReference::HostileReference</a></div><div class="ttdeci">HostileReference(Unit *refUnit, ThreatMgr *threatMgr, float threat)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00094">ThreatMgr.cpp:94</a></div></div>
<div class="ttc" id="aclass_hostile_reference_html_ab559a9c9994a6ca830a0a76f5a6507e6"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#ab559a9c9994a6ca830a0a76f5a6507e6">HostileReference::setTempThreat</a></div><div class="ttdeci">void setTempThreat(float threat)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00064">ThreatMgr.h:64</a></div></div>
<div class="ttc" id="aclass_hostile_reference_html_abc68accd906c8134040408ef69699ecb"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#abc68accd906c8134040408ef69699ecb">HostileReference::GetSourceUnit</a></div><div class="ttdeci">Unit * GetSourceUnit()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00237">ThreatMgr.cpp:237</a></div></div>
<div class="ttc" id="aclass_hostile_reference_html_ac4820cdf2dffd0f7def1497263e0ea88"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#ac4820cdf2dffd0f7def1497263e0ea88">HostileReference::addThreat</a></div><div class="ttdeci">void addThreat(float modThreat)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00136">ThreatMgr.cpp:136</a></div></div>
<div class="ttc" id="aclass_hostile_reference_html_ad2c43f7b67ead66c0b9ba4bea7763142"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#ad2c43f7b67ead66c0b9ba4bea7763142">HostileReference::getThreat</a></div><div class="ttdeci">float getThreat() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00058">ThreatMgr.h:58</a></div></div>
<div class="ttc" id="aclass_hostile_reference_html_ad9947afb3eae22c652d5b8f6f3628eed"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#ad9947afb3eae22c652d5b8f6f3628eed">HostileReference::fireStatusChanged</a></div><div class="ttdeci">void fireStatusChanged(ThreatRefStatusChangeEvent &amp;threatRefStatusChangeEvent)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00128">ThreatMgr.cpp:128</a></div></div>
<div class="ttc" id="aclass_hostile_reference_html_aeaee3bd08e233b495b389d4101679a3c"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#aeaee3bd08e233b495b389d4101679a3c">HostileReference::addThreatPercent</a></div><div class="ttdeci">void addThreatPercent(int32 percent)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00163">ThreatMgr.cpp:163</a></div></div>
<div class="ttc" id="aclass_hostile_reference_html_af17353f550624cd5fbc311ea0e5d36d8"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#af17353f550624cd5fbc311ea0e5d36d8">HostileReference::iTempThreatModifier</a></div><div class="ttdeci">float iTempThreatModifier</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00126">ThreatMgr.h:126</a></div></div>
<div class="ttc" id="aclass_hostile_reference_html_af25937ba0cdba8316fd43c2cf9ad9eee"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#af25937ba0cdba8316fd43c2cf9ad9eee">HostileReference::setThreat</a></div><div class="ttdeci">void setThreat(float threat)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00054">ThreatMgr.h:54</a></div></div>
<div class="ttc" id="aclass_hostile_reference_html_af52027732c37abc084c7ae1b7c7ce162"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#af52027732c37abc084c7ae1b7c7ce162">HostileReference::resetTempThreat</a></div><div class="ttdeci">void resetTempThreat()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00076">ThreatMgr.h:76</a></div></div>
<div class="ttc" id="aclass_object_guid_html"><div class="ttname"><a href="../../d8/d03/class_object_guid.html">ObjectGuid</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d83/_object_guid_8h_source.html#l00119">ObjectGuid.h:120</a></div></div>
<div class="ttc" id="aclass_reference_html"><div class="ttname"><a href="../../de/dd2/class_reference.html">Reference</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d38/_reference_8h_source.html#l00026">Reference.h:27</a></div></div>
<div class="ttc" id="aclass_spell_info_html"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html">SpellInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00312">SpellInfo.h:313</a></div></div>
<div class="ttc" id="aclass_threat_container_html"><div class="ttname"><a href="../../de/d50/class_threat_container.html">ThreatContainer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00134">ThreatMgr.h:135</a></div></div>
<div class="ttc" id="aclass_threat_container_html_a0145e1afdd2a20fba527c6e4b3ca3c89"><div class="ttname"><a href="../../de/d50/class_threat_container.html#a0145e1afdd2a20fba527c6e4b3ca3c89">ThreatContainer::getReferenceByTarget</a></div><div class="ttdeci">HostileReference * getReferenceByTarget(Unit *victim) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00259">ThreatMgr.cpp:259</a></div></div>
<div class="ttc" id="aclass_threat_container_html_a01b426d0575bb2ff010b05d8f6c47bac"><div class="ttname"><a href="../../de/d50/class_threat_container.html#a01b426d0575bb2ff010b05d8f6c47bac">ThreatContainer::update</a></div><div class="ttdeci">void update()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00297">ThreatMgr.cpp:297</a></div></div>
<div class="ttc" id="aclass_threat_container_html_a05f781e32e6a47cb77f2902dea43fde6"><div class="ttname"><a href="../../de/d50/class_threat_container.html#a05f781e32e6a47cb77f2902dea43fde6">ThreatContainer::~ThreatContainer</a></div><div class="ttdeci">~ThreatContainer()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00143">ThreatMgr.h:143</a></div></div>
<div class="ttc" id="aclass_threat_container_html_a097b94f1de5825c738cd312674e16751"><div class="ttname"><a href="../../de/d50/class_threat_container.html#a097b94f1de5825c738cd312674e16751">ThreatContainer::setDirty</a></div><div class="ttdeci">void setDirty(bool isDirty)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00151">ThreatMgr.h:151</a></div></div>
<div class="ttc" id="aclass_threat_container_html_a0bd08f78ade33458ed4897bef00559b8"><div class="ttname"><a href="../../de/d50/class_threat_container.html#a0bd08f78ade33458ed4897bef00559b8">ThreatContainer::addThreat</a></div><div class="ttdeci">HostileReference * addThreat(Unit *victim, float threat)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00278">ThreatMgr.cpp:278</a></div></div>
<div class="ttc" id="aclass_threat_container_html_a0e2eb46b0743ef0f9f2243a716374c2e"><div class="ttname"><a href="../../de/d50/class_threat_container.html#a0e2eb46b0743ef0f9f2243a716374c2e">ThreatContainer::clearReferences</a></div><div class="ttdeci">void clearReferences()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00246">ThreatMgr.cpp:246</a></div></div>
<div class="ttc" id="aclass_threat_container_html_a2e48dfbebf5cb7cc64a86b4e5ca0fd96"><div class="ttname"><a href="../../de/d50/class_threat_container.html#a2e48dfbebf5cb7cc64a86b4e5ca0fd96">ThreatContainer::ThreatContainer</a></div><div class="ttdeci">ThreatContainer()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00141">ThreatMgr.h:141</a></div></div>
<div class="ttc" id="aclass_threat_container_html_a759b5599133b30d1b60f08fbde32e380"><div class="ttname"><a href="../../de/d50/class_threat_container.html#a759b5599133b30d1b60f08fbde32e380">ThreatContainer::isDirty</a></div><div class="ttdeci">bool isDirty() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00153">ThreatMgr.h:153</a></div></div>
<div class="ttc" id="aclass_threat_container_html_a81f66d85664dd65b06aa8412bca69db2"><div class="ttname"><a href="../../de/d50/class_threat_container.html#a81f66d85664dd65b06aa8412bca69db2">ThreatContainer::iThreatList</a></div><div class="ttdeci">StorageType iThreatList</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00185">ThreatMgr.h:185</a></div></div>
<div class="ttc" id="aclass_threat_container_html_a8b99e743d8fd4a5f51965c924eff75a9"><div class="ttname"><a href="../../de/d50/class_threat_container.html#a8b99e743d8fd4a5f51965c924eff75a9">ThreatContainer::iDirty</a></div><div class="ttdeci">bool iDirty</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00186">ThreatMgr.h:186</a></div></div>
<div class="ttc" id="aclass_threat_container_html_a93feae13b535b190042e92e9ef3fd01a"><div class="ttname"><a href="../../de/d50/class_threat_container.html#a93feae13b535b190042e92e9ef3fd01a">ThreatContainer::getThreatList</a></div><div class="ttdeci">StorageType const  &amp; getThreatList() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00167">ThreatMgr.h:167</a></div></div>
<div class="ttc" id="aclass_threat_container_html_a99256040a55f2fc06f83705973b25eac"><div class="ttname"><a href="../../de/d50/class_threat_container.html#a99256040a55f2fc06f83705973b25eac">ThreatContainer::getMostHated</a></div><div class="ttdeci">HostileReference * getMostHated() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00160">ThreatMgr.h:160</a></div></div>
<div class="ttc" id="aclass_threat_container_html_a9d66d4cd9cefcd4d84927c35a404aa83"><div class="ttname"><a href="../../de/d50/class_threat_container.html#a9d66d4cd9cefcd4d84927c35a404aa83">ThreatContainer::modifyThreatPercent</a></div><div class="ttdeci">void modifyThreatPercent(Unit *victim, int32 percent)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00288">ThreatMgr.cpp:288</a></div></div>
<div class="ttc" id="aclass_threat_container_html_aa54b741c510fc6a3d0bac802e8ba8299"><div class="ttname"><a href="../../de/d50/class_threat_container.html#aa54b741c510fc6a3d0bac802e8ba8299">ThreatContainer::StorageType</a></div><div class="ttdeci">std::list&lt; HostileReference * &gt; StorageType</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00139">ThreatMgr.h:139</a></div></div>
<div class="ttc" id="aclass_threat_container_html_ad3ca339afd9a79d3f2f925a4229159b6"><div class="ttname"><a href="../../de/d50/class_threat_container.html#ad3ca339afd9a79d3f2f925a4229159b6">ThreatContainer::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00155">ThreatMgr.h:155</a></div></div>
<div class="ttc" id="aclass_threat_container_html_ad3d6d6b13e9b761174f9bfbb6e0c2899"><div class="ttname"><a href="../../de/d50/class_threat_container.html#ad3d6d6b13e9b761174f9bfbb6e0c2899">ThreatContainer::addReference</a></div><div class="ttdeci">void addReference(HostileReference *hostileRef)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00175">ThreatMgr.h:175</a></div></div>
<div class="ttc" id="aclass_threat_container_html_adba62669c0f04003e557ed2a65ea2295"><div class="ttname"><a href="../../de/d50/class_threat_container.html#adba62669c0f04003e557ed2a65ea2295">ThreatContainer::selectNextVictim</a></div><div class="ttdeci">HostileReference * selectNextVictim(Creature *attacker, HostileReference *currentVictim) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00309">ThreatMgr.cpp:309</a></div></div>
<div class="ttc" id="aclass_threat_container_html_af6122a07b7d59900a54352bbb85cde4e"><div class="ttname"><a href="../../de/d50/class_threat_container.html#af6122a07b7d59900a54352bbb85cde4e">ThreatContainer::remove</a></div><div class="ttdeci">void remove(HostileReference *hostileRef)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00170">ThreatMgr.h:170</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html">ThreatMgr</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00191">ThreatMgr.h:192</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a0675c1295245c0418bd4021557fbacc4"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a0675c1295245c0418bd4021557fbacc4">ThreatMgr::setCurrentVictim</a></div><div class="ttdeci">void setCurrentVictim(HostileReference *hostileRef)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00532">ThreatMgr.cpp:532</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a08ae7f6d2914dca1698ae518f0133a7b"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a08ae7f6d2914dca1698ae518f0133a7b">ThreatMgr::iCurrentVictim</a></div><div class="ttdeci">HostileReference * iCurrentVictim</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00261">ThreatMgr.h:261</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a14ad14e71ba14dadc89e766e10c33bec"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a14ad14e71ba14dadc89e766e10c33bec">ThreatMgr::resetAllAggro</a></div><div class="ttdeci">void resetAllAggro()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00611">ThreatMgr.cpp:611</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a1aaab217053df0fc670b3f2a86d87589"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a1aaab217053df0fc670b3f2a86d87589">ThreatMgr::processThreatEvent</a></div><div class="ttdeci">void processThreatEvent(ThreatRefStatusChangeEvent *threatRefStatusChangeEvent)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00545">ThreatMgr.cpp:545</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a1ef6a4761e9254b61ab9fe266d68f132"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a1ef6a4761e9254b61ab9fe266d68f132">ThreatMgr::_addThreat</a></div><div class="ttdeci">void _addThreat(Unit *victim, float threat)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00448">ThreatMgr.cpp:448</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a21f182f89eedb87dc73fbbaa4c52c2be"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a21f182f89eedb87dc73fbbaa4c52c2be">ThreatMgr::iThreatOfflineContainer</a></div><div class="ttdeci">ThreatContainer iThreatOfflineContainer</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00265">ThreatMgr.h:265</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a2bb07f6da7a18565a9f34f66b5ec0c74"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a2bb07f6da7a18565a9f34f66b5ec0c74">ThreatMgr::tauntApply</a></div><div class="ttdeci">void tauntApply(Unit *taunter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00511">ThreatMgr.cpp:511</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a2e55da20f90fbee22a6bc89cfabd6479"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a2e55da20f90fbee22a6bc89cfabd6479">ThreatMgr::getThreatWithoutTemp</a></div><div class="ttdeci">float getThreatWithoutTemp(Unit *victim, bool alsoSearchOfflineList=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00498">ThreatMgr.cpp:498</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a2fdf017a6219469e9966a2ffe4e536fc"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a2fdf017a6219469e9966a2ffe4e536fc">ThreatMgr::isNeedUpdateToClient</a></div><div class="ttdeci">bool isNeedUpdateToClient(uint32 time)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00596">ThreatMgr.cpp:596</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a32c81fd4088678a3ffd8590fcd3cbb6e"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a32c81fd4088678a3ffd8590fcd3cbb6e">ThreatMgr::tauntFadeOut</a></div><div class="ttdeci">void tauntFadeOut(Unit *taunter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00523">ThreatMgr.cpp:523</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a384c23cf271b0478904ecc61b9dc7a8e"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a384c23cf271b0478904ecc61b9dc7a8e">ThreatMgr::getHostilTarget</a></div><div class="ttdeci">Unit * getHostilTarget()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00475">ThreatMgr.cpp:475</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a3af45b133035760e8af979e132fa5d16"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a3af45b133035760e8af979e132fa5d16">ThreatMgr::setDirty</a></div><div class="ttdeci">void setDirty(bool isDirty)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00230">ThreatMgr.h:230</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a3e937749207c225d2fb0b2fa4c9519e2"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a3e937749207c225d2fb0b2fa4c9519e2">ThreatMgr::clearReferences</a></div><div class="ttdeci">void clearReferences()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00411">ThreatMgr.cpp:411</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a44cb20b0e46f9932d951218b63e77b38"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a44cb20b0e46f9932d951218b63e77b38">ThreatMgr::iOwner</a></div><div class="ttdeci">Unit * iOwner</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00262">ThreatMgr.h:262</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a589c008393572b51f3e7cfb69e5d1392"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a589c008393572b51f3e7cfb69e5d1392">ThreatMgr::addThreat</a></div><div class="ttdeci">void addThreat(Unit *victim, float threat, SpellSchoolMask schoolMask=SPELL_SCHOOL_MASK_NORMAL, SpellInfo const *threatSpell=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00421">ThreatMgr.cpp:421</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a5c62c861a4fce0e44e9fe37d7feeb31d"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a5c62c861a4fce0e44e9fe37d7feeb31d">ThreatMgr::resetAggro</a></div><div class="ttdeci">void resetAggro(PREDICATE predicate)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00236">ThreatMgr.h:236</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a6302f3d039e18c7d9c74b26288491825"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a6302f3d039e18c7d9c74b26288491825">ThreatMgr::iUpdateTimer</a></div><div class="ttdeci">uint32 iUpdateTimer</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00263">ThreatMgr.h:263</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a65ba80f06e855798fabdc58e831b0791"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a65ba80f06e855798fabdc58e831b0791">ThreatMgr::areThreatListsEmpty</a></div><div class="ttdeci">bool areThreatListsEmpty() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00213">ThreatMgr.h:213</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a71f6cfb8c6a3896eda706db610ed5535"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a71f6cfb8c6a3896eda706db610ed5535">ThreatMgr::getThreatList</a></div><div class="ttdeci">ThreatContainer::StorageType const  &amp; getThreatList() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00254">ThreatMgr.h:254</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a72791905f71eb8de07f33b4763a2add2"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a72791905f71eb8de07f33b4763a2add2">ThreatMgr::getOfflineThreatList</a></div><div class="ttdeci">ThreatContainer::StorageType const  &amp; getOfflineThreatList() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00255">ThreatMgr.h:255</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a772faa10ad4ff655e65f57bfe86e8836"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a772faa10ad4ff655e65f57bfe86e8836">ThreatMgr::modifyThreatPercent</a></div><div class="ttdeci">void modifyThreatPercent(Unit *victim, int32 percent)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00468">ThreatMgr.cpp:468</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a82c3983cc5bcc545a6ea2fa1da9a27e4"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a82c3983cc5bcc545a6ea2fa1da9a27e4">ThreatMgr::getThreat</a></div><div class="ttdeci">float getThreat(Unit *victim, bool alsoSearchOfflineList=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00485">ThreatMgr.cpp:485</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a8af7568291f04250454ebfbdad97be7f"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a8af7568291f04250454ebfbdad97be7f">ThreatMgr::GetOwner</a></div><div class="ttdeci">Unit * GetOwner() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00221">ThreatMgr.h:221</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a915dba2303936ef06cdd65d0e8d99b9d"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a915dba2303936ef06cdd65d0e8d99b9d">ThreatMgr::iThreatContainer</a></div><div class="ttdeci">ThreatContainer iThreatContainer</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00264">ThreatMgr.h:264</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_ad6c5604b44b79f3ed8ad31c4b75f63d1"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#ad6c5604b44b79f3ed8ad31c4b75f63d1">ThreatMgr::getCurrentVictim</a></div><div class="ttdeci">HostileReference * getCurrentVictim() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00219">ThreatMgr.h:219</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_adcf06946662ccb10e22b53844871ebbe"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#adcf06946662ccb10e22b53844871ebbe">ThreatMgr::isThreatListEmpty</a></div><div class="ttdeci">bool isThreatListEmpty() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00212">ThreatMgr.h:212</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_ae5ee6e61f43ce1683da8728b630b48d2"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#ae5ee6e61f43ce1683da8728b630b48d2">ThreatMgr::doAddThreat</a></div><div class="ttdeci">void doAddThreat(Unit *victim, float threat)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00429">ThreatMgr.cpp:429</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_ae724e04e02f6c35a062bd25786bbc73b"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#ae724e04e02f6c35a062bd25786bbc73b">ThreatMgr::ThreatMgr</a></div><div class="ttdeci">ThreatMgr(Unit *owner)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00405">ThreatMgr.cpp:405</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_ae740e976b3a5169139fb4bfe6157dc5a"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#ae740e976b3a5169139fb4bfe6157dc5a">ThreatMgr::getOfflineContainer</a></div><div class="ttdeci">ThreatContainer &amp; getOfflineContainer()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00257">ThreatMgr.h:257</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_af460644c4e7d661b8e4cad3d5079a2c2"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#af460644c4e7d661b8e4cad3d5079a2c2">ThreatMgr::getOnlineContainer</a></div><div class="ttdeci">ThreatContainer &amp; getOnlineContainer()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00256">ThreatMgr.h:256</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_af76e930bfd291f63fe2f7984cd0f7aff"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#af76e930bfd291f63fe2f7984cd0f7aff">ThreatMgr::~ThreatMgr</a></div><div class="ttdeci">~ThreatMgr()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00198">ThreatMgr.h:198</a></div></div>
<div class="ttc" id="aclass_threat_ref_status_change_event_html"><div class="ttname"><a href="../../d3/dcd/class_threat_ref_status_change_event.html">ThreatRefStatusChangeEvent</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_unit_events_8h_source.html#l00083">UnitEvents.h:84</a></div></div>
<div class="ttc" id="aclass_unit_html"><div class="ttname"><a href="../../da/db7/class_unit.html">Unit</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l01418">Unit.h:1419</a></div></div>
<div class="ttc" id="anamespace_acore_html"><div class="ttname"><a href="../../d1/d7d/namespace_acore.html">Acore</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d66/_asio_hacks_fwd_8h_source.html#l00048">AsioHacksFwd.h:49</a></div></div>
<div class="ttc" id="astruct_threat_calc_helper_html"><div class="ttname"><a href="../../d7/dc4/struct_threat_calc_helper.html">ThreatCalcHelper</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00039">ThreatMgr.h:40</a></div></div>
<div class="ttc" id="astruct_threat_calc_helper_html_a86dca4bc12138bef3dd53d4b3356f5d2"><div class="ttname"><a href="../../d7/dc4/struct_threat_calc_helper.html#a86dca4bc12138bef3dd53d4b3356f5d2">ThreatCalcHelper::isValidProcess</a></div><div class="ttdeci">static bool isValidProcess(Unit *hatedUnit, Unit *hatingUnit, SpellInfo const *threatSpell=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00055">ThreatMgr.cpp:55</a></div></div>
<div class="ttc" id="astruct_threat_calc_helper_html_a8dff67b978f95d5ccf20f4f61f5f079b"><div class="ttname"><a href="../../d7/dc4/struct_threat_calc_helper.html#a8dff67b978f95d5ccf20f4f61f5f079b">ThreatCalcHelper::calcThreat</a></div><div class="ttdeci">static float calcThreat(Unit *hatedUnit, Unit *hatingUnit, float threat, SpellSchoolMask schoolMask=SPELL_SCHOOL_MASK_NORMAL, SpellInfo const *threatSpell=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00035">ThreatMgr.cpp:35</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
