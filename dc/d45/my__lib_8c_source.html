<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Azerotcore-wotlk: deps/mysqllite/mysys/my_lib.c Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Azerotcore-wotlk
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_94a36784afa54c0b50996002372b429e.html">deps</a></li><li class="navelem"><a class="el" href="../../dir_c19b06727b8b6746540d83e2aa4b49f4.html">mysqllite</a></li><li class="navelem"><a class="el" href="../../dir_13dccb09ed58d8961791937bd7e01efd.html">mysys</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">my_lib.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../dc/d45/my__lib_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* Copyright (C) 2000 MySQL AB, 2008-2009 Sun Microsystems, Inc</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">   This program is free software; you can redistribute it and/or modify</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">   it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">   the Free Software Foundation; version 2 of the License.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">   This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">   GNU General Public License for more details.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">   You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">   along with this program; if not, write to the Free Software</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">   Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA */</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">/* TODO: check for overun of memory for names. */</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; </div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include    &quot;<a class="code" href="../../d2/d34/mysys__priv_8h.html">mysys_priv.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include    &lt;<a class="code" href="../../d6/dda/m__string_8h.html">m_string.h</a>&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include    &lt;<a class="code" href="../../d3/d09/my__dir_8h.html">my_dir.h</a>&gt;</span>  <span class="comment">/* Structs used by my_dir,includes sys/types */</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include    &quot;<a class="code" href="../../d3/dcf/mysys__err_8h.html">mysys_err.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#if defined(HAVE_DIRENT_H)</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor"># include &lt;<a class="code" href="../../d7/da9/dirent_8h.html">dirent.h</a>&gt;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor"># define NAMLEN(dirent) strlen((dirent)-&gt;d_name)</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="../../dc/d45/my__lib_8c.html#a89957e9be80ef12a50eb4eca72ecd888">   26</a></span>&#160;<span class="preprocessor"># define dirent direct</span></div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="../../dc/d45/my__lib_8c.html#abb80c1eb90e546dbdc94f79e74ffd787">   27</a></span>&#160;<span class="preprocessor"># define NAMLEN(dirent) (dirent)-&gt;d_namlen</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor"># if defined(HAVE_SYS_NDIR_H)</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#  include &lt;sys/ndir.h&gt;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor"># if defined(HAVE_SYS_DIR_H)</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#  include &lt;sys/dir.h&gt;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor"># if defined(HAVE_NDIR_H)</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#  include &lt;ndir.h&gt;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor"># if defined(_WIN32)</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor"># ifdef __BORLANDC__</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor"># include &lt;dir.h&gt;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#if defined(HAVE_READDIR_R)</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#define READDIR(A,B,C) ((errno=readdir_r(A,B,&amp;C)) != 0 || !C)</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="../../dc/d45/my__lib_8c.html#aabf554f36be112aa3f639af0b39649fa">   47</a></span>&#160;<span class="preprocessor">#define READDIR(A,B,C) (!(C=readdir(A)))</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">  We are assuming that directory we are reading is either has less than </span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">  100 files and so can be read in one initial chunk or has more than 1000</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">  files and so big increment are suitable.</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="../../dc/d45/my__lib_8c.html#a3e8d1310a7f8c227d741862b751904f0">   55</a></span>&#160;<span class="preprocessor">#define ENTRIES_START_SIZE (8192/sizeof(FILEINFO))</span></div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="../../dc/d45/my__lib_8c.html#abba56ceee117e58d18503acdefb1c84d">   56</a></span>&#160;<span class="preprocessor">#define ENTRIES_INCREMENT  (65536/sizeof(FILEINFO))</span></div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="../../dc/d45/my__lib_8c.html#ab3ef712fe6d8485ea304ba7d347774ed">   57</a></span>&#160;<span class="preprocessor">#define NAMES_START_SIZE   32768</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span>  <a class="code" href="../../dc/d45/my__lib_8c.html#a4f562999e83c0dcb13921f1d5e74bbc1">comp_names</a>(<span class="keyword">struct</span> <a class="code" href="../../da/d5c/structfileinfo.html">fileinfo</a> *<a class="code" href="../../d4/d71/namespacempq.html#ae78cc6206276c5d8a54a7b181bcd4f8d">a</a>,<span class="keyword">struct</span> <a class="code" href="../../da/d5c/structfileinfo.html">fileinfo</a> *<a class="code" href="../../df/d31/prof_8c.html#a3fca4d23183335e3d46f507d28e94e8b">b</a>);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="comment">/* We need this because program don&#39;t know with malloc we used */</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="../../d3/d09/my__dir_8h.html#a7e3f2267e82906c8c974956e682836d6">   65</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d45/my__lib_8c.html#a7e3f2267e82906c8c974956e682836d6">my_dirend</a>(<a class="code" href="../../d7/d62/structst__my__dir.html">MY_DIR</a> *<a class="code" href="../../da/d40/classbuffer.html">buffer</a>)</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;{</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;my_dirend&quot;</span>);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../da/d40/classbuffer.html">buffer</a>)</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#abd87232eee6027cb155f2dc978769bcc">delete_dynamic</a>((<a class="code" href="../../da/dfc/structst__dynamic__array.html">DYNAMIC_ARRAY</a>*)((<span class="keywordtype">char</span>*)<a class="code" href="../../da/d40/classbuffer.html">buffer</a> + </div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                                    <a class="code" href="../../d9/df6/my__global_8h.html#a4765fea979c5ff199c51806810fe18a4">ALIGN_SIZE</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../d7/d62/structst__my__dir.html">MY_DIR</a>))));</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#a0f42799530c5143f1b79f352f2ebef27">free_root</a>((<a class="code" href="../../d8/df1/structst__mem__root.html">MEM_ROOT</a>*)((<span class="keywordtype">char</span>*)<a class="code" href="../../da/d40/classbuffer.html">buffer</a> + <a class="code" href="../../d9/df6/my__global_8h.html#a4765fea979c5ff199c51806810fe18a4">ALIGN_SIZE</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../d7/d62/structst__my__dir.html">MY_DIR</a>)) + </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                          <a class="code" href="../../d9/df6/my__global_8h.html#a4765fea979c5ff199c51806810fe18a4">ALIGN_SIZE</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../da/dfc/structst__dynamic__array.html">DYNAMIC_ARRAY</a>))), <a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(0));</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(<a class="code" href="../../da/d40/classbuffer.html">buffer</a>);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  }</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a2d990f1c0bd095fcbac9c6596274be55">DBUG_VOID_RETURN</a>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;} <span class="comment">/* my_dirend */</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="comment">/* Compare in sort of filenames */</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="../../dc/d45/my__lib_8c.html#a4f562999e83c0dcb13921f1d5e74bbc1">   82</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/d45/my__lib_8c.html#a4f562999e83c0dcb13921f1d5e74bbc1">comp_names</a>(<span class="keyword">struct</span> <a class="code" href="../../da/d5c/structfileinfo.html">fileinfo</a> *<a class="code" href="../../d4/d71/namespacempq.html#ae78cc6206276c5d8a54a7b181bcd4f8d">a</a>, <span class="keyword">struct</span> <a class="code" href="../../da/d5c/structfileinfo.html">fileinfo</a> *<a class="code" href="../../df/d31/prof_8c.html#a3fca4d23183335e3d46f507d28e94e8b">b</a>)</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;{</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="keywordflow">return</span> (strcmp(<a class="code" href="../../d4/d71/namespacempq.html#ae78cc6206276c5d8a54a7b181bcd4f8d">a</a>-&gt;name,<a class="code" href="../../df/d31/prof_8c.html#a3fca4d23183335e3d46f507d28e94e8b">b</a>-&gt;name));</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;} <span class="comment">/* comp_names */</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#if !defined(_WIN32)</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="../../d3/d09/my__dir_8h.html#afce4d1f709d4e06af8cfd1dc012ad106">   90</a></span>&#160;<a class="code" href="../../d7/d62/structst__my__dir.html">MY_DIR</a>  *<a class="code" href="../../dc/d45/my__lib_8c.html#afce4d1f709d4e06af8cfd1dc012ad106">my_dir</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path, <a class="code" href="../../d9/df6/my__global_8h.html#a0db1f888c3bc329e7b0b340dbd41eb2b">myf</a> MyFlags)</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;{</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordtype">char</span>          *<a class="code" href="../../da/dab/crypt__buf__gen_8c.html#a74644aa51cc16278dbd041542e13afd0">buffer</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <a class="code" href="../../d7/d62/structst__my__dir.html">MY_DIR</a>        *<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>= 0;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <a class="code" href="../../da/d5c/structfileinfo.html">FILEINFO</a>      finfo;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <a class="code" href="../../da/dfc/structst__dynamic__array.html">DYNAMIC_ARRAY</a> *dir_entries_storage;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <a class="code" href="../../d8/df1/structst__mem__root.html">MEM_ROOT</a>      *names_storage;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <a class="code" href="../../d9/d31/struct_d_i_r.html">DIR</a>       *dirp;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d5/de2/structdirent.html">dirent</a> *dp;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keywordtype">char</span>      tmp_path[<a class="code" href="../../d9/df6/my__global_8h.html#a0fd6678904889e4aeff1402c35e890da">FN_REFLEN</a>+1],*tmp_file;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keywordtype">char</span>  dirent_tmp[<span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="../../d5/de2/structdirent.html">dirent</a>)+_POSIX_PATH_MAX+1];</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;my_dir&quot;</span>);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;my&quot;</span>,(<span class="stringliteral">&quot;path: &#39;%s&#39; MyFlags: %d&quot;</span>,path,MyFlags));</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="preprocessor">#if !defined(HAVE_READDIR_R)</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <a class="code" href="../../de/d55/group___thread__instrumentation.html#ga340bf8f49d0cbaa994eaf5fb1fc7a22f">mysql_mutex_lock</a>(&amp;<a class="code" href="../../d5/d9f/my__thr__init_8c.html#ac25df9f7f1d1b8ea29cbdea593a86d92">THR_LOCK_open</a>);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  dirp = <a class="code" href="../../d7/da9/dirent_8h.html#a56af8d3cfb4a2b2f44e20b276db71f2a">opendir</a>(<a class="code" href="../../dc/d45/my__lib_8c.html#a2cc3903be50a200f2c14695f9085a31e">directory_file_name</a>(tmp_path,(<span class="keywordtype">char</span> *) path));</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="preprocessor">#if defined(__amiga__)</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keywordflow">if</span> ((dirp-&gt;dd_fd) &lt; 0)            <span class="comment">/* Directory doesn&#39;t exists */</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordflow">if</span> (dirp == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a> || </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      ! (<a class="code" href="../../da/d40/classbuffer.html">buffer</a>= <a class="code" href="../../db/da9/my__sys_8h.html#a8f7b30ff5d0e10610637aa30c3e0048b">my_malloc</a>(<a class="code" href="../../d9/df6/my__global_8h.html#a4765fea979c5ff199c51806810fe18a4">ALIGN_SIZE</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../d7/d62/structst__my__dir.html">MY_DIR</a>)) + </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                           <a class="code" href="../../d9/df6/my__global_8h.html#a4765fea979c5ff199c51806810fe18a4">ALIGN_SIZE</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../da/dfc/structst__dynamic__array.html">DYNAMIC_ARRAY</a>)) +</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                           <span class="keyword">sizeof</span>(<a class="code" href="../../d8/df1/structst__mem__root.html">MEM_ROOT</a>), MyFlags)))</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  dir_entries_storage= (<a class="code" href="../../da/dfc/structst__dynamic__array.html">DYNAMIC_ARRAY</a>*)(<a class="code" href="../../da/d40/classbuffer.html">buffer</a> + <a class="code" href="../../d9/df6/my__global_8h.html#a4765fea979c5ff199c51806810fe18a4">ALIGN_SIZE</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../d7/d62/structst__my__dir.html">MY_DIR</a>))); </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  names_storage= (<a class="code" href="../../d8/df1/structst__mem__root.html">MEM_ROOT</a>*)(<a class="code" href="../../da/d40/classbuffer.html">buffer</a> + <a class="code" href="../../d9/df6/my__global_8h.html#a4765fea979c5ff199c51806810fe18a4">ALIGN_SIZE</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../d7/d62/structst__my__dir.html">MY_DIR</a>)) +</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                             <a class="code" href="../../d9/df6/my__global_8h.html#a4765fea979c5ff199c51806810fe18a4">ALIGN_SIZE</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../da/dfc/structst__dynamic__array.html">DYNAMIC_ARRAY</a>)));</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../db/da9/my__sys_8h.html#a5297b747dbfe40e71744c35c86cfa387">my_init_dynamic_array</a>(dir_entries_storage, <span class="keyword">sizeof</span>(<a class="code" href="../../da/d5c/structfileinfo.html">FILEINFO</a>),</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                            <a class="code" href="../../dc/d45/my__lib_8c.html#a3e8d1310a7f8c227d741862b751904f0">ENTRIES_START_SIZE</a>, <a class="code" href="../../dc/d45/my__lib_8c.html#abba56ceee117e58d18503acdefb1c84d">ENTRIES_INCREMENT</a>))</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(<a class="code" href="../../da/d40/classbuffer.html">buffer</a>);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  }</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a33a73f0921a74091ef65cecb3c383d9d">init_alloc_root</a>(names_storage, <a class="code" href="../../dc/d45/my__lib_8c.html#ab3ef712fe6d8485ea304ba7d347774ed">NAMES_START_SIZE</a>, <a class="code" href="../../dc/d45/my__lib_8c.html#ab3ef712fe6d8485ea304ba7d347774ed">NAMES_START_SIZE</a>);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="comment">/* MY_DIR structure is allocated and completly initialized at this point */</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>= (<a class="code" href="../../d7/d62/structst__my__dir.html">MY_DIR</a>*)<a class="code" href="../../da/d40/classbuffer.html">buffer</a>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  tmp_file=<a class="code" href="../../d6/dda/m__string_8h.html#ab21c8a48b0271e2ea1f8d4616dccbf98">strend</a>(tmp_path);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  dp= (<span class="keyword">struct </span><a class="code" href="../../d5/de2/structdirent.html">dirent</a>*) dirent_tmp;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="keywordflow">while</span> (!(<a class="code" href="../../dc/d45/my__lib_8c.html#aabf554f36be112aa3f639af0b39649fa">READDIR</a>(dirp,(<span class="keyword">struct</span> <a class="code" href="../../d5/de2/structdirent.html">dirent</a>*) dirent_tmp,dp)))</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">if</span> (!(finfo.<a class="code" href="../../da/d5c/structfileinfo.html#aa230fad5128bb37a7fe1c694e6930edb">name</a>= <a class="code" href="../../db/da9/my__sys_8h.html#af9a1809cc617261f4e10df31ad4039b9">strdup_root</a>(names_storage, dp-&gt;<a class="code" href="../../d5/de2/structdirent.html#a1450b4488b7067c7dc9d627b61fd4aa1">d_name</a>)))</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">if</span> (MyFlags &amp; <a class="code" href="../../d3/d09/my__dir_8h.html#a5d2ac885bb53133c7c4cabf8922611a9">MY_WANT_STAT</a>)</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      <span class="keywordflow">if</span> (!(finfo.<a class="code" href="../../da/d5c/structfileinfo.html#abc2bf38fbd48d15d6ad487cb3b0327ba">mystat</a>= (<a class="code" href="../../d3/d09/my__dir_8h.html#a6d2aab4ad7e553890a4b6ab590a553cc">MY_STAT</a>*)<a class="code" href="../../db/da9/my__sys_8h.html#a75d0b6953e2f61c24be6f71e1c324fb9">alloc_root</a>(names_storage, </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                                               <span class="keyword">sizeof</span>(<a class="code" href="../../d3/d09/my__dir_8h.html#a6d2aab4ad7e553890a4b6ab590a553cc">MY_STAT</a>))))</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      <a class="code" href="../../d6/dda/m__string_8h.html#ab3be5dcbbf1244672c14662b20f88b61">bzero</a>(finfo.<a class="code" href="../../da/d5c/structfileinfo.html#abc2bf38fbd48d15d6ad487cb3b0327ba">mystat</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d3/d09/my__dir_8h.html#a6d2aab4ad7e553890a4b6ab590a553cc">MY_STAT</a>));</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      (void) <a class="code" href="../../d6/dda/m__string_8h.html#a9dbe4cdad9c2c12aaa30e04b073884e6">strmov</a>(tmp_file,dp-&gt;<a class="code" href="../../d5/de2/structdirent.html#a1450b4488b7067c7dc9d627b61fd4aa1">d_name</a>);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      (void) <a class="code" href="../../dc/d45/my__lib_8c.html#a757c40edb189a2396fb461e64a886a50">my_stat</a>(tmp_path, finfo.<a class="code" href="../../da/d5c/structfileinfo.html#abc2bf38fbd48d15d6ad487cb3b0327ba">mystat</a>, MyFlags);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      <span class="keywordflow">if</span> (!(finfo.<a class="code" href="../../da/d5c/structfileinfo.html#abc2bf38fbd48d15d6ad487cb3b0327ba">mystat</a>-&gt;st_mode &amp; <a class="code" href="../../d3/d09/my__dir_8h.html#a52389bb6b88694c216c53e0a4362b82d">MY_S_IREAD</a>))</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    }</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      finfo.<a class="code" href="../../da/d5c/structfileinfo.html#abc2bf38fbd48d15d6ad487cb3b0327ba">mystat</a>= <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/da9/my__sys_8h.html#a374ce2d66eed86271af6cb37afc733e3">push_dynamic</a>(dir_entries_storage, (<a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>*)&amp;finfo))</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  }</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  (void) <a class="code" href="../../d7/da9/dirent_8h.html#a748b9bd26c040c2ad9107c9d8c1aab42">closedir</a>(dirp);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="preprocessor">#if !defined(HAVE_READDIR_R)</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <a class="code" href="../../de/d55/group___thread__instrumentation.html#ga5c748d3c7862702885acb90576754a2c">mysql_mutex_unlock</a>(&amp;<a class="code" href="../../d5/d9f/my__thr__init_8c.html#ac25df9f7f1d1b8ea29cbdea593a86d92">THR_LOCK_open</a>);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;dir_entry= (<a class="code" href="../../da/d5c/structfileinfo.html">FILEINFO</a> *)dir_entries_storage-&gt;<a class="code" href="../../da/dfc/structst__dynamic__array.html#a46407a62e2fec7f400787f482caab0b1">buffer</a>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;number_off_files= dir_entries_storage-&gt;<a class="code" href="../../da/dfc/structst__dynamic__array.html#afc73a9c6a7fa8222ef8f65a795c97db7">elements</a>;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <a class="code" href="../../dd/d68/_c_make_lists_8txt.html#a0b5da418382bdd0db6dff439e2863979">if</a> (!(MyFlags &amp; <a class="code" href="../../d3/d09/my__dir_8h.html#a7f799912b3210bba8a79337830b2c944">MY_DONT_SORT</a>))</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#a5bd7d62eddacdc1536566cf3f210ab42">my_qsort</a>((<span class="keywordtype">void</span> *) <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;dir_entry, <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;number_off_files,</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;          <span class="keyword">sizeof</span>(<a class="code" href="../../d3/d09/my__dir_8h.html#aacf1c9ecdb2cd8a07dae3e19eea5d861">FILEINFO</a>), (<a class="code" href="../../d9/df6/my__global_8h.html#a789723eaf2299d841eb477a8f1d6b1b1">qsort_cmp</a>) <a class="code" href="../../dc/d45/my__lib_8c.html#a4f562999e83c0dcb13921f1d5e74bbc1">comp_names</a>);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>:</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="preprocessor">#if !defined(HAVE_READDIR_R)</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <a class="code" href="../../de/d55/group___thread__instrumentation.html#ga5c748d3c7862702885acb90576754a2c">mysql_mutex_unlock</a>(&amp;<a class="code" href="../../d5/d9f/my__thr__init_8c.html#ac25df9f7f1d1b8ea29cbdea593a86d92">THR_LOCK_open</a>);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <a class="code" href="../../da/da8/my__pthread_8h.html#ab607b8ccc65b942b3d56aa2aa2e507eb">my_errno</a>=<a class="code" href="../../db/da9/my__sys_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="keywordflow">if</span> (dirp)</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    (void) <a class="code" href="../../d7/da9/dirent_8h.html#a748b9bd26c040c2ad9107c9d8c1aab42">closedir</a>(dirp);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <a class="code" href="../../dc/d45/my__lib_8c.html#a7e3f2267e82906c8c974956e682836d6">my_dirend</a>(<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="keywordflow">if</span> (MyFlags &amp; (<a class="code" href="../../db/da9/my__sys_8h.html#a3f77f6ad19d5d56fcc872df4d0d4ad2f">MY_FAE</a> | <a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a>))</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#a19ebf963aef6b242322e15e01811972e">my_error</a>(<a class="code" href="../../d3/dcf/mysys__err_8h.html#a9f569f84f1daf2b08f7d604b9500253c">EE_DIR</a>,<a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a15ff2b0559af90ad9f938089730228a3">ME_BELL</a>+<a class="code" href="../../db/da9/my__sys_8h.html#a3a3bd2c80dce30d40b48dfcba1e7fc46">ME_WAITTANG</a>),path,<a class="code" href="../../da/da8/my__pthread_8h.html#ab607b8ccc65b942b3d56aa2aa2e507eb">my_errno</a>);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>((<a class="code" href="../../d7/d62/structst__my__dir.html">MY_DIR</a> *) <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;} <span class="comment">/* my_dir */</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment"> * Convert from directory name to filename.</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment"> * On UNIX, it&#39;s simple: just make sure there is a terminating /</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment"> * Returns pointer to dst;</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="../../db/da9/my__sys_8h.html#a2cc3903be50a200f2c14695f9085a31e">  196</a></span>&#160;<span class="keywordtype">char</span> * <a class="code" href="../../dc/d45/my__lib_8c.html#a2cc3903be50a200f2c14695f9085a31e">directory_file_name</a> (<span class="keywordtype">char</span> * dst, <span class="keyword">const</span> <span class="keywordtype">char</span> *src)</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;{</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="comment">/* Process as Unix format: just remove test the final slash. */</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="keywordtype">char</span> *end;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keywordflow">if</span> (src[0] == 0)</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    src= (<span class="keywordtype">char</span>*) <span class="stringliteral">&quot;.&quot;</span>;               <span class="comment">/* Use empty as current */</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  end=<a class="code" href="../../d6/dda/m__string_8h.html#a9dbe4cdad9c2c12aaa30e04b073884e6">strmov</a>(dst, src);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="keywordflow">if</span> (end[-1] != <a class="code" href="../../d9/df6/my__global_8h.html#ad5268cd425fecb6def22548f930eeb98">FN_LIBCHAR</a>)</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    end[0]=<a class="code" href="../../d9/df6/my__global_8h.html#ad5268cd425fecb6def22548f930eeb98">FN_LIBCHAR</a>;              <span class="comment">/* Add last &#39;/&#39; */</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    end[1]=<span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="keywordflow">return</span> dst;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;}</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">*****************************************************************************</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">** Read long filename using windows rutines</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">*****************************************************************************</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<a class="code" href="../../d7/d62/structst__my__dir.html">MY_DIR</a>  *<a class="code" href="../../dc/d45/my__lib_8c.html#afce4d1f709d4e06af8cfd1dc012ad106">my_dir</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path, <a class="code" href="../../d9/df6/my__global_8h.html#a0db1f888c3bc329e7b0b340dbd41eb2b">myf</a> MyFlags)</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;{</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="keywordtype">char</span>          *<a class="code" href="../../da/dab/crypt__buf__gen_8c.html#a74644aa51cc16278dbd041542e13afd0">buffer</a>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <a class="code" href="../../d7/d62/structst__my__dir.html">MY_DIR</a>        *<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>= 0;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <a class="code" href="../../da/d5c/structfileinfo.html">FILEINFO</a>      finfo;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <a class="code" href="../../da/dfc/structst__dynamic__array.html">DYNAMIC_ARRAY</a> *dir_entries_storage;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <a class="code" href="../../d8/df1/structst__mem__root.html">MEM_ROOT</a>      *names_storage;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="preprocessor">#ifdef __BORLANDC__</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="keyword">struct </span>ffblk       <a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a02307ec0131a3aa9df2db7c2f10b69f2">find</a>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keyword">struct </span>_finddata_t <a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a02307ec0131a3aa9df2db7c2f10b69f2">find</a>;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a>    mode;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="keywordtype">char</span>      tmp_path[<a class="code" href="../../d9/df6/my__global_8h.html#a0fd6678904889e4aeff1402c35e890da">FN_REFLEN</a>],*tmp_file,attrib;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="preprocessor">#ifdef _WIN64</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  __int64       handle;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordtype">long</span>      handle;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;my_dir&quot;</span>);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;my&quot;</span>,(<span class="stringliteral">&quot;path: &#39;%s&#39; stat: %d  MyFlags: %d&quot;</span>,path,MyFlags));</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="comment">/* Put LIB-CHAR as last path-character if not there */</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  tmp_file=tmp_path;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keywordflow">if</span> (!*path)</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    *tmp_file++ =<span class="charliteral">&#39;.&#39;</span>;               <span class="comment">/* From current dir */</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  tmp_file= <a class="code" href="../../d6/dda/m__string_8h.html#ab402df249dccc63ad8f4ebebf5f3eb6c">strnmov</a>(tmp_file, path, <a class="code" href="../../d9/df6/my__global_8h.html#a0fd6678904889e4aeff1402c35e890da">FN_REFLEN</a>-5);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="keywordflow">if</span> (tmp_file[-1] == <a class="code" href="../../d8/daf/mf__dirname_8c.html#addc78464a6195a1763147981f20f200a">FN_DEVCHAR</a>)</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    *tmp_file++= <span class="charliteral">&#39;.&#39;</span>;               <span class="comment">/* From current dev-dir */</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="keywordflow">if</span> (tmp_file[-1] != <a class="code" href="../../d9/df6/my__global_8h.html#ad5268cd425fecb6def22548f930eeb98">FN_LIBCHAR</a>)</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    *tmp_file++ =<a class="code" href="../../d9/df6/my__global_8h.html#ad5268cd425fecb6def22548f930eeb98">FN_LIBCHAR</a>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  tmp_file[0]=<span class="charliteral">&#39;*&#39;</span>;              <span class="comment">/* Windows needs this !??? */</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  tmp_file[1]=<span class="charliteral">&#39;.&#39;</span>;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  tmp_file[2]=<span class="charliteral">&#39;*&#39;</span>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  tmp_file[3]=<span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="keywordflow">if</span> (!(<a class="code" href="../../da/d40/classbuffer.html">buffer</a>= <a class="code" href="../../db/da9/my__sys_8h.html#a8f7b30ff5d0e10610637aa30c3e0048b">my_malloc</a>(<a class="code" href="../../d9/df6/my__global_8h.html#a4765fea979c5ff199c51806810fe18a4">ALIGN_SIZE</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../d7/d62/structst__my__dir.html">MY_DIR</a>)) + </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                          <a class="code" href="../../d9/df6/my__global_8h.html#a4765fea979c5ff199c51806810fe18a4">ALIGN_SIZE</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../da/dfc/structst__dynamic__array.html">DYNAMIC_ARRAY</a>)) +</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                          <span class="keyword">sizeof</span>(<a class="code" href="../../d8/df1/structst__mem__root.html">MEM_ROOT</a>), MyFlags)))</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  dir_entries_storage= (<a class="code" href="../../da/dfc/structst__dynamic__array.html">DYNAMIC_ARRAY</a>*)(<a class="code" href="../../da/d40/classbuffer.html">buffer</a> + <a class="code" href="../../d9/df6/my__global_8h.html#a4765fea979c5ff199c51806810fe18a4">ALIGN_SIZE</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../d7/d62/structst__my__dir.html">MY_DIR</a>))); </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  names_storage= (<a class="code" href="../../d8/df1/structst__mem__root.html">MEM_ROOT</a>*)(<a class="code" href="../../da/d40/classbuffer.html">buffer</a> + <a class="code" href="../../d9/df6/my__global_8h.html#a4765fea979c5ff199c51806810fe18a4">ALIGN_SIZE</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../d7/d62/structst__my__dir.html">MY_DIR</a>)) +</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                             <a class="code" href="../../d9/df6/my__global_8h.html#a4765fea979c5ff199c51806810fe18a4">ALIGN_SIZE</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../da/dfc/structst__dynamic__array.html">DYNAMIC_ARRAY</a>)));</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../db/da9/my__sys_8h.html#a5297b747dbfe40e71744c35c86cfa387">my_init_dynamic_array</a>(dir_entries_storage, <span class="keyword">sizeof</span>(<a class="code" href="../../da/d5c/structfileinfo.html">FILEINFO</a>),</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                            <a class="code" href="../../dc/d45/my__lib_8c.html#a3e8d1310a7f8c227d741862b751904f0">ENTRIES_START_SIZE</a>, <a class="code" href="../../dc/d45/my__lib_8c.html#abba56ceee117e58d18503acdefb1c84d">ENTRIES_INCREMENT</a>))</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(<a class="code" href="../../da/d40/classbuffer.html">buffer</a>);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  }</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a33a73f0921a74091ef65cecb3c383d9d">init_alloc_root</a>(names_storage, <a class="code" href="../../dc/d45/my__lib_8c.html#ab3ef712fe6d8485ea304ba7d347774ed">NAMES_START_SIZE</a>, <a class="code" href="../../dc/d45/my__lib_8c.html#ab3ef712fe6d8485ea304ba7d347774ed">NAMES_START_SIZE</a>);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <span class="comment">/* MY_DIR structure is allocated and completly initialized at this point */</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>= (<a class="code" href="../../d7/d62/structst__my__dir.html">MY_DIR</a>*)<a class="code" href="../../da/d40/classbuffer.html">buffer</a>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="preprocessor">#ifdef __BORLANDC__</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="keywordflow">if</span> ((handle= findfirst(tmp_path,&amp;<a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a02307ec0131a3aa9df2db7c2f10b69f2">find</a>,0)) == -1L)</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;#<span class="keywordflow">else</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="keywordflow">if</span> ((handle=_findfirst(tmp_path,&amp;<a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a02307ec0131a3aa9df2db7c2f10b69f2">find</a>)) == -1L)</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;#<a class="code" href="../../dd/d68/_c_make_lists_8txt.html#a45b4709966c6b05cc494277eff7e60bb">endif</a></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;findfirst returned error, errno: %d&quot;</span>, <a class="code" href="../../db/da9/my__sys_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">if</span>  (<a class="code" href="../../db/da9/my__sys_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> != EINVAL)</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">      Could not read the directory, no read access.</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">      Probably because by &quot;chmod -r&quot;.</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">      continue and return zero files in dir</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  {</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">do</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="preprocessor">#ifdef __BORLANDC__</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      attrib= <a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a02307ec0131a3aa9df2db7c2f10b69f2">find</a>.ff_attrib;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      attrib= <a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a02307ec0131a3aa9df2db7c2f10b69f2">find</a>.attrib;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <span class="comment">/*</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">        Do not show hidden and system files which Windows sometimes create.</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">        Note. Because Borland&#39;s findfirst() is called with the third</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">        argument = 0 hidden/system files are excluded from the search.</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">      */</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <span class="keywordflow">if</span> (attrib &amp; (_A_HIDDEN | _A_SYSTEM))</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="preprocessor">#ifdef __BORLANDC__</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      <span class="keywordflow">if</span> (!(finfo.<a class="code" href="../../da/d5c/structfileinfo.html#aa230fad5128bb37a7fe1c694e6930edb">name</a>= <a class="code" href="../../db/da9/my__sys_8h.html#af9a1809cc617261f4e10df31ad4039b9">strdup_root</a>(names_storage, <a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a02307ec0131a3aa9df2db7c2f10b69f2">find</a>.ff_name)))</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <span class="keywordflow">if</span> (!(finfo.<a class="code" href="../../da/d5c/structfileinfo.html#aa230fad5128bb37a7fe1c694e6930edb">name</a>= <a class="code" href="../../db/da9/my__sys_8h.html#af9a1809cc617261f4e10df31ad4039b9">strdup_root</a>(names_storage, <a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a02307ec0131a3aa9df2db7c2f10b69f2">find</a>.name)))</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      <span class="keywordflow">if</span> (MyFlags &amp; <a class="code" href="../../d3/d09/my__dir_8h.html#a5d2ac885bb53133c7c4cabf8922611a9">MY_WANT_STAT</a>)</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="keywordflow">if</span> (!(finfo.<a class="code" href="../../da/d5c/structfileinfo.html#abc2bf38fbd48d15d6ad487cb3b0327ba">mystat</a>= (<a class="code" href="../../d3/d09/my__dir_8h.html#a6d2aab4ad7e553890a4b6ab590a553cc">MY_STAT</a>*)<a class="code" href="../../db/da9/my__sys_8h.html#a75d0b6953e2f61c24be6f71e1c324fb9">alloc_root</a>(names_storage,</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                                                 <span class="keyword">sizeof</span>(<a class="code" href="../../d3/d09/my__dir_8h.html#a6d2aab4ad7e553890a4b6ab590a553cc">MY_STAT</a>))))</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;          <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <a class="code" href="../../d6/dda/m__string_8h.html#ab3be5dcbbf1244672c14662b20f88b61">bzero</a>(finfo.<a class="code" href="../../da/d5c/structfileinfo.html#abc2bf38fbd48d15d6ad487cb3b0327ba">mystat</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d3/d09/my__dir_8h.html#a6d2aab4ad7e553890a4b6ab590a553cc">MY_STAT</a>));</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="preprocessor">#ifdef __BORLANDC__</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        finfo.<a class="code" href="../../da/d5c/structfileinfo.html#abc2bf38fbd48d15d6ad487cb3b0327ba">mystat</a>-&gt;st_size=<a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a02307ec0131a3aa9df2db7c2f10b69f2">find</a>.ff_fsize;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        finfo.<a class="code" href="../../da/d5c/structfileinfo.html#abc2bf38fbd48d15d6ad487cb3b0327ba">mystat</a>-&gt;st_size=<a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a02307ec0131a3aa9df2db7c2f10b69f2">find</a>.size;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        mode= <a class="code" href="../../d3/d09/my__dir_8h.html#a52389bb6b88694c216c53e0a4362b82d">MY_S_IREAD</a>;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="keywordflow">if</span> (!(attrib &amp; _A_RDONLY))</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;          mode|= <a class="code" href="../../d3/d09/my__dir_8h.html#a2bc4fdfdd0cd79d16c85ed3a19b13f0d">MY_S_IWRITE</a>;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="keywordflow">if</span> (attrib &amp; _A_SUBDIR)</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;          mode|= <a class="code" href="../../d3/d09/my__dir_8h.html#a12f5cb1704ba2922a5529e25d85a5e41">MY_S_IFDIR</a>;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        finfo.<a class="code" href="../../da/d5c/structfileinfo.html#abc2bf38fbd48d15d6ad487cb3b0327ba">mystat</a>-&gt;st_mode= mode;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="preprocessor">#ifdef __BORLANDC__</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        finfo.<a class="code" href="../../da/d5c/structfileinfo.html#abc2bf38fbd48d15d6ad487cb3b0327ba">mystat</a>-&gt;st_mtime= ((<a class="code" href="../../df/de2/namespace_g3_d.html#ae911b90657d7162d47997c702af655a8">uint32</a>) <a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a02307ec0131a3aa9df2db7c2f10b69f2">find</a>.ff_ftime);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        finfo.<a class="code" href="../../da/d5c/structfileinfo.html#abc2bf38fbd48d15d6ad487cb3b0327ba">mystat</a>-&gt;st_mtime= ((<a class="code" href="../../df/de2/namespace_g3_d.html#ae911b90657d7162d47997c702af655a8">uint32</a>) <a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a02307ec0131a3aa9df2db7c2f10b69f2">find</a>.time_write);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        finfo.<a class="code" href="../../da/d5c/structfileinfo.html#abc2bf38fbd48d15d6ad487cb3b0327ba">mystat</a>= <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/da9/my__sys_8h.html#a374ce2d66eed86271af6cb37afc733e3">push_dynamic</a>(dir_entries_storage, (<a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>*)&amp;finfo))</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="preprocessor">#ifdef __BORLANDC__</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">while</span> (findnext(&amp;<a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a02307ec0131a3aa9df2db7c2f10b69f2">find</a>) == 0);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">while</span> (_findnext(handle,&amp;<a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a02307ec0131a3aa9df2db7c2f10b69f2">find</a>) == 0);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    _findclose(handle);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  }</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160; </div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;dir_entry= (<a class="code" href="../../da/d5c/structfileinfo.html">FILEINFO</a> *)dir_entries_storage-&gt;<a class="code" href="../../da/dfc/structst__dynamic__array.html#a46407a62e2fec7f400787f482caab0b1">buffer</a>;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;number_off_files= dir_entries_storage-&gt;<a class="code" href="../../da/dfc/structst__dynamic__array.html#afc73a9c6a7fa8222ef8f65a795c97db7">elements</a>;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <a class="code" href="../../dd/d68/_c_make_lists_8txt.html#a0b5da418382bdd0db6dff439e2863979">if</a> (!(MyFlags &amp; <a class="code" href="../../d3/d09/my__dir_8h.html#a7f799912b3210bba8a79337830b2c944">MY_DONT_SORT</a>))</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#a5bd7d62eddacdc1536566cf3f210ab42">my_qsort</a>((<span class="keywordtype">void</span> *) <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;dir_entry, <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;number_off_files,</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;          <span class="keyword">sizeof</span>(<a class="code" href="../../d3/d09/my__dir_8h.html#aacf1c9ecdb2cd8a07dae3e19eea5d861">FILEINFO</a>), (<a class="code" href="../../d9/df6/my__global_8h.html#a789723eaf2299d841eb477a8f1d6b1b1">qsort_cmp</a>) <a class="code" href="../../dc/d45/my__lib_8c.html#a4f562999e83c0dcb13921f1d5e74bbc1">comp_names</a>);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;exit&quot;</span>, (<span class="stringliteral">&quot;found %d files&quot;</span>, <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;number_off_files));</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>:</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <a class="code" href="../../da/da8/my__pthread_8h.html#ab607b8ccc65b942b3d56aa2aa2e507eb">my_errno</a>=<a class="code" href="../../db/da9/my__sys_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="preprocessor">#ifndef __BORLANDC__</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="keywordflow">if</span> (handle != -1)</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      _findclose(handle);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <a class="code" href="../../dc/d45/my__lib_8c.html#a7e3f2267e82906c8c974956e682836d6">my_dirend</a>(<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="keywordflow">if</span> (MyFlags &amp; <a class="code" href="../../db/da9/my__sys_8h.html#a3f77f6ad19d5d56fcc872df4d0d4ad2f">MY_FAE</a>+<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a>)</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#a19ebf963aef6b242322e15e01811972e">my_error</a>(<a class="code" href="../../d3/dcf/mysys__err_8h.html#a9f569f84f1daf2b08f7d604b9500253c">EE_DIR</a>,<a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a15ff2b0559af90ad9f938089730228a3">ME_BELL</a>+<a class="code" href="../../db/da9/my__sys_8h.html#a3a3bd2c80dce30d40b48dfcba1e7fc46">ME_WAITTANG</a>),path,<a class="code" href="../../db/da9/my__sys_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>((<a class="code" href="../../d7/d62/structst__my__dir.html">MY_DIR</a> *) <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;} <span class="comment">/* my_dir */</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* _WIN32 */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">/****************************************************************************</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">** File status</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">** Note that MY_STAT is assumed to be same as struct stat</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">****************************************************************************/</span> </div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160; </div>
<div class="line"><a name="l00382"></a><span class="lineno"><a class="line" href="../../dc/d45/my__lib_8c.html#acbc27800c39a210ea114be33aa0b6a29">  382</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../dc/d45/my__lib_8c.html#acbc27800c39a210ea114be33aa0b6a29">my_fstat</a>(<a class="code" href="../../d9/df6/my__global_8h.html#ad34d82818831a94a892fcc41a95aa286">File</a> Filedes, <a class="code" href="../../d3/d09/my__dir_8h.html#a6d2aab4ad7e553890a4b6ab590a553cc">MY_STAT</a> *stat_area,</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;             <a class="code" href="../../d9/df6/my__global_8h.html#a0db1f888c3bc329e7b0b340dbd41eb2b">myf</a> MyFlags <a class="code" href="../../d4/d72/my__attribute_8h.html#a4fb2431b46656ad0908c4e0195540182">__attribute__</a>((unused)))</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;{</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;my_fstat&quot;</span>);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;my&quot;</span>,(<span class="stringliteral">&quot;fd: %d  MyFlags: %d&quot;</span>, Filedes, MyFlags));</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(my_win_fstat(Filedes, stat_area));</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(fstat(Filedes, (<span class="keyword">struct</span> stat *) stat_area));</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;}</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160; </div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno"><a class="line" href="../../d3/d09/my__dir_8h.html#a757c40edb189a2396fb461e64a886a50">  395</a></span>&#160;<a class="code" href="../../d3/d09/my__dir_8h.html#a6d2aab4ad7e553890a4b6ab590a553cc">MY_STAT</a> *<a class="code" href="../../dc/d45/my__lib_8c.html#a757c40edb189a2396fb461e64a886a50">my_stat</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path, <a class="code" href="../../d3/d09/my__dir_8h.html#a6d2aab4ad7e553890a4b6ab590a553cc">MY_STAT</a> *stat_area, <a class="code" href="../../d9/df6/my__global_8h.html#a0db1f888c3bc329e7b0b340dbd41eb2b">myf</a> my_flags)</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;{</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="keywordtype">int</span> m_used;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;my_stat&quot;</span>);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;my&quot;</span>, (<span class="stringliteral">&quot;path: &#39;%s&#39;  stat_area: 0x%lx  MyFlags: %d&quot;</span>, path,</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                    (<span class="keywordtype">long</span>) stat_area, my_flags));</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160; </div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="keywordflow">if</span> ((m_used= (stat_area == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>)))</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="keywordflow">if</span> (!(stat_area= (<a class="code" href="../../d3/d09/my__dir_8h.html#a6d2aab4ad7e553890a4b6ab590a553cc">MY_STAT</a> *) <a class="code" href="../../db/da9/my__sys_8h.html#a8f7b30ff5d0e10610637aa30c3e0048b">my_malloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../d3/d09/my__dir_8h.html#a6d2aab4ad7e553890a4b6ab590a553cc">MY_STAT</a>), my_flags)))</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="preprocessor">#ifndef _WIN32</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">if</span> (! stat((<span class="keywordtype">char</span> *) path, (<span class="keyword">struct</span> stat *) stat_area) )</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(stat_area);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordflow">if</span> (! my_win_stat(path, stat_area) )</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(stat_area);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;error&quot;</span>,(<span class="stringliteral">&quot;Got errno: %d from stat&quot;</span>, <a class="code" href="../../db/da9/my__sys_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <a class="code" href="../../da/da8/my__pthread_8h.html#ab607b8ccc65b942b3d56aa2aa2e507eb">my_errno</a>= <a class="code" href="../../db/da9/my__sys_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <span class="keywordflow">if</span> (m_used)                   <span class="comment">/* Free if new area */</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(stat_area);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160; </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>:</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="keywordflow">if</span> (my_flags &amp; (<a class="code" href="../../db/da9/my__sys_8h.html#a3f77f6ad19d5d56fcc872df4d0d4ad2f">MY_FAE</a>+<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a>))</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  {</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#a19ebf963aef6b242322e15e01811972e">my_error</a>(<a class="code" href="../../d3/dcf/mysys__err_8h.html#a3c6f888d31d96c16ba4d2231be8f9e64">EE_STAT</a>, <a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a15ff2b0559af90ad9f938089730228a3">ME_BELL</a>+<a class="code" href="../../db/da9/my__sys_8h.html#a3a3bd2c80dce30d40b48dfcba1e7fc46">ME_WAITTANG</a>),path,<a class="code" href="../../da/da8/my__pthread_8h.html#ab607b8ccc65b942b3d56aa2aa2e507eb">my_errno</a>);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>((<a class="code" href="../../d3/d09/my__dir_8h.html#a6d2aab4ad7e553890a4b6ab590a553cc">MY_STAT</a> *) <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  }</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>((<a class="code" href="../../d3/d09/my__dir_8h.html#a6d2aab4ad7e553890a4b6ab590a553cc">MY_STAT</a> *) <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;} <span class="comment">/* my_stat */</span></div>
<div class="ttc" id="a_c_make_lists_8txt_html_a0b5da418382bdd0db6dff439e2863979"><div class="ttname"><a href="../../dd/d68/_c_make_lists_8txt.html#a0b5da418382bdd0db6dff439e2863979">if</a></div><div class="ttdeci">NAME if(&quot;;${DISABLED_AC_MODULES};&quot; MATCHES &quot;;${MODULENAME};&quot;) continue() endif() if(EXISTS &quot;$</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d68/_c_make_lists_8txt_source.html#l00068">CMakeLists.txt:68</a></div></div>
<div class="ttc" id="a_c_make_lists_8txt_html_a45b4709966c6b05cc494277eff7e60bb"><div class="ttname"><a href="../../dd/d68/_c_make_lists_8txt.html#a45b4709966c6b05cc494277eff7e60bb">endif</a></div><div class="ttdeci">fno inline small functions fno default inline endif() message(&quot;Unit tests code coverage</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d68/_c_make_lists_8txt_source.html#l00151">CMakeLists.txt:151</a></div></div>
<div class="ttc" id="aclassbuffer_html"><div class="ttname"><a href="../../da/d40/classbuffer.html">buffer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d71/fmt_2include_2fmt_2core_8h_source.html#l00749">core.h:749</a></div></div>
<div class="ttc" id="acrypt__buf__gen_8c_html_a74644aa51cc16278dbd041542e13afd0"><div class="ttname"><a href="../../da/dab/crypt__buf__gen_8c.html#a74644aa51cc16278dbd041542e13afd0">buffer</a></div><div class="ttdeci">static uint32_t * buffer</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dab/crypt__buf__gen_8c_source.html#l00031">crypt_buf_gen.c:31</a></div></div>
<div class="ttc" id="adbug__long_8h_html_a2d990f1c0bd095fcbac9c6596274be55"><div class="ttname"><a href="../../d1/d35/dbug__long_8h.html#a2d990f1c0bd095fcbac9c6596274be55">DBUG_VOID_RETURN</a></div><div class="ttdeci">#define DBUG_VOID_RETURN</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d35/dbug__long_8h_source.html#l00140">dbug_long.h:140</a></div></div>
<div class="ttc" id="adbug__long_8h_html_a3770d2ff545ed3e4b714d20014e663df"><div class="ttname"><a href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a></div><div class="ttdeci">#define DBUG_PRINT(keyword, arglist)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d35/dbug__long_8h_source.html#l00143">dbug_long.h:143</a></div></div>
<div class="ttc" id="adbug__long_8h_html_a56a51e0edb39d13c83021fd4e7bdc9e9"><div class="ttname"><a href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a></div><div class="ttdeci">#define DBUG_ENTER(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d35/dbug__long_8h_source.html#l00131">dbug_long.h:131</a></div></div>
<div class="ttc" id="adbug__long_8h_html_af63d1bddf8957387d14fe70b8db22b96"><div class="ttname"><a href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a></div><div class="ttdeci">#define DBUG_RETURN(a1)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d35/dbug__long_8h_source.html#l00138">dbug_long.h:138</a></div></div>
<div class="ttc" id="adirent_8h_html"><div class="ttname"><a href="../../d7/da9/dirent_8h.html">dirent.h</a></div></div>
<div class="ttc" id="adirent_8h_html_a56af8d3cfb4a2b2f44e20b276db71f2a"><div class="ttname"><a href="../../d7/da9/dirent_8h.html#a56af8d3cfb4a2b2f44e20b276db71f2a">opendir</a></div><div class="ttdeci">static DIR * opendir(const char *dirname)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da9/dirent_8h_source.html#l00102">dirent.h:102</a></div></div>
<div class="ttc" id="adirent_8h_html_a748b9bd26c040c2ad9107c9d8c1aab42"><div class="ttname"><a href="../../d7/da9/dirent_8h.html#a748b9bd26c040c2ad9107c9d8c1aab42">closedir</a></div><div class="ttdeci">static int closedir(DIR *dirp)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da9/dirent_8h_source.html#l00186">dirent.h:186</a></div></div>
<div class="ttc" id="afmt_2include_2fmt_2core_8h_html_a02307ec0131a3aa9df2db7c2f10b69f2"><div class="ttname"><a href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a02307ec0131a3aa9df2db7c2f10b69f2">find</a></div><div class="ttdeci">FMT_CONSTEXPR auto find(Ptr first, Ptr last, T value, Ptr &amp;out) -&gt; bool</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d71/fmt_2include_2fmt_2core_8h_source.html#l02078">core.h:2078</a></div></div>
<div class="ttc" id="agroup___thread__instrumentation_html_ga340bf8f49d0cbaa994eaf5fb1fc7a22f"><div class="ttname"><a href="../../de/d55/group___thread__instrumentation.html#ga340bf8f49d0cbaa994eaf5fb1fc7a22f">mysql_mutex_lock</a></div><div class="ttdeci">#define mysql_mutex_lock(M)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/da5/mysql__thread_8h_source.html#l00276">mysql_thread.h:276</a></div></div>
<div class="ttc" id="agroup___thread__instrumentation_html_ga5c748d3c7862702885acb90576754a2c"><div class="ttname"><a href="../../de/d55/group___thread__instrumentation.html#ga5c748d3c7862702885acb90576754a2c">mysql_mutex_unlock</a></div><div class="ttdeci">#define mysql_mutex_unlock(M)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/da5/mysql__thread_8h_source.html#l00304">mysql_thread.h:304</a></div></div>
<div class="ttc" id="ajemalloc__internal_8h_html_ae89ee89f41328ac0ade1e3e26c103570"><div class="ttname"><a href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a></div><div class="ttdeci">arena_t NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">jemalloc_internal.h:624</a></div></div>
<div class="ttc" id="am__string_8h_html"><div class="ttname"><a href="../../d6/dda/m__string_8h.html">m_string.h</a></div></div>
<div class="ttc" id="am__string_8h_html_a9dbe4cdad9c2c12aaa30e04b073884e6"><div class="ttname"><a href="../../d6/dda/m__string_8h.html#a9dbe4cdad9c2c12aaa30e04b073884e6">strmov</a></div><div class="ttdeci">char * strmov(char *dst, const char *src)</div></div>
<div class="ttc" id="am__string_8h_html_ab21c8a48b0271e2ea1f8d4616dccbf98"><div class="ttname"><a href="../../d6/dda/m__string_8h.html#ab21c8a48b0271e2ea1f8d4616dccbf98">strend</a></div><div class="ttdeci">char * strend(const char *s)</div></div>
<div class="ttc" id="am__string_8h_html_ab3be5dcbbf1244672c14662b20f88b61"><div class="ttname"><a href="../../d6/dda/m__string_8h.html#ab3be5dcbbf1244672c14662b20f88b61">bzero</a></div><div class="ttdeci">#define bzero(A, B)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dda/m__string_8h_source.html#l00063">m_string.h:63</a></div></div>
<div class="ttc" id="am__string_8h_html_ab402df249dccc63ad8f4ebebf5f3eb6c"><div class="ttname"><a href="../../d6/dda/m__string_8h.html#ab402df249dccc63ad8f4ebebf5f3eb6c">strnmov</a></div><div class="ttdeci">char * strnmov(char *dst, const char *src, size_t n)</div></div>
<div class="ttc" id="amf__dirname_8c_html_addc78464a6195a1763147981f20f200a"><div class="ttname"><a href="../../d8/daf/mf__dirname_8c.html#addc78464a6195a1763147981f20f200a">FN_DEVCHAR</a></div><div class="ttdeci">#define FN_DEVCHAR</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/daf/mf__dirname_8c_source.html#l00101">mf_dirname.c:101</a></div></div>
<div class="ttc" id="aminigzip_8c_html_aee763da2c1c9da197307bad1d009513d"><div class="ttname"><a href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a></div><div class="ttdeci">void error(char *msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc6/minigzip_8c_source.html#l00156">minigzip.c:156</a></div></div>
<div class="ttc" id="amy__attribute_8h_html_a4fb2431b46656ad0908c4e0195540182"><div class="ttname"><a href="../../d4/d72/my__attribute_8h.html#a4fb2431b46656ad0908c4e0195540182">__attribute__</a></div><div class="ttdeci">#define __attribute__(A)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d72/my__attribute_8h_source.html#l00038">my_attribute.h:38</a></div></div>
<div class="ttc" id="amy__dir_8h_html"><div class="ttname"><a href="../../d3/d09/my__dir_8h.html">my_dir.h</a></div></div>
<div class="ttc" id="amy__dir_8h_html_a12f5cb1704ba2922a5529e25d85a5e41"><div class="ttname"><a href="../../d3/d09/my__dir_8h.html#a12f5cb1704ba2922a5529e25d85a5e41">MY_S_IFDIR</a></div><div class="ttdeci">#define MY_S_IFDIR</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d09/my__dir_8h_source.html#l00030">my_dir.h:30</a></div></div>
<div class="ttc" id="amy__dir_8h_html_a2bc4fdfdd0cd79d16c85ed3a19b13f0d"><div class="ttname"><a href="../../d3/d09/my__dir_8h.html#a2bc4fdfdd0cd79d16c85ed3a19b13f0d">MY_S_IWRITE</a></div><div class="ttdeci">#define MY_S_IWRITE</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d09/my__dir_8h_source.html#l00039">my_dir.h:39</a></div></div>
<div class="ttc" id="amy__dir_8h_html_a52389bb6b88694c216c53e0a4362b82d"><div class="ttname"><a href="../../d3/d09/my__dir_8h.html#a52389bb6b88694c216c53e0a4362b82d">MY_S_IREAD</a></div><div class="ttdeci">#define MY_S_IREAD</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d09/my__dir_8h_source.html#l00038">my_dir.h:38</a></div></div>
<div class="ttc" id="amy__dir_8h_html_a5d2ac885bb53133c7c4cabf8922611a9"><div class="ttname"><a href="../../d3/d09/my__dir_8h.html#a5d2ac885bb53133c7c4cabf8922611a9">MY_WANT_STAT</a></div><div class="ttdeci">#define MY_WANT_STAT</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d09/my__dir_8h_source.html#l00049">my_dir.h:49</a></div></div>
<div class="ttc" id="amy__dir_8h_html_a6d2aab4ad7e553890a4b6ab590a553cc"><div class="ttname"><a href="../../d3/d09/my__dir_8h.html#a6d2aab4ad7e553890a4b6ab590a553cc">MY_STAT</a></div><div class="ttdeci">#define MY_STAT</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d09/my__dir_8h_source.html#l00075">my_dir.h:75</a></div></div>
<div class="ttc" id="amy__dir_8h_html_a7f799912b3210bba8a79337830b2c944"><div class="ttname"><a href="../../d3/d09/my__dir_8h.html#a7f799912b3210bba8a79337830b2c944">MY_DONT_SORT</a></div><div class="ttdeci">#define MY_DONT_SORT</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d09/my__dir_8h_source.html#l00048">my_dir.h:48</a></div></div>
<div class="ttc" id="amy__dir_8h_html_aacf1c9ecdb2cd8a07dae3e19eea5d861"><div class="ttname"><a href="../../d3/d09/my__dir_8h.html#aacf1c9ecdb2cd8a07dae3e19eea5d861">FILEINFO</a></div><div class="ttdeci">struct fileinfo FILEINFO</div></div>
<div class="ttc" id="amy__global_8h_html_a0db1f888c3bc329e7b0b340dbd41eb2b"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#a0db1f888c3bc329e7b0b340dbd41eb2b">myf</a></div><div class="ttdeci">int myf</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00991">my_global.h:991</a></div></div>
<div class="ttc" id="amy__global_8h_html_a0fd6678904889e4aeff1402c35e890da"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#a0fd6678904889e4aeff1402c35e890da">FN_REFLEN</a></div><div class="ttdeci">#define FN_REFLEN</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00598">my_global.h:598</a></div></div>
<div class="ttc" id="amy__global_8h_html_a4765fea979c5ff199c51806810fe18a4"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#a4765fea979c5ff199c51806810fe18a4">ALIGN_SIZE</a></div><div class="ttdeci">#define ALIGN_SIZE(A)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00839">my_global.h:839</a></div></div>
<div class="ttc" id="amy__global_8h_html_a65f85814a8290f9797005d3b28e7e5fc"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a></div><div class="ttdeci">unsigned char uchar</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00874">my_global.h:874</a></div></div>
<div class="ttc" id="amy__global_8h_html_a789723eaf2299d841eb477a8f1d6b1b1"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#a789723eaf2299d841eb477a8f1d6b1b1">qsort_cmp</a></div><div class="ttdeci">C_MODE_START typedef int(* qsort_cmp)(const void *, const void *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00546">my_global.h:546</a></div></div>
<div class="ttc" id="amy__global_8h_html_ab3b3804e3bf2734c0f4f1c72f30df1bd"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a></div><div class="ttdeci">#define MYF(v)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00995">my_global.h:995</a></div></div>
<div class="ttc" id="amy__global_8h_html_ab95f123a6c9bcfee6a343170ef8c5f69"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a></div><div class="ttdeci">unsigned short ushort</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00476">my_global.h:476</a></div></div>
<div class="ttc" id="amy__global_8h_html_ad34d82818831a94a892fcc41a95aa286"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#ad34d82818831a94a892fcc41a95aa286">File</a></div><div class="ttdeci">int File</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00520">my_global.h:520</a></div></div>
<div class="ttc" id="amy__global_8h_html_ad5268cd425fecb6def22548f930eeb98"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#ad5268cd425fecb6def22548f930eeb98">FN_LIBCHAR</a></div><div class="ttdeci">#define FN_LIBCHAR</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00613">my_global.h:613</a></div></div>
<div class="ttc" id="amy__lib_8c_html_a2cc3903be50a200f2c14695f9085a31e"><div class="ttname"><a href="../../dc/d45/my__lib_8c.html#a2cc3903be50a200f2c14695f9085a31e">directory_file_name</a></div><div class="ttdeci">char * directory_file_name(char *dst, const char *src)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d45/my__lib_8c_source.html#l00196">my_lib.c:196</a></div></div>
<div class="ttc" id="amy__lib_8c_html_a3e8d1310a7f8c227d741862b751904f0"><div class="ttname"><a href="../../dc/d45/my__lib_8c.html#a3e8d1310a7f8c227d741862b751904f0">ENTRIES_START_SIZE</a></div><div class="ttdeci">#define ENTRIES_START_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d45/my__lib_8c_source.html#l00055">my_lib.c:55</a></div></div>
<div class="ttc" id="amy__lib_8c_html_a4f562999e83c0dcb13921f1d5e74bbc1"><div class="ttname"><a href="../../dc/d45/my__lib_8c.html#a4f562999e83c0dcb13921f1d5e74bbc1">comp_names</a></div><div class="ttdeci">static int comp_names(struct fileinfo *a, struct fileinfo *b)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d45/my__lib_8c_source.html#l00082">my_lib.c:82</a></div></div>
<div class="ttc" id="amy__lib_8c_html_a757c40edb189a2396fb461e64a886a50"><div class="ttname"><a href="../../dc/d45/my__lib_8c.html#a757c40edb189a2396fb461e64a886a50">my_stat</a></div><div class="ttdeci">MY_STAT * my_stat(const char *path, MY_STAT *stat_area, myf my_flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d45/my__lib_8c_source.html#l00395">my_lib.c:395</a></div></div>
<div class="ttc" id="amy__lib_8c_html_a7e3f2267e82906c8c974956e682836d6"><div class="ttname"><a href="../../dc/d45/my__lib_8c.html#a7e3f2267e82906c8c974956e682836d6">my_dirend</a></div><div class="ttdeci">void my_dirend(MY_DIR *buffer)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d45/my__lib_8c_source.html#l00065">my_lib.c:65</a></div></div>
<div class="ttc" id="amy__lib_8c_html_aabf554f36be112aa3f639af0b39649fa"><div class="ttname"><a href="../../dc/d45/my__lib_8c.html#aabf554f36be112aa3f639af0b39649fa">READDIR</a></div><div class="ttdeci">#define READDIR(A, B, C)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d45/my__lib_8c_source.html#l00047">my_lib.c:47</a></div></div>
<div class="ttc" id="amy__lib_8c_html_ab3ef712fe6d8485ea304ba7d347774ed"><div class="ttname"><a href="../../dc/d45/my__lib_8c.html#ab3ef712fe6d8485ea304ba7d347774ed">NAMES_START_SIZE</a></div><div class="ttdeci">#define NAMES_START_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d45/my__lib_8c_source.html#l00057">my_lib.c:57</a></div></div>
<div class="ttc" id="amy__lib_8c_html_abba56ceee117e58d18503acdefb1c84d"><div class="ttname"><a href="../../dc/d45/my__lib_8c.html#abba56ceee117e58d18503acdefb1c84d">ENTRIES_INCREMENT</a></div><div class="ttdeci">#define ENTRIES_INCREMENT</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d45/my__lib_8c_source.html#l00056">my_lib.c:56</a></div></div>
<div class="ttc" id="amy__lib_8c_html_acbc27800c39a210ea114be33aa0b6a29"><div class="ttname"><a href="../../dc/d45/my__lib_8c.html#acbc27800c39a210ea114be33aa0b6a29">my_fstat</a></div><div class="ttdeci">int my_fstat(File Filedes, MY_STAT *stat_area, myf MyFlags __attribute__((unused)))</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d45/my__lib_8c_source.html#l00382">my_lib.c:382</a></div></div>
<div class="ttc" id="amy__lib_8c_html_afce4d1f709d4e06af8cfd1dc012ad106"><div class="ttname"><a href="../../dc/d45/my__lib_8c.html#afce4d1f709d4e06af8cfd1dc012ad106">my_dir</a></div><div class="ttdeci">MY_DIR * my_dir(const char *path, myf MyFlags)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d45/my__lib_8c_source.html#l00090">my_lib.c:90</a></div></div>
<div class="ttc" id="amy__pthread_8h_html_ab607b8ccc65b942b3d56aa2aa2e507eb"><div class="ttname"><a href="../../da/da8/my__pthread_8h.html#ab607b8ccc65b942b3d56aa2aa2e507eb">my_errno</a></div><div class="ttdeci">#define my_errno</div><div class="ttdef"><b>Definition:</b> <a href="../../da/da8/my__pthread_8h_source.html#l00862">my_pthread.h:862</a></div></div>
<div class="ttc" id="amy__sys_8h_html_a0f42799530c5143f1b79f352f2ebef27"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#a0f42799530c5143f1b79f352f2ebef27">free_root</a></div><div class="ttdeci">void free_root(MEM_ROOT *root, myf MyFLAGS)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/db7/my__alloc_8c_source.html#l00347">my_alloc.c:347</a></div></div>
<div class="ttc" id="amy__sys_8h_html_a15ff2b0559af90ad9f938089730228a3"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#a15ff2b0559af90ad9f938089730228a3">ME_BELL</a></div><div class="ttdeci">#define ME_BELL</div><div class="ttdef"><b>Definition:</b> <a href="../../db/da9/my__sys_8h_source.html#l00103">my_sys.h:103</a></div></div>
<div class="ttc" id="amy__sys_8h_html_a19ebf963aef6b242322e15e01811972e"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#a19ebf963aef6b242322e15e01811972e">my_error</a></div><div class="ttdeci">void my_error(int nr, myf MyFlags,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc6/my__error_8c_source.html#l00071">my_error.c:71</a></div></div>
<div class="ttc" id="amy__sys_8h_html_a33a73f0921a74091ef65cecb3c383d9d"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#a33a73f0921a74091ef65cecb3c383d9d">init_alloc_root</a></div><div class="ttdeci">void init_alloc_root(MEM_ROOT *mem_root, size_t block_size, size_t pre_alloc_size)</div></div>
<div class="ttc" id="amy__sys_8h_html_a374ce2d66eed86271af6cb37afc733e3"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#a374ce2d66eed86271af6cb37afc733e3">push_dynamic</a></div><div class="ttdeci">#define push_dynamic(A, B)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/da9/my__sys_8h_source.html#l00777">my_sys.h:777</a></div></div>
<div class="ttc" id="amy__sys_8h_html_a3a3bd2c80dce30d40b48dfcba1e7fc46"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#a3a3bd2c80dce30d40b48dfcba1e7fc46">ME_WAITTANG</a></div><div class="ttdeci">#define ME_WAITTANG</div><div class="ttdef"><b>Definition:</b> <a href="../../db/da9/my__sys_8h_source.html#l00106">my_sys.h:106</a></div></div>
<div class="ttc" id="amy__sys_8h_html_a3a3ddffcaadb60b7715c9889f8c56afb"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a></div><div class="ttdeci">void my_free(void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d7c/my__malloc_8c_source.html#l00124">my_malloc.c:124</a></div></div>
<div class="ttc" id="amy__sys_8h_html_a3f77f6ad19d5d56fcc872df4d0d4ad2f"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#a3f77f6ad19d5d56fcc872df4d0d4ad2f">MY_FAE</a></div><div class="ttdeci">#define MY_FAE</div><div class="ttdef"><b>Definition:</b> <a href="../../db/da9/my__sys_8h_source.html#l00072">my_sys.h:72</a></div></div>
<div class="ttc" id="amy__sys_8h_html_a5297b747dbfe40e71744c35c86cfa387"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#a5297b747dbfe40e71744c35c86cfa387">my_init_dynamic_array</a></div><div class="ttdeci">#define my_init_dynamic_array(A, B, C, D)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/da9/my__sys_8h_source.html#l00755">my_sys.h:755</a></div></div>
<div class="ttc" id="amy__sys_8h_html_a5bd7d62eddacdc1536566cf3f210ab42"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#a5bd7d62eddacdc1536566cf3f210ab42">my_qsort</a></div><div class="ttdeci">qsort_t my_qsort(void *base_ptr, size_t total_elems, size_t size, qsort_cmp cmp)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d89/mf__qsort_8c_source.html#l00097">mf_qsort.c:97</a></div></div>
<div class="ttc" id="amy__sys_8h_html_a75d0b6953e2f61c24be6f71e1c324fb9"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#a75d0b6953e2f61c24be6f71e1c324fb9">alloc_root</a></div><div class="ttdeci">void * alloc_root(MEM_ROOT *mem_root, size_t Size)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/db7/my__alloc_8c_source.html#l00148">my_alloc.c:148</a></div></div>
<div class="ttc" id="amy__sys_8h_html_a8f7b30ff5d0e10610637aa30c3e0048b"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#a8f7b30ff5d0e10610637aa30c3e0048b">my_malloc</a></div><div class="ttdeci">void * my_malloc(size_t Size, myf MyFlags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d7c/my__malloc_8c_source.html#l00028">my_malloc.c:28</a></div></div>
<div class="ttc" id="amy__sys_8h_html_a95e2a52417433d23f6b8825c52ee9197"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a></div><div class="ttdeci">#define MY_WME</div><div class="ttdef"><b>Definition:</b> <a href="../../db/da9/my__sys_8h_source.html#l00073">my_sys.h:73</a></div></div>
<div class="ttc" id="amy__sys_8h_html_abd87232eee6027cb155f2dc978769bcc"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#abd87232eee6027cb155f2dc978769bcc">delete_dynamic</a></div><div class="ttdeci">void delete_dynamic(DYNAMIC_ARRAY *array)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dcc/array_8c_source.html#l00298">array.c:298</a></div></div>
<div class="ttc" id="amy__sys_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="amy__sys_8h_html_af9a1809cc617261f4e10df31ad4039b9"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#af9a1809cc617261f4e10df31ad4039b9">strdup_root</a></div><div class="ttdeci">char * strdup_root(MEM_ROOT *root, const char *str)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/db7/my__alloc_8c_source.html#l00412">my_alloc.c:412</a></div></div>
<div class="ttc" id="amy__thr__init_8c_html_ac25df9f7f1d1b8ea29cbdea593a86d92"><div class="ttname"><a href="../../d5/d9f/my__thr__init_8c.html#ac25df9f7f1d1b8ea29cbdea593a86d92">THR_LOCK_open</a></div><div class="ttdeci">mysql_mutex_t THR_LOCK_open</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d9f/my__thr__init_8c_source.html#l00026">my_thr_init.c:26</a></div></div>
<div class="ttc" id="amysys__err_8h_html"><div class="ttname"><a href="../../d3/dcf/mysys__err_8h.html">mysys_err.h</a></div></div>
<div class="ttc" id="amysys__err_8h_html_a3c6f888d31d96c16ba4d2231be8f9e64"><div class="ttname"><a href="../../d3/dcf/mysys__err_8h.html#a3c6f888d31d96c16ba4d2231be8f9e64">EE_STAT</a></div><div class="ttdeci">#define EE_STAT</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcf/mysys__err_8h_source.html#l00048">mysys_err.h:48</a></div></div>
<div class="ttc" id="amysys__err_8h_html_a9f569f84f1daf2b08f7d604b9500253c"><div class="ttname"><a href="../../d3/dcf/mysys__err_8h.html#a9f569f84f1daf2b08f7d604b9500253c">EE_DIR</a></div><div class="ttdeci">#define EE_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dcf/mysys__err_8h_source.html#l00047">mysys_err.h:47</a></div></div>
<div class="ttc" id="amysys__priv_8h_html"><div class="ttname"><a href="../../d2/d34/mysys__priv_8h.html">mysys_priv.h</a></div></div>
<div class="ttc" id="anamespace_g3_d_html_ae911b90657d7162d47997c702af655a8"><div class="ttname"><a href="../../df/de2/namespace_g3_d.html#ae911b90657d7162d47997c702af655a8">G3D::uint32</a></div><div class="ttdeci">uint32_t uint32</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfa/g3dmath_8h_source.html#l00168">g3dmath.h:168</a></div></div>
<div class="ttc" id="anamespacedetail_1_1digits_html_aad69d2373aa047bdd9e81494bf3da5ae"><div class="ttname"><a href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">detail::digits::result</a></div><div class="ttdeci">result</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d50/format-inl_8h_source.html#l00622">format-inl.h:622</a></div></div>
<div class="ttc" id="anamespacempq_html_ae78cc6206276c5d8a54a7b181bcd4f8d"><div class="ttname"><a href="../../d4/d71/namespacempq.html#ae78cc6206276c5d8a54a7b181bcd4f8d">mpq.a</a></div><div class="ttdeci">a</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3e/mpq_8py_source.html#l00290">mpq.py:290</a></div></div>
<div class="ttc" id="aprof_8c_html_a3fca4d23183335e3d46f507d28e94e8b"><div class="ttname"><a href="../../df/d31/prof_8c.html#a3fca4d23183335e3d46f507d28e94e8b">b</a></div><div class="ttdeci">const prof_gctx_t * b</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d31/prof_8c_source.html#l00277">prof.c:277</a></div></div>
<div class="ttc" id="astruct_d_i_r_html"><div class="ttname"><a href="../../d9/d31/struct_d_i_r.html">DIR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da9/dirent_8h_source.html#l00073">dirent.h:74</a></div></div>
<div class="ttc" id="astructdirent_html"><div class="ttname"><a href="../../d5/de2/structdirent.html">dirent</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da9/dirent_8h_source.html#l00066">dirent.h:67</a></div></div>
<div class="ttc" id="astructdirent_html_a1450b4488b7067c7dc9d627b61fd4aa1"><div class="ttname"><a href="../../d5/de2/structdirent.html#a1450b4488b7067c7dc9d627b61fd4aa1">dirent::d_name</a></div><div class="ttdeci">char d_name[MAX_PATH+1]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da9/dirent_8h_source.html#l00068">dirent.h:68</a></div></div>
<div class="ttc" id="astructfileinfo_html"><div class="ttname"><a href="../../da/d5c/structfileinfo.html">fileinfo</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d09/my__dir_8h_source.html#l00081">my_dir.h:82</a></div></div>
<div class="ttc" id="astructfileinfo_html_aa230fad5128bb37a7fe1c694e6930edb"><div class="ttname"><a href="../../da/d5c/structfileinfo.html#aa230fad5128bb37a7fe1c694e6930edb">fileinfo::name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d09/my__dir_8h_source.html#l00083">my_dir.h:83</a></div></div>
<div class="ttc" id="astructfileinfo_html_abc2bf38fbd48d15d6ad487cb3b0327ba"><div class="ttname"><a href="../../da/d5c/structfileinfo.html#abc2bf38fbd48d15d6ad487cb3b0327ba">fileinfo::mystat</a></div><div class="ttdeci">MY_STAT * mystat</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d09/my__dir_8h_source.html#l00084">my_dir.h:84</a></div></div>
<div class="ttc" id="astructst__dynamic__array_html"><div class="ttname"><a href="../../da/dfc/structst__dynamic__array.html">st_dynamic_array</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/da9/my__sys_8h_source.html#l00320">my_sys.h:321</a></div></div>
<div class="ttc" id="astructst__dynamic__array_html_a46407a62e2fec7f400787f482caab0b1"><div class="ttname"><a href="../../da/dfc/structst__dynamic__array.html#a46407a62e2fec7f400787f482caab0b1">st_dynamic_array::buffer</a></div><div class="ttdeci">uchar * buffer</div><div class="ttdef"><b>Definition:</b> <a href="../../db/da9/my__sys_8h_source.html#l00322">my_sys.h:322</a></div></div>
<div class="ttc" id="astructst__dynamic__array_html_afc73a9c6a7fa8222ef8f65a795c97db7"><div class="ttname"><a href="../../da/dfc/structst__dynamic__array.html#afc73a9c6a7fa8222ef8f65a795c97db7">st_dynamic_array::elements</a></div><div class="ttdeci">uint elements</div><div class="ttdef"><b>Definition:</b> <a href="../../db/da9/my__sys_8h_source.html#l00323">my_sys.h:323</a></div></div>
<div class="ttc" id="astructst__mem__root_html"><div class="ttname"><a href="../../d8/df1/structst__mem__root.html">st_mem_root</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d65/my__alloc_8h_source.html#l00038">my_alloc.h:39</a></div></div>
<div class="ttc" id="astructst__my__dir_html"><div class="ttname"><a href="../../d7/d62/structst__my__dir.html">st_my_dir</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d09/my__dir_8h_source.html#l00087">my_dir.h:88</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
