<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Azerotcore-wotlk: DatabaseWorkerPool&lt; T &gt; Class Template Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Azerotcore-wotlk
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d4/d9e/class_database_worker_pool-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">DatabaseWorkerPool&lt; T &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html">DatabaseWorkerPool.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a974881f497c973f6de63a13fe11bde69"><td class="memItemLeft" align="right" valign="top">typedef T::Statements&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#a974881f497c973f6de63a13fe11bde69">PreparedStatementIndex</a></td></tr>
<tr class="separator:a974881f497c973f6de63a13fe11bde69"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1d1b237be489501d3e48814c5cdb99f8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#a1d1b237be489501d3e48814c5cdb99f8">DatabaseWorkerPool</a> ()</td></tr>
<tr class="separator:a1d1b237be489501d3e48814c5cdb99f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac55c306dff67fad0674806500b20be2e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#ac55c306dff67fad0674806500b20be2e">~DatabaseWorkerPool</a> ()</td></tr>
<tr class="separator:ac55c306dff67fad0674806500b20be2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b3f82bd4481727242f31e44761a5632"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#a6b3f82bd4481727242f31e44761a5632">SetConnectionInfo</a> (std::string <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> &amp;infoString, <a class="el" href="../../d9/df6/my__global_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> asyncThreads, <a class="el" href="../../d9/df6/my__global_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> synchThreads)</td></tr>
<tr class="separator:a6b3f82bd4481727242f31e44761a5632"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b14aba401eab1f610bacff590ce403e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#a3b14aba401eab1f610bacff590ce403e">Open</a> ()</td></tr>
<tr class="separator:a3b14aba401eab1f610bacff590ce403e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5b0984b23e9ea23d93deaaea85e17df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#af5b0984b23e9ea23d93deaaea85e17df">Close</a> ()</td></tr>
<tr class="separator:af5b0984b23e9ea23d93deaaea85e17df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35d89f51675306362c9dcb7332b148d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#a35d89f51675306362c9dcb7332b148d5">PrepareStatements</a> ()</td></tr>
<tr class="memdesc:a35d89f51675306362c9dcb7332b148d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares all prepared statements.  <a href="../../d7/d10/class_database_worker_pool.html#a35d89f51675306362c9dcb7332b148d5">More...</a><br /></td></tr>
<tr class="separator:a35d89f51675306362c9dcb7332b148d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09846614419c657156ad205f4c8c27b6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d41/struct_my_s_q_l_connection_info.html">MySQLConnectionInfo</a> <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a>  *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#a09846614419c657156ad205f4c8c27b6">GetConnectionInfo</a> () <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a09846614419c657156ad205f4c8c27b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada5bf614a40843eaf705d184d7022116"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#ada5bf614a40843eaf705d184d7022116">Execute</a> (char <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> *sql)</td></tr>
<tr class="separator:ada5bf614a40843eaf705d184d7022116"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2210ac7dd8068afaf19e7e3ff1a29ba0"><td class="memTemplParams" colspan="2">template&lt;typename Format , typename... Args&gt; </td></tr>
<tr class="memitem:a2210ac7dd8068afaf19e7e3ff1a29ba0"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#a2210ac7dd8068afaf19e7e3ff1a29ba0">PExecute</a> (Format &amp;&amp;sql, Args &amp;&amp;... args)</td></tr>
<tr class="separator:a2210ac7dd8068afaf19e7e3ff1a29ba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06540a1813cb10817d864e1288ad506f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#a06540a1813cb10817d864e1288ad506f">Execute</a> (<a class="el" href="../../da/d37/class_prepared_statement.html">PreparedStatement</a>&lt; T &gt; *stmt)</td></tr>
<tr class="separator:a06540a1813cb10817d864e1288ad506f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab52cd7987ab8144d09f5de25246b174e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#ab52cd7987ab8144d09f5de25246b174e">DirectExecute</a> (char <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> *sql)</td></tr>
<tr class="separator:ab52cd7987ab8144d09f5de25246b174e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c633cbf4a15790d5d6bd350fc370d1e"><td class="memTemplParams" colspan="2">template&lt;typename Format , typename... Args&gt; </td></tr>
<tr class="memitem:a3c633cbf4a15790d5d6bd350fc370d1e"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#a3c633cbf4a15790d5d6bd350fc370d1e">DirectPExecute</a> (Format &amp;&amp;sql, Args &amp;&amp;... args)</td></tr>
<tr class="separator:a3c633cbf4a15790d5d6bd350fc370d1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad79b4f532e563071b4571092409013f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#ad79b4f532e563071b4571092409013f5">DirectExecute</a> (<a class="el" href="../../da/d37/class_prepared_statement.html">PreparedStatement</a>&lt; T &gt; *stmt)</td></tr>
<tr class="separator:ad79b4f532e563071b4571092409013f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a324b275971f00c6e238343cd14618205"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d04/_database_env_fwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#a324b275971f00c6e238343cd14618205">Query</a> (char <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> *sql, T *connection=nullptr)</td></tr>
<tr class="separator:a324b275971f00c6e238343cd14618205"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a842dffc4b06613d854d3f9724f79c159"><td class="memTemplParams" colspan="2">template&lt;typename Format , typename... Args&gt; </td></tr>
<tr class="memitem:a842dffc4b06613d854d3f9724f79c159"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="../../db/d04/_database_env_fwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#a842dffc4b06613d854d3f9724f79c159">PQuery</a> (Format &amp;&amp;sql, T *conn, Args &amp;&amp;... args)</td></tr>
<tr class="separator:a842dffc4b06613d854d3f9724f79c159"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d317c46f2607a175599f4e06b72483a"><td class="memTemplParams" colspan="2">template&lt;typename Format , typename... Args&gt; </td></tr>
<tr class="memitem:a5d317c46f2607a175599f4e06b72483a"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="../../db/d04/_database_env_fwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#a5d317c46f2607a175599f4e06b72483a">PQuery</a> (Format &amp;&amp;sql, Args &amp;&amp;... args)</td></tr>
<tr class="separator:a5d317c46f2607a175599f4e06b72483a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5af178c6d30a31bb3f60328f03ecb743"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d04/_database_env_fwd_8h.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#a5af178c6d30a31bb3f60328f03ecb743">Query</a> (<a class="el" href="../../da/d37/class_prepared_statement.html">PreparedStatement</a>&lt; T &gt; *stmt)</td></tr>
<tr class="separator:a5af178c6d30a31bb3f60328f03ecb743"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedd71c3c21957a9183ffcbbb3a6fe3de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d8e/class_query_callback.html">QueryCallback</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#aedd71c3c21957a9183ffcbbb3a6fe3de">AsyncQuery</a> (char <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> *sql)</td></tr>
<tr class="separator:aedd71c3c21957a9183ffcbbb3a6fe3de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2123529e8bfebfd77e8c4832fe392127"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d8e/class_query_callback.html">QueryCallback</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#a2123529e8bfebfd77e8c4832fe392127">AsyncQuery</a> (<a class="el" href="../../da/d37/class_prepared_statement.html">PreparedStatement</a>&lt; T &gt; *stmt)</td></tr>
<tr class="separator:a2123529e8bfebfd77e8c4832fe392127"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7965bc52f229b662cf0b3f6e6d3e5eb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dd7/class_s_q_l_query_holder_callback.html">SQLQueryHolderCallback</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#ac7965bc52f229b662cf0b3f6e6d3e5eb">DelayQueryHolder</a> (std::shared_ptr&lt; <a class="el" href="../../da/d97/class_s_q_l_query_holder.html">SQLQueryHolder</a>&lt; T &gt;&gt; holder)</td></tr>
<tr class="separator:ac7965bc52f229b662cf0b3f6e6d3e5eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a54b40917a0642738d9628eb5b2a566"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d04/_database_env_fwd_8h.html#ab2badaea4b4827995daef3e2dec0f9cd">SQLTransaction</a>&lt; T &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#a8a54b40917a0642738d9628eb5b2a566">BeginTransaction</a> ()</td></tr>
<tr class="memdesc:a8a54b40917a0642738d9628eb5b2a566"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begins an automanaged transaction pointer that will automatically rollback if not commited. (Autocommit=0)  <a href="../../d7/d10/class_database_worker_pool.html#a8a54b40917a0642738d9628eb5b2a566">More...</a><br /></td></tr>
<tr class="separator:a8a54b40917a0642738d9628eb5b2a566"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22bf65eb64ee4ce5bda95a0233994542"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#a22bf65eb64ee4ce5bda95a0233994542">CommitTransaction</a> (<a class="el" href="../../db/d04/_database_env_fwd_8h.html#ab2badaea4b4827995daef3e2dec0f9cd">SQLTransaction</a>&lt; T &gt; transaction)</td></tr>
<tr class="separator:a22bf65eb64ee4ce5bda95a0233994542"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa22e97c66058702d52972a6e8e0020b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dad/class_transaction_callback.html">TransactionCallback</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#afa22e97c66058702d52972a6e8e0020b">AsyncCommitTransaction</a> (<a class="el" href="../../db/d04/_database_env_fwd_8h.html#ab2badaea4b4827995daef3e2dec0f9cd">SQLTransaction</a>&lt; T &gt; transaction)</td></tr>
<tr class="separator:afa22e97c66058702d52972a6e8e0020b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a5f26f02948171fb65212b852e0c790"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#a8a5f26f02948171fb65212b852e0c790">DirectCommitTransaction</a> (<a class="el" href="../../db/d04/_database_env_fwd_8h.html#ab2badaea4b4827995daef3e2dec0f9cd">SQLTransaction</a>&lt; T &gt; &amp;transaction)</td></tr>
<tr class="separator:a8a5f26f02948171fb65212b852e0c790"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d828587ab4f0460b716198a2ed6b69b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#a7d828587ab4f0460b716198a2ed6b69b">ExecuteOrAppend</a> (<a class="el" href="../../db/d04/_database_env_fwd_8h.html#ab2badaea4b4827995daef3e2dec0f9cd">SQLTransaction</a>&lt; T &gt; &amp;trans, char <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> *sql)</td></tr>
<tr class="separator:a7d828587ab4f0460b716198a2ed6b69b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7c9774a74e661a407009a63c85cfc39"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#ac7c9774a74e661a407009a63c85cfc39">ExecuteOrAppend</a> (<a class="el" href="../../db/d04/_database_env_fwd_8h.html#ab2badaea4b4827995daef3e2dec0f9cd">SQLTransaction</a>&lt; T &gt; &amp;trans, <a class="el" href="../../da/d37/class_prepared_statement.html">PreparedStatement</a>&lt; T &gt; *stmt)</td></tr>
<tr class="separator:ac7c9774a74e661a407009a63c85cfc39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3903bd03f577eb0cd78a0daf1d6fc47"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d37/class_prepared_statement.html">PreparedStatement</a>&lt; T &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#aa3903bd03f577eb0cd78a0daf1d6fc47">GetPreparedStatement</a> (<a class="el" href="../../d7/d10/class_database_worker_pool.html#a974881f497c973f6de63a13fe11bde69">PreparedStatementIndex</a> <a class="el" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a7fc0249f0f8ba720115d2430f5b86cbaa6a992d5529f459a44fee58c733255e86">index</a>)</td></tr>
<tr class="separator:aa3903bd03f577eb0cd78a0daf1d6fc47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac95606d8360ce139ec39a763e08cf929"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#ac95606d8360ce139ec39a763e08cf929">EscapeString</a> (std::string &amp;str)</td></tr>
<tr class="memdesc:ac95606d8360ce139ec39a763e08cf929"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply escape string'ing for current collation. (<a class="el" href="../../dd/de8/namespaceutf8.html">utf8</a>)  <a href="../../d7/d10/class_database_worker_pool.html#ac95606d8360ce139ec39a763e08cf929">More...</a><br /></td></tr>
<tr class="separator:ac95606d8360ce139ec39a763e08cf929"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c179a173e69967afbd8242c2a4a0297"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#a8c179a173e69967afbd8242c2a4a0297">KeepAlive</a> ()</td></tr>
<tr class="memdesc:a8c179a173e69967afbd8242c2a4a0297"><td class="mdescLeft">&#160;</td><td class="mdescRight">Keeps all our <a class="el" href="../../d7/d02/namespace_my_s_q_l.html">MySQL</a> connections alive, prevent the server from disconnecting us.  <a href="../../d7/d10/class_database_worker_pool.html#a8c179a173e69967afbd8242c2a4a0297">More...</a><br /></td></tr>
<tr class="separator:a8c179a173e69967afbd8242c2a4a0297"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0758a82c0a5c89be9d593db741821b8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#af0758a82c0a5c89be9d593db741821b8">WarnAboutSyncQueries</a> ([[maybe_unused]] <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> warn)</td></tr>
<tr class="separator:af0758a82c0a5c89be9d593db741821b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4411d9d2e525efc188a4e526de4c941c"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#a4411d9d2e525efc188a4e526de4c941c">QueueSize</a> () <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a4411d9d2e525efc188a4e526de4c941c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:ae15d4d3ffe735226b82d1dcc2cdc65e1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#ae15d4d3ffe735226b82d1dcc2cdc65e1">InternalIndex</a> { <a class="el" href="../../d7/d10/class_database_worker_pool.html#ae15d4d3ffe735226b82d1dcc2cdc65e1a3bbbe5224571567b87ac2ece1236915e">IDX_ASYNC</a>
, <a class="el" href="../../d7/d10/class_database_worker_pool.html#ae15d4d3ffe735226b82d1dcc2cdc65e1af778551f7401384e492004fa74ec5b51">IDX_SYNCH</a>
, <a class="el" href="../../d7/d10/class_database_worker_pool.html#ae15d4d3ffe735226b82d1dcc2cdc65e1a7a372e1b449f5a3ecaf299ee52da074a">IDX_SIZE</a>
 }</td></tr>
<tr class="separator:ae15d4d3ffe735226b82d1dcc2cdc65e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a0afa2a6d6159289aedf75b23bef19561"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#a0afa2a6d6159289aedf75b23bef19561">OpenConnections</a> (<a class="el" href="../../d7/d10/class_database_worker_pool.html#ae15d4d3ffe735226b82d1dcc2cdc65e1">InternalIndex</a> <a class="el" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a>, <a class="el" href="../../d9/df6/my__global_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> numConnections)</td></tr>
<tr class="separator:a0afa2a6d6159289aedf75b23bef19561"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab30047af2d612bf4032778cc82f4932d"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#ab30047af2d612bf4032778cc82f4932d">EscapeString</a> (char *to, char <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> *from, unsigned long length)</td></tr>
<tr class="separator:ab30047af2d612bf4032778cc82f4932d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2abae7a058f85531e85c2c6bf54d3012"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#a2abae7a058f85531e85c2c6bf54d3012">Enqueue</a> (<a class="el" href="../../df/dc3/class_s_q_l_operation.html">SQLOperation</a> *op)</td></tr>
<tr class="separator:a2abae7a058f85531e85c2c6bf54d3012"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab52cd78dc0c7f757a0cf71156c9dabeb"><td class="memItemLeft" align="right" valign="top">T *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#ab52cd78dc0c7f757a0cf71156c9dabeb">GetFreeConnection</a> ()</td></tr>
<tr class="separator:ab52cd78dc0c7f757a0cf71156c9dabeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ddb7713357e00826df7d63d58224308"><td class="memItemLeft" align="right" valign="top">char <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a>  *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#a9ddb7713357e00826df7d63d58224308">GetDatabaseName</a> () <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a9ddb7713357e00826df7d63d58224308"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:af429357afc50f4bea5abfc1dd3f17c86"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="../../d3/d8a/class_producer_consumer_queue.html">ProducerConsumerQueue</a>&lt; <a class="el" href="../../df/dc3/class_s_q_l_operation.html">SQLOperation</a> * &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#af429357afc50f4bea5abfc1dd3f17c86">_queue</a></td></tr>
<tr class="memdesc:af429357afc50f4bea5abfc1dd3f17c86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue shared by async worker threads.  <a href="../../d7/d10/class_database_worker_pool.html#af429357afc50f4bea5abfc1dd3f17c86">More...</a><br /></td></tr>
<tr class="separator:af429357afc50f4bea5abfc1dd3f17c86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75dd7ab7e3bc90f00c3f93e92c5540c9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d17/lf_8h.html#ac47d04d1cac123a9779b8c943cc4d269">std::array</a>&lt; std::vector&lt; std::unique_ptr&lt; T &gt; &gt;, <a class="el" href="../../d7/d10/class_database_worker_pool.html#ae15d4d3ffe735226b82d1dcc2cdc65e1a7a372e1b449f5a3ecaf299ee52da074a">IDX_SIZE</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#a75dd7ab7e3bc90f00c3f93e92c5540c9">_connections</a></td></tr>
<tr class="separator:a75dd7ab7e3bc90f00c3f93e92c5540c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b545f574e6c28675137a4735ff9d070"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="../../d4/d41/struct_my_s_q_l_connection_info.html">MySQLConnectionInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#a4b545f574e6c28675137a4735ff9d070">_connectionInfo</a></td></tr>
<tr class="separator:a4b545f574e6c28675137a4735ff9d070"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cd5af2c32c18ad91be9325bbac71d23"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d9/df6/my__global_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#a2cd5af2c32c18ad91be9325bbac71d23">_preparedStatementSize</a></td></tr>
<tr class="separator:a2cd5af2c32c18ad91be9325bbac71d23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3dca707976ef4b8ed3c00d6b100ea88"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#af3dca707976ef4b8ed3c00d6b100ea88">_async_threads</a></td></tr>
<tr class="separator:af3dca707976ef4b8ed3c00d6b100ea88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46e089fb9340e81cb4566202c132fa76"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/class_database_worker_pool.html#a46e089fb9340e81cb4566202c132fa76">_synch_threads</a></td></tr>
<tr class="separator:a46e089fb9340e81cb4566202c132fa76"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class T&gt;<br />
class DatabaseWorkerPool&lt; T &gt;</h3>


<p class="definition">Definition at line <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html#l00035">35</a> of file <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html">DatabaseWorkerPool.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a974881f497c973f6de63a13fe11bde69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a974881f497c973f6de63a13fe11bde69">&#9670;&nbsp;</a></span>PreparedStatementIndex</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef T::Statements <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::<a class="el" href="../../d7/d10/class_database_worker_pool.html#a974881f497c973f6de63a13fe11bde69">PreparedStatementIndex</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Other </p>

<p class="definition">Definition at line <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html#l00196">196</a> of file <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html">DatabaseWorkerPool.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="ae15d4d3ffe735226b82d1dcc2cdc65e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae15d4d3ffe735226b82d1dcc2cdc65e1">&#9670;&nbsp;</a></span>InternalIndex</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d7/d10/class_database_worker_pool.html#ae15d4d3ffe735226b82d1dcc2cdc65e1">DatabaseWorkerPool::InternalIndex</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ae15d4d3ffe735226b82d1dcc2cdc65e1a3bbbe5224571567b87ac2ece1236915e"></a>IDX_ASYNC&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae15d4d3ffe735226b82d1dcc2cdc65e1af778551f7401384e492004fa74ec5b51"></a>IDX_SYNCH&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae15d4d3ffe735226b82d1dcc2cdc65e1a7a372e1b449f5a3ecaf299ee52da074a"></a>IDX_SIZE&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html#l00038">38</a> of file <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html">DatabaseWorkerPool.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <a class="code" href="../../d7/d10/class_database_worker_pool.html#ae15d4d3ffe735226b82d1dcc2cdc65e1a3bbbe5224571567b87ac2ece1236915e">IDX_ASYNC</a>,</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <a class="code" href="../../d7/d10/class_database_worker_pool.html#ae15d4d3ffe735226b82d1dcc2cdc65e1af778551f7401384e492004fa74ec5b51">IDX_SYNCH</a>,</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <a class="code" href="../../d7/d10/class_database_worker_pool.html#ae15d4d3ffe735226b82d1dcc2cdc65e1a7a372e1b449f5a3ecaf299ee52da074a">IDX_SIZE</a></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    };</div>
<div class="ttc" id="aclass_database_worker_pool_html_ae15d4d3ffe735226b82d1dcc2cdc65e1a3bbbe5224571567b87ac2ece1236915e"><div class="ttname"><a href="../../d7/d10/class_database_worker_pool.html#ae15d4d3ffe735226b82d1dcc2cdc65e1a3bbbe5224571567b87ac2ece1236915e">DatabaseWorkerPool::IDX_ASYNC</a></div><div class="ttdeci">@ IDX_ASYNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dcd/_database_worker_pool_8h_source.html#l00040">DatabaseWorkerPool.h:40</a></div></div>
<div class="ttc" id="aclass_database_worker_pool_html_ae15d4d3ffe735226b82d1dcc2cdc65e1a7a372e1b449f5a3ecaf299ee52da074a"><div class="ttname"><a href="../../d7/d10/class_database_worker_pool.html#ae15d4d3ffe735226b82d1dcc2cdc65e1a7a372e1b449f5a3ecaf299ee52da074a">DatabaseWorkerPool::IDX_SIZE</a></div><div class="ttdeci">@ IDX_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dcd/_database_worker_pool_8h_source.html#l00043">DatabaseWorkerPool.h:42</a></div></div>
<div class="ttc" id="aclass_database_worker_pool_html_ae15d4d3ffe735226b82d1dcc2cdc65e1af778551f7401384e492004fa74ec5b51"><div class="ttname"><a href="../../d7/d10/class_database_worker_pool.html#ae15d4d3ffe735226b82d1dcc2cdc65e1af778551f7401384e492004fa74ec5b51">DatabaseWorkerPool::IDX_SYNCH</a></div><div class="ttdeci">@ IDX_SYNCH</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dcd/_database_worker_pool_8h_source.html#l00041">DatabaseWorkerPool.h:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a1d1b237be489501d3e48814c5cdb99f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d1b237be489501d3e48814c5cdb99f8">&#9670;&nbsp;</a></span>DatabaseWorkerPool()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::<a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00061">61</a> of file <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html">DatabaseWorkerPool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    : <a class="code" href="../../d7/d10/class_database_worker_pool.html#af429357afc50f4bea5abfc1dd3f17c86">_queue</a>(<span class="keyword">new</span> <a class="code" href="../../d3/d8a/class_producer_consumer_queue.html">ProducerConsumerQueue&lt;SQLOperation*&gt;</a>()),</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      <a class="code" href="../../d7/d10/class_database_worker_pool.html#af3dca707976ef4b8ed3c00d6b100ea88">_async_threads</a>(0), <a class="code" href="../../d7/d10/class_database_worker_pool.html#a46e089fb9340e81cb4566202c132fa76">_synch_threads</a>(0)</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;{</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="../../db/d16/_errors_8h.html#a47d51826ca35c49a890b7bc2ad6818ea">WPFatal</a>(<a class="code" href="../../de/d53/mysql_8h.html#a0e00463b751369a0e4587c3ea3e0315a">mysql_thread_safe</a>(), <span class="stringliteral">&quot;Used MySQL library isn&#39;t thread-safe.&quot;</span>);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#if !defined(MARIADB_VERSION_ID) || MARIADB_VERSION_ID &lt; 100600</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordtype">bool</span> isSupportClientDB = <a class="code" href="../../de/d53/mysql_8h.html#ac4e40b0c2472ab94e74c1fad4dc4a9fd">mysql_get_client_version</a>() &gt;= <a class="code" href="../../db/df7/_database_worker_pool_8cpp.html#abfde8cf59610848eff4ea61d09bb8ca7">MIN_MYSQL_CLIENT_VERSION</a>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordtype">bool</span> isSameClientDB = <a class="code" href="../../de/d53/mysql_8h.html#ac4e40b0c2472ab94e74c1fad4dc4a9fd">mysql_get_client_version</a>() == MYSQL_VERSION_ID;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#else </span><span class="comment">// MariaDB 10.6+</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordtype">bool</span> isSupportClientDB = <a class="code" href="../../de/d53/mysql_8h.html#ac4e40b0c2472ab94e74c1fad4dc4a9fd">mysql_get_client_version</a>() &gt;= <a class="code" href="../../db/df7/_database_worker_pool_8cpp.html#abfde8cf59610848eff4ea61d09bb8ca7">MIN_MYSQL_CLIENT_VERSION</a>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordtype">bool</span> isSameClientDB    = <span class="keyword">true</span>; <span class="comment">// Client version 3.2.3?</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <a class="code" href="../../db/d16/_errors_8h.html#a47d51826ca35c49a890b7bc2ad6818ea">WPFatal</a>(isSupportClientDB, <span class="stringliteral">&quot;AzerothCore does not support MySQL versions below 5.7 and MariaDB 10.2\nSearch the wiki for ACE00043 in Common Errors (https://www.azerothcore.org/wiki/common-errors).&quot;</span>);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <a class="code" href="../../db/d16/_errors_8h.html#a47d51826ca35c49a890b7bc2ad6818ea">WPFatal</a>(isSameClientDB, <span class="stringliteral">&quot;Used MySQL library version (%s id %lu) does not match the version id used to compile AzerothCore (id %u).\nSearch the wiki for ACE00046 in Common Errors (https://www.azerothcore.org/wiki/common-errors).&quot;</span>,</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <a class="code" href="../../de/d53/mysql_8h.html#ab372dbc086fc98c0fa490011ac6939fe">mysql_get_client_info</a>(), <a class="code" href="../../de/d53/mysql_8h.html#ac4e40b0c2472ab94e74c1fad4dc4a9fd">mysql_get_client_version</a>(), MYSQL_VERSION_ID);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;}</div>
<div class="ttc" id="a_database_worker_pool_8cpp_html_abfde8cf59610848eff4ea61d09bb8ca7"><div class="ttname"><a href="../../db/df7/_database_worker_pool_8cpp.html#abfde8cf59610848eff4ea61d09bb8ca7">MIN_MYSQL_CLIENT_VERSION</a></div><div class="ttdeci">#define MIN_MYSQL_CLIENT_VERSION</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df7/_database_worker_pool_8cpp_source.html#l00047">DatabaseWorkerPool.cpp:47</a></div></div>
<div class="ttc" id="a_errors_8h_html_a47d51826ca35c49a890b7bc2ad6818ea"><div class="ttname"><a href="../../db/d16/_errors_8h.html#a47d51826ca35c49a890b7bc2ad6818ea">WPFatal</a></div><div class="ttdeci">#define WPFatal(cond,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/_errors_8h_source.html#l00048">Errors.h:48</a></div></div>
<div class="ttc" id="aclass_database_worker_pool_html_a46e089fb9340e81cb4566202c132fa76"><div class="ttname"><a href="../../d7/d10/class_database_worker_pool.html#a46e089fb9340e81cb4566202c132fa76">DatabaseWorkerPool::_synch_threads</a></div><div class="ttdeci">uint8 _synch_threads</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dcd/_database_worker_pool_8h_source.html#l00236">DatabaseWorkerPool.h:236</a></div></div>
<div class="ttc" id="aclass_database_worker_pool_html_af3dca707976ef4b8ed3c00d6b100ea88"><div class="ttname"><a href="../../d7/d10/class_database_worker_pool.html#af3dca707976ef4b8ed3c00d6b100ea88">DatabaseWorkerPool::_async_threads</a></div><div class="ttdeci">uint8 _async_threads</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dcd/_database_worker_pool_8h_source.html#l00236">DatabaseWorkerPool.h:236</a></div></div>
<div class="ttc" id="aclass_database_worker_pool_html_af429357afc50f4bea5abfc1dd3f17c86"><div class="ttname"><a href="../../d7/d10/class_database_worker_pool.html#af429357afc50f4bea5abfc1dd3f17c86">DatabaseWorkerPool::_queue</a></div><div class="ttdeci">std::unique_ptr&lt; ProducerConsumerQueue&lt; SQLOperation * &gt; &gt; _queue</div><div class="ttdoc">Queue shared by async worker threads.</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dcd/_database_worker_pool_8h_source.html#l00232">DatabaseWorkerPool.h:232</a></div></div>
<div class="ttc" id="aclass_producer_consumer_queue_html"><div class="ttname"><a href="../../d3/d8a/class_producer_consumer_queue.html">ProducerConsumerQueue&lt; SQLOperation * &gt;</a></div></div>
<div class="ttc" id="amysql_8h_html_a0e00463b751369a0e4587c3ea3e0315a"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a0e00463b751369a0e4587c3ea3e0315a">mysql_thread_safe</a></div><div class="ttdeci">unsigned int STDCALL mysql_thread_safe(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d0a/libmysql_8c_source.html#l01085">libmysql.c:1085</a></div></div>
<div class="ttc" id="amysql_8h_html_ab372dbc086fc98c0fa490011ac6939fe"><div class="ttname"><a href="../../de/d53/mysql_8h.html#ab372dbc086fc98c0fa490011ac6939fe">mysql_get_client_info</a></div><div class="ttdeci">const char *STDCALL mysql_get_client_info(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d0a/libmysql_8c_source.html#l00992">libmysql.c:992</a></div></div>
<div class="ttc" id="amysql_8h_html_ac4e40b0c2472ab94e74c1fad4dc4a9fd"><div class="ttname"><a href="../../de/d53/mysql_8h.html#ac4e40b0c2472ab94e74c1fad4dc4a9fd">mysql_get_client_version</a></div><div class="ttdeci">unsigned long STDCALL mysql_get_client_version(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d0a/libmysql_8c_source.html#l00997">libmysql.c:997</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00047">MIN_MYSQL_CLIENT_VERSION</a>, <a class="el" href="../../d5/d0a/libmysql_8c_source.html#l00992">mysql_get_client_info()</a>, <a class="el" href="../../d5/d0a/libmysql_8c_source.html#l00997">mysql_get_client_version()</a>, <a class="el" href="../../d5/d0a/libmysql_8c_source.html#l01085">mysql_thread_safe()</a>, and <a class="el" href="../../db/d16/_errors_8h_source.html#l00048">WPFatal</a>.</p>

</div>
</div>
<a id="ac55c306dff67fad0674806500b20be2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac55c306dff67fad0674806500b20be2e">&#9670;&nbsp;</a></span>~DatabaseWorkerPool()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::~<a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00081">81</a> of file <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html">DatabaseWorkerPool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;{</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="../../d7/d10/class_database_worker_pool.html#af429357afc50f4bea5abfc1dd3f17c86">_queue</a>-&gt;Cancel();</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="afa22e97c66058702d52972a6e8e0020b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa22e97c66058702d52972a6e8e0020b">&#9670;&nbsp;</a></span>AsyncCommitTransaction()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/dad/class_transaction_callback.html">TransactionCallback</a> <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::AsyncCommitTransaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d04/_database_env_fwd_8h.html#ab2badaea4b4827995daef3e2dec0f9cd">SQLTransaction</a>&lt; T &gt;&#160;</td>
          <td class="paramname"><em>transaction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enqueues a collection of one-way SQL operations (can be both adhoc and prepared). The order in which these operations were appended to the transaction will be respected during execution. </p>

<p class="definition">Definition at line <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00285">285</a> of file <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html">DatabaseWorkerPool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;{</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="preprocessor">#ifdef ACORE_DEBUG</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">switch</span> (transaction-&gt;GetSize())</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    {</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            <a class="code" href="../../d3/d07/src_2common_2_logging_2_log_8h.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;sql.driver&quot;</span>, <span class="stringliteral">&quot;Transaction contains 0 queries. Not executing.&quot;</span>);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            <a class="code" href="../../d3/d07/src_2common_2_logging_2_log_8h.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;sql.driver&quot;</span>, <span class="stringliteral">&quot;Warning: Transaction only holds 1 query, consider removing Transaction context in code.&quot;</span>);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="preprocessor">#endif </span><span class="comment">// ACORE_DEBUG</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <a class="code" href="../../d8/d08/class_transaction_with_result_task.html">TransactionWithResultTask</a>* task = <span class="keyword">new</span> <a class="code" href="../../d8/d08/class_transaction_with_result_task.html">TransactionWithResultTask</a>(transaction);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <a class="code" href="../../db/d04/_database_env_fwd_8h.html#ad8826e834522c9cacfd021d4529b4f87">TransactionFuture</a> <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = task-&gt;<a class="code" href="../../d8/d08/class_transaction_with_result_task.html#a5bc976207b1d695c8e8c052b0eacc7a6">GetFuture</a>();</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <a class="code" href="../../d7/d10/class_database_worker_pool.html#a2abae7a058f85531e85c2c6bf54d3012">Enqueue</a>(task);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dd/dad/class_transaction_callback.html">TransactionCallback</a>(std::move(<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>));</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;}</div>
<div class="ttc" id="a_database_env_fwd_8h_html_ad8826e834522c9cacfd021d4529b4f87"><div class="ttname"><a href="../../db/d04/_database_env_fwd_8h.html#ad8826e834522c9cacfd021d4529b4f87">TransactionFuture</a></div><div class="ttdeci">std::future&lt; bool &gt; TransactionFuture</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d04/_database_env_fwd_8h_source.html#l00059">DatabaseEnvFwd.h:59</a></div></div>
<div class="ttc" id="aclass_database_worker_pool_html_a2abae7a058f85531e85c2c6bf54d3012"><div class="ttname"><a href="../../d7/d10/class_database_worker_pool.html#a2abae7a058f85531e85c2c6bf54d3012">DatabaseWorkerPool::Enqueue</a></div><div class="ttdeci">void Enqueue(SQLOperation *op)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df7/_database_worker_pool_8cpp_source.html#l00428">DatabaseWorkerPool.cpp:428</a></div></div>
<div class="ttc" id="aclass_transaction_callback_html"><div class="ttname"><a href="../../dd/dad/class_transaction_callback.html">TransactionCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d99/_transaction_8h_source.html#l00104">Transaction.h:105</a></div></div>
<div class="ttc" id="aclass_transaction_with_result_task_html"><div class="ttname"><a href="../../d8/d08/class_transaction_with_result_task.html">TransactionWithResultTask</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d99/_transaction_8h_source.html#l00091">Transaction.h:92</a></div></div>
<div class="ttc" id="aclass_transaction_with_result_task_html_a5bc976207b1d695c8e8c052b0eacc7a6"><div class="ttname"><a href="../../d8/d08/class_transaction_with_result_task.html#a5bc976207b1d695c8e8c052b0eacc7a6">TransactionWithResultTask::GetFuture</a></div><div class="ttdeci">TransactionFuture GetFuture()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d99/_transaction_8h_source.html#l00096">Transaction.h:96</a></div></div>
<div class="ttc" id="anamespacedetail_1_1digits_html_aad69d2373aa047bdd9e81494bf3da5ae"><div class="ttname"><a href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">detail::digits::result</a></div><div class="ttdeci">result</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d50/format-inl_8h_source.html#l00622">format-inl.h:622</a></div></div>
<div class="ttc" id="asrc_2common_2_logging_2_log_8h_html_a47ac782b14a7531c6232777165a1a161"><div class="ttname"><a href="../../d3/d07/src_2common_2_logging_2_log_8h.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a></div><div class="ttdeci">#define LOG_DEBUG(filterType__,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d07/src_2common_2_logging_2_log_8h_source.html#l00273">Log.h:273</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d99/_transaction_8h_source.html#l00096">TransactionWithResultTask::GetFuture()</a>, and <a class="el" href="../../d3/d07/src_2common_2_logging_2_log_8h_source.html#l00273">LOG_DEBUG</a>.</p>

</div>
</div>
<a id="aedd71c3c21957a9183ffcbbb3a6fe3de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedd71c3c21957a9183ffcbbb3a6fe3de">&#9670;&nbsp;</a></span>AsyncQuery() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d8e/class_query_callback.html">QueryCallback</a> <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::AsyncQuery </td>
          <td>(</td>
          <td class="paramtype">char <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> *&#160;</td>
          <td class="paramname"><em>sql</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Asynchronous query (with resultset) methods. Enqueues a query in string format that will set the value of the QueryResultFuture return object as soon as the query is executed. The return value is then processed in ProcessQueryCallback methods. </p>

<p class="definition">Definition at line <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00226">226</a> of file <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html">DatabaseWorkerPool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;{</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <a class="code" href="../../d0/d7b/class_basic_statement_task.html">BasicStatementTask</a>* task = <span class="keyword">new</span> <a class="code" href="../../d0/d7b/class_basic_statement_task.html">BasicStatementTask</a>(sql, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="comment">// Store future result before enqueueing - task might get already processed and deleted before returning from this method</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <a class="code" href="../../db/d04/_database_env_fwd_8h.html#aaafe95f05c6db404e8bb61be587c7ca1">QueryResultFuture</a> <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = task-&gt;<a class="code" href="../../d0/d7b/class_basic_statement_task.html#aa574f8cc00ac956d23f93c7e96864fc9">GetFuture</a>();</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <a class="code" href="../../d7/d10/class_database_worker_pool.html#a2abae7a058f85531e85c2c6bf54d3012">Enqueue</a>(task);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d8e/class_query_callback.html">QueryCallback</a>(std::move(<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>));</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;}</div>
<div class="ttc" id="a_database_env_fwd_8h_html_aaafe95f05c6db404e8bb61be587c7ca1"><div class="ttname"><a href="../../db/d04/_database_env_fwd_8h.html#aaafe95f05c6db404e8bb61be587c7ca1">QueryResultFuture</a></div><div class="ttdeci">std::future&lt; QueryResult &gt; QueryResultFuture</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d04/_database_env_fwd_8h_source.html#l00029">DatabaseEnvFwd.h:29</a></div></div>
<div class="ttc" id="aclass_basic_statement_task_html"><div class="ttname"><a href="../../d0/d7b/class_basic_statement_task.html">BasicStatementTask</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d39/_adhoc_statement_8h_source.html#l00026">AdhocStatement.h:27</a></div></div>
<div class="ttc" id="aclass_basic_statement_task_html_aa574f8cc00ac956d23f93c7e96864fc9"><div class="ttname"><a href="../../d0/d7b/class_basic_statement_task.html#aa574f8cc00ac956d23f93c7e96864fc9">BasicStatementTask::GetFuture</a></div><div class="ttdeci">QueryResultFuture GetFuture() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d39/_adhoc_statement_8h_source.html#l00033">AdhocStatement.h:33</a></div></div>
<div class="ttc" id="aclass_query_callback_html"><div class="ttname"><a href="../../d7/d8e/class_query_callback.html">QueryCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/ddc/_query_callback_8h_source.html#l00029">QueryCallback.h:30</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/d39/_adhoc_statement_8h_source.html#l00033">BasicStatementTask::GetFuture()</a>.</p>

</div>
</div>
<a id="a2123529e8bfebfd77e8c4832fe392127"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2123529e8bfebfd77e8c4832fe392127">&#9670;&nbsp;</a></span>AsyncQuery() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d8e/class_query_callback.html">QueryCallback</a> <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::AsyncQuery </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d37/class_prepared_statement.html">PreparedStatement</a>&lt; T &gt; *&#160;</td>
          <td class="paramname"><em>stmt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enqueues a query in prepared format that will set the value of the PreparedQueryResultFuture return object as soon as the query is executed. The return value is then processed in ProcessQueryCallback methods. Statement must be prepared with CONNECTION_ASYNC flag. </p>

<p class="definition">Definition at line <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00236">236</a> of file <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html">DatabaseWorkerPool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;{</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <a class="code" href="../../df/da3/class_prepared_statement_task.html">PreparedStatementTask</a>* task = <span class="keyword">new</span> <a class="code" href="../../df/da3/class_prepared_statement_task.html">PreparedStatementTask</a>(stmt, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="comment">// Store future result before enqueueing - task might get already processed and deleted before returning from this method</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <a class="code" href="../../db/d04/_database_env_fwd_8h.html#a2011f9efd3a5d95695395eba86e79fab">PreparedQueryResultFuture</a> <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = task-&gt;<a class="code" href="../../df/da3/class_prepared_statement_task.html#a07031e5cff28553e33d98140847b9e0d">GetFuture</a>();</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <a class="code" href="../../d7/d10/class_database_worker_pool.html#a2abae7a058f85531e85c2c6bf54d3012">Enqueue</a>(task);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d8e/class_query_callback.html">QueryCallback</a>(std::move(<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>));</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;}</div>
<div class="ttc" id="a_database_env_fwd_8h_html_a2011f9efd3a5d95695395eba86e79fab"><div class="ttname"><a href="../../db/d04/_database_env_fwd_8h.html#a2011f9efd3a5d95695395eba86e79fab">PreparedQueryResultFuture</a></div><div class="ttdeci">std::future&lt; PreparedQueryResult &gt; PreparedQueryResultFuture</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d04/_database_env_fwd_8h_source.html#l00047">DatabaseEnvFwd.h:47</a></div></div>
<div class="ttc" id="aclass_prepared_statement_task_html"><div class="ttname"><a href="../../df/da3/class_prepared_statement_task.html">PreparedStatementTask</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d89/_prepared_statement_8h_source.html#l00115">PreparedStatement.h:116</a></div></div>
<div class="ttc" id="aclass_prepared_statement_task_html_a07031e5cff28553e33d98140847b9e0d"><div class="ttname"><a href="../../df/da3/class_prepared_statement_task.html#a07031e5cff28553e33d98140847b9e0d">PreparedStatementTask::GetFuture</a></div><div class="ttdeci">PreparedQueryResultFuture GetFuture()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d89/_prepared_statement_8h_source.html#l00122">PreparedStatement.h:122</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d89/_prepared_statement_8h_source.html#l00122">PreparedStatementTask::GetFuture()</a>.</p>

</div>
</div>
<a id="a8a54b40917a0642738d9628eb5b2a566"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a54b40917a0642738d9628eb5b2a566">&#9670;&nbsp;</a></span>BeginTransaction()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d04/_database_env_fwd_8h.html#ab2badaea4b4827995daef3e2dec0f9cd">SQLTransaction</a>&lt; T &gt; <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::BeginTransaction</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Begins an automanaged transaction pointer that will automatically rollback if not commited. (Autocommit=0) </p>
<p><a class="el" href="../../d2/d16/class_transaction.html">Transaction</a> context methods. </p>

<p class="definition">Definition at line <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00256">256</a> of file <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html">DatabaseWorkerPool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;{</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">return</span> std::make_shared&lt;Transaction&lt;T&gt;&gt;();</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af5b0984b23e9ea23d93deaaea85e17df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5b0984b23e9ea23d93deaaea85e17df">&#9670;&nbsp;</a></span>Close()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::Close</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Closes the actualy <a class="el" href="../../d7/d02/namespace_my_s_q_l.html">MySQL</a> connection.</p>
<p>Shut down the synchronous connections There's no need for locking the connection, because <a class="el" href="../../d7/d10/class_database_worker_pool.html#af5b0984b23e9ea23d93deaaea85e17df">DatabaseWorkerPool&lt;&gt;::Close</a> should only be called after any other thread tasks in the core have exited, meaning there can be no concurrent access at this point.</p>

<p class="definition">Definition at line <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00125">125</a> of file <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html">DatabaseWorkerPool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;{</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <a class="code" href="../../d3/d07/src_2common_2_logging_2_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;sql.driver&quot;</span>, <span class="stringliteral">&quot;Closing down DatabasePool &#39;%s&#39;.&quot;</span>, <a class="code" href="../../d7/d10/class_database_worker_pool.html#a9ddb7713357e00826df7d63d58224308">GetDatabaseName</a>());</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="../../d7/d10/class_database_worker_pool.html#a75dd7ab7e3bc90f00c3f93e92c5540c9">_connections</a>[<a class="code" href="../../d7/d10/class_database_worker_pool.html#ae15d4d3ffe735226b82d1dcc2cdc65e1a3bbbe5224571567b87ac2ece1236915e">IDX_ASYNC</a>].clear();</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <a class="code" href="../../d3/d07/src_2common_2_logging_2_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;sql.driver&quot;</span>, <span class="stringliteral">&quot;Asynchronous connections on DatabasePool &#39;%s&#39; terminated. &quot;</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                <span class="stringliteral">&quot;Proceeding with synchronous connections.&quot;</span>,</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <a class="code" href="../../d7/d10/class_database_worker_pool.html#a9ddb7713357e00826df7d63d58224308">GetDatabaseName</a>());</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <a class="code" href="../../d7/d10/class_database_worker_pool.html#a75dd7ab7e3bc90f00c3f93e92c5540c9">_connections</a>[<a class="code" href="../../d7/d10/class_database_worker_pool.html#ae15d4d3ffe735226b82d1dcc2cdc65e1af778551f7401384e492004fa74ec5b51">IDX_SYNCH</a>].clear();</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <a class="code" href="../../d3/d07/src_2common_2_logging_2_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;sql.driver&quot;</span>, <span class="stringliteral">&quot;All connections on DatabasePool &#39;%s&#39; closed.&quot;</span>, <a class="code" href="../../d7/d10/class_database_worker_pool.html#a9ddb7713357e00826df7d63d58224308">GetDatabaseName</a>());</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;}</div>
<div class="ttc" id="aclass_database_worker_pool_html_a75dd7ab7e3bc90f00c3f93e92c5540c9"><div class="ttname"><a href="../../d7/d10/class_database_worker_pool.html#a75dd7ab7e3bc90f00c3f93e92c5540c9">DatabaseWorkerPool::_connections</a></div><div class="ttdeci">std::array&lt; std::vector&lt; std::unique_ptr&lt; T &gt; &gt;, IDX_SIZE &gt; _connections</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dcd/_database_worker_pool_8h_source.html#l00233">DatabaseWorkerPool.h:233</a></div></div>
<div class="ttc" id="aclass_database_worker_pool_html_a9ddb7713357e00826df7d63d58224308"><div class="ttname"><a href="../../d7/d10/class_database_worker_pool.html#a9ddb7713357e00826df7d63d58224308">DatabaseWorkerPool::GetDatabaseName</a></div><div class="ttdeci">char const  * GetDatabaseName() const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df7/_database_worker_pool_8cpp_source.html#l00468">DatabaseWorkerPool.cpp:468</a></div></div>
<div class="ttc" id="asrc_2common_2_logging_2_log_8h_html_a271e427d8e8481efd5cd5f537ec9e419"><div class="ttname"><a href="../../d3/d07/src_2common_2_logging_2_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a></div><div class="ttdeci">#define LOG_INFO(filterType__,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d07/src_2common_2_logging_2_log_8h_source.html#l00269">Log.h:269</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d07/src_2common_2_logging_2_log_8h_source.html#l00269">LOG_INFO</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dfc/_database_loader_8cpp_source.html#l00035">DatabaseLoader::AddDatabase()</a>.</p>

</div>
</div>
<a id="a22bf65eb64ee4ce5bda95a0233994542"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22bf65eb64ee4ce5bda95a0233994542">&#9670;&nbsp;</a></span>CommitTransaction()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::CommitTransaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d04/_database_env_fwd_8h.html#ab2badaea4b4827995daef3e2dec0f9cd">SQLTransaction</a>&lt; T &gt;&#160;</td>
          <td class="paramname"><em>transaction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enqueues a collection of one-way SQL operations (can be both adhoc and prepared). The order in which these operations were appended to the transaction will be respected during execution. </p>

<p class="definition">Definition at line <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00262">262</a> of file <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html">DatabaseWorkerPool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;{</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="preprocessor">#ifdef ACORE_DEBUG</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">switch</span> (transaction-&gt;GetSize())</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <a class="code" href="../../d3/d07/src_2common_2_logging_2_log_8h.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;sql.driver&quot;</span>, <span class="stringliteral">&quot;Transaction contains 0 queries. Not executing.&quot;</span>);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <a class="code" href="../../d3/d07/src_2common_2_logging_2_log_8h.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;sql.driver&quot;</span>, <span class="stringliteral">&quot;Warning: Transaction only holds 1 query, consider removing Transaction context in code.&quot;</span>);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="preprocessor">#endif </span><span class="comment">// ACORE_DEBUG</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <a class="code" href="../../d7/d10/class_database_worker_pool.html#a2abae7a058f85531e85c2c6bf54d3012">Enqueue</a>(<span class="keyword">new</span> <a class="code" href="../../d0/dac/class_transaction_task.html">TransactionTask</a>(transaction));</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;}</div>
<div class="ttc" id="aclass_transaction_task_html"><div class="ttname"><a href="../../d0/dac/class_transaction_task.html">TransactionTask</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d99/_transaction_8h_source.html#l00072">Transaction.h:73</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d07/src_2common_2_logging_2_log_8h_source.html#l00273">LOG_DEBUG</a>.</p>

</div>
</div>
<a id="ac7965bc52f229b662cf0b3f6e6d3e5eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7965bc52f229b662cf0b3f6e6d3e5eb">&#9670;&nbsp;</a></span>DelayQueryHolder()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/dd7/class_s_q_l_query_holder_callback.html">SQLQueryHolderCallback</a> <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::DelayQueryHolder </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="../../da/d97/class_s_q_l_query_holder.html">SQLQueryHolder</a>&lt; T &gt;&gt;&#160;</td>
          <td class="paramname"><em>holder</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enqueues a vector of SQL operations (can be both adhoc and prepared) that will set the value of the QueryResultHolderFuture return object as soon as the query is executed. The return value is then processed in ProcessQueryCallback methods. Any prepared statements added to this holder need to be prepared with the CONNECTION_ASYNC flag. </p>

<p class="definition">Definition at line <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00246">246</a> of file <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html">DatabaseWorkerPool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;{</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="../../db/dfd/class_s_q_l_query_holder_task.html">SQLQueryHolderTask</a>* task = <span class="keyword">new</span> <a class="code" href="../../db/dfd/class_s_q_l_query_holder_task.html">SQLQueryHolderTask</a>(holder);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="comment">// Store future result before enqueueing - task might get already processed and deleted before returning from this method</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <a class="code" href="../../db/d04/_database_env_fwd_8h.html#afa682c0dbd4467d34bc28101c82c8959">QueryResultHolderFuture</a> <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = task-&gt;<a class="code" href="../../db/dfd/class_s_q_l_query_holder_task.html#a73199c4e5805933c9f79091797dedc5d">GetFuture</a>();</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <a class="code" href="../../d7/d10/class_database_worker_pool.html#a2abae7a058f85531e85c2c6bf54d3012">Enqueue</a>(task);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordflow">return</span> { std::move(holder), std::move(<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>) };</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;}</div>
<div class="ttc" id="a_database_env_fwd_8h_html_afa682c0dbd4467d34bc28101c82c8959"><div class="ttname"><a href="../../db/d04/_database_env_fwd_8h.html#afa682c0dbd4467d34bc28101c82c8959">QueryResultHolderFuture</a></div><div class="ttdeci">std::future&lt; void &gt; QueryResultHolderFuture</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d04/_database_env_fwd_8h_source.html#l00075">DatabaseEnvFwd.h:75</a></div></div>
<div class="ttc" id="aclass_s_q_l_query_holder_task_html"><div class="ttname"><a href="../../db/dfd/class_s_q_l_query_holder_task.html">SQLQueryHolderTask</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d79/_query_holder_8h_source.html#l00050">QueryHolder.h:51</a></div></div>
<div class="ttc" id="aclass_s_q_l_query_holder_task_html_a73199c4e5805933c9f79091797dedc5d"><div class="ttname"><a href="../../db/dfd/class_s_q_l_query_holder_task.html#a73199c4e5805933c9f79091797dedc5d">SQLQueryHolderTask::GetFuture</a></div><div class="ttdeci">QueryResultHolderFuture GetFuture()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d79/_query_holder_8h_source.html#l00063">QueryHolder.h:63</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d79/_query_holder_8h_source.html#l00063">SQLQueryHolderTask::GetFuture()</a>.</p>

</div>
</div>
<a id="a8a5f26f02948171fb65212b852e0c790"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a5f26f02948171fb65212b852e0c790">&#9670;&nbsp;</a></span>DirectCommitTransaction()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::DirectCommitTransaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d04/_database_env_fwd_8h.html#ab2badaea4b4827995daef3e2dec0f9cd">SQLTransaction</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>transaction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Directly executes a collection of one-way SQL operations (can be both adhoc and prepared). The order in which these operations were appended to the transaction will be respected during execution. </p>
<p>Handle <a class="el" href="../../d7/d02/namespace_my_s_q_l.html">MySQL</a> Errno 1213 without extending deadlock to the core itself </p><dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000012">Todo:</a></b></dt><dd>More elegant way </dd></dl>
<p>Clean up now.</p>

<p class="definition">Definition at line <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00311">311</a> of file <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html">DatabaseWorkerPool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;{</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    T* connection = <a class="code" href="../../d7/d10/class_database_worker_pool.html#ab52cd78dc0c7f757a0cf71156c9dabeb">GetFreeConnection</a>();</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordtype">int</span> errorCode = connection-&gt;ExecuteTransaction(transaction);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">if</span> (!errorCode)</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        connection-&gt;Unlock();      <span class="comment">// OK, operation succesful</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    }</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">if</span> (errorCode == <a class="code" href="../../d1/d40/mysqld__error_8h.html#a2b285b0d54e2a6e56250841512cfebc7">ER_LOCK_DEADLOCK</a>)</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <span class="comment">//todo: handle multiple sync threads deadlocking in a similar way as async threads</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <a class="code" href="../../d9/df6/my__global_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> loopBreaker = 5;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../d9/df6/my__global_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> i = 0; i &lt; loopBreaker; ++i)</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            <span class="keywordflow">if</span> (!connection-&gt;ExecuteTransaction(transaction))</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    }</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    transaction-&gt;Cleanup();</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    connection-&gt;Unlock();</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;}</div>
<div class="ttc" id="aclass_database_worker_pool_html_ab52cd78dc0c7f757a0cf71156c9dabeb"><div class="ttname"><a href="../../d7/d10/class_database_worker_pool.html#ab52cd78dc0c7f757a0cf71156c9dabeb">DatabaseWorkerPool::GetFreeConnection</a></div><div class="ttdeci">T * GetFreeConnection()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df7/_database_worker_pool_8cpp_source.html#l00440">DatabaseWorkerPool.cpp:440</a></div></div>
<div class="ttc" id="amy__global_8h_html_adde6aaee8457bee49c2a92621fe22b79"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a></div><div class="ttdeci">unsigned char uint8</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00881">my_global.h:881</a></div></div>
<div class="ttc" id="amysqld__error_8h_html_a2b285b0d54e2a6e56250841512cfebc7"><div class="ttname"><a href="../../d1/d40/mysqld__error_8h.html#a2b285b0d54e2a6e56250841512cfebc7">ER_LOCK_DEADLOCK</a></div><div class="ttdeci">#define ER_LOCK_DEADLOCK</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d40/mysqld__error_8h_source.html#l00217">mysqld_error.h:217</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/d40/mysqld__error_8h_source.html#l00217">ER_LOCK_DEADLOCK</a>.</p>

</div>
</div>
<a id="ab52cd7987ab8144d09f5de25246b174e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab52cd7987ab8144d09f5de25246b174e">&#9670;&nbsp;</a></span>DirectExecute() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::DirectExecute </td>
          <td>(</td>
          <td class="paramtype">char <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> *&#160;</td>
          <td class="paramname"><em>sql</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Direct synchronous one-way statement methods. Directly executes a one-way SQL operation in string format, that will block the calling thread until finished. This method should only be used for queries that are only executed once, e.g during startup. </p>

<p class="definition">Definition at line <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00491">491</a> of file <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html">DatabaseWorkerPool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;{</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/d7d/namespace_acore.html#a6f5584cc7346fd1972b3e8a74036467f">Acore::IsFormatEmptyOrNull</a>(sql))</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160; </div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    T* connection = <a class="code" href="../../d7/d10/class_database_worker_pool.html#ab52cd78dc0c7f757a0cf71156c9dabeb">GetFreeConnection</a>();</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    connection-&gt;Execute(sql);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    connection-&gt;Unlock();</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;}</div>
<div class="ttc" id="anamespace_acore_html_a6f5584cc7346fd1972b3e8a74036467f"><div class="ttname"><a href="../../d1/d7d/namespace_acore.html#a6f5584cc7346fd1972b3e8a74036467f">Acore::IsFormatEmptyOrNull</a></div><div class="ttdeci">bool IsFormatEmptyOrNull(char const *fmt)</div><div class="ttdoc">Returns true if the given char pointer is null.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/ded/_string_format_8h_source.html#l00046">StringFormat.h:46</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/ded/_string_format_8h_source.html#l00046">Acore::IsFormatEmptyOrNull()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d70/_d_b_updater_8cpp_source.html#l00426">DBUpdater&lt; T &gt;::Apply()</a>, and <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html#l00099">DatabaseWorkerPool&lt; T &gt;::DirectPExecute()</a>.</p>

</div>
</div>
<a id="ad79b4f532e563071b4571092409013f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad79b4f532e563071b4571092409013f5">&#9670;&nbsp;</a></span>DirectExecute() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::DirectExecute </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d37/class_prepared_statement.html">PreparedStatement</a>&lt; T &gt; *&#160;</td>
          <td class="paramname"><em>stmt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Directly executes a one-way SQL operation in prepared statement format, that will block the calling thread until finished. Statement must be prepared with the CONNECTION_SYNCH flag. </p>
<p>Delete proxy-class. Not needed anymore</p>

<p class="definition">Definition at line <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00502">502</a> of file <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html">DatabaseWorkerPool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;{</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    T* connection = <a class="code" href="../../d7/d10/class_database_worker_pool.html#ab52cd78dc0c7f757a0cf71156c9dabeb">GetFreeConnection</a>();</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    connection-&gt;Execute(stmt);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    connection-&gt;Unlock();</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keyword">delete</span> stmt;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3c633cbf4a15790d5d6bd350fc370d1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c633cbf4a15790d5d6bd350fc370d1e">&#9670;&nbsp;</a></span>DirectPExecute()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<div class="memtemplate">
template&lt;typename Format , typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::DirectPExecute </td>
          <td>(</td>
          <td class="paramtype">Format &amp;&amp;&#160;</td>
          <td class="paramname"><em>sql</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Directly executes a one-way SQL operation in string format -with variable args-, that will block the calling thread until finished. This method should only be used for queries that are only executed once, e.g during startup. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html#l00099">99</a> of file <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html">DatabaseWorkerPool.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/d7d/namespace_acore.html#a6f5584cc7346fd1972b3e8a74036467f">Acore::IsFormatEmptyOrNull</a>(sql))</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <a class="code" href="../../d7/d10/class_database_worker_pool.html#ab52cd7987ab8144d09f5de25246b174e">DirectExecute</a>(<a class="code" href="../../d1/d7d/namespace_acore.html#a20cdbbf36d71c2c01f75fd0e706a7b10">Acore::StringFormat</a>(std::forward&lt;Format&gt;(sql), std::forward&lt;Args&gt;(args)...).c_str());</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    }</div>
<div class="ttc" id="aclass_database_worker_pool_html_ab52cd7987ab8144d09f5de25246b174e"><div class="ttname"><a href="../../d7/d10/class_database_worker_pool.html#ab52cd7987ab8144d09f5de25246b174e">DatabaseWorkerPool::DirectExecute</a></div><div class="ttdeci">void DirectExecute(char const *sql)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df7/_database_worker_pool_8cpp_source.html#l00491">DatabaseWorkerPool.cpp:491</a></div></div>
<div class="ttc" id="anamespace_acore_html_a20cdbbf36d71c2c01f75fd0e706a7b10"><div class="ttname"><a href="../../d1/d7d/namespace_acore.html#a20cdbbf36d71c2c01f75fd0e706a7b10">Acore::StringFormat</a></div><div class="ttdeci">std::string StringFormat(Format &amp;&amp;fmt, Args &amp;&amp;... args)</div><div class="ttdoc">Default AC string format function.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/ded/_string_format_8h_source.html#l00018">StringFormat.h:18</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00491">DatabaseWorkerPool&lt; T &gt;::DirectExecute()</a>, <a class="el" href="../../d9/ded/_string_format_8h_source.html#l00046">Acore::IsFormatEmptyOrNull()</a>, and <a class="el" href="../../d9/ded/_string_format_8h_source.html#l00018">Acore::StringFormat()</a>.</p>

</div>
</div>
<a id="a2abae7a058f85531e85c2c6bf54d3012"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2abae7a058f85531e85c2c6bf54d3012">&#9670;&nbsp;</a></span>Enqueue()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::Enqueue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/dc3/class_s_q_l_operation.html">SQLOperation</a> *&#160;</td>
          <td class="paramname"><em>op</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00428">428</a> of file <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html">DatabaseWorkerPool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;{</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <a class="code" href="../../d7/d10/class_database_worker_pool.html#af429357afc50f4bea5abfc1dd3f17c86">_queue</a>-&gt;Push(op);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab30047af2d612bf4032778cc82f4932d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab30047af2d612bf4032778cc82f4932d">&#9670;&nbsp;</a></span>EscapeString() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::EscapeString </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> *&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00419">419</a> of file <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html">DatabaseWorkerPool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;{</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordflow">if</span> (!to || !from || !<a class="code" href="../../df/de2/namespace_g3_d.html#a69a355f92fa3aab4f301667be00cd3eb">length</a>)</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d10/class_database_worker_pool.html#a75dd7ab7e3bc90f00c3f93e92c5540c9">_connections</a>[<a class="code" href="../../d7/d10/class_database_worker_pool.html#ae15d4d3ffe735226b82d1dcc2cdc65e1af778551f7401384e492004fa74ec5b51">IDX_SYNCH</a>].front()-&gt;EscapeString(to, from, <a class="code" href="../../df/de2/namespace_g3_d.html#a69a355f92fa3aab4f301667be00cd3eb">length</a>);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;}</div>
<div class="ttc" id="anamespace_g3_d_html_a69a355f92fa3aab4f301667be00cd3eb"><div class="ttname"><a href="../../df/de2/namespace_g3_d.html#a69a355f92fa3aab4f301667be00cd3eb">G3D::length</a></div><div class="ttdeci">float length(float v)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0b/vector_math_8h_source.html#l00208">vectorMath.h:208</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d0b/vector_math_8h_source.html#l00208">G3D::length()</a>.</p>

</div>
</div>
<a id="ac95606d8360ce139ec39a763e08cf929"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac95606d8360ce139ec39a763e08cf929">&#9670;&nbsp;</a></span>EscapeString() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::EscapeString </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply escape string'ing for current collation. (<a class="el" href="../../dd/de8/namespaceutf8.html">utf8</a>) </p>

<p class="definition">Definition at line <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00347">347</a> of file <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html">DatabaseWorkerPool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;{</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">if</span> (str.empty())</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordtype">char</span>* buf = <span class="keyword">new</span> <span class="keywordtype">char</span>[str.size() * 2 + 1];</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <a class="code" href="../../d7/d10/class_database_worker_pool.html#ac95606d8360ce139ec39a763e08cf929">EscapeString</a>(buf, str.c_str(), <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(str.size()));</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    str = buf;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keyword">delete</span>[] buf;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;}</div>
<div class="ttc" id="a_define_8h_html_a22f78cc9780bf32aff91ae17c3101c8d"><div class="ttname"><a href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a></div><div class="ttdeci">std::uint32_t uint32</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d35/_define_8h_source.html#l00114">Define.h:114</a></div></div>
<div class="ttc" id="aclass_database_worker_pool_html_ac95606d8360ce139ec39a763e08cf929"><div class="ttname"><a href="../../d7/d10/class_database_worker_pool.html#ac95606d8360ce139ec39a763e08cf929">DatabaseWorkerPool::EscapeString</a></div><div class="ttdeci">void EscapeString(std::string &amp;str)</div><div class="ttdoc">Apply escape string'ing for current collation. (utf8)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df7/_database_worker_pool_8cpp_source.html#l00347">DatabaseWorkerPool.cpp:347</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ada5bf614a40843eaf705d184d7022116"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada5bf614a40843eaf705d184d7022116">&#9670;&nbsp;</a></span>Execute() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::Execute </td>
          <td>(</td>
          <td class="paramtype">char <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> *&#160;</td>
          <td class="paramname"><em>sql</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delayed one-way statement methods. Enqueues a one-way SQL operation in string format that will be executed asynchronously. This method should only be used for queries that are only executed once, e.g during startup. </p>

<p class="definition">Definition at line <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00474">474</a> of file <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html">DatabaseWorkerPool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;{</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/d7d/namespace_acore.html#a6f5584cc7346fd1972b3e8a74036467f">Acore::IsFormatEmptyOrNull</a>(sql))</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160; </div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <a class="code" href="../../d0/d7b/class_basic_statement_task.html">BasicStatementTask</a>* task = <span class="keyword">new</span> <a class="code" href="../../d0/d7b/class_basic_statement_task.html">BasicStatementTask</a>(sql);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <a class="code" href="../../d7/d10/class_database_worker_pool.html#a2abae7a058f85531e85c2c6bf54d3012">Enqueue</a>(task);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/ded/_string_format_8h_source.html#l00046">Acore::IsFormatEmptyOrNull()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html#l00076">DatabaseWorkerPool&lt; T &gt;::PExecute()</a>.</p>

</div>
</div>
<a id="a06540a1813cb10817d864e1288ad506f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06540a1813cb10817d864e1288ad506f">&#9670;&nbsp;</a></span>Execute() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::Execute </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d37/class_prepared_statement.html">PreparedStatement</a>&lt; T &gt; *&#160;</td>
          <td class="paramname"><em>stmt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enqueues a one-way SQL operation in prepared statement format that will be executed asynchronously. Statement must be prepared with CONNECTION_ASYNC flag. </p>

<p class="definition">Definition at line <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00484">484</a> of file <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html">DatabaseWorkerPool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;{</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <a class="code" href="../../df/da3/class_prepared_statement_task.html">PreparedStatementTask</a>* task = <span class="keyword">new</span> <a class="code" href="../../df/da3/class_prepared_statement_task.html">PreparedStatementTask</a>(stmt);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <a class="code" href="../../d7/d10/class_database_worker_pool.html#a2abae7a058f85531e85c2c6bf54d3012">Enqueue</a>(task);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7d828587ab4f0460b716198a2ed6b69b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d828587ab4f0460b716198a2ed6b69b">&#9670;&nbsp;</a></span>ExecuteOrAppend() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::ExecuteOrAppend </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d04/_database_env_fwd_8h.html#ab2badaea4b4827995daef3e2dec0f9cd">SQLTransaction</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> *&#160;</td>
          <td class="paramname"><em>sql</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Method used to execute ad-hoc statements in a diverse context. Will be wrapped in a transaction if valid object is present, otherwise executed standalone. </p>

<p class="definition">Definition at line <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00513">513</a> of file <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html">DatabaseWorkerPool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;{</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordflow">if</span> (!trans)</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <a class="code" href="../../d7/d10/class_database_worker_pool.html#ada5bf614a40843eaf705d184d7022116">Execute</a>(sql);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        trans-&gt;Append(sql);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;}</div>
<div class="ttc" id="aclass_database_worker_pool_html_ada5bf614a40843eaf705d184d7022116"><div class="ttname"><a href="../../d7/d10/class_database_worker_pool.html#ada5bf614a40843eaf705d184d7022116">DatabaseWorkerPool::Execute</a></div><div class="ttdeci">void Execute(char const *sql)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df7/_database_worker_pool_8cpp_source.html#l00474">DatabaseWorkerPool.cpp:474</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac7c9774a74e661a407009a63c85cfc39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7c9774a74e661a407009a63c85cfc39">&#9670;&nbsp;</a></span>ExecuteOrAppend() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::ExecuteOrAppend </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d04/_database_env_fwd_8h.html#ab2badaea4b4827995daef3e2dec0f9cd">SQLTransaction</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d37/class_prepared_statement.html">PreparedStatement</a>&lt; T &gt; *&#160;</td>
          <td class="paramname"><em>stmt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Method used to execute prepared statements in a diverse context. Will be wrapped in a transaction if valid object is present, otherwise executed standalone. </p>

<p class="definition">Definition at line <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00522">522</a> of file <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html">DatabaseWorkerPool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;{</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">if</span> (!trans)</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <a class="code" href="../../d7/d10/class_database_worker_pool.html#ada5bf614a40843eaf705d184d7022116">Execute</a>(stmt);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        trans-&gt;Append(stmt);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a09846614419c657156ad205f4c8c27b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09846614419c657156ad205f4c8c27b6">&#9670;&nbsp;</a></span>GetConnectionInfo()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d41/struct_my_s_q_l_connection_info.html">MySQLConnectionInfo</a> <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a>* <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::GetConnectionInfo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html#l00060">60</a> of file <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html">DatabaseWorkerPool.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/d10/class_database_worker_pool.html#a4b545f574e6c28675137a4735ff9d070">_connectionInfo</a>.get();</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    }</div>
<div class="ttc" id="aclass_database_worker_pool_html_a4b545f574e6c28675137a4735ff9d070"><div class="ttname"><a href="../../d7/d10/class_database_worker_pool.html#a4b545f574e6c28675137a4735ff9d070">DatabaseWorkerPool::_connectionInfo</a></div><div class="ttdeci">std::unique_ptr&lt; MySQLConnectionInfo &gt; _connectionInfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dcd/_database_worker_pool_8h_source.html#l00234">DatabaseWorkerPool.h:234</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html#l00234">DatabaseWorkerPool&lt; T &gt;::_connectionInfo</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d70/_d_b_updater_8cpp_source.html#l00432">DBUpdater&lt; T &gt;::ApplyFile()</a>, <a class="el" href="../../db/d70/_d_b_updater_8cpp_source.html#l00171">DBUpdater&lt; T &gt;::Create()</a>, and <a class="el" href="../../db/d70/_d_b_updater_8cpp_source.html#l00217">DBUpdater&lt; T &gt;::Update()</a>.</p>

</div>
</div>
<a id="a9ddb7713357e00826df7d63d58224308"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ddb7713357e00826df7d63d58224308">&#9670;&nbsp;</a></span>GetDatabaseName()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a>  * <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::GetDatabaseName</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00468">468</a> of file <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html">DatabaseWorkerPool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;{</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d10/class_database_worker_pool.html#a4b545f574e6c28675137a4735ff9d070">_connectionInfo</a>-&gt;database.c_str();</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab52cd78dc0c7f757a0cf71156c9dabeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab52cd78dc0c7f757a0cf71156c9dabeb">&#9670;&nbsp;</a></span>GetFreeConnection()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T * <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::GetFreeConnection</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Gets a free connection in the synchronous connection pool. Caller MUST call t-&gt;Unlock() after touching the <a class="el" href="../../d7/d02/namespace_my_s_q_l.html">MySQL</a> context to prevent deadlocks. </p>
<p>Block forever until a connection is free</p>
<p>Must be matched with t-&gt;Unlock() or you will get deadlocks</p>

<p class="definition">Definition at line <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00440">440</a> of file <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html">DatabaseWorkerPool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;{</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="preprocessor">#ifdef ACORE_DEBUG</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordflow">if</span> (_warnSyncQueries)</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        std::ostringstream ss;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        ss &lt;&lt; boost::stacktrace::stacktrace();</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <a class="code" href="../../d3/d07/src_2common_2_logging_2_log_8h.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a>(<span class="stringliteral">&quot;sql.performances&quot;</span>, <span class="stringliteral">&quot;Sync query at:\n%s&quot;</span>, ss.str().c_str());</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    }</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160; </div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <a class="code" href="../../d9/df6/my__global_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> i = 0;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> num_cons = <a class="code" href="../../d7/d10/class_database_worker_pool.html#a75dd7ab7e3bc90f00c3f93e92c5540c9">_connections</a>[<a class="code" href="../../d7/d10/class_database_worker_pool.html#ae15d4d3ffe735226b82d1dcc2cdc65e1af778551f7401384e492004fa74ec5b51">IDX_SYNCH</a>].size();</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    T* connection = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">for</span> (;;)</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        connection = <a class="code" href="../../d7/d10/class_database_worker_pool.html#a75dd7ab7e3bc90f00c3f93e92c5540c9">_connections</a>[<a class="code" href="../../d7/d10/class_database_worker_pool.html#ae15d4d3ffe735226b82d1dcc2cdc65e1af778551f7401384e492004fa74ec5b51">IDX_SYNCH</a>][++i % num_cons].get();</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <span class="keywordflow">if</span> (connection-&gt;LockIfReady())</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160; </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordflow">return</span> connection;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;}</div>
<div class="ttc" id="asrc_2common_2_logging_2_log_8h_html_adf09840a666e1d86bcd3439105db6edc"><div class="ttname"><a href="../../d3/d07/src_2common_2_logging_2_log_8h.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a></div><div class="ttdeci">#define LOG_WARN(filterType__,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d07/src_2common_2_logging_2_log_8h_source.html#l00265">Log.h:265</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d07/src_2common_2_logging_2_log_8h_source.html#l00265">LOG_WARN</a>.</p>

</div>
</div>
<a id="aa3903bd03f577eb0cd78a0daf1d6fc47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3903bd03f577eb0cd78a0daf1d6fc47">&#9670;&nbsp;</a></span>GetPreparedStatement()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d37/class_prepared_statement.html">PreparedStatement</a>&lt; T &gt; * <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::GetPreparedStatement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d10/class_database_worker_pool.html#a974881f497c973f6de63a13fe11bde69">PreparedStatementIndex</a>&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Automanaged (internally) pointer to a prepared statement object for usage in upper level code. Pointer is deleted in this-&gt;<a class="el" href="../../d7/d10/class_database_worker_pool.html#ad79b4f532e563071b4571092409013f5">DirectExecute(PreparedStatement*)</a>, this-&gt;<a class="el" href="../../d7/d10/class_database_worker_pool.html#a5af178c6d30a31bb3f60328f03ecb743">Query(PreparedStatement*)</a> or <a class="el" href="../../df/da3/class_prepared_statement_task.html#a44061c6d8721b07610ac2567be24cece">PreparedStatementTask::~PreparedStatementTask</a>. This object is not tied to the prepared statement on the <a class="el" href="../../d7/d02/namespace_my_s_q_l.html">MySQL</a> context yet until execution. </p>

<p class="definition">Definition at line <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00341">341</a> of file <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html">DatabaseWorkerPool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;{</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="../../da/d37/class_prepared_statement.html">PreparedStatement&lt;T&gt;</a>(<a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a7fc0249f0f8ba720115d2430f5b86cbaa6a992d5529f459a44fee58c733255e86">index</a>, <a class="code" href="../../d7/d10/class_database_worker_pool.html#a2cd5af2c32c18ad91be9325bbac71d23">_preparedStatementSize</a>[<a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a7fc0249f0f8ba720115d2430f5b86cbaa6a992d5529f459a44fee58c733255e86">index</a>]);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;}</div>
<div class="ttc" id="aclass_database_worker_pool_html_a2cd5af2c32c18ad91be9325bbac71d23"><div class="ttname"><a href="../../d7/d10/class_database_worker_pool.html#a2cd5af2c32c18ad91be9325bbac71d23">DatabaseWorkerPool::_preparedStatementSize</a></div><div class="ttdeci">std::vector&lt; uint8 &gt; _preparedStatementSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dcd/_database_worker_pool_8h_source.html#l00235">DatabaseWorkerPool.h:235</a></div></div>
<div class="ttc" id="aclass_prepared_statement_html"><div class="ttname"><a href="../../da/d37/class_prepared_statement.html">PreparedStatement</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d89/_prepared_statement_8h_source.html#l00102">PreparedStatement.h:103</a></div></div>
<div class="ttc" id="afmt_2include_2fmt_2core_8h_html_a7fc0249f0f8ba720115d2430f5b86cbaa6a992d5529f459a44fee58c733255e86"><div class="ttname"><a href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a7fc0249f0f8ba720115d2430f5b86cbaa6a992d5529f459a44fee58c733255e86">arg_id_kind::index</a></div><div class="ttdeci">@ index</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a7fc0249f0f8ba720115d2430f5b86cbaa6a992d5529f459a44fee58c733255e86">index</a>.</p>

</div>
</div>
<a id="a8c179a173e69967afbd8242c2a4a0297"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c179a173e69967afbd8242c2a4a0297">&#9670;&nbsp;</a></span>KeepAlive()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::KeepAlive</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Keeps all our <a class="el" href="../../d7/d02/namespace_my_s_q_l.html">MySQL</a> connections alive, prevent the server from disconnecting us. </p>
<p>Ping synchronous connections</p>
<p>Assuming all worker threads are free, every worker thread will receive 1 ping operation request If one or more worker threads are busy, the ping operations will not be split evenly, but this doesn't matter as the sole purpose is to prevent connections from idling.</p>

<p class="definition">Definition at line <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00359">359</a> of file <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html">DatabaseWorkerPool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;{</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; connection : <a class="code" href="../../d7/d10/class_database_worker_pool.html#a75dd7ab7e3bc90f00c3f93e92c5540c9">_connections</a>[<a class="code" href="../../d7/d10/class_database_worker_pool.html#ae15d4d3ffe735226b82d1dcc2cdc65e1af778551f7401384e492004fa74ec5b51">IDX_SYNCH</a>])</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <span class="keywordflow">if</span> (connection-&gt;LockIfReady())</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            connection-&gt;Ping();</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            connection-&gt;Unlock();</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        }</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> <a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a501bb1bb2f0cc5706178ed237958e73b">count</a> = <a class="code" href="../../d7/d10/class_database_worker_pool.html#a75dd7ab7e3bc90f00c3f93e92c5540c9">_connections</a>[<a class="code" href="../../d7/d10/class_database_worker_pool.html#ae15d4d3ffe735226b82d1dcc2cdc65e1a3bbbe5224571567b87ac2ece1236915e">IDX_ASYNC</a>].size();</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d9/df6/my__global_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> i = 0; i &lt; <a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a501bb1bb2f0cc5706178ed237958e73b">count</a>; ++i)</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <a class="code" href="../../d7/d10/class_database_worker_pool.html#a2abae7a058f85531e85c2c6bf54d3012">Enqueue</a>(<span class="keyword">new</span> <a class="code" href="../../d7/d03/class_ping_operation.html">PingOperation</a>);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;}</div>
<div class="ttc" id="aclass_ping_operation_html"><div class="ttname"><a href="../../d7/d03/class_ping_operation.html">PingOperation</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/df7/_database_worker_pool_8cpp_source.html#l00050">DatabaseWorkerPool.cpp:51</a></div></div>
<div class="ttc" id="afmt_2include_2fmt_2core_8h_html_a501bb1bb2f0cc5706178ed237958e73b"><div class="ttname"><a href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a501bb1bb2f0cc5706178ed237958e73b">count</a></div><div class="ttdeci">constexpr auto count() -&gt; size_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d71/fmt_2include_2fmt_2core_8h_source.html#l01039">core.h:1039</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/d71/fmt_2include_2fmt_2core_8h_source.html#l01039">count()</a>.</p>

</div>
</div>
<a id="a3b14aba401eab1f610bacff590ce403e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b14aba401eab1f610bacff590ce403e">&#9670;&nbsp;</a></span>Open()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::Open</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00097">97</a> of file <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html">DatabaseWorkerPool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;{</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <a class="code" href="../../db/d16/_errors_8h.html#a47d51826ca35c49a890b7bc2ad6818ea">WPFatal</a>(<a class="code" href="../../d7/d10/class_database_worker_pool.html#a4b545f574e6c28675137a4735ff9d070">_connectionInfo</a>.get(), <span class="stringliteral">&quot;Connection info was not set!&quot;</span>);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <a class="code" href="../../d3/d07/src_2common_2_logging_2_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;sql.driver&quot;</span>, <span class="stringliteral">&quot;Opening DatabasePool &#39;%s&#39;. &quot;</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="stringliteral">&quot;Asynchronous connections: %u, synchronous connections: %u.&quot;</span>,</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <a class="code" href="../../d7/d10/class_database_worker_pool.html#a9ddb7713357e00826df7d63d58224308">GetDatabaseName</a>(), <a class="code" href="../../d7/d10/class_database_worker_pool.html#af3dca707976ef4b8ed3c00d6b100ea88">_async_threads</a>, <a class="code" href="../../d7/d10/class_database_worker_pool.html#a46e089fb9340e81cb4566202c132fa76">_synch_threads</a>);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a> = <a class="code" href="../../d7/d10/class_database_worker_pool.html#a0afa2a6d6159289aedf75b23bef19561">OpenConnections</a>(<a class="code" href="../../d7/d10/class_database_worker_pool.html#ae15d4d3ffe735226b82d1dcc2cdc65e1a3bbbe5224571567b87ac2ece1236915e">IDX_ASYNC</a>, <a class="code" href="../../d7/d10/class_database_worker_pool.html#af3dca707976ef4b8ed3c00d6b100ea88">_async_threads</a>);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160; </div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>)</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a> = <a class="code" href="../../d7/d10/class_database_worker_pool.html#a0afa2a6d6159289aedf75b23bef19561">OpenConnections</a>(<a class="code" href="../../d7/d10/class_database_worker_pool.html#ae15d4d3ffe735226b82d1dcc2cdc65e1af778551f7401384e492004fa74ec5b51">IDX_SYNCH</a>, <a class="code" href="../../d7/d10/class_database_worker_pool.html#a46e089fb9340e81cb4566202c132fa76">_synch_threads</a>);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>)</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <a class="code" href="../../d3/d07/src_2common_2_logging_2_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;sql.driver&quot;</span>, <span class="stringliteral">&quot;DatabasePool &#39;%s&#39; opened successfully. &quot;</span> <a class="code" href="../../db/d35/_define_8h.html#ae21bf3255b0d48ac2e9a7cfec6b9210c">SZFMTD</a></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                    <span class="stringliteral">&quot; total connections running.&quot;</span>, <a class="code" href="../../d7/d10/class_database_worker_pool.html#a9ddb7713357e00826df7d63d58224308">GetDatabaseName</a>(),</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                    (<a class="code" href="../../d7/d10/class_database_worker_pool.html#a75dd7ab7e3bc90f00c3f93e92c5540c9">_connections</a>[<a class="code" href="../../d7/d10/class_database_worker_pool.html#ae15d4d3ffe735226b82d1dcc2cdc65e1af778551f7401384e492004fa74ec5b51">IDX_SYNCH</a>].size() + <a class="code" href="../../d7/d10/class_database_worker_pool.html#a75dd7ab7e3bc90f00c3f93e92c5540c9">_connections</a>[<a class="code" href="../../d7/d10/class_database_worker_pool.html#ae15d4d3ffe735226b82d1dcc2cdc65e1a3bbbe5224571567b87ac2ece1236915e">IDX_ASYNC</a>].size()));</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <a class="code" href="../../d3/d07/src_2common_2_logging_2_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;sql.driver&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;}</div>
<div class="ttc" id="a_define_8h_html_ae21bf3255b0d48ac2e9a7cfec6b9210c"><div class="ttname"><a href="../../db/d35/_define_8h.html#ae21bf3255b0d48ac2e9a7cfec6b9210c">SZFMTD</a></div><div class="ttdeci">#define SZFMTD</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d35/_define_8h_source.html#l00104">Define.h:104</a></div></div>
<div class="ttc" id="aclass_database_worker_pool_html_a0afa2a6d6159289aedf75b23bef19561"><div class="ttname"><a href="../../d7/d10/class_database_worker_pool.html#a0afa2a6d6159289aedf75b23bef19561">DatabaseWorkerPool::OpenConnections</a></div><div class="ttdeci">uint32 OpenConnections(InternalIndex type, uint8 numConnections)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df7/_database_worker_pool_8cpp_source.html#l00380">DatabaseWorkerPool.cpp:380</a></div></div>
<div class="ttc" id="aminigzip_8c_html_aee763da2c1c9da197307bad1d009513d"><div class="ttname"><a href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a></div><div class="ttdeci">void error(char *msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc6/minigzip_8c_source.html#l00156">minigzip.c:156</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/dc6/minigzip_8c_source.html#l00156">error()</a>, <a class="el" href="../../d3/d07/src_2common_2_logging_2_log_8h_source.html#l00269">LOG_INFO</a>, <a class="el" href="../../db/d35/_define_8h_source.html#l00104">SZFMTD</a>, and <a class="el" href="../../db/d16/_errors_8h_source.html#l00048">WPFatal</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dfc/_database_loader_8cpp_source.html#l00035">DatabaseLoader::AddDatabase()</a>.</p>

</div>
</div>
<a id="a0afa2a6d6159289aedf75b23bef19561"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0afa2a6d6159289aedf75b23bef19561">&#9670;&nbsp;</a></span>OpenConnections()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::OpenConnections </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d10/class_database_worker_pool.html#ae15d4d3ffe735226b82d1dcc2cdc65e1">InternalIndex</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/df6/my__global_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td>
          <td class="paramname"><em>numConnections</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00380">380</a> of file <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html">DatabaseWorkerPool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;{</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d9/df6/my__global_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> i = 0; i &lt; numConnections; ++i)</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <span class="comment">// Create the connection</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="keyword">auto</span> connection = [&amp;] {</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            <span class="keywordflow">switch</span> (<a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a>)</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            {</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d7/d10/class_database_worker_pool.html#ae15d4d3ffe735226b82d1dcc2cdc65e1a3bbbe5224571567b87ac2ece1236915e">IDX_ASYNC</a>:</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                <span class="keywordflow">return</span> std::make_unique&lt;T&gt;(<a class="code" href="../../d7/d10/class_database_worker_pool.html#af429357afc50f4bea5abfc1dd3f17c86">_queue</a>.get(), *<a class="code" href="../../d7/d10/class_database_worker_pool.html#a4b545f574e6c28675137a4735ff9d070">_connectionInfo</a>);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d7/d10/class_database_worker_pool.html#ae15d4d3ffe735226b82d1dcc2cdc65e1af778551f7401384e492004fa74ec5b51">IDX_SYNCH</a>:</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                <span class="keywordflow">return</span> std::make_unique&lt;T&gt;(*<a class="code" href="../../d7/d10/class_database_worker_pool.html#a4b545f574e6c28675137a4735ff9d070">_connectionInfo</a>);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                <a class="code" href="../../db/d16/_errors_8h.html#a5376571bbf4cdc9782683635f366f89a">ABORT</a>();</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            }</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        }();</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160; </div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a> = connection-&gt;Open())</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            <span class="comment">// Failed to open a connection or invalid version, abort and cleanup</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            <a class="code" href="../../d7/d10/class_database_worker_pool.html#a75dd7ab7e3bc90f00c3f93e92c5540c9">_connections</a>[<a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a>].clear();</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (connection-&gt;GetServerVersion() &lt; <a class="code" href="../../db/df7/_database_worker_pool_8cpp.html#acd4a83e86313ca0bb35cb66497bc79b2">MIN_MYSQL_SERVER_VERSION</a>)</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <a class="code" href="../../d3/d07/src_2common_2_logging_2_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.driver&quot;</span>, <span class="stringliteral">&quot;AzerothCore does not support MySQL versions below 5.7&quot;</span>);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        {</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            <a class="code" href="../../d7/d10/class_database_worker_pool.html#a75dd7ab7e3bc90f00c3f93e92c5540c9">_connections</a>[<a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a>].push_back(std::move(connection));</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        }</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    }</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160; </div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="comment">// Everything is fine</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;}</div>
<div class="ttc" id="a_database_worker_pool_8cpp_html_acd4a83e86313ca0bb35cb66497bc79b2"><div class="ttname"><a href="../../db/df7/_database_worker_pool_8cpp.html#acd4a83e86313ca0bb35cb66497bc79b2">MIN_MYSQL_SERVER_VERSION</a></div><div class="ttdeci">#define MIN_MYSQL_SERVER_VERSION</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df7/_database_worker_pool_8cpp_source.html#l00046">DatabaseWorkerPool.cpp:46</a></div></div>
<div class="ttc" id="a_errors_8h_html_a5376571bbf4cdc9782683635f366f89a"><div class="ttname"><a href="../../db/d16/_errors_8h.html#a5376571bbf4cdc9782683635f366f89a">ABORT</a></div><div class="ttdeci">#define ABORT</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/_errors_8h_source.html#l00062">Errors.h:62</a></div></div>
<div class="ttc" id="afmt_2include_2fmt_2core_8h_html_a7aead736a07eaf25623ad7bfa1f0ee2d"><div class="ttname"><a href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a></div><div class="ttdeci">type</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d71/fmt_2include_2fmt_2core_8h_source.html#l01048">core.h:1048</a></div></div>
<div class="ttc" id="asrc_2common_2_logging_2_log_8h_html_a43832e3fa8508deb4ce43e520005fcd9"><div class="ttname"><a href="../../d3/d07/src_2common_2_logging_2_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR(filterType__,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d07/src_2common_2_logging_2_log_8h_source.html#l00261">Log.h:261</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/d16/_errors_8h_source.html#l00062">ABORT</a>, <a class="el" href="../../d3/dc6/minigzip_8c_source.html#l00156">error()</a>, <a class="el" href="../../d3/d07/src_2common_2_logging_2_log_8h_source.html#l00261">LOG_ERROR</a>, and <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00046">MIN_MYSQL_SERVER_VERSION</a>.</p>

</div>
</div>
<a id="a2210ac7dd8068afaf19e7e3ff1a29ba0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2210ac7dd8068afaf19e7e3ff1a29ba0">&#9670;&nbsp;</a></span>PExecute()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<div class="memtemplate">
template&lt;typename Format , typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::PExecute </td>
          <td>(</td>
          <td class="paramtype">Format &amp;&amp;&#160;</td>
          <td class="paramname"><em>sql</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Enqueues a one-way SQL operation in string format -with variable args- that will be executed asynchronously. This method should only be used for queries that are only executed once, e.g during startup. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html#l00076">76</a> of file <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html">DatabaseWorkerPool.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/d7d/namespace_acore.html#a6f5584cc7346fd1972b3e8a74036467f">Acore::IsFormatEmptyOrNull</a>(sql))</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <a class="code" href="../../d7/d10/class_database_worker_pool.html#ada5bf614a40843eaf705d184d7022116">Execute</a>(<a class="code" href="../../d1/d7d/namespace_acore.html#a20cdbbf36d71c2c01f75fd0e706a7b10">Acore::StringFormat</a>(std::forward&lt;Format&gt;(sql), std::forward&lt;Args&gt;(args)...).c_str());</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00474">DatabaseWorkerPool&lt; T &gt;::Execute()</a>, <a class="el" href="../../d9/ded/_string_format_8h_source.html#l00046">Acore::IsFormatEmptyOrNull()</a>, and <a class="el" href="../../d9/ded/_string_format_8h_source.html#l00018">Acore::StringFormat()</a>.</p>

</div>
</div>
<a id="a5d317c46f2607a175599f4e06b72483a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d317c46f2607a175599f4e06b72483a">&#9670;&nbsp;</a></span>PQuery() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<div class="memtemplate">
template&lt;typename Format , typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d04/_database_env_fwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::PQuery </td>
          <td>(</td>
          <td class="paramtype">Format &amp;&amp;&#160;</td>
          <td class="paramname"><em>sql</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Directly executes an SQL query in string format -with variable args- that will block the calling thread until finished. Returns reference counted auto pointer, no need for manual memory management in upper level code. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html#l00133">133</a> of file <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html">DatabaseWorkerPool.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/d7d/namespace_acore.html#a6f5584cc7346fd1972b3e8a74036467f">Acore::IsFormatEmptyOrNull</a>(sql))</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../db/d04/_database_env_fwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a>(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/d10/class_database_worker_pool.html#a324b275971f00c6e238343cd14618205">Query</a>(<a class="code" href="../../d1/d7d/namespace_acore.html#a20cdbbf36d71c2c01f75fd0e706a7b10">Acore::StringFormat</a>(std::forward&lt;Format&gt;(sql), std::forward&lt;Args&gt;(args)...).c_str());</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    }</div>
<div class="ttc" id="a_database_env_fwd_8h_html_ab0c9feeec448a181290fcb39565b8253"><div class="ttname"><a href="../../db/d04/_database_env_fwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a></div><div class="ttdeci">std::shared_ptr&lt; ResultSet &gt; QueryResult</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d04/_database_env_fwd_8h_source.html#l00028">DatabaseEnvFwd.h:28</a></div></div>
<div class="ttc" id="aclass_database_worker_pool_html_a324b275971f00c6e238343cd14618205"><div class="ttname"><a href="../../d7/d10/class_database_worker_pool.html#a324b275971f00c6e238343cd14618205">DatabaseWorkerPool::Query</a></div><div class="ttdeci">QueryResult Query(char const *sql, T *connection=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df7/_database_worker_pool_8cpp_source.html#l00190">DatabaseWorkerPool.cpp:190</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/ded/_string_format_8h_source.html#l00046">Acore::IsFormatEmptyOrNull()</a>, <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00190">DatabaseWorkerPool&lt; T &gt;::Query()</a>, and <a class="el" href="../../d9/ded/_string_format_8h_source.html#l00018">Acore::StringFormat()</a>.</p>

</div>
</div>
<a id="a842dffc4b06613d854d3f9724f79c159"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a842dffc4b06613d854d3f9724f79c159">&#9670;&nbsp;</a></span>PQuery() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<div class="memtemplate">
template&lt;typename Format , typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d04/_database_env_fwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::PQuery </td>
          <td>(</td>
          <td class="paramtype">Format &amp;&amp;&#160;</td>
          <td class="paramname"><em>sql</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Directly executes an SQL query in string format -with variable args- that will block the calling thread until finished. Returns reference counted auto pointer, no need for manual memory management in upper level code. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html#l00122">122</a> of file <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html">DatabaseWorkerPool.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/d7d/namespace_acore.html#a6f5584cc7346fd1972b3e8a74036467f">Acore::IsFormatEmptyOrNull</a>(sql))</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../db/d04/_database_env_fwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a>(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/d10/class_database_worker_pool.html#a324b275971f00c6e238343cd14618205">Query</a>(<a class="code" href="../../d1/d7d/namespace_acore.html#a20cdbbf36d71c2c01f75fd0e706a7b10">Acore::StringFormat</a>(std::forward&lt;Format&gt;(sql), std::forward&lt;Args&gt;(args)...).c_str(), conn);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/ded/_string_format_8h_source.html#l00046">Acore::IsFormatEmptyOrNull()</a>, <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00190">DatabaseWorkerPool&lt; T &gt;::Query()</a>, and <a class="el" href="../../d9/ded/_string_format_8h_source.html#l00018">Acore::StringFormat()</a>.</p>

</div>
</div>
<a id="a35d89f51675306362c9dcb7332b148d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35d89f51675306362c9dcb7332b148d5">&#9670;&nbsp;</a></span>PrepareStatements()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::PrepareStatements</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepares all prepared statements. </p>

<p class="definition">Definition at line <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00146">146</a> of file <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html">DatabaseWorkerPool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;{</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; connections : <a class="code" href="../../d7/d10/class_database_worker_pool.html#a75dd7ab7e3bc90f00c3f93e92c5540c9">_connections</a>)</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; connection : connections)</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            connection-&gt;LockIfReady();</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            <span class="keywordflow">if</span> (!connection-&gt;PrepareStatements())</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                connection-&gt;Unlock();</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                <a class="code" href="../../d7/d10/class_database_worker_pool.html#af5b0984b23e9ea23d93deaaea85e17df">Close</a>();</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                connection-&gt;Unlock();</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            <span class="keywordtype">size_t</span> <span class="keyword">const</span> preparedSize = connection-&gt;m_stmts.size();</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/d10/class_database_worker_pool.html#a2cd5af2c32c18ad91be9325bbac71d23">_preparedStatementSize</a>.size() &lt; preparedSize)</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                <a class="code" href="../../d7/d10/class_database_worker_pool.html#a2cd5af2c32c18ad91be9325bbac71d23">_preparedStatementSize</a>.resize(preparedSize);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160; </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; preparedSize; ++i)</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                <span class="comment">// already set by another connection</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                <span class="comment">// (each connection only has prepared statements of it&#39;s own type sync/async)</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d7/d10/class_database_worker_pool.html#a2cd5af2c32c18ad91be9325bbac71d23">_preparedStatementSize</a>[i] &gt; 0)</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../dc/d92/class_my_s_q_l_prepared_statement.html">MySQLPreparedStatement</a>* stmt = connection-&gt;m_stmts[i].get())</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <span class="keyword">const</span> paramCount = stmt-&gt;GetParameterCount();</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                    <span class="comment">// TC only supports uint8 indices.</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                    <a class="code" href="../../db/d16/_errors_8h.html#af343b20373ba49a92fce523e948f2ab3">ASSERT</a>(paramCount &lt; <a class="code" href="../../d9/df6/my__global_8h.html#affe776513b24d84b39af8ab0930fef7f">std::numeric_limits&lt;uint8&gt;::max</a>());</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                    <a class="code" href="../../d7/d10/class_database_worker_pool.html#a2cd5af2c32c18ad91be9325bbac71d23">_preparedStatementSize</a>[i] = <span class="keyword">static_cast&lt;</span><a class="code" href="../../d9/df6/my__global_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a><span class="keyword">&gt;</span>(paramCount);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;}</div>
<div class="ttc" id="a_errors_8h_html_af343b20373ba49a92fce523e948f2ab3"><div class="ttname"><a href="../../db/d16/_errors_8h.html#af343b20373ba49a92fce523e948f2ab3">ASSERT</a></div><div class="ttdeci">#define ASSERT</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/_errors_8h_source.html#l00058">Errors.h:58</a></div></div>
<div class="ttc" id="aclass_database_worker_pool_html_af5b0984b23e9ea23d93deaaea85e17df"><div class="ttname"><a href="../../d7/d10/class_database_worker_pool.html#af5b0984b23e9ea23d93deaaea85e17df">DatabaseWorkerPool::Close</a></div><div class="ttdeci">void Close()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df7/_database_worker_pool_8cpp_source.html#l00125">DatabaseWorkerPool.cpp:125</a></div></div>
<div class="ttc" id="aclass_my_s_q_l_prepared_statement_html"><div class="ttname"><a href="../../dc/d92/class_my_s_q_l_prepared_statement.html">MySQLPreparedStatement</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd7/_my_s_q_l_prepared_statement_8h_source.html#l00033">MySQLPreparedStatement.h:34</a></div></div>
<div class="ttc" id="amy__global_8h_html_affe776513b24d84b39af8ab0930fef7f"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a></div><div class="ttdeci">#define max(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l01386">my_global.h:1386</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/d16/_errors_8h_source.html#l00058">ASSERT</a>, and <a class="el" href="../../d9/df6/my__global_8h_source.html#l01386">max</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dfc/_database_loader_8cpp_source.html#l00035">DatabaseLoader::AddDatabase()</a>.</p>

</div>
</div>
<a id="a324b275971f00c6e238343cd14618205"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a324b275971f00c6e238343cd14618205">&#9670;&nbsp;</a></span>Query() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d04/_database_env_fwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::Query </td>
          <td>(</td>
          <td class="paramtype">char <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> *&#160;</td>
          <td class="paramname"><em>sql</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>connection</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Synchronous query (with resultset) methods. Directly executes an SQL query in string format that will block the calling thread until finished. Returns reference counted auto pointer, no need for manual memory management in upper level code. </p>

<p class="definition">Definition at line <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00190">190</a> of file <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html">DatabaseWorkerPool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;{</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">if</span> (!connection)</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        connection = <a class="code" href="../../d7/d10/class_database_worker_pool.html#ab52cd78dc0c7f757a0cf71156c9dabeb">GetFreeConnection</a>();</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="../../dc/df9/class_result_set.html">ResultSet</a>* <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = connection-&gt;Query(sql);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    connection-&gt;Unlock();</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> || !<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;GetRowCount() || !<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;NextRow())</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="keyword">delete</span> <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../db/d04/_database_env_fwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a>(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    }</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../db/d04/_database_env_fwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a>(<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;}</div>
<div class="ttc" id="aclass_result_set_html"><div class="ttname"><a href="../../dc/df9/class_result_set.html">ResultSet</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d66/_query_result_8h_source.html#l00025">QueryResult.h:26</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html#l00122">DatabaseWorkerPool&lt; T &gt;::PQuery()</a>, and <a class="el" href="../../db/d70/_d_b_updater_8cpp_source.html#l00420">DBUpdater&lt; T &gt;::Retrieve()</a>.</p>

</div>
</div>
<a id="a5af178c6d30a31bb3f60328f03ecb743"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5af178c6d30a31bb3f60328f03ecb743">&#9670;&nbsp;</a></span>Query() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d04/_database_env_fwd_8h.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a> <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::Query </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d37/class_prepared_statement.html">PreparedStatement</a>&lt; T &gt; *&#160;</td>
          <td class="paramname"><em>stmt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Directly executes an SQL query in prepared format that will block the calling thread until finished. Returns reference counted auto pointer, no need for manual memory management in upper level code. Statement must be prepared with CONNECTION_SYNCH flag. </p>
<p>Delete proxy-class. Not needed anymore</p>

<p class="definition">Definition at line <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00207">207</a> of file <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html">DatabaseWorkerPool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;{</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keyword">auto</span> connection = <a class="code" href="../../d7/d10/class_database_worker_pool.html#ab52cd78dc0c7f757a0cf71156c9dabeb">GetFreeConnection</a>();</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <a class="code" href="../../d4/de3/class_prepared_result_set.html">PreparedResultSet</a>* <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> = connection-&gt;Query(stmt);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    connection-&gt;Unlock();</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keyword">delete</span> stmt;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> || !<a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>-&gt;GetRowCount())</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <span class="keyword">delete</span> <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../db/d04/_database_env_fwd_8h.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a>(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../db/d04/_database_env_fwd_8h.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a>(<a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;}</div>
<div class="ttc" id="a_database_env_fwd_8h_html_ac6110b8d867b5f84f677555d07037acb"><div class="ttname"><a href="../../db/d04/_database_env_fwd_8h.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a></div><div class="ttdeci">std::shared_ptr&lt; PreparedResultSet &gt; PreparedQueryResult</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d04/_database_env_fwd_8h_source.html#l00046">DatabaseEnvFwd.h:46</a></div></div>
<div class="ttc" id="aclass_prepared_result_set_html"><div class="ttname"><a href="../../d4/de3/class_prepared_result_set.html">PreparedResultSet</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d66/_query_result_8h_source.html#l00054">QueryResult.h:55</a></div></div>
<div class="ttc" id="aprof_8c_html_a339672ff94e6199019102f50d317c3d7"><div class="ttname"><a href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a></div><div class="ttdeci">int ret</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d31/prof_8c_source.html#l00281">prof.c:281</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../df/d31/prof_8c_source.html#l00281">ret</a>.</p>

</div>
</div>
<a id="a4411d9d2e525efc188a4e526de4c941c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4411d9d2e525efc188a4e526de4c941c">&#9670;&nbsp;</a></span>QueueSize()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::QueueSize</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00434">434</a> of file <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html">DatabaseWorkerPool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;{</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d10/class_database_worker_pool.html#af429357afc50f4bea5abfc1dd3f17c86">_queue</a>-&gt;Size();</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6b3f82bd4481727242f31e44761a5632"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b3f82bd4481727242f31e44761a5632">&#9670;&nbsp;</a></span>SetConnectionInfo()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::SetConnectionInfo </td>
          <td>(</td>
          <td class="paramtype">std::string <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> &amp;&#160;</td>
          <td class="paramname"><em>infoString</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/df6/my__global_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a>&#160;</td>
          <td class="paramname"><em>asyncThreads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/df6/my__global_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a>&#160;</td>
          <td class="paramname"><em>synchThreads</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html#l00087">87</a> of file <a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html">DatabaseWorkerPool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;{</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="../../d7/d10/class_database_worker_pool.html#a4b545f574e6c28675137a4735ff9d070">_connectionInfo</a> = std::make_unique&lt;MySQLConnectionInfo&gt;(infoString);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <a class="code" href="../../d7/d10/class_database_worker_pool.html#af3dca707976ef4b8ed3c00d6b100ea88">_async_threads</a> = asyncThreads;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <a class="code" href="../../d7/d10/class_database_worker_pool.html#a46e089fb9340e81cb4566202c132fa76">_synch_threads</a> = synchThreads;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d0/dfc/_database_loader_8cpp_source.html#l00035">DatabaseLoader::AddDatabase()</a>.</p>

</div>
</div>
<a id="af0758a82c0a5c89be9d593db741821b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0758a82c0a5c89be9d593db741821b8">&#9670;&nbsp;</a></span>WarnAboutSyncQueries()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::WarnAboutSyncQueries </td>
          <td>(</td>
          <td class="paramtype">[[maybe_unused] ] <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>warn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html#l00209">209</a> of file <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html">DatabaseWorkerPool.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="preprocessor">#ifdef ACORE_DEBUG</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        _warnSyncQueries = warn;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="af3dca707976ef4b8ed3c00d6b100ea88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3dca707976ef4b8ed3c00d6b100ea88">&#9670;&nbsp;</a></span>_async_threads</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::_async_threads</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html#l00236">236</a> of file <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html">DatabaseWorkerPool.h</a>.</p>

</div>
</div>
<a id="a4b545f574e6c28675137a4735ff9d070"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b545f574e6c28675137a4735ff9d070">&#9670;&nbsp;</a></span>_connectionInfo</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="../../d4/d41/struct_my_s_q_l_connection_info.html">MySQLConnectionInfo</a>&gt; <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::_connectionInfo</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html#l00234">234</a> of file <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html">DatabaseWorkerPool.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html#l00060">DatabaseWorkerPool&lt; T &gt;::GetConnectionInfo()</a>.</p>

</div>
</div>
<a id="a75dd7ab7e3bc90f00c3f93e92c5540c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75dd7ab7e3bc90f00c3f93e92c5540c9">&#9670;&nbsp;</a></span>_connections</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d17/lf_8h.html#ac47d04d1cac123a9779b8c943cc4d269">std::array</a>&lt;std::vector&lt;std::unique_ptr&lt;T&gt; &gt;, <a class="el" href="../../d7/d10/class_database_worker_pool.html#ae15d4d3ffe735226b82d1dcc2cdc65e1a7a372e1b449f5a3ecaf299ee52da074a">IDX_SIZE</a>&gt; <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::_connections</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html#l00233">233</a> of file <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html">DatabaseWorkerPool.h</a>.</p>

</div>
</div>
<a id="a2cd5af2c32c18ad91be9325bbac71d23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cd5af2c32c18ad91be9325bbac71d23">&#9670;&nbsp;</a></span>_preparedStatementSize</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../d9/df6/my__global_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&gt; <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::_preparedStatementSize</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html#l00235">235</a> of file <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html">DatabaseWorkerPool.h</a>.</p>

</div>
</div>
<a id="af429357afc50f4bea5abfc1dd3f17c86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af429357afc50f4bea5abfc1dd3f17c86">&#9670;&nbsp;</a></span>_queue</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="../../d3/d8a/class_producer_consumer_queue.html">ProducerConsumerQueue</a>&lt;<a class="el" href="../../df/dc3/class_s_q_l_operation.html">SQLOperation</a>*&gt; &gt; <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::_queue</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Queue shared by async worker threads. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html#l00232">232</a> of file <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html">DatabaseWorkerPool.h</a>.</p>

</div>
</div>
<a id="a46e089fb9340e81cb4566202c132fa76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46e089fb9340e81cb4566202c132fa76">&#9670;&nbsp;</a></span>_synch_threads</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="el" href="../../d7/d10/class_database_worker_pool.html">DatabaseWorkerPool</a>&lt; T &gt;::_synch_threads</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html#l00236">236</a> of file <a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html">DatabaseWorkerPool.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/server/database/Database/<a class="el" href="../../d0/d04/_database_loader_8h_source.html">DatabaseLoader.h</a></li>
<li>src/server/database/Database/<a class="el" href="../../d1/dcd/_database_worker_pool_8h_source.html">DatabaseWorkerPool.h</a></li>
<li>src/server/database/Database/<a class="el" href="../../db/df7/_database_worker_pool_8cpp_source.html">DatabaseWorkerPool.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
