<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Azerotcore-wotlk: src/server/game/Spells/SpellMgr.cpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Azerotcore-wotlk
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_075bb3ff235063c77951cd176d15a741.html">server</a></li><li class="navelem"><a class="el" href="../../dir_6f9eed72e6ac35fa9b9946c34be827b2.html">game</a></li><li class="navelem"><a class="el" href="../../dir_28109df01c3e8d9e4b0f50ca11224ae3.html">Spells</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">SpellMgr.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../db/dad/_spell_mgr_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * This file is part of the AzerothCore Project. See AUTHORS file for Copyright information</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * This program is free software; you can redistribute it and/or modify it</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * under the terms of the GNU Affero General Public License as published by the</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * Free Software Foundation; either version 3 of the License, or (at your</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * option) any later version.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * This program is distributed in the hope that it will be useful, but WITHOUT</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * more details.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License along</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; </div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/df4/_battlefield_mgr_8h.html">BattlefieldMgr.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/dbf/_battlefield_w_g_8h.html">BattlefieldWG.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/daa/_battleground_i_c_8h.html">BattlegroundIC.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/dcc/_battleground_mgr_8h.html">BattlegroundMgr.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/d55/_chat_8h.html">Chat.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/dc7/_d_b_c_stores_8h.html">DBCStores.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d05/_game_graveyard_8h.html">GameGraveyard.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../da/d42/_instance_script_8h.html">InstanceScript.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/dca/_map_mgr_8h.html">MapMgr.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/d77/_object_mgr_8h.html">ObjectMgr.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d39/_player_8h.html">Player.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d0b/_shared_defines_8h.html">SharedDefines.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/dfa/_spell_8h.html">Spell.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html">SpellAuraDefines.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/dcf/_spell_auras_8h.html">SpellAuras.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/d70/_spell_info_8h.html">SpellInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d75/_spell_mgr_8h.html">SpellMgr.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d86/_world_8h.html">World.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="../../db/dad/_spell_mgr_8cpp.html#a09c4e23bd85fab812b67beafbbf1b7b3">   37</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a09c4e23bd85fab812b67beafbbf1b7b3">IsPrimaryProfessionSkill</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> skill)</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;{</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <a class="code" href="../../df/da3/struct_skill_line_entry.html">SkillLineEntry</a> <span class="keyword">const</span>* pSkill = <a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#aedc6cec6f0d6c676af5da10015f3f1ab">sSkillLineStore</a>.LookupEntry(skill);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keywordflow">if</span> (!pSkill)</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keywordflow">if</span> (pSkill-&gt;<a class="code" href="../../df/da3/struct_skill_line_entry.html#abf285e69e8e2a90626a157cb0c50d158">categoryId</a> != <a class="code" href="../../df/d0b/_shared_defines_8h.html#a347be03c72c20860f46f78c9bed72ad4a88abcdba2a78310c025a6414b68b4cf8">SKILL_CATEGORY_PROFESSION</a>)</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;}</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="../../db/dad/_spell_mgr_8cpp.html#a18102741b602d3b4473f75d4f619a09b">   49</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a18102741b602d3b4473f75d4f619a09b">IsPartOfSkillLine</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> skillId, <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId)</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;{</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ac821b7d2d8a9effd8fafef038528e877">SkillLineAbilityMapBounds</a> skillBounds = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a>-&gt;GetSkillLineAbilityMapBounds(spellId);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">for</span> (SkillLineAbilityMap::const_iterator itr = skillBounds.first; itr != skillBounds.second; ++itr)</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <span class="keywordflow">if</span> (itr-&gt;second-&gt;SkillLine == skillId)</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;}</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="../../db/dad/_spell_mgr_8cpp.html#a35697cceaf39daf069d06c53e8e3cdf7">   59</a></span>&#160;<a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50">DiminishingGroup</a> <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a35697cceaf39daf069d06c53e8e3cdf7">GetDiminishingReturnsGroupForSpell</a>(<a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* spellproto, <span class="keywordtype">bool</span> triggered)</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;{</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#adef74790281b92d72ac2c2118a665096">IsPositive</a>())</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a463a6938a384ecb8e81ea00f8a66a85c">DIMINISHING_NONE</a>;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="../../d1/d22/_d_b_c_structure_8h.html#ac5733f5b58bf8a23a1919a005b5ec895">MAX_SPELL_EFFECTS</a>; ++i)</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    {</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[i].ApplyAuraName == <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a9a82bcb2293394d7dc4a105cc52f8aa1">SPELL_AURA_MOD_TAUNT</a>)</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aaa24e48f673552930ff49659db1a4d1c">DIMINISHING_TAUNT</a>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="comment">// Explicit Diminishing Groups</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">switch</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#af6ec577353f7d3cc59badd7d332153b0">SpellFamilyName</a>)</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba0ebbb6206eb92cdc484b416eb6f41743">SPELLFAMILY_GENERIC</a>:</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                <span class="comment">// Pet charge effects (Infernal Awakening, Demon Charge)</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a78bbf3a5574a188116846fbc77a57768">SpellVisual</a>[0] == 2816 &amp;&amp; spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#ac1a82f9330481616b4b87ed9eff0f785">SpellIconID</a> == 15)</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a2db57ad0fc1c305b8468ec2357ed215f">DIMINISHING_CONTROLLED_STUN</a>;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                <span class="comment">// Gnaw</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a> == 47481)</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a2db57ad0fc1c305b8468ec2357ed215f">DIMINISHING_CONTROLLED_STUN</a>;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                <span class="comment">// Screams of the Past</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a> == 7074)</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a463a6938a384ecb8e81ea00f8a66a85c">DIMINISHING_NONE</a>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="comment">// Event spells</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1baf6b533c234808dd17936190a630db749">SPELLFAMILY_UNK1</a>:</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a463a6938a384ecb8e81ea00f8a66a85c">DIMINISHING_NONE</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba0e4b88db8be01ea5d62cc08d07b28aae">SPELLFAMILY_MAGE</a>:</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            {</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                <span class="comment">// Frostbite</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a> == 12494)</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aa9bb2f9f13e24e44991add613a28aa77">DIMINISHING_ROOT</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                <span class="comment">// Shattered Barrier</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a> == 55080)</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aa9bb2f9f13e24e44991add613a28aa77">DIMINISHING_ROOT</a>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                <span class="comment">// Deep Freeze</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#ac1a82f9330481616b4b87ed9eff0f785">SpellIconID</a> == 2939 &amp;&amp; spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a78bbf3a5574a188116846fbc77a57768">SpellVisual</a>[0] == 9963)</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a2db57ad0fc1c305b8468ec2357ed215f">DIMINISHING_CONTROLLED_STUN</a>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                <span class="comment">// Frost Nova / Freeze (Water Elemental)</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#ac1a82f9330481616b4b87ed9eff0f785">SpellIconID</a> == 193)</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a44f5b5c7e71609c05c0f192acf390fb7">DIMINISHING_CONTROLLED_ROOT</a>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                <span class="comment">// Dragon&#39;s Breath</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[0] &amp; 0x800000)</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a2d8c244c6cd18d08a526f2b6c0f253aa">DIMINISHING_DRAGONS_BREATH</a>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba52acbcf14a96b5ed01b8a43052a26a11">SPELLFAMILY_WARRIOR</a>:</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                <span class="comment">// Hamstring - limit duration to 10s in PvP</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[0] &amp; 0x2)</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aa58336ee2642bf195dc33fcf28ef40f3">DIMINISHING_LIMITONLY</a>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                <span class="comment">// Improved Hamstring</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a> == 23694)</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aa9bb2f9f13e24e44991add613a28aa77">DIMINISHING_ROOT</a>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                <span class="comment">// Charge Stun (own diminishing)</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[0] &amp; 0x01000000)</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50ab5fa0e031879f3e383c9c5a590248ff1">DIMINISHING_CHARGE</a>;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            }</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba0a134bc75d430da10f6c1df4977c29cf">SPELLFAMILY_WARLOCK</a>:</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                <span class="comment">// Curses/etc</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                <span class="keywordflow">if</span> ((spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[0] &amp; 0x80000000) || (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[1] &amp; 0x200))</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aa58336ee2642bf195dc33fcf28ef40f3">DIMINISHING_LIMITONLY</a>;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                <span class="comment">// Seduction</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[1] &amp; 0x10000000)</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a71127e76275e317cdccf66181e9cdbd9">DIMINISHING_FEAR</a>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1bac3788ce010075b8bd4e6083638d8cd40">SPELLFAMILY_DRUID</a>:</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                <span class="comment">// Pounce</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[0] &amp; 0x20000)</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aa74aa76f20fcd45e7727a1b904778dae">DIMINISHING_OPENING_STUN</a>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                <span class="comment">// Cyclone</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[1] &amp; 0x20)</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a34a7786d081ed8a70393dfb02903da93">DIMINISHING_CYCLONE</a>;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                <span class="comment">// Entangling Roots</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                <span class="comment">// Nature&#39;s Grasp</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[0] &amp; 0x00000200)</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a44f5b5c7e71609c05c0f192acf390fb7">DIMINISHING_CONTROLLED_ROOT</a>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                <span class="comment">// Faerie Fire</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[0] &amp; 0x400)</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aa58336ee2642bf195dc33fcf28ef40f3">DIMINISHING_LIMITONLY</a>;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                <span class="comment">// Feral Charge Root Effect</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a> == 45334)</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a463a6938a384ecb8e81ea00f8a66a85c">DIMINISHING_NONE</a>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            }</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba9160b2e3a87a908af25c9a594295c0c1">SPELLFAMILY_ROGUE</a>:</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                <span class="comment">// Gouge</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[0] &amp; 0x8)</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aa92695cb352ab09051b321377896120f">DIMINISHING_DISORIENT</a>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                <span class="comment">// Blind</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[0] &amp; 0x1000000)</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a71127e76275e317cdccf66181e9cdbd9">DIMINISHING_FEAR</a>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                <span class="comment">// Cheap Shot</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[0] &amp; 0x400)</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aa74aa76f20fcd45e7727a1b904778dae">DIMINISHING_OPENING_STUN</a>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                <span class="comment">// Crippling poison - Limit to 10 seconds in PvP (No SpellFamilyFlags)</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#ac1a82f9330481616b4b87ed9eff0f785">SpellIconID</a> == 163)</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aa58336ee2642bf195dc33fcf28ef40f3">DIMINISHING_LIMITONLY</a>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba66df9b34a3b922a8242d3dfb74494026">SPELLFAMILY_HUNTER</a>:</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                <span class="comment">// Hunter&#39;s Mark</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                <span class="keywordflow">if</span> ((spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[0] &amp; 0x400) &amp;&amp; spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#ac1a82f9330481616b4b87ed9eff0f785">SpellIconID</a> == 538)</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aa58336ee2642bf195dc33fcf28ef40f3">DIMINISHING_LIMITONLY</a>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                <span class="comment">// Scatter Shot (own diminishing)</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[0] &amp; 0x40000) &amp;&amp; spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#ac1a82f9330481616b4b87ed9eff0f785">SpellIconID</a> == 132)</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a754778cfd76b0654783d77e40e245ea4">DIMINISHING_SCATTER_SHOT</a>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                <span class="comment">// Entrapment (own diminishing)</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a78bbf3a5574a188116846fbc77a57768">SpellVisual</a>[0] == 7484 &amp;&amp; spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#ac1a82f9330481616b4b87ed9eff0f785">SpellIconID</a> == 20)</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a6721c561fd23888777756815e3b724fc">DIMINISHING_ENTRAPMENT</a>;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                <span class="comment">// Wyvern Sting mechanic is MECHANIC_SLEEP but the diminishing is DIMINISHING_DISORIENT</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[1] &amp; 0x1000) &amp;&amp; spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#ac1a82f9330481616b4b87ed9eff0f785">SpellIconID</a> == 1721)</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aa92695cb352ab09051b321377896120f">DIMINISHING_DISORIENT</a>;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                <span class="comment">// Freezing Arrow</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[0] &amp; 0x8)</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aa92695cb352ab09051b321377896120f">DIMINISHING_DISORIENT</a>;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba573f9ad8924e7632156291378448e742">SPELLFAMILY_PALADIN</a>:</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                <span class="comment">// Judgement of Justice - limit duration to 10s in PvP</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[0] &amp; 0x100000)</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aa58336ee2642bf195dc33fcf28ef40f3">DIMINISHING_LIMITONLY</a>;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                <span class="comment">// Turn Evil</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[1] &amp; 0x804000) &amp;&amp; spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#ac1a82f9330481616b4b87ed9eff0f785">SpellIconID</a> == 309)</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a71127e76275e317cdccf66181e9cdbd9">DIMINISHING_FEAR</a>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba9c8a9c6e102c760263471a93e58e80ea">SPELLFAMILY_SHAMAN</a>:</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                <span class="comment">// Storm, Earth and Fire - Earthgrab</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[2] &amp; 0x4000)</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a463a6938a384ecb8e81ea00f8a66a85c">DIMINISHING_NONE</a>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1badc34b27f2cd523716d80c51d4e1d6f02">SPELLFAMILY_DEATHKNIGHT</a>:</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                <span class="comment">// Hungering Cold (no flags)</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#ac1a82f9330481616b4b87ed9eff0f785">SpellIconID</a> == 2797)</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aa92695cb352ab09051b321377896120f">DIMINISHING_DISORIENT</a>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                <span class="comment">// Mark of Blood</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[0] &amp; 0x10000000) &amp;&amp; spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#ac1a82f9330481616b4b87ed9eff0f785">SpellIconID</a> == 2285)</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aa58336ee2642bf195dc33fcf28ef40f3">DIMINISHING_LIMITONLY</a>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            }</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="comment">// Lastly - Set diminishing depending on mechanic</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> mechanic = spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#abed64acc9b4dcfa1c15888aa76137175">GetAllEffectsMechanicMask</a>();</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">if</span> (mechanic &amp; (1 &lt;&lt; <a class="code" href="../../df/d0b/_shared_defines_8h.html#a8fe6a763d72d84ded23cec01c772f7ada655f913cba9a74b4321f72f001ca174e">MECHANIC_CHARM</a>))</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a034d9d8e71cd80fce5f53e79df9111e5">DIMINISHING_MIND_CONTROL</a>;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">if</span> (mechanic &amp; (1 &lt;&lt; <a class="code" href="../../df/d0b/_shared_defines_8h.html#a8fe6a763d72d84ded23cec01c772f7adaca6c784aae46996e1ab07dce55ae4170">MECHANIC_SILENCE</a>))</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50ab78e620cce33122d5aebe69fc83a1bba">DIMINISHING_SILENCE</a>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">if</span> (mechanic &amp; (1 &lt;&lt; <a class="code" href="../../df/d0b/_shared_defines_8h.html#a8fe6a763d72d84ded23cec01c772f7ada94162e45f3c41a104fa71a593b39a926">MECHANIC_SLEEP</a>))</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a4d0681bb7b24d089ddb622d336444303">DIMINISHING_SLEEP</a>;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">if</span> (mechanic &amp; ((1 &lt;&lt; <a class="code" href="../../df/d0b/_shared_defines_8h.html#a8fe6a763d72d84ded23cec01c772f7adad9aacefd364ef80ddcf9f0caaf7bc930">MECHANIC_SAPPED</a>) | (1 &lt;&lt; <a class="code" href="../../df/d0b/_shared_defines_8h.html#a8fe6a763d72d84ded23cec01c772f7ada9dd2384218d039987359150d147d3263">MECHANIC_POLYMORPH</a>) | (1 &lt;&lt; <a class="code" href="../../df/d0b/_shared_defines_8h.html#a8fe6a763d72d84ded23cec01c772f7adad1d6dcbfe100975b5e19ea7037126fb2">MECHANIC_SHACKLE</a>)))</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aa92695cb352ab09051b321377896120f">DIMINISHING_DISORIENT</a>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="comment">// Mechanic Knockout, except Blast Wave</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">if</span> (mechanic &amp; (1 &lt;&lt; <a class="code" href="../../df/d0b/_shared_defines_8h.html#a8fe6a763d72d84ded23cec01c772f7ada5bd5524686a4163521296cb159b22363">MECHANIC_KNOCKOUT</a>) &amp;&amp; spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#ac1a82f9330481616b4b87ed9eff0f785">SpellIconID</a> != 292)</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aa92695cb352ab09051b321377896120f">DIMINISHING_DISORIENT</a>;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">if</span> (mechanic &amp; (1 &lt;&lt; <a class="code" href="../../df/d0b/_shared_defines_8h.html#a8fe6a763d72d84ded23cec01c772f7ada109b62f5cd355715776e4e53f937ea3c">MECHANIC_DISARM</a>))</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a6445d72b2e451276105af5ed8eb27e85">DIMINISHING_DISARM</a>;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordflow">if</span> (mechanic &amp; (1 &lt;&lt; <a class="code" href="../../df/d0b/_shared_defines_8h.html#a8fe6a763d72d84ded23cec01c772f7ada3f5a5b15800c7e6d11e1c1482fc53f96">MECHANIC_FEAR</a>))</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a71127e76275e317cdccf66181e9cdbd9">DIMINISHING_FEAR</a>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">if</span> (mechanic &amp; (1 &lt;&lt; <a class="code" href="../../df/d0b/_shared_defines_8h.html#a8fe6a763d72d84ded23cec01c772f7ada77412c9a71759f2e8b7f3c629681be4d">MECHANIC_STUN</a>))</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="keywordflow">return</span> triggered ? <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a608617f91017e02ba7d290a070528102">DIMINISHING_STUN</a> : <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a2db57ad0fc1c305b8468ec2357ed215f">DIMINISHING_CONTROLLED_STUN</a>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">if</span> (mechanic &amp; (1 &lt;&lt; <a class="code" href="../../df/d0b/_shared_defines_8h.html#a8fe6a763d72d84ded23cec01c772f7adaa823d24ef2d29559df9cd8de9f0c071a">MECHANIC_BANISH</a>))</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a392f0f3caa4721c178881a2c6593e24e">DIMINISHING_BANISH</a>;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">if</span> (mechanic &amp; (1 &lt;&lt; <a class="code" href="../../df/d0b/_shared_defines_8h.html#a8fe6a763d72d84ded23cec01c772f7ada8edb909788821535a07afdb9bf8957a8">MECHANIC_ROOT</a>))</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="keywordflow">return</span> triggered ? <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aa9bb2f9f13e24e44991add613a28aa77">DIMINISHING_ROOT</a> : <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a44f5b5c7e71609c05c0f192acf390fb7">DIMINISHING_CONTROLLED_ROOT</a>;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">if</span> (mechanic &amp; (1 &lt;&lt; <a class="code" href="../../df/d0b/_shared_defines_8h.html#a8fe6a763d72d84ded23cec01c772f7adaedfaf974478ae49d77b1d7ffd7bbafff">MECHANIC_HORROR</a>))</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a152a3b391c6c966c8f816306edbd9351">DIMINISHING_HORROR</a>;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a463a6938a384ecb8e81ea00f8a66a85c">DIMINISHING_NONE</a>;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;}</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="../../db/dad/_spell_mgr_8cpp.html#ab0fdc6c7b1e9317d6f6c0480d734b4f1">  246</a></span>&#160;<a class="code" href="../../df/d0b/_shared_defines_8h.html#acc1ff89f53e83d6c8146a6989a5cba5b">DiminishingReturnsType</a> <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#ab0fdc6c7b1e9317d6f6c0480d734b4f1">GetDiminishingReturnsGroupType</a>(<a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50">DiminishingGroup</a> group)</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;{</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordflow">switch</span> (group)</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aaa24e48f673552930ff49659db1a4d1c">DIMINISHING_TAUNT</a>:</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a2db57ad0fc1c305b8468ec2357ed215f">DIMINISHING_CONTROLLED_STUN</a>:</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a608617f91017e02ba7d290a070528102">DIMINISHING_STUN</a>:</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aa74aa76f20fcd45e7727a1b904778dae">DIMINISHING_OPENING_STUN</a>:</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a34a7786d081ed8a70393dfb02903da93">DIMINISHING_CYCLONE</a>:</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50ab5fa0e031879f3e383c9c5a590248ff1">DIMINISHING_CHARGE</a>:</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#acc1ff89f53e83d6c8146a6989a5cba5bad20bd308598b8e1f46db4435e2843180">DRTYPE_ALL</a>;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aa58336ee2642bf195dc33fcf28ef40f3">DIMINISHING_LIMITONLY</a>:</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a463a6938a384ecb8e81ea00f8a66a85c">DIMINISHING_NONE</a>:</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#acc1ff89f53e83d6c8146a6989a5cba5ba1f86ae6ed27da5cb0cf59b6510abb5ea">DRTYPE_NONE</a>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#acc1ff89f53e83d6c8146a6989a5cba5ba6981fe2d29b2010184ef7dcca4f504ed">DRTYPE_PLAYER</a>;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;}</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="../../db/dad/_spell_mgr_8cpp.html#ad621262d491c800fb5ddd016250dd46f">  265</a></span>&#160;<a class="code" href="../../d5/d32/_unit_8h.html#aa8baff9cbdf61bbb483c1e7ae739f930">DiminishingLevels</a> <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#ad621262d491c800fb5ddd016250dd46f">GetDiminishingReturnsMaxLevel</a>(<a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50">DiminishingGroup</a> group)</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;{</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">switch</span> (group)</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aaa24e48f673552930ff49659db1a4d1c">DIMINISHING_TAUNT</a>:</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d5/d32/_unit_8h.html#aa8baff9cbdf61bbb483c1e7ae739f930a955f8a1e9b85ae1f13831001779d0dc9">DIMINISHING_LEVEL_TAUNT_IMMUNE</a>;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d5/d32/_unit_8h.html#aa8baff9cbdf61bbb483c1e7ae739f930a753de913b5eed5c74aaa9d3b567a3980">DIMINISHING_LEVEL_IMMUNE</a>;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    }</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;}</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="../../db/dad/_spell_mgr_8cpp.html#a2ba27d428865ac3f87bf6f6843271d3f">  276</a></span>&#160;<a class="code" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a2ba27d428865ac3f87bf6f6843271d3f">GetDiminishingReturnsLimitDuration</a>(<a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50">DiminishingGroup</a> group, <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* spellproto)</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;{</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a423a80c889a3456a2b55e0e9c22ad060">IsDiminishingReturnsGroupDurationLimited</a>(group))</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="comment">// Explicit diminishing duration</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">switch</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#af6ec577353f7d3cc59badd7d332153b0">SpellFamilyName</a>)</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1bac3788ce010075b8bd4e6083638d8cd40">SPELLFAMILY_DRUID</a>:</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                <span class="comment">// Faerie Fire - limit to 40 seconds in PvP (3.1)</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[0] &amp; 0x400)</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                    <span class="keywordflow">return</span> 40 * <a class="code" href="../../db/d1f/_common_8h.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba66df9b34a3b922a8242d3dfb74494026">SPELLFAMILY_HUNTER</a>:</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            {</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                <span class="comment">// Wyvern Sting</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[1] &amp; 0x1000)</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                    <span class="keywordflow">return</span> 6 * <a class="code" href="../../db/d1f/_common_8h.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a>;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                <span class="comment">// Hunter&#39;s Mark</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[0] &amp; 0x400)</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                    <span class="keywordflow">return</span> 120 * <a class="code" href="../../db/d1f/_common_8h.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            }</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba573f9ad8924e7632156291378448e742">SPELLFAMILY_PALADIN</a>:</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                <span class="comment">// Repentance - limit to 6 seconds in PvP</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[0] &amp; 0x4)</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                    <span class="keywordflow">return</span> 6 * <a class="code" href="../../db/d1f/_common_8h.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a>;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            }</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba0a134bc75d430da10f6c1df4977c29cf">SPELLFAMILY_WARLOCK</a>:</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                <span class="comment">// Banish - limit to 6 seconds in PvP</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[1] &amp; 0x8000000)</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                    <span class="keywordflow">return</span> 6 * <a class="code" href="../../db/d1f/_common_8h.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                <span class="comment">// Curse of Tongues - limit to 12 seconds in PvP</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[2] &amp; 0x800)</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                    <span class="keywordflow">return</span> 12 * <a class="code" href="../../db/d1f/_common_8h.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a>;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                <span class="comment">// Curse of Elements - limit to 120 seconds in PvP</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[1] &amp; 0x200)</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                    <span class="keywordflow">return</span> 120 * <a class="code" href="../../db/d1f/_common_8h.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a>;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                <span class="comment">// Curse of Exhaustion</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (spellproto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[0] &amp; 0x400000)</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                    <span class="keywordflow">return</span> 12 * <a class="code" href="../../db/d1f/_common_8h.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a>;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    }</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordflow">return</span> 10 * <a class="code" href="../../db/d1f/_common_8h.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a>;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;}</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160; </div>
<div class="line"><a name="l00331"></a><span class="lineno"><a class="line" href="../../db/dad/_spell_mgr_8cpp.html#a423a80c889a3456a2b55e0e9c22ad060">  331</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a423a80c889a3456a2b55e0e9c22ad060">IsDiminishingReturnsGroupDurationLimited</a>(<a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50">DiminishingGroup</a> group)</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;{</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">switch</span> (group)</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a392f0f3caa4721c178881a2c6593e24e">DIMINISHING_BANISH</a>:</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a2db57ad0fc1c305b8468ec2357ed215f">DIMINISHING_CONTROLLED_STUN</a>:</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a44f5b5c7e71609c05c0f192acf390fb7">DIMINISHING_CONTROLLED_ROOT</a>:</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a34a7786d081ed8a70393dfb02903da93">DIMINISHING_CYCLONE</a>:</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aa92695cb352ab09051b321377896120f">DIMINISHING_DISORIENT</a>:</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a6721c561fd23888777756815e3b724fc">DIMINISHING_ENTRAPMENT</a>:</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a71127e76275e317cdccf66181e9cdbd9">DIMINISHING_FEAR</a>:</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a152a3b391c6c966c8f816306edbd9351">DIMINISHING_HORROR</a>:</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a034d9d8e71cd80fce5f53e79df9111e5">DIMINISHING_MIND_CONTROL</a>:</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aa74aa76f20fcd45e7727a1b904778dae">DIMINISHING_OPENING_STUN</a>:</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aa9bb2f9f13e24e44991add613a28aa77">DIMINISHING_ROOT</a>:</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a608617f91017e02ba7d290a070528102">DIMINISHING_STUN</a>:</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a4d0681bb7b24d089ddb622d336444303">DIMINISHING_SLEEP</a>:</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aa58336ee2642bf195dc33fcf28ef40f3">DIMINISHING_LIMITONLY</a>:</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    }</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;}</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#acde17452bf5b457f00aa5f7cb4b597b4">  355</a></span>&#160;<a class="code" href="../../dc/d9a/class_spell_mgr.html#acde17452bf5b457f00aa5f7cb4b597b4">SpellMgr::SpellMgr</a>()</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;{</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;}</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; </div>
<div class="line"><a name="l00359"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#af0986a6cd3ad91df5cb800d7a5d95b34">  359</a></span>&#160;<a class="code" href="../../dc/d9a/class_spell_mgr.html#af0986a6cd3ad91df5cb800d7a5d95b34">SpellMgr::~SpellMgr</a>()</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;{</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <a class="code" href="../../dc/d9a/class_spell_mgr.html#a2b2cc6f3ee5006297dff23eb8567db29">UnloadSpellInfoStore</a>();</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;}</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a3140ce48682bc3540bac63cace6b8fb2">  364</a></span>&#160;<a class="code" href="../../dc/d9a/class_spell_mgr.html">SpellMgr</a>* <a class="code" href="../../dc/d9a/class_spell_mgr.html#a3140ce48682bc3540bac63cace6b8fb2">SpellMgr::instance</a>()</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;{</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keyword">static</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html">SpellMgr</a> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a3140ce48682bc3540bac63cace6b8fb2">instance</a>;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordflow">return</span> &amp;<a class="code" href="../../dc/d9a/class_spell_mgr.html#a3140ce48682bc3540bac63cace6b8fb2">instance</a>;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;}</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a1e15d35af8a99f10e6b6413308a93e95">  371</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a1e15d35af8a99f10e6b6413308a93e95">SpellMgr::ComputeIsSpellValid</a>(<a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo, <span class="keywordtype">bool</span> msg)</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;{</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="comment">// not exist</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160; </div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordtype">bool</span> need_check_reagents = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="comment">// check effects</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="../../d1/d22/_d_b_c_structure_8h.html#ac5733f5b58bf8a23a1919a005b5ec895">MAX_SPELL_EFFECTS</a>; ++i)</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="keywordflow">switch</span> (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[i].Effect)</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            <span class="comment">// craft spell for crafting non-existed item (break client recipes list show)</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97af5abf258b008fbff818ad32ac7a95fbb">SPELL_EFFECT_CREATE_ITEM</a>:</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a98bf198da925a04fa041c7d82114b626">SPELL_EFFECT_CREATE_ITEM_2</a>:</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                    <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[i].ItemType == 0)</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                    {</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                        <span class="comment">// skip auto-loot crafting spells, its not need explicit item info (but have special fake items sometime)</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                        <span class="keywordflow">if</span> (!spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a4e28f041950aff97f628956390a51616">IsLootCrafting</a>())</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                        {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                            <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Craft spell %u not have create item entry.&quot;</span>, spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                        }</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                    }</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                    <span class="comment">// also possible IsLootCrafting case but fake item must exist anyway</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplate(spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[i].ItemType))</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                    {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Craft spell %u create not-exist in DB item (Entry: %u) and then...&quot;</span>, spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>, spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[i].ItemType);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                    }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                    need_check_reagents = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                }</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97acef490c9f3480852d33dbbec7727fa7f">SPELL_EFFECT_LEARN_SPELL</a>:</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                    <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo2 = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a>-&gt;GetSpellInfo(spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[i].TriggerSpell);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                    <span class="keywordflow">if</span> (!<a class="code" href="../../dc/d9a/class_spell_mgr.html#a1e15d35af8a99f10e6b6413308a93e95">ComputeIsSpellValid</a>(spellInfo2, msg))</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                    {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u learn to invalid spell %u, and then...&quot;</span>, spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>, spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[i].TriggerSpell);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                    }</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                }</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        }</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    }</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160; </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordflow">if</span> (need_check_reagents)</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code" href="../../d1/d22/_d_b_c_structure_8h.html#a7dfd9b5e0adb5c5e3ebf3173f80fbcce">MAX_SPELL_REAGENTS</a>; ++j)</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a0ddc3531aeb41a1fa93502d94621e025">Reagent</a>[j] &gt; 0 &amp;&amp; !<a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplate(spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a0ddc3531aeb41a1fa93502d94621e025">Reagent</a>[j]))</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                    <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Craft spell %u have not-exist reagent in DB item (Entry: %u) and then...&quot;</span>, spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>, spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a0ddc3531aeb41a1fa93502d94621e025">Reagent</a>[j]);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            }</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    }</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;}</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160; </div>
<div class="line"><a name="l00442"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a8dfd3856cb381953bfeb1db1a4a4bad7">  442</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a8dfd3856cb381953bfeb1db1a4a4bad7">SpellMgr::IsSpellValid</a>(<a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo)</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;{</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordflow">return</span> spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a889b32138b72e5e9fabfc03d9cd3b97a">IsSpellValid</a>();</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;}</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00449"></a><span class="lineno"><a class="line" href="../../db/dad/_spell_mgr_8cpp.html#af0dec25ac7c118b67a71a0356eb37877">  449</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#af0dec25ac7c118b67a71a0356eb37877">DeleteSpellFromAllPlayers</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId)</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;{</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <a class="code" href="../../d7/d54/_character_database_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7">CharacterDatabaseStatements</a> stmts[2] = {<a class="code" href="../../d7/d54/_character_database_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7a5747c146ecb9e10f2ce727463ed21f30">CHAR_DEL_INVALID_SPELL_SPELLS</a>, <a class="code" href="../../d7/d54/_character_database_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7a340e294529e147886e74f02e4a84e734">CHAR_DEL_INVALID_SPELL_TALENTS</a>};</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; 2; i++)</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <a class="code" href="../../da/d37/class_prepared_statement.html">CharacterDatabasePreparedStatement</a>* stmt = <a class="code" href="../../d6/d2e/_database_env_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(stmts[i]);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        stmt-&gt;<a class="code" href="../../dd/d6a/class_prepared_statement_base.html#a93efae944cba1cd7e11583a08f25b2d6">setUInt32</a>(0, spellId);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <a class="code" href="../../d6/d2e/_database_env_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Execute(stmt);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    }</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;}</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a3fe816e2868b4fed89cc9ac88bb9d177">  460</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a3fe816e2868b4fed89cc9ac88bb9d177">SpellMgr::CheckSpellValid</a>(<a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo, <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId, <span class="keywordtype">bool</span> isTalent)</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;{</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    {</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#af0dec25ac7c118b67a71a0356eb37877">DeleteSpellFromAllPlayers</a>(spellId);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;spells&quot;</span>, <span class="stringliteral">&quot;Player::%s: Non-existed in SpellStore spell #%u request.&quot;</span>, (isTalent ? <span class="stringliteral">&quot;AddTalent&quot;</span> : <span class="stringliteral">&quot;addSpell&quot;</span>), spellId);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    }</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../dc/d9a/class_spell_mgr.html#a8dfd3856cb381953bfeb1db1a4a4bad7">IsSpellValid</a>(spellInfo))</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#af0dec25ac7c118b67a71a0356eb37877">DeleteSpellFromAllPlayers</a>(spellId);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;spells&quot;</span>, <span class="stringliteral">&quot;Player::%s: Broken spell #%u learning not allowed.&quot;</span>, (isTalent ? <span class="stringliteral">&quot;AddTalent&quot;</span> : <span class="stringliteral">&quot;addSpell&quot;</span>), spellId);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    }</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160; </div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;}</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160; </div>
<div class="line"><a name="l00479"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#abba48283a65ce30e83030b7cfc4d6a2a">  479</a></span>&#160;<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <a class="code" href="../../dc/d9a/class_spell_mgr.html#abba48283a65ce30e83030b7cfc4d6a2a">SpellMgr::GetSpellDifficultyId</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId)<span class="keyword"> const</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    SpellDifficultySearcherMap::const_iterator i = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7095c038ec0ebbc2c9528edacf29f1b4">mSpellDifficultySearcherMap</a>.find(spellId);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keywordflow">return</span> i == <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7095c038ec0ebbc2c9528edacf29f1b4">mSpellDifficultySearcherMap</a>.end() ? 0 : (*i).second;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;}</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160; </div>
<div class="line"><a name="l00485"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a1d78ba697367cda75056836937d7976e">  485</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a1d78ba697367cda75056836937d7976e">SpellMgr::SetSpellDifficultyId</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId, <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;{</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7095c038ec0ebbc2c9528edacf29f1b4">mSpellDifficultySearcherMap</a>[spellId] = id;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;}</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a229921c46ca2e8e849d1dd5682f78247">  490</a></span>&#160;<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a229921c46ca2e8e849d1dd5682f78247">SpellMgr::GetSpellIdForDifficulty</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId, <a class="code" href="../../da/db7/class_unit.html">Unit</a> <span class="keyword">const</span>* caster)<span class="keyword"> const</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(spellId))</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <span class="keywordflow">return</span> spellId;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160; </div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keywordflow">if</span> (!caster || !caster-&gt;<a class="code" href="../../db/df7/class_world_object.html#a76c507a1b3adcebf2732572bc6b67fe0">GetMap</a>() || !caster-&gt;<a class="code" href="../../db/df7/class_world_object.html#a76c507a1b3adcebf2732572bc6b67fe0">GetMap</a>()-&gt;<a class="code" href="../../dd/d11/class_map.html#a0c80d50b012dc8d560e256201970f3b3">IsDungeon</a>())</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <span class="keywordflow">return</span> spellId;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> mode = <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(caster-&gt;<a class="code" href="../../db/df7/class_world_object.html#a76c507a1b3adcebf2732572bc6b67fe0">GetMap</a>()-&gt;<a class="code" href="../../dd/d11/class_map.html#a43b5bdb50f8e3d9b9305475f62872d6c">GetSpawnMode</a>());</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordflow">if</span> (mode &gt;= <a class="code" href="../../dc/d6e/_d_b_c_enums_8h.html#a4b8f96edf5459f120db77f80275dfe5c">MAX_DIFFICULTY</a>)</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;spells&quot;</span>, <span class="stringliteral">&quot;SpellMgr::GetSpellIdForDifficulty: Incorrect Difficulty for spell %u.&quot;</span>, spellId);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <span class="keywordflow">return</span> spellId; <span class="comment">//return source spell</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    }</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160; </div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> difficultyId = <a class="code" href="../../dc/d9a/class_spell_mgr.html#abba48283a65ce30e83030b7cfc4d6a2a">GetSpellDifficultyId</a>(spellId);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordflow">if</span> (!difficultyId)</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <span class="keywordflow">return</span> spellId; <span class="comment">//return source spell, it has only REGULAR_DIFFICULTY</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <a class="code" href="../../df/dfe/struct_spell_difficulty_entry.html">SpellDifficultyEntry</a> <span class="keyword">const</span>* difficultyEntry = <a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#a54d0ee433b182a8bbd0b13b828ddd6b1">sSpellDifficultyStore</a>.LookupEntry(difficultyId);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordflow">if</span> (!difficultyEntry)</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;spells.aura&quot;</span>, <span class="stringliteral">&quot;SpellMgr::GetSpellIdForDifficulty: SpellDifficultyEntry not found for spell %u. This should never happen.&quot;</span>, spellId);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="keywordflow">return</span> spellId; <span class="comment">//return source spell</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    }</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">if</span> (difficultyEntry-&gt;<a class="code" href="../../df/dfe/struct_spell_difficulty_entry.html#a231d22a763ddcd9f1fbdab81521dcf67">SpellID</a>[mode] &lt;= 0 &amp;&amp; mode &gt; <a class="code" href="../../dc/d6e/_d_b_c_enums_8h.html#a43efb0a2e61815a66134dfa5ccea0a83a8e5e0567af94d14d53209944fd9136ff">DUNGEON_DIFFICULTY_HEROIC</a>)</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    {</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;spells.aura&quot;</span>, <span class="stringliteral">&quot;SpellMgr::GetSpellIdForDifficulty: spell %u mode %u spell is nullptr, using mode %u&quot;</span>, spellId, mode, mode - 2);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        mode -= 2;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    }</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordflow">if</span> (difficultyEntry-&gt;<a class="code" href="../../df/dfe/struct_spell_difficulty_entry.html#a231d22a763ddcd9f1fbdab81521dcf67">SpellID</a>[mode] &lt;= 0)</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    {</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;SpellMgr::GetSpellIdForDifficulty: spell %u mode %u spell is 0. Check spelldifficulty_dbc!&quot;</span>, spellId, mode);</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <span class="keywordflow">return</span> spellId;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    }</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;spells.aura&quot;</span>, <span class="stringliteral">&quot;SpellMgr::GetSpellIdForDifficulty: spellid for spell %u in mode %u is %d&quot;</span>, spellId, mode, difficultyEntry-&gt;<a class="code" href="../../df/dfe/struct_spell_difficulty_entry.html#a231d22a763ddcd9f1fbdab81521dcf67">SpellID</a>[mode]);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(difficultyEntry-&gt;<a class="code" href="../../df/dfe/struct_spell_difficulty_entry.html#a231d22a763ddcd9f1fbdab81521dcf67">SpellID</a>[mode]);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;}</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160; </div>
<div class="line"><a name="l00532"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a6df7fb4895452850c8b8f151ccfd2536">  532</a></span>&#160;<a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* <a class="code" href="../../dc/d9a/class_spell_mgr.html#a6df7fb4895452850c8b8f151ccfd2536">SpellMgr::GetSpellForDifficultyFromSpell</a>(<a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* spell, <a class="code" href="../../da/db7/class_unit.html">Unit</a> <span class="keyword">const</span>* caster)<span class="keyword"> const</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> newSpellId = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a229921c46ca2e8e849d1dd5682f78247">GetSpellIdForDifficulty</a>(spell-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>, caster);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* newSpell = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(newSpellId);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordflow">if</span> (!newSpell)</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    {</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;spells.aura&quot;</span>, <span class="stringliteral">&quot;SpellMgr::GetSpellForDifficultyFromSpell: spell %u not found. Check spelldifficulty_dbc!&quot;</span>, newSpellId);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <span class="keywordflow">return</span> spell;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    }</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160; </div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;spells.aura&quot;</span>, <span class="stringliteral">&quot;SpellMgr::GetSpellForDifficultyFromSpell: Spell id for instance mode is %u (original %u)&quot;</span>, newSpell-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>, spell-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">return</span> newSpell;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;}</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160; </div>
<div class="line"><a name="l00546"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#acebee697f2b732ae70bc247c1cdfee01">  546</a></span>&#160;<a class="code" href="../../d3/d54/struct_spell_chain_node.html">SpellChainNode</a> <span class="keyword">const</span>* <a class="code" href="../../dc/d9a/class_spell_mgr.html#acebee697f2b732ae70bc247c1cdfee01">SpellMgr::GetSpellChainNode</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id)<span class="keyword"> const</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    SpellChainMap::const_iterator itr = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a25446ffa46c3712a64d43f88f4799e16">mSpellChains</a>.find(spell_id);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordflow">if</span> (itr == <a class="code" href="../../dc/d9a/class_spell_mgr.html#a25446ffa46c3712a64d43f88f4799e16">mSpellChains</a>.end())</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160; </div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keywordflow">return</span> &amp;itr-&gt;second;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;}</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160; </div>
<div class="line"><a name="l00555"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a917957b9f03d8fec71dde17da1a88d51">  555</a></span>&#160;<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a917957b9f03d8fec71dde17da1a88d51">SpellMgr::GetFirstSpellInChain</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id)<span class="keyword"> const</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d3/d54/struct_spell_chain_node.html">SpellChainNode</a> <span class="keyword">const</span>* node = <a class="code" href="../../dc/d9a/class_spell_mgr.html#acebee697f2b732ae70bc247c1cdfee01">GetSpellChainNode</a>(spell_id))</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <span class="keywordflow">return</span> node-&gt;first-&gt;Id;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordflow">return</span> spell_id;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;}</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160; </div>
<div class="line"><a name="l00563"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a7381cd829bd62cd16c242e61dd7d1c18">  563</a></span>&#160;<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7381cd829bd62cd16c242e61dd7d1c18">SpellMgr::GetLastSpellInChain</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id)<span class="keyword"> const</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d3/d54/struct_spell_chain_node.html">SpellChainNode</a> <span class="keyword">const</span>* node = <a class="code" href="../../dc/d9a/class_spell_mgr.html#acebee697f2b732ae70bc247c1cdfee01">GetSpellChainNode</a>(spell_id))</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <span class="keywordflow">return</span> node-&gt;last-&gt;Id;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160; </div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="keywordflow">return</span> spell_id;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;}</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160; </div>
<div class="line"><a name="l00571"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a2f2cb73a9f834280867da755e5a6f1c4">  571</a></span>&#160;<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a2f2cb73a9f834280867da755e5a6f1c4">SpellMgr::GetNextSpellInChain</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id)<span class="keyword"> const</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d3/d54/struct_spell_chain_node.html">SpellChainNode</a> <span class="keyword">const</span>* node = <a class="code" href="../../dc/d9a/class_spell_mgr.html#acebee697f2b732ae70bc247c1cdfee01">GetSpellChainNode</a>(spell_id))</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="keywordflow">if</span> (node-&gt;next)</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            <span class="keywordflow">return</span> node-&gt;next-&gt;Id;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160; </div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;}</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160; </div>
<div class="line"><a name="l00580"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a624b4e60fda126e6a868ac252fda2757">  580</a></span>&#160;<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a624b4e60fda126e6a868ac252fda2757">SpellMgr::GetPrevSpellInChain</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id)<span class="keyword"> const</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d3/d54/struct_spell_chain_node.html">SpellChainNode</a> <span class="keyword">const</span>* node = <a class="code" href="../../dc/d9a/class_spell_mgr.html#acebee697f2b732ae70bc247c1cdfee01">GetSpellChainNode</a>(spell_id))</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <span class="keywordflow">if</span> (node-&gt;prev)</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            <span class="keywordflow">return</span> node-&gt;prev-&gt;Id;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160; </div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;}</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160; </div>
<div class="line"><a name="l00589"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#abff37b8018ffb588f42b2c0a4c229783">  589</a></span>&#160;<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> <a class="code" href="../../dc/d9a/class_spell_mgr.html#abff37b8018ffb588f42b2c0a4c229783">SpellMgr::GetSpellRank</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id)<span class="keyword"> const</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d3/d54/struct_spell_chain_node.html">SpellChainNode</a> <span class="keyword">const</span>* node = <a class="code" href="../../dc/d9a/class_spell_mgr.html#acebee697f2b732ae70bc247c1cdfee01">GetSpellChainNode</a>(spell_id))</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        <span class="keywordflow">return</span> node-&gt;rank;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160; </div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;}</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a542127facbfc4376dcc0a732dc46086e">  597</a></span>&#160;<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a542127facbfc4376dcc0a732dc46086e">SpellMgr::GetSpellWithRank</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id, <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> rank, <span class="keywordtype">bool</span> strict)<span class="keyword"> const</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d3/d54/struct_spell_chain_node.html">SpellChainNode</a> <span class="keyword">const</span>* node = <a class="code" href="../../dc/d9a/class_spell_mgr.html#acebee697f2b732ae70bc247c1cdfee01">GetSpellChainNode</a>(spell_id))</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <span class="keywordflow">if</span> (rank != node-&gt;rank)</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a542127facbfc4376dcc0a732dc46086e">GetSpellWithRank</a>(node-&gt;rank &lt; rank ? node-&gt;next-&gt;Id : node-&gt;prev-&gt;Id, rank, strict);</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    }</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strict &amp;&amp; rank &gt; 1)</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordflow">return</span> spell_id;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;}</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160; </div>
<div class="line"><a name="l00609"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a5bdcfedf4f314c64b7ed33a1a7726c87">  609</a></span>&#160;<a class="code" href="../../d3/d75/_spell_mgr_8h.html#a88ffc1e3eda7c90f1f55e169dc76b444">SpellRequiredMapBounds</a> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a5bdcfedf4f314c64b7ed33a1a7726c87">SpellMgr::GetSpellsRequiredForSpellBounds</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id)<span class="keyword"> const</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a0037908371f475d84ba4319c7109e12d">mSpellReq</a>.equal_range(spell_id);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;}</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160; </div>
<div class="line"><a name="l00614"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#ad3ba910260b662307aecc92b0e696930">  614</a></span>&#160;<a class="code" href="../../d3/d75/_spell_mgr_8h.html#a387f031811a92887df5962b41c7b2532">SpellsRequiringSpellMapBounds</a> <a class="code" href="../../dc/d9a/class_spell_mgr.html#ad3ba910260b662307aecc92b0e696930">SpellMgr::GetSpellsRequiringSpellBounds</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id)<span class="keyword"> const</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#aa03760f8043a0c684d18527d7ed934d3">mSpellsReqSpell</a>.equal_range(spell_id);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;}</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160; </div>
<div class="line"><a name="l00619"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a62767dc60e5f32a91b8428a01d083184">  619</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a62767dc60e5f32a91b8428a01d083184">SpellMgr::IsSpellRequiringSpell</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellid, <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> req_spellid)<span class="keyword"> const</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <a class="code" href="../../d3/d75/_spell_mgr_8h.html#a387f031811a92887df5962b41c7b2532">SpellsRequiringSpellMapBounds</a> spellsRequiringSpell = <a class="code" href="../../dc/d9a/class_spell_mgr.html#ad3ba910260b662307aecc92b0e696930">GetSpellsRequiringSpellBounds</a>(req_spellid);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">for</span> (SpellsRequiringSpellMap::const_iterator itr = spellsRequiringSpell.first; itr != spellsRequiringSpell.second; ++itr)</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    {</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        <span class="keywordflow">if</span> (itr-&gt;second == spellid)</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    }</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;}</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160; </div>
<div class="line"><a name="l00630"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a9d4a69f77e7dc8ec225bede9d730ab71">  630</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a9d4a69f77e7dc8ec225bede9d730ab71">SpellMgr::IsAdditionalTalentSpell</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId)<span class="keyword"> const</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a16ff5508005286ab678b47bcc211ac24">mTalentSpellAdditionalSet</a>.find(spellId) != <a class="code" href="../../dc/d9a/class_spell_mgr.html#a16ff5508005286ab678b47bcc211ac24">mTalentSpellAdditionalSet</a>.end();</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;}</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160; </div>
<div class="line"><a name="l00635"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a5447b1a2108c3f9ae01d5a29a4adaed4">  635</a></span>&#160;<a class="code" href="../../dd/dc9/struct_spell_learn_skill_node.html">SpellLearnSkillNode</a> <span class="keyword">const</span>* <a class="code" href="../../dc/d9a/class_spell_mgr.html#a5447b1a2108c3f9ae01d5a29a4adaed4">SpellMgr::GetSpellLearnSkill</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id)<span class="keyword"> const</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    SpellLearnSkillMap::const_iterator itr = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a32d05e01103bd64f22e3993bf46e4bb6">mSpellLearnSkills</a>.find(spell_id);</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <span class="keywordflow">if</span> (itr != <a class="code" href="../../dc/d9a/class_spell_mgr.html#a32d05e01103bd64f22e3993bf46e4bb6">mSpellLearnSkills</a>.end())</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <span class="keywordflow">return</span> &amp;itr-&gt;second;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;}</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160; </div>
<div class="line"><a name="l00644"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#aad78451cae5cf043b4d39cc3fa7666d8">  644</a></span>&#160;<a class="code" href="../../da/dcc/struct_spell_target_position.html">SpellTargetPosition</a> <span class="keyword">const</span>* <a class="code" href="../../dc/d9a/class_spell_mgr.html#aad78451cae5cf043b4d39cc3fa7666d8">SpellMgr::GetSpellTargetPosition</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id, <a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77">SpellEffIndex</a> effIndex)<span class="keyword"> const</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    SpellTargetPositionMap::const_iterator itr = <a class="code" href="../../dc/d9a/class_spell_mgr.html#aa36449309e445b361a05bf77e4bd5698">mSpellTargetPositions</a>.find(std::make_pair(spell_id, effIndex));</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keywordflow">if</span> (itr != <a class="code" href="../../dc/d9a/class_spell_mgr.html#aa36449309e445b361a05bf77e4bd5698">mSpellTargetPositions</a>.end())</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        <span class="keywordflow">return</span> &amp;itr-&gt;second;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;}</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160; </div>
<div class="line"><a name="l00652"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a6ecece8a77d5714f64bb27a364381de6">  652</a></span>&#160;<a class="code" href="../../d3/d75/_spell_mgr_8h.html#a3384f828e7f362dbdaecb22673641c88">SpellGroupStackFlags</a> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a6ecece8a77d5714f64bb27a364381de6">SpellMgr::GetGroupStackFlags</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> groupid)<span class="keyword"> const</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    SpellGroupStackMap::const_iterator itr = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a60283ceb69bf92310153db6769f70a6a">mSpellGroupStackMap</a>.find(groupid);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="keywordflow">if</span> (itr != <a class="code" href="../../dc/d9a/class_spell_mgr.html#a60283ceb69bf92310153db6769f70a6a">mSpellGroupStackMap</a>.end())</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <span class="keywordflow">return</span> itr-&gt;second;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160; </div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d3/d75/_spell_mgr_8h.html#a3384f828e7f362dbdaecb22673641c88ada08c4380c426461aa28160bd3e36481">SPELL_GROUP_STACK_FLAG_NONE</a>;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;}</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160; </div>
<div class="line"><a name="l00661"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a679972bc59cdebe7764c078a82fa63f3">  661</a></span>&#160;<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a679972bc59cdebe7764c078a82fa63f3">SpellMgr::GetSpellGroup</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id)<span class="keyword"> const</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> first_rank = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a917957b9f03d8fec71dde17da1a88d51">GetFirstSpellInChain</a>(spell_id);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    SpellGroupMap::const_iterator itr = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7a1fa3679f9c375b88603ec4775769fd">mSpellGroupMap</a>.find(first_rank);</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="keywordflow">if</span> (itr != <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7a1fa3679f9c375b88603ec4775769fd">mSpellGroupMap</a>.end())</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        <span class="keywordflow">return</span> itr-&gt;second.groupId;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160; </div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;}</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160; </div>
<div class="line"><a name="l00671"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#aff6f0cb835c53a025c937376089e68a2">  671</a></span>&#160;<a class="code" href="../../d3/d75/_spell_mgr_8h.html#ab9f8654c03ec40ac9bdc5214da99e1eb">SpellGroupSpecialFlags</a> <a class="code" href="../../dc/d9a/class_spell_mgr.html#aff6f0cb835c53a025c937376089e68a2">SpellMgr::GetSpellGroupSpecialFlags</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id)<span class="keyword"> const</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> first_rank = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a917957b9f03d8fec71dde17da1a88d51">GetFirstSpellInChain</a>(spell_id);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    SpellGroupMap::const_iterator itr = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7a1fa3679f9c375b88603ec4775769fd">mSpellGroupMap</a>.find(first_rank);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keywordflow">if</span> (itr != <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7a1fa3679f9c375b88603ec4775769fd">mSpellGroupMap</a>.end())</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        <span class="keywordflow">return</span> itr-&gt;second.specialFlags;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160; </div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ab9f8654c03ec40ac9bdc5214da99e1ebafcdcc89a75089da2c021819a91f01c2e">SPELL_GROUP_SPECIAL_FLAG_NONE</a>;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;}</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160; </div>
<div class="line"><a name="l00681"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a4b1307c84dbe345de1f16b117a5fa6c7">  681</a></span>&#160;<a class="code" href="../../d3/d75/_spell_mgr_8h.html#a3384f828e7f362dbdaecb22673641c88">SpellGroupStackFlags</a> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a4b1307c84dbe345de1f16b117a5fa6c7">SpellMgr::CheckSpellGroupStackRules</a>(<a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo1, <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo2, <span class="keywordtype">bool</span> remove, <span class="keywordtype">bool</span> areaAura)<span class="keyword"> const</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellid_1 = spellInfo1-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a236dc1b4f58ebf6a2eb5b1824c5e8073">GetFirstRankSpell</a>()-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellid_2 = spellInfo2-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a236dc1b4f58ebf6a2eb5b1824c5e8073">GetFirstRankSpell</a>()-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> groupId = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a679972bc59cdebe7764c078a82fa63f3">GetSpellGroup</a>(spellid_1);</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160; </div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ab9f8654c03ec40ac9bdc5214da99e1eb">SpellGroupSpecialFlags</a> flag1 = <a class="code" href="../../dc/d9a/class_spell_mgr.html#aff6f0cb835c53a025c937376089e68a2">GetSpellGroupSpecialFlags</a>(spellid_1);</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160; </div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="comment">// xinef: dunno why i added this</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordflow">if</span> (spellid_1 == spellid_2 &amp;&amp; remove &amp;&amp; !areaAura)</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    {</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        <span class="keywordflow">if</span> (flag1 &amp; <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ab9f8654c03ec40ac9bdc5214da99e1eba7839f95fbf97ecde100bfe23ad17a6bf">SPELL_GROUP_SPECIAL_FLAG_SAME_SPELL_CHECK</a>)</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        {</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d3/d75/_spell_mgr_8h.html#a3384f828e7f362dbdaecb22673641c88a3556b4b6eac1a9cc343a58851626cc35">SPELL_GROUP_STACK_FLAG_EXCLUSIVE</a>;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        }</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160; </div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d3/d75/_spell_mgr_8h.html#a3384f828e7f362dbdaecb22673641c88ada08c4380c426461aa28160bd3e36481">SPELL_GROUP_STACK_FLAG_NONE</a>;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    }</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160; </div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">if</span> (groupId &gt; 0 &amp;&amp; groupId == <a class="code" href="../../dc/d9a/class_spell_mgr.html#a679972bc59cdebe7764c078a82fa63f3">GetSpellGroup</a>(spellid_2))</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    {</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ab9f8654c03ec40ac9bdc5214da99e1eb">SpellGroupSpecialFlags</a> flag2 = <a class="code" href="../../dc/d9a/class_spell_mgr.html#aff6f0cb835c53a025c937376089e68a2">GetSpellGroupSpecialFlags</a>(spellid_2);</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        <a class="code" href="../../d3/d75/_spell_mgr_8h.html#a3384f828e7f362dbdaecb22673641c88">SpellGroupStackFlags</a> additionFlag = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#a3384f828e7f362dbdaecb22673641c88ada08c4380c426461aa28160bd3e36481">SPELL_GROUP_STACK_FLAG_NONE</a>;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <span class="comment">// xinef: first flags are used for elixir stacking rules</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        <span class="keywordflow">if</span> (flag1 &amp; <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ab9f8654c03ec40ac9bdc5214da99e1eba88058107a5eb1341d5edf23eefaade52">SPELL_GROUP_SPECIAL_FLAG_STACK_EXCLUSIVE_MAX</a> &amp;&amp; flag2 &amp; <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ab9f8654c03ec40ac9bdc5214da99e1eba88058107a5eb1341d5edf23eefaade52">SPELL_GROUP_SPECIAL_FLAG_STACK_EXCLUSIVE_MAX</a>)</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        {</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;            <span class="keywordflow">if</span> (flag1 &amp; flag2)</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d3/d75/_spell_mgr_8h.html#a3384f828e7f362dbdaecb22673641c88adf0c38d0364b5e9c36aa3bf4f68da680">SPELL_GROUP_STACK_FLAG_NEVER_STACK</a>;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        }</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <span class="comment">// xinef: check only flag1 (new spell)</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flag1 &amp; <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ab9f8654c03ec40ac9bdc5214da99e1eba63c0705fb6979627890de8e601fa6828">SPELL_GROUP_SPECIAL_FLAG_FORCED_STRONGEST</a>)</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;            additionFlag = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#a3384f828e7f362dbdaecb22673641c88a657ce08869043f0b71ee8815c6fb869e">SPELL_GROUP_STACK_FLAG_FORCED_STRONGEST</a>;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flag2 &amp; <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ab9f8654c03ec40ac9bdc5214da99e1eba63c0705fb6979627890de8e601fa6828">SPELL_GROUP_SPECIAL_FLAG_FORCED_STRONGEST</a>)</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            additionFlag = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#a3384f828e7f362dbdaecb22673641c88a4cfbddea486e9940cbeb5ebdab267b3e">SPELL_GROUP_STACK_FLAG_FORCED_WEAKEST</a>;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160; </div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d3/d75/_spell_mgr_8h.html#a3384f828e7f362dbdaecb22673641c88">SpellGroupStackFlags</a>(<a class="code" href="../../dc/d9a/class_spell_mgr.html#a6ecece8a77d5714f64bb27a364381de6">GetGroupStackFlags</a>(groupId) | additionFlag);</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    }</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160; </div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d3/d75/_spell_mgr_8h.html#a3384f828e7f362dbdaecb22673641c88ada08c4380c426461aa28160bd3e36481">SPELL_GROUP_STACK_FLAG_NONE</a>;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;}</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160; </div>
<div class="line"><a name="l00723"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a1915eeb1c6f142f7ff156846c98e4119">  723</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a1915eeb1c6f142f7ff156846c98e4119">SpellMgr::GetSetOfSpellsInSpellGroupWithFlag</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> group_id, <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ab9f8654c03ec40ac9bdc5214da99e1eb">SpellGroupSpecialFlags</a> flag, std::set&lt;uint32&gt;&amp; availableElixirs)<span class="keyword"> const</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <span class="keywordflow">for</span> (SpellGroupMap::const_iterator itr = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7a1fa3679f9c375b88603ec4775769fd">mSpellGroupMap</a>.begin(); itr != <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7a1fa3679f9c375b88603ec4775769fd">mSpellGroupMap</a>.end(); ++itr)</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        <span class="keywordflow">if</span> (itr-&gt;second.groupId == group_id &amp;&amp; itr-&gt;second.specialFlags == flag)</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;            availableElixirs.insert(itr-&gt;first); <span class="comment">// insert spell id</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;}</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160; </div>
<div class="line"><a name="l00730"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a252d713f0b10a4665f9470174463bbf5">  730</a></span>&#160;<a class="code" href="../../df/d05/struct_spell_proc_event_entry.html">SpellProcEventEntry</a> <span class="keyword">const</span>* <a class="code" href="../../dc/d9a/class_spell_mgr.html#a252d713f0b10a4665f9470174463bbf5">SpellMgr::GetSpellProcEvent</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId)<span class="keyword"> const</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    SpellProcEventMap::const_iterator itr = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a3e6353afe01453ebf0bab09cde94673e">mSpellProcEventMap</a>.find(spellId);</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="keywordflow">if</span> (itr != <a class="code" href="../../dc/d9a/class_spell_mgr.html#a3e6353afe01453ebf0bab09cde94673e">mSpellProcEventMap</a>.end())</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <span class="keywordflow">return</span> &amp;itr-&gt;second;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;}</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160; </div>
<div class="line"><a name="l00738"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a4df85133eeda585b39e5a00e31edfd8e">  738</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a4df85133eeda585b39e5a00e31edfd8e">SpellMgr::IsSpellProcEventCanTriggeredBy</a>(<a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* spellProto, <a class="code" href="../../df/d05/struct_spell_proc_event_entry.html">SpellProcEventEntry</a> <span class="keyword">const</span>* spellProcEvent, <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> EventProcFlag, <a class="code" href="../../df/def/class_proc_event_info.html">ProcEventInfo</a> <span class="keyword">const</span>&amp; eventInfo, <span class="keywordtype">bool</span> active)<span class="keyword"> const</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="comment">// No extra req need</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> procEvent_procEx = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ac9aaef596a1061b6b944e1dc0e679b46a07b2f1753e6047dcfef05d8ec0de5b87">PROC_EX_NONE</a>;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160; </div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> procFlags = eventInfo.<a class="code" href="../../df/def/class_proc_event_info.html#a5e2c60a3e242f69afa2cb2bccf5a072b">GetTypeMask</a>();</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> procExtra = eventInfo.<a class="code" href="../../df/def/class_proc_event_info.html#a0129f2b5cfdebb9f3618331e297a0db1">GetHitMask</a>();</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* procSpellInfo = eventInfo.<a class="code" href="../../df/def/class_proc_event_info.html#a759add2c89e786125196eb6bd3b20c6d">GetSpellInfo</a>();</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160; </div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="comment">// check prockFlags for condition</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="keywordflow">if</span> ((procFlags &amp; EventProcFlag) == 0)</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160; </div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="comment">// Xinef: Always trigger for this, including TAKEN_DAMAGE</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keywordflow">if</span> (EventProcFlag &amp; (<a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a77a138ad03b6e16e4ab21aba26d98ec3">PROC_FLAG_KILLED</a> | <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6aadedce3b69f2042ebb950a48165fc89a">PROC_FLAG_KILL</a> | <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a8b6d98edef5c8763d9b8d5f0d1b95d40">PROC_FLAG_DEATH</a> | <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6abcffcf75e3fd5015383c586153dc32c1">PROC_FLAG_TAKEN_DAMAGE</a>))</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160; </div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordtype">bool</span> hasFamilyMask = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160; </div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="keywordflow">if</span> (procFlags &amp; <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a429d6c885f9687a1b041436cb45d74ce">PROC_FLAG_DONE_PERIODIC</a>)</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    {</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        <span class="keywordflow">if</span> (procExtra &amp; <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ac9aaef596a1061b6b944e1dc0e679b46ab92a05b298c10d1c2b9c3a2af4fe819b">PROC_EX_INTERNAL_HOT</a>)</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        {</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;            <span class="keywordflow">if</span> (EventProcFlag == <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a429d6c885f9687a1b041436cb45d74ce">PROC_FLAG_DONE_PERIODIC</a>)</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;            {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                <span class="keywordflow">if</span> (!spellProto-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#af6ec577353f7d3cc59badd7d332153b0">SpellFamilyName</a>)</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            }</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!(EventProcFlag &amp; (<a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a3224fff7fa83c444aa33906a7a00a87b">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_POS</a> | <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a6d76a272a9d09c21d6959afdccf27119">PROC_FLAG_DONE_SPELL_NONE_DMG_CLASS_POS</a>)))</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        }</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (EventProcFlag != <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a429d6c885f9687a1b041436cb45d74ce">PROC_FLAG_DONE_PERIODIC</a>)</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;            <span class="keywordflow">if</span> (!(EventProcFlag &amp; (<a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6afe7895d66dfe7eb26eb655d393b0cd67">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_NEG</a> | <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6ab47347c9f4b3ba1255744ba7c0a1e007">PROC_FLAG_DONE_SPELL_NONE_DMG_CLASS_NEG</a> | <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6aec3e2077cfabdc92fbbc9a1858dd5c7b">PROC_FLAG_DONE_TRAP_ACTIVATION</a>)))</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    }</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160; </div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="keywordflow">if</span> (procFlags &amp; <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a968d75fc25f1413369015f9ba98870b4">PROC_FLAG_TAKEN_PERIODIC</a>)</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        <span class="keywordflow">if</span> (procExtra &amp; <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ac9aaef596a1061b6b944e1dc0e679b46ab92a05b298c10d1c2b9c3a2af4fe819b">PROC_EX_INTERNAL_HOT</a>)</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        {</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;            <span class="keywordflow">if</span> (EventProcFlag == <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a968d75fc25f1413369015f9ba98870b4">PROC_FLAG_TAKEN_PERIODIC</a>)</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            <span class="keywordflow">if</span> (!(EventProcFlag &amp; (<a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6abb4ec446733b29f5eaa67b5b5a6c8d73">PROC_FLAG_TAKEN_SPELL_MAGIC_DMG_CLASS_POS</a> | <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6acf742e65ebea270b541f0f374f54ece4">PROC_FLAG_TAKEN_SPELL_NONE_DMG_CLASS_POS</a>)))</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        }</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (EventProcFlag != <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a968d75fc25f1413369015f9ba98870b4">PROC_FLAG_TAKEN_PERIODIC</a>)</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;            <span class="keywordflow">if</span> (!(EventProcFlag &amp; (<a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a83f7552203278e82d55d40034cea9105">PROC_FLAG_TAKEN_SPELL_MAGIC_DMG_CLASS_NEG</a> | <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6aaf9170997f464e7fb1c87b84bb38651a">PROC_FLAG_TAKEN_SPELL_NONE_DMG_CLASS_NEG</a>)))</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    }</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160; </div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="comment">// Trap casts are active by default</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="keywordflow">if</span> (procFlags &amp; <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6aec3e2077cfabdc92fbbc9a1858dd5c7b">PROC_FLAG_DONE_TRAP_ACTIVATION</a>)</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        active = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160; </div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="keywordflow">if</span> (spellProcEvent)     <span class="comment">// Exist event data</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    {</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <span class="comment">// Store extra req</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        procEvent_procEx = spellProcEvent-&gt;<a class="code" href="../../df/d05/struct_spell_proc_event_entry.html#a911770f28fe36243593b12fe92d6fbec">procEx</a>;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160; </div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        <span class="comment">// For melee triggers</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        <span class="keywordflow">if</span> (!procSpellInfo)</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        {</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;            <span class="comment">// Check (if set) for school (melee attack have Normal school)</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;            <span class="keywordflow">if</span> (spellProcEvent-&gt;<a class="code" href="../../df/d05/struct_spell_proc_event_entry.html#a9a6d38ee4e4a35066780ef924c63f92f">schoolMask</a> &amp;&amp; (spellProcEvent-&gt;<a class="code" href="../../df/d05/struct_spell_proc_event_entry.html#a9a6d38ee4e4a35066780ef924c63f92f">schoolMask</a> &amp; <a class="code" href="../../df/d0b/_shared_defines_8h.html#aff6913cfd69489c107a071be9ec2ec8fa12667dd3f55738c93e1ddb1351779b42">SPELL_SCHOOL_MASK_NORMAL</a>) == 0)</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        }</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        <span class="keywordflow">else</span> <span class="comment">// For spells need check school/spell family/family mask</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        {</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;            <span class="comment">// Check (if set) for school</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;            <span class="keywordflow">if</span> (spellProcEvent-&gt;<a class="code" href="../../df/d05/struct_spell_proc_event_entry.html#a9a6d38ee4e4a35066780ef924c63f92f">schoolMask</a> &amp;&amp; (spellProcEvent-&gt;<a class="code" href="../../df/d05/struct_spell_proc_event_entry.html#a9a6d38ee4e4a35066780ef924c63f92f">schoolMask</a> &amp; procSpellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a72ac013c860d3af649879442115971ab">SchoolMask</a>) == 0)</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160; </div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;            <span class="comment">// Check (if set) for spellFamilyName</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;            <span class="keywordflow">if</span> (spellProcEvent-&gt;<a class="code" href="../../df/d05/struct_spell_proc_event_entry.html#a5ffa91b3f66ebb0ac34f30e1c532fb3a">spellFamilyName</a> &amp;&amp; (spellProcEvent-&gt;<a class="code" href="../../df/d05/struct_spell_proc_event_entry.html#a5ffa91b3f66ebb0ac34f30e1c532fb3a">spellFamilyName</a> != procSpellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#af6ec577353f7d3cc59badd7d332153b0">SpellFamilyName</a>))</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160; </div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;            <span class="comment">// spellFamilyName is Ok need check for spellFamilyMask if present</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;            <span class="keywordflow">if</span> (spellProcEvent-&gt;<a class="code" href="../../df/d05/struct_spell_proc_event_entry.html#a2aa57bf419ab51129fe7240750ee8910">spellFamilyMask</a>)</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;            {</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                <span class="keywordflow">if</span> (!(spellProcEvent-&gt;<a class="code" href="../../df/d05/struct_spell_proc_event_entry.html#a2aa57bf419ab51129fe7240750ee8910">spellFamilyMask</a> &amp; procSpellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>))</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                hasFamilyMask = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                <span class="comment">// Some spells are not considered as active even with have spellfamilyflags</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                <span class="keywordflow">if</span> (!(procEvent_procEx &amp; <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ac9aaef596a1061b6b944e1dc0e679b46abaa632530ec78fe5964cb1591b91e3b9">PROC_EX_ONLY_ACTIVE_SPELL</a>))</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                    active = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;            }</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160; </div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;            <span class="comment">// Check tick numbers</span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;            <span class="keywordflow">if</span> (procEvent_procEx &amp; <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ac9aaef596a1061b6b944e1dc0e679b46ad01a7209b4b575624baa5781038d973e">PROC_EX_ONLY_FIRST_TICK</a>)</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;            {</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d0d/class_spell.html">Spell</a> <span class="keyword">const</span>* procSpell = eventInfo.<a class="code" href="../../df/def/class_proc_event_info.html#af076adae38d642f666cf29432bab3a08">GetProcSpell</a>())</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                {</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                    <span class="keywordflow">if</span> (procSpell-&gt;GetTriggeredByAuraTickNumber() &gt; 1)</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                    {</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                    }</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                }</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;            }</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        }</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    }</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160; </div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keywordflow">if</span> (procExtra &amp; (<a class="code" href="../../d3/d75/_spell_mgr_8h.html#ac9aaef596a1061b6b944e1dc0e679b46afa45851285099c233820be4d1a526892">PROC_EX_INTERNAL_REQ_FAMILY</a>))</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    {</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        <span class="keywordflow">if</span> (!hasFamilyMask)</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    }</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160; </div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="comment">// Check for extra req (if none) and hit/crit</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="keywordflow">if</span> (procEvent_procEx == <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ac9aaef596a1061b6b944e1dc0e679b46a07b2f1753e6047dcfef05d8ec0de5b87">PROC_EX_NONE</a>)</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    {</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        <span class="comment">// No extra req, so can trigger only for hit/crit - spell has to be active</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        <span class="keywordflow">if</span> ((procExtra &amp; (<a class="code" href="../../d3/d75/_spell_mgr_8h.html#ac9aaef596a1061b6b944e1dc0e679b46aa0c2a4e7377d6217e94cc8fc7c77b5b2">PROC_EX_NORMAL_HIT</a> | <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ac9aaef596a1061b6b944e1dc0e679b46a970bdf3e5f6192a44f1047c0a9c01310">PROC_EX_CRITICAL_HIT</a>)) &amp;&amp; active)</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    }</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="keywordflow">else</span> <span class="comment">// Passive spells hits here only if resist/reflect/immune/evade</span></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    {</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        <span class="keywordflow">if</span> (procExtra &amp; <a class="code" href="../../d3/d75/_spell_mgr_8h.html#a38a52b76af6f14f7d3ad3282be428da8">AURA_SPELL_PROC_EX_MASK</a>)</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        {</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;            <span class="comment">// if spell marked as procing only from not active spells</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;            <span class="keywordflow">if</span> (active &amp;&amp; procEvent_procEx &amp; <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ac9aaef596a1061b6b944e1dc0e679b46af9c43b17dd5136a8eaeb30135047eac0">PROC_EX_NOT_ACTIVE_SPELL</a>)</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;            <span class="comment">// if spell marked as procing only from active spells</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;            <span class="keywordflow">if</span> (!active &amp;&amp; procEvent_procEx &amp; <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ac9aaef596a1061b6b944e1dc0e679b46abaa632530ec78fe5964cb1591b91e3b9">PROC_EX_ONLY_ACTIVE_SPELL</a>)</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;            <span class="comment">// Exist req for PROC_EX_EX_TRIGGER_ALWAYS</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;            <span class="keywordflow">if</span> (procEvent_procEx &amp; <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ac9aaef596a1061b6b944e1dc0e679b46af6f8bdaf5b930cca33c0866127c57963">PROC_EX_EX_TRIGGER_ALWAYS</a>)</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;            <span class="comment">// PROC_EX_NOT_ACTIVE_SPELL and PROC_EX_ONLY_ACTIVE_SPELL flags handle: if passed checks before</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;            <span class="keywordflow">if</span> ((procExtra &amp; (<a class="code" href="../../d3/d75/_spell_mgr_8h.html#ac9aaef596a1061b6b944e1dc0e679b46aa0c2a4e7377d6217e94cc8fc7c77b5b2">PROC_EX_NORMAL_HIT</a> | <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ac9aaef596a1061b6b944e1dc0e679b46a970bdf3e5f6192a44f1047c0a9c01310">PROC_EX_CRITICAL_HIT</a>)) &amp;&amp; ((procEvent_procEx &amp; (<a class="code" href="../../d3/d75/_spell_mgr_8h.html#a38a52b76af6f14f7d3ad3282be428da8">AURA_SPELL_PROC_EX_MASK</a>)) == 0))</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        }</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        <span class="comment">// Check Extra Requirement like (hit/crit/miss/resist/parry/dodge/block/immune/reflect/absorb and other)</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        <span class="keywordflow">if</span> (procEvent_procEx &amp; procExtra)</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    }</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;}</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160; </div>
<div class="line"><a name="l00882"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#aa5fc4532b216d557e88841f5ffc00865">  882</a></span>&#160;<a class="code" href="../../d0/d79/struct_spell_proc_entry.html">SpellProcEntry</a> <span class="keyword">const</span>* <a class="code" href="../../dc/d9a/class_spell_mgr.html#aa5fc4532b216d557e88841f5ffc00865">SpellMgr::GetSpellProcEntry</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId)<span class="keyword"> const</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    SpellProcMap::const_iterator itr = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a9f6998b4fee8fba87ad8d372abd8693d">mSpellProcMap</a>.find(spellId);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="keywordflow">if</span> (itr != <a class="code" href="../../dc/d9a/class_spell_mgr.html#a9f6998b4fee8fba87ad8d372abd8693d">mSpellProcMap</a>.end())</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        <span class="keywordflow">return</span> &amp;itr-&gt;second;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;}</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160; </div>
<div class="line"><a name="l00890"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a919c83a4b20dbe2095f7ec0992c00593">  890</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a919c83a4b20dbe2095f7ec0992c00593">SpellMgr::CanSpellTriggerProcOnEvent</a>(<a class="code" href="../../d0/d79/struct_spell_proc_entry.html">SpellProcEntry</a> <span class="keyword">const</span>&amp; procEntry, <a class="code" href="../../df/def/class_proc_event_info.html">ProcEventInfo</a>&amp; eventInfo)<span class="keyword"> const</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <span class="comment">// proc type doesn&#39;t match</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <span class="keywordflow">if</span> (!(eventInfo.<a class="code" href="../../df/def/class_proc_event_info.html#a5e2c60a3e242f69afa2cb2bccf5a072b">GetTypeMask</a>() &amp; procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#acd5e69b6eba5baf1a4f476b794d81245">typeMask</a>))</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160; </div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="comment">// check XP or honor target requirement</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <span class="keywordflow">if</span> (procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#ab04dfe18fbf2d7921b83a9feb75e3bed">attributesMask</a> &amp; <a class="code" href="../../d3/d75/_spell_mgr_8h.html#a7fd74f5d829c140285ca6ed18c0e136aa93a1480d7caabfa7a963f8ada8c5fe83">PROC_ATTR_REQ_EXP_OR_HONOR</a>)</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html">Player</a>* actor = eventInfo.<a class="code" href="../../df/def/class_proc_event_info.html#a958e2f1cabb9e39bc575504f9ca568df">GetActor</a>()-&gt;<a class="code" href="../../d8/d83/class_object.html#ae635434021784608b659501867538c87">ToPlayer</a>())</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;            <span class="keywordflow">if</span> (eventInfo.<a class="code" href="../../df/def/class_proc_event_info.html#ad63bc4856be234d9968568b04cdf636a">GetActionTarget</a>() &amp;&amp; !actor-&gt;isHonorOrXPTarget(eventInfo.<a class="code" href="../../df/def/class_proc_event_info.html#ad63bc4856be234d9968568b04cdf636a">GetActionTarget</a>()))</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160; </div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <span class="comment">// always trigger for these types</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <span class="keywordflow">if</span> (eventInfo.<a class="code" href="../../df/def/class_proc_event_info.html#a5e2c60a3e242f69afa2cb2bccf5a072b">GetTypeMask</a>() &amp; (<a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a77a138ad03b6e16e4ab21aba26d98ec3">PROC_FLAG_KILLED</a> | <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6aadedce3b69f2042ebb950a48165fc89a">PROC_FLAG_KILL</a> | <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a8b6d98edef5c8763d9b8d5f0d1b95d40">PROC_FLAG_DEATH</a>))</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160; </div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="comment">// check school mask (if set) for other trigger types</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <span class="keywordflow">if</span> (procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a37c81140671915c9c4c7b918b8f43da3">schoolMask</a> &amp;&amp; !(eventInfo.<a class="code" href="../../df/def/class_proc_event_info.html#a175351e318f9066e28a8d106e9c9e1f9">GetSchoolMask</a>() &amp; procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a37c81140671915c9c4c7b918b8f43da3">schoolMask</a>))</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160; </div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <span class="comment">// check spell family name/flags (if set) for spells</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="keywordflow">if</span> (eventInfo.<a class="code" href="../../df/def/class_proc_event_info.html#a5e2c60a3e242f69afa2cb2bccf5a072b">GetTypeMask</a>() &amp; (<a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a6d718a09392612753a07abe19d65299c">PERIODIC_PROC_FLAG_MASK</a> | <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6adc3fb7dd56615e62d28af0ea87793d58">SPELL_PROC_FLAG_MASK</a> | <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6aec3e2077cfabdc92fbbc9a1858dd5c7b">PROC_FLAG_DONE_TRAP_ACTIVATION</a>))</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    {</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        <span class="keywordflow">if</span> (procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a82cff6363f5f9d3182d1bd2cc0ff59e7">spellFamilyName</a> &amp;&amp; (procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a82cff6363f5f9d3182d1bd2cc0ff59e7">spellFamilyName</a> != eventInfo.<a class="code" href="../../df/def/class_proc_event_info.html#a759add2c89e786125196eb6bd3b20c6d">GetSpellInfo</a>()-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#af6ec577353f7d3cc59badd7d332153b0">SpellFamilyName</a>))</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160; </div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        <span class="keywordflow">if</span> (procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#ad55f6065cded92a10a6fe07d992c69f1">spellFamilyMask</a> &amp;&amp; !(procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#ad55f6065cded92a10a6fe07d992c69f1">spellFamilyMask</a> &amp; eventInfo.<a class="code" href="../../df/def/class_proc_event_info.html#a759add2c89e786125196eb6bd3b20c6d">GetSpellInfo</a>()-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>))</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    }</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160; </div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <span class="comment">// check spell type mask (if set)</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <span class="keywordflow">if</span> (eventInfo.<a class="code" href="../../df/def/class_proc_event_info.html#a5e2c60a3e242f69afa2cb2bccf5a072b">GetTypeMask</a>() &amp; (<a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6adc3fb7dd56615e62d28af0ea87793d58">SPELL_PROC_FLAG_MASK</a> | <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a6d718a09392612753a07abe19d65299c">PERIODIC_PROC_FLAG_MASK</a>))</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    {</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        <span class="keywordflow">if</span> (procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a1b238888060e155a17d7920a66221fad">spellTypeMask</a> &amp;&amp; !(eventInfo.<a class="code" href="../../df/def/class_proc_event_info.html#a4182094d88130ae30dd6c5f3f73c18c0">GetSpellTypeMask</a>() &amp; procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a1b238888060e155a17d7920a66221fad">spellTypeMask</a>))</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    }</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160; </div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="comment">// check spell phase mask</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <span class="keywordflow">if</span> (eventInfo.<a class="code" href="../../df/def/class_proc_event_info.html#a5e2c60a3e242f69afa2cb2bccf5a072b">GetTypeMask</a>() &amp; <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a9e17ffa130a52703402b183e53ec18c9">REQ_SPELL_PHASE_PROC_FLAG_MASK</a>)</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    {</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        <span class="keywordflow">if</span> (!(eventInfo.<a class="code" href="../../df/def/class_proc_event_info.html#ab3b2d919ecc5f4bfd15e3656a6990708">GetSpellPhaseMask</a>() &amp; procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#ab6e0a5194005183f1e6ecedff210b83e">spellPhaseMask</a>))</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    }</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160; </div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <span class="comment">// check hit mask (on taken hit or on done hit, but not on spell cast phase)</span></div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    <span class="keywordflow">if</span> ((eventInfo.<a class="code" href="../../df/def/class_proc_event_info.html#a5e2c60a3e242f69afa2cb2bccf5a072b">GetTypeMask</a>() &amp; <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a4ef079da228b08645ef20ead47c22a73">TAKEN_HIT_PROC_FLAG_MASK</a>) || ((eventInfo.<a class="code" href="../../df/def/class_proc_event_info.html#a5e2c60a3e242f69afa2cb2bccf5a072b">GetTypeMask</a>() &amp; <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6ae0cef27dc24d6bd6fa46efa85df7d488">DONE_HIT_PROC_FLAG_MASK</a>) &amp;&amp; !(eventInfo.<a class="code" href="../../df/def/class_proc_event_info.html#ab3b2d919ecc5f4bfd15e3656a6990708">GetSpellPhaseMask</a>() &amp; <a class="code" href="../../d3/d75/_spell_mgr_8h.html#addbb65f0e6c920d8577112d9dd55beb4a617052b5687a5e0fa6d4106e3816449d">PROC_SPELL_PHASE_CAST</a>)))</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    {</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> hitMask = procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a8e9056eee5cca760291dedd23822d998">hitMask</a>;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        <span class="comment">// get default values if hit mask not set</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        <span class="keywordflow">if</span> (!hitMask)</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        {</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;            <span class="comment">// for taken procs allow normal + critical hits by default</span></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;            <span class="keywordflow">if</span> (eventInfo.<a class="code" href="../../df/def/class_proc_event_info.html#a5e2c60a3e242f69afa2cb2bccf5a072b">GetTypeMask</a>() &amp; <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a4ef079da228b08645ef20ead47c22a73">TAKEN_HIT_PROC_FLAG_MASK</a>)</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;                hitMask |= <a class="code" href="../../d3/d75/_spell_mgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9ae95d140282fc160c7b229ab5c7409799">PROC_HIT_NORMAL</a> | <a class="code" href="../../d3/d75/_spell_mgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9ae0db62fc42fe80503a49d3b3197b8d12">PROC_HIT_CRITICAL</a>;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;            <span class="comment">// for done procs allow normal + critical + absorbs by default</span></div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                hitMask |= <a class="code" href="../../d3/d75/_spell_mgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9ae95d140282fc160c7b229ab5c7409799">PROC_HIT_NORMAL</a> | <a class="code" href="../../d3/d75/_spell_mgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9ae0db62fc42fe80503a49d3b3197b8d12">PROC_HIT_CRITICAL</a> | <a class="code" href="../../d3/d75/_spell_mgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9ac3e5e7204eb9768e20c9a484f55a813b">PROC_HIT_ABSORB</a>;</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        }</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        <span class="keywordflow">if</span> (!(eventInfo.<a class="code" href="../../df/def/class_proc_event_info.html#a0129f2b5cfdebb9f3618331e297a0db1">GetHitMask</a>() &amp; hitMask))</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    }</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160; </div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;}</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160; </div>
<div class="line"><a name="l00955"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a39f100081db0eed42978f65b80592a78">  955</a></span>&#160;<a class="code" href="../../d0/dae/struct_spell_bonus_entry.html">SpellBonusEntry</a> <span class="keyword">const</span>* <a class="code" href="../../dc/d9a/class_spell_mgr.html#a39f100081db0eed42978f65b80592a78">SpellMgr::GetSpellBonusData</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId)<span class="keyword"> const</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="comment">// Lookup data</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    SpellBonusMap::const_iterator itr = <a class="code" href="../../dc/d9a/class_spell_mgr.html#acad2b4b3647850a59bea2a0763ef972c">mSpellBonusMap</a>.find(spellId);</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="keywordflow">if</span> (itr != <a class="code" href="../../dc/d9a/class_spell_mgr.html#acad2b4b3647850a59bea2a0763ef972c">mSpellBonusMap</a>.end())</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        <span class="keywordflow">return</span> &amp;itr-&gt;second;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="comment">// Not found, try lookup for 1 spell rank if exist</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> rank_1 = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a917957b9f03d8fec71dde17da1a88d51">GetFirstSpellInChain</a>(spellId))</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    {</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        SpellBonusMap::const_iterator itr2 = <a class="code" href="../../dc/d9a/class_spell_mgr.html#acad2b4b3647850a59bea2a0763ef972c">mSpellBonusMap</a>.find(rank_1);</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        <span class="keywordflow">if</span> (itr2 != <a class="code" href="../../dc/d9a/class_spell_mgr.html#acad2b4b3647850a59bea2a0763ef972c">mSpellBonusMap</a>.end())</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;            <span class="keywordflow">return</span> &amp;itr2-&gt;second;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    }</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;}</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160; </div>
<div class="line"><a name="l00971"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a88999f0d29a0aba73ec20deef99297a8">  971</a></span>&#160;<a class="code" href="../../d0/da7/struct_spell_threat_entry.html">SpellThreatEntry</a> <span class="keyword">const</span>* <a class="code" href="../../dc/d9a/class_spell_mgr.html#a88999f0d29a0aba73ec20deef99297a8">SpellMgr::GetSpellThreatEntry</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellID)<span class="keyword"> const</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    SpellThreatMap::const_iterator itr = <a class="code" href="../../dc/d9a/class_spell_mgr.html#ae9c903197d7e59109bdc7675663ff93f">mSpellThreatMap</a>.find(spellID);</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="keywordflow">if</span> (itr != <a class="code" href="../../dc/d9a/class_spell_mgr.html#ae9c903197d7e59109bdc7675663ff93f">mSpellThreatMap</a>.end())</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        <span class="keywordflow">return</span> &amp;itr-&gt;second;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    {</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> firstSpell = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a917957b9f03d8fec71dde17da1a88d51">GetFirstSpellInChain</a>(spellID);</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        itr = <a class="code" href="../../dc/d9a/class_spell_mgr.html#ae9c903197d7e59109bdc7675663ff93f">mSpellThreatMap</a>.find(firstSpell);</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        <span class="keywordflow">if</span> (itr != <a class="code" href="../../dc/d9a/class_spell_mgr.html#ae9c903197d7e59109bdc7675663ff93f">mSpellThreatMap</a>.end())</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;            <span class="keywordflow">return</span> &amp;itr-&gt;second;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    }</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;}</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160; </div>
<div class="line"><a name="l00986"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a427b7f918b77886b820f3a7518271bc0">  986</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a427b7f918b77886b820f3a7518271bc0">SpellMgr::GetSpellMixologyBonus</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId)<span class="keyword"> const</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    SpellMixologyMap::const_iterator itr = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a5637b3248011a308a57338e6f74b7bdd">mSpellMixologyMap</a>.find(spellId);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <span class="keywordflow">if</span> (itr == <a class="code" href="../../dc/d9a/class_spell_mgr.html#a5637b3248011a308a57338e6f74b7bdd">mSpellMixologyMap</a>.end())</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        <span class="keywordflow">return</span> 30.0f;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160; </div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    <span class="keywordflow">return</span> itr-&gt;second;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;}</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160; </div>
<div class="line"><a name="l00995"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a3ae3376eeaa7e4a445075d651d3493aa">  995</a></span>&#160;<a class="code" href="../../d3/d75/_spell_mgr_8h.html#ac821b7d2d8a9effd8fafef038528e877">SkillLineAbilityMapBounds</a> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a3ae3376eeaa7e4a445075d651d3493aa">SpellMgr::GetSkillLineAbilityMapBounds</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id)<span class="keyword"> const</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a1230ba374bf128c6d0857d787bb68af4">mSkillLineAbilityMap</a>.equal_range(spell_id);</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;}</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160; </div>
<div class="line"><a name="l01000"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#ae1b22f6a0392194bcaf234148f693237"> 1000</a></span>&#160;<a class="code" href="../../d3/d0b/class_pet_aura.html">PetAura</a> <span class="keyword">const</span>* <a class="code" href="../../dc/d9a/class_spell_mgr.html#ae1b22f6a0392194bcaf234148f693237">SpellMgr::GetPetAura</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id, <a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> eff)<span class="keyword"> const</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    SpellPetAuraMap::const_iterator itr = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a32090ca7b9037cdd52aa11d5ecb1bc51">mSpellPetAuraMap</a>.find((spell_id &lt;&lt; 8) + eff);</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="keywordflow">if</span> (itr != <a class="code" href="../../dc/d9a/class_spell_mgr.html#a32090ca7b9037cdd52aa11d5ecb1bc51">mSpellPetAuraMap</a>.end())</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        <span class="keywordflow">return</span> &amp;itr-&gt;second;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;}</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160; </div>
<div class="line"><a name="l01009"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#ab4b0ea63ff350768aedc13ab7dbbf576"> 1009</a></span>&#160;<a class="code" href="../../d3/dc4/struct_spell_enchant_proc_entry.html">SpellEnchantProcEntry</a> <span class="keyword">const</span>* <a class="code" href="../../dc/d9a/class_spell_mgr.html#ab4b0ea63ff350768aedc13ab7dbbf576">SpellMgr::GetSpellEnchantProcEvent</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> enchId)<span class="keyword"> const</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    SpellEnchantProcEventMap::const_iterator itr = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a92a4c6ade6c7005f1d001c6935139272">mSpellEnchantProcEventMap</a>.find(enchId);</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <span class="keywordflow">if</span> (itr != <a class="code" href="../../dc/d9a/class_spell_mgr.html#a92a4c6ade6c7005f1d001c6935139272">mSpellEnchantProcEventMap</a>.end())</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;        <span class="keywordflow">return</span> &amp;itr-&gt;second;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;}</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160; </div>
<div class="line"><a name="l01017"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#ae99d902c882462c230177ae98b8d6ddd"> 1017</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#ae99d902c882462c230177ae98b8d6ddd">SpellMgr::IsArenaAllowedEnchancment</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> ench_id)<span class="keyword"> const</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a1d1bde8d692b959379b27d29bfdd1e48">mEnchantCustomAttr</a>[ench_id];</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;}</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160; </div>
<div class="line"><a name="l01022"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a584653ee18b92069bbfe9e934eeef3bb"> 1022</a></span>&#160;<span class="keyword">const</span> std::vector&lt;int32&gt;* <a class="code" href="../../dc/d9a/class_spell_mgr.html#a584653ee18b92069bbfe9e934eeef3bb">SpellMgr::GetSpellLinked</a>(<a class="code" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> spell_id)<span class="keyword"> const</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    SpellLinkedMap::const_iterator itr = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a032f25dee822225e2dfbb75e1c6d56f5">mSpellLinkedMap</a>.find(spell_id);</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <span class="keywordflow">return</span> itr != <a class="code" href="../../dc/d9a/class_spell_mgr.html#a032f25dee822225e2dfbb75e1c6d56f5">mSpellLinkedMap</a>.end() ? &amp;(itr-&gt;second) : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;}</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160; </div>
<div class="line"><a name="l01028"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a2167cf52f6947d5dc921b3f08afce83a"> 1028</a></span>&#160;<a class="code" href="../../d3/d75/_spell_mgr_8h.html#aff302d7ad23409ef738f15bcb560ed89">PetLevelupSpellSet</a> <span class="keyword">const</span>* <a class="code" href="../../dc/d9a/class_spell_mgr.html#a2167cf52f6947d5dc921b3f08afce83a">SpellMgr::GetPetLevelupSpellList</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> petFamily)<span class="keyword"> const</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    PetLevelupSpellMap::const_iterator itr = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a961a18df4995256a1754503ff574f11e">mPetLevelupSpellMap</a>.find(petFamily);</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <span class="keywordflow">if</span> (itr != <a class="code" href="../../dc/d9a/class_spell_mgr.html#a961a18df4995256a1754503ff574f11e">mPetLevelupSpellMap</a>.end())</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;        <span class="keywordflow">return</span> &amp;itr-&gt;second;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;}</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160; </div>
<div class="line"><a name="l01037"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#aacc0a22eca190f3633657be4d3387e9d"> 1037</a></span>&#160;<a class="code" href="../../d2/d72/struct_pet_default_spells_entry.html">PetDefaultSpellsEntry</a> <span class="keyword">const</span>* <a class="code" href="../../dc/d9a/class_spell_mgr.html#aacc0a22eca190f3633657be4d3387e9d">SpellMgr::GetPetDefaultSpellsEntry</a>(<a class="code" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> <span class="keywordtype">id</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    PetDefaultSpellsMap::const_iterator itr = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a4ec8d854c5357f1edfd29a136203b0da">mPetDefaultSpellsMap</a>.find(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <span class="keywordflow">if</span> (itr != <a class="code" href="../../dc/d9a/class_spell_mgr.html#a4ec8d854c5357f1edfd29a136203b0da">mPetDefaultSpellsMap</a>.end())</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        <span class="keywordflow">return</span> &amp;itr-&gt;second;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;}</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160; </div>
<div class="line"><a name="l01045"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a126f0b2c2c1bdedea38a31967bee99a9"> 1045</a></span>&#160;<a class="code" href="../../d3/d75/_spell_mgr_8h.html#a4edcdc3e020b29d06505e8048874c414">SpellAreaMapBounds</a> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a126f0b2c2c1bdedea38a31967bee99a9">SpellMgr::GetSpellAreaMapBounds</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id)<span class="keyword"> const</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#ac68d8e843d1a7a14d16c397e4595ce17">mSpellAreaMap</a>.equal_range(spell_id);</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;}</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160; </div>
<div class="line"><a name="l01050"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a3645472cf901d4fc9d42c9f8af8164b4"> 1050</a></span>&#160;<a class="code" href="../../d3/d75/_spell_mgr_8h.html#aebca17b4bc1b0129c26a7c769d90159b">SpellAreaForQuestMapBounds</a> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a3645472cf901d4fc9d42c9f8af8164b4">SpellMgr::GetSpellAreaForQuestMapBounds</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id)<span class="keyword"> const</span></div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#aeb50fa0b06b178d23731a9d27156b7b7">mSpellAreaForQuestMap</a>.equal_range(quest_id);</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;}</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160; </div>
<div class="line"><a name="l01055"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a24a05bd91ad57dcef7fa0fee73daa867"> 1055</a></span>&#160;<a class="code" href="../../d3/d75/_spell_mgr_8h.html#aebca17b4bc1b0129c26a7c769d90159b">SpellAreaForQuestMapBounds</a> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a24a05bd91ad57dcef7fa0fee73daa867">SpellMgr::GetSpellAreaForQuestEndMapBounds</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id)<span class="keyword"> const</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a4943f12ccc2090045b94e26a53e935a2">mSpellAreaForQuestEndMap</a>.equal_range(quest_id);</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;}</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160; </div>
<div class="line"><a name="l01060"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a65d4c8ef866eb02e4a8e81b3166286c1"> 1060</a></span>&#160;<a class="code" href="../../d3/d75/_spell_mgr_8h.html#ac0bf7c1f4212d9675abaaa9b3ca6f33d">SpellAreaForAuraMapBounds</a> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a65d4c8ef866eb02e4a8e81b3166286c1">SpellMgr::GetSpellAreaForAuraMapBounds</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id)<span class="keyword"> const</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a24cfc05b7291e1e490fed982059a7c66">mSpellAreaForAuraMap</a>.equal_range(spell_id);</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;}</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160; </div>
<div class="line"><a name="l01065"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#ae41eaa751f7d67dfa0c38aa55b2f6c7e"> 1065</a></span>&#160;<a class="code" href="../../d3/d75/_spell_mgr_8h.html#a69bbd3906e9d334176d6a0ffde617490">SpellAreaForAreaMapBounds</a> <a class="code" href="../../dc/d9a/class_spell_mgr.html#ae41eaa751f7d67dfa0c38aa55b2f6c7e">SpellMgr::GetSpellAreaForAreaMapBounds</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> area_id)<span class="keyword"> const</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#ab76464f94e9f4189902985e9e86147e3">mSpellAreaForAreaMap</a>.equal_range(area_id);</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;}</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160; </div>
<div class="line"><a name="l01070"></a><span class="lineno"><a class="line" href="../../da/d40/struct_spell_area.html#af1585273701356a591bf9d9483e996a3"> 1070</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../da/d40/struct_spell_area.html#af1585273701356a591bf9d9483e996a3">SpellArea::IsFitToRequirements</a>(<a class="code" href="../../d8/d53/class_player.html">Player</a> <span class="keyword">const</span>* player, <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> newZone, <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> newArea)<span class="keyword"> const</span></div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/d40/struct_spell_area.html#af4314cba9c91fd1e2c09905c17c67d22">gender</a> != <a class="code" href="../../df/d0b/_shared_defines_8h.html#a3667e3c5ec056737c8789615a989324fafe69f428f13193dcfd8ed8f30d6d2e07">GENDER_NONE</a>)                   <span class="comment">// not in expected gender</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        <span class="keywordflow">if</span> (!player || <a class="code" href="../../da/d40/struct_spell_area.html#af4314cba9c91fd1e2c09905c17c67d22">gender</a> != player-&gt;<a class="code" href="../../da/db7/class_unit.html#a0d13935c40d0392f7f7b5a34540461b2">getGender</a>())</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/d40/struct_spell_area.html#a402373ff841bd2aa47b4b36a581624cc">raceMask</a>)                                <span class="comment">// not in expected race</span></div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;        <span class="keywordflow">if</span> (!player || !(<a class="code" href="../../da/d40/struct_spell_area.html#a402373ff841bd2aa47b4b36a581624cc">raceMask</a> &amp; player-&gt;<a class="code" href="../../da/db7/class_unit.html#a9819c2f13647afe6ac172fb5313cfd83">getRaceMask</a>()))</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160; </div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/d40/struct_spell_area.html#af7e6f7b027388447a1f99e759975ca09">areaId</a>)                                  <span class="comment">// not in expected zone</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        <span class="keywordflow">if</span> (newZone != <a class="code" href="../../da/d40/struct_spell_area.html#af7e6f7b027388447a1f99e759975ca09">areaId</a> &amp;&amp; newArea != <a class="code" href="../../da/d40/struct_spell_area.html#af7e6f7b027388447a1f99e759975ca09">areaId</a>)</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160; </div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/d40/struct_spell_area.html#afc99b14a3724fef7c5dd70e976a479a8">questStart</a>)                              <span class="comment">// not in expected required quest state</span></div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;        <span class="keywordflow">if</span> (!player || (((1 &lt;&lt; player-&gt;<a class="code" href="../../d8/d53/class_player.html#ab98c62b0161d702e4219c8277f8f5349">GetQuestStatus</a>(<a class="code" href="../../da/d40/struct_spell_area.html#afc99b14a3724fef7c5dd70e976a479a8">questStart</a>)) &amp; <a class="code" href="../../da/d40/struct_spell_area.html#a7f4466dfd9ab56850a36d0d09ff84798">questStartStatus</a>) == 0))</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160; </div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/d40/struct_spell_area.html#a075cc2bc4d8c9663b2bdb2cf8ba77f5f">questEnd</a>)                                <span class="comment">// not in expected forbidden quest state</span></div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;        <span class="keywordflow">if</span> (!player || (((1 &lt;&lt; player-&gt;<a class="code" href="../../d8/d53/class_player.html#ab98c62b0161d702e4219c8277f8f5349">GetQuestStatus</a>(<a class="code" href="../../da/d40/struct_spell_area.html#a075cc2bc4d8c9663b2bdb2cf8ba77f5f">questEnd</a>)) &amp; <a class="code" href="../../da/d40/struct_spell_area.html#ac6c7ed326628642da138bb3835db9a1d">questEndStatus</a>) == 0))</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160; </div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/d40/struct_spell_area.html#adaf2f6f7c56701fe42a2674aca74fba0">auraSpell</a>)                               <span class="comment">// not have expected aura</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        <span class="keywordflow">if</span> (!player || (<a class="code" href="../../da/d40/struct_spell_area.html#adaf2f6f7c56701fe42a2674aca74fba0">auraSpell</a> &gt; 0 &amp;&amp; !player-&gt;<a class="code" href="../../da/db7/class_unit.html#a69c5ac45b65cf0dede6e0ee837361f61">HasAura</a>(<a class="code" href="../../da/d40/struct_spell_area.html#adaf2f6f7c56701fe42a2674aca74fba0">auraSpell</a>)) || (auraSpell &lt; 0 &amp;&amp; player-&gt;HasAura(-<a class="code" href="../../da/d40/struct_spell_area.html#adaf2f6f7c56701fe42a2674aca74fba0">auraSpell</a>)))</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160; </div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="comment">// Extra conditions -- leaving the possibility add extra conditions...</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="../../da/d40/struct_spell_area.html#a8a299d901e2c13cdc3c00d6cf0a856d3">spellId</a>)</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    {</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        <span class="keywordflow">case</span> 58600: <span class="comment">// No fly Zone - Dalaran</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;            {</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;                <span class="keywordflow">if</span> (!player)</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160; </div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;                <a class="code" href="../../d9/d6a/struct_area_table_entry.html">AreaTableEntry</a> <span class="keyword">const</span>* pArea = <a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#ac462c4dbc09104eef6a08a7b160c0406">sAreaTableStore</a>.LookupEntry(player-&gt;<a class="code" href="../../db/df7/class_world_object.html#acdd585ef58eb876c506389ff96a4fbd9">GetAreaId</a>());</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;                <span class="keywordflow">if</span> (!(pArea &amp;&amp; pArea-&gt;<a class="code" href="../../d9/d6a/struct_area_table_entry.html#a5854e3f565d827dbad3d9a36f99e9a25">flags</a> &amp; <a class="code" href="../../dc/d6e/_d_b_c_enums_8h.html#ab8e24c5cd27834059bb62c245412fe72afabf36ba773b9f7fbe87f43bcd173128">AREA_FLAG_NO_FLY_ZONE</a>))</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;                <span class="keywordflow">if</span> (!player-&gt;<a class="code" href="../../da/db7/class_unit.html#a9cd076c7f1e10e71af51ffc1ea1f9136">HasAuraType</a>(<a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799aee4933438da47b18e67ffeb26e91f20b">SPELL_AURA_MOD_INCREASE_MOUNTED_FLIGHT_SPEED</a>) &amp;&amp; !player-&gt;<a class="code" href="../../da/db7/class_unit.html#a9cd076c7f1e10e71af51ffc1ea1f9136">HasAuraType</a>(<a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a6b0ccd5195567a4744da1763b92159e3">SPELL_AURA_FLY</a>))</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;                <span class="comment">// Xinef: Underbelly elixir</span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;                <span class="keywordflow">if</span> (player-&gt;<a class="code" href="../../d1/d26/struct_position.html#a4e813a59345a6275e8b87b96be03e60b">GetPositionZ</a>() &lt; 637.0f &amp;&amp; player-&gt;<a class="code" href="../../da/db7/class_unit.html#a9cd076c7f1e10e71af51ffc1ea1f9136">HasAuraType</a>(<a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799ab4e25ba6068fba0c5d7c5ac8adbbf8fa">SPELL_AURA_TRANSFORM</a>))</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;            }</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        <span class="keywordflow">case</span> 58730: <span class="comment">// No fly Zone - Wintergrasp</span></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;            {</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;                <span class="keywordflow">if</span> (!player)</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160; </div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                <a class="code" href="../../d3/d42/class_battlefield.html">Battlefield</a>* Bf = <a class="code" href="../../dc/df4/_battlefield_mgr_8h.html#a4545b2a440043037e8dad52c0f644f48">sBattlefieldMgr</a>-&gt;GetBattlefieldToZoneId(player-&gt;<a class="code" href="../../db/df7/class_world_object.html#ad498d690fbe69bb99a8a2ffdcb2f5169">GetZoneId</a>());</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                <span class="keywordflow">if</span> (!Bf || Bf-&gt;<a class="code" href="../../d3/d42/class_battlefield.html#aa5ed54065b1201e086a89240a6acc1cc">CanFlyIn</a>() || (!player-&gt;<a class="code" href="../../da/db7/class_unit.html#a9cd076c7f1e10e71af51ffc1ea1f9136">HasAuraType</a>(<a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799aee4933438da47b18e67ffeb26e91f20b">SPELL_AURA_MOD_INCREASE_MOUNTED_FLIGHT_SPEED</a>) &amp;&amp; !player-&gt;<a class="code" href="../../da/db7/class_unit.html#a9cd076c7f1e10e71af51ffc1ea1f9136">HasAuraType</a>(<a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a6b0ccd5195567a4744da1763b92159e3">SPELL_AURA_FLY</a>)))</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;            }</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        <span class="comment">// xinef: northrend flying mounts</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        <span class="comment">// xinef: NE wisp and spectral gryphon</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        <span class="keywordflow">case</span> 55164:</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        <span class="keywordflow">case</span> 55173:</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;            {</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;                <a class="code" href="../../d3/d42/class_battlefield.html">Battlefield</a>* Bf = <a class="code" href="../../dc/df4/_battlefield_mgr_8h.html#a4545b2a440043037e8dad52c0f644f48">sBattlefieldMgr</a>-&gt;GetBattlefieldToZoneId(player-&gt;<a class="code" href="../../db/df7/class_world_object.html#ad498d690fbe69bb99a8a2ffdcb2f5169">GetZoneId</a>());</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;                <span class="keywordflow">return</span> !Bf || Bf-&gt;<a class="code" href="../../d3/d42/class_battlefield.html#aa5ed54065b1201e086a89240a6acc1cc">CanFlyIn</a>();</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;            }</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        <span class="keywordflow">case</span> 57940: <span class="comment">// Essence of Wintergrasp OUTSIDE</span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;        <span class="keywordflow">case</span> 58045: <span class="comment">// Essence of Wintergrasp INSIDE</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;            {</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;                <span class="keywordflow">if</span> (!player)</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160; </div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getBoolConfig(<a class="code" href="../../d2/d80/_i_world_8h.html#a1b4b88c03b7d0124998b4c22e957baf0aa64237bf7ab70e8554559907e4d54c8a">CONFIG_WINTERGRASP_ENABLE</a>))</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160; </div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                <a class="code" href="../../d3/d42/class_battlefield.html">Battlefield</a>* Bf = <a class="code" href="../../dc/df4/_battlefield_mgr_8h.html#a4545b2a440043037e8dad52c0f644f48">sBattlefieldMgr</a>-&gt;GetBattlefieldByBattleId(<a class="code" href="../../d0/d88/_battlefield_8h.html#aff53bf428d550c270744c9a188d4187fa38e75e8c40750cb29f0d478d19974010">BATTLEFIELD_BATTLEID_WG</a>);</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;                <span class="keywordflow">if</span> (!Bf || player-&gt;<a class="code" href="../../d8/d53/class_player.html#a4874f5c152e187c381c2a349f16aa0d4">GetTeamId</a>() != Bf-&gt;<a class="code" href="../../d3/d42/class_battlefield.html#a6199f0a6ab9a392b650d3d1f83396ec4">GetDefenderTeam</a>() || Bf-&gt;<a class="code" href="../../d3/d42/class_battlefield.html#a8b0c38a6d6ef3096cfb333ca3fea72b5">IsWarTime</a>())</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;            }</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        <span class="keywordflow">case</span> 74411: <span class="comment">// Battleground - Dampening</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;            {</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;                <span class="keywordflow">if</span> (!player)</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160; </div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d3/d42/class_battlefield.html">Battlefield</a>* bf = <a class="code" href="../../dc/df4/_battlefield_mgr_8h.html#a4545b2a440043037e8dad52c0f644f48">sBattlefieldMgr</a>-&gt;GetBattlefieldToZoneId(player-&gt;<a class="code" href="../../db/df7/class_world_object.html#ad498d690fbe69bb99a8a2ffdcb2f5169">GetZoneId</a>()))</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;                    <span class="keywordflow">return</span> bf-&gt;IsWarTime();</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;            }</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        <span class="keywordflow">case</span> 68719: <span class="comment">// Oil Refinery - Isle of Conquest.</span></div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;        <span class="keywordflow">case</span> 68720: <span class="comment">// Quarry - Isle of Conquest.</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;            {</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;                <span class="keywordflow">if</span> (!player)</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160; </div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;                <a class="code" href="../../d6/ddc/class_battleground.html">Battleground</a>* bg = player-&gt;<a class="code" href="../../d8/d53/class_player.html#a5f17db78f9356bf239b7631ebc38fa2d">GetBattleground</a>();</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;                <span class="keywordflow">if</span> (!bg || bg-&gt;<a class="code" href="../../d6/ddc/class_battleground.html#adfd6af85ad435ecdab7129e810ba2319">GetBgTypeID</a>(<span class="keyword">true</span>) != <a class="code" href="../../df/d0b/_shared_defines_8h.html#aadb41be7fdd6b2a7035356dca5e5ea6ea0bbe26d588c3dbd56c898f29589caabf">BATTLEGROUND_IC</a>)</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160; </div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;                <a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> nodeType = <a class="code" href="../../da/d40/struct_spell_area.html#a8a299d901e2c13cdc3c00d6cf0a856d3">spellId</a> == 68719 ? <a class="code" href="../../d4/daa/_battleground_i_c_8h.html#a257626efe0e7f74e034fc1202dbfea07a43095ce2c82f3a9cf2a6f7d496b78af0">NODE_TYPE_REFINERY</a> : <a class="code" href="../../d4/daa/_battleground_i_c_8h.html#a257626efe0e7f74e034fc1202dbfea07a9742305a0d95ee6acacae283891dcd3e">NODE_TYPE_QUARRY</a>;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                <a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> nodeState = player-&gt;<a class="code" href="../../d8/d53/class_player.html#a4874f5c152e187c381c2a349f16aa0d4">GetTeamId</a>() == <a class="code" href="../../df/d0b/_shared_defines_8h.html#a7513eda5ac39f7f649b82c80de7c324da77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a> ? <a class="code" href="../../d4/daa/_battleground_i_c_8h.html#aa3b18929571d0cc0cd2b821c243a1dfea7320ed68f6222cdd1b03d71e24eba3bc">NODE_STATE_CONTROLLED_A</a> : <a class="code" href="../../d4/daa/_battleground_i_c_8h.html#aa3b18929571d0cc0cd2b821c243a1dfeaca966fa9f844bfee2b29fbe01d0cb6bb">NODE_STATE_CONTROLLED_H</a>;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160; </div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                <span class="keywordflow">return</span> bg-&gt;<a class="code" href="../../d6/ddc/class_battleground.html#ac3309b1d642725de16954bc4a0e1bec7">ToBattlegroundIC</a>()-&gt;<a class="code" href="../../db/d87/class_battleground_i_c.html#a3efd5175076dc47ff235af74f246da30">GetNodeState</a>(nodeType) == nodeState;</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;            }</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;        <span class="keywordflow">case</span> 56618: <span class="comment">// Horde Controls Factory Phase Shift</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;        <span class="keywordflow">case</span> 56617: <span class="comment">// Alliance Controls Factory Phase Shift</span></div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;            {</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;                <span class="keywordflow">if</span> (!player)</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160; </div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;                <a class="code" href="../../d3/d42/class_battlefield.html">Battlefield</a>* bf = <a class="code" href="../../dc/df4/_battlefield_mgr_8h.html#a4545b2a440043037e8dad52c0f644f48">sBattlefieldMgr</a>-&gt;GetBattlefieldToZoneId(player-&gt;<a class="code" href="../../db/df7/class_world_object.html#ad498d690fbe69bb99a8a2ffdcb2f5169">GetZoneId</a>());</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160; </div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;                <span class="keywordflow">if</span> (!bf || bf-&gt;<a class="code" href="../../d3/d42/class_battlefield.html#a8dc3a39f428abe572eebec1c3cf02de1">GetTypeId</a>() != <a class="code" href="../../d0/d88/_battlefield_8h.html#a6f435417da35c7d1b51c95e516fc6b2da1fc74ab91b471d0c59f02fea08cb2efd">BATTLEFIELD_WG</a>)</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160; </div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;                <span class="comment">// team that controls the workshop in the specified area</span></div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> team = bf-&gt;<a class="code" href="../../d3/d42/class_battlefield.html#a1605eebf64a203761f5aeba106b2b325">GetData</a>(newArea);</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160; </div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;                <span class="keywordflow">if</span> (team == <a class="code" href="../../df/d0b/_shared_defines_8h.html#a7513eda5ac39f7f649b82c80de7c324da80bb98f9049563b07d3b738a0783366a">TEAM_HORDE</a>)</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../da/d40/struct_spell_area.html#a8a299d901e2c13cdc3c00d6cf0a856d3">spellId</a> == 56618;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (team == <a class="code" href="../../df/d0b/_shared_defines_8h.html#a7513eda5ac39f7f649b82c80de7c324da77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a>)</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="../../da/d40/struct_spell_area.html#a8a299d901e2c13cdc3c00d6cf0a856d3">spellId</a> == 56617;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;            }</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;        <span class="comment">// Hellscream&#39;s Warsong</span></div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;        <span class="keywordflow">case</span> 73816:</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;        <span class="keywordflow">case</span> 73818:</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;        <span class="keywordflow">case</span> 73819:</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;        <span class="keywordflow">case</span> 73820:</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        <span class="keywordflow">case</span> 73821:</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;        <span class="keywordflow">case</span> 73822:</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        <span class="comment">// Strength of Wrynn</span></div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        <span class="keywordflow">case</span> 73762:</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;        <span class="keywordflow">case</span> 73824:</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;        <span class="keywordflow">case</span> 73825:</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        <span class="keywordflow">case</span> 73826:</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        <span class="keywordflow">case</span> 73827:</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;        <span class="keywordflow">case</span> 73828:</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;            <span class="keywordflow">if</span> (player)</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d83/class_instance_script.html">InstanceScript</a>* s = <span class="keyword">const_cast&lt;</span><a class="code" href="../../d8/d53/class_player.html">Player</a>*<span class="keyword">&gt;</span>(player)-&gt;GetInstanceScript())</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;                    <span class="keywordflow">return</span> s-&gt;GetData(251 <span class="comment">/*DATA_BUFF_AVAILABLE*/</span>) != 0;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    }</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160; </div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;}</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160; </div>
<div class="line"><a name="l01214"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#afa249eca149df213b191ea7009e51fe6"> 1214</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#afa249eca149df213b191ea7009e51fe6">SpellMgr::UnloadSpellInfoChains</a>()</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;{</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <span class="keywordflow">for</span> (SpellChainMap::iterator itr = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a25446ffa46c3712a64d43f88f4799e16">mSpellChains</a>.begin(); itr != <a class="code" href="../../dc/d9a/class_spell_mgr.html#a25446ffa46c3712a64d43f88f4799e16">mSpellChains</a>.end(); ++itr)</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;        <a class="code" href="../../dc/d9a/class_spell_mgr.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>[itr-&gt;first]-&gt;ChainEntry = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160; </div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <a class="code" href="../../dc/d9a/class_spell_mgr.html#a25446ffa46c3712a64d43f88f4799e16">mSpellChains</a>.clear();</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;}</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160; </div>
<div class="line"><a name="l01222"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a8527d75d2203fba05133d32f2cf0fa55"> 1222</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a8527d75d2203fba05133d32f2cf0fa55">SpellMgr::LoadSpellTalentRanks</a>()</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;{</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <span class="comment">// cleanup core data before reload - remove reference to ChainNode from SpellInfo</span></div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <a class="code" href="../../dc/d9a/class_spell_mgr.html#afa249eca149df213b191ea7009e51fe6">UnloadSpellInfoChains</a>();</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160; </div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#abdab3b372fb6ffd5dde09caf6967ac8f">sTalentStore</a>.GetNumRows(); ++i)</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    {</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;        <a class="code" href="../../db/d1b/struct_talent_entry.html">TalentEntry</a> <span class="keyword">const</span>* talentInfo = <a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#abdab3b372fb6ffd5dde09caf6967ac8f">sTalentStore</a>.LookupEntry(i);</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;        <span class="keywordflow">if</span> (!talentInfo)</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160; </div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* lastSpell = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> rank = <a class="code" href="../../d1/d22/_d_b_c_structure_8h.html#a8d6d5cac52d7a437e341e9f6ebc21a21">MAX_TALENT_RANK</a> - 1; rank &gt; 0; --rank)</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        {</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;            <span class="keywordflow">if</span> (talentInfo-&gt;<a class="code" href="../../db/d1b/struct_talent_entry.html#a96d0fd120ed3aa7fbd287d104fd87c26">RankID</a>[rank])</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;            {</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;                lastSpell = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(talentInfo-&gt;<a class="code" href="../../db/d1b/struct_talent_entry.html#a96d0fd120ed3aa7fbd287d104fd87c26">RankID</a>[rank]);</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;            }</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        }</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160; </div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;        <span class="keywordflow">if</span> (!lastSpell)</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160; </div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;        <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* firstSpell = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(talentInfo-&gt;<a class="code" href="../../db/d1b/struct_talent_entry.html#a96d0fd120ed3aa7fbd287d104fd87c26">RankID</a>[0]);</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;        <span class="keywordflow">if</span> (!firstSpell)</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;        {</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;SpellMgr::LoadSpellTalentRanks: First Rank Spell %u for TalentEntry %u does not exist.&quot;</span>, talentInfo-&gt;<a class="code" href="../../db/d1b/struct_talent_entry.html#a96d0fd120ed3aa7fbd287d104fd87c26">RankID</a>[0], i);</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;        }</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160; </div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;        <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* prevSpell = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> rank = 0; rank &lt; <a class="code" href="../../d1/d22/_d_b_c_structure_8h.html#a8d6d5cac52d7a437e341e9f6ebc21a21">MAX_TALENT_RANK</a>; ++rank)</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;        {</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;            <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId = talentInfo-&gt;<a class="code" href="../../db/d1b/struct_talent_entry.html#a96d0fd120ed3aa7fbd287d104fd87c26">RankID</a>[rank];</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;            <span class="keywordflow">if</span> (!spellId)</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160; </div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;            <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* currentSpell = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(spellId);</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;            <span class="keywordflow">if</span> (!currentSpell)</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;            {</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;SpellMgr::LoadSpellTalentRanks: Spell %u (Rank: %u) for TalentEntry %u does not exist.&quot;</span>, spellId, rank + 1, i);</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;            }</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160; </div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;            <a class="code" href="../../d3/d54/struct_spell_chain_node.html">SpellChainNode</a> node;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;            node.<a class="code" href="../../d3/d54/struct_spell_chain_node.html#a49aea8bfed353c2c552f6195b8e9f60a">first</a> = firstSpell;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;            node.<a class="code" href="../../d3/d54/struct_spell_chain_node.html#a05a8077c7ec39bcca66fe84aa1da7040">last</a>  = lastSpell;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;            node.<a class="code" href="../../d3/d54/struct_spell_chain_node.html#a0b58cef8fc18f91fa59b8c7d7b9f9872">rank</a>  = rank + 1;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160; </div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;            node.<a class="code" href="../../d3/d54/struct_spell_chain_node.html#ae27b7d0aa5a2ae5cb75a7f0d397c849f">prev</a> = prevSpell;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;            node.<a class="code" href="../../d3/d54/struct_spell_chain_node.html#a0a7791b7069912a013299e7afaf4142f">next</a> = node.<a class="code" href="../../d3/d54/struct_spell_chain_node.html#a0b58cef8fc18f91fa59b8c7d7b9f9872">rank</a> &lt; <a class="code" href="../../d1/d22/_d_b_c_structure_8h.html#a8d6d5cac52d7a437e341e9f6ebc21a21">MAX_TALENT_RANK</a> ? <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(talentInfo-&gt;<a class="code" href="../../db/d1b/struct_talent_entry.html#a96d0fd120ed3aa7fbd287d104fd87c26">RankID</a>[node.<a class="code" href="../../d3/d54/struct_spell_chain_node.html#a0b58cef8fc18f91fa59b8c7d7b9f9872">rank</a>]) : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160; </div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;            <a class="code" href="../../dc/d9a/class_spell_mgr.html#a25446ffa46c3712a64d43f88f4799e16">mSpellChains</a>[spellId] = node;</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;            <a class="code" href="../../dc/d9a/class_spell_mgr.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>[spellId]-&gt;ChainEntry = &amp;<a class="code" href="../../dc/d9a/class_spell_mgr.html#a25446ffa46c3712a64d43f88f4799e16">mSpellChains</a>[spellId];</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160; </div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;            prevSpell = currentSpell;</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;        }</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    }</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;}</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160; </div>
<div class="line"><a name="l01283"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#ad453a0dfca614de29d7015dda91b0ce1"> 1283</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#ad453a0dfca614de29d7015dda91b0ce1">SpellMgr::LoadSpellRanks</a>()</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;{</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    <span class="comment">// cleanup data and load spell ranks for talents from dbc</span></div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    <a class="code" href="../../dc/d9a/class_spell_mgr.html#a8527d75d2203fba05133d32f2cf0fa55">LoadSpellTalentRanks</a>();</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160; </div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code" href="../../d5/d29/_timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160; </div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    <span class="comment">//                                               0               1          2</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    <a class="code" href="../../db/d04/_database_env_fwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code" href="../../d6/d2e/_database_env_8cpp.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(<span class="stringliteral">&quot;SELECT first_spell_id, spell_id, `rank` from spell_ranks ORDER BY first_spell_id, `rank`&quot;</span>);</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160; </div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    {</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 spell rank records. DB table `spell_ranks` is empty.&quot;</span>);</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    }</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160; </div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <span class="keywordtype">bool</span> finished = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160; </div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <span class="keywordflow">do</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    {</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;        <span class="comment">// spellid, rank</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;        std::list &lt; std::pair &lt; int32, int32 &gt; &gt; rankChain;</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> currentSpell = -1;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> lastSpell = -1;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160; </div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;        <span class="comment">// fill one chain</span></div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;        <span class="keywordflow">while</span> (currentSpell == lastSpell &amp;&amp; !finished)</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;        {</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;            <a class="code" href="../../dc/d67/class_field.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160; </div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;            currentSpell = fields[0].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;            <span class="keywordflow">if</span> (lastSpell == -1)</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;                lastSpell = currentSpell;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;            <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id = fields[1].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;            <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> rank = fields[2].<a class="code" href="../../dc/d67/class_field.html#a090beafdf8b41555058a87d00443498a">GetUInt8</a>();</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160; </div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;            <span class="comment">// don&#39;t drop the row if we&#39;re moving to the next rank</span></div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;            <span class="keywordflow">if</span> (currentSpell == lastSpell)</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;            {</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;                rankChain.push_back(std::make_pair(spell_id, rank));</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;                <span class="keywordflow">if</span> (!result-&gt;NextRow())</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;                    finished = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;            }</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;        }</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        <span class="comment">// check if chain is made with valid first spell</span></div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;        <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* first = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(lastSpell);</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;        <span class="keywordflow">if</span> (!first)</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;        {</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell rank identifier(first_spell_id) %u listed in `spell_ranks` does not exist!&quot;</span>, lastSpell);</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;        }</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;        <span class="comment">// check if chain is long enough</span></div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;        <span class="keywordflow">if</span> (rankChain.size() &lt; 2)</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;        {</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;There is only 1 spell rank for identifier(first_spell_id) %u in `spell_ranks`, entry is not needed!&quot;</span>, lastSpell);</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;        }</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> curRank = 0;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;        <span class="keywordtype">bool</span> valid = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;        <span class="comment">// check spells in chain</span></div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;        <span class="keywordflow">for</span> (std::list&lt;std::pair&lt;int32, int32&gt; &gt;::iterator itr = rankChain.begin(); itr != rankChain.end(); ++itr)</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;        {</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;            <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* spell = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(itr-&gt;first);</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;            <span class="keywordflow">if</span> (!spell)</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;            {</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u (rank %u) listed in `spell_ranks` for chain %u does not exist!&quot;</span>, itr-&gt;first, itr-&gt;second, lastSpell);</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;                valid = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;            }</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;            ++curRank;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;            <span class="keywordflow">if</span> (itr-&gt;second != curRank)</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;            {</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u (rank %u) listed in `spell_ranks` for chain %u does not have proper rank value(should be %u)!&quot;</span>, itr-&gt;first, itr-&gt;second, lastSpell, curRank);</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;                valid = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;            }</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;        }</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;        <span class="keywordflow">if</span> (!valid)</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> prevRank = 0;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;        <span class="comment">// insert the chain</span></div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;        std::list&lt;std::pair&lt;int32, int32&gt; &gt;::iterator itr = rankChain.begin();</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;        <span class="keywordflow">do</span></div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;        {</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;            ++count;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;            <a class="code" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> addedSpell = itr-&gt;first;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;            <a class="code" href="../../dc/d9a/class_spell_mgr.html#a25446ffa46c3712a64d43f88f4799e16">mSpellChains</a>[addedSpell].first = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(lastSpell);</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;            <a class="code" href="../../dc/d9a/class_spell_mgr.html#a25446ffa46c3712a64d43f88f4799e16">mSpellChains</a>[addedSpell].last = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(rankChain.back().first);</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;            <a class="code" href="../../dc/d9a/class_spell_mgr.html#a25446ffa46c3712a64d43f88f4799e16">mSpellChains</a>[addedSpell].rank = itr-&gt;second;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;            <a class="code" href="../../dc/d9a/class_spell_mgr.html#a25446ffa46c3712a64d43f88f4799e16">mSpellChains</a>[addedSpell].prev = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(prevRank);</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;            <a class="code" href="../../dc/d9a/class_spell_mgr.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>[addedSpell]-&gt;ChainEntry = &amp;<a class="code" href="../../dc/d9a/class_spell_mgr.html#a25446ffa46c3712a64d43f88f4799e16">mSpellChains</a>[addedSpell];</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;            prevRank = addedSpell;</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;            ++itr;</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;            <span class="keywordflow">if</span> (itr == rankChain.end())</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;            {</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;                <a class="code" href="../../dc/d9a/class_spell_mgr.html#a25446ffa46c3712a64d43f88f4799e16">mSpellChains</a>[addedSpell].next = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;            }</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;                <a class="code" href="../../dc/d9a/class_spell_mgr.html#a25446ffa46c3712a64d43f88f4799e16">mSpellChains</a>[addedSpell].next = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(itr-&gt;first);</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;        } <span class="keywordflow">while</span> (<span class="keyword">true</span>);</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    } <span class="keywordflow">while</span> (!finished);</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160; </div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded %u spell rank records in %u ms&quot;</span>, count, <a class="code" href="../../d5/d29/_timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;}</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160; </div>
<div class="line"><a name="l01394"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a6cb46bdc9ec9da1b486d07b281e953d0"> 1394</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a6cb46bdc9ec9da1b486d07b281e953d0">SpellMgr::LoadSpellRequired</a>()</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;{</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code" href="../../d5/d29/_timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160; </div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <a class="code" href="../../dc/d9a/class_spell_mgr.html#aa03760f8043a0c684d18527d7ed934d3">mSpellsReqSpell</a>.clear();                                   <span class="comment">// need for reload case</span></div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    <a class="code" href="../../dc/d9a/class_spell_mgr.html#a0037908371f475d84ba4319c7109e12d">mSpellReq</a>.clear();                                         <span class="comment">// need for reload case</span></div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160; </div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    <span class="comment">//                                                   0        1</span></div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <a class="code" href="../../db/d04/_database_env_fwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code" href="../../d6/d2e/_database_env_8cpp.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(<span class="stringliteral">&quot;SELECT spell_id, req_spell from spell_required&quot;</span>);</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160; </div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    {</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 spell required records. DB table `spell_required` is empty.&quot;</span>);</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    }</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160; </div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    <span class="keywordflow">do</span></div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    {</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;        <a class="code" href="../../dc/d67/class_field.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160; </div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId = fields[0].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellReq = fields[1].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160; </div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;        <span class="comment">// check if chain is made with valid first spell</span></div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(spellId);</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        {</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;spell_id %u in `spell_required` table is not found in dbcs, skipped&quot;</span>, spellId);</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;        }</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160; </div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;        <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* reqSpellInfo = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(spellReq);</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;        <span class="keywordflow">if</span> (!reqSpellInfo)</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;        {</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;req_spell %u in `spell_required` table is not found in dbcs, skipped&quot;</span>, spellReq);</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;        }</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160; </div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dc/d9a/class_spell_mgr.html#a917957b9f03d8fec71dde17da1a88d51">GetFirstSpellInChain</a>(spellId) == <a class="code" href="../../dc/d9a/class_spell_mgr.html#a917957b9f03d8fec71dde17da1a88d51">GetFirstSpellInChain</a>(spellReq))</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;        {</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;req_spell %u and spell_id %u in `spell_required` table are ranks of the same spell, entry not needed, skipped&quot;</span>, spellReq, spellId);</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;        }</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160; </div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dc/d9a/class_spell_mgr.html#a62767dc60e5f32a91b8428a01d083184">IsSpellRequiringSpell</a>(spellId, spellReq))</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;        {</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;duplicated entry of req_spell %u and spell_id %u in `spell_required`, skipped&quot;</span>, spellReq, spellId);</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;        }</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160; </div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;        <a class="code" href="../../dc/d9a/class_spell_mgr.html#a0037908371f475d84ba4319c7109e12d">mSpellReq</a>.insert (std::pair&lt;uint32, uint32&gt;(spellId, spellReq));</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;        <a class="code" href="../../dc/d9a/class_spell_mgr.html#aa03760f8043a0c684d18527d7ed934d3">mSpellsReqSpell</a>.insert (std::pair&lt;uint32, uint32&gt;(spellReq, spellId));</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;        ++count;</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160; </div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        <span class="comment">// xinef: fill additionalTalentInfo data, currently Blessing of Sanctuary only</span></div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#a67c1970c378a0fdf0489c1d376d7c388">GetTalentSpellCost</a>(spellReq) &gt; 0)</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;            <a class="code" href="../../dc/d9a/class_spell_mgr.html#a16ff5508005286ab678b47bcc211ac24">mTalentSpellAdditionalSet</a>.insert(spellId);</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160; </div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded %u spell required records in %u ms&quot;</span>, count, <a class="code" href="../../d5/d29/_timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;}</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160; </div>
<div class="line"><a name="l01459"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a728b29c7bbad1e6a4a924197579a9c28"> 1459</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a728b29c7bbad1e6a4a924197579a9c28">SpellMgr::LoadSpellLearnSkills</a>()</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;{</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code" href="../../d5/d29/_timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160; </div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    <a class="code" href="../../dc/d9a/class_spell_mgr.html#a32d05e01103bd64f22e3993bf46e4bb6">mSpellLearnSkills</a>.clear();                              <span class="comment">// need for reload case</span></div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160; </div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;    <span class="comment">// search auto-learned skills and add its to map also for use in unlearn spells/talents</span></div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> dbc_count = 0;</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell = 0; spell &lt; <a class="code" href="../../dc/d9a/class_spell_mgr.html#aca8a0eccca0aa32dc2cc9802597c0256">GetSpellInfoStoreSize</a>(); ++spell)</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    {</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;        <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* entry = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(spell);</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160; </div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;        <span class="keywordflow">if</span> (!entry)</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160; </div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="../../d1/d22/_d_b_c_structure_8h.html#ac5733f5b58bf8a23a1919a005b5ec895">MAX_SPELL_EFFECTS</a>; ++i)</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;        {</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;            <span class="keywordflow">if</span> (entry-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[i].Effect == <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a37c3501cd211969f5ba9a932a191d275">SPELL_EFFECT_SKILL</a>)</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;            {</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;                <a class="code" href="../../dd/dc9/struct_spell_learn_skill_node.html">SpellLearnSkillNode</a> dbc_node;</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;                dbc_node.<a class="code" href="../../dd/dc9/struct_spell_learn_skill_node.html#a8bcbe05ff6a3220f9f05f52b16925f5d">skill</a> = entry-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[i].MiscValue;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;                dbc_node.<a class="code" href="../../dd/dc9/struct_spell_learn_skill_node.html#a1c882f7d43c65954cb99566225660312">step</a>  = entry-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[i].CalcValue();</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;                <span class="keywordflow">if</span> (dbc_node.<a class="code" href="../../dd/dc9/struct_spell_learn_skill_node.html#a8bcbe05ff6a3220f9f05f52b16925f5d">skill</a> != <a class="code" href="../../df/d0b/_shared_defines_8h.html#af4541d30ebbff76b1f9f689519789234a91ab54f2f2d5f62473324790d2678324">SKILL_RIDING</a>)</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;                    dbc_node.<a class="code" href="../../dd/dc9/struct_spell_learn_skill_node.html#a064fece53cdaf07b072510b14200a968">value</a> = 1;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;                    dbc_node.<a class="code" href="../../dd/dc9/struct_spell_learn_skill_node.html#a064fece53cdaf07b072510b14200a968">value</a> = dbc_node.<a class="code" href="../../dd/dc9/struct_spell_learn_skill_node.html#a1c882f7d43c65954cb99566225660312">step</a> * 75;</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;                dbc_node.<a class="code" href="../../dd/dc9/struct_spell_learn_skill_node.html#a1dd2289b0d3505cb50e8613595ad8c8e">maxvalue</a> = dbc_node.<a class="code" href="../../dd/dc9/struct_spell_learn_skill_node.html#a1c882f7d43c65954cb99566225660312">step</a> * 75;</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;                <a class="code" href="../../dc/d9a/class_spell_mgr.html#a32d05e01103bd64f22e3993bf46e4bb6">mSpellLearnSkills</a>[spell] = dbc_node;</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;                ++dbc_count;</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;            }</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;        }</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    }</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160; </div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded %u Spell Learn Skills from DBC in %u ms&quot;</span>, dbc_count, <a class="code" href="../../d5/d29/_timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;}</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160; </div>
<div class="line"><a name="l01497"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a6fedac5a7c8e66606b363266ed413dba"> 1497</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a6fedac5a7c8e66606b363266ed413dba">SpellMgr::LoadSpellTargetPositions</a>()</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;{</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code" href="../../d5/d29/_timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160; </div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <a class="code" href="../../dc/d9a/class_spell_mgr.html#aa36449309e445b361a05bf77e4bd5698">mSpellTargetPositions</a>.clear();                                <span class="comment">// need for reload case</span></div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160; </div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    <span class="comment">//                                                0      1          2        3         4           5            6</span></div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    <a class="code" href="../../db/d04/_database_env_fwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code" href="../../d6/d2e/_database_env_8cpp.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(<span class="stringliteral">&quot;SELECT ID, EffectIndex, MapID, PositionX, PositionY, PositionZ, Orientation FROM spell_target_position&quot;</span>);</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160; </div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    {</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 spell target coordinates. DB table `spell_target_position` is empty.&quot;</span>);</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    }</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160; </div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    <span class="keywordflow">do</span></div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    {</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;        <a class="code" href="../../dc/d67/class_field.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160; </div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> Spell_ID = fields[0].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160; </div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;        <a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77">SpellEffIndex</a> effIndex = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77">SpellEffIndex</a>(fields[1].GetUInt8());</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160; </div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;        <a class="code" href="../../da/dcc/struct_spell_target_position.html">SpellTargetPosition</a> st;</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160; </div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;        st.<a class="code" href="../../da/dcc/struct_spell_target_position.html#a6dbbb558810388e0d051d84a0279a444">target_mapId</a>       = fields[2].<a class="code" href="../../dc/d67/class_field.html#a7bbb15bfb8f64f94b26c7cfffe83ac58">GetUInt16</a>();</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;        st.<a class="code" href="../../da/dcc/struct_spell_target_position.html#aa78b3d4cfb4277bcb1bf6a31ffc87546">target_X</a>           = fields[3].<a class="code" href="../../dc/d67/class_field.html#a8b05a34c3d0cb92a9d2c0f298aa11dea">GetFloat</a>();</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;        st.<a class="code" href="../../da/dcc/struct_spell_target_position.html#a6f432d8770adebf513346713b7890b5c">target_Y</a>           = fields[4].<a class="code" href="../../dc/d67/class_field.html#a8b05a34c3d0cb92a9d2c0f298aa11dea">GetFloat</a>();</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;        st.<a class="code" href="../../da/dcc/struct_spell_target_position.html#a3af706b81f8fbef12277c518964f717a">target_Z</a>           = fields[5].<a class="code" href="../../dc/d67/class_field.html#a8b05a34c3d0cb92a9d2c0f298aa11dea">GetFloat</a>();</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;        st.<a class="code" href="../../da/dcc/struct_spell_target_position.html#a7e30264eff9ece771dfaa421ef987b2a">target_Orientation</a> = fields[6].<a class="code" href="../../dc/d67/class_field.html#a8b05a34c3d0cb92a9d2c0f298aa11dea">GetFloat</a>();</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160; </div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;        <a class="code" href="../../d2/d99/struct_map_entry.html">MapEntry</a> <span class="keyword">const</span>* mapEntry = <a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#ac28198d1c28605951e9debe1298b8304">sMapStore</a>.LookupEntry(st.<a class="code" href="../../da/dcc/struct_spell_target_position.html#a6dbbb558810388e0d051d84a0279a444">target_mapId</a>);</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;        <span class="keywordflow">if</span> (!mapEntry)</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;        {</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell (Id: %u, effIndex: %u) target map (ID: %u) does not exist in `Map.dbc`.&quot;</span>, Spell_ID, effIndex, st.<a class="code" href="../../da/dcc/struct_spell_target_position.html#a6dbbb558810388e0d051d84a0279a444">target_mapId</a>);</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;        }</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160; </div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;        <span class="keywordflow">if</span> (st.<a class="code" href="../../da/dcc/struct_spell_target_position.html#aa78b3d4cfb4277bcb1bf6a31ffc87546">target_X</a> == 0 &amp;&amp; st.<a class="code" href="../../da/dcc/struct_spell_target_position.html#a6f432d8770adebf513346713b7890b5c">target_Y</a> == 0 &amp;&amp; st.<a class="code" href="../../da/dcc/struct_spell_target_position.html#a3af706b81f8fbef12277c518964f717a">target_Z</a> == 0)</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;        {</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell (Id: %u, effIndex: %u) target coordinates not provided.&quot;</span>, Spell_ID, effIndex);</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;        }</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160; </div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;        <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(Spell_ID);</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;        <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;        {</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell (ID:%u) listed in `spell_target_position` does not exist.&quot;</span>, Spell_ID);</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;        }</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160; </div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;        <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[effIndex].TargetA.GetTarget() == <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a26506da78f6a6950f7ac66718b775817">TARGET_DEST_DB</a> || spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[effIndex].TargetB.GetTarget() == <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a26506da78f6a6950f7ac66718b775817">TARGET_DEST_DB</a>)</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;        {</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;            std::pair&lt;uint32, SpellEffIndex&gt; key = std::make_pair(Spell_ID, effIndex);</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;            <a class="code" href="../../dc/d9a/class_spell_mgr.html#aa36449309e445b361a05bf77e4bd5698">mSpellTargetPositions</a>[key] = st;</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;            ++count;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;        }</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;        {</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell (Id: %u, effIndex: %u) listed in `spell_target_position` does not have target TARGET_DEST_DB (17).&quot;</span>, Spell_ID, effIndex);</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;        }</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160; </div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;<span class="comment">    // Check all spells</span></div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;<span class="comment">    for (uint32 i = 1; i &lt; GetSpellInfoStoreSize; ++i)</span></div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;<span class="comment">    {</span></div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;<span class="comment">        SpellInfo const* spellInfo = GetSpellInfo(i);</span></div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;<span class="comment">        if (!spellInfo)</span></div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;<span class="comment">            continue;</span></div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;<span class="comment">        bool found = false;</span></div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;<span class="comment">        for (int j = 0; j &lt; MAX_SPELL_EFFECTS; ++j)</span></div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;<span class="comment">        {</span></div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;<span class="comment">            switch (spellInfo-&gt;Effects[j].TargetA)</span></div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;<span class="comment">            {</span></div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;<span class="comment">                case TARGET_DEST_DB:</span></div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;<span class="comment">                    found = true;</span></div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;<span class="comment">                    break;</span></div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;<span class="comment">            }</span></div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;<span class="comment">            if (found)</span></div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;<span class="comment">                break;</span></div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;<span class="comment">            switch (spellInfo-&gt;Effects[j].TargetB)</span></div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;<span class="comment">            {</span></div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;<span class="comment">                case TARGET_DEST_DB:</span></div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;<span class="comment">                    found = true;</span></div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;<span class="comment">                    break;</span></div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;<span class="comment">            }</span></div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;<span class="comment">            if (found)</span></div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;<span class="comment">                break;</span></div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;<span class="comment">        }</span></div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;<span class="comment">        if (found)</span></div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;<span class="comment">        {</span></div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;<span class="comment">            if (!sSpellMgr-&gt;GetSpellTargetPosition(i))</span></div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;<span class="comment">                LOG_DEBUG(&quot;spells.aura&quot;, &quot;Spell (ID: %u) does not have record in `spell_target_position`&quot;, i);</span></div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;<span class="comment">        }</span></div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;<span class="comment">    }*/</span></div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160; </div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded %u spell teleport coordinates in %u ms&quot;</span>, count, <a class="code" href="../../d5/d29/_timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;}</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160; </div>
<div class="line"><a name="l01602"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#adb5ead246a7c2e98e9e1e09004b00c6f"> 1602</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#adb5ead246a7c2e98e9e1e09004b00c6f">SpellMgr::LoadSpellGroups</a>()</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;{</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code" href="../../d5/d29/_timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160; </div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;    <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7a1fa3679f9c375b88603ec4775769fd">mSpellGroupMap</a>.clear();                                  <span class="comment">// need for reload case</span></div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160; </div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    <span class="comment">//                                                0     1            2</span></div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    <a class="code" href="../../db/d04/_database_env_fwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code" href="../../d6/d2e/_database_env_8cpp.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(<span class="stringliteral">&quot;SELECT id, spell_id, special_flag FROM spell_group&quot;</span>);</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    {</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 spell group definitions. DB table `spell_group` is empty.&quot;</span>);</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    }</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160; </div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    <span class="keywordflow">do</span></div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    {</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;        <a class="code" href="../../dc/d67/class_field.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160; </div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> group_id = fields[0].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> spell_id = fields[1].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;        <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ab9f8654c03ec40ac9bdc5214da99e1eb">SpellGroupSpecialFlags</a> specialFlag = (<a class="code" href="../../d3/d75/_spell_mgr_8h.html#ab9f8654c03ec40ac9bdc5214da99e1eb">SpellGroupSpecialFlags</a>)fields[2].GetUInt32();</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;        <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(spell_id);</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160; </div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;        <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;        {</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u listed in `spell_group` does not exist&quot;</span>, spell_id);</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;        }</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49c70ec610efb184d46fb39737bd4a1a">GetRank</a>() &gt; 1)</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;        {</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u listed in `spell_group` is not first rank of spell&quot;</span>, spell_id);</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;        }</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160; </div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dc/d9a/class_spell_mgr.html#a7a1fa3679f9c375b88603ec4775769fd">mSpellGroupMap</a>.find(spell_id) != <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7a1fa3679f9c375b88603ec4775769fd">mSpellGroupMap</a>.end())</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;        {</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u listed in `spell_group` has more than one group&quot;</span>, spell_id);</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;        }</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160; </div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;        <span class="keywordflow">if</span> (specialFlag &gt;= <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ab9f8654c03ec40ac9bdc5214da99e1eba6acd812cb11a98c7bc9176e03bbd8f3f">SPELL_GROUP_SPECIAL_FLAG_MAX</a>)</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;        {</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u listed in `spell_group` has invalid special flag!&quot;</span>, spell_id);</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;        }</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160; </div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;        <a class="code" href="../../da/de7/struct_spell_stack_info.html">SpellStackInfo</a> ssi;</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;        ssi.<a class="code" href="../../da/de7/struct_spell_stack_info.html#a71a218d1ea3241f0c72205f7e2f34125">groupId</a> = group_id;</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;        ssi.<a class="code" href="../../da/de7/struct_spell_stack_info.html#a2232afb6a6b05e5ea33f40992a09621d">specialFlags</a> = specialFlag;</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;        <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7a1fa3679f9c375b88603ec4775769fd">mSpellGroupMap</a>[spell_id] = ssi;</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160; </div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;        ++count;</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160; </div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded %u spell group definitions in %u ms&quot;</span>, count, <a class="code" href="../../d5/d29/_timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;}</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160; </div>
<div class="line"><a name="l01662"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a8a48919d60d012b7cc5206dea2640f3a"> 1662</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a8a48919d60d012b7cc5206dea2640f3a">SpellMgr::LoadSpellGroupStackRules</a>()</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;{</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code" href="../../d5/d29/_timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160; </div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    <a class="code" href="../../dc/d9a/class_spell_mgr.html#a60283ceb69bf92310153db6769f70a6a">mSpellGroupStackMap</a>.clear();                                  <span class="comment">// need for reload case</span></div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160; </div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    <span class="comment">//                                                       0         1</span></div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    <a class="code" href="../../db/d04/_database_env_fwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code" href="../../d6/d2e/_database_env_8cpp.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(<span class="stringliteral">&quot;SELECT group_id, stack_rule FROM spell_group_stack_rules&quot;</span>);</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    {</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 spell group stack rules. DB table `spell_group_stack_rules` is empty.&quot;</span>);</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    }</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160; </div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    <span class="keywordflow">do</span></div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    {</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;        <a class="code" href="../../dc/d67/class_field.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160; </div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> group_id = fields[0].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> stack_rule = fields[1].<a class="code" href="../../dc/d67/class_field.html#a714d8d2cb518f48e7ba65fc3176a5002">GetInt8</a>();</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;        <span class="keywordflow">if</span> (stack_rule &gt;= <a class="code" href="../../d3/d75/_spell_mgr_8h.html#a3384f828e7f362dbdaecb22673641c88a6b33f70f6827694ecab65894fca91b4a">SPELL_GROUP_STACK_FLAG_MAX</a>)</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;        {</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;SpellGroupStackRule %u listed in `spell_group_stack_rules` does not exist&quot;</span>, stack_rule);</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;        }</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160; </div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;        <span class="keywordtype">bool</span> present = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;        <span class="keywordflow">for</span> (SpellGroupMap::const_iterator itr = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7a1fa3679f9c375b88603ec4775769fd">mSpellGroupMap</a>.begin(); itr != <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7a1fa3679f9c375b88603ec4775769fd">mSpellGroupMap</a>.end(); ++itr)</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;            <span class="keywordflow">if</span> (itr-&gt;second.groupId == group_id)</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;            {</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;                present = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;            }</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160; </div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;        <span class="keywordflow">if</span> (!present)</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;        {</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;SpellGroup id %u listed in `spell_group_stack_rules` does not exist&quot;</span>, group_id);</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;        }</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160; </div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;        <a class="code" href="../../dc/d9a/class_spell_mgr.html#a60283ceb69bf92310153db6769f70a6a">mSpellGroupStackMap</a>[group_id] = (<a class="code" href="../../d3/d75/_spell_mgr_8h.html#a3384f828e7f362dbdaecb22673641c88">SpellGroupStackFlags</a>)stack_rule;</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160; </div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;        ++count;</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;    } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160; </div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded %u spell group stack rules in %u ms&quot;</span>, count, <a class="code" href="../../d5/d29/_timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;}</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160; </div>
<div class="line"><a name="l01713"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#abda66c7b90ba0dfa8dbafe742c501939"> 1713</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#abda66c7b90ba0dfa8dbafe742c501939">SpellMgr::LoadSpellProcEvents</a>()</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;{</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code" href="../../d5/d29/_timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160; </div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    <a class="code" href="../../dc/d9a/class_spell_mgr.html#a3e6353afe01453ebf0bab09cde94673e">mSpellProcEventMap</a>.clear();                             <span class="comment">// need for reload case</span></div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160; </div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    <span class="comment">//                                                0      1           2                3                 4                 5                 6          7       8        9             10</span></div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    <a class="code" href="../../db/d04/_database_env_fwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code" href="../../d6/d2e/_database_env_8cpp.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(<span class="stringliteral">&quot;SELECT entry, SchoolMask, SpellFamilyName, SpellFamilyMask0, SpellFamilyMask1, SpellFamilyMask2, procFlags, procEx, ppmRate, CustomChance, Cooldown FROM spell_proc_event&quot;</span>);</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    {</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 spell proc event conditions. DB table `spell_proc_event` is empty.&quot;</span>);</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    }</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160; </div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160; </div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    <span class="keywordflow">do</span></div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;    {</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;        <a class="code" href="../../dc/d67/class_field.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160; </div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> spellId = fields[0].<a class="code" href="../../dc/d67/class_field.html#afc9e673b7e6607f5f52bf16c77a73e5e">GetInt32</a>();</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160; </div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;        <span class="keywordtype">bool</span> allRanks = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;        <span class="keywordflow">if</span> (spellId &lt; 0)</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;        {</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;            allRanks = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;            spellId = -spellId;</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;        }</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160; </div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;        <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(spellId);</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;        <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;        {</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u listed in `spell_proc_event` does not exist&quot;</span>, spellId);</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;        }</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160; </div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;        <span class="keywordflow">if</span> (allRanks)</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;        {</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;            <span class="keywordflow">if</span> (!spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a562060f7c0d25cb229a16da38692b69e">IsRanked</a>())</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u listed in `spell_proc_event` with all ranks, but spell has no ranks.&quot;</span>, spellId);</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160; </div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;            <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a236dc1b4f58ebf6a2eb5b1824c5e8073">GetFirstRankSpell</a>()-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a> != <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(spellId))</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;            {</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u listed in `spell_proc_event` is not first rank of spell.&quot;</span>, spellId);</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;            }</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;        }</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160; </div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;        <a class="code" href="../../df/d05/struct_spell_proc_event_entry.html">SpellProcEventEntry</a> spellProcEvent;</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160; </div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;        spellProcEvent.<a class="code" href="../../df/d05/struct_spell_proc_event_entry.html#a9a6d38ee4e4a35066780ef924c63f92f">schoolMask</a>         = fields[1].<a class="code" href="../../dc/d67/class_field.html#a714d8d2cb518f48e7ba65fc3176a5002">GetInt8</a>();</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;        spellProcEvent.<a class="code" href="../../df/d05/struct_spell_proc_event_entry.html#a5ffa91b3f66ebb0ac34f30e1c532fb3a">spellFamilyName</a>    = fields[2].<a class="code" href="../../dc/d67/class_field.html#a7bbb15bfb8f64f94b26c7cfffe83ac58">GetUInt16</a>();</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;        spellProcEvent.<a class="code" href="../../df/d05/struct_spell_proc_event_entry.html#a2aa57bf419ab51129fe7240750ee8910">spellFamilyMask</a>[0] = fields[3].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;        spellProcEvent.<a class="code" href="../../df/d05/struct_spell_proc_event_entry.html#a2aa57bf419ab51129fe7240750ee8910">spellFamilyMask</a>[1] = fields[4].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;        spellProcEvent.<a class="code" href="../../df/d05/struct_spell_proc_event_entry.html#a2aa57bf419ab51129fe7240750ee8910">spellFamilyMask</a>[2] = fields[5].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;        spellProcEvent.<a class="code" href="../../df/d05/struct_spell_proc_event_entry.html#af253ef32b9de49fe85d0fe6f06855a60">procFlags</a>          = fields[6].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;        spellProcEvent.<a class="code" href="../../df/d05/struct_spell_proc_event_entry.html#a911770f28fe36243593b12fe92d6fbec">procEx</a>             = fields[7].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;        spellProcEvent.<a class="code" href="../../df/d05/struct_spell_proc_event_entry.html#a931b2df4a187482e32ef252c3320080a">ppmRate</a>            = fields[8].<a class="code" href="../../dc/d67/class_field.html#a8b05a34c3d0cb92a9d2c0f298aa11dea">GetFloat</a>();</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;        spellProcEvent.<a class="code" href="../../df/d05/struct_spell_proc_event_entry.html#adf6742b70f0b00abddf1da6f45da3d16">customChance</a>       = fields[9].<a class="code" href="../../dc/d67/class_field.html#a8b05a34c3d0cb92a9d2c0f298aa11dea">GetFloat</a>();</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;        spellProcEvent.<a class="code" href="../../df/d05/struct_spell_proc_event_entry.html#a0cd88c27979ccc5284aa46846db32a7c">cooldown</a>           = fields[10].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160; </div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;        <span class="keywordflow">while</span> (spellInfo)</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;        {</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../dc/d9a/class_spell_mgr.html#a3e6353afe01453ebf0bab09cde94673e">mSpellProcEventMap</a>.find(spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>) != <a class="code" href="../../dc/d9a/class_spell_mgr.html#a3e6353afe01453ebf0bab09cde94673e">mSpellProcEventMap</a>.end())</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;            {</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u listed in `spell_proc_event` already has its first rank in table.&quot;</span>, spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>);</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;            }</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160; </div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;            <span class="keywordflow">if</span> (!spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a7909fc70161065f6107211ee8ed3c6bf">ProcFlags</a> &amp;&amp; !spellProcEvent.<a class="code" href="../../df/d05/struct_spell_proc_event_entry.html#af253ef32b9de49fe85d0fe6f06855a60">procFlags</a>)</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u listed in `spell_proc_event` probally not triggered spell&quot;</span>, spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>);</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160; </div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;            <a class="code" href="../../dc/d9a/class_spell_mgr.html#a3e6353afe01453ebf0bab09cde94673e">mSpellProcEventMap</a>[spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>] = spellProcEvent;</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160; </div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;            <span class="keywordflow">if</span> (allRanks)</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;                spellInfo = spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#acdd9ea3a150b57f3bb48f414d6607377">GetNextRankSpell</a>();</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;        }</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160; </div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;        ++count;</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;    } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160; </div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded %u extra spell proc event conditions in %u ms&quot;</span>, count, <a class="code" href="../../d5/d29/_timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;}</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160; </div>
<div class="line"><a name="l01800"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#aeca13d7535faa653ad4de42e2cef9c48"> 1800</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#aeca13d7535faa653ad4de42e2cef9c48">SpellMgr::LoadSpellProcs</a>()</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;{</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code" href="../../d5/d29/_timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160; </div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    <a class="code" href="../../dc/d9a/class_spell_mgr.html#a9f6998b4fee8fba87ad8d372abd8693d">mSpellProcMap</a>.clear();                             <span class="comment">// need for reload case</span></div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160; </div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    <span class="comment">//                                                 0        1           2                3                 4                 5                 6         7              8               9        10              11             12      13        14</span></div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <a class="code" href="../../db/d04/_database_env_fwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code" href="../../d6/d2e/_database_env_8cpp.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(<span class="stringliteral">&quot;SELECT spellId, schoolMask, spellFamilyName, spellFamilyMask0, spellFamilyMask1, spellFamilyMask2, typeMask, spellTypeMask, spellPhaseMask, hitMask, attributesMask, ratePerMinute, chance, cooldown, charges FROM spell_proc&quot;</span>);</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    {</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 spell proc conditions and data. DB table `spell_proc` is empty.&quot;</span>);</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    }</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160; </div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    <span class="keywordflow">do</span></div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    {</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;        <a class="code" href="../../dc/d67/class_field.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160; </div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> spellId = fields[0].<a class="code" href="../../dc/d67/class_field.html#afc9e673b7e6607f5f52bf16c77a73e5e">GetInt32</a>();</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160; </div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;        <span class="keywordtype">bool</span> allRanks = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;        <span class="keywordflow">if</span> (spellId &lt; 0)</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;        {</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;            allRanks = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;            spellId = -spellId;</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;        }</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160; </div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;        <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(spellId);</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;        <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;        {</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u listed in `spell_proc` does not exist&quot;</span>, spellId);</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;        }</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160; </div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;        <span class="keywordflow">if</span> (allRanks)</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;        {</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;            <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a236dc1b4f58ebf6a2eb5b1824c5e8073">GetFirstRankSpell</a>()-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a> != <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(spellId))</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;            {</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u listed in `spell_proc` is not first rank of spell.&quot;</span>, fields[0].GetInt32());</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;            }</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;        }</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160; </div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;        <a class="code" href="../../d0/d79/struct_spell_proc_entry.html">SpellProcEntry</a> baseProcEntry;</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160; </div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;        baseProcEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a37c81140671915c9c4c7b918b8f43da3">schoolMask</a>      = fields[1].<a class="code" href="../../dc/d67/class_field.html#a714d8d2cb518f48e7ba65fc3176a5002">GetInt8</a>();</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;        baseProcEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a82cff6363f5f9d3182d1bd2cc0ff59e7">spellFamilyName</a> = fields[2].<a class="code" href="../../dc/d67/class_field.html#a7bbb15bfb8f64f94b26c7cfffe83ac58">GetUInt16</a>();</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;        baseProcEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#ad55f6065cded92a10a6fe07d992c69f1">spellFamilyMask</a>[0] = fields[3].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;        baseProcEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#ad55f6065cded92a10a6fe07d992c69f1">spellFamilyMask</a>[1] = fields[4].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;        baseProcEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#ad55f6065cded92a10a6fe07d992c69f1">spellFamilyMask</a>[2] = fields[5].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;        baseProcEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#acd5e69b6eba5baf1a4f476b794d81245">typeMask</a>        = fields[6].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;        baseProcEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a1b238888060e155a17d7920a66221fad">spellTypeMask</a>   = fields[7].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;        baseProcEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#ab6e0a5194005183f1e6ecedff210b83e">spellPhaseMask</a>  = fields[8].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;        baseProcEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a8e9056eee5cca760291dedd23822d998">hitMask</a>         = fields[9].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;        baseProcEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#ab04dfe18fbf2d7921b83a9feb75e3bed">attributesMask</a>  = fields[10].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;        baseProcEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a69f23fe7134391526d6f98ad32e6628a">ratePerMinute</a>   = fields[11].<a class="code" href="../../dc/d67/class_field.html#a8b05a34c3d0cb92a9d2c0f298aa11dea">GetFloat</a>();</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;        baseProcEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a267045b5891b545a1edd3d321f251d1c">chance</a>          = fields[12].<a class="code" href="../../dc/d67/class_field.html#a8b05a34c3d0cb92a9d2c0f298aa11dea">GetFloat</a>();</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;        <span class="keywordtype">float</span> cooldown                = fields[13].<a class="code" href="../../dc/d67/class_field.html#a8b05a34c3d0cb92a9d2c0f298aa11dea">GetFloat</a>();</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;        baseProcEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a027db1efff77802e06a96f7464fc50d3">cooldown</a>        = <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(cooldown);</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;        baseProcEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#adaf85239f9e83c64a00e8b046a7024a6">charges</a>         = fields[14].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160; </div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;        <span class="keywordflow">while</span> (spellInfo)</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;        {</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../dc/d9a/class_spell_mgr.html#a9f6998b4fee8fba87ad8d372abd8693d">mSpellProcMap</a>.find(spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>) != <a class="code" href="../../dc/d9a/class_spell_mgr.html#a9f6998b4fee8fba87ad8d372abd8693d">mSpellProcMap</a>.end())</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;            {</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u listed in `spell_proc` has duplicate entry in the table&quot;</span>, spellId);</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;            }</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;            <a class="code" href="../../d0/d79/struct_spell_proc_entry.html">SpellProcEntry</a> procEntry = <a class="code" href="../../d0/d79/struct_spell_proc_entry.html">SpellProcEntry</a>(baseProcEntry);</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160; </div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;            <span class="comment">// take defaults from dbcs</span></div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;            <span class="keywordflow">if</span> (!procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#acd5e69b6eba5baf1a4f476b794d81245">typeMask</a>)</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;                procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#acd5e69b6eba5baf1a4f476b794d81245">typeMask</a> = spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a7909fc70161065f6107211ee8ed3c6bf">ProcFlags</a>;</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;            <span class="keywordflow">if</span> (!procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#adaf85239f9e83c64a00e8b046a7024a6">charges</a>)</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;                procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#adaf85239f9e83c64a00e8b046a7024a6">charges</a> = spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a4b82e530c085010e7247ae0862301ac9">ProcCharges</a>;</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;            <span class="keywordflow">if</span> (!procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a267045b5891b545a1edd3d321f251d1c">chance</a> &amp;&amp; !procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a69f23fe7134391526d6f98ad32e6628a">ratePerMinute</a>)</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;                procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a267045b5891b545a1edd3d321f251d1c">chance</a> = float(spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#ae3a8f9ea2f783862a59d0dac50d154d3">ProcChance</a>);</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160; </div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;            <span class="comment">// validate data</span></div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;            <span class="keywordflow">if</span> (procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a37c81140671915c9c4c7b918b8f43da3">schoolMask</a> &amp; ~<a class="code" href="../../df/d0b/_shared_defines_8h.html#aff6913cfd69489c107a071be9ec2ec8fa65c125a1722e326c066d8aa1350911c8">SPELL_SCHOOL_MASK_ALL</a>)</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;`spell_proc` table entry for spellId %u has wrong `schoolMask` set: %u&quot;</span>, spellId, procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a37c81140671915c9c4c7b918b8f43da3">schoolMask</a>);</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;            <span class="keywordflow">if</span> (procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a82cff6363f5f9d3182d1bd2cc0ff59e7">spellFamilyName</a> &amp;&amp; (procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a82cff6363f5f9d3182d1bd2cc0ff59e7">spellFamilyName</a> &lt; 3 || procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a82cff6363f5f9d3182d1bd2cc0ff59e7">spellFamilyName</a> &gt; 17 || procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a82cff6363f5f9d3182d1bd2cc0ff59e7">spellFamilyName</a> == 14 || procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a82cff6363f5f9d3182d1bd2cc0ff59e7">spellFamilyName</a> == 16))</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;`spell_proc` table entry for spellId %u has wrong `spellFamilyName` set: %u&quot;</span>, spellId, procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a82cff6363f5f9d3182d1bd2cc0ff59e7">spellFamilyName</a>);</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;            <span class="keywordflow">if</span> (procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a267045b5891b545a1edd3d321f251d1c">chance</a> &lt; 0)</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;            {</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;`spell_proc` table entry for spellId %u has negative value in `chance` field&quot;</span>, spellId);</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;                procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a267045b5891b545a1edd3d321f251d1c">chance</a> = 0;</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;            }</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;            <span class="keywordflow">if</span> (procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a69f23fe7134391526d6f98ad32e6628a">ratePerMinute</a> &lt; 0)</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;            {</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;`spell_proc` table entry for spellId %u has negative value in `ratePerMinute` field&quot;</span>, spellId);</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;                procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a69f23fe7134391526d6f98ad32e6628a">ratePerMinute</a> = 0;</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;            }</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;            <span class="keywordflow">if</span> (cooldown &lt; 0)</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;            {</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;`spell_proc` table entry for spellId %u has negative value in `cooldown` field&quot;</span>, spellId);</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;                procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a027db1efff77802e06a96f7464fc50d3">cooldown</a> = 0;</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;            }</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;            <span class="keywordflow">if</span> (procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a267045b5891b545a1edd3d321f251d1c">chance</a> == 0 &amp;&amp; procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a69f23fe7134391526d6f98ad32e6628a">ratePerMinute</a> == 0)</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;`spell_proc` table entry for spellId %u doesn&#39;t have `chance` and `ratePerMinute` values defined, proc will not be triggered&quot;</span>, spellId);</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;            <span class="keywordflow">if</span> (procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#adaf85239f9e83c64a00e8b046a7024a6">charges</a> &gt; 99)</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;            {</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;`spell_proc` table entry for spellId %u has too big value in `charges` field&quot;</span>, spellId);</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;                procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#adaf85239f9e83c64a00e8b046a7024a6">charges</a> = 99;</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;            }</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;            <span class="keywordflow">if</span> (!procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#acd5e69b6eba5baf1a4f476b794d81245">typeMask</a>)</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;`spell_proc` table entry for spellId %u doesn&#39;t have `typeMask` value defined, proc will not be triggered&quot;</span>, spellId);</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;            <span class="keywordflow">if</span> (procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a1b238888060e155a17d7920a66221fad">spellTypeMask</a> &amp; ~<a class="code" href="../../d3/d75/_spell_mgr_8h.html#acb2f59f82f5d44cf14104713821f0527a8b2234b4443b9668e2bea3394c9fd860">PROC_SPELL_TYPE_MASK_ALL</a>)</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;`spell_proc` table entry for spellId %u has wrong `spellTypeMask` set: %u&quot;</span>, spellId, procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a1b238888060e155a17d7920a66221fad">spellTypeMask</a>);</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;            <span class="keywordflow">if</span> (procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a1b238888060e155a17d7920a66221fad">spellTypeMask</a> &amp;&amp; !(procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#acd5e69b6eba5baf1a4f476b794d81245">typeMask</a> &amp; (<a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6adc3fb7dd56615e62d28af0ea87793d58">SPELL_PROC_FLAG_MASK</a> | <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a6d718a09392612753a07abe19d65299c">PERIODIC_PROC_FLAG_MASK</a>)))</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;`spell_proc` table entry for spellId %u has `spellTypeMask` value defined, but it won&#39;t be used for defined `typeMask` value&quot;</span>, spellId);</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;            <span class="keywordflow">if</span> (!procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#ab6e0a5194005183f1e6ecedff210b83e">spellPhaseMask</a> &amp;&amp; procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#acd5e69b6eba5baf1a4f476b794d81245">typeMask</a> &amp; <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a9e17ffa130a52703402b183e53ec18c9">REQ_SPELL_PHASE_PROC_FLAG_MASK</a>)</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;`spell_proc` table entry for spellId %u doesn&#39;t have `spellPhaseMask` value defined, but it&#39;s required for defined `typeMask` value, proc will not be triggered&quot;</span>, spellId);</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;            <span class="keywordflow">if</span> (procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#ab6e0a5194005183f1e6ecedff210b83e">spellPhaseMask</a> &amp; ~<a class="code" href="../../d3/d75/_spell_mgr_8h.html#addbb65f0e6c920d8577112d9dd55beb4acd99cd6667521d46043f4c1dcb083e59">PROC_SPELL_PHASE_MASK_ALL</a>)</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;`spell_proc` table entry for spellId %u has wrong `spellPhaseMask` set: %u&quot;</span>, spellId, procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#ab6e0a5194005183f1e6ecedff210b83e">spellPhaseMask</a>);</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;            <span class="keywordflow">if</span> (procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#ab6e0a5194005183f1e6ecedff210b83e">spellPhaseMask</a> &amp;&amp; !(procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#acd5e69b6eba5baf1a4f476b794d81245">typeMask</a> &amp; <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a9e17ffa130a52703402b183e53ec18c9">REQ_SPELL_PHASE_PROC_FLAG_MASK</a>))</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;`spell_proc` table entry for spellId %u has `spellPhaseMask` value defined, but it won&#39;t be used for defined `typeMask` value&quot;</span>, spellId);</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;            <span class="keywordflow">if</span> (procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a8e9056eee5cca760291dedd23822d998">hitMask</a> &amp; ~<a class="code" href="../../d3/d75/_spell_mgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9add479539b64a6b576da3b208ad6c863d">PROC_HIT_MASK_ALL</a>)</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;`spell_proc` table entry for spellId %u has wrong `hitMask` set: %u&quot;</span>, spellId, procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a8e9056eee5cca760291dedd23822d998">hitMask</a>);</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;            <span class="keywordflow">if</span> (procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#a8e9056eee5cca760291dedd23822d998">hitMask</a> &amp;&amp; !(procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#acd5e69b6eba5baf1a4f476b794d81245">typeMask</a> &amp; <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a4ef079da228b08645ef20ead47c22a73">TAKEN_HIT_PROC_FLAG_MASK</a> || (procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#acd5e69b6eba5baf1a4f476b794d81245">typeMask</a> &amp; <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6ae0cef27dc24d6bd6fa46efa85df7d488">DONE_HIT_PROC_FLAG_MASK</a> &amp;&amp; (!procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#ab6e0a5194005183f1e6ecedff210b83e">spellPhaseMask</a> || procEntry.<a class="code" href="../../d0/d79/struct_spell_proc_entry.html#ab6e0a5194005183f1e6ecedff210b83e">spellPhaseMask</a> &amp; (<a class="code" href="../../d3/d75/_spell_mgr_8h.html#addbb65f0e6c920d8577112d9dd55beb4a8ccd2b9dede0fefcf6eb07b8e6753f34">PROC_SPELL_PHASE_HIT</a> | <a class="code" href="../../d3/d75/_spell_mgr_8h.html#addbb65f0e6c920d8577112d9dd55beb4a36113cf744242d04db86ef65dab0fc7b">PROC_SPELL_PHASE_FINISH</a>)))))</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;`spell_proc` table entry for spellId %u has `hitMask` value defined, but it won&#39;t be used for defined `typeMask` and `spellPhaseMask` values&quot;</span>, spellId);</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160; </div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;            <a class="code" href="../../dc/d9a/class_spell_mgr.html#a9f6998b4fee8fba87ad8d372abd8693d">mSpellProcMap</a>[spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>] = procEntry;</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160; </div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;            <span class="keywordflow">if</span> (allRanks)</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;                spellInfo = spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#acdd9ea3a150b57f3bb48f414d6607377">GetNextRankSpell</a>();</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;        }</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;        ++count;</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160; </div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded %u spell proc conditions and data in %u ms&quot;</span>, count, <a class="code" href="../../d5/d29/_timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;}</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160; </div>
<div class="line"><a name="l01938"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a87fe28453a7605eafc7b304a5a8b3a75"> 1938</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a87fe28453a7605eafc7b304a5a8b3a75">SpellMgr::LoadSpellBonusess</a>()</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;{</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code" href="../../d5/d29/_timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160; </div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;    <a class="code" href="../../dc/d9a/class_spell_mgr.html#acad2b4b3647850a59bea2a0763ef972c">mSpellBonusMap</a>.clear();                             <span class="comment">// need for reload case</span></div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160; </div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;    <span class="comment">//                                                0      1             2          3         4</span></div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    <a class="code" href="../../db/d04/_database_env_fwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code" href="../../d6/d2e/_database_env_8cpp.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(<span class="stringliteral">&quot;SELECT entry, direct_bonus, dot_bonus, ap_bonus, ap_dot_bonus FROM spell_bonus_data&quot;</span>);</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    {</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 spell bonus data. DB table `spell_bonus_data` is empty.&quot;</span>);</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;    }</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160; </div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;    <span class="keywordflow">do</span></div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;    {</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;        <a class="code" href="../../dc/d67/class_field.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> entry = fields[0].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160; </div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;        <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* spell = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(entry);</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;        <span class="keywordflow">if</span> (!spell)</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;        {</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u listed in `spell_bonus_data` does not exist&quot;</span>, entry);</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;        }</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160; </div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;        <a class="code" href="../../d0/dae/struct_spell_bonus_entry.html">SpellBonusEntry</a>&amp; sbe = <a class="code" href="../../dc/d9a/class_spell_mgr.html#acad2b4b3647850a59bea2a0763ef972c">mSpellBonusMap</a>[entry];</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;        sbe.<a class="code" href="../../d0/dae/struct_spell_bonus_entry.html#abab1af227a6c8e592b8a9bd15589535d">direct_damage</a> = fields[1].<a class="code" href="../../dc/d67/class_field.html#a8b05a34c3d0cb92a9d2c0f298aa11dea">GetFloat</a>();</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;        sbe.<a class="code" href="../../d0/dae/struct_spell_bonus_entry.html#a92491d8d1e61612d88c7c830d7912be5">dot_damage</a>    = fields[2].<a class="code" href="../../dc/d67/class_field.html#a8b05a34c3d0cb92a9d2c0f298aa11dea">GetFloat</a>();</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;        sbe.<a class="code" href="../../d0/dae/struct_spell_bonus_entry.html#a98410b8bb89434cd7e1747462f8039dc">ap_bonus</a>      = fields[3].<a class="code" href="../../dc/d67/class_field.html#a8b05a34c3d0cb92a9d2c0f298aa11dea">GetFloat</a>();</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;        sbe.<a class="code" href="../../d0/dae/struct_spell_bonus_entry.html#a09caeec47b138d9eff3539795416a09a">ap_dot_bonus</a>   = fields[4].<a class="code" href="../../dc/d67/class_field.html#a8b05a34c3d0cb92a9d2c0f298aa11dea">GetFloat</a>();</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160; </div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;        ++count;</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;    } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160; </div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded %u extra spell bonus data in %u ms&quot;</span>, count, <a class="code" href="../../d5/d29/_timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;}</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160; </div>
<div class="line"><a name="l01979"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a639ed2f06c1e6457882c02bee9da7dcb"> 1979</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a639ed2f06c1e6457882c02bee9da7dcb">SpellMgr::LoadSpellThreats</a>()</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;{</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code" href="../../d5/d29/_timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160; </div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;    <a class="code" href="../../dc/d9a/class_spell_mgr.html#ae9c903197d7e59109bdc7675663ff93f">mSpellThreatMap</a>.clear();                                <span class="comment">// need for reload case</span></div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160; </div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;    <span class="comment">//                                                0      1        2       3</span></div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    <a class="code" href="../../db/d04/_database_env_fwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code" href="../../d6/d2e/_database_env_8cpp.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(<span class="stringliteral">&quot;SELECT entry, flatMod, pctMod, apPctMod FROM spell_threat&quot;</span>);</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    {</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 aggro generating spells. DB table `spell_threat` is empty.&quot;</span>);</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;    }</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160; </div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;    <span class="keywordflow">do</span></div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    {</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;        <a class="code" href="../../dc/d67/class_field.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160; </div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> entry = fields[0].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160; </div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(entry))</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;        {</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u listed in `spell_threat` does not exist&quot;</span>, entry);</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;        }</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160; </div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;        <a class="code" href="../../d0/da7/struct_spell_threat_entry.html">SpellThreatEntry</a> ste;</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;        ste.<a class="code" href="../../d0/da7/struct_spell_threat_entry.html#a0d66e48d986f246e6aea08dd00837158">flatMod</a>  = fields[1].<a class="code" href="../../dc/d67/class_field.html#afc9e673b7e6607f5f52bf16c77a73e5e">GetInt32</a>();</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;        ste.<a class="code" href="../../d0/da7/struct_spell_threat_entry.html#af13802a7f6872cfce3a1d14655f30287">pctMod</a>   = fields[2].<a class="code" href="../../dc/d67/class_field.html#a8b05a34c3d0cb92a9d2c0f298aa11dea">GetFloat</a>();</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;        ste.<a class="code" href="../../d0/da7/struct_spell_threat_entry.html#a35f5f8f7a3ac33768299913fecc1cf8d">apPctMod</a> = fields[3].<a class="code" href="../../dc/d67/class_field.html#a8b05a34c3d0cb92a9d2c0f298aa11dea">GetFloat</a>();</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160; </div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;        <a class="code" href="../../dc/d9a/class_spell_mgr.html#ae9c903197d7e59109bdc7675663ff93f">mSpellThreatMap</a>[entry] = ste;</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;        ++count;</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;    } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160; </div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded %u SpellThreatEntries in %u ms&quot;</span>, count, <a class="code" href="../../d5/d29/_timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;}</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160; </div>
<div class="line"><a name="l02020"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#ae2abb2ff60931b9849f928fd74892971"> 2020</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#ae2abb2ff60931b9849f928fd74892971">SpellMgr::LoadSpellMixology</a>()</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;{</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code" href="../../d5/d29/_timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160; </div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;    <a class="code" href="../../dc/d9a/class_spell_mgr.html#a5637b3248011a308a57338e6f74b7bdd">mSpellMixologyMap</a>.clear();                                <span class="comment">// need for reload case</span></div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160; </div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;    <span class="comment">//                                                0      1</span></div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;    <a class="code" href="../../db/d04/_database_env_fwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code" href="../../d6/d2e/_database_env_8cpp.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(<span class="stringliteral">&quot;SELECT entry, pctMod FROM spell_mixology&quot;</span>);</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;    {</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 mixology bonuses. DB table `spell_mixology` is empty.&quot;</span>);</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    }</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160; </div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;    <span class="keywordflow">do</span></div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;    {</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;        <a class="code" href="../../dc/d67/class_field.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160; </div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> entry = fields[0].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160; </div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(entry))</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;        {</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u listed in `spell_mixology` does not exist&quot;</span>, entry);</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;        }</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160; </div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;        <a class="code" href="../../dc/d9a/class_spell_mgr.html#a5637b3248011a308a57338e6f74b7bdd">mSpellMixologyMap</a>[entry] = fields[1].<a class="code" href="../../dc/d67/class_field.html#a8b05a34c3d0cb92a9d2c0f298aa11dea">GetFloat</a>();</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;        ++count;</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;    } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160; </div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded %u Mixology bonuses in %u ms&quot;</span>, count, <a class="code" href="../../d5/d29/_timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;}</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160; </div>
<div class="line"><a name="l02056"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a3a8a52ae46abd7dc3b7cc5829d5c9b34"> 2056</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a3a8a52ae46abd7dc3b7cc5829d5c9b34">SpellMgr::LoadSkillLineAbilityMap</a>()</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;{</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code" href="../../d5/d29/_timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160; </div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;    <a class="code" href="../../dc/d9a/class_spell_mgr.html#a1230ba374bf128c6d0857d787bb68af4">mSkillLineAbilityMap</a>.clear();</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160; </div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160; </div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#ac4a67d7e7202273571827d2161a6cbbf">sSkillLineAbilityStore</a>.GetNumRows(); ++i)</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    {</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;        <a class="code" href="../../de/d4f/struct_skill_line_ability_entry.html">SkillLineAbilityEntry</a> <span class="keyword">const</span>* SkillInfo = <a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#ac4a67d7e7202273571827d2161a6cbbf">sSkillLineAbilityStore</a>.LookupEntry(i);</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;        <span class="keywordflow">if</span> (!SkillInfo)</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160; </div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;        <a class="code" href="../../dc/d9a/class_spell_mgr.html#a1230ba374bf128c6d0857d787bb68af4">mSkillLineAbilityMap</a>.insert(SkillLineAbilityMap::value_type(SkillInfo-&gt;<a class="code" href="../../de/d4f/struct_skill_line_ability_entry.html#a19e1a55dadce68e6e9c1bd7bb2ca51dd">Spell</a>, SkillInfo));</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;        ++count;</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;    }</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160; </div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded %u SkillLineAbility MultiMap Data in %u ms&quot;</span>, count, <a class="code" href="../../d5/d29/_timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;}</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160; </div>
<div class="line"><a name="l02078"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#ac0075b5d8cabc7ff2cea2537a1c31ead"> 2078</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#ac0075b5d8cabc7ff2cea2537a1c31ead">SpellMgr::LoadSpellPetAuras</a>()</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;{</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code" href="../../d5/d29/_timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160; </div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;    <a class="code" href="../../dc/d9a/class_spell_mgr.html#a32090ca7b9037cdd52aa11d5ecb1bc51">mSpellPetAuraMap</a>.clear();                                  <span class="comment">// need for reload case</span></div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160; </div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;    <span class="comment">//                                                  0       1       2    3</span></div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;    <a class="code" href="../../db/d04/_database_env_fwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code" href="../../d6/d2e/_database_env_8cpp.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(<span class="stringliteral">&quot;SELECT spell, effectId, pet, aura FROM spell_pet_auras&quot;</span>);</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;    {</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 spell pet auras. DB table `spell_pet_auras` is empty.&quot;</span>);</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;    }</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160; </div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;    <span class="keywordflow">do</span></div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;    {</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;        <a class="code" href="../../dc/d67/class_field.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160; </div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell = fields[0].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> eff = fields[1].<a class="code" href="../../dc/d67/class_field.html#a090beafdf8b41555058a87d00443498a">GetUInt8</a>();</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> pet = fields[2].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> aura = fields[3].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160; </div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;        SpellPetAuraMap::iterator itr = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a32090ca7b9037cdd52aa11d5ecb1bc51">mSpellPetAuraMap</a>.find((spell &lt;&lt; 8) + eff);</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;        <span class="keywordflow">if</span> (itr != <a class="code" href="../../dc/d9a/class_spell_mgr.html#a32090ca7b9037cdd52aa11d5ecb1bc51">mSpellPetAuraMap</a>.end())</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;            itr-&gt;second.AddAura(pet, aura);</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;        {</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;            <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(spell);</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;            <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;            {</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u listed in `spell_pet_auras` does not exist&quot;</span>, spell);</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;            }</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;            <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[eff].Effect != <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a027bcdf3b42e90e7374802fe61fd776d">SPELL_EFFECT_DUMMY</a> &amp;&amp;</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;                    (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[eff].Effect != <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a> ||</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;                     spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[eff].ApplyAuraName != <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a66cca11731d68512cb0bb652cb1e7caf">SPELL_AURA_DUMMY</a>))</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;            {</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;spells&quot;</span>, <span class="stringliteral">&quot;Spell %u listed in `spell_pet_auras` does not have dummy aura or dummy effect&quot;</span>, spell);</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;            }</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160; </div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;            <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo2 = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(aura);</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;            <span class="keywordflow">if</span> (!spellInfo2)</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;            {</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Aura %u listed in `spell_pet_auras` does not exist&quot;</span>, aura);</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;            }</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160; </div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;            <a class="code" href="../../d3/d0b/class_pet_aura.html">PetAura</a> pa(pet, aura, spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[eff].TargetA.GetTarget() == <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a85f865aa0228f193158a34cbafe4d706">TARGET_UNIT_PET</a>, spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[eff].CalcValue());</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;            <a class="code" href="../../dc/d9a/class_spell_mgr.html#a32090ca7b9037cdd52aa11d5ecb1bc51">mSpellPetAuraMap</a>[(spell &lt;&lt; 8) + eff] = pa;</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;        }</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160; </div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;        ++count;</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;    } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160; </div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded %u spell pet auras in %u ms&quot;</span>, count, <a class="code" href="../../d5/d29/_timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;}</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160; </div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;<span class="comment">// Fill custom data about enchancments</span></div>
<div class="line"><a name="l02141"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a2a7101c0a7d47abe2c8814684794aa5b"> 2141</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a2a7101c0a7d47abe2c8814684794aa5b">SpellMgr::LoadEnchantCustomAttr</a>()</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;{</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code" href="../../d5/d29/_timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160; </div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> size = <a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#a4b7782641d455ad5070f1aba070beae9">sSpellItemEnchantmentStore</a>.GetNumRows();</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;    <a class="code" href="../../dc/d9a/class_spell_mgr.html#a1d1bde8d692b959379b27d29bfdd1e48">mEnchantCustomAttr</a>.resize(size);</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160; </div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; size; ++i)</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;        <a class="code" href="../../dc/d9a/class_spell_mgr.html#a1d1bde8d692b959379b27d29bfdd1e48">mEnchantCustomAttr</a>[i] = 0;</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160; </div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code" href="../../dc/d9a/class_spell_mgr.html#aca8a0eccca0aa32dc2cc9802597c0256">GetSpellInfoStoreSize</a>(); ++i)</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;    {</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;        <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(i);</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;        <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160; </div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;        <span class="comment">// TODO: find a better check</span></div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;        <span class="comment">// Xinef: commented second part, fixes warlock enchants like firestone, spellstone</span></div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;        <span class="keywordflow">if</span> (!spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a975746d6b737abb063ea037327abfc5a">HasAttribute</a>(<a class="code" href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668a569c52bdb00244804fc6776e676532bd">SPELL_ATTR2_ENCHANT_OWN_ITEM_ONLY</a>)<span class="comment">/* || !spellInfo-&gt;HasAttribute(SPELL_ATTR0_NOT_SHAPESHIFTED)*/</span>)</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160; </div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> j = 0; j &lt; <a class="code" href="../../d1/d22/_d_b_c_structure_8h.html#ac5733f5b58bf8a23a1919a005b5ec895">MAX_SPELL_EFFECTS</a>; ++j)</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;        {</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;            <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].Effect == <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97aef19cb2a68fa76f831bb9ddcff67fa65">SPELL_EFFECT_ENCHANT_ITEM_TEMPORARY</a>)</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;            {</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;                <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> enchId = spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].MiscValue;</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;                <a class="code" href="../../d1/d2f/struct_spell_item_enchantment_entry.html">SpellItemEnchantmentEntry</a> <span class="keyword">const</span>* ench = <a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#a4b7782641d455ad5070f1aba070beae9">sSpellItemEnchantmentStore</a>.LookupEntry(enchId);</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;                <span class="keywordflow">if</span> (!ench)</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;                <a class="code" href="../../dc/d9a/class_spell_mgr.html#a1d1bde8d692b959379b27d29bfdd1e48">mEnchantCustomAttr</a>[enchId] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;                ++count;</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;            }</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;        }</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;    }</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160; </div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded %u custom enchant attributes in %u ms&quot;</span>, count, <a class="code" href="../../d5/d29/_timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;}</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160; </div>
<div class="line"><a name="l02182"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#ac898d28aeb3a83564da1d172972d0029"> 2182</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#ac898d28aeb3a83564da1d172972d0029">SpellMgr::LoadSpellEnchantProcData</a>()</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;{</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code" href="../../d5/d29/_timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160; </div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;    <a class="code" href="../../dc/d9a/class_spell_mgr.html#a92a4c6ade6c7005f1d001c6935139272">mSpellEnchantProcEventMap</a>.clear();                             <span class="comment">// need for reload case</span></div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160; </div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;    <span class="comment">//                                                  0         1           2         3</span></div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;    <a class="code" href="../../db/d04/_database_env_fwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code" href="../../d6/d2e/_database_env_8cpp.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(<span class="stringliteral">&quot;SELECT entry, customChance, PPMChance, procEx FROM spell_enchant_proc_data&quot;</span>);</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;    {</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 spell enchant proc event conditions. DB table `spell_enchant_proc_data` is empty.&quot;</span>);</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;    }</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160; </div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;    <span class="keywordflow">do</span></div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;    {</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;        <a class="code" href="../../dc/d67/class_field.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160; </div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> enchantId = fields[0].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160; </div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;        <a class="code" href="../../d1/d2f/struct_spell_item_enchantment_entry.html">SpellItemEnchantmentEntry</a> <span class="keyword">const</span>* ench = <a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#a4b7782641d455ad5070f1aba070beae9">sSpellItemEnchantmentStore</a>.LookupEntry(enchantId);</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;        <span class="keywordflow">if</span> (!ench)</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;        {</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Enchancment %u listed in `spell_enchant_proc_data` does not exist&quot;</span>, enchantId);</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;        }</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160; </div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;        <a class="code" href="../../d3/dc4/struct_spell_enchant_proc_entry.html">SpellEnchantProcEntry</a> spe;</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160; </div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;        spe.<a class="code" href="../../d3/dc4/struct_spell_enchant_proc_entry.html#ac5d048f7ee803d61d5d3c59bb80a015d">customChance</a> = fields[1].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;        spe.<a class="code" href="../../d3/dc4/struct_spell_enchant_proc_entry.html#adb76c11f0073a2738374c98c01fda009">PPMChance</a> = fields[2].<a class="code" href="../../dc/d67/class_field.html#a8b05a34c3d0cb92a9d2c0f298aa11dea">GetFloat</a>();</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;        spe.<a class="code" href="../../d3/dc4/struct_spell_enchant_proc_entry.html#a28bcdd11e64ad96be5a3ca0e0dd447c7">procEx</a> = fields[3].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160; </div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;        <a class="code" href="../../dc/d9a/class_spell_mgr.html#a92a4c6ade6c7005f1d001c6935139272">mSpellEnchantProcEventMap</a>[enchantId] = spe;</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160; </div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;        ++count;</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;    } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160; </div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded %u enchant proc data definitions in %u ms&quot;</span>, count, <a class="code" href="../../d5/d29/_timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;}</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160; </div>
<div class="line"><a name="l02226"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a085ba1ffcde6b34c7b612d11e36513df"> 2226</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a085ba1ffcde6b34c7b612d11e36513df">SpellMgr::LoadSpellLinked</a>()</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;{</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code" href="../../d5/d29/_timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160; </div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;    <a class="code" href="../../dc/d9a/class_spell_mgr.html#a032f25dee822225e2dfbb75e1c6d56f5">mSpellLinkedMap</a>.clear();    <span class="comment">// need for reload case</span></div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160; </div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;    <span class="comment">//                                                0              1             2</span></div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;    <a class="code" href="../../db/d04/_database_env_fwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code" href="../../d6/d2e/_database_env_8cpp.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(<span class="stringliteral">&quot;SELECT spell_trigger, spell_effect, type FROM spell_linked_spell&quot;</span>);</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;    {</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 linked spells. DB table `spell_linked_spell` is empty.&quot;</span>);</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;    }</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160; </div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;    <span class="keywordflow">do</span></div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;    {</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;        <a class="code" href="../../dc/d67/class_field.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160; </div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> trigger = fields[0].<a class="code" href="../../dc/d67/class_field.html#afc9e673b7e6607f5f52bf16c77a73e5e">GetInt32</a>();</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> effect = fields[1].<a class="code" href="../../dc/d67/class_field.html#afc9e673b7e6607f5f52bf16c77a73e5e">GetInt32</a>();</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> type = fields[2].<a class="code" href="../../dc/d67/class_field.html#a090beafdf8b41555058a87d00443498a">GetUInt8</a>();</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160; </div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;        <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(abs(trigger));</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;        <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;        {</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u listed in `spell_linked_spell` does not exist&quot;</span>, abs(trigger));</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;        }</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;        spellInfo = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(abs(effect));</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;        <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;        {</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u listed in `spell_linked_spell` does not exist&quot;</span>, abs(effect));</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;        }</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160; </div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;        <span class="keywordflow">if</span> (type) <span class="comment">//we will find a better way when more types are needed</span></div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;        {</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;            <span class="keywordflow">if</span> (trigger &gt; 0)</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;                trigger += <a class="code" href="../../d3/d75/_spell_mgr_8h.html#af4e20067ac1089d43e9ece8073dfd728">SPELL_LINKED_MAX_SPELLS</a> * type;</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;                trigger -= <a class="code" href="../../d3/d75/_spell_mgr_8h.html#af4e20067ac1089d43e9ece8073dfd728">SPELL_LINKED_MAX_SPELLS</a> * type;</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;        }</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;        <a class="code" href="../../dc/d9a/class_spell_mgr.html#a032f25dee822225e2dfbb75e1c6d56f5">mSpellLinkedMap</a>[trigger].push_back(effect);</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160; </div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;        ++count;</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;    } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160; </div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded %u linked spells in %u ms&quot;</span>, count, <a class="code" href="../../d5/d29/_timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;}</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160; </div>
<div class="line"><a name="l02279"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#addc82985cf1f7562dea166dc1102a18e"> 2279</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#addc82985cf1f7562dea166dc1102a18e">SpellMgr::LoadPetLevelupSpellMap</a>()</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;{</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code" href="../../d5/d29/_timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160; </div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;    <a class="code" href="../../dc/d9a/class_spell_mgr.html#a961a18df4995256a1754503ff574f11e">mPetLevelupSpellMap</a>.clear();                                   <span class="comment">// need for reload case</span></div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160; </div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> family_count = 0;</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160; </div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#a83ea3f8701464968bcfc119ad499b756">sCreatureFamilyStore</a>.GetNumRows(); ++i)</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;    {</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;        <a class="code" href="../../d1/d54/struct_creature_family_entry.html">CreatureFamilyEntry</a> <span class="keyword">const</span>* creatureFamily = <a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#a83ea3f8701464968bcfc119ad499b756">sCreatureFamilyStore</a>.LookupEntry(i);</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;        <span class="keywordflow">if</span> (!creatureFamily)                                     <span class="comment">// not exist</span></div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160; </div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; 2; ++j)</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;        {</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;            <span class="keywordflow">if</span> (!creatureFamily-&gt;<a class="code" href="../../d1/d54/struct_creature_family_entry.html#ad4498d40b31d18742ee4ac235cb58a2e">skillLine</a>[j])</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160; </div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> k = 0; k &lt; <a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#ac4a67d7e7202273571827d2161a6cbbf">sSkillLineAbilityStore</a>.GetNumRows(); ++k)</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;            {</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;                <a class="code" href="../../de/d4f/struct_skill_line_ability_entry.html">SkillLineAbilityEntry</a> <span class="keyword">const</span>* skillLine = <a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#ac4a67d7e7202273571827d2161a6cbbf">sSkillLineAbilityStore</a>.LookupEntry(k);</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;                <span class="keywordflow">if</span> (!skillLine)</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160; </div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;                <span class="comment">//if (skillLine-&gt;skillId != creatureFamily-&gt;skillLine[0] &amp;&amp;</span></div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;                <span class="comment">//    (!creatureFamily-&gt;skillLine[1] || skillLine-&gt;skillId != creatureFamily-&gt;skillLine[1]))</span></div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;                <span class="comment">//    continue;</span></div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160; </div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;                <span class="keywordflow">if</span> (skillLine-&gt;<a class="code" href="../../de/d4f/struct_skill_line_ability_entry.html#a0050dcf5c82f785dfc93079debe54a13">SkillLine</a> != creatureFamily-&gt;<a class="code" href="../../d1/d54/struct_creature_family_entry.html#ad4498d40b31d18742ee4ac235cb58a2e">skillLine</a>[j])</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160; </div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;                <span class="keywordflow">if</span> (skillLine-&gt;<a class="code" href="../../de/d4f/struct_skill_line_ability_entry.html#a31a8f5d642b2826b58bc7dfaf5f26719">AcquireMethod</a> != <a class="code" href="../../dc/d6e/_d_b_c_enums_8h.html#a5af614298393d3986bae9de58785ba60a15510a00af2cfb684d30c98f0018018f">SKILL_LINE_ABILITY_LEARNED_ON_SKILL_LEARN</a>)</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160; </div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;                <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* spell = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(skillLine-&gt;<a class="code" href="../../de/d4f/struct_skill_line_ability_entry.html#a19e1a55dadce68e6e9c1bd7bb2ca51dd">Spell</a>);</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;                <span class="keywordflow">if</span> (!spell) <span class="comment">// not exist or triggered or talent</span></div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160; </div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;                <span class="keywordflow">if</span> (!spell-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a0696e18f727a511bfa4ac86a8c16b9f0">SpellLevel</a>)</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160; </div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;                <a class="code" href="../../d3/d75/_spell_mgr_8h.html#aff302d7ad23409ef738f15bcb560ed89">PetLevelupSpellSet</a>&amp; spellSet = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a961a18df4995256a1754503ff574f11e">mPetLevelupSpellMap</a>[creatureFamily-&gt;<a class="code" href="../../d1/d54/struct_creature_family_entry.html#a84ba697182123cb3e7dd3ba07241e971">ID</a>];</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;                <span class="keywordflow">if</span> (spellSet.empty())</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;                    ++family_count;</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160; </div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;                spellSet.insert(PetLevelupSpellSet::value_type(spell-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a0696e18f727a511bfa4ac86a8c16b9f0">SpellLevel</a>, spell-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>));</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;                ++count;</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;            }</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;        }</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;    }</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160; </div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded %u pet levelup and default spells for %u families in %u ms&quot;</span>, count, family_count, <a class="code" href="../../d5/d29/_timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;}</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160; </div>
<div class="line"><a name="l02336"></a><span class="lineno"><a class="line" href="../../db/dad/_spell_mgr_8cpp.html#a1c2a3145d36ac321b7f1f11a01a235f5"> 2336</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a1c2a3145d36ac321b7f1f11a01a235f5">LoadPetDefaultSpells_helper</a>(<a class="code" href="../../d2/d0b/struct_creature_template.html">CreatureTemplate</a> <span class="keyword">const</span>* cInfo, <a class="code" href="../../d2/d72/struct_pet_default_spells_entry.html">PetDefaultSpellsEntry</a>&amp; petDefSpells)</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;{</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;    <span class="comment">// skip empty list;</span></div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;    <span class="keywordtype">bool</span> have_spell = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code" href="../../d1/d22/_d_b_c_structure_8h.html#a84f97addb2541cd13960d71b99ac4f9c">MAX_CREATURE_SPELL_DATA_SLOT</a>; ++j)</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;    {</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;        <span class="keywordflow">if</span> (petDefSpells.<a class="code" href="../../d2/d72/struct_pet_default_spells_entry.html#a14f5dd3b53f06437074965e9b7753e89">spellid</a>[j])</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;        {</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;            have_spell = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;        }</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;    }</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;    <span class="keywordflow">if</span> (!have_spell)</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160; </div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;    <span class="comment">// remove duplicates with levelupSpells if any</span></div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d3/d75/_spell_mgr_8h.html#aff302d7ad23409ef738f15bcb560ed89">PetLevelupSpellSet</a> <span class="keyword">const</span>* levelupSpells = cInfo-&gt;<a class="code" href="../../d2/d0b/struct_creature_template.html#af596e49e3418f003b8ed9c6bb8305e01">family</a> ? <a class="code" href="../../d3/d75/_spell_mgr_8h.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a>-&gt;GetPetLevelupSpellList(cInfo-&gt;<a class="code" href="../../d2/d0b/struct_creature_template.html#af596e49e3418f003b8ed9c6bb8305e01">family</a>) : <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;    {</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code" href="../../d1/d22/_d_b_c_structure_8h.html#a84f97addb2541cd13960d71b99ac4f9c">MAX_CREATURE_SPELL_DATA_SLOT</a>; ++j)</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;        {</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;            <span class="keywordflow">if</span> (!petDefSpells.<a class="code" href="../../d2/d72/struct_pet_default_spells_entry.html#a14f5dd3b53f06437074965e9b7753e89">spellid</a>[j])</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160; </div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;            <span class="keywordflow">for</span> (PetLevelupSpellSet::const_iterator itr = levelupSpells-&gt;begin(); itr != levelupSpells-&gt;end(); ++itr)</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;            {</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;                <span class="keywordflow">if</span> (itr-&gt;second == petDefSpells.<a class="code" href="../../d2/d72/struct_pet_default_spells_entry.html#a14f5dd3b53f06437074965e9b7753e89">spellid</a>[j])</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;                {</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;                    petDefSpells.<a class="code" href="../../d2/d72/struct_pet_default_spells_entry.html#a14f5dd3b53f06437074965e9b7753e89">spellid</a>[j] = 0;</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;                }</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;            }</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;        }</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;    }</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160; </div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;    <span class="comment">// skip empty list;</span></div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;    have_spell = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code" href="../../d1/d22/_d_b_c_structure_8h.html#a84f97addb2541cd13960d71b99ac4f9c">MAX_CREATURE_SPELL_DATA_SLOT</a>; ++j)</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;    {</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;        <span class="keywordflow">if</span> (petDefSpells.<a class="code" href="../../d2/d72/struct_pet_default_spells_entry.html#a14f5dd3b53f06437074965e9b7753e89">spellid</a>[j])</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;        {</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;            have_spell = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;        }</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;    }</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160; </div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;    <span class="keywordflow">return</span> have_spell;</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;}</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160; </div>
<div class="line"><a name="l02384"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a93fc6f749ad5494262414df607985706"> 2384</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a93fc6f749ad5494262414df607985706">SpellMgr::LoadPetDefaultSpells</a>()</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;{</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code" href="../../d5/d29/_timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160; </div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;    <a class="code" href="../../dc/d9a/class_spell_mgr.html#a4ec8d854c5357f1edfd29a136203b0da">mPetDefaultSpellsMap</a>.clear();</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160; </div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> countCreature = 0;</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> countData = 0;</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160; </div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;    <a class="code" href="../../dd/de2/_creature_data_8h.html#ab12170e3eeaeb988a07355262ca85757">CreatureTemplateContainer</a> <span class="keyword">const</span>* ctc = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetCreatureTemplates();</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;    <span class="keywordflow">for</span> (CreatureTemplateContainer::const_iterator itr = ctc-&gt;begin(); itr != ctc-&gt;end(); ++itr)</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;    {</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;        <span class="keywordflow">if</span> (!itr-&gt;second.PetSpellDataId)</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160; </div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;        <span class="comment">// for creature with PetSpellDataId get default pet spells from dbc</span></div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;        <a class="code" href="../../d8/db0/struct_creature_spell_data_entry.html">CreatureSpellDataEntry</a> <span class="keyword">const</span>* spellDataEntry = <a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#a69f8878c2ed43cf5a4a761f2b066c249">sCreatureSpellDataStore</a>.LookupEntry(itr-&gt;second.PetSpellDataId);</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;        <span class="keywordflow">if</span> (!spellDataEntry)</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160; </div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> petSpellsId = -<a class="code" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(itr-&gt;second.PetSpellDataId);</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;        <a class="code" href="../../d2/d72/struct_pet_default_spells_entry.html">PetDefaultSpellsEntry</a> petDefSpells;</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code" href="../../d1/d22/_d_b_c_structure_8h.html#a84f97addb2541cd13960d71b99ac4f9c">MAX_CREATURE_SPELL_DATA_SLOT</a>; ++j)</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;            petDefSpells.<a class="code" href="../../d2/d72/struct_pet_default_spells_entry.html#a14f5dd3b53f06437074965e9b7753e89">spellid</a>[j] = spellDataEntry-&gt;<a class="code" href="../../d8/db0/struct_creature_spell_data_entry.html#aabbb95c091e0b0946bcb05746b1c23f3">spellId</a>[j];</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160; </div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;        <a class="code" href="../../da/dc1/server_2authserver_2_c_make_lists_8txt.html#ae49ace5a5c7d5c9ec887c2686409e695">if</a> (<a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a1c2a3145d36ac321b7f1f11a01a235f5">LoadPetDefaultSpells_helper</a>(&amp;itr-&gt;second, petDefSpells))</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;        {</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;            <a class="code" href="../../dc/d9a/class_spell_mgr.html#a4ec8d854c5357f1edfd29a136203b0da">mPetDefaultSpellsMap</a>[petSpellsId] = petDefSpells;</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;            ++countData;</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;        }</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;    }</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160; </div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded addition spells for %u pet spell data entries in %u ms&quot;</span>, countData, <a class="code" href="../../d5/d29/_timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160; </div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;Loading summonable creature templates...&quot;</span>);</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;    oldMSTime = <a class="code" href="../../d5/d29/_timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160; </div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;    <span class="comment">// different summon spells</span></div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code" href="../../dc/d9a/class_spell_mgr.html#aca8a0eccca0aa32dc2cc9802597c0256">GetSpellInfoStoreSize</a>(); ++i)</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;    {</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;        <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* spellEntry = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(i);</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;        <span class="keywordflow">if</span> (!spellEntry)</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160; </div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> k = 0; k &lt; <a class="code" href="../../d1/d22/_d_b_c_structure_8h.html#ac5733f5b58bf8a23a1919a005b5ec895">MAX_SPELL_EFFECTS</a>; ++k)</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;        {</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;            <span class="keywordflow">if</span> (spellEntry-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[k].Effect == <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97aa7be476935ce81144c2b383b7af7bf47">SPELL_EFFECT_SUMMON</a> || spellEntry-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[k].Effect == <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a0e77fe9c0e808131a2440afe38a856af">SPELL_EFFECT_SUMMON_PET</a>)</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;            {</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;                <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> creature_id = spellEntry-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[k].MiscValue;</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;                <a class="code" href="../../d2/d0b/struct_creature_template.html">CreatureTemplate</a> <span class="keyword">const</span>* cInfo = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetCreatureTemplate(creature_id);</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;                <span class="keywordflow">if</span> (!cInfo)</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160; </div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;                <span class="comment">// already loaded</span></div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;                <span class="keywordflow">if</span> (cInfo-&gt;<a class="code" href="../../d2/d0b/struct_creature_template.html#af88626941d13903be805def34aa8e3ed">PetSpellDataId</a>)</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160; </div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;                <span class="comment">// for creature without PetSpellDataId get default pet spells from creature_template</span></div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;                <a class="code" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> petSpellsId = cInfo-&gt;<a class="code" href="../../d2/d0b/struct_creature_template.html#a3f6f92f27a268bc4e3f4d349c633c9f8">Entry</a>;</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../dc/d9a/class_spell_mgr.html#a4ec8d854c5357f1edfd29a136203b0da">mPetDefaultSpellsMap</a>.find(cInfo-&gt;<a class="code" href="../../d2/d0b/struct_creature_template.html#a3f6f92f27a268bc4e3f4d349c633c9f8">Entry</a>) != <a class="code" href="../../dc/d9a/class_spell_mgr.html#a4ec8d854c5357f1edfd29a136203b0da">mPetDefaultSpellsMap</a>.end())</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160; </div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;                <a class="code" href="../../d2/d72/struct_pet_default_spells_entry.html">PetDefaultSpellsEntry</a> petDefSpells;</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code" href="../../d1/d22/_d_b_c_structure_8h.html#a84f97addb2541cd13960d71b99ac4f9c">MAX_CREATURE_SPELL_DATA_SLOT</a>; ++j)</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;                    petDefSpells.<a class="code" href="../../d2/d72/struct_pet_default_spells_entry.html#a14f5dd3b53f06437074965e9b7753e89">spellid</a>[j] = cInfo-&gt;<a class="code" href="../../d2/d0b/struct_creature_template.html#a6fc743c368c84f30c35f10696d29c8b5">spells</a>[j];</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160; </div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;                <a class="code" href="../../da/dc1/server_2authserver_2_c_make_lists_8txt.html#ae49ace5a5c7d5c9ec887c2686409e695">if</a> (<a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a1c2a3145d36ac321b7f1f11a01a235f5">LoadPetDefaultSpells_helper</a>(cInfo, petDefSpells))</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;                {</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;                    <a class="code" href="../../dc/d9a/class_spell_mgr.html#a4ec8d854c5357f1edfd29a136203b0da">mPetDefaultSpellsMap</a>[petSpellsId] = petDefSpells;</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;                    ++countCreature;</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;                }</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;            }</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;        }</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;    }</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160; </div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded %u summonable creature templates in %u ms&quot;</span>, countCreature, <a class="code" href="../../d5/d29/_timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;}</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160; </div>
<div class="line"><a name="l02464"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a2e5bbd51995218e7f28884c591633086"> 2464</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a2e5bbd51995218e7f28884c591633086">SpellMgr::LoadSpellAreas</a>()</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;{</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code" href="../../d5/d29/_timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160; </div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;    <a class="code" href="../../dc/d9a/class_spell_mgr.html#ac68d8e843d1a7a14d16c397e4595ce17">mSpellAreaMap</a>.clear();                                  <span class="comment">// need for reload case</span></div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;    <a class="code" href="../../dc/d9a/class_spell_mgr.html#aeb50fa0b06b178d23731a9d27156b7b7">mSpellAreaForQuestMap</a>.clear();</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;    <a class="code" href="../../dc/d9a/class_spell_mgr.html#a4943f12ccc2090045b94e26a53e935a2">mSpellAreaForQuestEndMap</a>.clear();</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;    <a class="code" href="../../dc/d9a/class_spell_mgr.html#a24cfc05b7291e1e490fed982059a7c66">mSpellAreaForAuraMap</a>.clear();</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160; </div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;    <span class="comment">//                                                  0     1         2              3               4                 5          6          7       8         9</span></div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;    <a class="code" href="../../db/d04/_database_env_fwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code" href="../../d6/d2e/_database_env_8cpp.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(<span class="stringliteral">&quot;SELECT spell, area, quest_start, quest_start_status, quest_end_status, quest_end, aura_spell, racemask, gender, autocast FROM spell_area&quot;</span>);</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160; </div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;    {</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 spell area requirements. DB table `spell_area` is empty.&quot;</span>);</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;    }</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160; </div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;    <span class="keywordflow">do</span></div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;    {</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;        <a class="code" href="../../dc/d67/class_field.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160; </div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell = fields[0].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;        <a class="code" href="../../da/d40/struct_spell_area.html">SpellArea</a> spellArea;</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;        spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#a8a299d901e2c13cdc3c00d6cf0a856d3">spellId</a>             = spell;</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;        spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#af7e6f7b027388447a1f99e759975ca09">areaId</a>              = fields[1].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;        spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#afc99b14a3724fef7c5dd70e976a479a8">questStart</a>          = fields[2].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;        spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#a7f4466dfd9ab56850a36d0d09ff84798">questStartStatus</a>    = fields[3].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;        spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#ac6c7ed326628642da138bb3835db9a1d">questEndStatus</a>      = fields[4].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;        spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#a075cc2bc4d8c9663b2bdb2cf8ba77f5f">questEnd</a>            = fields[5].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;        spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#adaf2f6f7c56701fe42a2674aca74fba0">auraSpell</a>           = fields[6].<a class="code" href="../../dc/d67/class_field.html#afc9e673b7e6607f5f52bf16c77a73e5e">GetInt32</a>();</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;        spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#a402373ff841bd2aa47b4b36a581624cc">raceMask</a>            = fields[7].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;        spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#af4314cba9c91fd1e2c09905c17c67d22">gender</a>              = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a3667e3c5ec056737c8789615a989324f">Gender</a>(fields[8].GetUInt8());</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;        spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#a38b42b82e4a588e102eb393cc907cd27">autocast</a>            = fields[9].<a class="code" href="../../dc/d67/class_field.html#af5cd02c50067a95e3e6771d48bfbc92d">GetBool</a>();</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160; </div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(spell))</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;        {</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;            <span class="keywordflow">if</span> (spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#a38b42b82e4a588e102eb393cc907cd27">autocast</a>)</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;                <span class="keyword">const_cast&lt;</span><a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a>*<span class="keyword">&gt;</span>(spellInfo)-&gt;Attributes |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada74e8efc0492288577083b1cc470e48c4">SPELL_ATTR0_NO_AURA_CANCEL</a>;</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;        }</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;        {</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u listed in `spell_area` does not exist&quot;</span>, spell);</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;        }</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160; </div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;        {</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;            <span class="keywordtype">bool</span> ok = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;            <a class="code" href="../../d3/d75/_spell_mgr_8h.html#a4edcdc3e020b29d06505e8048874c414">SpellAreaMapBounds</a> sa_bounds = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a126f0b2c2c1bdedea38a31967bee99a9">GetSpellAreaMapBounds</a>(spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#a8a299d901e2c13cdc3c00d6cf0a856d3">spellId</a>);</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;            <span class="keywordflow">for</span> (SpellAreaMap::const_iterator itr = sa_bounds.first; itr != sa_bounds.second; ++itr)</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;            {</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;                <span class="keywordflow">if</span> (spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#a8a299d901e2c13cdc3c00d6cf0a856d3">spellId</a> != itr-&gt;second.spellId)</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;                <span class="keywordflow">if</span> (spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#af7e6f7b027388447a1f99e759975ca09">areaId</a> != itr-&gt;second.areaId)</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;                <span class="keywordflow">if</span> (spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#afc99b14a3724fef7c5dd70e976a479a8">questStart</a> != itr-&gt;second.questStart)</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;                <span class="keywordflow">if</span> (spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#adaf2f6f7c56701fe42a2674aca74fba0">auraSpell</a> != itr-&gt;second.auraSpell)</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;                <span class="keywordflow">if</span> ((spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#a402373ff841bd2aa47b4b36a581624cc">raceMask</a> &amp; itr-&gt;second.raceMask) == 0)</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;                <span class="keywordflow">if</span> (spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#af4314cba9c91fd1e2c09905c17c67d22">gender</a> != itr-&gt;second.gender)</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160; </div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;                <span class="comment">// duplicate by requirements</span></div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;                ok = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;            }</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160; </div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;            <span class="keywordflow">if</span> (!ok)</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;            {</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u listed in `spell_area` already listed with similar requirements.&quot;</span>, spell);</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;            }</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;        }</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160; </div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;        <span class="keywordflow">if</span> (spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#af7e6f7b027388447a1f99e759975ca09">areaId</a> &amp;&amp; !<a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#ac462c4dbc09104eef6a08a7b160c0406">sAreaTableStore</a>.LookupEntry(spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#af7e6f7b027388447a1f99e759975ca09">areaId</a>))</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;        {</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u listed in `spell_area` have wrong area (%u) requirement&quot;</span>, spell, spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#af7e6f7b027388447a1f99e759975ca09">areaId</a>);</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;        }</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160; </div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;        <span class="keywordflow">if</span> (spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#afc99b14a3724fef7c5dd70e976a479a8">questStart</a> &amp;&amp; !<a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#afc99b14a3724fef7c5dd70e976a479a8">questStart</a>))</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;        {</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u listed in `spell_area` have wrong start quest (%u) requirement&quot;</span>, spell, spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#afc99b14a3724fef7c5dd70e976a479a8">questStart</a>);</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;        }</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160; </div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;        <span class="keywordflow">if</span> (spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#a075cc2bc4d8c9663b2bdb2cf8ba77f5f">questEnd</a>)</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;        {</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#a075cc2bc4d8c9663b2bdb2cf8ba77f5f">questEnd</a>))</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;            {</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u listed in `spell_area` have wrong end quest (%u) requirement&quot;</span>, spell, spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#a075cc2bc4d8c9663b2bdb2cf8ba77f5f">questEnd</a>);</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;            }</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;        }</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160; </div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;        <span class="keywordflow">if</span> (spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#adaf2f6f7c56701fe42a2674aca74fba0">auraSpell</a>)</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;        {</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;            <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(abs(spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#adaf2f6f7c56701fe42a2674aca74fba0">auraSpell</a>));</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;            <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;            {</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u listed in `spell_area` have wrong aura spell (%u) requirement&quot;</span>, spell, abs(spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#adaf2f6f7c56701fe42a2674aca74fba0">auraSpell</a>));</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;            }</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160; </div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(abs(spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#adaf2f6f7c56701fe42a2674aca74fba0">auraSpell</a>)) == spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#a8a299d901e2c13cdc3c00d6cf0a856d3">spellId</a>)</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;            {</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u listed in `spell_area` have aura spell (%u) requirement for itself&quot;</span>, spell, abs(spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#adaf2f6f7c56701fe42a2674aca74fba0">auraSpell</a>));</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;            }</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160; </div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;            <span class="comment">// not allow autocast chains by auraSpell field (but allow use as alternative if not present)</span></div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;            <span class="keywordflow">if</span> (spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#a38b42b82e4a588e102eb393cc907cd27">autocast</a> &amp;&amp; spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#adaf2f6f7c56701fe42a2674aca74fba0">auraSpell</a> &gt; 0)</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;            {</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;                <span class="keywordtype">bool</span> chain = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;                <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ac0bf7c1f4212d9675abaaa9b3ca6f33d">SpellAreaForAuraMapBounds</a> saBound = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a65d4c8ef866eb02e4a8e81b3166286c1">GetSpellAreaForAuraMapBounds</a>(spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#a8a299d901e2c13cdc3c00d6cf0a856d3">spellId</a>);</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;                <span class="keywordflow">for</span> (SpellAreaForAuraMap::const_iterator itr = saBound.first; itr != saBound.second; ++itr)</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;                {</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;                    <span class="keywordflow">if</span> (itr-&gt;second-&gt;autocast &amp;&amp; itr-&gt;second-&gt;auraSpell &gt; 0)</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;                    {</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;                        chain = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;                    }</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;                }</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160; </div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;                <span class="keywordflow">if</span> (chain)</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;                {</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;                    <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u listed in `spell_area` have aura spell (%u) requirement that itself autocast from aura&quot;</span>, spell, spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#adaf2f6f7c56701fe42a2674aca74fba0">auraSpell</a>);</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;                }</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160; </div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;                <a class="code" href="../../d3/d75/_spell_mgr_8h.html#a4edcdc3e020b29d06505e8048874c414">SpellAreaMapBounds</a> saBound2 = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a126f0b2c2c1bdedea38a31967bee99a9">GetSpellAreaMapBounds</a>(spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#adaf2f6f7c56701fe42a2674aca74fba0">auraSpell</a>);</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;                <span class="keywordflow">for</span> (SpellAreaMap::const_iterator itr2 = saBound2.first; itr2 != saBound2.second; ++itr2)</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;                {</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;                    <span class="keywordflow">if</span> (itr2-&gt;second.autocast &amp;&amp; itr2-&gt;second.auraSpell &gt; 0)</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;                    {</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;                        chain = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;                    }</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;                }</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160; </div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;                <span class="keywordflow">if</span> (chain)</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;                {</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;                    <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u listed in `spell_area` have aura spell (%u) requirement that itself autocast from aura&quot;</span>, spell, spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#adaf2f6f7c56701fe42a2674aca74fba0">auraSpell</a>);</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;                }</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;            }</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;        }</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160; </div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;        <span class="keywordflow">if</span> (spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#a402373ff841bd2aa47b4b36a581624cc">raceMask</a> &amp;&amp; (spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#a402373ff841bd2aa47b4b36a581624cc">raceMask</a> &amp; <a class="code" href="../../df/d0b/_shared_defines_8h.html#ad935ca576b06ccd85380777030e2585f">RACEMASK_ALL_PLAYABLE</a>) == 0)</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;        {</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u listed in `spell_area` have wrong race mask (%u) requirement&quot;</span>, spell, spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#a402373ff841bd2aa47b4b36a581624cc">raceMask</a>);</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;        }</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160; </div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;        <span class="keywordflow">if</span> (spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#af4314cba9c91fd1e2c09905c17c67d22">gender</a> != <a class="code" href="../../df/d0b/_shared_defines_8h.html#a3667e3c5ec056737c8789615a989324fafe69f428f13193dcfd8ed8f30d6d2e07">GENDER_NONE</a> &amp;&amp; spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#af4314cba9c91fd1e2c09905c17c67d22">gender</a> != <a class="code" href="../../df/d0b/_shared_defines_8h.html#a3667e3c5ec056737c8789615a989324faf3da8f6e862fb5230f0bbb8613684463">GENDER_FEMALE</a> &amp;&amp; spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#af4314cba9c91fd1e2c09905c17c67d22">gender</a> != <a class="code" href="../../df/d0b/_shared_defines_8h.html#a3667e3c5ec056737c8789615a989324fa8f9913149a2518b5548e5125495a01c3">GENDER_MALE</a>)</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;        {</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell %u listed in `spell_area` have wrong gender (%u) requirement&quot;</span>, spell, spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#af4314cba9c91fd1e2c09905c17c67d22">gender</a>);</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;        }</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160; </div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;        <a class="code" href="../../da/d40/struct_spell_area.html">SpellArea</a> <span class="keyword">const</span>* sa = &amp;<a class="code" href="../../dc/d9a/class_spell_mgr.html#ac68d8e843d1a7a14d16c397e4595ce17">mSpellAreaMap</a>.insert(SpellAreaMap::value_type(spell, spellArea))-&gt;second;</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160; </div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;        <span class="comment">// for search by current zone/subzone at zone/subzone change</span></div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;        <span class="keywordflow">if</span> (spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#af7e6f7b027388447a1f99e759975ca09">areaId</a>)</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;            <a class="code" href="../../dc/d9a/class_spell_mgr.html#ab76464f94e9f4189902985e9e86147e3">mSpellAreaForAreaMap</a>.insert(SpellAreaForAreaMap::value_type(spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#af7e6f7b027388447a1f99e759975ca09">areaId</a>, sa));</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160; </div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;        <span class="comment">// for search at quest start/reward</span></div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;        <span class="keywordflow">if</span> (spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#afc99b14a3724fef7c5dd70e976a479a8">questStart</a>)</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;            <a class="code" href="../../dc/d9a/class_spell_mgr.html#aeb50fa0b06b178d23731a9d27156b7b7">mSpellAreaForQuestMap</a>.insert(SpellAreaForQuestMap::value_type(spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#afc99b14a3724fef7c5dd70e976a479a8">questStart</a>, sa));</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160; </div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;        <span class="comment">// for search at quest start/reward</span></div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;        <span class="keywordflow">if</span> (spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#a075cc2bc4d8c9663b2bdb2cf8ba77f5f">questEnd</a>)</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;            <a class="code" href="../../dc/d9a/class_spell_mgr.html#a4943f12ccc2090045b94e26a53e935a2">mSpellAreaForQuestEndMap</a>.insert(SpellAreaForQuestMap::value_type(spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#a075cc2bc4d8c9663b2bdb2cf8ba77f5f">questEnd</a>, sa));</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160; </div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;        <span class="comment">// for search at aura apply</span></div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;        <span class="keywordflow">if</span> (spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#adaf2f6f7c56701fe42a2674aca74fba0">auraSpell</a>)</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;            <a class="code" href="../../dc/d9a/class_spell_mgr.html#a24cfc05b7291e1e490fed982059a7c66">mSpellAreaForAuraMap</a>.insert(SpellAreaForAuraMap::value_type(abs(spellArea.<a class="code" href="../../da/d40/struct_spell_area.html#adaf2f6f7c56701fe42a2674aca74fba0">auraSpell</a>), sa));</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160; </div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;        ++count;</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;    } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160; </div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code" href="../../d2/d80/_i_world_8h.html#a17aac4c166ebe43e3b8fdccf9e012e41af0a6989af793b6a1c82c15551bf604cd">CONFIG_ICC_BUFF_HORDE</a>) &gt; 0)</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;    {</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Using ICC buff Horde: %u&quot;</span>, <a class="code" href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code" href="../../d2/d80/_i_world_8h.html#a17aac4c166ebe43e3b8fdccf9e012e41af0a6989af793b6a1c82c15551bf604cd">CONFIG_ICC_BUFF_HORDE</a>));</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;        <a class="code" href="../../da/d40/struct_spell_area.html">SpellArea</a> spellAreaICCBuffHorde = { <a class="code" href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code" href="../../d2/d80/_i_world_8h.html#a17aac4c166ebe43e3b8fdccf9e012e41af0a6989af793b6a1c82c15551bf604cd">CONFIG_ICC_BUFF_HORDE</a>), <a class="code" href="../../d3/d75/_spell_mgr_8h.html#a955c2f2d6134701c932a636512d7fbd4a7057c645998b72657fb18e41e12dc25f">ICC_AREA</a>, 0, 0, 0, <a class="code" href="../../d3/d75/_spell_mgr_8h.html#a955c2f2d6134701c932a636512d7fbd4a681e8c43ac04d1194334566f73ee1449">ICC_RACEMASK_HORDE</a>, <a class="code" href="../../df/d0b/_shared_defines_8h.html#a3667e3c5ec056737c8789615a989324f">Gender</a>(2), 64, 11, 1 };</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;        <a class="code" href="../../da/d40/struct_spell_area.html">SpellArea</a> <span class="keyword">const</span>* saICCBuffHorde = &amp;<a class="code" href="../../dc/d9a/class_spell_mgr.html#ac68d8e843d1a7a14d16c397e4595ce17">mSpellAreaMap</a>.insert(SpellAreaMap::value_type(<a class="code" href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code" href="../../d2/d80/_i_world_8h.html#a17aac4c166ebe43e3b8fdccf9e012e41af0a6989af793b6a1c82c15551bf604cd">CONFIG_ICC_BUFF_HORDE</a>), spellAreaICCBuffHorde))-&gt;second;</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;        <a class="code" href="../../dc/d9a/class_spell_mgr.html#ab76464f94e9f4189902985e9e86147e3">mSpellAreaForAreaMap</a>.insert(SpellAreaForAreaMap::value_type(<a class="code" href="../../d3/d75/_spell_mgr_8h.html#a955c2f2d6134701c932a636512d7fbd4a7057c645998b72657fb18e41e12dc25f">ICC_AREA</a>, saICCBuffHorde));</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;        ++count;</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;    }</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; ICC buff Horde: disabled&quot;</span>);</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160; </div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code" href="../../d2/d80/_i_world_8h.html#a17aac4c166ebe43e3b8fdccf9e012e41a8589fece73b5980befa3b6cbecbca581">CONFIG_ICC_BUFF_ALLIANCE</a>) &gt; 0)</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;    {</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Using ICC buff Alliance: %u&quot;</span>, <a class="code" href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code" href="../../d2/d80/_i_world_8h.html#a17aac4c166ebe43e3b8fdccf9e012e41a8589fece73b5980befa3b6cbecbca581">CONFIG_ICC_BUFF_ALLIANCE</a>));</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;        <a class="code" href="../../da/d40/struct_spell_area.html">SpellArea</a> spellAreaICCBuffAlliance = { <a class="code" href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code" href="../../d2/d80/_i_world_8h.html#a17aac4c166ebe43e3b8fdccf9e012e41a8589fece73b5980befa3b6cbecbca581">CONFIG_ICC_BUFF_ALLIANCE</a>), <a class="code" href="../../d3/d75/_spell_mgr_8h.html#a955c2f2d6134701c932a636512d7fbd4a7057c645998b72657fb18e41e12dc25f">ICC_AREA</a>, 0, 0, 0, <a class="code" href="../../d3/d75/_spell_mgr_8h.html#a955c2f2d6134701c932a636512d7fbd4a7352283120084279478da1de4d3db9d0">ICC_RACEMASK_ALLIANCE</a>, <a class="code" href="../../df/d0b/_shared_defines_8h.html#a3667e3c5ec056737c8789615a989324f">Gender</a>(2), 64, 11, 1 };</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;        <a class="code" href="../../da/d40/struct_spell_area.html">SpellArea</a> <span class="keyword">const</span>* saICCBuffAlliance = &amp;<a class="code" href="../../dc/d9a/class_spell_mgr.html#ac68d8e843d1a7a14d16c397e4595ce17">mSpellAreaMap</a>.insert(SpellAreaMap::value_type(<a class="code" href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code" href="../../d2/d80/_i_world_8h.html#a17aac4c166ebe43e3b8fdccf9e012e41a8589fece73b5980befa3b6cbecbca581">CONFIG_ICC_BUFF_ALLIANCE</a>), spellAreaICCBuffAlliance))-&gt;second;</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;        <a class="code" href="../../dc/d9a/class_spell_mgr.html#ab76464f94e9f4189902985e9e86147e3">mSpellAreaForAreaMap</a>.insert(SpellAreaForAreaMap::value_type(<a class="code" href="../../d3/d75/_spell_mgr_8h.html#a955c2f2d6134701c932a636512d7fbd4a7057c645998b72657fb18e41e12dc25f">ICC_AREA</a>, saICCBuffAlliance));</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;        ++count;</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;    }</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; ICC buff Alliance: disabled&quot;</span>);</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160; </div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded %u spell area requirements in %u ms&quot;</span>, count, <a class="code" href="../../d5/d29/_timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;}</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160; </div>
<div class="line"><a name="l02675"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a223c626fa01fd3c17c80b9f8eb63e5a1"> 2675</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a223c626fa01fd3c17c80b9f8eb63e5a1">SpellMgr::LoadSpellInfoStore</a>()</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;{</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code" href="../../d5/d29/_timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160; </div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;    <a class="code" href="../../dc/d9a/class_spell_mgr.html#a2b2cc6f3ee5006297dff23eb8567db29">UnloadSpellInfoStore</a>();</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;    <a class="code" href="../../dc/d9a/class_spell_mgr.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>.resize(<a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#a6b52d1b78ae2ba2dd3a2b58a33f8dbc1">sSpellStore</a>.GetNumRows(), <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160; </div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#a6b52d1b78ae2ba2dd3a2b58a33f8dbc1">sSpellStore</a>.GetNumRows(); ++i)</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;    {</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a> <span class="keyword">const</span>* spellEntry = <a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#a6b52d1b78ae2ba2dd3a2b58a33f8dbc1">sSpellStore</a>.LookupEntry(i))</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;            <a class="code" href="../../dc/d9a/class_spell_mgr.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>[i] = <span class="keyword">new</span> <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a>(spellEntry);</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;    }</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160; </div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded spell custom attributes in %u ms&quot;</span>, <a class="code" href="../../d5/d29/_timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;}</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160; </div>
<div class="line"><a name="l02692"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a2b2cc6f3ee5006297dff23eb8567db29"> 2692</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a2b2cc6f3ee5006297dff23eb8567db29">SpellMgr::UnloadSpellInfoStore</a>()</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;{</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code" href="../../dc/d9a/class_spell_mgr.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>.size(); ++i)</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;        <span class="keyword">delete</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>[i];</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160; </div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;    <a class="code" href="../../dc/d9a/class_spell_mgr.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>.clear();</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;}</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160; </div>
<div class="line"><a name="l02700"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#ac325f4a1c1164352f4a4f1adf1be9ce0"> 2700</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#ac325f4a1c1164352f4a4f1adf1be9ce0">SpellMgr::UnloadSpellInfoImplicitTargetConditionLists</a>()</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;{</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code" href="../../dc/d9a/class_spell_mgr.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>.size(); ++i)</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;    {</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dc/d9a/class_spell_mgr.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>[i])</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;            <a class="code" href="../../dc/d9a/class_spell_mgr.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>[i]-&gt;_UnloadImplicitTargetConditionLists();</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;    }</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;}</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160; </div>
<div class="line"><a name="l02709"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#aabba2e6d9d126d1622b6723b10f9e52e"> 2709</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#aabba2e6d9d126d1622b6723b10f9e52e">SpellMgr::LoadSpellSpecificAndAuraState</a>()</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;{</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code" href="../../d5/d29/_timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160; </div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;    <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a>* spellInfo = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code" href="../../dc/d9a/class_spell_mgr.html#aca8a0eccca0aa32dc2cc9802597c0256">GetSpellInfoStoreSize</a>(); ++i)</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;    {</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;        spellInfo = <a class="code" href="../../dc/d9a/class_spell_mgr.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>[i];</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;        <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;        spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#ab55f4d105d110657b75bd1c59309d27c">_spellSpecific</a> = spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a20c43b3c24e4cfb1b41d00259f9343c4">LoadSpellSpecific</a>();</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;        spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a5f67d59406d383cca6627b51d37d4a7a">_auraState</a> = spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a483ee97240f74363e5e132a6a6c92af3">LoadAuraState</a>();</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;    }</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160; </div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded spell specific and aura state in %u ms&quot;</span>, <a class="code" href="../../d5/d29/_timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;}</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160; </div>
<div class="line"><a name="l02727"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#a4b2f05ab711e256c94169f2653a761e1"> 2727</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#a4b2f05ab711e256c94169f2653a761e1">SpellMgr::LoadSpellCustomAttr</a>()</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;{</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <span class="keyword">const</span> oldMSTime = <a class="code" href="../../d5/d29/_timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <span class="keyword">const</span> customAttrTime = <a class="code" href="../../d5/d29/_timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count;</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160; </div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;    <a class="code" href="../../db/d04/_database_env_fwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code" href="../../d6/d2e/_database_env_8cpp.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(<span class="stringliteral">&quot;SELECT spell_id, attributes FROM spell_custom_attr&quot;</span>);</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160; </div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;    {</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 spell custom attributes from DB. DB table `spell_custom_attr` is empty.&quot;</span>);</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;    }</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;    {</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;        <span class="keywordflow">for</span> (count = 0; result-&gt;NextRow(); ++count)</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;        {</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;            <a class="code" href="../../dc/d67/class_field.html">Field</a> <span class="keyword">const</span>* fields = result-&gt;Fetch();</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160; </div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;            <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <span class="keyword">const</span> spellId = fields[0].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;            <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> attributes = fields[1].<a class="code" href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">GetUInt32</a>();</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160; </div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;            <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a>* spellInfo = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a007ed7e121bbb64d2ace17b97edf1ca7">_GetSpellInfo</a>(spellId);</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;            <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;            {</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Table `spell_custom_attr` has wrong spell (spell_id: %u), ignored.&quot;</span>, spellId);</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;            }</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160; </div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;            <span class="keywordflow">if</span> (attributes &amp; <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146daaa6e1af347c468600585e39bbc32afe8">SPELL_ATTR0_CU_NEGATIVE</a>)</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;            {</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="../../d1/d22/_d_b_c_structure_8h.html#ac5733f5b58bf8a23a1919a005b5ec895">MAX_SPELL_EFFECTS</a>; ++i)</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;                {</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;                    <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[i].IsEffect())</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;                    {</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;                        <span class="keywordflow">if</span> ((attributes &amp; (<a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146dabac2d4ebdf4a34333975b3ded5b66e2c">SPELL_ATTR0_CU_NEGATIVE_EFF0</a> &lt;&lt; i)) &amp;&amp; (attributes &amp; (<a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146dab3988c31b79ecae6d62db4f734ba2c43">SPELL_ATTR0_CU_POSITIVE_EFF0</a> &lt;&lt; i)))</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;                        {</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;                            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Table `spell_custom_attr` has attribute SPELL_ATTR0_CU_NEGATIVE_EFF%u and SPELL_ATTR0_CU_POSITIVE_EFF%u attributes for spell %u which cannot stack together. Attributes will not get applied&quot;</span>, <span class="keyword">static_cast&lt;</span><a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a><span class="keyword">&gt;</span>(i), <span class="keyword">static_cast&lt;</span><a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a><span class="keyword">&gt;</span>(i), spellId);</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;                            attributes &amp;= ~(<a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146dabac2d4ebdf4a34333975b3ded5b66e2c">SPELL_ATTR0_CU_NEGATIVE_EFF0</a> &lt;&lt; i)|(<a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146dab3988c31b79ecae6d62db4f734ba2c43">SPELL_ATTR0_CU_POSITIVE_EFF0</a> &lt;&lt; i);</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;                        }</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;                    }</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160; </div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;                    <span class="keywordflow">if</span> (attributes &amp; (<a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146dabac2d4ebdf4a34333975b3ded5b66e2c">SPELL_ATTR0_CU_NEGATIVE_EFF0</a> &lt;&lt; i))</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;                    {</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;                        <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Table `spell_custom_attr` has attribute SPELL_ATTR0_CU_NEGATIVE_EFF%u for spell %u with no EFFECT_%u&quot;</span>, <span class="keyword">static_cast&lt;</span><a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a><span class="keyword">&gt;</span>(i), spellId, <span class="keyword">static_cast&lt;</span><a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a><span class="keyword">&gt;</span>(i));</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;                        attributes &amp;= ~(<a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146dabac2d4ebdf4a34333975b3ded5b66e2c">SPELL_ATTR0_CU_NEGATIVE_EFF0</a> &lt;&lt; i);</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;                    }</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;                }</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;            }</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160; </div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;            <span class="keywordflow">if</span> (attributes &amp; <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da4b290bdc05e30600b17324adfa185e39">SPELL_ATTR0_CU_POSITIVE</a>)</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;            {</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="../../d1/d22/_d_b_c_structure_8h.html#ac5733f5b58bf8a23a1919a005b5ec895">MAX_SPELL_EFFECTS</a>; ++i)</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;                {</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;                    <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[i].IsEffect())</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;                    {</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;                    }</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160; </div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;                    <span class="keywordflow">if</span> ((attributes &amp; (<a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146dab3988c31b79ecae6d62db4f734ba2c43">SPELL_ATTR0_CU_POSITIVE_EFF0</a> &lt;&lt; i)))</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;                    {</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;                        <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Table `spell_custom_attr` has attribute SPELL_ATTR0_CU_POSITIVE_EFF%u for spell %u with no EFFECT_%u&quot;</span>, <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(i), spellId, <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(i));</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;                        attributes &amp;= ~(<a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146dab3988c31b79ecae6d62db4f734ba2c43">SPELL_ATTR0_CU_POSITIVE_EFF0</a> &lt;&lt; i);</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;                    }</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;                }</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;            }</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160; </div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;            <span class="keywordflow">if</span> ((attributes &amp; <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da4d7ba94d96c89ebddcef8c081fb14557">SPELL_ATTR0_CU_FORCE_AURA_SAVING</a>) &amp;&amp; (attributes &amp; <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da779378cdabb274a575287575fa8bc912">SPELL_ATTR0_CU_REJECT_AURA_SAVING</a>))</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;            {</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;                <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Table `spell_custom_attr` attribute1 field has attributes SPELL_ATTR1_CU_FORCE_AURA_SAVING and SPELL_ATTR1_CU_REJECT_AURA_SAVING which cannot stack for spell %u. Both attributes will get applied&quot;</span>, spellId);</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;                attributes &amp;= ~(<a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da4d7ba94d96c89ebddcef8c081fb14557">SPELL_ATTR0_CU_FORCE_AURA_SAVING</a> | <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da779378cdabb274a575287575fa8bc912">SPELL_ATTR0_CU_REJECT_AURA_SAVING</a>);</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;            }</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160; </div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;            spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= attributes;</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;        }</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded %u spell custom attributes from DB in %u ms&quot;</span>, count, <a class="code" href="../../d5/d29/_timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(customAttrTime));</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;    }</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160; </div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;    <span class="comment">// xinef: create talent spells set</span></div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#abdab3b372fb6ffd5dde09caf6967ac8f">sTalentStore</a>.GetNumRows(); ++i)</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;    {</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;        <a class="code" href="../../db/d1b/struct_talent_entry.html">TalentEntry</a> <span class="keyword">const</span>* talentInfo = <a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#abdab3b372fb6ffd5dde09caf6967ac8f">sTalentStore</a>.LookupEntry(i);</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;        <span class="keywordflow">if</span> (!talentInfo)</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160; </div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code" href="../../d1/d22/_d_b_c_structure_8h.html#a8d6d5cac52d7a437e341e9f6ebc21a21">MAX_TALENT_RANK</a>; j++)</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId = talentInfo-&gt;<a class="code" href="../../db/d1b/struct_talent_entry.html#a96d0fd120ed3aa7fbd287d104fd87c26">RankID</a>[j])</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;                <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a>* spellInfo = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(spellId))</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;                    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> k = 0; k &lt; <a class="code" href="../../d1/d22/_d_b_c_structure_8h.html#ac5733f5b58bf8a23a1919a005b5ec895">MAX_SPELL_EFFECTS</a>; ++k)</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;                        <span class="keywordflow">if</span> (spellInfo-&gt;Effects[k].Effect == <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97acef490c9f3480852d33dbbec7727fa7f">SPELL_EFFECT_LEARN_SPELL</a>)</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;                            <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a>* learnSpell = <a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(spellInfo-&gt;Effects[k].TriggerSpell))</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;                                <span class="keywordflow">if</span> (learnSpell-&gt;IsRanked() &amp;&amp; !learnSpell-&gt;HasAttribute(<a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ad">SpellAttr0</a>(<a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada407e023ed336f3c64aa20f11dd49f6bd">SPELL_ATTR0_PASSIVE</a> | <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada9d53bd915f5409506cb045a0688a0a75">SPELL_ATTR0_DO_NOT_DISPLAY</a>)))</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;                                    <a class="code" href="../../dc/d9a/class_spell_mgr.html#a16ff5508005286ab678b47bcc211ac24">mTalentSpellAdditionalSet</a>.insert(learnSpell-&gt;Id);</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;    }</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160; </div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;    <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a>* spellInfo = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code" href="../../dc/d9a/class_spell_mgr.html#aca8a0eccca0aa32dc2cc9802597c0256">GetSpellInfoStoreSize</a>(); ++i)</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;    {</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;        spellInfo = <a class="code" href="../../dc/d9a/class_spell_mgr.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>[i];</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;        <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160; </div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code" href="../../d1/d22/_d_b_c_structure_8h.html#ac5733f5b58bf8a23a1919a005b5ec895">MAX_SPELL_EFFECTS</a>; ++j)</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;        {</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;            <span class="keywordflow">switch</span> (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].ApplyAuraName)</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;            {</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a600ad2316202aec206facbfa746a136b">SPELL_AURA_MOD_INVISIBILITY</a>:</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;                {</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;                    <span class="keywordflow">switch</span> (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>)</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;                    {</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;                        <span class="comment">// Exceptions</span></div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;                        <span class="keywordflow">case</span> 44801: <span class="comment">// Spectral Invisibility (Kalecgos, SWP)</span></div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;                        <span class="keywordflow">case</span> 46021: <span class="comment">// Spectral Realm (SWP)</span></div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;                        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;                            spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#afa067fa58b7da5d234b08f01e6a7849c">AuraInterruptFlags</a> |= <a class="code" href="../../d5/d32/_unit_8h.html#a0709fc3ab848cf1b8b4853813b8fe011a38784f17276304852dbc8f4e22b285d2">AURA_INTERRUPT_FLAG_CAST</a>;</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;                    }</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;                }</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a6442a4a379f82e2f08734296e1e21c9f">SPELL_AURA_PERIODIC_HEAL</a>:</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a11166673929d2fda5967add284832fad">SPELL_AURA_PERIODIC_DAMAGE</a>:</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a65c8ec2c8667d6c49c278491c113a374">SPELL_AURA_PERIODIC_DAMAGE_PERCENT</a>:</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799ac84a600c9fc81cbda953c9f64074ab9f">SPELL_AURA_PERIODIC_LEECH</a>:</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a2eb3f6e6a49bc0b70fa9726b1fa12bb3">SPELL_AURA_PERIODIC_MANA_LEECH</a>:</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a2b064a34862eb2f85ec873398d787012">SPELL_AURA_PERIODIC_HEALTH_FUNNEL</a>:</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799ab9f377f6e107ad1633d32a22da2ec7d2">SPELL_AURA_PERIODIC_ENERGIZE</a>:</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a2616d80ed4951b4ff860a0e0e2a98da0">SPELL_AURA_OBS_MOD_HEALTH</a>:</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a4f1feb3950d2776a74c938c366adbbdf">SPELL_AURA_OBS_MOD_POWER</a>:</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799ad06611922c0cf903c24b220140daacab">SPELL_AURA_POWER_BURN</a>:</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799adad95ef086a39748c9e556342967d388">SPELL_AURA_TRACK_CREATURES</a>:</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a88ddeddc39c960bdd00805a1ea8a8fc8">SPELL_AURA_MOD_RANGED_HASTE</a>:</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a30ae3c9499778cc5f920e81dc86cd020">SPELL_AURA_MOD_POSSESS_PET</a>:</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799ac0dfa842319d63f7923d74c30ef38dfb">SPELL_AURA_MOD_INVISIBILITY_DETECT</a>:</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799ac5a7c36ca09fd3b8a2c468b65aa7b999">SPELL_AURA_WATER_BREATHING</a>:</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;                    spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146daf7ce6d6f1816304f4859833e912bfc94">SPELL_ATTR0_CU_NO_INITIAL_THREAT</a>;</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;            }</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160; </div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;            <span class="keywordflow">switch</span> (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].ApplyAuraName)</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;            {</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799adc30e3257d95c2736a98331a53766eea">SPELL_AURA_MOD_POSSESS</a>:</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799adaa58e2c604243da285d64f4a95b42f7">SPELL_AURA_MOD_CONFUSE</a>:</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a7b5d0b48f9a7e84bf7a896602e8c66b9">SPELL_AURA_MOD_CHARM</a>:</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799aada4a291fd71b7b408ec0ac6543e79b1">SPELL_AURA_AOE_CHARM</a>:</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a44cf043145f5a78c5a4e36ecff8a034d">SPELL_AURA_MOD_FEAR</a>:</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799afdf00dd634aaa25017ad329f58bd6cfd">SPELL_AURA_MOD_STUN</a>:</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;                    spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da91a67b896bc85d53f71e8cc7798dff71">SPELL_ATTR0_CU_AURA_CC</a>;</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799aff313dd31d66c100086b4d9b6a81d329">SPELL_AURA_BIND_SIGHT</a>:</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;                    spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da53ab5109248d12159273e5111f3d7641">SPELL_ATTR0_CU_NO_PVP_FLAG</a>;</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;            }</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160; </div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;            <span class="keywordflow">switch</span> (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].Effect)</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;            {</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97abd12cbfc6a8daf7ca788d06a77256e01">SPELL_EFFECT_SCHOOL_DAMAGE</a>:</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a44d3da0109cb50c42bad53e2790715e4">SPELL_EFFECT_WEAPON_DAMAGE</a>:</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97aa2beb2e0d1440f64ea1661312ed02628">SPELL_EFFECT_WEAPON_DAMAGE_NOSCHOOL</a>:</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a4a3d78eee24d6e6d28fbaa67213be92d">SPELL_EFFECT_NORMALIZED_WEAPON_DMG</a>:</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a905e6b16c4a6a4f7e538f0b6b97190d5">SPELL_EFFECT_WEAPON_PERCENT_DAMAGE</a>:</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a4882157067be8542f9192927816acda1">SPELL_EFFECT_HEAL</a>:</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;                    spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da3c6711e8c874226f4c63f477d27e2e35">SPELL_ATTR0_CU_DIRECT_DAMAGE</a>;</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97ab7df9b34a249eff2c2ee82925fbc87d9">SPELL_EFFECT_POWER_DRAIN</a>:</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a0a43a6be2a57b573021530d45a1e367e">SPELL_EFFECT_POWER_BURN</a>:</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a51ba801dd59f654eed7eef6ec05d17f8">SPELL_EFFECT_HEAL_MAX_HEALTH</a>:</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a3781ecdde21e7e7f1dd72df72c577505">SPELL_EFFECT_HEALTH_LEECH</a>:</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97ae0cab2a09ad0acd69cdc260048bf31b5">SPELL_EFFECT_HEAL_PCT</a>:</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a0b452eb46e3cfec1b7cb26f21a22b2d3">SPELL_EFFECT_ENERGIZE_PCT</a>:</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97ab0727b6312cbc0d83b93ab5d5578fe8b">SPELL_EFFECT_ENERGIZE</a>:</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a8e8f8712c494e5f9bffca881c9398304">SPELL_EFFECT_HEAL_MECHANICAL</a>:</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97af5abf258b008fbff818ad32ac7a95fbb">SPELL_EFFECT_CREATE_ITEM</a>:</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;                    spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146daf7ce6d6f1816304f4859833e912bfc94">SPELL_ATTR0_CU_NO_INITIAL_THREAT</a>;</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97ab9f95780d14ce3a3d80b05f6955a5814">SPELL_EFFECT_CHARGE</a>:</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97ac9e93e2be484a200e2198e609ca8224e">SPELL_EFFECT_CHARGE_DEST</a>:</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97adca1c3aa0e67875dd6c075066aafe6b9">SPELL_EFFECT_JUMP</a>:</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a6b546cbd034b7414776e260f8431789b">SPELL_EFFECT_JUMP_DEST</a>:</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97aa47feeee8d69d2aba0e176f2573c095d">SPELL_EFFECT_LEAP_BACK</a>:</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;                    spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da93ea23e532f0400d3ed24deb6882e6dd">SPELL_ATTR0_CU_CHARGE</a>;</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a80153156c6cdcf1436c5a4fc33ae95c7">SPELL_EFFECT_PICKPOCKET</a>:</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;                    spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146daf173b3df1f0236ffb7df3a8fbe4c2efe">SPELL_ATTR0_CU_PICKPOCKET</a>;</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a3467958b5173482af8149b7c32c9ed4d">SPELL_EFFECT_ENCHANT_ITEM</a>:</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97aef19cb2a68fa76f831bb9ddcff67fa65">SPELL_EFFECT_ENCHANT_ITEM_TEMPORARY</a>:</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97aeb1d7a27ab01055bd66d8b012dbea7be">SPELL_EFFECT_ENCHANT_ITEM_PRISMATIC</a>:</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a2c6434d09a221f75cf5496947aa2eb89">SPELL_EFFECT_ENCHANT_HELD_ITEM</a>:</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;                    {</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;                        <span class="comment">// only enchanting profession enchantments procs can stack</span></div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a18102741b602d3b4473f75d4f619a09b">IsPartOfSkillLine</a>(<a class="code" href="../../df/d0b/_shared_defines_8h.html#af4541d30ebbff76b1f9f689519789234aeb1f5d58fca5c46b87ad0944191ed916">SKILL_ENCHANTING</a>, i))</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;                        {</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;                            <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> enchantId = spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].MiscValue;</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;                            <a class="code" href="../../d1/d2f/struct_spell_item_enchantment_entry.html">SpellItemEnchantmentEntry</a> <span class="keyword">const</span>* enchant = <a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#a4b7782641d455ad5070f1aba070beae9">sSpellItemEnchantmentStore</a>.LookupEntry(enchantId);</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;                            <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> s = 0; s &lt; <a class="code" href="../../d1/d22/_d_b_c_structure_8h.html#ab66cd5828c451f68f55f1b054c29a8fc">MAX_SPELL_ITEM_ENCHANTMENT_EFFECTS</a>; ++s)</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;                            {</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;                                <span class="keywordflow">if</span> (enchant-&gt;<a class="code" href="../../d1/d2f/struct_spell_item_enchantment_entry.html#adb693b7ada8d1a65c1d8091d1055c7bf">type</a>[s] != <a class="code" href="../../dc/d6e/_d_b_c_enums_8h.html#a364650a1412c9ed62462ed0b0574e14aa62d4592c03e7f422a7508d714a0468e7">ITEM_ENCHANTMENT_TYPE_COMBAT_SPELL</a>)</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;                                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160; </div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;                                <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a>* procInfo = (<a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a>*)<a class="code" href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">GetSpellInfo</a>(enchant-&gt;<a class="code" href="../../d1/d2f/struct_spell_item_enchantment_entry.html#a694edc79cf8ba571338bff2a3aad512d">spellid</a>[s]);</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;                                <span class="keywordflow">if</span> (!procInfo)</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;                                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160; </div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;                                <span class="comment">// if proced directly from enchantment, not via proc aura</span></div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;                                <span class="comment">// NOTE: Enchant Weapon - Blade Ward also has proc aura spell and is proced directly</span></div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;                                <span class="comment">// however its not expected to stack so this check is good</span></div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;                                <span class="keywordflow">if</span> (procInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aefe1e81c5922419ada55844bdb30e269">HasAura</a>(<a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a3c6e04ab343a9f5ef767f8e8dd71af5b">SPELL_AURA_PROC_TRIGGER_SPELL</a>))</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;                                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160; </div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;                                procInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da23162f829e73ed8653b153a3e5212a39">SPELL_ATTR0_CU_ENCHANT_PROC</a>;</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;                            }</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;                        }</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;                    }</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;            }</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;        }</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160; </div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;        <span class="comment">// Xinef: spells ignoring hit result should not be binary</span></div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;        <span class="keywordflow">if</span> (!spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a975746d6b737abb063ea037327abfc5a">HasAttribute</a>(<a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a>))</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;        {</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code" href="../../d1/d22/_d_b_c_structure_8h.html#ac5733f5b58bf8a23a1919a005b5ec895">MAX_SPELL_EFFECTS</a>; ++j)</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;            {</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;                <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].Effect)</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;                {</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;                    <span class="keywordflow">switch</span>(spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].Effect)</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;                    {</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;                        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97abd12cbfc6a8daf7ca788d06a77256e01">SPELL_EFFECT_SCHOOL_DAMAGE</a>:</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;                        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a44d3da0109cb50c42bad53e2790715e4">SPELL_EFFECT_WEAPON_DAMAGE</a>:</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;                        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97aa2beb2e0d1440f64ea1661312ed02628">SPELL_EFFECT_WEAPON_DAMAGE_NOSCHOOL</a>:</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;                        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a4a3d78eee24d6e6d28fbaa67213be92d">SPELL_EFFECT_NORMALIZED_WEAPON_DMG</a>:</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;                        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a905e6b16c4a6a4f7e538f0b6b97190d5">SPELL_EFFECT_WEAPON_PERCENT_DAMAGE</a>:</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;                        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a4d387e7de66861ea9ad6d6852e5087fb">SPELL_EFFECT_TRIGGER_SPELL</a>:</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;                        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a15015f3acf3dd811f2776d67f1991b50">SPELL_EFFECT_TRIGGER_SPELL_WITH_VALUE</a>:</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;                        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97aa3290e738b6cd09859039989143f9ac1">SPELL_EFFECT_PERSISTENT_AREA_AURA</a>:</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;                        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>:</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;                        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a0e98b45f9300ce66be7a701eff5e5fca">SPELL_EFFECT_APPLY_AREA_AURA_PARTY</a>:</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;                        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a96bae50ba11bd175354f4db26746867f">SPELL_EFFECT_APPLY_AREA_AURA_RAID</a>:</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;                        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a140c94210262d911b2db681aba463d19">SPELL_EFFECT_APPLY_AREA_AURA_FRIEND</a>:</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;                        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97ad8952de70b3fb92f22a051a26793a740">SPELL_EFFECT_APPLY_AREA_AURA_ENEMY</a>:</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;                        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a56fb7001bff11474629f084fda6953a1">SPELL_EFFECT_APPLY_AREA_AURA_PET</a>:</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;                        <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97affaa057383042f4e64d387fb592eecb6">SPELL_EFFECT_APPLY_AREA_AURA_OWNER</a>:</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;                            <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].ApplyAuraName == <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a11166673929d2fda5967add284832fad">SPELL_AURA_PERIODIC_DAMAGE</a> ||</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;                                    spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].ApplyAuraName == <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a65c8ec2c8667d6c49c278491c113a374">SPELL_AURA_PERIODIC_DAMAGE_PERCENT</a> ||</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;                                    spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].ApplyAuraName == <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a66cca11731d68512cb0bb652cb1e7caf">SPELL_AURA_DUMMY</a> ||</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;                                    spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].ApplyAuraName == <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799ac84a600c9fc81cbda953c9f64074ab9f">SPELL_AURA_PERIODIC_LEECH</a> ||</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;                                    spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].ApplyAuraName == <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a2b064a34862eb2f85ec873398d787012">SPELL_AURA_PERIODIC_HEALTH_FUNNEL</a> ||</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;                                    spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].ApplyAuraName == <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799add498157825d0faca2c013bbcdfbae56">SPELL_AURA_PERIODIC_DUMMY</a>)</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;                                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;                            [[fallthrough]]; <span class="comment">// TODO: Not sure whether the fallthrough was a mistake (forgetting a break) or intended. This should be double-checked.</span></div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;                        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;                            <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].CalcValue() || ((spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].Effect == <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97ae2d17b59f752f772b7a79a2643a1d45f">SPELL_EFFECT_INTERRUPT_CAST</a> || spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a975746d6b737abb063ea037327abfc5a">HasAttribute</a>(<a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da6e135d0f3f1ffad609c7a52988db5d0e">SPELL_ATTR0_CU_DONT_BREAK_STEALTH</a>)) &amp;&amp; !spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a975746d6b737abb063ea037327abfc5a">HasAttribute</a>(<a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada6a12b14654225a9ccea65799ce6fc780">SPELL_ATTR0_NO_IMMUNITIES</a>)))</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;                                <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a> != 69649 &amp;&amp; spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a> != 71056 &amp;&amp; spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a> != 71057 &amp;&amp; spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a> != 71058 &amp;&amp; spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a> != 73061 &amp;&amp; spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a> != 73062 &amp;&amp; spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a> != 73063 &amp;&amp; spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a> != 73064) <span class="comment">// Sindragosa Frost Breath</span></div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;                                    <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#af6ec577353f7d3cc59badd7d332153b0">SpellFamilyName</a> != <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba0e4b88db8be01ea5d62cc08d07b28aae">SPELLFAMILY_MAGE</a> || !(spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[0] &amp; 0x20)) <span class="comment">// frostbolt</span></div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;                                        <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a> != 55095) <span class="comment">// frost fever</span></div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;                                            <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#af6ec577353f7d3cc59badd7d332153b0">SpellFamilyName</a> != <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba0a134bc75d430da10f6c1df4977c29cf">SPELLFAMILY_WARLOCK</a> || !(spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[1] &amp; 0x40000)) <span class="comment">// Haunt</span></div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;                                            {</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;                                                spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146dacd2b3dd04ea4267a9b7f43f00003837d">SPELL_ATTR0_CU_BINARY_SPELL</a>;</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;                                                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;                                            }</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;                    }</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;                }</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;            }</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;        }</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160; </div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;        <span class="comment">// pussywizard:</span></div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;        <span class="keywordflow">if</span> ((spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a72ac013c860d3af649879442115971ab">SchoolMask</a> &amp; <a class="code" href="../../df/d0b/_shared_defines_8h.html#aff6913cfd69489c107a071be9ec2ec8fa12667dd3f55738c93e1ddb1351779b42">SPELL_SCHOOL_MASK_NORMAL</a>) &amp;&amp; (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a72ac013c860d3af649879442115971ab">SchoolMask</a> &amp; <a class="code" href="../../df/d0b/_shared_defines_8h.html#aff6913cfd69489c107a071be9ec2ec8fa53b7883ddb2ff484fe7e089afe2c85dc">SPELL_SCHOOL_MASK_MAGIC</a>))</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;        {</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;            spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a72ac013c860d3af649879442115971ab">SchoolMask</a> &amp;= ~<a class="code" href="../../df/d0b/_shared_defines_8h.html#aff6913cfd69489c107a071be9ec2ec8fa12667dd3f55738c93e1ddb1351779b42">SPELL_SCHOOL_MASK_NORMAL</a>;</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;            spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146dada37071a5f586acf592411604df0bf6e">SPELL_ATTR0_CU_SCHOOLMASK_NORMAL_WITH_MAGIC</a>;</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;        }</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160; </div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;        <span class="keywordflow">if</span> (!spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a8b0406b9d3923cb0f92099f9c12822cb">_IsPositiveEffect</a>(<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>, <span class="keyword">false</span>))</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;            spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146dabac2d4ebdf4a34333975b3ded5b66e2c">SPELL_ATTR0_CU_NEGATIVE_EFF0</a>;</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160; </div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;        <a class="code" href="../../da/dc1/server_2authserver_2_c_make_lists_8txt.html#ae49ace5a5c7d5c9ec887c2686409e695">if</a> (!spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a8b0406b9d3923cb0f92099f9c12822cb">_IsPositiveEffect</a>(<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77a8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>, <span class="keyword">false</span>))</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;            spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da928d7b52a9bcfb5573d4cd8ca8bd30a7">SPELL_ATTR0_CU_NEGATIVE_EFF1</a>;</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160; </div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;        <a class="code" href="../../da/dc1/server_2authserver_2_c_make_lists_8txt.html#ae49ace5a5c7d5c9ec887c2686409e695">if</a> (!spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a8b0406b9d3923cb0f92099f9c12822cb">_IsPositiveEffect</a>(<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77af927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>, <span class="keyword">false</span>))</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;            spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da8a9106d96628f46e484fe853c0ce35b2">SPELL_ATTR0_CU_NEGATIVE_EFF2</a>;</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160; </div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;        <a class="code" href="../../da/dc1/server_2authserver_2_c_make_lists_8txt.html#ae49ace5a5c7d5c9ec887c2686409e695">if</a> (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a78bbf3a5574a188116846fbc77a57768">SpellVisual</a>[0] == 3879)</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;            spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da6f734acb36c68fcc4881a4d4e844ee11">SPELL_ATTR0_CU_CONE_BACK</a>;</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160; </div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;        <span class="keywordflow">switch</span> (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#af6ec577353f7d3cc59badd7d332153b0">SpellFamilyName</a>)</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;        {</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba52acbcf14a96b5ed01b8a43052a26a11">SPELLFAMILY_WARRIOR</a>:</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;                <span class="comment">// Shout</span></div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;                <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[0] &amp; 0x20000 || spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[1] &amp; 0x20)</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;                    spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da91a67b896bc85d53f71e8cc7798dff71">SPELL_ATTR0_CU_AURA_CC</a>;</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1bac3788ce010075b8bd4e6083638d8cd40">SPELLFAMILY_DRUID</a>:</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;                <span class="comment">// Roar</span></div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;                <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[0] &amp; 0x8)</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;                    spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da91a67b896bc85d53f71e8cc7798dff71">SPELL_ATTR0_CU_AURA_CC</a>;</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba66df9b34a3b922a8242d3dfb74494026">SPELLFAMILY_HUNTER</a>:</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;                <span class="comment">// Aspects</span></div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;                <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a25ed784456d2d769bf59a788f9216001">GetCategory</a>() == 47)</div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;                    spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146daf7ce6d6f1816304f4859833e912bfc94">SPELL_ATTR0_CU_NO_INITIAL_THREAT</a>;</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;        }</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160; </div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;        <span class="keywordflow">switch</span> (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>)</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;        {</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;            <span class="comment">// Xinef: additional spells which should be binary</span></div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;            <span class="keywordflow">case</span> 45145: <span class="comment">// Snake Trap Effect</span></div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;                spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146dacd2b3dd04ea4267a9b7f43f00003837d">SPELL_ATTR0_CU_BINARY_SPELL</a>;</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;            <span class="keywordflow">case</span> 1776: <span class="comment">// Gouge</span></div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;            <span class="keywordflow">case</span> 1777:</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;            <span class="keywordflow">case</span> 8629:</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;            <span class="keywordflow">case</span> 11285:</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;            <span class="keywordflow">case</span> 11286:</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;            <span class="keywordflow">case</span> 12540:</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;            <span class="keywordflow">case</span> 13579:</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;            <span class="keywordflow">case</span> 24698:</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;            <span class="keywordflow">case</span> 28456:</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;            <span class="keywordflow">case</span> 29425:</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;            <span class="keywordflow">case</span> 34940:</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;            <span class="keywordflow">case</span> 36862:</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;            <span class="keywordflow">case</span> 38764:</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;            <span class="keywordflow">case</span> 38863:</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;            <span class="keywordflow">case</span> 52743: <span class="comment">// Head Smack</span></div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;                spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da16fc9692b3d1955cb6f36ae606901202">SPELL_ATTR0_CU_REQ_TARGET_FACING_CASTER</a>;</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;            <span class="keywordflow">case</span> 53: <span class="comment">// Backstab</span></div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;            <span class="keywordflow">case</span> 2589:</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;            <span class="keywordflow">case</span> 2590:</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;            <span class="keywordflow">case</span> 2591:</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;            <span class="keywordflow">case</span> 7159:</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;            <span class="keywordflow">case</span> 8627:</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;            <span class="keywordflow">case</span> 8721:</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;            <span class="keywordflow">case</span> 11279:</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;            <span class="keywordflow">case</span> 11280:</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;            <span class="keywordflow">case</span> 11281:</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;            <span class="keywordflow">case</span> 15582:</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;            <span class="keywordflow">case</span> 15657:</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;            <span class="keywordflow">case</span> 22416:</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;            <span class="keywordflow">case</span> 25300:</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;            <span class="keywordflow">case</span> 26863:</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;            <span class="keywordflow">case</span> 37685:</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;            <span class="keywordflow">case</span> 48656:</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;            <span class="keywordflow">case</span> 48657:</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;            <span class="keywordflow">case</span> 703: <span class="comment">// Garrote</span></div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;            <span class="keywordflow">case</span> 8631:</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;            <span class="keywordflow">case</span> 8632:</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;            <span class="keywordflow">case</span> 8633:</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;            <span class="keywordflow">case</span> 11289:</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;            <span class="keywordflow">case</span> 11290:</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;            <span class="keywordflow">case</span> 26839:</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;            <span class="keywordflow">case</span> 26884:</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;            <span class="keywordflow">case</span> 48675:</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;            <span class="keywordflow">case</span> 48676:</div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;            <span class="keywordflow">case</span> 5221: <span class="comment">// Shred</span></div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;            <span class="keywordflow">case</span> 6800:</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;            <span class="keywordflow">case</span> 8992:</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;            <span class="keywordflow">case</span> 9829:</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;            <span class="keywordflow">case</span> 9830:</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;            <span class="keywordflow">case</span> 27001:</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;            <span class="keywordflow">case</span> 27002:</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;            <span class="keywordflow">case</span> 48571:</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;            <span class="keywordflow">case</span> 48572:</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;            <span class="keywordflow">case</span> 8676: <span class="comment">// Ambush</span></div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;            <span class="keywordflow">case</span> 8724:</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;            <span class="keywordflow">case</span> 8725:</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;            <span class="keywordflow">case</span> 11267:</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;            <span class="keywordflow">case</span> 11268:</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;            <span class="keywordflow">case</span> 11269:</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;            <span class="keywordflow">case</span> 27441:</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;            <span class="keywordflow">case</span> 48689:</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;            <span class="keywordflow">case</span> 48690:</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;            <span class="keywordflow">case</span> 48691:</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;            <span class="keywordflow">case</span> 6785: <span class="comment">// Ravage</span></div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;            <span class="keywordflow">case</span> 6787:</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;            <span class="keywordflow">case</span> 9866:</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;            <span class="keywordflow">case</span> 9867:</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;            <span class="keywordflow">case</span> 27005:</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;            <span class="keywordflow">case</span> 48578:</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;            <span class="keywordflow">case</span> 48579:</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;            <span class="keywordflow">case</span> 21987: <span class="comment">// Lash of Pain</span></div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;            <span class="keywordflow">case</span> 23959: <span class="comment">// Test Stab R50</span></div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;            <span class="keywordflow">case</span> 24825: <span class="comment">// Test Backstab</span></div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;            <span class="keywordflow">case</span> 58563: <span class="comment">// Assassinate Restless Lookout</span></div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;            <span class="keywordflow">case</span> 63124: <span class="comment">// quest There&#39;s Something About the Squire (13654)</span></div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;                spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da6f04115acffe8cda68c32d78e0941b40">SPELL_ATTR0_CU_REQ_CASTER_BEHIND_TARGET</a>;</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;            <span class="keywordflow">case</span> 26029: <span class="comment">// Dark Glare</span></div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;            <span class="keywordflow">case</span> 43140: <span class="comment">// Flame Breath</span></div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;            <span class="keywordflow">case</span> 43215: <span class="comment">// Flame Breath</span></div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;            <span class="keywordflow">case</span> 70461: <span class="comment">// Coldflame Trap</span></div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;            <span class="keywordflow">case</span> 72133: <span class="comment">// Pain and Suffering</span></div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;            <span class="keywordflow">case</span> 73788: <span class="comment">// Pain and Suffering</span></div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;            <span class="keywordflow">case</span> 73789: <span class="comment">// Pain and Suffering</span></div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;            <span class="keywordflow">case</span> 73790: <span class="comment">// Pain and Suffering</span></div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;            <span class="keywordflow">case</span> 63293: <span class="comment">// Mimiron - spinning damage</span></div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;            <span class="keywordflow">case</span> 68873: <span class="comment">// Wailing Souls</span></div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;            <span class="keywordflow">case</span> 70324: <span class="comment">// Wailing Souls</span></div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;            <span class="keywordflow">case</span> 64619: <span class="comment">// Ulduar, Mimiron, Emergency Fire Bot, Water Spray</span></div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;                spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146daf56afff0380689f8a82952e2db4a584c">SPELL_ATTR0_CU_CONE_LINE</a>;</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;            <span class="keywordflow">case</span> 58690: <span class="comment">// Cyanigosa, Tail Sweep</span></div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;            <span class="keywordflow">case</span> 59283: <span class="comment">// Cyanigosa, Tail Sweep</span></div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;                spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da6f734acb36c68fcc4881a4d4e844ee11">SPELL_ATTR0_CU_CONE_BACK</a>;</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;            <span class="keywordflow">case</span> 24340: <span class="comment">// Meteor</span></div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;            <span class="keywordflow">case</span> 26558: <span class="comment">// Meteor</span></div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;            <span class="keywordflow">case</span> 28884: <span class="comment">// Meteor</span></div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;            <span class="keywordflow">case</span> 36837: <span class="comment">// Meteor</span></div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;            <span class="keywordflow">case</span> 38903: <span class="comment">// Meteor</span></div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;            <span class="keywordflow">case</span> 41276: <span class="comment">// Meteor</span></div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;            <span class="keywordflow">case</span> 57467: <span class="comment">// Meteor</span></div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;            <span class="keywordflow">case</span> 26789: <span class="comment">// Shard of the Fallen Star</span></div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;            <span class="keywordflow">case</span> 31436: <span class="comment">// Malevolent Cleave</span></div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;            <span class="keywordflow">case</span> 35181: <span class="comment">// Dive Bomb</span></div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;            <span class="keywordflow">case</span> 40810: <span class="comment">// Saber Lash</span></div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;            <span class="keywordflow">case</span> 43267: <span class="comment">// Saber Lash</span></div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;            <span class="keywordflow">case</span> 43268: <span class="comment">// Saber Lash</span></div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;            <span class="keywordflow">case</span> 42384: <span class="comment">// Brutal Swipe</span></div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;            <span class="keywordflow">case</span> 45150: <span class="comment">// Meteor Slash</span></div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;            <span class="keywordflow">case</span> 64688: <span class="comment">// Sonic Screech</span></div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;            <span class="keywordflow">case</span> 72373: <span class="comment">// Shared Suffering</span></div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;            <span class="keywordflow">case</span> 71904: <span class="comment">// Chaos Bane</span></div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;            <span class="keywordflow">case</span> 70492: <span class="comment">// Ooze Eruption</span></div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;            <span class="keywordflow">case</span> 72505: <span class="comment">// Ooze Eruption</span></div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;            <span class="keywordflow">case</span> 72624: <span class="comment">// Ooze Eruption</span></div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;            <span class="keywordflow">case</span> 72625: <span class="comment">// Ooze Eruption</span></div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;            <span class="comment">// ONLY SPELLS WITH SPELLFAMILY_GENERIC and EFFECT_SCHOOL_DAMAGE, OR WEAPON_DMG_X</span></div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;            <span class="keywordflow">case</span> 66809: <span class="comment">// Meteor Fists</span></div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;            <span class="keywordflow">case</span> 67331: <span class="comment">// Meteor Fists</span></div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;            <span class="keywordflow">case</span> 66765: <span class="comment">// Meteor Fists</span></div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;            <span class="keywordflow">case</span> 67333: <span class="comment">// Meteor Fists</span></div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;                spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146dad14307ec43a9235f85c2c32860871ed3">SPELL_ATTR0_CU_SHARE_DAMAGE</a>;</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;            <span class="keywordflow">case</span> 18500: <span class="comment">// Wing Buffet</span></div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;            <span class="keywordflow">case</span> 33086: <span class="comment">// Wild Bite</span></div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;            <span class="keywordflow">case</span> 49749: <span class="comment">// Piercing Blow</span></div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;            <span class="keywordflow">case</span> 52890: <span class="comment">// Penetrating Strike</span></div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;            <span class="keywordflow">case</span> 53454: <span class="comment">// Impale</span></div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;            <span class="keywordflow">case</span> 59446: <span class="comment">// Impale</span></div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;            <span class="keywordflow">case</span> 62383: <span class="comment">// Shatter</span></div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;            <span class="keywordflow">case</span> 64777: <span class="comment">// Machine Gun</span></div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;            <span class="keywordflow">case</span> 65239: <span class="comment">// Machine Gun</span></div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;            <span class="keywordflow">case</span> 69293: <span class="comment">// Wing Buffet</span></div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;            <span class="keywordflow">case</span> 74439: <span class="comment">// Machine Gun</span></div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;            <span class="comment">// Trial of the Crusader, Jaraxxus, Shivan Slash</span></div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;            <span class="keywordflow">case</span> 66378:</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;            <span class="keywordflow">case</span> 67097:</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;            <span class="keywordflow">case</span> 67098:</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;            <span class="keywordflow">case</span> 67099:</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;            <span class="comment">// Trial of the Crusader, Anub&#39;arak, Impale</span></div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;            <span class="keywordflow">case</span> 65919:</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;            <span class="keywordflow">case</span> 67858:</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;            <span class="keywordflow">case</span> 67859:</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;            <span class="keywordflow">case</span> 67860:</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;            <span class="keywordflow">case</span> 63278: <span class="comment">// Mark of the Faceless (General Vezax)</span></div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;            <span class="keywordflow">case</span> 64125: <span class="comment">// Ulduar, Yogg-Saron, Squeeze</span></div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;            <span class="keywordflow">case</span> 64126: <span class="comment">// Ulduar, Yogg-Saron, Squeeze</span></div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;            <span class="keywordflow">case</span> 62544: <span class="comment">// Thrust (Argent Tournament)</span></div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;            <span class="keywordflow">case</span> 64588: <span class="comment">// Thrust (Argent Tournament)</span></div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;            <span class="keywordflow">case</span> 66479: <span class="comment">// Thrust (Argent Tournament)</span></div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;            <span class="keywordflow">case</span> 68505: <span class="comment">// Thrust (Argent Tournament)</span></div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;            <span class="keywordflow">case</span> 62709: <span class="comment">// Counterattack! (Argent Tournament)</span></div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;            <span class="keywordflow">case</span> 62626: <span class="comment">// Break-Shield (Argent Tournament, Player)</span></div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;            <span class="keywordflow">case</span> 64590: <span class="comment">// Break-Shield (Argent Tournament, Player)</span></div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;            <span class="keywordflow">case</span> 64342: <span class="comment">// Break-Shield (Argent Tournament, NPC)</span></div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;            <span class="keywordflow">case</span> 64686: <span class="comment">// Break-Shield (Argent Tournament, NPC)</span></div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;            <span class="keywordflow">case</span> 65147: <span class="comment">// Break-Shield (Argent Tournament, NPC)</span></div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;            <span class="keywordflow">case</span> 68504: <span class="comment">// Break-Shield (Argent Tournament, NPC)</span></div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;            <span class="keywordflow">case</span> 62874: <span class="comment">// Charge (Argent Tournament, Player)</span></div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;            <span class="keywordflow">case</span> 68498: <span class="comment">// Charge (Argent Tournament, Player)</span></div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;            <span class="keywordflow">case</span> 64591: <span class="comment">// Charge (Argent Tournament, Player)</span></div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;            <span class="keywordflow">case</span> 63003: <span class="comment">// Charge (Argent Tournament, NPC)</span></div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;            <span class="keywordflow">case</span> 63010: <span class="comment">// Charge (Argent Tournament, NPC)</span></div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;            <span class="keywordflow">case</span> 68321: <span class="comment">// Charge (Argent Tournament, NPC)</span></div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;            <span class="keywordflow">case</span> 72255: <span class="comment">// Mark of the Fallen Champion (Deathbringer Saurfang)</span></div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;            <span class="keywordflow">case</span> 72444: <span class="comment">// Mark of the Fallen Champion (Deathbringer Saurfang)</span></div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;            <span class="keywordflow">case</span> 72445: <span class="comment">// Mark of the Fallen Champion (Deathbringer Saurfang)</span></div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;            <span class="keywordflow">case</span> 72446: <span class="comment">// Mark of the Fallen Champion (Deathbringer Saurfang)</span></div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;            <span class="keywordflow">case</span> 72409: <span class="comment">// Rune of Blood (Deathbringer Saurfang)</span></div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;            <span class="keywordflow">case</span> 72447: <span class="comment">// Rune of Blood (Deathbringer Saurfang)</span></div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;            <span class="keywordflow">case</span> 72448: <span class="comment">// Rune of Blood (Deathbringer Saurfang)</span></div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;            <span class="keywordflow">case</span> 72449: <span class="comment">// Rune of Blood (Deathbringer Saurfang)</span></div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;            <span class="keywordflow">case</span> 49882: <span class="comment">// Leviroth Self-Impale</span></div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;            <span class="keywordflow">case</span> 62775: <span class="comment">// Ulduar: XT-002 Tympanic Tamparum</span></div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;                spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da0f28e484658493d07d9b9dede2efcfb7">SPELL_ATTR0_CU_IGNORE_ARMOR</a>;</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;            <span class="keywordflow">case</span> 64422: <span class="comment">// Sonic Screech (Auriaya)</span></div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;                spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146dad14307ec43a9235f85c2c32860871ed3">SPELL_ATTR0_CU_SHARE_DAMAGE</a>;</div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;                spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da0f28e484658493d07d9b9dede2efcfb7">SPELL_ATTR0_CU_IGNORE_ARMOR</a>;</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;            <span class="keywordflow">case</span> 72293: <span class="comment">// Mark of the Fallen Champion (Deathbringer Saurfang)</span></div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;            <span class="keywordflow">case</span> 72347: <span class="comment">// Lock Players and Tap Chest (Gunship Battle)</span></div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;                spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146dabac2d4ebdf4a34333975b3ded5b66e2c">SPELL_ATTR0_CU_NEGATIVE_EFF0</a>;</div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;            <span class="keywordflow">case</span> 63675: <span class="comment">// Improved Devouring Plague</span></div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;            <span class="keywordflow">case</span> 17962: <span class="comment">// Conflagrate</span></div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;            <span class="keywordflow">case</span> 32593: <span class="comment">// Earth Shield aura</span></div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;            <span class="keywordflow">case</span> 32594: <span class="comment">// Earth Shield aura</span></div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;            <span class="keywordflow">case</span> 49283: <span class="comment">// Earth Shield aura</span></div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;            <span class="keywordflow">case</span> 49284: <span class="comment">// Earth Shield aura</span></div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;            <span class="keywordflow">case</span> 50526: <span class="comment">// Wandering Plague</span></div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;            <span class="keywordflow">case</span> 53353: <span class="comment">// Chimera Shot - Serpent trigger</span></div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;            <span class="keywordflow">case</span> 52752: <span class="comment">// Ancestral Awakening Heal</span></div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;                spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da28eaf0758dda324281f34617eb9cf3be">SPELL_ATTR0_CU_NO_POSITIVE_TAKEN_BONUS</a>;</div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;            <span class="keywordflow">case</span> 65280: <span class="comment">// Ulduar, Hodir, Singed</span></div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;            <span class="keywordflow">case</span> 28969: <span class="comment">// Naxxramas, Crypt Guard, Acid Spit (10 normal)</span></div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;            <span class="keywordflow">case</span> 56098: <span class="comment">// Naxxramas, Crypt Guard, Acid Spit (25 normal)</span></div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;            <span class="keywordflow">case</span> 27891: <span class="comment">// Naxxramas, Sludge Belcher, Acidic Sludge (10 normal)</span></div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;            <span class="keywordflow">case</span> 54331: <span class="comment">// Naxxramas, Sludge Belcher, Acidic Sludge (25 normal)</span></div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;            <span class="keywordflow">case</span> 29325: <span class="comment">// Naxxramas, Stoneskin Gargoyle, Acid Volley (10 normal)</span></div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;            <span class="keywordflow">case</span> 54714: <span class="comment">// Naxxramas, Stoneskin Gargoyle, Acid Volley (25 normal)</span></div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;            <span class="keywordflow">case</span> 65775: <span class="comment">// Anub&#39;arak, Swarm Scarab, Acid-Drenched Mandibles (10 normal)</span></div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;            <span class="keywordflow">case</span> 67861: <span class="comment">// Anub&#39;arak, Swarm Scarab, Acid-Drenched Mandibles (25 normal)</span></div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;            <span class="keywordflow">case</span> 67862: <span class="comment">// Anub&#39;arak, Swarm Scarab, Acid-Drenched Mandibles (10 heroic)</span></div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;            <span class="keywordflow">case</span> 67863: <span class="comment">// Anub&#39;arak, Swarm Scarab, Acid-Drenched Mandibles (25 heroic)</span></div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;            <span class="keywordflow">case</span> 55604: <span class="comment">// Naxxramas, Unrelenting Trainee, Death Plague (10 normal)</span></div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;            <span class="keywordflow">case</span> 55645: <span class="comment">// Naxxramas, Unrelenting Trainee, Death Plague (25 normal)</span></div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;            <span class="keywordflow">case</span> 67721: <span class="comment">// Anub&#39;arak, Nerubian Burrower, Expose Weakness (normal)</span></div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;            <span class="keywordflow">case</span> 67847: <span class="comment">// Anub&#39;arak, Nerubian Burrower, Expose Weakness (heroic)</span></div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;            <span class="keywordflow">case</span> 64638: <span class="comment">// Ulduar, Winter Jormungar, Acidic Bite</span></div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;            <span class="keywordflow">case</span> 71157: <span class="comment">// Icecrown Citadel, Plagued Zombie, Infected Wound</span></div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;            <span class="keywordflow">case</span> 72963: <span class="comment">// Icecrown Citadel, Rot Worm, Flesh Rot (10 normal)</span></div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;            <span class="keywordflow">case</span> 72964: <span class="comment">// Icecrown Citadel, Rot Worm, Flesh Rot (25 normal)</span></div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;            <span class="keywordflow">case</span> 72965: <span class="comment">// Icecrown Citadel, Rot Worm, Flesh Rot (10 heroic)</span></div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;            <span class="keywordflow">case</span> 72966: <span class="comment">// Icecrown Citadel, Rot Worm, Flesh Rot (25 heroic)</span></div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;            <span class="keywordflow">case</span> 72465: <span class="comment">// Icecrown Citadel, Sindragosa, Respite for a Tormented Soul (weekly quest)</span></div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;            <span class="keywordflow">case</span> 45271: <span class="comment">// Sunwell, Eredar Twins encounter, Dark Strike</span></div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;            <span class="keywordflow">case</span> 45347: <span class="comment">// Sunwell, Eredar Twins encounter, Dark Touched</span></div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;            <span class="keywordflow">case</span> 45348: <span class="comment">// Sunwell, Eredar Twins encounter, Flame Touched</span></div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;            <span class="keywordflow">case</span> 35859: <span class="comment">// The Eye, Nether Vapor</span></div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;            <span class="keywordflow">case</span> 40520: <span class="comment">// Black Temple, Shade Soul Channel</span></div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;            <span class="keywordflow">case</span> 40327: <span class="comment">// Black Temple, Atrophy</span></div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;            <span class="keywordflow">case</span> 38449: <span class="comment">// Serpentshrine Cavern, Blessing of the Tides</span></div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;            <span class="keywordflow">case</span> 38044: <span class="comment">// Serpentshrine Cavern, Surge</span></div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;            <span class="keywordflow">case</span> 74507: <span class="comment">// Ruby Sanctum, Siphoned Might</span></div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;            <span class="keywordflow">case</span> 49381: <span class="comment">// Drak&#39;tharon Keep, Consume</span></div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;            <span class="keywordflow">case</span> 59805: <span class="comment">// Drak&#39;tharon Keep, Consume</span></div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;            <span class="keywordflow">case</span> 55093: <span class="comment">// Gundrak, Grip of Slad&#39;ran</span></div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;            <span class="keywordflow">case</span> 30659: <span class="comment">// Hellfire Ramparts, Fel Infusion</span></div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;            <span class="keywordflow">case</span> 54314: <span class="comment">// Azjol&#39;Nerub Drain Power</span></div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;            <span class="keywordflow">case</span> 59354: <span class="comment">// Azjol&#39;Nerub Drain Power</span></div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;            <span class="keywordflow">case</span> 34655: <span class="comment">// Snake Trap, Deadly Poison</span></div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;            <span class="keywordflow">case</span> 11971: <span class="comment">// Sunder Armor</span></div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;            <span class="keywordflow">case</span> 58567: <span class="comment">// Player Sunder Armor</span></div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;            <span class="keywordflow">case</span> 12579: <span class="comment">// Player Winter&#39;s Chill</span></div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;            <span class="keywordflow">case</span> 29306: <span class="comment">// Naxxramas(Gluth&#39;s Zombies): Infected Wound</span></div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;            <span class="keywordflow">case</span> 61920: <span class="comment">// Ulduar(Spellbreaker): Supercharge</span></div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;            <span class="keywordflow">case</span> 63978: <span class="comment">// Ulduar(Rubble): Stone Nova</span></div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;                spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da7fbb6ea702124d1bd7fa091591d8fb7f">SPELL_ATTR0_CU_SINGLE_AURA_STACK</a>;</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;            <span class="keywordflow">case</span> 43138: <span class="comment">// North Fleet Reservist Kill Credit</span></div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;                spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da21bee0dd8a24adc23431292c32c02ba2">SPELL_ATTR0_CU_ALLOW_INFLIGHT_TARGET</a>;</div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;            <span class="keywordflow">case</span> 6197: <span class="comment">// Eagle Eye</span></div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;                spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146daf7ce6d6f1816304f4859833e912bfc94">SPELL_ATTR0_CU_NO_INITIAL_THREAT</a>;</div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;            <span class="keywordflow">case</span> 50315: <span class="comment">// Disco Ball</span></div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;                spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da53ab5109248d12159273e5111f3d7641">SPELL_ATTR0_CU_NO_PVP_FLAG</a>;</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;            <span class="keywordflow">case</span> 14183: <span class="comment">// Premeditation</span></div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;                spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da6e135d0f3f1ffad609c7a52988db5d0e">SPELL_ATTR0_CU_DONT_BREAK_STEALTH</a>;</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160; </div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;            <span class="comment">// Xinef: NOT CUSTOM, cant add in DBC CORRECTION because i need to swap effects, too much work to do there</span></div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;            <span class="comment">// Envenom</span></div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;            <span class="keywordflow">case</span> 32645:</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;            <span class="keywordflow">case</span> 32684:</div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;            <span class="keywordflow">case</span> 57992:</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;            <span class="keywordflow">case</span> 57993:</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;                {</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;                    <a class="code" href="../../d7/de3/class_spell_effect_info.html">SpellEffectInfo</a> info = spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>];</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;                    spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77af927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>];</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;                    spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77af927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>] = info;</div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;                }</div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160; </div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;            <span class="comment">// Xinef: Cooldown overwrites</span></div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;            <span class="comment">// Jotunheim Rapid-Fire Harpoon: Energy Reserve</span></div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;            <span class="keywordflow">case</span> 56585:</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;                spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a354b312d22f0591378e7b031a2ccd887">RecoveryTime</a> = 30000;</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;                spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a54e6c05479963284d49062a9ce6090d2">_requireCooldownInfo</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;            <span class="comment">// Jotunheim Rapid-Fire Harpoon: Rapid-Fire Harpoon</span></div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;            <span class="keywordflow">case</span> 56570:</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;                spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a354b312d22f0591378e7b031a2ccd887">RecoveryTime</a> = 200;</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;            <span class="comment">// Burst of Speed</span></div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;            <span class="keywordflow">case</span> 57493:</div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;                spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a354b312d22f0591378e7b031a2ccd887">RecoveryTime</a> = 60000;</div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;                spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a54e6c05479963284d49062a9ce6090d2">_requireCooldownInfo</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;            <span class="comment">// Strafe Jotunheim Building</span></div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;            <span class="keywordflow">case</span> 7769:</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;                spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a354b312d22f0591378e7b031a2ccd887">RecoveryTime</a> = 1500;</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;                spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a54e6c05479963284d49062a9ce6090d2">_requireCooldownInfo</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;            <span class="keywordflow">case</span> 44535: <span class="comment">// Spirit Heal, abilities also have no cost</span></div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;                spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].MiscValue = 127;</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;        }</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160; </div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;        <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a6a56e323b5359f6fc3d766b71efaf901">Speed</a> &gt; 0.0f)</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;        {</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6a/struct_spell_visual_entry.html">SpellVisualEntry</a> <span class="keyword">const</span>* spellVisual = <a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#a5ab694d45978587c224287543ab8d48d">sSpellVisualStore</a>.LookupEntry(spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a78bbf3a5574a188116846fbc77a57768">SpellVisual</a>[0]))</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;            {</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;                <span class="keywordflow">if</span> (spellVisual-&gt;HasMissile)</div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;                {</div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;                    <span class="keywordflow">if</span> (spellVisual-&gt;MissileModel == -4 || spellVisual-&gt;MissileModel == -5)</div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;                    {</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;                        spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146daaad600a26daf0b11ec7b14c5c2827987">SPELL_ATTR0_CU_NEEDS_AMMO_DATA</a>;</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;                    }</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;                }</div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;            }</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;        }</div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;       spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#ac86920b89de167157bd483cdc6ac7d4b">_InitializeExplicitTargetMask</a>();</div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;    }</div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160; </div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;    <span class="comment">// Xinef: addition for binary spells, ommit spells triggering other spells</span></div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code" href="../../dc/d9a/class_spell_mgr.html#aca8a0eccca0aa32dc2cc9802597c0256">GetSpellInfoStoreSize</a>(); ++i)</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;    {</div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;        spellInfo = <a class="code" href="../../dc/d9a/class_spell_mgr.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>[i];</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;        <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160; </div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;        <span class="keywordflow">if</span> (!(spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> &amp; <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146dacd2b3dd04ea4267a9b7f43f00003837d">SPELL_ATTR0_CU_BINARY_SPELL</a>))</div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160; </div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;        <span class="keywordtype">bool</span> allNonBinary = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;        <span class="keywordtype">bool</span> overrideAttr = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code" href="../../d1/d22/_d_b_c_structure_8h.html#ac5733f5b58bf8a23a1919a005b5ec895">MAX_SPELL_EFFECTS</a>; ++j)</div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;        {</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;            <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].ApplyAuraName &amp;&amp; spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].TriggerSpell)</div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;            {</div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;                <span class="keywordflow">switch</span>(spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].ApplyAuraName)</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;                {</div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799af51e1877e096bbfd69505e5ab4fc69ad">SPELL_AURA_PERIODIC_TRIGGER_SPELL</a>:</div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799ab6c4d806c60e94fec189c27a7a205576">SPELL_AURA_PERIODIC_TRIGGER_SPELL_WITH_VALUE</a>:</div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* triggerSpell = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a>-&gt;GetSpellInfo(spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].TriggerSpell))</div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;                        {</div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;                            overrideAttr = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;                            <span class="keywordflow">if</span> (triggerSpell-&gt;AttributesCu &amp; <a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146dacd2b3dd04ea4267a9b7f43f00003837d">SPELL_ATTR0_CU_BINARY_SPELL</a>)</div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;                                allNonBinary = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;                        }</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;                }</div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;            }</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;        }</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160; </div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;        <span class="keywordflow">if</span> (overrideAttr &amp;&amp; allNonBinary)</div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;            spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> &amp;= ~<a class="code" href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146dacd2b3dd04ea4267a9b7f43f00003837d">SPELL_ATTR0_CU_BINARY_SPELL</a>;</div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;    }</div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160; </div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded spell custom attributes in %u ms&quot;</span>, <a class="code" href="../../d5/d29/_timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;}</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160; </div>
<div class="line"><a name="l03392"></a><span class="lineno"><a class="line" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e"> 3392</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>(std::initializer_list&lt;uint32&gt; spellIds, <span class="keywordtype">void</span>(*fix)(<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>*))</div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;{</div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId : spellIds)</div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;    {</div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;        <a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a> <span class="keyword">const</span>* spellInfo = (<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>*)<a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#a6b52d1b78ae2ba2dd3a2b58a33f8dbc1">sSpellStore</a>.LookupEntry(spellId);</div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;        <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;        {</div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;            <a class="code" href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell info correction specified for non-existing spell %u&quot;</span>, spellId);</div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;        }</div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160; </div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;        fix(<span class="keyword">const_cast&lt;</span><a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>*<span class="keyword">&gt;</span>(spellInfo));</div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;    }</div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;}</div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160; </div>
<div class="line"><a name="l03407"></a><span class="lineno"><a class="line" href="../../dc/d9a/class_spell_mgr.html#ac5419913d1f15727ea9f11b9e3120a1a"> 3407</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dc/d9a/class_spell_mgr.html#ac5419913d1f15727ea9f11b9e3120a1a">SpellMgr::LoadDbcDataCorrections</a>()</div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;{</div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code" href="../../d5/d29/_timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160; </div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;        467,    <span class="comment">// Thorns (Rank 1)</span></div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;        782,    <span class="comment">// Thorns (Rank 2)</span></div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;        1075,   <span class="comment">// Thorns (Rank 3)</span></div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;        8914,   <span class="comment">// Thorns (Rank 4)</span></div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;        9756,   <span class="comment">// Thorns (Rank 5)</span></div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;        9910,   <span class="comment">// Thorns (Rank 6)</span></div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;        26992,  <span class="comment">// Thorns (Rank 7)</span></div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;        53307,  <span class="comment">// Thorns (Rank 8)</span></div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;        53352,  <span class="comment">// Explosive Shot (trigger)</span></div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;        50783,  <span class="comment">// Slam (Triggered spell)</span></div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;        20647   <span class="comment">// Execute (Triggered spell)</span></div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;    {</div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a>;</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;    });</div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160; </div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;    <span class="comment">// Elixir of Minor Fortitude</span></div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 2378 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;    {</div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;        spellInfo-&gt;ManaCost = 0;</div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;        spellInfo-&gt;ManaPerSecond = 0;</div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;    });</div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160; </div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;    <span class="comment">// Elixir of Detect Undead</span></div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 11389 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;    {</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;        spellInfo-&gt;PowerType = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a17e15fab4b89f4840e745f31ca76a414ab3e4f73d6494c917b99431bae75a4d5f">POWER_MANA</a>;</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;        spellInfo-&gt;ManaCost = 0;</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;        spellInfo-&gt;ManaPerSecond = 0;</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;    });</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160; </div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;    <span class="comment">// Evergrove Druid Transform Crow</span></div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 38776 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;    {</div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;        spellInfo-&gt;DurationIndex = 4; <span class="comment">// 120 seconds</span></div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;    });</div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160; </div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;        63026, <span class="comment">// Force Cast (HACK: Target shouldn&#39;t be changed)</span></div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;        63137  <span class="comment">// Force Cast (HACK: Target shouldn&#39;t be changed; summon position should be untied from spell destination)</span></div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;    {</div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a26506da78f6a6950f7ac66718b775817">TARGET_DEST_DB</a>;</div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;    });</div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160; </div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;        53096,  <span class="comment">// Quetz&#39;lun&#39;s Judgment</span></div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;        70743,  <span class="comment">// AoD Special</span></div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;        70614   <span class="comment">// AoD Special - Vegard</span></div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;    {</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;        spellInfo-&gt;MaxAffectedTargets = 1;</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;    });</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160; </div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;        52611,  <span class="comment">// Summon Skeletons</span></div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;        52612   <span class="comment">// Summon Skeletons</span></div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;    {</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;        spellInfo-&gt;EffectMiscValueB[0] = 64;</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;    });</div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160; </div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;        40244,  <span class="comment">// Simon Game Visual</span></div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;        40245,  <span class="comment">// Simon Game Visual</span></div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;        40246,  <span class="comment">// Simon Game Visual</span></div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;        40247,  <span class="comment">// Simon Game Visual</span></div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;        42835   <span class="comment">// Spout, remove damage effect, only anim is needed</span></div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;    {</div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;        spellInfo-&gt;Effect[0] = 0;</div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;    });</div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160; </div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;        63665,  <span class="comment">// Charge (Argent Tournament emote on riders)</span></div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;        31298,  <span class="comment">// Sleep (needs target selection script)</span></div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;        2895,   <span class="comment">// Wrath of Air Totem rank 1 (Aura)</span></div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;        68933,  <span class="comment">// Wrath of Air Totem rank 2 (Aura)</span></div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;        29200   <span class="comment">// Purify Helboar Meat</span></div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;    {</div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>;</div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = 0;</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;    });</div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160; </div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;    <span class="comment">// Howl of Azgalor</span></div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 31344 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;    {</div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6a14ee51627f5c63cbd8d13141aae1c942">EFFECT_RADIUS_100_YARDS</a>; <span class="comment">// 100yards instead of 50000?!</span></div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;    });</div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160; </div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;        42818,  <span class="comment">// Headless Horseman - Wisp Flight Port</span></div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;        42821   <span class="comment">// Headless Horseman - Wisp Flight Missile</span></div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;    {</div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;        spellInfo-&gt;RangeIndex = 6; <span class="comment">// 100 yards</span></div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;    });</div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160; </div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;    <span class="comment">// Spirit of Kirith</span></div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 10853 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;    {</div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;        spellInfo-&gt;DurationIndex = 3; <span class="comment">// 1min</span></div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;    });</div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160; </div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;    <span class="comment">// Headless Horseman - Start Fire</span></div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 42132 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;    {</div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;        spellInfo-&gt;RangeIndex = 6; <span class="comment">// 100 yards</span></div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;    });</div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160; </div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;    <span class="comment">//They Must Burn Bomb Aura (self)</span></div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 36350 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;    {</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;        spellInfo-&gt;EffectTriggerSpell[0] = 36325; <span class="comment">// They Must Burn Bomb Drop (DND)</span></div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;    });</div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160; </div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;    <span class="comment">// Mana Shield (rank 2)</span></div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 8494 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;    {</div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;        spellInfo-&gt;ProcChance = 0; <span class="comment">// because of bug in dbc</span></div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;    });</div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160; </div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;        63320,  <span class="comment">// Glyph of Life Tap</span></div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;        20335,  <span class="comment">// Heart of the Crusader</span></div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;        20336,  <span class="comment">// Heart of the Crusader</span></div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;        20337,  <span class="comment">// Heart of the Crusader</span></div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;        53228,  <span class="comment">// Rapid Killing (Rank 1)</span></div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;        53232,  <span class="comment">// Rapid Killing (Rank 2)</span></div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;    {</div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a7dfc84e5ab0a21d82a815fa84f49b33f">SPELL_ATTR3_CAN_PROC_FROM_PROCS</a>; <span class="comment">// Entries were not updated after spell effect change, we have to do that manually</span></div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;    });</div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160; </div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;        31347,  <span class="comment">// Doom</span></div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;        41635,  <span class="comment">// Prayer of Mending</span></div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;        39365,  <span class="comment">// Thundering Storm</span></div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;        52124,  <span class="comment">// Sky Darkener Assault</span></div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;        42442,  <span class="comment">// Vengeance Landing Cannonfire</span></div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;        45863,  <span class="comment">// Cosmetic - Incinerate to Random Target</span></div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;        25425,  <span class="comment">// Shoot</span></div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;        45761,  <span class="comment">// Shoot</span></div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;        42611,  <span class="comment">// Shoot</span></div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;        61588,  <span class="comment">// Blazing Harpoon</span></div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;        36327   <span class="comment">// Shoot Arcane Explosion Arrow</span></div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;    {</div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;        spellInfo-&gt;MaxAffectedTargets = 1;</div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;    });</div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160; </div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;    <span class="comment">// Skartax Purple Beam</span></div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 36384 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;    {</div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;        spellInfo-&gt;MaxAffectedTargets = 2;</div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;    });</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160; </div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;        37790,  <span class="comment">// Spread Shot</span></div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;        54172,  <span class="comment">// Divine Storm (heal)</span></div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;        66588,  <span class="comment">// Flaming Spear</span></div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;        54171   <span class="comment">// Divine Storm</span></div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;    {</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;        spellInfo-&gt;MaxAffectedTargets = 3;</div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;    });</div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160; </div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;    <span class="comment">// Divine Storm (Damage)</span></div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 53385 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;    {</div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;        spellInfo-&gt;MaxAffectedTargets = 4;</div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;    });</div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160; </div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;    <span class="comment">// Spitfire Totem</span></div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 38296 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;    {</div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;        spellInfo-&gt;MaxAffectedTargets = 5;</div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;    });</div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160; </div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;        40827,  <span class="comment">// Sinful Beam</span></div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;        40859,  <span class="comment">// Sinister Beam</span></div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;        40860,  <span class="comment">// Vile Beam</span></div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;        40861   <span class="comment">// Wicked Beam</span></div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;    {</div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;        spellInfo-&gt;MaxAffectedTargets = 10;</div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;    });</div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160; </div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;    <span class="comment">// Unholy Frenzy</span></div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 50312 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;    {</div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;        spellInfo-&gt;MaxAffectedTargets = 15;</div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;    });</div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160; </div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;        17941,  <span class="comment">// Shadow Trance</span></div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;        22008,  <span class="comment">// Netherwind Focus</span></div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;        31834,  <span class="comment">// Light&#39;s Grace</span></div>
<div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;        34754,  <span class="comment">// Clearcasting</span></div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;        34936,  <span class="comment">// Backlash</span></div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;        48108,  <span class="comment">// Hot Streak</span></div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;        51124,  <span class="comment">// Killing Machine</span></div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;        54741,  <span class="comment">// Firestarter</span></div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;        57761,  <span class="comment">// Fireball!</span></div>
<div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;        64823,  <span class="comment">// Item - Druid T8 Balance 4P Bonus</span></div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;        34477,  <span class="comment">// Misdirection</span></div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;        44401,  <span class="comment">// Missile Barrage</span></div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;        18820   <span class="comment">// Insight</span></div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;    {</div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;        spellInfo-&gt;ProcCharges = 1;</div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;    });</div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160; </div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;    <span class="comment">// Tidal Wave</span></div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 53390 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;    {</div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;        spellInfo-&gt;ProcCharges = 2;</div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;    });</div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160; </div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;    <span class="comment">// Oscillation Field</span></div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 37408 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;    {</div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67">SPELL_ATTR3_DOT_STACKING_RULE</a>;</div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;    });</div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160; </div>
<div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;    <span class="comment">// Ascendance (Talisman of Ascendance trinket)</span></div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 28200 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;    {</div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;        spellInfo-&gt;ProcCharges = 6;</div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;    });</div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160; </div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;    <span class="comment">// The Eye of Acherus (no spawn in phase 2 in db)</span></div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 51852 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;    {</div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;        spellInfo-&gt;EffectMiscValue[0] |= 1;</div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;    });</div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160; </div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;    <span class="comment">// Crafty&#39;s Ultra-Advanced Proto-Typical Shortening Blaster</span></div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 51912 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;    {</div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;        spellInfo-&gt;EffectAmplitude[0] = 3000;</div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;    });</div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160; </div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;    <span class="comment">// Desecration Arm - 36 instead of 37 - typo?</span></div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 29809 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;    {</div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = 37;</div>
<div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;    });</div>
<div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160; </div>
<div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;    <span class="comment">// Sic&#39;em</span></div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 42767 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;    {</div>
<div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152aab0751c8895d224e37904a23bc625efa">TARGET_UNIT_NEARBY_ENTRY</a>;</div>
<div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;    });</div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160; </div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;    <span class="comment">// Master Shapeshifter: missing stance data for forms other than bear - bear version has correct data</span></div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;    <span class="comment">// To prevent aura staying on target after talent unlearned</span></div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 48420 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;    {</div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;        spellInfo-&gt;Stances = 1 &lt;&lt; (<a class="code" href="../../d5/d32/_unit_8h.html#ab1b67dd15f243c850f589f66747e547caa28b6421a1efdc3a6377c480e1f80809">FORM_CAT</a> - 1);</div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;    });</div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160; </div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 48421 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;    {</div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;        spellInfo-&gt;Stances = 1 &lt;&lt; (<a class="code" href="../../d5/d32/_unit_8h.html#ab1b67dd15f243c850f589f66747e547ca956565a0800ab3f327d90d6a413f4482">FORM_MOONKIN</a> - 1);</div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;    });</div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160; </div>
<div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 48422 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;    {</div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;        spellInfo-&gt;Stances = 1 &lt;&lt; (<a class="code" href="../../d5/d32/_unit_8h.html#ab1b67dd15f243c850f589f66747e547cadede345fd72f3a48598be8a70afe65ca">FORM_TREE</a> - 1);</div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;    });</div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160; </div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;    <span class="comment">// Elemental Oath</span></div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 51466, 51470 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;    {</div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;        spellInfo-&gt;Effect[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77a8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>;</div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;        spellInfo-&gt;EffectApplyAuraName[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77a8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a50563ee6555455f041b81ce199ad1a4f">SPELL_AURA_ADD_FLAT_MODIFIER</a>;</div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;        spellInfo-&gt;EffectMiscValue[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77a8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>] = <a class="code" href="../../d5/d32/_unit_8h.html#a39b60e1f12cca9b6873cb817e7717351a0424ff84a813354eb36d6f6774bbacce">SPELLMOD_EFFECT2</a>;</div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;        spellInfo-&gt;EffectSpellClassMask[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77a8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>] = <a class="code" href="../../dc/dd4/classflag96.html">flag96</a>(0x00000000, 0x00004000, 0x00000000);</div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;    });</div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160; </div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;    <span class="comment">// Improved Shadowform (Rank 1)</span></div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 47569 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;    {</div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;        spellInfo-&gt;Attributes &amp;= ~<a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada181bc0f8031c0a2e477f0eb213ae3fc0">SPELL_ATTR0_NOT_SHAPESHIFTED</a>;   <span class="comment">// with this spell atrribute aura can be stacked several times</span></div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;    });</div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160; </div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;    <span class="comment">// Nether Portal - Perseverence</span></div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 30421 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;    {</div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;        spellInfo-&gt;EffectBasePoints[2] += 30000;</div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;    });</div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160; </div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;    <span class="comment">// Natural shapeshifter</span></div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 16834, 16835 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;    {</div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;        spellInfo-&gt;DurationIndex = 21;</div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;    });</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160; </div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;    <span class="comment">// Ebon Plague</span></div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 51735, 51734, 51726 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;    {</div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;        spellInfo-&gt;SpellFamilyFlags[2] = 0x10;</div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;        spellInfo-&gt;EffectApplyAuraName[1] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a6796b359cee58ecae94d38098c91e74e">SPELL_AURA_MOD_DAMAGE_PERCENT_TAKEN</a>;</div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67">SPELL_ATTR3_DOT_STACKING_RULE</a>;</div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;    });</div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160; </div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;    <span class="comment">// Parasitic Shadowfiend Passive</span></div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 41013 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;    {</div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;        spellInfo-&gt;EffectApplyAuraName[0] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a66cca11731d68512cb0bb652cb1e7caf">SPELL_AURA_DUMMY</a>;   <span class="comment">// proc debuff, and summon infinite fiends</span></div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;    });</div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160; </div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;        27892,  <span class="comment">// To Anchor 1</span></div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;        27928,  <span class="comment">// To Anchor 1</span></div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;        27935,  <span class="comment">// To Anchor 1</span></div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;        27915,  <span class="comment">// Anchor to Skulls</span></div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;        27931,  <span class="comment">// Anchor to Skulls</span></div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;        27937   <span class="comment">// Anchor to Skulls</span></div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;    {</div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;        spellInfo-&gt;RangeIndex = 13;</div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;    });</div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160; </div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;    <span class="comment">// Wrath of the Plaguebringer</span></div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 29214, 54836 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;    {</div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;        <span class="comment">// target allys instead of enemies, target A is src_caster, spells with effect like that have ally target</span></div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;        <span class="comment">// this is the only known exception, probably just wrong data</span></div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a5636479f4e747c35d6eab829ac5ba6c1">TARGET_UNIT_SRC_AREA_ALLY</a>;</div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[1] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a5636479f4e747c35d6eab829ac5ba6c1">TARGET_UNIT_SRC_AREA_ALLY</a>;</div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;    });</div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160; </div>
<div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;    <span class="comment">// Wind Shear</span></div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 57994 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;    {</div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;        <span class="comment">// improper data for EFFECT_1 in 3.3.5 DBC, but is correct in 4.x</span></div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;        spellInfo-&gt;Effect[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77a8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a9283537d0780f127fb78eeafc72365e5">SPELL_EFFECT_MODIFY_THREAT_PERCENT</a>;</div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;        spellInfo-&gt;EffectBasePoints[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77a8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>] = -6; <span class="comment">// -5%</span></div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;    });</div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160; </div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;    <span class="comment">// Improved Devouring Plague</span></div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 63675 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;    {</div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;        spellInfo-&gt;EffectBonusMultiplier[0] = 0;</div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81af803e1e3c27f800be5855d258135fbff">SPELL_ATTR3_IGNORE_CASTER_MODIFIERS</a>;</div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;    });</div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160; </div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;        8145,   <span class="comment">// Tremor Totem (instant pulse)</span></div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;        6474    <span class="comment">// Earthbind Totem (instant pulse)</span></div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;    {</div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;        spellInfo-&gt;AttributesEx5 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a376aa62261a98289589839b821786adaa1e5646f92d527da8a1a98bb0f14f3b86">SPELL_ATTR5_EXTRA_INITIAL_PERIOD</a>;</div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;    });</div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160; </div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;    <span class="comment">// Marked for Death</span></div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 53241, 53243, 53244, 53245, 53246 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;    {</div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;        spellInfo-&gt;EffectSpellClassMask[0] = <a class="code" href="../../dc/dd4/classflag96.html">flag96</a>(423937, 276955137, 2049);</div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;    });</div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160; </div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;        70728,  <span class="comment">// Exploit Weakness</span></div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;        70840   <span class="comment">// Devious Minds</span></div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;    {</div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>;</div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a85f865aa0228f193158a34cbafe4d706">TARGET_UNIT_PET</a>;</div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;    });</div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160; </div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;    <span class="comment">// Culling The Herd</span></div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 70893 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;    {</div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>;</div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a8c90320900b4114323d35111f290ff90">TARGET_UNIT_MASTER</a>;</div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;    });</div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160; </div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;    <span class="comment">// Sigil of the Frozen Conscience</span></div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 54800 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;    {</div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;        <span class="comment">// change class mask to custom extended flags of Icy Touch</span></div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;        <span class="comment">// this is done because another spell also uses the same SpellFamilyFlags as Icy Touch</span></div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;        <span class="comment">// SpellFamilyFlags[0] &amp; 0x00000040 in SPELLFAMILY_DEATHKNIGHT is currently unused (3.3.5a)</span></div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;        <span class="comment">// this needs research on modifier applying rules, does not seem to be in Attributes fields</span></div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;        spellInfo-&gt;EffectSpellClassMask[0] = <a class="code" href="../../dc/dd4/classflag96.html">flag96</a>(0x00000040, 0x00000000, 0x00000000);</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;    });</div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160; </div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;    <span class="comment">// Idol of the Flourishing Life</span></div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 64949 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;    {</div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;        spellInfo-&gt;EffectSpellClassMask[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../dc/dd4/classflag96.html">flag96</a>(0x00000000, 0x02000000, 0x00000000);</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;        spellInfo-&gt;EffectApplyAuraName[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a50563ee6555455f041b81ce199ad1a4f">SPELL_AURA_ADD_FLAT_MODIFIER</a>;</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;    });</div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160; </div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;        34231,  <span class="comment">// Libram of the Lightbringer</span></div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;        60792,  <span class="comment">// Libram of Tolerance</span></div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;        64956   <span class="comment">// Libram of the Resolute</span></div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;    {</div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;        spellInfo-&gt;EffectSpellClassMask[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../dc/dd4/classflag96.html">flag96</a>(0x80000000, 0x00000000, 0x00000000);</div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;        spellInfo-&gt;EffectApplyAuraName[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a50563ee6555455f041b81ce199ad1a4f">SPELL_AURA_ADD_FLAT_MODIFIER</a>;</div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;    });</div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160; </div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;        28851,  <span class="comment">// Libram of Light</span></div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;        28853,  <span class="comment">// Libram of Divinity</span></div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;        32403   <span class="comment">// Blessed Book of Nagrand</span></div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;    {</div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;        spellInfo-&gt;EffectSpellClassMask[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../dc/dd4/classflag96.html">flag96</a>(0x40000000, 0x00000000, 0x00000000);</div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;        spellInfo-&gt;EffectApplyAuraName[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a50563ee6555455f041b81ce199ad1a4f">SPELL_AURA_ADD_FLAT_MODIFIER</a>;</div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;    });</div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160; </div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;    <span class="comment">// Ride Carpet</span></div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 45602 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;    {</div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;        spellInfo-&gt;EffectBasePoints[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = 0; <span class="comment">// force seat 0, vehicle doesn&#39;t have the required seat flags for &quot;no seat specified (-1)&quot;</span></div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;    });</div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160; </div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;        64745,  <span class="comment">// Item - Death Knight T8 Tank 4P Bonus</span></div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;        64936   <span class="comment">// Item - Warrior T8 Protection 4P Bonus</span></div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;    {</div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;        spellInfo-&gt;EffectBasePoints[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = 100; <span class="comment">// 100% chance of procc&#39;ing, not -10% (chance calculated in PrepareTriggersExecutedOnHit)</span></div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;    });</div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160; </div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;    <span class="comment">// Easter Lay Noblegarden Egg Aura</span></div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 61719 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;    {</div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;        <span class="comment">// Interrupt flags copied from aura which this aura is linked with</span></div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;        spellInfo-&gt;AuraInterruptFlags = <a class="code" href="../../d5/d32/_unit_8h.html#a0709fc3ab848cf1b8b4853813b8fe011a79d42b7d97460b52fe46d9bc3c288a15">AURA_INTERRUPT_FLAG_HITBYSPELL</a> | <a class="code" href="../../d5/d32/_unit_8h.html#a0709fc3ab848cf1b8b4853813b8fe011a043102900f6d0a56c4ba2aaf151fa41a">AURA_INTERRUPT_FLAG_TAKE_DAMAGE</a>;</div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;    });</div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160; </div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;    <span class="comment">// Bleh, need to change FamilyFlags :/ (have the same as original aura - bad!)</span></div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 63510 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;    {</div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;        spellInfo-&gt;SpellFamilyFlags[0] = 0;</div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;        spellInfo-&gt;SpellFamilyFlags[2] = 0x4000000;</div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;    });</div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160; </div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 63514 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;    {</div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;        spellInfo-&gt;SpellFamilyFlags[0] = 0;</div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;        spellInfo-&gt;SpellFamilyFlags[2] = 0x2000000;</div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;    });</div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160; </div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 63531 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;    {</div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;        spellInfo-&gt;SpellFamilyFlags[0] = 0;</div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;        spellInfo-&gt;SpellFamilyFlags[2] = 0x8000000;</div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;    });</div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160; </div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;    <span class="comment">// And affecting spells</span></div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;        20138,  <span class="comment">// Improved Devotion Aura</span></div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;        20139,</div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;        20140</div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;    {</div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;        spellInfo-&gt;EffectSpellClassMask[1][0] = 0;</div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;        spellInfo-&gt;EffectSpellClassMask[1][2] = 0x2000000;</div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;    });</div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160; </div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;        20254,  <span class="comment">// Improved concentration aura</span></div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;        20255,</div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;        20256</div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;    {</div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;        spellInfo-&gt;EffectSpellClassMask[1][0] = 0;</div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;        spellInfo-&gt;EffectSpellClassMask[1][2] = 0x4000000;</div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;        spellInfo-&gt;EffectSpellClassMask[2][0] = 0;</div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;        spellInfo-&gt;EffectSpellClassMask[2][2] = 0x4000000;</div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;    });</div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160; </div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;        53379,  <span class="comment">// Swift Retribution</span></div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;        53484,</div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;        53648</div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;    {</div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;        spellInfo-&gt;EffectSpellClassMask[0][0] = 0;</div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;        spellInfo-&gt;EffectSpellClassMask[0][2] = 0x8000000;</div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;    });</div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160; </div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;    <span class="comment">// Sanctified Retribution</span></div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 31869 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;    {</div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;        spellInfo-&gt;EffectSpellClassMask[0][0] = 0;</div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;        spellInfo-&gt;EffectSpellClassMask[0][2] = 0x8000000;</div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;    });</div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160; </div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;    <span class="comment">// Seal of Light trigger</span></div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 20167 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;    {</div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;        spellInfo-&gt;SpellLevel = 0;</div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;        spellInfo-&gt;BaseLevel = 0;</div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;        spellInfo-&gt;DmgClass = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a7443b708d5bd7312fc0a420679ae10a4a44c25232e532dcd5a47b225f2e531093">SPELL_DAMAGE_CLASS_MAGIC</a>;</div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;    });</div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160; </div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;    <span class="comment">// Light&#39;s Beacon, Beacon of Light</span></div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 53651 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;    {</div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67">SPELL_ATTR3_DOT_STACKING_RULE</a>;</div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;    });</div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160; </div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;    <span class="comment">// Hand of Reckoning</span></div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 62124 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;    {</div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;        spellInfo-&gt;AttributesEx |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a638f8f550e23b2e3180b481bb3f38076aff8f5208b6bab753ec0cb8d8ccff67eb">SPELL_ATTR1_NO_REDIRECTION</a>;</div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;    });</div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160; </div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;    <span class="comment">// Redemption</span></div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 7328, 10322, 10324, 20772, 20773, 48949, 48950 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;    {</div>
<div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;        spellInfo-&gt;SpellFamilyName = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba573f9ad8924e7632156291378448e742">SPELLFAMILY_PALADIN</a>;</div>
<div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;    });</div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160; </div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;        20184,  <span class="comment">// Judgement of Justice</span></div>
<div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;        20185,  <span class="comment">// Judgement of Light</span></div>
<div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;        20186,  <span class="comment">// Judgement of Wisdom</span></div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;        68055   <span class="comment">// Judgements of the Just</span></div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;    {</div>
<div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;        <span class="comment">// hack for seal of light and few spells, judgement consists of few single casts and each of them can proc</span></div>
<div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;        <span class="comment">// some spell, base one has disabled proc flag but those dont have this flag</span></div>
<div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81ac2986782f66a992ba3ff45797716f716">SPELL_ATTR3_SUPRESS_CASTER_PROCS</a>;</div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;    });</div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160; </div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;    <span class="comment">// Blessing of sanctuary stats</span></div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 67480 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;    {</div>
<div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;        spellInfo-&gt;EffectMiscValue[0] = -1;</div>
<div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;        spellInfo-&gt;SpellFamilyName = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1baf6b533c234808dd17936190a630db749">SPELLFAMILY_UNK1</a>; <span class="comment">// allows stacking</span></div>
<div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;        spellInfo-&gt;EffectApplyAuraName[1] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a66cca11731d68512cb0bb652cb1e7caf">SPELL_AURA_DUMMY</a>; <span class="comment">// just a marker</span></div>
<div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;    });</div>
<div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160; </div>
<div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;    <span class="comment">// Seal of Command trigger</span></div>
<div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 20424 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;    {</div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;        spellInfo-&gt;AttributesEx3 &amp;= ~<a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81ac2986782f66a992ba3ff45797716f716">SPELL_ATTR3_SUPRESS_CASTER_PROCS</a>;</div>
<div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;    });</div>
<div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160; </div>
<div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;        54968,  <span class="comment">// Glyph of Holy Light, Damage Class should be magic</span></div>
<div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;        53652,  <span class="comment">// Beacon of Light heal, Damage Class should be magic</span></div>
<div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;        53654</div>
<div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;    {</div>
<div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81af803e1e3c27f800be5855d258135fbff">SPELL_ATTR3_IGNORE_CASTER_MODIFIERS</a>;</div>
<div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;        spellInfo-&gt;DmgClass = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a7443b708d5bd7312fc0a420679ae10a4a44c25232e532dcd5a47b225f2e531093">SPELL_DAMAGE_CLASS_MAGIC</a>;</div>
<div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;    });</div>
<div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160; </div>
<div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;    <span class="comment">// Wild Hunt</span></div>
<div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 62758, 62762 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;    {</div>
<div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;        spellInfo-&gt;Effect[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>;</div>
<div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;        spellInfo-&gt;EffectApplyAuraName[0] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a66cca11731d68512cb0bb652cb1e7caf">SPELL_AURA_DUMMY</a>;</div>
<div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;        spellInfo-&gt;Effect[1] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>;</div>
<div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;        spellInfo-&gt;EffectApplyAuraName[1] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a66cca11731d68512cb0bb652cb1e7caf">SPELL_AURA_DUMMY</a>;</div>
<div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;    });</div>
<div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160; </div>
<div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;    <span class="comment">// Intervene</span></div>
<div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 3411 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;    {</div>
<div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;        spellInfo-&gt;Attributes |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada70a88000e26e915779029013b794396e">SPELL_ATTR0_CANCELS_AUTO_ATTACK_COMBAT</a>;</div>
<div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81acdc9f1610f2a4cd247669ddb7497aa48">SPELL_ATTR3_SUPRESS_TARGET_PROCS</a>;</div>
<div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;    });</div>
<div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160; </div>
<div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;    <span class="comment">// Roar of Sacrifice</span></div>
<div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 53480 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;    {</div>
<div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;        spellInfo-&gt;Effect[1] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>;</div>
<div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;        spellInfo-&gt;EffectApplyAuraName[1] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a71228de916b6c96108c7689f11d6303c">SPELL_AURA_SPLIT_DAMAGE_PCT</a>;</div>
<div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[1] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a626ebdc89eb6b2243936fb5f6a6edf98">TARGET_UNIT_TARGET_ALLY</a>;</div>
<div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;        spellInfo-&gt;EffectDieSides[1] = 1;</div>
<div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;        spellInfo-&gt;EffectBasePoints[1] = 19;</div>
<div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;        spellInfo-&gt;EffectMiscValue[1] = 127; <span class="comment">// all schools</span></div>
<div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;    });</div>
<div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160; </div>
<div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;    <span class="comment">// Silencing Shot</span></div>
<div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 34490, 41084, 42671 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;    {</div>
<div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;        spellInfo-&gt;Speed = 0.0f;</div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;    });</div>
<div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160; </div>
<div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;    <span class="comment">// Monstrous Bite</span></div>
<div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 54680, 55495, 55496, 55497, 55498, 55499 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;    {</div>
<div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[1] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>;</div>
<div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;    });</div>
<div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160; </div>
<div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;    <span class="comment">// Hunter&#39;s Mark</span></div>
<div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 1130, 14323, 14324, 14325, 53338 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;    {</div>
<div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;        spellInfo-&gt;DmgClass = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a7443b708d5bd7312fc0a420679ae10a4a44c25232e532dcd5a47b225f2e531093">SPELL_DAMAGE_CLASS_MAGIC</a>;</div>
<div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a>;</div>
<div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;    });</div>
<div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160; </div>
<div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;    <span class="comment">// Cobra Strikes</span></div>
<div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 53257 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;    {</div>
<div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;        spellInfo-&gt;ProcCharges = 2;</div>
<div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;        spellInfo-&gt;StackAmount = 0;</div>
<div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;    });</div>
<div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160; </div>
<div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;    <span class="comment">// Kill Command</span></div>
<div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 34027 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;    {</div>
<div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;        spellInfo-&gt;ProcCharges = 0;</div>
<div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;    });</div>
<div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160; </div>
<div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;    <span class="comment">// Kindred Spirits, damage aura</span></div>
<div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 57458 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;    {</div>
<div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;        spellInfo-&gt;AttributesEx4 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#aec1a0b3970de527f109db7fb8b7df5b6a5c5365d0d28e6cd6d5a9475e06676458">SPELL_ATTR4_ALLOW_ENETRING_ARENA</a>;</div>
<div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;    });</div>
<div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160; </div>
<div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;    <span class="comment">// Chimera Shot - Serpent trigger</span></div>
<div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 53353 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;    {</div>
<div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81af803e1e3c27f800be5855d258135fbff">SPELL_ATTR3_IGNORE_CASTER_MODIFIERS</a>;</div>
<div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;    });</div>
<div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160; </div>
<div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;    <span class="comment">// Entrapment trigger</span></div>
<div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 19185, 64803, 64804 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;    {</div>
<div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a85d8f0e6d574cf640ec0c42b54e2ad3c">TARGET_DEST_TARGET_ENEMY</a>;</div>
<div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a423eed54c405c7e51816127214e8ea82">TARGET_UNIT_DEST_AREA_ENEMY</a>;</div>
<div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;        spellInfo-&gt;AttributesEx5 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a376aa62261a98289589839b821786adaab0527496eccfcafc34a8a49f74d9afbd">SPELL_ATTR5_ALWAYS_AOE_LINE_OF_SIGHT</a>;</div>
<div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;    });</div>
<div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160; </div>
<div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;    <span class="comment">// Improved Stings (Rank 2)</span></div>
<div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 19465 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;    {</div>
<div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77af927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>;</div>
<div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;    });</div>
<div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160; </div>
<div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;    <span class="comment">// Heart of the Phoenix (triggered)</span></div>
<div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 54114 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;    {</div>
<div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;        spellInfo-&gt;AttributesEx &amp;= ~<a class="code" href="../../df/d0b/_shared_defines_8h.html#a638f8f550e23b2e3180b481bb3f38076ae0373a9ba8029f5d19493a0f76d6bfcc">SPELL_ATTR1_DISMISS_PET_FIRST</a>;</div>
<div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;        spellInfo-&gt;RecoveryTime = 8 * 60 * <a class="code" href="../../db/d1f/_common_8h.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a>; <span class="comment">// prev 600000</span></div>
<div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;    });</div>
<div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160; </div>
<div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;    <span class="comment">// Master of Subtlety</span></div>
<div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 31221, 31222, 31223 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;    {</div>
<div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;        spellInfo-&gt;SpellFamilyName = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba9160b2e3a87a908af25c9a594295c0c1">SPELLFAMILY_ROGUE</a>;</div>
<div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;    });</div>
<div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160; </div>
<div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;        31666,  <span class="comment">// Master of Subtlety triggers</span></div>
<div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;        58428   <span class="comment">// Overkill</span></div>
<div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;    {</div>
<div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;        spellInfo-&gt;Effect[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a078f855df3793531cf8efdef80967cba">SPELL_EFFECT_SCRIPT_EFFECT</a>;</div>
<div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;    });</div>
<div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160; </div>
<div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;    <span class="comment">// Honor Among Thieves</span></div>
<div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 51698, 51700, 51701 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;    {</div>
<div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;        spellInfo-&gt;EffectTriggerSpell[0] = 51699;</div>
<div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;    });</div>
<div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160; </div>
<div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;        5171,   <span class="comment">// Slice and Dice</span></div>
<div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;        6774,   <span class="comment">// Slice and Dice</span></div>
<div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;        1725    <span class="comment">// Distract</span></div>
<div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;    {</div>
<div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81acdc9f1610f2a4cd247669ddb7497aa48">SPELL_ATTR3_SUPRESS_TARGET_PROCS</a>;</div>
<div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;    });</div>
<div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160; </div>
<div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;    <span class="comment">// Envenom</span></div>
<div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 32645, 32684, 57992, 57993 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;    {</div>
<div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;        spellInfo-&gt;Dispel = <a class="code" href="../../df/d0b/_shared_defines_8h.html#ada2b5e66b650d7a63f70c06a746070d1a71382806b5f961e5a04f6d06a97a1195">DISPEL_NONE</a>;</div>
<div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;    });</div>
<div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160; </div>
<div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;        64014,  <span class="comment">// Expedition Base Camp Teleport</span></div>
<div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;        64032,  <span class="comment">// Formation Grounds Teleport</span></div>
<div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;        64028,  <span class="comment">// Colossal Forge Teleport</span></div>
<div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;        64031,  <span class="comment">// Scrapyard Teleport</span></div>
<div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;        64030,  <span class="comment">// Antechamber Teleport</span></div>
<div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;        64029,  <span class="comment">// Shattered Walkway Teleport</span></div>
<div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;        64024,  <span class="comment">// Conservatory Teleport</span></div>
<div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;        64025,  <span class="comment">// Halls of Invention Teleport</span></div>
<div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;        65042   <span class="comment">// Prison of Yogg-Saron Teleport</span></div>
<div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;    {</div>
<div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77a8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a26506da78f6a6950f7ac66718b775817">TARGET_DEST_DB</a>;</div>
<div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;    });</div>
<div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160; </div>
<div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;    <span class="comment">// Killing Spree (teleport)</span></div>
<div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 57840 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;    {</div>
<div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;        spellInfo-&gt;RangeIndex = 6; <span class="comment">// 100 yards</span></div>
<div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;    });</div>
<div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160; </div>
<div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;    <span class="comment">// Killing Spree</span></div>
<div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 51690 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;    {</div>
<div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;        spellInfo-&gt;AttributesEx |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a638f8f550e23b2e3180b481bb3f38076a59ca425969878e61a40a8337878c1933">SPELL_ATTR1_ALLOW_WHILE_STEALTHED</a>;</div>
<div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;    });</div>
<div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160; </div>
<div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;    <span class="comment">// Blood Tap visual cd reset</span></div>
<div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 47804 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;    {</div>
<div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;        spellInfo-&gt;Effect[2] = 0;</div>
<div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;        spellInfo-&gt;Effect[1] = 0;</div>
<div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;        spellInfo-&gt;RuneCostID = 442;</div>
<div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;    });</div>
<div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160; </div>
<div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;    <span class="comment">// Chains of Ice</span></div>
<div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 45524 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;    {</div>
<div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;        spellInfo-&gt;Effect[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77af927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>] = 0;</div>
<div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;    });</div>
<div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160; </div>
<div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;    <span class="comment">// Impurity</span></div>
<div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 49220, 49633, 49635, 49636, 49638 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;    {</div>
<div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;        spellInfo-&gt;Effect[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>;</div>
<div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;        spellInfo-&gt;EffectApplyAuraName[0] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a66cca11731d68512cb0bb652cb1e7caf">SPELL_AURA_DUMMY</a>;</div>
<div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>;</div>
<div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;        spellInfo-&gt;SpellFamilyName = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1badc34b27f2cd523716d80c51d4e1d6f02">SPELLFAMILY_DEATHKNIGHT</a>;</div>
<div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;    });</div>
<div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160; </div>
<div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;    <span class="comment">// Deadly Aggression (Deadly Gladiator&#39;s Death Knight Relic, item: 42620)</span></div>
<div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 60549 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;    {</div>
<div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;        spellInfo-&gt;Effect[1] = 0;</div>
<div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;    });</div>
<div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160; </div>
<div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;    <span class="comment">// Magic Suppression</span></div>
<div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 49224, 49610, 49611 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;    {</div>
<div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;        spellInfo-&gt;ProcCharges = 0;</div>
<div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;    });</div>
<div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160; </div>
<div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;    <span class="comment">// Wandering Plague</span></div>
<div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 50526 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;    {</div>
<div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81af803e1e3c27f800be5855d258135fbff">SPELL_ATTR3_IGNORE_CASTER_MODIFIERS</a>;</div>
<div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81acdc9f1610f2a4cd247669ddb7497aa48">SPELL_ATTR3_SUPRESS_TARGET_PROCS</a>;</div>
<div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;    });</div>
<div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160; </div>
<div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;    <span class="comment">// Dancing Rune Weapon</span></div>
<div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 49028 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;    {</div>
<div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;        spellInfo-&gt;Effect[2] = 0;</div>
<div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;        spellInfo-&gt;ProcFlags |= <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a62b453b99197db2931efaae9c3f7efbc">PROC_FLAG_DONE_MELEE_AUTO_ATTACK</a>;</div>
<div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;    });</div>
<div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160; </div>
<div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;    <span class="comment">// Death and Decay</span></div>
<div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 52212 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;    {</div>
<div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;        spellInfo-&gt;AttributesEx2 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;        spellInfo-&gt;AttributesEx6 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#afc0226d0611e178e6edb4d2776e03094a78992c0cb395380959dea6189150d8bb">SPELL_ATTR6_IGNORE_PHASE_SHIFT</a>;</div>
<div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;    });</div>
<div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160; </div>
<div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;    <span class="comment">// T9 blood plague crit bonus</span></div>
<div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 67118 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;    {</div>
<div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;        spellInfo-&gt;Effect[1] = 0;</div>
<div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;    });</div>
<div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160; </div>
<div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;    <span class="comment">// Pestilence</span></div>
<div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 50842 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;    {</div>
<div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[2] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a85d8f0e6d574cf640ec0c42b54e2ad3c">TARGET_DEST_TARGET_ENEMY</a>;</div>
<div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;    });</div>
<div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160; </div>
<div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;    <span class="comment">// Horn of Winter, stacking issues</span></div>
<div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 57330, 57623 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;    {</div>
<div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[1] = 0;</div>
<div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;    });</div>
<div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160; </div>
<div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;    <span class="comment">// Scourge Strike trigger</span></div>
<div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 70890 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;    {</div>
<div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81ac2986782f66a992ba3ff45797716f716">SPELL_ATTR3_SUPRESS_CASTER_PROCS</a>;</div>
<div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;    });</div>
<div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160; </div>
<div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;    <span class="comment">// Blood-caked Blade - Blood-caked Strike trigger</span></div>
<div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 50463 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;    {</div>
<div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81ac2986782f66a992ba3ff45797716f716">SPELL_ATTR3_SUPRESS_CASTER_PROCS</a>;</div>
<div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;    });</div>
<div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160; </div>
<div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;    <span class="comment">// Blood Gorged</span></div>
<div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 61274, 61275, 61276, 61277,61278 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;    {</div>
<div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;        <span class="comment">// ARP affect Death Strike and Rune Strike</span></div>
<div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;        spellInfo-&gt;EffectSpellClassMask[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../dc/dd4/classflag96.html">flag96</a>(0x1400011, 0x20000000, 0x0);</div>
<div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;    });</div>
<div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160; </div>
<div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;    <span class="comment">// Death Grip</span></div>
<div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 49576, 49560 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;    {</div>
<div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;        <span class="comment">// remove main grip mechanic, leave only effect one</span></div>
<div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;        <span class="comment">//  should fix taunt on bosses and not break the pull protection at the same time (no aura provides immunity to grip mechanic)</span></div>
<div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;        spellInfo-&gt;Mechanic = 0;</div>
<div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;    });</div>
<div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160; </div>
<div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;    <span class="comment">// Death Grip Jump Dest</span></div>
<div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 57604 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;    {</div>
<div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;        spellInfo-&gt;AttributesEx2 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;    });</div>
<div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160; </div>
<div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;    <span class="comment">// Death Pact</span></div>
<div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 48743 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;    {</div>
<div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;        spellInfo-&gt;AttributesEx &amp;= ~<a class="code" href="../../df/d0b/_shared_defines_8h.html#a638f8f550e23b2e3180b481bb3f38076a4046bd467f3727369dcbc06e1d5f2b8f">SPELL_ATTR1_EXCLUDE_CASTER</a>;</div>
<div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;    });</div>
<div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160; </div>
<div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;    <span class="comment">// Raise Ally (trigger)</span></div>
<div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 46619 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;    {</div>
<div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;        spellInfo-&gt;Attributes &amp;= ~<a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada74e8efc0492288577083b1cc470e48c4">SPELL_ATTR0_NO_AURA_CANCEL</a>;</div>
<div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;    });</div>
<div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160; </div>
<div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;    <span class="comment">// Frost Strike</span></div>
<div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 49143, 51416, 51417, 51418, 51419, 55268 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;    {</div>
<div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81aee1cef82ec80ed50232026a07405804a">SPELL_ATTR3_COMPLETELY_BLOCKED</a>;</div>
<div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;    });</div>
<div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160; </div>
<div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;    <span class="comment">// Death Knight T10 Tank 2p Bonus</span></div>
<div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 70650 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;    {</div>
<div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;        spellInfo-&gt;EffectApplyAuraName[0] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a2c530c4b7d2f3b77f65f62395bda9c4a">SPELL_AURA_ADD_PCT_MODIFIER</a>;</div>
<div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;    });</div>
<div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160; </div>
<div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 45297, 45284 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;    {</div>
<div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;        spellInfo-&gt;CategoryRecoveryTime = 0;</div>
<div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;        spellInfo-&gt;RecoveryTime = 0;</div>
<div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;        spellInfo-&gt;AttributesEx6 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#afc0226d0611e178e6edb4d2776e03094a653a9dadab0c249ed232ecda87dd833f">SPELL_ATTR6_IGNORE_CASTER_DAMAGE_MODIFIERS</a>;</div>
<div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;    });</div>
<div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160; </div>
<div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;    <span class="comment">// Improved Earth Shield</span></div>
<div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 51560, 51561 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;    {</div>
<div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;        spellInfo-&gt;EffectMiscValue[1] = <a class="code" href="../../d5/d32/_unit_8h.html#a39b60e1f12cca9b6873cb817e7717351a0df5b1482e6dd01af433e9e95fbae0f3">SPELLMOD_DAMAGE</a>;</div>
<div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;    });</div>
<div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160; </div>
<div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;    <span class="comment">// Tidal Force</span></div>
<div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 55166, 55198 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;    {</div>
<div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;        spellInfo-&gt;DurationIndex = 18;</div>
<div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;        spellInfo-&gt;ProcCharges = 0;</div>
<div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;    });</div>
<div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160; </div>
<div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;    <span class="comment">// Healing Stream Totem</span></div>
<div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 52042 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;    {</div>
<div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;        spellInfo-&gt;SpellLevel = 0;</div>
<div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;        spellInfo-&gt;BaseLevel = 0;</div>
<div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;        spellInfo-&gt;DmgClass = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a7443b708d5bd7312fc0a420679ae10a4a44c25232e532dcd5a47b225f2e531093">SPELL_DAMAGE_CLASS_MAGIC</a>;</div>
<div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;    });</div>
<div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160; </div>
<div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;    <span class="comment">// Earth Shield</span></div>
<div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 379 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;    {</div>
<div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;        spellInfo-&gt;SpellLevel = 0;</div>
<div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;        spellInfo-&gt;BaseLevel = 0;</div>
<div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;        spellInfo-&gt;DmgClass = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a7443b708d5bd7312fc0a420679ae10a4a44c25232e532dcd5a47b225f2e531093">SPELL_DAMAGE_CLASS_MAGIC</a>;</div>
<div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81af803e1e3c27f800be5855d258135fbff">SPELL_ATTR3_IGNORE_CASTER_MODIFIERS</a>;</div>
<div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;    });</div>
<div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160; </div>
<div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;    <span class="comment">// Stormstrike</span></div>
<div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 17364 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;    {</div>
<div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67">SPELL_ATTR3_DOT_STACKING_RULE</a>;</div>
<div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;    });</div>
<div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160; </div>
<div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;    <span class="comment">// Strength of Earth totem effect</span></div>
<div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 8076, 8162, 8163, 10441, 25362, 25527, 57621, 58646 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;    {</div>
<div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;        spellInfo-&gt;EffectRadiusIndex[1] = spellInfo-&gt;EffectRadiusIndex[0];</div>
<div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;        spellInfo-&gt;EffectRadiusIndex[2] = spellInfo-&gt;EffectRadiusIndex[0];</div>
<div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;    });</div>
<div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160; </div>
<div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;    <span class="comment">// Flametongue Totem effect</span></div>
<div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 52109, 52110, 52111, 52112, 52113, 58651, 58654, 58655 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160;    {</div>
<div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[2] = spellInfo-&gt;EffectImplicitTargetB[1] = spellInfo-&gt;EffectImplicitTargetB[0] = 0;</div>
<div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[2] = spellInfo-&gt;EffectImplicitTargetA[1] = spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>;</div>
<div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;    });</div>
<div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160; </div>
<div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;    <span class="comment">// Sentry Totem</span></div>
<div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 6495 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;    {</div>
<div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = 0;</div>
<div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;    });</div>
<div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160; </div>
<div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;    <span class="comment">// Bind Sight (PT)</span></div>
<div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 6277 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;    {</div>
<div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;        <span class="comment">// because it is passive, needs this to be properly removed at death in RemoveAllAurasOnDeath()</span></div>
<div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;        spellInfo-&gt;AttributesEx &amp;= ~<a class="code" href="../../df/d0b/_shared_defines_8h.html#a638f8f550e23b2e3180b481bb3f38076a493b6dc822a0de07fbd0dd07dbefb73a">SPELL_ATTR1_IS_CHANNELED</a>;</div>
<div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;        spellInfo-&gt;Attributes |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada407e023ed336f3c64aa20f11dd49f6bd">SPELL_ATTR0_PASSIVE</a>;</div>
<div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;        spellInfo-&gt;AttributesEx7 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a25ff5d34ce79433dfc852484cef1d47dae4d6434b5dceff532ff803a94f7b57c3">SPELL_ATTR7_DISABLE_AURA_WHILE_DEAD</a>;</div>
<div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;    });</div>
<div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160; </div>
<div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;    <span class="comment">// Ancestral Awakening Heal</span></div>
<div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 52752 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;    {</div>
<div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81af803e1e3c27f800be5855d258135fbff">SPELL_ATTR3_IGNORE_CASTER_MODIFIERS</a>;</div>
<div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;    });</div>
<div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160; </div>
<div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;    <span class="comment">// Heroism</span></div>
<div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 32182 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;    {</div>
<div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;        spellInfo-&gt;ExcludeTargetAuraSpell = 57723; <span class="comment">// Exhaustion</span></div>
<div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160;        spellInfo-&gt;AttributesEx2 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;    });</div>
<div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160; </div>
<div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;    <span class="comment">// Bloodlust</span></div>
<div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 2825 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160;    {</div>
<div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;        spellInfo-&gt;ExcludeTargetAuraSpell = 57724; <span class="comment">// Sated</span></div>
<div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;        spellInfo-&gt;AttributesEx2 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;    });</div>
<div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160; </div>
<div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;    <span class="comment">// Improved Succubus</span></div>
<div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 18754, 18755, 18756 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;    {</div>
<div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>;</div>
<div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;    });</div>
<div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160; </div>
<div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;    <span class="comment">// Unstable Affliction</span></div>
<div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 31117 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160;    {</div>
<div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;        spellInfo-&gt;PreventionType = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a3194644c6ed7acd85ec8eb1b98821b8eab3aa650b1b206f5968ed28e76fe83c18">SPELL_PREVENTION_TYPE_NONE</a>;</div>
<div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;    });</div>
<div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160; </div>
<div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;    <span class="comment">// Shadowflame - trigger</span></div>
<div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;        47960,  <span class="comment">// r1</span></div>
<div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;        61291   <span class="comment">// r2</span></div>
<div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;    {</div>
<div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;        spellInfo-&gt;AttributesEx |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a638f8f550e23b2e3180b481bb3f38076aff8f5208b6bab753ec0cb8d8ccff67eb">SPELL_ATTR1_NO_REDIRECTION</a>;</div>
<div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160;    });</div>
<div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160; </div>
<div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160;    <span class="comment">// Curse of Doom</span></div>
<div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 18662 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;    {</div>
<div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;        <span class="comment">// summoned doomguard duration fix</span></div>
<div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;        spellInfo-&gt;DurationIndex = 6;</div>
<div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;    });</div>
<div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160; </div>
<div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;    <span class="comment">// Glyph of Voidwalker</span></div>
<div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 56247 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160;    {</div>
<div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160;        spellInfo-&gt;EffectApplyAuraName[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a50563ee6555455f041b81ce199ad1a4f">SPELL_AURA_ADD_FLAT_MODIFIER</a>;</div>
<div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;        spellInfo-&gt;EffectMiscValue[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../d5/d32/_unit_8h.html#a39b60e1f12cca9b6873cb817e7717351ab97b462651ee3567f2c518bd09e74e9e">SPELLMOD_EFFECT1</a>;</div>
<div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160;        spellInfo-&gt;EffectSpellClassMask[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../dc/dd4/classflag96.html">flag96</a>(0x8000000, 0, 0);</div>
<div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;    });</div>
<div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160; </div>
<div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;    <span class="comment">// Everlasting Affliction</span></div>
<div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 47201, 47202, 47203, 47204, 47205 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;    {</div>
<div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160;        spellInfo-&gt;EffectSpellClassMask[1][0] |= 2; <span class="comment">// add corruption to affected spells</span></div>
<div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160;    });</div>
<div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160; </div>
<div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160;    <span class="comment">// Death&#39;s Embrace</span></div>
<div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 47198, 47199, 47200 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160;    {</div>
<div class="line"><a name="l04394"></a><span class="lineno"> 4394</span>&#160;        spellInfo-&gt;EffectSpellClassMask[1][0] |= 0x4000; <span class="comment">// include Drain Soul</span></div>
<div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;    });</div>
<div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160; </div>
<div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160;    <span class="comment">// Improved Demonic Tactics</span></div>
<div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 54347, 54348, 54349 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160;    {</div>
<div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;        spellInfo-&gt;Effect[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77a8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>] = spellInfo-&gt;Effect[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>];</div>
<div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160;        spellInfo-&gt;EffectApplyAuraName[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77a8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>] = spellInfo-&gt;EffectApplyAuraName[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>];</div>
<div class="line"><a name="l04402"></a><span class="lineno"> 4402</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77a8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>] = spellInfo-&gt;EffectImplicitTargetA[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>];</div>
<div class="line"><a name="l04403"></a><span class="lineno"> 4403</span>&#160;        spellInfo-&gt;EffectMiscValue[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../d5/d32/_unit_8h.html#a39b60e1f12cca9b6873cb817e7717351ab97b462651ee3567f2c518bd09e74e9e">SPELLMOD_EFFECT1</a>;</div>
<div class="line"><a name="l04404"></a><span class="lineno"> 4404</span>&#160;        spellInfo-&gt;EffectMiscValue[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77a8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>] = <a class="code" href="../../d5/d32/_unit_8h.html#a39b60e1f12cca9b6873cb817e7717351a0424ff84a813354eb36d6f6774bbacce">SPELLMOD_EFFECT2</a>;</div>
<div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;    });</div>
<div class="line"><a name="l04406"></a><span class="lineno"> 4406</span>&#160; </div>
<div class="line"><a name="l04407"></a><span class="lineno"> 4407</span>&#160;    <span class="comment">// Rain of Fire (Doomguard)</span></div>
<div class="line"><a name="l04408"></a><span class="lineno"> 4408</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 42227 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04409"></a><span class="lineno"> 4409</span>&#160;    {</div>
<div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;        spellInfo-&gt;Speed = 0.0f;</div>
<div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160;    });</div>
<div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160; </div>
<div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;    <span class="comment">// Ritual Enslavement</span></div>
<div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 22987 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160;    {</div>
<div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;        spellInfo-&gt;EffectApplyAuraName[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a7b5d0b48f9a7e84bf7a896602e8c66b9">SPELL_AURA_MOD_CHARM</a>;</div>
<div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160;    });</div>
<div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160; </div>
<div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160;    <span class="comment">// Combustion, make this passive</span></div>
<div class="line"><a name="l04420"></a><span class="lineno"> 4420</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 11129 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160;    {</div>
<div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;        spellInfo-&gt;Dispel = <a class="code" href="../../df/d0b/_shared_defines_8h.html#ada2b5e66b650d7a63f70c06a746070d1a71382806b5f961e5a04f6d06a97a1195">DISPEL_NONE</a>;</div>
<div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;    });</div>
<div class="line"><a name="l04424"></a><span class="lineno"> 4424</span>&#160; </div>
<div class="line"><a name="l04425"></a><span class="lineno"> 4425</span>&#160;    <span class="comment">// Magic Absorption</span></div>
<div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 29441, 29444 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160;    {</div>
<div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160;        spellInfo-&gt;SpellLevel = 0;</div>
<div class="line"><a name="l04429"></a><span class="lineno"> 4429</span>&#160;    });</div>
<div class="line"><a name="l04430"></a><span class="lineno"> 4430</span>&#160; </div>
<div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160;    <span class="comment">// Living Bomb</span></div>
<div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 44461, 55361, 55362 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;    {</div>
<div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81acdc9f1610f2a4cd247669ddb7497aa48">SPELL_ATTR3_SUPRESS_TARGET_PROCS</a>;</div>
<div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160;        spellInfo-&gt;AttributesEx4 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#aec1a0b3970de527f109db7fb8b7df5b6ad67c11c16b7239803ce216691ed50360">SPELL_ATTR4_REACTIVE_DAMAGE_PROC</a>;</div>
<div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160;    });</div>
<div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160; </div>
<div class="line"><a name="l04438"></a><span class="lineno"> 4438</span>&#160;    <span class="comment">// Evocation</span></div>
<div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 12051 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160;    {</div>
<div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160;        spellInfo-&gt;InterruptFlags |= <a class="code" href="../../d5/d32/_unit_8h.html#abadf2f982fd866917c372d16ab99c109a69ed081a90c21e0d86095c70de005dbb">SPELL_INTERRUPT_FLAG_INTERRUPT</a>;</div>
<div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;    });</div>
<div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160; </div>
<div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160;    <span class="comment">// MI Fireblast, WE Frostbolt, MI Frostbolt</span></div>
<div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 59637, 31707, 72898 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160;    {</div>
<div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160;        spellInfo-&gt;DmgClass = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a7443b708d5bd7312fc0a420679ae10a4a44c25232e532dcd5a47b225f2e531093">SPELL_DAMAGE_CLASS_MAGIC</a>;</div>
<div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160;    });</div>
<div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160; </div>
<div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160;    <span class="comment">// Blazing Speed</span></div>
<div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 31641, 31642 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160;    {</div>
<div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160;        spellInfo-&gt;EffectTriggerSpell[0] = 31643;</div>
<div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160;    });</div>
<div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160; </div>
<div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160;    <span class="comment">// Summon Water Elemental (permanent)</span></div>
<div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 70908 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160;    {</div>
<div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160;        <span class="comment">// treat it as pet</span></div>
<div class="line"><a name="l04460"></a><span class="lineno"> 4460</span>&#160;        spellInfo-&gt;Effect[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a0e77fe9c0e808131a2440afe38a856af">SPELL_EFFECT_SUMMON_PET</a>;</div>
<div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160;    });</div>
<div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160; </div>
<div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;    <span class="comment">// // Burnout, trigger</span></div>
<div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 44450 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160;    {</div>
<div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160;        spellInfo-&gt;Effect[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a0a43a6be2a57b573021530d45a1e367e">SPELL_EFFECT_POWER_BURN</a>;</div>
<div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;    });</div>
<div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160; </div>
<div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;    <span class="comment">// Mirror Image - Summon Spells</span></div>
<div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 58831, 58833, 58834, 65047 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;    {</div>
<div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152aaff4bf7194055bf177ba701c46cdcadb">TARGET_DEST_CASTER</a>;</div>
<div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;        spellInfo-&gt;EffectRadiusIndex[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = 0;</div>
<div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;    });</div>
<div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160; </div>
<div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160;    <span class="comment">// Initialize Images (Mirror Image)</span></div>
<div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 58836 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160;    {</div>
<div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77a8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>;</div>
<div class="line"><a name="l04480"></a><span class="lineno"> 4480</span>&#160;    });</div>
<div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160; </div>
<div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;    <span class="comment">// Arcane Blast, can&#39;t be dispelled</span></div>
<div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 36032 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160;    {</div>
<div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;        spellInfo-&gt;Attributes |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada6a12b14654225a9ccea65799ce6fc780">SPELL_ATTR0_NO_IMMUNITIES</a>;</div>
<div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160;    });</div>
<div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160; </div>
<div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;    <span class="comment">// Chilled (frost armor, ice armor proc)</span></div>
<div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 6136, 7321 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;    {</div>
<div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160;        spellInfo-&gt;PreventionType = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a3194644c6ed7acd85ec8eb1b98821b8eab3aa650b1b206f5968ed28e76fe83c18">SPELL_PREVENTION_TYPE_NONE</a>;</div>
<div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;    });</div>
<div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160; </div>
<div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160;    <span class="comment">// Mirror Image Frostbolt</span></div>
<div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 59638 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;    {</div>
<div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;        spellInfo-&gt;DmgClass = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a7443b708d5bd7312fc0a420679ae10a4a44c25232e532dcd5a47b225f2e531093">SPELL_DAMAGE_CLASS_MAGIC</a>;</div>
<div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160;        spellInfo-&gt;SpellFamilyName = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba0e4b88db8be01ea5d62cc08d07b28aae">SPELLFAMILY_MAGE</a>;</div>
<div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160;        spellInfo-&gt;SpellFamilyFlags = <a class="code" href="../../dc/dd4/classflag96.html">flag96</a>(0x20, 0x0, 0x0);</div>
<div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;    });</div>
<div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160; </div>
<div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;    <span class="comment">// Fingers of Frost</span></div>
<div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 44544 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;    {</div>
<div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;        spellInfo-&gt;Dispel = <a class="code" href="../../df/d0b/_shared_defines_8h.html#ada2b5e66b650d7a63f70c06a746070d1a71382806b5f961e5a04f6d06a97a1195">DISPEL_NONE</a>;</div>
<div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;        spellInfo-&gt;AttributesEx4 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#aec1a0b3970de527f109db7fb8b7df5b6ad292b675afe6f67c5524fb87701dbf59">SPELL_ATTR4_CANNOT_BE_STOLEN</a>;</div>
<div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;        spellInfo-&gt;EffectSpellClassMask[0] = <a class="code" href="../../dc/dd4/classflag96.html">flag96</a>(685904631, 1151040, 32);</div>
<div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;    });</div>
<div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160; </div>
<div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;    <span class="comment">// Fingers of Frost visual buff</span></div>
<div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 74396 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;    {</div>
<div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;        spellInfo-&gt;ProcCharges = 2;</div>
<div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;        spellInfo-&gt;StackAmount = 0;</div>
<div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;    });</div>
<div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160; </div>
<div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;    <span class="comment">// Glyph of blocking</span></div>
<div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 58375 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;    {</div>
<div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;        spellInfo-&gt;EffectTriggerSpell[0] = 58374;</div>
<div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;    });</div>
<div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160; </div>
<div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;    <span class="comment">// Sweeping Strikes stance change</span></div>
<div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 12328 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;    {</div>
<div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;        spellInfo-&gt;Attributes |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada181bc0f8031c0a2e477f0eb213ae3fc0">SPELL_ATTR0_NOT_SHAPESHIFTED</a>;</div>
<div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;    });</div>
<div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160; </div>
<div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;    <span class="comment">// Damage Shield</span></div>
<div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 59653 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;    {</div>
<div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;        spellInfo-&gt;DmgClass = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a7443b708d5bd7312fc0a420679ae10a4a44c25232e532dcd5a47b225f2e531093">SPELL_DAMAGE_CLASS_MAGIC</a>;</div>
<div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;        spellInfo-&gt;SpellLevel = 0;</div>
<div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;    });</div>
<div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160; </div>
<div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;        20230,  <span class="comment">// Retaliation</span></div>
<div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;        871,    <span class="comment">// Shield Wall</span></div>
<div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160;        1719    <span class="comment">// Recklessness</span></div>
<div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160;    {</div>
<div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160;        <span class="comment">// Strange shared cooldown</span></div>
<div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;        spellInfo-&gt;AttributesEx6 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#afc0226d0611e178e6edb4d2776e03094ac83bf4647c4ce691b6e207712e286c98">SPELL_ATTR6_NO_CATEGORY_COOLDOWN_MODS</a>;</div>
<div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;    });</div>
<div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160; </div>
<div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;    <span class="comment">// Vigilance</span></div>
<div class="line"><a name="l04547"></a><span class="lineno"> 4547</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 50720 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04548"></a><span class="lineno"> 4548</span>&#160;    {</div>
<div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160;        <span class="comment">// fixes bug with empowered renew, single target aura</span></div>
<div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160;        spellInfo-&gt;SpellFamilyName = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba52acbcf14a96b5ed01b8a43052a26a11">SPELLFAMILY_WARRIOR</a>;</div>
<div class="line"><a name="l04551"></a><span class="lineno"> 4551</span>&#160;    });</div>
<div class="line"><a name="l04552"></a><span class="lineno"> 4552</span>&#160; </div>
<div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160;    <span class="comment">// Sunder Armor - Old Ranks</span></div>
<div class="line"><a name="l04554"></a><span class="lineno"> 4554</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 7405, 8380, 11596, 11597, 25225, 47467 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04555"></a><span class="lineno"> 4555</span>&#160;    {</div>
<div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160;        spellInfo-&gt;EffectTriggerSpell[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = 11971;</div>
<div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160;        spellInfo-&gt;Effect[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a15015f3acf3dd811f2776d67f1991b50">SPELL_EFFECT_TRIGGER_SPELL_WITH_VALUE</a>;</div>
<div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160;    });</div>
<div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160; </div>
<div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160;    <span class="comment">// Improved Spell Reflection</span></div>
<div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 59725 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;    {</div>
<div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a29d2b1998be41c09ef3ee459c9208117">TARGET_UNIT_CASTER_AREA_PARTY</a>;</div>
<div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;    });</div>
<div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160; </div>
<div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;    <span class="comment">// Shadow Weaving</span></div>
<div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 15257, 15331, 15332 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160;    {</div>
<div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>;</div>
<div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160;        spellInfo-&gt;EffectApplyAuraName[0] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a3c6e04ab343a9f5ef767f8e8dd71af5b">SPELL_AURA_PROC_TRIGGER_SPELL</a>;</div>
<div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;    });</div>
<div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160; </div>
<div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160;    <span class="comment">// Hymn of Hope</span></div>
<div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 64904 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;    {</div>
<div class="line"><a name="l04576"></a><span class="lineno"> 4576</span>&#160;        <span class="comment">// rewrite part of aura system or swap effects...</span></div>
<div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160;        spellInfo-&gt;EffectApplyAuraName[1] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799aa6334836ea9df28bbb9637f5b4987030">SPELL_AURA_MOD_INCREASE_ENERGY_PERCENT</a>;</div>
<div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160;        spellInfo-&gt;Effect[2] = spellInfo-&gt;Effect[0];</div>
<div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160;        spellInfo-&gt;Effect[0] = 0;</div>
<div class="line"><a name="l04580"></a><span class="lineno"> 4580</span>&#160;        spellInfo-&gt;EffectDieSides[2] = spellInfo-&gt;EffectDieSides[0];</div>
<div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[2] = spellInfo-&gt;EffectImplicitTargetB[0];</div>
<div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;        spellInfo-&gt;EffectRadiusIndex[2] = spellInfo-&gt;EffectRadiusIndex[0];</div>
<div class="line"><a name="l04583"></a><span class="lineno"> 4583</span>&#160;        spellInfo-&gt;EffectBasePoints[2] = spellInfo-&gt;EffectBasePoints[0];</div>
<div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;    });</div>
<div class="line"><a name="l04585"></a><span class="lineno"> 4585</span>&#160; </div>
<div class="line"><a name="l04586"></a><span class="lineno"> 4586</span>&#160;    <span class="comment">// Divine Hymn</span></div>
<div class="line"><a name="l04587"></a><span class="lineno"> 4587</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 64844 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04588"></a><span class="lineno"> 4588</span>&#160;    {</div>
<div class="line"><a name="l04589"></a><span class="lineno"> 4589</span>&#160;        spellInfo-&gt;DmgClass = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a7443b708d5bd7312fc0a420679ae10a4a44c25232e532dcd5a47b225f2e531093">SPELL_DAMAGE_CLASS_MAGIC</a>;</div>
<div class="line"><a name="l04590"></a><span class="lineno"> 4590</span>&#160;        spellInfo-&gt;SpellLevel = 0;</div>
<div class="line"><a name="l04591"></a><span class="lineno"> 4591</span>&#160;    });</div>
<div class="line"><a name="l04592"></a><span class="lineno"> 4592</span>&#160; </div>
<div class="line"><a name="l04593"></a><span class="lineno"> 4593</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l04594"></a><span class="lineno"> 4594</span>&#160;        14898,  <span class="comment">// Spiritual Healing affects prayer of mending</span></div>
<div class="line"><a name="l04595"></a><span class="lineno"> 4595</span>&#160;        15349,</div>
<div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160;        15354,</div>
<div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160;        15355,</div>
<div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;        15356,</div>
<div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160;        47562,  <span class="comment">// Divine Providence affects prayer of mending</span></div>
<div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;        47564,</div>
<div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;        47565,</div>
<div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160;        47566,</div>
<div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;        47567,</div>
<div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160;        47586,  <span class="comment">// Twin Disciplines affects prayer of mending</span></div>
<div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;        47587,</div>
<div class="line"><a name="l04606"></a><span class="lineno"> 4606</span>&#160;        47588,</div>
<div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;        52802,</div>
<div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;        52803</div>
<div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04610"></a><span class="lineno"> 4610</span>&#160;    {</div>
<div class="line"><a name="l04611"></a><span class="lineno"> 4611</span>&#160;        spellInfo-&gt;EffectSpellClassMask[0][1] |= 0x20; <span class="comment">// prayer of mending</span></div>
<div class="line"><a name="l04612"></a><span class="lineno"> 4612</span>&#160;    });</div>
<div class="line"><a name="l04613"></a><span class="lineno"> 4613</span>&#160; </div>
<div class="line"><a name="l04614"></a><span class="lineno"> 4614</span>&#160;    <span class="comment">// Power Infusion</span></div>
<div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 10060 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160;    {</div>
<div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160;        <span class="comment">// hack to fix stacking with arcane power</span></div>
<div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;        spellInfo-&gt;Effect[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77af927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>;</div>
<div class="line"><a name="l04619"></a><span class="lineno"> 4619</span>&#160;        spellInfo-&gt;EffectApplyAuraName[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77af927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a2c530c4b7d2f3b77f65f62395bda9c4a">SPELL_AURA_ADD_PCT_MODIFIER</a>;</div>
<div class="line"><a name="l04620"></a><span class="lineno"> 4620</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77af927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a626ebdc89eb6b2243936fb5f6a6edf98">TARGET_UNIT_TARGET_ALLY</a>;</div>
<div class="line"><a name="l04621"></a><span class="lineno"> 4621</span>&#160;    });</div>
<div class="line"><a name="l04622"></a><span class="lineno"> 4622</span>&#160; </div>
<div class="line"><a name="l04623"></a><span class="lineno"> 4623</span>&#160;    <span class="comment">// Lifebloom final bloom</span></div>
<div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 33778 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160;    {</div>
<div class="line"><a name="l04626"></a><span class="lineno"> 4626</span>&#160;        spellInfo-&gt;DmgClass = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a7443b708d5bd7312fc0a420679ae10a4a44c25232e532dcd5a47b225f2e531093">SPELL_DAMAGE_CLASS_MAGIC</a>;</div>
<div class="line"><a name="l04627"></a><span class="lineno"> 4627</span>&#160;        spellInfo-&gt;SpellLevel = 0;</div>
<div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160;        spellInfo-&gt;SpellFamilyFlags = <a class="code" href="../../dc/dd4/classflag96.html">flag96</a>(0, 0x10, 0);</div>
<div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160;    });</div>
<div class="line"><a name="l04630"></a><span class="lineno"> 4630</span>&#160; </div>
<div class="line"><a name="l04631"></a><span class="lineno"> 4631</span>&#160;    <span class="comment">// Owlkin Frenzy</span></div>
<div class="line"><a name="l04632"></a><span class="lineno"> 4632</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 48391 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04633"></a><span class="lineno"> 4633</span>&#160;    {</div>
<div class="line"><a name="l04634"></a><span class="lineno"> 4634</span>&#160;        spellInfo-&gt;Attributes |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada181bc0f8031c0a2e477f0eb213ae3fc0">SPELL_ATTR0_NOT_SHAPESHIFTED</a>;</div>
<div class="line"><a name="l04635"></a><span class="lineno"> 4635</span>&#160;    });</div>
<div class="line"><a name="l04636"></a><span class="lineno"> 4636</span>&#160; </div>
<div class="line"><a name="l04637"></a><span class="lineno"> 4637</span>&#160;    <span class="comment">// Item T10 Restoration 4P Bonus</span></div>
<div class="line"><a name="l04638"></a><span class="lineno"> 4638</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 70691 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160;    {</div>
<div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81af803e1e3c27f800be5855d258135fbff">SPELL_ATTR3_IGNORE_CASTER_MODIFIERS</a>;</div>
<div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160;    });</div>
<div class="line"><a name="l04642"></a><span class="lineno"> 4642</span>&#160; </div>
<div class="line"><a name="l04643"></a><span class="lineno"> 4643</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160;        770,    <span class="comment">// Faerie Fire</span></div>
<div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160;        16857   <span class="comment">// Faerie Fire (Feral)</span></div>
<div class="line"><a name="l04646"></a><span class="lineno"> 4646</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04647"></a><span class="lineno"> 4647</span>&#160;    {</div>
<div class="line"><a name="l04648"></a><span class="lineno"> 4648</span>&#160;        spellInfo-&gt;AttributesEx &amp;= ~<a class="code" href="../../df/d0b/_shared_defines_8h.html#a638f8f550e23b2e3180b481bb3f38076ad6ab59406384bca17293f5238c13bbbf">SPELL_ATTR1_IMMUNITY_TO_HOSTILE_AND_FRIENDLY_EFFECTS</a>;</div>
<div class="line"><a name="l04649"></a><span class="lineno"> 4649</span>&#160;    });</div>
<div class="line"><a name="l04650"></a><span class="lineno"> 4650</span>&#160; </div>
<div class="line"><a name="l04651"></a><span class="lineno"> 4651</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 49376 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04652"></a><span class="lineno"> 4652</span>&#160;    {</div>
<div class="line"><a name="l04653"></a><span class="lineno"> 4653</span>&#160;        spellInfo-&gt;EffectRadiusIndex[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77a8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6a84f16c69f55cca8b4fdde0c6778d9912">EFFECT_RADIUS_3_YARDS</a>; <span class="comment">// 3yd</span></div>
<div class="line"><a name="l04654"></a><span class="lineno"> 4654</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81acdc9f1610f2a4cd247669ddb7497aa48">SPELL_ATTR3_SUPRESS_TARGET_PROCS</a>;</div>
<div class="line"><a name="l04655"></a><span class="lineno"> 4655</span>&#160;    });</div>
<div class="line"><a name="l04656"></a><span class="lineno"> 4656</span>&#160; </div>
<div class="line"><a name="l04657"></a><span class="lineno"> 4657</span>&#160;    <span class="comment">// Feral Charge - Cat</span></div>
<div class="line"><a name="l04658"></a><span class="lineno"> 4658</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 61138, 61132, 50259 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04659"></a><span class="lineno"> 4659</span>&#160;    {</div>
<div class="line"><a name="l04660"></a><span class="lineno"> 4660</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81acdc9f1610f2a4cd247669ddb7497aa48">SPELL_ATTR3_SUPRESS_TARGET_PROCS</a>;</div>
<div class="line"><a name="l04661"></a><span class="lineno"> 4661</span>&#160;    });</div>
<div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160; </div>
<div class="line"><a name="l04663"></a><span class="lineno"> 4663</span>&#160;    <span class="comment">// Glyph of Barkskin</span></div>
<div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 63058 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04665"></a><span class="lineno"> 4665</span>&#160;    {</div>
<div class="line"><a name="l04666"></a><span class="lineno"> 4666</span>&#160;        spellInfo-&gt;EffectApplyAuraName[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a7dffb8e20e91a710ae9d4a2c804bcb6e">SPELL_AURA_MOD_ATTACKER_MELEE_CRIT_CHANCE</a>;</div>
<div class="line"><a name="l04667"></a><span class="lineno"> 4667</span>&#160;    });</div>
<div class="line"><a name="l04668"></a><span class="lineno"> 4668</span>&#160; </div>
<div class="line"><a name="l04669"></a><span class="lineno"> 4669</span>&#160;    <span class="comment">// Resurrection Sickness</span></div>
<div class="line"><a name="l04670"></a><span class="lineno"> 4670</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 15007 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04671"></a><span class="lineno"> 4671</span>&#160;    {</div>
<div class="line"><a name="l04672"></a><span class="lineno"> 4672</span>&#160;        spellInfo-&gt;SpellFamilyName = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba0ebbb6206eb92cdc484b416eb6f41743">SPELLFAMILY_GENERIC</a>;</div>
<div class="line"><a name="l04673"></a><span class="lineno"> 4673</span>&#160;    });</div>
<div class="line"><a name="l04674"></a><span class="lineno"> 4674</span>&#160; </div>
<div class="line"><a name="l04675"></a><span class="lineno"> 4675</span>&#160;    <span class="comment">// Luck of the Draw</span></div>
<div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 72221 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04677"></a><span class="lineno"> 4677</span>&#160;    {</div>
<div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160;        spellInfo-&gt;AuraInterruptFlags |= <a class="code" href="../../d5/d32/_unit_8h.html#a0709fc3ab848cf1b8b4853813b8fe011addd23de47de1322a4cc921e361bc6dd8">AURA_INTERRUPT_FLAG_CHANGE_MAP</a>;</div>
<div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160;    });</div>
<div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160; </div>
<div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160;    <span class="comment">// Bind</span></div>
<div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 3286 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;    {</div>
<div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;        spellInfo-&gt;Targets = 0; <span class="comment">// neutral innkeepers not friendly?</span></div>
<div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>;</div>
<div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[1] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>;</div>
<div class="line"><a name="l04687"></a><span class="lineno"> 4687</span>&#160;    });</div>
<div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160; </div>
<div class="line"><a name="l04689"></a><span class="lineno"> 4689</span>&#160;    <span class="comment">// Playback Speech</span></div>
<div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 74209 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04691"></a><span class="lineno"> 4691</span>&#160;    {</div>
<div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160;        spellInfo-&gt;DurationIndex = 1;</div>
<div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;    });</div>
<div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160; </div>
<div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160;        2641, <span class="comment">// Dismiss Pet</span></div>
<div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160;        23356 <span class="comment">// Taming Lesson</span></div>
<div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04699"></a><span class="lineno"> 4699</span>&#160;    {</div>
<div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;        <span class="comment">// remove creaturetargettype</span></div>
<div class="line"><a name="l04701"></a><span class="lineno"> 4701</span>&#160;        spellInfo-&gt;TargetCreatureType = 0;</div>
<div class="line"><a name="l04702"></a><span class="lineno"> 4702</span>&#160;    });</div>
<div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160; </div>
<div class="line"><a name="l04704"></a><span class="lineno"> 4704</span>&#160;    <span class="comment">// Aspect of the Viper</span></div>
<div class="line"><a name="l04705"></a><span class="lineno"> 4705</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 34074 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04706"></a><span class="lineno"> 4706</span>&#160;    {</div>
<div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160;        spellInfo-&gt;Effect[2] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>;</div>
<div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[2] = 1;</div>
<div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160;        spellInfo-&gt;EffectApplyAuraName[2] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a66cca11731d68512cb0bb652cb1e7caf">SPELL_AURA_DUMMY</a>;</div>
<div class="line"><a name="l04710"></a><span class="lineno"> 4710</span>&#160;    });</div>
<div class="line"><a name="l04711"></a><span class="lineno"> 4711</span>&#160; </div>
<div class="line"><a name="l04712"></a><span class="lineno"> 4712</span>&#160;    <span class="comment">// Strength of Wrynn</span></div>
<div class="line"><a name="l04713"></a><span class="lineno"> 4713</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 60509 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04714"></a><span class="lineno"> 4714</span>&#160;    {</div>
<div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160;        spellInfo-&gt;EffectBasePoints[2] = 1500;</div>
<div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;        spellInfo-&gt;EffectBasePoints[1] = 150;</div>
<div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160;        spellInfo-&gt;EffectApplyAuraName[1] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a6442a4a379f82e2f08734296e1e21c9f">SPELL_AURA_PERIODIC_HEAL</a>;</div>
<div class="line"><a name="l04718"></a><span class="lineno"> 4718</span>&#160;    });</div>
<div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160; </div>
<div class="line"><a name="l04720"></a><span class="lineno"> 4720</span>&#160;    <span class="comment">// Winterfin First Responder</span></div>
<div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 48739 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160;    {</div>
<div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;        spellInfo-&gt;EffectBasePoints[0] = 1;</div>
<div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160;        spellInfo-&gt;EffectRealPointsPerLevel[0] = 0;</div>
<div class="line"><a name="l04725"></a><span class="lineno"> 4725</span>&#160;        spellInfo-&gt;EffectDieSides[0] = 0;</div>
<div class="line"><a name="l04726"></a><span class="lineno"> 4726</span>&#160;        spellInfo-&gt;EffectDamageMultiplier[0] = 0;</div>
<div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160;        spellInfo-&gt;EffectBonusMultiplier[0] = 0;</div>
<div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;    });</div>
<div class="line"><a name="l04729"></a><span class="lineno"> 4729</span>&#160; </div>
<div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160;    <span class="comment">// Army of the Dead (trigger npc aura)</span></div>
<div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 49099 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;    {</div>
<div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160;        spellInfo-&gt;EffectAmplitude[0] = 15000;</div>
<div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;    });</div>
<div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160; </div>
<div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;    <span class="comment">// Isle of Conquest</span></div>
<div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 66551 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04738"></a><span class="lineno"> 4738</span>&#160;    {</div>
<div class="line"><a name="l04739"></a><span class="lineno"> 4739</span>&#160;        <span class="comment">// Teleport in, missing range</span></div>
<div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160;        spellInfo-&gt;RangeIndex = 13; <span class="comment">// 50000yd</span></div>
<div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;    });</div>
<div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160; </div>
<div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;    <span class="comment">// A&#39;dal&#39;s Song of Battle</span></div>
<div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 39953 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;    {</div>
<div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152aee8705374ad45df671cbba17e5614ca3">TARGET_SRC_CASTER</a>;</div>
<div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77a8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152aee8705374ad45df671cbba17e5614ca3">TARGET_SRC_CASTER</a>;</div>
<div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77af927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152aee8705374ad45df671cbba17e5614ca3">TARGET_SRC_CASTER</a>;</div>
<div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a5636479f4e747c35d6eab829ac5ba6c1">TARGET_UNIT_SRC_AREA_ALLY</a>;</div>
<div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77a8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a5636479f4e747c35d6eab829ac5ba6c1">TARGET_UNIT_SRC_AREA_ALLY</a>;</div>
<div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77af927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a5636479f4e747c35d6eab829ac5ba6c1">TARGET_UNIT_SRC_AREA_ALLY</a>;</div>
<div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160;        spellInfo-&gt;DurationIndex = 367; <span class="comment">// 2 Hours</span></div>
<div class="line"><a name="l04753"></a><span class="lineno"> 4753</span>&#160;    });</div>
<div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160; </div>
<div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160;        57607,  <span class="comment">// WintergraspCatapult - Spell Plague Barrel - EffectRadiusIndex</span></div>
<div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;        57619,  <span class="comment">// WintergraspDemolisher - Spell Hourl Boulder - EffectRadiusIndex</span></div>
<div class="line"><a name="l04758"></a><span class="lineno"> 4758</span>&#160;        57610   <span class="comment">// Cannon (Siege Turret)</span></div>
<div class="line"><a name="l04759"></a><span class="lineno"> 4759</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;    {</div>
<div class="line"><a name="l04761"></a><span class="lineno"> 4761</span>&#160;        spellInfo-&gt;EffectRadiusIndex[1] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6a7127bc77ddfb8193b045d89e73b367ec">EFFECT_RADIUS_25_YARDS</a>; <span class="comment">// SPELL_EFFECT_WMO_DAMAGE</span></div>
<div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160;    });</div>
<div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160; </div>
<div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160;    <span class="comment">// WintergraspCannon - Spell Fire Cannon - EffectRadiusIndex</span></div>
<div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 51422 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160;    {</div>
<div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6ac408444e6d66c0845a141ca461eb705b">EFFECT_RADIUS_10_YARDS</a>; <span class="comment">// SPELL_EFFECT_SCHOOL_DAMAGE</span></div>
<div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160;    });</div>
<div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160; </div>
<div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160;    <span class="comment">// WintergraspDemolisher - Spell Ram -  EffectRadiusIndex</span></div>
<div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 54107 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160;    {</div>
<div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6a84f16c69f55cca8b4fdde0c6778d9912">EFFECT_RADIUS_3_YARDS</a>; <span class="comment">// SPELL_EFFECT_KNOCK_BACK</span></div>
<div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160;        spellInfo-&gt;EffectRadiusIndex[1] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6a84f16c69f55cca8b4fdde0c6778d9912">EFFECT_RADIUS_3_YARDS</a>; <span class="comment">// SPELL_EFFECT_SCHOOL_DAMAGE</span></div>
<div class="line"><a name="l04775"></a><span class="lineno"> 4775</span>&#160;        spellInfo-&gt;EffectRadiusIndex[2] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6a84f16c69f55cca8b4fdde0c6778d9912">EFFECT_RADIUS_3_YARDS</a>; <span class="comment">// SPELL_EFFECT_WEAPON_DAMAGE</span></div>
<div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160;    });</div>
<div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160; </div>
<div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160;    <span class="comment">// WintergraspSiegeEngine - Spell Ram - EffectRadiusIndex</span></div>
<div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 51678 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;    {</div>
<div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6ac408444e6d66c0845a141ca461eb705b">EFFECT_RADIUS_10_YARDS</a>; <span class="comment">// SPELL_EFFECT_KNOCK_BACK</span></div>
<div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;        spellInfo-&gt;EffectRadiusIndex[1] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6ac408444e6d66c0845a141ca461eb705b">EFFECT_RADIUS_10_YARDS</a>; <span class="comment">// SPELL_EFFECT_SCHOOL_DAMAGE</span></div>
<div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160;        spellInfo-&gt;EffectRadiusIndex[2] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6a17e659065202f50148fd26019a3ed3a3">EFFECT_RADIUS_20_YARDS</a>; <span class="comment">// SPELL_EFFECT_WEAPON_DAMAGE</span></div>
<div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;    });</div>
<div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160; </div>
<div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160;    <span class="comment">// WintergraspCatapult - Spell Plague Barrell - Range</span></div>
<div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 57606 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160;    {</div>
<div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;        spellInfo-&gt;RangeIndex = 164; <span class="comment">// &quot;Catapult Range&quot;</span></div>
<div class="line"><a name="l04790"></a><span class="lineno"> 4790</span>&#160;    });</div>
<div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160; </div>
<div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;    <span class="comment">// Boulder (Demolisher)</span></div>
<div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 50999 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;    {</div>
<div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160;        spellInfo-&gt;EffectRadiusIndex[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = 13; <span class="comment">// 10yd</span></div>
<div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;    });</div>
<div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160; </div>
<div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;    <span class="comment">// Flame Breath (Catapult)</span></div>
<div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 50990 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;    {</div>
<div class="line"><a name="l04801"></a><span class="lineno"> 4801</span>&#160;        spellInfo-&gt;EffectRadiusIndex[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = 19; <span class="comment">// 18yd</span></div>
<div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160;    });</div>
<div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160; </div>
<div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;    <span class="comment">// Jormungar Bite</span></div>
<div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 56103 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;    {</div>
<div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a8b2344cd954d6b4c61d99cd3ec1599f3">TARGET_UNIT_TARGET_ENEMY</a>;</div>
<div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = 0;</div>
<div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;    });</div>
<div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160; </div>
<div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;    <span class="comment">// Throw Proximity Bomb</span></div>
<div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 34095 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;    {</div>
<div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a85d8f0e6d574cf640ec0c42b54e2ad3c">TARGET_DEST_TARGET_ENEMY</a>;</div>
<div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = 0;</div>
<div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;    });</div>
<div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160; </div>
<div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;        53348,  <span class="comment">// DEATH KNIGHT SCARLET FIRE ARROW</span></div>
<div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;        53117   <span class="comment">// BALISTA</span></div>
<div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160;    {</div>
<div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160;        spellInfo-&gt;RecoveryTime = 5000;</div>
<div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;        spellInfo-&gt;CategoryRecoveryTime = 5000;</div>
<div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;    });</div>
<div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160; </div>
<div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;    <span class="comment">// Teleport To Molten Core</span></div>
<div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 25139 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160;    {</div>
<div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a0a71d4cc2660db4702163d932a53841c">SPELL_ATTR3_ALLOW_AURA_WHILE_DEAD</a>;</div>
<div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160;    });</div>
<div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160; </div>
<div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;    <span class="comment">// Landen Stilwell Transform</span></div>
<div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 31310 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160;    {</div>
<div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160;        spellInfo-&gt;Attributes |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada407e023ed336f3c64aa20f11dd49f6bd">SPELL_ATTR0_PASSIVE</a>;</div>
<div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160;    });</div>
<div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160; </div>
<div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160;    <span class="comment">// Shadowstalker Stealth</span></div>
<div class="line"><a name="l04840"></a><span class="lineno"> 4840</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 5916 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;    {</div>
<div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;        spellInfo-&gt;EffectRealPointsPerLevel[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = 5.0f;</div>
<div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;    });</div>
<div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160; </div>
<div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;    <span class="comment">// Sneak</span></div>
<div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 22766 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;    {</div>
<div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;        spellInfo-&gt;EffectRealPointsPerLevel[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = 5.0f;</div>
<div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;    });</div>
<div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160; </div>
<div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;    <span class="comment">// Murmur&#39;s Touch</span></div>
<div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 38794, 33711 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;    {</div>
<div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160;        spellInfo-&gt;MaxAffectedTargets = 1;</div>
<div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160;        spellInfo-&gt;EffectTriggerSpell[0] = 33760;</div>
<div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;    });</div>
<div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160; </div>
<div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;    <span class="comment">// Negaton Field</span></div>
<div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160;        36729,  <span class="comment">// Normal</span></div>
<div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160;        38834   <span class="comment">// Heroic</span></div>
<div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;    {</div>
<div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67">SPELL_ATTR3_DOT_STACKING_RULE</a>;</div>
<div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160;    });</div>
<div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160; </div>
<div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;    <span class="comment">// Curse of the Doomsayer NORMAL</span></div>
<div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 36173 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160;    {</div>
<div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160;        spellInfo-&gt;EffectTriggerSpell[0] = 36174; <span class="comment">// Currently triggers heroic version...</span></div>
<div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160;    });</div>
<div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160; </div>
<div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;    <span class="comment">// Crystal Channel</span></div>
<div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 34156 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;    {</div>
<div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;        spellInfo-&gt;RangeIndex = 35; <span class="comment">// 35yd;</span></div>
<div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;        spellInfo-&gt;ChannelInterruptFlags |= <a class="code" href="../../d5/d32/_unit_8h.html#a0709fc3ab848cf1b8b4853813b8fe011a79d9517e2981beafd03e4ee2ccbb1c35">AURA_INTERRUPT_FLAG_MOVE</a>;</div>
<div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;    });</div>
<div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160; </div>
<div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;    <span class="comment">// Debris</span></div>
<div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 36449 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;    {</div>
<div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;        spellInfo-&gt;Attributes |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada2d40022c3a03aa2a0e78dfe6a115e3f3">SPELL_ATTR0_AURA_IS_DEBUFF</a>;</div>
<div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;    });</div>
<div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160; </div>
<div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;    <span class="comment">// Soul Channel</span></div>
<div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 30531 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;    {</div>
<div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67">SPELL_ATTR3_DOT_STACKING_RULE</a>;</div>
<div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;    });</div>
<div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160; </div>
<div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;    <span class="comment">// Debris Visual</span></div>
<div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 30632 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160;    {</div>
<div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a89060caf79b628127f72c89a4ba73046">TARGET_DEST_DYNOBJ_ALLY</a>;</div>
<div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;    });</div>
<div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160; </div>
<div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160;    <span class="comment">// Activate Sunblade Protecto</span></div>
<div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 46475, 46476 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160;    {</div>
<div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160;        spellInfo-&gt;RangeIndex = 14; <span class="comment">// 60yd</span></div>
<div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;    });</div>
<div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160; </div>
<div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;    <span class="comment">// Break Ice</span></div>
<div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 46638 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;    {</div>
<div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;        spellInfo-&gt;AttributesEx3 &amp;= ~<a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81afd31a3efb01e11ee685cd0cac502b9ac">SPELL_ATTR3_ONLY_ON_PLAYER</a>; <span class="comment">// Obvious fail, it targets gameobject...</span></div>
<div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;    });</div>
<div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160; </div>
<div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;    <span class="comment">// Sinister Reflection Clone</span></div>
<div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 45785 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;    {</div>
<div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160;        spellInfo-&gt;Speed = 0.0f;</div>
<div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160;    });</div>
<div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160; </div>
<div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160;    <span class="comment">// Armageddon</span></div>
<div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 45909 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160;    {</div>
<div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160;        spellInfo-&gt;Speed = 8.0f;</div>
<div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160;    });</div>
<div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160; </div>
<div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;    <span class="comment">// Spell Absorption</span></div>
<div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 41034 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;    {</div>
<div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160;        spellInfo-&gt;Effect[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77af927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>;</div>
<div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;        spellInfo-&gt;EffectApplyAuraName[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77af927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799ab7b51e8dff5aaafa4617c9fdde043b08">SPELL_AURA_SCHOOL_ABSORB</a>;</div>
<div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77af927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>;</div>
<div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;        spellInfo-&gt;EffectMiscValue[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77af927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#aff6913cfd69489c107a071be9ec2ec8fa53b7883ddb2ff484fe7e089afe2c85dc">SPELL_SCHOOL_MASK_MAGIC</a>;</div>
<div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;    });</div>
<div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160; </div>
<div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160;    <span class="comment">// Shared Bonds</span></div>
<div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 41363 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;    {</div>
<div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;        spellInfo-&gt;AttributesEx &amp;= ~<a class="code" href="../../df/d0b/_shared_defines_8h.html#a638f8f550e23b2e3180b481bb3f38076a493b6dc822a0de07fbd0dd07dbefb73a">SPELL_ATTR1_IS_CHANNELED</a>;</div>
<div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160;    });</div>
<div class="line"><a name="l04936"></a><span class="lineno"> 4936</span>&#160; </div>
<div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160;        41485,  <span class="comment">// Deadly Poison</span></div>
<div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160;        41487   <span class="comment">// Envenom</span></div>
<div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160;    {</div>
<div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160;        spellInfo-&gt;AttributesEx6 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#afc0226d0611e178e6edb4d2776e03094a78992c0cb395380959dea6189150d8bb">SPELL_ATTR6_IGNORE_PHASE_SHIFT</a>;</div>
<div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160;    });</div>
<div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160; </div>
<div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;    <span class="comment">// Parasitic Shadowfiend</span></div>
<div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 41914 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04947"></a><span class="lineno"> 4947</span>&#160;    {</div>
<div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;        spellInfo-&gt;Attributes |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada2d40022c3a03aa2a0e78dfe6a115e3f3">SPELL_ATTR0_AURA_IS_DEBUFF</a>;</div>
<div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67">SPELL_ATTR3_DOT_STACKING_RULE</a>;</div>
<div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160;    });</div>
<div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160; </div>
<div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160;    <span class="comment">// Teleport Maiev</span></div>
<div class="line"><a name="l04953"></a><span class="lineno"> 4953</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 41221 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04954"></a><span class="lineno"> 4954</span>&#160;    {</div>
<div class="line"><a name="l04955"></a><span class="lineno"> 4955</span>&#160;        spellInfo-&gt;RangeIndex = 13; <span class="comment">// 0-50000yd</span></div>
<div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160;    });</div>
<div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160; </div>
<div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160;    <span class="comment">// Watery Grave Explosion</span></div>
<div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 37852 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160;    {</div>
<div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;        spellInfo-&gt;AttributesEx5 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a376aa62261a98289589839b821786adaa38355c8ac37633a451b6ea0cad0389b6">SPELL_ATTR5_ALLOW_WHILE_STUNNED</a>;</div>
<div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160;    });</div>
<div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160; </div>
<div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160;    <span class="comment">// Amplify Damage</span></div>
<div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 39095 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;    {</div>
<div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;        spellInfo-&gt;MaxAffectedTargets = 1;</div>
<div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160;    });</div>
<div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160; </div>
<div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;    <span class="comment">// Energy Feedback</span></div>
<div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 44335 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160;    {</div>
<div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;        spellInfo-&gt;AuraInterruptFlags |= <a class="code" href="../../d5/d32/_unit_8h.html#a0709fc3ab848cf1b8b4853813b8fe011addd23de47de1322a4cc921e361bc6dd8">AURA_INTERRUPT_FLAG_CHANGE_MAP</a>;</div>
<div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;    });</div>
<div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160; </div>
<div class="line"><a name="l04976"></a><span class="lineno"> 4976</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160;        31984,  <span class="comment">// Finger of Death</span></div>
<div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160;        35354   <span class="comment">// Hand of Death</span></div>
<div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160;    {</div>
<div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160;        <span class="comment">// Spell doesn&#39;t need to ignore invulnerabilities</span></div>
<div class="line"><a name="l04982"></a><span class="lineno"> 4982</span>&#160;        spellInfo-&gt;Attributes = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada46b6f1510e54490ecf24ee8a769b0aab">SPELL_ATTR0_IS_ABILITY</a>;</div>
<div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;    });</div>
<div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160; </div>
<div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160;    <span class="comment">// Finger of Death</span></div>
<div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 32111 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160;    {</div>
<div class="line"><a name="l04988"></a><span class="lineno"> 4988</span>&#160;        spellInfo-&gt;CastingTimeIndex = 0;    <span class="comment">// We only need the animation, no damage</span></div>
<div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160;    });</div>
<div class="line"><a name="l04990"></a><span class="lineno"> 4990</span>&#160; </div>
<div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160;    <span class="comment">// Flame Breath, catapult spell</span></div>
<div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 50989 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160;    {</div>
<div class="line"><a name="l04994"></a><span class="lineno"> 4994</span>&#160;        spellInfo-&gt;Attributes &amp;= ~<a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada837fa548e9858d30ad83b70b87dcc13d">SPELL_ATTR0_SCALES_WITH_CREATURE_LEVEL</a>;</div>
<div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160;    });</div>
<div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160; </div>
<div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160;    <span class="comment">// Koralon, Flaming Cinder</span></div>
<div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 66690 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;    {</div>
<div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160;        <span class="comment">// missing radius index</span></div>
<div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = 12; <span class="comment">//100yd</span></div>
<div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160;        spellInfo-&gt;MaxAffectedTargets = 1;</div>
<div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160;    });</div>
<div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160; </div>
<div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;    <span class="comment">// Acid Volley</span></div>
<div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 54714, 29325 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;    {</div>
<div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160;        spellInfo-&gt;MaxAffectedTargets = 1;</div>
<div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;    });</div>
<div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160; </div>
<div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;    <span class="comment">// Summon Plagued Warrior</span></div>
<div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 29237 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;    {</div>
<div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;        spellInfo-&gt;Effect[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a027bcdf3b42e90e7374802fe61fd776d">SPELL_EFFECT_DUMMY</a>;</div>
<div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;        spellInfo-&gt;Effect[1] = spellInfo-&gt;Effect[2] = 0;</div>
<div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;    });</div>
<div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160; </div>
<div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;    <span class="comment">// Icebolt</span></div>
<div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 28526 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160;    {</div>
<div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>;</div>
<div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;    });</div>
<div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160; </div>
<div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160;    <span class="comment">// Infected Wound</span></div>
<div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 29306 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05026"></a><span class="lineno"> 5026</span>&#160;    {</div>
<div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67">SPELL_ATTR3_DOT_STACKING_RULE</a>;</div>
<div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160;    });</div>
<div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160; </div>
<div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;    <span class="comment">// Hopeless</span></div>
<div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 29125 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;    {</div>
<div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a3f043071f052463518f0978322c782c6">TARGET_UNIT_SRC_AREA_ENTRY</a>;</div>
<div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;    });</div>
<div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160; </div>
<div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;    <span class="comment">// Jagged Knife</span></div>
<div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 55550 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;    {</div>
<div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;        spellInfo-&gt;Attributes |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44adaba8502c6e37f89c8ff90f17025b0cb08">SPELL_ATTR0_USES_RANGED_SLOT</a>;</div>
<div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;    });</div>
<div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160; </div>
<div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;    <span class="comment">// Moorabi - Transformation</span></div>
<div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 55098 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;    {</div>
<div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160;        spellInfo-&gt;InterruptFlags |= <a class="code" href="../../d5/d32/_unit_8h.html#abadf2f982fd866917c372d16ab99c109a69ed081a90c21e0d86095c70de005dbb">SPELL_INTERRUPT_FLAG_INTERRUPT</a>;</div>
<div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160;    });</div>
<div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160; </div>
<div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;        55521,  <span class="comment">// Poisoned Spear (Normal)</span></div>
<div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;        58967,  <span class="comment">// Poisoned Spear (Heroic)</span></div>
<div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160;        55348,  <span class="comment">// Throw (Normal)</span></div>
<div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;        58966   <span class="comment">// Throw (Heroic)</span></div>
<div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160;    {</div>
<div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;        spellInfo-&gt;Attributes |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44adaba8502c6e37f89c8ff90f17025b0cb08">SPELL_ATTR0_USES_RANGED_SLOT</a>;</div>
<div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160;    });</div>
<div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160; </div>
<div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;    <span class="comment">// Charged Chaotic rift aura, trigger</span></div>
<div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 47737 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160;    {</div>
<div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160;        spellInfo-&gt;RangeIndex = 37; <span class="comment">// 50yd</span></div>
<div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160;    });</div>
<div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160; </div>
<div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;    <span class="comment">// Vanish</span></div>
<div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 55964 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160;    {</div>
<div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;        spellInfo-&gt;Effect[1] = 0;</div>
<div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160;        spellInfo-&gt;Effect[2] = 0;</div>
<div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;    });</div>
<div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160; </div>
<div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;    <span class="comment">// Trollgore - Summon Drakkari Invader</span></div>
<div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 49456, 49457, 49458 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;    {</div>
<div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a26506da78f6a6950f7ac66718b775817">TARGET_DEST_DB</a>;</div>
<div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160;    });</div>
<div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160; </div>
<div class="line"><a name="l05077"></a><span class="lineno"> 5077</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160;        48278,  <span class="comment">// Paralyse</span></div>
<div class="line"><a name="l05079"></a><span class="lineno"> 5079</span>&#160;        47669   <span class="comment">// Awaken subboss</span></div>
<div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05081"></a><span class="lineno"> 5081</span>&#160;    {</div>
<div class="line"><a name="l05082"></a><span class="lineno"> 5082</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>;</div>
<div class="line"><a name="l05083"></a><span class="lineno"> 5083</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = 0;</div>
<div class="line"><a name="l05084"></a><span class="lineno"> 5084</span>&#160;    });</div>
<div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160; </div>
<div class="line"><a name="l05086"></a><span class="lineno"> 5086</span>&#160;    <span class="comment">// Flame Breath</span></div>
<div class="line"><a name="l05087"></a><span class="lineno"> 5087</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 47592 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05088"></a><span class="lineno"> 5088</span>&#160;    {</div>
<div class="line"><a name="l05089"></a><span class="lineno"> 5089</span>&#160;        spellInfo-&gt;EffectAmplitude[0] = 200;</div>
<div class="line"><a name="l05090"></a><span class="lineno"> 5090</span>&#160;    });</div>
<div class="line"><a name="l05091"></a><span class="lineno"> 5091</span>&#160; </div>
<div class="line"><a name="l05092"></a><span class="lineno"> 5092</span>&#160;    <span class="comment">// Skarvald, Charge</span></div>
<div class="line"><a name="l05093"></a><span class="lineno"> 5093</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 43651 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05094"></a><span class="lineno"> 5094</span>&#160;    {</div>
<div class="line"><a name="l05095"></a><span class="lineno"> 5095</span>&#160;        spellInfo-&gt;RangeIndex = 13; <span class="comment">// 0-50000yd</span></div>
<div class="line"><a name="l05096"></a><span class="lineno"> 5096</span>&#160;    });</div>
<div class="line"><a name="l05097"></a><span class="lineno"> 5097</span>&#160; </div>
<div class="line"><a name="l05098"></a><span class="lineno"> 5098</span>&#160;    <span class="comment">// Ingvar the Plunderer, Woe Strike</span></div>
<div class="line"><a name="l05099"></a><span class="lineno"> 5099</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 42730 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160;    {</div>
<div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;        spellInfo-&gt;EffectTriggerSpell[1] = 42739;</div>
<div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;    });</div>
<div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160; </div>
<div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 59735 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;    {</div>
<div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160;        spellInfo-&gt;EffectTriggerSpell[1] = 59736;</div>
<div class="line"><a name="l05107"></a><span class="lineno"> 5107</span>&#160;    });</div>
<div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160; </div>
<div class="line"><a name="l05109"></a><span class="lineno"> 5109</span>&#160;    <span class="comment">// Ingvar the Plunderer, Ingvar transform</span></div>
<div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 42796 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160;    {</div>
<div class="line"><a name="l05112"></a><span class="lineno"> 5112</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a0a71d4cc2660db4702163d932a53841c">SPELL_ATTR3_ALLOW_AURA_WHILE_DEAD</a>;</div>
<div class="line"><a name="l05113"></a><span class="lineno"> 5113</span>&#160;    });</div>
<div class="line"><a name="l05114"></a><span class="lineno"> 5114</span>&#160; </div>
<div class="line"><a name="l05115"></a><span class="lineno"> 5115</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;        42772,  <span class="comment">// Hurl Dagger (Normal)</span></div>
<div class="line"><a name="l05117"></a><span class="lineno"> 5117</span>&#160;        59685   <span class="comment">// Hurl Dagger (Heroic)</span></div>
<div class="line"><a name="l05118"></a><span class="lineno"> 5118</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05119"></a><span class="lineno"> 5119</span>&#160;    {</div>
<div class="line"><a name="l05120"></a><span class="lineno"> 5120</span>&#160;        spellInfo-&gt;Attributes |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44adaba8502c6e37f89c8ff90f17025b0cb08">SPELL_ATTR0_USES_RANGED_SLOT</a>;</div>
<div class="line"><a name="l05121"></a><span class="lineno"> 5121</span>&#160;    });</div>
<div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160; </div>
<div class="line"><a name="l05123"></a><span class="lineno"> 5123</span>&#160;    <span class="comment">// Control Crystal Activation</span></div>
<div class="line"><a name="l05124"></a><span class="lineno"> 5124</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 57804 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160;    {</div>
<div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = 1;</div>
<div class="line"><a name="l05127"></a><span class="lineno"> 5127</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = 0;</div>
<div class="line"><a name="l05128"></a><span class="lineno"> 5128</span>&#160;    });</div>
<div class="line"><a name="l05129"></a><span class="lineno"> 5129</span>&#160; </div>
<div class="line"><a name="l05130"></a><span class="lineno"> 5130</span>&#160;    <span class="comment">// Destroy Door Seal</span></div>
<div class="line"><a name="l05131"></a><span class="lineno"> 5131</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 58040 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05132"></a><span class="lineno"> 5132</span>&#160;    {</div>
<div class="line"><a name="l05133"></a><span class="lineno"> 5133</span>&#160;        spellInfo-&gt;ChannelInterruptFlags &amp;= ~(<a class="code" href="../../d5/d32/_unit_8h.html#a0709fc3ab848cf1b8b4853813b8fe011a79d42b7d97460b52fe46d9bc3c288a15">AURA_INTERRUPT_FLAG_HITBYSPELL</a> | <a class="code" href="../../d5/d32/_unit_8h.html#a0709fc3ab848cf1b8b4853813b8fe011a043102900f6d0a56c4ba2aaf151fa41a">AURA_INTERRUPT_FLAG_TAKE_DAMAGE</a>);</div>
<div class="line"><a name="l05134"></a><span class="lineno"> 5134</span>&#160;    });</div>
<div class="line"><a name="l05135"></a><span class="lineno"> 5135</span>&#160; </div>
<div class="line"><a name="l05136"></a><span class="lineno"> 5136</span>&#160;    <span class="comment">// Ichoron, Water Blast</span></div>
<div class="line"><a name="l05137"></a><span class="lineno"> 5137</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 54237, 59520 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05138"></a><span class="lineno"> 5138</span>&#160;    {</div>
<div class="line"><a name="l05139"></a><span class="lineno"> 5139</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a>;</div>
<div class="line"><a name="l05140"></a><span class="lineno"> 5140</span>&#160;    });</div>
<div class="line"><a name="l05141"></a><span class="lineno"> 5141</span>&#160; </div>
<div class="line"><a name="l05142"></a><span class="lineno"> 5142</span>&#160;    <span class="comment">// Krik&#39;thir - Mind Flay</span></div>
<div class="line"><a name="l05143"></a><span class="lineno"> 5143</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 52586, 59367 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05144"></a><span class="lineno"> 5144</span>&#160;    {</div>
<div class="line"><a name="l05145"></a><span class="lineno"> 5145</span>&#160;        spellInfo-&gt;ChannelInterruptFlags |= <a class="code" href="../../d5/d32/_unit_8h.html#a0709fc3ab848cf1b8b4853813b8fe011a79d9517e2981beafd03e4ee2ccbb1c35">AURA_INTERRUPT_FLAG_MOVE</a>;</div>
<div class="line"><a name="l05146"></a><span class="lineno"> 5146</span>&#160;    });</div>
<div class="line"><a name="l05147"></a><span class="lineno"> 5147</span>&#160; </div>
<div class="line"><a name="l05148"></a><span class="lineno"> 5148</span>&#160;    <span class="comment">// Glare of the Tribunal</span></div>
<div class="line"><a name="l05149"></a><span class="lineno"> 5149</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 50988, 59870 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05150"></a><span class="lineno"> 5150</span>&#160;    {</div>
<div class="line"><a name="l05151"></a><span class="lineno"> 5151</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>;</div>
<div class="line"><a name="l05152"></a><span class="lineno"> 5152</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = 0;</div>
<div class="line"><a name="l05153"></a><span class="lineno"> 5153</span>&#160;    });</div>
<div class="line"><a name="l05154"></a><span class="lineno"> 5154</span>&#160; </div>
<div class="line"><a name="l05155"></a><span class="lineno"> 5155</span>&#160;    <span class="comment">// Static Charge</span></div>
<div class="line"><a name="l05156"></a><span class="lineno"> 5156</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 50835, 59847 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05157"></a><span class="lineno"> 5157</span>&#160;    {</div>
<div class="line"><a name="l05158"></a><span class="lineno"> 5158</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a5636479f4e747c35d6eab829ac5ba6c1">TARGET_UNIT_SRC_AREA_ALLY</a>;</div>
<div class="line"><a name="l05159"></a><span class="lineno"> 5159</span>&#160;    });</div>
<div class="line"><a name="l05160"></a><span class="lineno"> 5160</span>&#160; </div>
<div class="line"><a name="l05161"></a><span class="lineno"> 5161</span>&#160;    <span class="comment">// Lava Strike damage</span></div>
<div class="line"><a name="l05162"></a><span class="lineno"> 5162</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 57697 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05163"></a><span class="lineno"> 5163</span>&#160;    {</div>
<div class="line"><a name="l05164"></a><span class="lineno"> 5164</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>;</div>
<div class="line"><a name="l05165"></a><span class="lineno"> 5165</span>&#160;    });</div>
<div class="line"><a name="l05166"></a><span class="lineno"> 5166</span>&#160; </div>
<div class="line"><a name="l05167"></a><span class="lineno"> 5167</span>&#160;    <span class="comment">// Lava Strike trigger</span></div>
<div class="line"><a name="l05168"></a><span class="lineno"> 5168</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 57578 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05169"></a><span class="lineno"> 5169</span>&#160;    {</div>
<div class="line"><a name="l05170"></a><span class="lineno"> 5170</span>&#160;        spellInfo-&gt;MaxAffectedTargets = 1;</div>
<div class="line"><a name="l05171"></a><span class="lineno"> 5171</span>&#160;    });</div>
<div class="line"><a name="l05172"></a><span class="lineno"> 5172</span>&#160; </div>
<div class="line"><a name="l05173"></a><span class="lineno"> 5173</span>&#160;    <span class="comment">// Gift of Twilight Shadow/Fire</span></div>
<div class="line"><a name="l05174"></a><span class="lineno"> 5174</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 57835, 58766 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05175"></a><span class="lineno"> 5175</span>&#160;    {</div>
<div class="line"><a name="l05176"></a><span class="lineno"> 5176</span>&#160;        spellInfo-&gt;AttributesEx &amp;= ~<a class="code" href="../../df/d0b/_shared_defines_8h.html#a638f8f550e23b2e3180b481bb3f38076a493b6dc822a0de07fbd0dd07dbefb73a">SPELL_ATTR1_IS_CHANNELED</a>;</div>
<div class="line"><a name="l05177"></a><span class="lineno"> 5177</span>&#160;    });</div>
<div class="line"><a name="l05178"></a><span class="lineno"> 5178</span>&#160; </div>
<div class="line"><a name="l05179"></a><span class="lineno"> 5179</span>&#160;    <span class="comment">// Pyrobuffet</span></div>
<div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 57557 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05181"></a><span class="lineno"> 5181</span>&#160;    {</div>
<div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160;        spellInfo-&gt;ExcludeTargetAuraSpell = 56911;</div>
<div class="line"><a name="l05183"></a><span class="lineno"> 5183</span>&#160;    });</div>
<div class="line"><a name="l05184"></a><span class="lineno"> 5184</span>&#160; </div>
<div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160;    <span class="comment">// Arcane Barrage</span></div>
<div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 56397 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05187"></a><span class="lineno"> 5187</span>&#160;    {</div>
<div class="line"><a name="l05188"></a><span class="lineno"> 5188</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a8b2344cd954d6b4c61d99cd3ec1599f3">TARGET_UNIT_TARGET_ENEMY</a>;</div>
<div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = 0;</div>
<div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[1] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a8b2344cd954d6b4c61d99cd3ec1599f3">TARGET_UNIT_TARGET_ENEMY</a>;</div>
<div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[1] = 0;</div>
<div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[2] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a8b2344cd954d6b4c61d99cd3ec1599f3">TARGET_UNIT_TARGET_ENEMY</a>;</div>
<div class="line"><a name="l05193"></a><span class="lineno"> 5193</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[2] = 0;</div>
<div class="line"><a name="l05194"></a><span class="lineno"> 5194</span>&#160;    });</div>
<div class="line"><a name="l05195"></a><span class="lineno"> 5195</span>&#160; </div>
<div class="line"><a name="l05196"></a><span class="lineno"> 5196</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l05197"></a><span class="lineno"> 5197</span>&#160;        55849,  <span class="comment">// Power Spark (ground +50% dmg aura)</span></div>
<div class="line"><a name="l05198"></a><span class="lineno"> 5198</span>&#160;        56438,  <span class="comment">// Arcane Overload (-50% dmg taken) - this is to prevent apply -&gt; unapply -&gt; apply ... dunno whether it&#39;s correct</span></div>
<div class="line"><a name="l05199"></a><span class="lineno"> 5199</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05200"></a><span class="lineno"> 5200</span>&#160;    {</div>
<div class="line"><a name="l05201"></a><span class="lineno"> 5201</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67">SPELL_ATTR3_DOT_STACKING_RULE</a>;</div>
<div class="line"><a name="l05202"></a><span class="lineno"> 5202</span>&#160;    });</div>
<div class="line"><a name="l05203"></a><span class="lineno"> 5203</span>&#160; </div>
<div class="line"><a name="l05204"></a><span class="lineno"> 5204</span>&#160;    <span class="comment">// Vortex (Control Vehicle)</span></div>
<div class="line"><a name="l05205"></a><span class="lineno"> 5205</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 56263 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05206"></a><span class="lineno"> 5206</span>&#160;    {</div>
<div class="line"><a name="l05207"></a><span class="lineno"> 5207</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a>;</div>
<div class="line"><a name="l05208"></a><span class="lineno"> 5208</span>&#160;    });</div>
<div class="line"><a name="l05209"></a><span class="lineno"> 5209</span>&#160; </div>
<div class="line"><a name="l05210"></a><span class="lineno"> 5210</span>&#160;    <span class="comment">// Haste (Nexus Lord, increase run Speed of the disk)</span></div>
<div class="line"><a name="l05211"></a><span class="lineno"> 5211</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 57060 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05212"></a><span class="lineno"> 5212</span>&#160;    {</div>
<div class="line"><a name="l05213"></a><span class="lineno"> 5213</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[2] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a6a3ac6fe01ea9d30849ba6f822e08e35">TARGET_UNIT_VEHICLE</a>;</div>
<div class="line"><a name="l05214"></a><span class="lineno"> 5214</span>&#160;    });</div>
<div class="line"><a name="l05215"></a><span class="lineno"> 5215</span>&#160; </div>
<div class="line"><a name="l05216"></a><span class="lineno"> 5216</span>&#160;    <span class="comment">// Arcane Overload</span></div>
<div class="line"><a name="l05217"></a><span class="lineno"> 5217</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 56430 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05218"></a><span class="lineno"> 5218</span>&#160;    {</div>
<div class="line"><a name="l05219"></a><span class="lineno"> 5219</span>&#160;        spellInfo-&gt;Effect[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a3303d1b9499775f687785269eaaaff1b">SPELL_EFFECT_TRIGGER_MISSILE</a>;</div>
<div class="line"><a name="l05220"></a><span class="lineno"> 5220</span>&#160;        spellInfo-&gt;EffectTriggerSpell[0] = 56429;</div>
<div class="line"><a name="l05221"></a><span class="lineno"> 5221</span>&#160;    });</div>
<div class="line"><a name="l05222"></a><span class="lineno"> 5222</span>&#160; </div>
<div class="line"><a name="l05223"></a><span class="lineno"> 5223</span>&#160;    <span class="comment">// Summon Arcane Bomb</span></div>
<div class="line"><a name="l05224"></a><span class="lineno"> 5224</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 56429 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05225"></a><span class="lineno"> 5225</span>&#160;    {</div>
<div class="line"><a name="l05226"></a><span class="lineno"> 5226</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>;</div>
<div class="line"><a name="l05227"></a><span class="lineno"> 5227</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = 0;</div>
<div class="line"><a name="l05228"></a><span class="lineno"> 5228</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[1] = 0;</div>
<div class="line"><a name="l05229"></a><span class="lineno"> 5229</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[1] = 0;</div>
<div class="line"><a name="l05230"></a><span class="lineno"> 5230</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[2] = 0;</div>
<div class="line"><a name="l05231"></a><span class="lineno"> 5231</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[2] = 0;</div>
<div class="line"><a name="l05232"></a><span class="lineno"> 5232</span>&#160;    });</div>
<div class="line"><a name="l05233"></a><span class="lineno"> 5233</span>&#160; </div>
<div class="line"><a name="l05234"></a><span class="lineno"> 5234</span>&#160;    <span class="comment">// Destroy Platform Event</span></div>
<div class="line"><a name="l05235"></a><span class="lineno"> 5235</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 59099 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05236"></a><span class="lineno"> 5236</span>&#160;    {</div>
<div class="line"><a name="l05237"></a><span class="lineno"> 5237</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[1] = 22;</div>
<div class="line"><a name="l05238"></a><span class="lineno"> 5238</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[1] = 15;</div>
<div class="line"><a name="l05239"></a><span class="lineno"> 5239</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[2] = 22;</div>
<div class="line"><a name="l05240"></a><span class="lineno"> 5240</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[2] = 15;</div>
<div class="line"><a name="l05241"></a><span class="lineno"> 5241</span>&#160;    });</div>
<div class="line"><a name="l05242"></a><span class="lineno"> 5242</span>&#160; </div>
<div class="line"><a name="l05243"></a><span class="lineno"> 5243</span>&#160;    <span class="comment">// Surge of Power (Phase 3)</span></div>
<div class="line"><a name="l05244"></a><span class="lineno"> 5244</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l05245"></a><span class="lineno"> 5245</span>&#160;        57407,  <span class="comment">// N</span></div>
<div class="line"><a name="l05246"></a><span class="lineno"> 5246</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05247"></a><span class="lineno"> 5247</span>&#160;    {</div>
<div class="line"><a name="l05248"></a><span class="lineno"> 5248</span>&#160;        spellInfo-&gt;MaxAffectedTargets = 1;</div>
<div class="line"><a name="l05249"></a><span class="lineno"> 5249</span>&#160;        spellInfo-&gt;InterruptFlags = 0;</div>
<div class="line"><a name="l05250"></a><span class="lineno"> 5250</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = 28;</div>
<div class="line"><a name="l05251"></a><span class="lineno"> 5251</span>&#160;        spellInfo-&gt;AttributesEx4 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#aec1a0b3970de527f109db7fb8b7df5b6aba174418f37eafaa54fe775f50a43ca9">SPELL_ATTR4_ALLOW_CAST_WHILE_CASTING</a>;</div>
<div class="line"><a name="l05252"></a><span class="lineno"> 5252</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152aee8705374ad45df671cbba17e5614ca3">TARGET_SRC_CASTER</a>;</div>
<div class="line"><a name="l05253"></a><span class="lineno"> 5253</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a7b8c7cf5819db17b9ed16dfbb93addb4">TARGET_UNIT_SRC_AREA_ENEMY</a>;</div>
<div class="line"><a name="l05254"></a><span class="lineno"> 5254</span>&#160;        spellInfo-&gt;AttributesEx2 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><a name="l05255"></a><span class="lineno"> 5255</span>&#160;    });</div>
<div class="line"><a name="l05256"></a><span class="lineno"> 5256</span>&#160; </div>
<div class="line"><a name="l05257"></a><span class="lineno"> 5257</span>&#160;    <span class="comment">// Surge of Power (Phase 3)</span></div>
<div class="line"><a name="l05258"></a><span class="lineno"> 5258</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l05259"></a><span class="lineno"> 5259</span>&#160;        60936   <span class="comment">// H</span></div>
<div class="line"><a name="l05260"></a><span class="lineno"> 5260</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05261"></a><span class="lineno"> 5261</span>&#160;    {</div>
<div class="line"><a name="l05262"></a><span class="lineno"> 5262</span>&#160;        spellInfo-&gt;MaxAffectedTargets = 3;</div>
<div class="line"><a name="l05263"></a><span class="lineno"> 5263</span>&#160;        spellInfo-&gt;InterruptFlags = 0;</div>
<div class="line"><a name="l05264"></a><span class="lineno"> 5264</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = 28;</div>
<div class="line"><a name="l05265"></a><span class="lineno"> 5265</span>&#160;        spellInfo-&gt;AttributesEx4 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#aec1a0b3970de527f109db7fb8b7df5b6aba174418f37eafaa54fe775f50a43ca9">SPELL_ATTR4_ALLOW_CAST_WHILE_CASTING</a>;</div>
<div class="line"><a name="l05266"></a><span class="lineno"> 5266</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152aee8705374ad45df671cbba17e5614ca3">TARGET_SRC_CASTER</a>;</div>
<div class="line"><a name="l05267"></a><span class="lineno"> 5267</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a7b8c7cf5819db17b9ed16dfbb93addb4">TARGET_UNIT_SRC_AREA_ENEMY</a>;</div>
<div class="line"><a name="l05268"></a><span class="lineno"> 5268</span>&#160;        spellInfo-&gt;AttributesEx2 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><a name="l05269"></a><span class="lineno"> 5269</span>&#160;    });</div>
<div class="line"><a name="l05270"></a><span class="lineno"> 5270</span>&#160; </div>
<div class="line"><a name="l05271"></a><span class="lineno"> 5271</span>&#160;    <span class="comment">// Wyrmrest Drake - Life Burst</span></div>
<div class="line"><a name="l05272"></a><span class="lineno"> 5272</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 57143 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05273"></a><span class="lineno"> 5273</span>&#160;    {</div>
<div class="line"><a name="l05274"></a><span class="lineno"> 5274</span>&#160;        spellInfo-&gt;Effect[0] = 0;</div>
<div class="line"><a name="l05275"></a><span class="lineno"> 5275</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = 0;</div>
<div class="line"><a name="l05276"></a><span class="lineno"> 5276</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = 0;</div>
<div class="line"><a name="l05277"></a><span class="lineno"> 5277</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[1] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152aee8705374ad45df671cbba17e5614ca3">TARGET_SRC_CASTER</a>;</div>
<div class="line"><a name="l05278"></a><span class="lineno"> 5278</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[1] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a5636479f4e747c35d6eab829ac5ba6c1">TARGET_UNIT_SRC_AREA_ALLY</a>;</div>
<div class="line"><a name="l05279"></a><span class="lineno"> 5279</span>&#160;        spellInfo-&gt;EffectPointsPerComboPoint[1] = 2500;</div>
<div class="line"><a name="l05280"></a><span class="lineno"> 5280</span>&#160;        spellInfo-&gt;EffectBasePoints[1] = 2499;</div>
<div class="line"><a name="l05281"></a><span class="lineno"> 5281</span>&#160;        spellInfo-&gt;RangeIndex = 1;</div>
<div class="line"><a name="l05282"></a><span class="lineno"> 5282</span>&#160;        spellInfo-&gt;AttributesEx2 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><a name="l05283"></a><span class="lineno"> 5283</span>&#160;    });</div>
<div class="line"><a name="l05284"></a><span class="lineno"> 5284</span>&#160; </div>
<div class="line"><a name="l05285"></a><span class="lineno"> 5285</span>&#160;    <span class="comment">//Alexstrasza - Gift</span></div>
<div class="line"><a name="l05286"></a><span class="lineno"> 5286</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 61028 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05287"></a><span class="lineno"> 5287</span>&#160;    {</div>
<div class="line"><a name="l05288"></a><span class="lineno"> 5288</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>;</div>
<div class="line"><a name="l05289"></a><span class="lineno"> 5289</span>&#160;    });</div>
<div class="line"><a name="l05290"></a><span class="lineno"> 5290</span>&#160; </div>
<div class="line"><a name="l05291"></a><span class="lineno"> 5291</span>&#160;    <span class="comment">// Vortex (freeze anim)</span></div>
<div class="line"><a name="l05292"></a><span class="lineno"> 5292</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 55883 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05293"></a><span class="lineno"> 5293</span>&#160;    {</div>
<div class="line"><a name="l05294"></a><span class="lineno"> 5294</span>&#160;        spellInfo-&gt;AuraInterruptFlags |= <a class="code" href="../../d5/d32/_unit_8h.html#a0709fc3ab848cf1b8b4853813b8fe011addd23de47de1322a4cc921e361bc6dd8">AURA_INTERRUPT_FLAG_CHANGE_MAP</a>;</div>
<div class="line"><a name="l05295"></a><span class="lineno"> 5295</span>&#160;    });</div>
<div class="line"><a name="l05296"></a><span class="lineno"> 5296</span>&#160; </div>
<div class="line"><a name="l05297"></a><span class="lineno"> 5297</span>&#160;    <span class="comment">// Hurl Pyrite</span></div>
<div class="line"><a name="l05298"></a><span class="lineno"> 5298</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 62490 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05299"></a><span class="lineno"> 5299</span>&#160;    {</div>
<div class="line"><a name="l05300"></a><span class="lineno"> 5300</span>&#160;        spellInfo-&gt;Effect[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77a8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>] = 0;</div>
<div class="line"><a name="l05301"></a><span class="lineno"> 5301</span>&#160;    });</div>
<div class="line"><a name="l05302"></a><span class="lineno"> 5302</span>&#160; </div>
<div class="line"><a name="l05303"></a><span class="lineno"> 5303</span>&#160;    <span class="comment">// Ulduar, Mimiron, Magnetic Core (summon)</span></div>
<div class="line"><a name="l05304"></a><span class="lineno"> 5304</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 64444 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05305"></a><span class="lineno"> 5305</span>&#160;    {</div>
<div class="line"><a name="l05306"></a><span class="lineno"> 5306</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152aaff4bf7194055bf177ba701c46cdcadb">TARGET_DEST_CASTER</a>;</div>
<div class="line"><a name="l05307"></a><span class="lineno"> 5307</span>&#160;    });</div>
<div class="line"><a name="l05308"></a><span class="lineno"> 5308</span>&#160; </div>
<div class="line"><a name="l05309"></a><span class="lineno"> 5309</span>&#160;    <span class="comment">// Ulduar, Mimiron, bomb bot explosion</span></div>
<div class="line"><a name="l05310"></a><span class="lineno"> 5310</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 63801 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05311"></a><span class="lineno"> 5311</span>&#160;    {</div>
<div class="line"><a name="l05312"></a><span class="lineno"> 5312</span>&#160;        spellInfo-&gt;EffectMiscValue[1] = 17286;</div>
<div class="line"><a name="l05313"></a><span class="lineno"> 5313</span>&#160;    });</div>
<div class="line"><a name="l05314"></a><span class="lineno"> 5314</span>&#160; </div>
<div class="line"><a name="l05315"></a><span class="lineno"> 5315</span>&#160;    <span class="comment">// Ulduar, Mimiron, Summon Flames Initial</span></div>
<div class="line"><a name="l05316"></a><span class="lineno"> 5316</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 64563 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05317"></a><span class="lineno"> 5317</span>&#160;    {</div>
<div class="line"><a name="l05318"></a><span class="lineno"> 5318</span>&#160;        spellInfo-&gt;AttributesEx2 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><a name="l05319"></a><span class="lineno"> 5319</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a>;</div>
<div class="line"><a name="l05320"></a><span class="lineno"> 5320</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>;</div>
<div class="line"><a name="l05321"></a><span class="lineno"> 5321</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = 0;</div>
<div class="line"><a name="l05322"></a><span class="lineno"> 5322</span>&#160;    });</div>
<div class="line"><a name="l05323"></a><span class="lineno"> 5323</span>&#160; </div>
<div class="line"><a name="l05324"></a><span class="lineno"> 5324</span>&#160;    <span class="comment">// Ulduar, Mimiron, Flames (damage)</span></div>
<div class="line"><a name="l05325"></a><span class="lineno"> 5325</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 64566 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05326"></a><span class="lineno"> 5326</span>&#160;    {</div>
<div class="line"><a name="l05327"></a><span class="lineno"> 5327</span>&#160;        spellInfo-&gt;AttributesEx2 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><a name="l05328"></a><span class="lineno"> 5328</span>&#160;        spellInfo-&gt;AttributesEx4 &amp;= ~<a class="code" href="../../df/d0b/_shared_defines_8h.html#aec1a0b3970de527f109db7fb8b7df5b6ab1a8611660de2bc3a6ff4523b2d76376">SPELL_ATTR4_NO_CAST_LOG</a>;</div>
<div class="line"><a name="l05329"></a><span class="lineno"> 5329</span>&#160;    });</div>
<div class="line"><a name="l05330"></a><span class="lineno"> 5330</span>&#160; </div>
<div class="line"><a name="l05331"></a><span class="lineno"> 5331</span>&#160;    <span class="comment">// Ulduar, Hodir, Starlight</span></div>
<div class="line"><a name="l05332"></a><span class="lineno"> 5332</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 62807 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05333"></a><span class="lineno"> 5333</span>&#160;    {</div>
<div class="line"><a name="l05334"></a><span class="lineno"> 5334</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = 16; <span class="comment">// 1yd</span></div>
<div class="line"><a name="l05335"></a><span class="lineno"> 5335</span>&#160;    });</div>
<div class="line"><a name="l05336"></a><span class="lineno"> 5336</span>&#160; </div>
<div class="line"><a name="l05337"></a><span class="lineno"> 5337</span>&#160;    <span class="comment">// Hodir Shatter Cache</span></div>
<div class="line"><a name="l05338"></a><span class="lineno"> 5338</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 62502 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05339"></a><span class="lineno"> 5339</span>&#160;    {</div>
<div class="line"><a name="l05340"></a><span class="lineno"> 5340</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a3f043071f052463518f0978322c782c6">TARGET_UNIT_SRC_AREA_ENTRY</a>;</div>
<div class="line"><a name="l05341"></a><span class="lineno"> 5341</span>&#160;    });</div>
<div class="line"><a name="l05342"></a><span class="lineno"> 5342</span>&#160; </div>
<div class="line"><a name="l05343"></a><span class="lineno"> 5343</span>&#160;    <span class="comment">// Ulduar, General Vezax, Mark of the Faceless</span></div>
<div class="line"><a name="l05344"></a><span class="lineno"> 5344</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 63278 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05345"></a><span class="lineno"> 5345</span>&#160;    {</div>
<div class="line"><a name="l05346"></a><span class="lineno"> 5346</span>&#160;        spellInfo-&gt;Effect[0] = 0;</div>
<div class="line"><a name="l05347"></a><span class="lineno"> 5347</span>&#160;    });</div>
<div class="line"><a name="l05348"></a><span class="lineno"> 5348</span>&#160; </div>
<div class="line"><a name="l05349"></a><span class="lineno"> 5349</span>&#160;    <span class="comment">// Boom (XT-002)</span></div>
<div class="line"><a name="l05350"></a><span class="lineno"> 5350</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 62834 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05351"></a><span class="lineno"> 5351</span>&#160;    {</div>
<div class="line"><a name="l05352"></a><span class="lineno"> 5352</span>&#160;        spellInfo-&gt;Effect[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77a8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>] = 0;</div>
<div class="line"><a name="l05353"></a><span class="lineno"> 5353</span>&#160;    });</div>
<div class="line"><a name="l05354"></a><span class="lineno"> 5354</span>&#160; </div>
<div class="line"><a name="l05355"></a><span class="lineno"> 5355</span>&#160;    <span class="comment">// Supercharge</span></div>
<div class="line"><a name="l05356"></a><span class="lineno"> 5356</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 61920 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05357"></a><span class="lineno"> 5357</span>&#160;    {</div>
<div class="line"><a name="l05358"></a><span class="lineno"> 5358</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67">SPELL_ATTR3_DOT_STACKING_RULE</a>;</div>
<div class="line"><a name="l05359"></a><span class="lineno"> 5359</span>&#160;    });</div>
<div class="line"><a name="l05360"></a><span class="lineno"> 5360</span>&#160; </div>
<div class="line"><a name="l05361"></a><span class="lineno"> 5361</span>&#160;    <span class="comment">// Lightning Whirl</span></div>
<div class="line"><a name="l05362"></a><span class="lineno"> 5362</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 61916 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05363"></a><span class="lineno"> 5363</span>&#160;    {</div>
<div class="line"><a name="l05364"></a><span class="lineno"> 5364</span>&#160;        spellInfo-&gt;MaxAffectedTargets = 3;</div>
<div class="line"><a name="l05365"></a><span class="lineno"> 5365</span>&#160;    });</div>
<div class="line"><a name="l05366"></a><span class="lineno"> 5366</span>&#160; </div>
<div class="line"><a name="l05367"></a><span class="lineno"> 5367</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 63482 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05368"></a><span class="lineno"> 5368</span>&#160;    {</div>
<div class="line"><a name="l05369"></a><span class="lineno"> 5369</span>&#160;        spellInfo-&gt;MaxAffectedTargets = 8;</div>
<div class="line"><a name="l05370"></a><span class="lineno"> 5370</span>&#160;    });</div>
<div class="line"><a name="l05371"></a><span class="lineno"> 5371</span>&#160; </div>
<div class="line"><a name="l05372"></a><span class="lineno"> 5372</span>&#160;    <span class="comment">// Stone Grip, remove absorb aura</span></div>
<div class="line"><a name="l05373"></a><span class="lineno"> 5373</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 62056, 63985 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05374"></a><span class="lineno"> 5374</span>&#160;    {</div>
<div class="line"><a name="l05375"></a><span class="lineno"> 5375</span>&#160;        spellInfo-&gt;Effect[1] = 0;</div>
<div class="line"><a name="l05376"></a><span class="lineno"> 5376</span>&#160;    });</div>
<div class="line"><a name="l05377"></a><span class="lineno"> 5377</span>&#160; </div>
<div class="line"><a name="l05378"></a><span class="lineno"> 5378</span>&#160;    <span class="comment">// Sentinel Blast</span></div>
<div class="line"><a name="l05379"></a><span class="lineno"> 5379</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 64389, 64678 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05380"></a><span class="lineno"> 5380</span>&#160;    {</div>
<div class="line"><a name="l05381"></a><span class="lineno"> 5381</span>&#160;        spellInfo-&gt;Dispel = <a class="code" href="../../df/d0b/_shared_defines_8h.html#ada2b5e66b650d7a63f70c06a746070d1a6672f5f1c819fba2de73b0e8c8a9cb06">DISPEL_MAGIC</a>;</div>
<div class="line"><a name="l05382"></a><span class="lineno"> 5382</span>&#160;    });</div>
<div class="line"><a name="l05383"></a><span class="lineno"> 5383</span>&#160; </div>
<div class="line"><a name="l05384"></a><span class="lineno"> 5384</span>&#160;    <span class="comment">// Potent Pheromones</span></div>
<div class="line"><a name="l05385"></a><span class="lineno"> 5385</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 62619 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05386"></a><span class="lineno"> 5386</span>&#160;    {</div>
<div class="line"><a name="l05387"></a><span class="lineno"> 5387</span>&#160;        spellInfo-&gt;AttributesEx |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a638f8f550e23b2e3180b481bb3f38076ab2ba4cd294111dc378e33055074250be">SPELL_ATTR1_IMMUNITY_PURGES_EFFECT</a>;</div>
<div class="line"><a name="l05388"></a><span class="lineno"> 5388</span>&#160;    });</div>
<div class="line"><a name="l05389"></a><span class="lineno"> 5389</span>&#160; </div>
<div class="line"><a name="l05390"></a><span class="lineno"> 5390</span>&#160;    <span class="comment">// Healthy spore summon periodic</span></div>
<div class="line"><a name="l05391"></a><span class="lineno"> 5391</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 62566 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05392"></a><span class="lineno"> 5392</span>&#160;    {</div>
<div class="line"><a name="l05393"></a><span class="lineno"> 5393</span>&#160;        spellInfo-&gt;EffectAmplitude[0] = 2000;</div>
<div class="line"><a name="l05394"></a><span class="lineno"> 5394</span>&#160;        spellInfo-&gt;EffectApplyAuraName[0] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799af51e1877e096bbfd69505e5ab4fc69ad">SPELL_AURA_PERIODIC_TRIGGER_SPELL</a>;</div>
<div class="line"><a name="l05395"></a><span class="lineno"> 5395</span>&#160;    });</div>
<div class="line"><a name="l05396"></a><span class="lineno"> 5396</span>&#160; </div>
<div class="line"><a name="l05397"></a><span class="lineno"> 5397</span>&#160;    <span class="comment">// Brightleaf Essence trigger</span></div>
<div class="line"><a name="l05398"></a><span class="lineno"> 5398</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 62968 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05399"></a><span class="lineno"> 5399</span>&#160;    {</div>
<div class="line"><a name="l05400"></a><span class="lineno"> 5400</span>&#160;        spellInfo-&gt;Effect[1] = 0; <span class="comment">// duplicate</span></div>
<div class="line"><a name="l05401"></a><span class="lineno"> 5401</span>&#160;    });</div>
<div class="line"><a name="l05402"></a><span class="lineno"> 5402</span>&#160; </div>
<div class="line"><a name="l05403"></a><span class="lineno"> 5403</span>&#160;    <span class="comment">// Potent Pheromones</span></div>
<div class="line"><a name="l05404"></a><span class="lineno"> 5404</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 64321 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05405"></a><span class="lineno"> 5405</span>&#160;    {</div>
<div class="line"><a name="l05406"></a><span class="lineno"> 5406</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81afd31a3efb01e11ee685cd0cac502b9ac">SPELL_ATTR3_ONLY_ON_PLAYER</a>;</div>
<div class="line"><a name="l05407"></a><span class="lineno"> 5407</span>&#160;        spellInfo-&gt;AttributesEx |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a638f8f550e23b2e3180b481bb3f38076ab2ba4cd294111dc378e33055074250be">SPELL_ATTR1_IMMUNITY_PURGES_EFFECT</a>;</div>
<div class="line"><a name="l05408"></a><span class="lineno"> 5408</span>&#160;    });</div>
<div class="line"><a name="l05409"></a><span class="lineno"> 5409</span>&#160; </div>
<div class="line"><a name="l05410"></a><span class="lineno"> 5410</span>&#160;    <span class="comment">// Lightning Orb Charged</span></div>
<div class="line"><a name="l05411"></a><span class="lineno"> 5411</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 62186 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05412"></a><span class="lineno"> 5412</span>&#160;    {</div>
<div class="line"><a name="l05413"></a><span class="lineno"> 5413</span>&#160;        spellInfo-&gt;EffectAmplitude[0] = 5000; <span class="comment">// Duration 5 secs, amplitude 8 secs...</span></div>
<div class="line"><a name="l05414"></a><span class="lineno"> 5414</span>&#160;    });</div>
<div class="line"><a name="l05415"></a><span class="lineno"> 5415</span>&#160; </div>
<div class="line"><a name="l05416"></a><span class="lineno"> 5416</span>&#160;    <span class="comment">// Lightning Pillar</span></div>
<div class="line"><a name="l05417"></a><span class="lineno"> 5417</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 62976 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05418"></a><span class="lineno"> 5418</span>&#160;    {</div>
<div class="line"><a name="l05419"></a><span class="lineno"> 5419</span>&#160;        spellInfo-&gt;RangeIndex = 6;</div>
<div class="line"><a name="l05420"></a><span class="lineno"> 5420</span>&#160;        spellInfo-&gt;DurationIndex = 28;</div>
<div class="line"><a name="l05421"></a><span class="lineno"> 5421</span>&#160;    });</div>
<div class="line"><a name="l05422"></a><span class="lineno"> 5422</span>&#160; </div>
<div class="line"><a name="l05423"></a><span class="lineno"> 5423</span>&#160;    <span class="comment">// Sif&#39;s Blizzard</span></div>
<div class="line"><a name="l05424"></a><span class="lineno"> 5424</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 62576, 62602 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05425"></a><span class="lineno"> 5425</span>&#160;    {</div>
<div class="line"><a name="l05426"></a><span class="lineno"> 5426</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = 14; <span class="comment">// 8yd</span></div>
<div class="line"><a name="l05427"></a><span class="lineno"> 5427</span>&#160;        spellInfo-&gt;EffectRadiusIndex[1] = 14; <span class="comment">// 8yd</span></div>
<div class="line"><a name="l05428"></a><span class="lineno"> 5428</span>&#160;    });</div>
<div class="line"><a name="l05429"></a><span class="lineno"> 5429</span>&#160; </div>
<div class="line"><a name="l05430"></a><span class="lineno"> 5430</span>&#160;    <span class="comment">// Protective Gaze</span></div>
<div class="line"><a name="l05431"></a><span class="lineno"> 5431</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 64175 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05432"></a><span class="lineno"> 5432</span>&#160;    {</div>
<div class="line"><a name="l05433"></a><span class="lineno"> 5433</span>&#160;        spellInfo-&gt;RecoveryTime = 25000;</div>
<div class="line"><a name="l05434"></a><span class="lineno"> 5434</span>&#160;    });</div>
<div class="line"><a name="l05435"></a><span class="lineno"> 5435</span>&#160; </div>
<div class="line"><a name="l05436"></a><span class="lineno"> 5436</span>&#160;    <span class="comment">// Shadow Beacon</span></div>
<div class="line"><a name="l05437"></a><span class="lineno"> 5437</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 64465 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05438"></a><span class="lineno"> 5438</span>&#160;    {</div>
<div class="line"><a name="l05439"></a><span class="lineno"> 5439</span>&#160;        spellInfo-&gt;EffectTriggerSpell[0] = 64467; <span class="comment">// why do they need two script effects :/ (this one has visual effect)</span></div>
<div class="line"><a name="l05440"></a><span class="lineno"> 5440</span>&#160;    });</div>
<div class="line"><a name="l05441"></a><span class="lineno"> 5441</span>&#160; </div>
<div class="line"><a name="l05442"></a><span class="lineno"> 5442</span>&#160;    <span class="comment">// Sanity</span></div>
<div class="line"><a name="l05443"></a><span class="lineno"> 5443</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 63050 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05444"></a><span class="lineno"> 5444</span>&#160;    {</div>
<div class="line"><a name="l05445"></a><span class="lineno"> 5445</span>&#160;        spellInfo-&gt;AttributesEx6 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#afc0226d0611e178e6edb4d2776e03094a78992c0cb395380959dea6189150d8bb">SPELL_ATTR6_IGNORE_PHASE_SHIFT</a>;</div>
<div class="line"><a name="l05446"></a><span class="lineno"> 5446</span>&#160;    });</div>
<div class="line"><a name="l05447"></a><span class="lineno"> 5447</span>&#160; </div>
<div class="line"><a name="l05448"></a><span class="lineno"> 5448</span>&#160;    <span class="comment">// Shadow Nova</span></div>
<div class="line"><a name="l05449"></a><span class="lineno"> 5449</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 62714, 65209 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05450"></a><span class="lineno"> 5450</span>&#160;    {</div>
<div class="line"><a name="l05451"></a><span class="lineno"> 5451</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a>;</div>
<div class="line"><a name="l05452"></a><span class="lineno"> 5452</span>&#160;    });</div>
<div class="line"><a name="l05453"></a><span class="lineno"> 5453</span>&#160; </div>
<div class="line"><a name="l05454"></a><span class="lineno"> 5454</span>&#160;    <span class="comment">// Cosmic Smash (Algalon the Observer)</span></div>
<div class="line"><a name="l05455"></a><span class="lineno"> 5455</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 62293 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05456"></a><span class="lineno"> 5456</span>&#160;    {</div>
<div class="line"><a name="l05457"></a><span class="lineno"> 5457</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152aaff4bf7194055bf177ba701c46cdcadb">TARGET_DEST_CASTER</a>;</div>
<div class="line"><a name="l05458"></a><span class="lineno"> 5458</span>&#160;    });</div>
<div class="line"><a name="l05459"></a><span class="lineno"> 5459</span>&#160; </div>
<div class="line"><a name="l05460"></a><span class="lineno"> 5460</span>&#160;    <span class="comment">// Cosmic Smash (Algalon the Observer)</span></div>
<div class="line"><a name="l05461"></a><span class="lineno"> 5461</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 62311, 64596 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05462"></a><span class="lineno"> 5462</span>&#160;    {</div>
<div class="line"><a name="l05463"></a><span class="lineno"> 5463</span>&#160;        spellInfo-&gt;AttributesEx2 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><a name="l05464"></a><span class="lineno"> 5464</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = 12; <span class="comment">// 100yd</span></div>
<div class="line"><a name="l05465"></a><span class="lineno"> 5465</span>&#160;        spellInfo-&gt;RangeIndex = 13;  <span class="comment">// 50000yd</span></div>
<div class="line"><a name="l05466"></a><span class="lineno"> 5466</span>&#160;    });</div>
<div class="line"><a name="l05467"></a><span class="lineno"> 5467</span>&#160; </div>
<div class="line"><a name="l05468"></a><span class="lineno"> 5468</span>&#160;    <span class="comment">// Constellation Phase Effect</span></div>
<div class="line"><a name="l05469"></a><span class="lineno"> 5469</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 65509 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05470"></a><span class="lineno"> 5470</span>&#160;    {</div>
<div class="line"><a name="l05471"></a><span class="lineno"> 5471</span>&#160;        spellInfo-&gt;MaxAffectedTargets = 1;</div>
<div class="line"><a name="l05472"></a><span class="lineno"> 5472</span>&#160;    });</div>
<div class="line"><a name="l05473"></a><span class="lineno"> 5473</span>&#160; </div>
<div class="line"><a name="l05474"></a><span class="lineno"> 5474</span>&#160;    <span class="comment">// Black Hole</span></div>
<div class="line"><a name="l05475"></a><span class="lineno"> 5475</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 62168, 65250, 62169 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05476"></a><span class="lineno"> 5476</span>&#160;    {</div>
<div class="line"><a name="l05477"></a><span class="lineno"> 5477</span>&#160;        spellInfo-&gt;Attributes |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada2d40022c3a03aa2a0e78dfe6a115e3f3">SPELL_ATTR0_AURA_IS_DEBUFF</a>;</div>
<div class="line"><a name="l05478"></a><span class="lineno"> 5478</span>&#160;    });</div>
<div class="line"><a name="l05479"></a><span class="lineno"> 5479</span>&#160; </div>
<div class="line"><a name="l05480"></a><span class="lineno"> 5480</span>&#160;    <span class="comment">// Ground Slam</span></div>
<div class="line"><a name="l05481"></a><span class="lineno"> 5481</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 62625 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05482"></a><span class="lineno"> 5482</span>&#160;    {</div>
<div class="line"><a name="l05483"></a><span class="lineno"> 5483</span>&#160;        spellInfo-&gt;InterruptFlags |= <a class="code" href="../../d5/d32/_unit_8h.html#abadf2f982fd866917c372d16ab99c109a69ed081a90c21e0d86095c70de005dbb">SPELL_INTERRUPT_FLAG_INTERRUPT</a>;</div>
<div class="line"><a name="l05484"></a><span class="lineno"> 5484</span>&#160;    });</div>
<div class="line"><a name="l05485"></a><span class="lineno"> 5485</span>&#160; </div>
<div class="line"><a name="l05486"></a><span class="lineno"> 5486</span>&#160;    <span class="comment">// Onyxia&#39;s Lair, Onyxia, Flame Breath (TriggerSpell = 0 and spamming errors in console)</span></div>
<div class="line"><a name="l05487"></a><span class="lineno"> 5487</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 18435 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05488"></a><span class="lineno"> 5488</span>&#160;    {</div>
<div class="line"><a name="l05489"></a><span class="lineno"> 5489</span>&#160;        spellInfo-&gt;Effect[1] = 0;</div>
<div class="line"><a name="l05490"></a><span class="lineno"> 5490</span>&#160;    });</div>
<div class="line"><a name="l05491"></a><span class="lineno"> 5491</span>&#160; </div>
<div class="line"><a name="l05492"></a><span class="lineno"> 5492</span>&#160;    <span class="comment">// Onyxia&#39;s Lair, Onyxia, Create Onyxia Spawner</span></div>
<div class="line"><a name="l05493"></a><span class="lineno"> 5493</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 17647 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05494"></a><span class="lineno"> 5494</span>&#160;    {</div>
<div class="line"><a name="l05495"></a><span class="lineno"> 5495</span>&#160;        spellInfo-&gt;DurationIndex = 37;</div>
<div class="line"><a name="l05496"></a><span class="lineno"> 5496</span>&#160;    });</div>
<div class="line"><a name="l05497"></a><span class="lineno"> 5497</span>&#160; </div>
<div class="line"><a name="l05498"></a><span class="lineno"> 5498</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l05499"></a><span class="lineno"> 5499</span>&#160;        17646,  <span class="comment">// Onyxia&#39;s Lair, Onyxia, Summon Onyxia Whelp</span></div>
<div class="line"><a name="l05500"></a><span class="lineno"> 5500</span>&#160;        68968   <span class="comment">// Onyxia&#39;s Lair, Onyxia, Summon Lair Guard</span></div>
<div class="line"><a name="l05501"></a><span class="lineno"> 5501</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05502"></a><span class="lineno"> 5502</span>&#160;    {</div>
<div class="line"><a name="l05503"></a><span class="lineno"> 5503</span>&#160;        spellInfo-&gt;Targets |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a3c11f0d0cd9689554b34ccbc325da54fa6743615e8912aefb100fe3f804c162be">TARGET_FLAG_DEST_LOCATION</a>;</div>
<div class="line"><a name="l05504"></a><span class="lineno"> 5504</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>;</div>
<div class="line"><a name="l05505"></a><span class="lineno"> 5505</span>&#160;        spellInfo-&gt;RangeIndex = 13;</div>
<div class="line"><a name="l05506"></a><span class="lineno"> 5506</span>&#160;        spellInfo-&gt;DurationIndex = 5;</div>
<div class="line"><a name="l05507"></a><span class="lineno"> 5507</span>&#160;    });</div>
<div class="line"><a name="l05508"></a><span class="lineno"> 5508</span>&#160; </div>
<div class="line"><a name="l05509"></a><span class="lineno"> 5509</span>&#160;    <span class="comment">// Onyxia&#39;s Lair, Onyxia, Eruption</span></div>
<div class="line"><a name="l05510"></a><span class="lineno"> 5510</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 17731, 69294 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05511"></a><span class="lineno"> 5511</span>&#160;    {</div>
<div class="line"><a name="l05512"></a><span class="lineno"> 5512</span>&#160;        spellInfo-&gt;Effect[1] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a027bcdf3b42e90e7374802fe61fd776d">SPELL_EFFECT_DUMMY</a>;</div>
<div class="line"><a name="l05513"></a><span class="lineno"> 5513</span>&#160;        spellInfo-&gt;CastingTimeIndex = 3;</div>
<div class="line"><a name="l05514"></a><span class="lineno"> 5514</span>&#160;        spellInfo-&gt;EffectRadiusIndex[1] = 19; <span class="comment">// 18yd instead of 13yd to make sure all cracks erupt</span></div>
<div class="line"><a name="l05515"></a><span class="lineno"> 5515</span>&#160;    });</div>
<div class="line"><a name="l05516"></a><span class="lineno"> 5516</span>&#160; </div>
<div class="line"><a name="l05517"></a><span class="lineno"> 5517</span>&#160;    <span class="comment">// Onyxia&#39;s Lair, Onyxia, Breath</span></div>
<div class="line"><a name="l05518"></a><span class="lineno"> 5518</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l05519"></a><span class="lineno"> 5519</span>&#160;        18576, 18578, 18579, 18580, 18581, 18582, 18583, 18609, 18611, 18612, 18613, 18614, 18615, 18616, 18584,</div>
<div class="line"><a name="l05520"></a><span class="lineno"> 5520</span>&#160;        18585, 18586, 18587, 18588, 18589, 18590, 18591, 18592, 18593, 18594, 18595, 18564, 18565, 18566, 18567,</div>
<div class="line"><a name="l05521"></a><span class="lineno"> 5521</span>&#160;        18568, 18569, 18570, 18571, 18572, 18573, 18574, 18575, 18596, 18597, 18598, 18599, 18600, 18601, 18602,</div>
<div class="line"><a name="l05522"></a><span class="lineno"> 5522</span>&#160;        18603, 18604, 18605, 18606, 18607, 18617, 18619, 18620, 18621, 18622, 18623, 18624, 18625, 18626, 18627,</div>
<div class="line"><a name="l05523"></a><span class="lineno"> 5523</span>&#160;        18628, 18618, 18351, 18352, 18353, 18354, 18355, 18356, 18357, 18358, 18359, 18360, 18361, 17086, 17087,</div>
<div class="line"><a name="l05524"></a><span class="lineno"> 5524</span>&#160;        17088, 17089, 17090, 17091, 17092, 17093, 17094, 17095, 17097, 22267, 22268, 21132, 21133, 21135, 21136,</div>
<div class="line"><a name="l05525"></a><span class="lineno"> 5525</span>&#160;        21137, 21138, 21139</div>
<div class="line"><a name="l05526"></a><span class="lineno"> 5526</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05527"></a><span class="lineno"> 5527</span>&#160;    {</div>
<div class="line"><a name="l05528"></a><span class="lineno"> 5528</span>&#160;        spellInfo-&gt;DurationIndex = 328; <span class="comment">// 250ms</span></div>
<div class="line"><a name="l05529"></a><span class="lineno"> 5529</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[1] = 1;</div>
<div class="line"><a name="l05530"></a><span class="lineno"> 5530</span>&#160;        <span class="keywordflow">if</span> (spellInfo-&gt;Effect[1])</div>
<div class="line"><a name="l05531"></a><span class="lineno"> 5531</span>&#160;        {</div>
<div class="line"><a name="l05532"></a><span class="lineno"> 5532</span>&#160;            spellInfo-&gt;Effect[1] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>;</div>
<div class="line"><a name="l05533"></a><span class="lineno"> 5533</span>&#160;            spellInfo-&gt;EffectApplyAuraName[1] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799af51e1877e096bbfd69505e5ab4fc69ad">SPELL_AURA_PERIODIC_TRIGGER_SPELL</a>;</div>
<div class="line"><a name="l05534"></a><span class="lineno"> 5534</span>&#160;            spellInfo-&gt;EffectAmplitude[1] = ((spellInfo-&gt;CastingTimeIndex == 170) ? 50 : 215);</div>
<div class="line"><a name="l05535"></a><span class="lineno"> 5535</span>&#160;        }</div>
<div class="line"><a name="l05536"></a><span class="lineno"> 5536</span>&#160;    });</div>
<div class="line"><a name="l05537"></a><span class="lineno"> 5537</span>&#160; </div>
<div class="line"><a name="l05538"></a><span class="lineno"> 5538</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l05539"></a><span class="lineno"> 5539</span>&#160;        48760,  <span class="comment">// Oculus, Teleport to Coldarra DND</span></div>
<div class="line"><a name="l05540"></a><span class="lineno"> 5540</span>&#160;        49305   <span class="comment">// Oculus, Teleport to Boss 1 DND</span></div>
<div class="line"><a name="l05541"></a><span class="lineno"> 5541</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05542"></a><span class="lineno"> 5542</span>&#160;    {</div>
<div class="line"><a name="l05543"></a><span class="lineno"> 5543</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = 25;</div>
<div class="line"><a name="l05544"></a><span class="lineno"> 5544</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = 17;</div>
<div class="line"><a name="l05545"></a><span class="lineno"> 5545</span>&#160;    });</div>
<div class="line"><a name="l05546"></a><span class="lineno"> 5546</span>&#160; </div>
<div class="line"><a name="l05547"></a><span class="lineno"> 5547</span>&#160;    <span class="comment">// Oculus, Drake spell Stop Time</span></div>
<div class="line"><a name="l05548"></a><span class="lineno"> 5548</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 49838 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05549"></a><span class="lineno"> 5549</span>&#160;    {</div>
<div class="line"><a name="l05550"></a><span class="lineno"> 5550</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81acdc9f1610f2a4cd247669ddb7497aa48">SPELL_ATTR3_SUPRESS_TARGET_PROCS</a>;</div>
<div class="line"><a name="l05551"></a><span class="lineno"> 5551</span>&#160;        spellInfo-&gt;ExcludeTargetAuraSpell = 51162; <span class="comment">// exclude planar shift</span></div>
<div class="line"><a name="l05552"></a><span class="lineno"> 5552</span>&#160;        spellInfo-&gt;EffectRadiusIndex[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6ad83d4353e8c1f40105dbc7e945eeceae">EFFECT_RADIUS_150_YARDS</a>;</div>
<div class="line"><a name="l05553"></a><span class="lineno"> 5553</span>&#160;    });</div>
<div class="line"><a name="l05554"></a><span class="lineno"> 5554</span>&#160; </div>
<div class="line"><a name="l05555"></a><span class="lineno"> 5555</span>&#160;    <span class="comment">// Oculus, Varos Cloudstrider, Energize Cores</span></div>
<div class="line"><a name="l05556"></a><span class="lineno"> 5556</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 61407, 62136, 56251, 54069 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05557"></a><span class="lineno"> 5557</span>&#160;    {</div>
<div class="line"><a name="l05558"></a><span class="lineno"> 5558</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a0b51bc473102ffda4749bf8515131ee2">TARGET_UNIT_CONE_ENTRY</a>;</div>
<div class="line"><a name="l05559"></a><span class="lineno"> 5559</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = 0;</div>
<div class="line"><a name="l05560"></a><span class="lineno"> 5560</span>&#160;    });</div>
<div class="line"><a name="l05561"></a><span class="lineno"> 5561</span>&#160; </div>
<div class="line"><a name="l05562"></a><span class="lineno"> 5562</span>&#160;    <span class="comment">// Halls of Lightning, Arc Weld</span></div>
<div class="line"><a name="l05563"></a><span class="lineno"> 5563</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 59086 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05564"></a><span class="lineno"> 5564</span>&#160;    {</div>
<div class="line"><a name="l05565"></a><span class="lineno"> 5565</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = 1;</div>
<div class="line"><a name="l05566"></a><span class="lineno"> 5566</span>&#160;    });</div>
<div class="line"><a name="l05567"></a><span class="lineno"> 5567</span>&#160; </div>
<div class="line"><a name="l05568"></a><span class="lineno"> 5568</span>&#160;    <span class="comment">// Halls of Lightning, Arcing Burn</span></div>
<div class="line"><a name="l05569"></a><span class="lineno"> 5569</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 52671, 59834 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05570"></a><span class="lineno"> 5570</span>&#160;    {</div>
<div class="line"><a name="l05571"></a><span class="lineno"> 5571</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67">SPELL_ATTR3_DOT_STACKING_RULE</a>;</div>
<div class="line"><a name="l05572"></a><span class="lineno"> 5572</span>&#160;    });</div>
<div class="line"><a name="l05573"></a><span class="lineno"> 5573</span>&#160; </div>
<div class="line"><a name="l05574"></a><span class="lineno"> 5574</span>&#160;    <span class="comment">// Trial of the Champion, Death&#39;s Respite</span></div>
<div class="line"><a name="l05575"></a><span class="lineno"> 5575</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 68306 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05576"></a><span class="lineno"> 5576</span>&#160;    {</div>
<div class="line"><a name="l05577"></a><span class="lineno"> 5577</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = 25;</div>
<div class="line"><a name="l05578"></a><span class="lineno"> 5578</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[1] = 25;</div>
<div class="line"><a name="l05579"></a><span class="lineno"> 5579</span>&#160;    });</div>
<div class="line"><a name="l05580"></a><span class="lineno"> 5580</span>&#160; </div>
<div class="line"><a name="l05581"></a><span class="lineno"> 5581</span>&#160;    <span class="comment">// Trial of the Champion, Eadric Achievement (The Faceroller)</span></div>
<div class="line"><a name="l05582"></a><span class="lineno"> 5582</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 68197 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05583"></a><span class="lineno"> 5583</span>&#160;    {</div>
<div class="line"><a name="l05584"></a><span class="lineno"> 5584</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a5636479f4e747c35d6eab829ac5ba6c1">TARGET_UNIT_SRC_AREA_ALLY</a>;</div>
<div class="line"><a name="l05585"></a><span class="lineno"> 5585</span>&#160;        spellInfo-&gt;Attributes |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44adaba896f4f7d6dc5d34f09ff29f5db159a">SPELL_ATTR0_ALLOW_CAST_WHILE_DEAD</a>;</div>
<div class="line"><a name="l05586"></a><span class="lineno"> 5586</span>&#160;    });</div>
<div class="line"><a name="l05587"></a><span class="lineno"> 5587</span>&#160; </div>
<div class="line"><a name="l05588"></a><span class="lineno"> 5588</span>&#160;    <span class="comment">// Trial of the Champion, Earth Shield</span></div>
<div class="line"><a name="l05589"></a><span class="lineno"> 5589</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 67530 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05590"></a><span class="lineno"> 5590</span>&#160;    {</div>
<div class="line"><a name="l05591"></a><span class="lineno"> 5591</span>&#160;        spellInfo-&gt;EffectApplyAuraName[0] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a3c6e04ab343a9f5ef767f8e8dd71af5b">SPELL_AURA_PROC_TRIGGER_SPELL</a>; <span class="comment">// will trigger 67537</span></div>
<div class="line"><a name="l05592"></a><span class="lineno"> 5592</span>&#160;    });</div>
<div class="line"><a name="l05593"></a><span class="lineno"> 5593</span>&#160; </div>
<div class="line"><a name="l05594"></a><span class="lineno"> 5594</span>&#160;    <span class="comment">// Trial of the Champion, Hammer of the Righteous</span></div>
<div class="line"><a name="l05595"></a><span class="lineno"> 5595</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 66867 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05596"></a><span class="lineno"> 5596</span>&#160;    {</div>
<div class="line"><a name="l05597"></a><span class="lineno"> 5597</span>&#160;        spellInfo-&gt;Effect[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a027bcdf3b42e90e7374802fe61fd776d">SPELL_EFFECT_DUMMY</a>;</div>
<div class="line"><a name="l05598"></a><span class="lineno"> 5598</span>&#160;    });</div>
<div class="line"><a name="l05599"></a><span class="lineno"> 5599</span>&#160; </div>
<div class="line"><a name="l05600"></a><span class="lineno"> 5600</span>&#160;    <span class="comment">// Trial of the Champion, Summon Risen Jaeren/Arelas</span></div>
<div class="line"><a name="l05601"></a><span class="lineno"> 5601</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 67705, 67715 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05602"></a><span class="lineno"> 5602</span>&#160;    {</div>
<div class="line"><a name="l05603"></a><span class="lineno"> 5603</span>&#160;        spellInfo-&gt;AttributesEx2 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668ad2cb623676f084a0370c1983084a29d8">SPELL_ATTR2_ALLOW_DEAD_TARGET</a>;</div>
<div class="line"><a name="l05604"></a><span class="lineno"> 5604</span>&#160;    });</div>
<div class="line"><a name="l05605"></a><span class="lineno"> 5605</span>&#160; </div>
<div class="line"><a name="l05606"></a><span class="lineno"> 5606</span>&#160;    <span class="comment">// Trial of the Champion, Ghoul Explode</span></div>
<div class="line"><a name="l05607"></a><span class="lineno"> 5607</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 67751 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05608"></a><span class="lineno"> 5608</span>&#160;    {</div>
<div class="line"><a name="l05609"></a><span class="lineno"> 5609</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152aee8705374ad45df671cbba17e5614ca3">TARGET_SRC_CASTER</a>;</div>
<div class="line"><a name="l05610"></a><span class="lineno"> 5610</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a3f043071f052463518f0978322c782c6">TARGET_UNIT_SRC_AREA_ENTRY</a>;</div>
<div class="line"><a name="l05611"></a><span class="lineno"> 5611</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = 12;</div>
<div class="line"><a name="l05612"></a><span class="lineno"> 5612</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[1] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152aee8705374ad45df671cbba17e5614ca3">TARGET_SRC_CASTER</a>;</div>
<div class="line"><a name="l05613"></a><span class="lineno"> 5613</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[1] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a3f043071f052463518f0978322c782c6">TARGET_UNIT_SRC_AREA_ENTRY</a>;</div>
<div class="line"><a name="l05614"></a><span class="lineno"> 5614</span>&#160;        spellInfo-&gt;EffectRadiusIndex[1] = 12;</div>
<div class="line"><a name="l05615"></a><span class="lineno"> 5615</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[2] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152aee8705374ad45df671cbba17e5614ca3">TARGET_SRC_CASTER</a>;</div>
<div class="line"><a name="l05616"></a><span class="lineno"> 5616</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[2] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a3f043071f052463518f0978322c782c6">TARGET_UNIT_SRC_AREA_ENTRY</a>;</div>
<div class="line"><a name="l05617"></a><span class="lineno"> 5617</span>&#160;        spellInfo-&gt;EffectRadiusIndex[2] = 12;</div>
<div class="line"><a name="l05618"></a><span class="lineno"> 5618</span>&#160;    });</div>
<div class="line"><a name="l05619"></a><span class="lineno"> 5619</span>&#160; </div>
<div class="line"><a name="l05620"></a><span class="lineno"> 5620</span>&#160;    <span class="comment">// Trial of the Champion, Desecration</span></div>
<div class="line"><a name="l05621"></a><span class="lineno"> 5621</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 67778, 67877 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05622"></a><span class="lineno"> 5622</span>&#160;    {</div>
<div class="line"><a name="l05623"></a><span class="lineno"> 5623</span>&#160;        spellInfo-&gt;EffectTriggerSpell[0] = 68766;</div>
<div class="line"><a name="l05624"></a><span class="lineno"> 5624</span>&#160;    });</div>
<div class="line"><a name="l05625"></a><span class="lineno"> 5625</span>&#160; </div>
<div class="line"><a name="l05626"></a><span class="lineno"> 5626</span>&#160;    <span class="comment">// Killing Spree (Off hand damage)</span></div>
<div class="line"><a name="l05627"></a><span class="lineno"> 5627</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 57842 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05628"></a><span class="lineno"> 5628</span>&#160;    {</div>
<div class="line"><a name="l05629"></a><span class="lineno"> 5629</span>&#160;        spellInfo-&gt;RangeIndex = 2; <span class="comment">// Melee Range</span></div>
<div class="line"><a name="l05630"></a><span class="lineno"> 5630</span>&#160;    });</div>
<div class="line"><a name="l05631"></a><span class="lineno"> 5631</span>&#160; </div>
<div class="line"><a name="l05632"></a><span class="lineno"> 5632</span>&#160;    <span class="comment">// Trial of the Crusader, Jaraxxus Intro spell</span></div>
<div class="line"><a name="l05633"></a><span class="lineno"> 5633</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 67888 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05634"></a><span class="lineno"> 5634</span>&#160;    {</div>
<div class="line"><a name="l05635"></a><span class="lineno"> 5635</span>&#160;        spellInfo-&gt;Attributes |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada70a88000e26e915779029013b794396e">SPELL_ATTR0_CANCELS_AUTO_ATTACK_COMBAT</a>;</div>
<div class="line"><a name="l05636"></a><span class="lineno"> 5636</span>&#160;        spellInfo-&gt;AttributesEx |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a638f8f550e23b2e3180b481bb3f38076a02166cd30d63804b4175bdfe29ffd068">SPELL_ATTR1_NO_THREAT</a>;</div>
<div class="line"><a name="l05637"></a><span class="lineno"> 5637</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81acdc9f1610f2a4cd247669ddb7497aa48">SPELL_ATTR3_SUPRESS_TARGET_PROCS</a>;</div>
<div class="line"><a name="l05638"></a><span class="lineno"> 5638</span>&#160;    });</div>
<div class="line"><a name="l05639"></a><span class="lineno"> 5639</span>&#160; </div>
<div class="line"><a name="l05640"></a><span class="lineno"> 5640</span>&#160;    <span class="comment">// Trial of the Crusader, Lich King Intro spell</span></div>
<div class="line"><a name="l05641"></a><span class="lineno"> 5641</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 68193 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05642"></a><span class="lineno"> 5642</span>&#160;    {</div>
<div class="line"><a name="l05643"></a><span class="lineno"> 5643</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a7b8c7cf5819db17b9ed16dfbb93addb4">TARGET_UNIT_SRC_AREA_ENEMY</a>;</div>
<div class="line"><a name="l05644"></a><span class="lineno"> 5644</span>&#160;    });</div>
<div class="line"><a name="l05645"></a><span class="lineno"> 5645</span>&#160; </div>
<div class="line"><a name="l05646"></a><span class="lineno"> 5646</span>&#160;    <span class="comment">// Trial of the Crusader, Gormok, player vehicle spell, CUSTOM! (default jump to hand, not used)</span></div>
<div class="line"><a name="l05647"></a><span class="lineno"> 5647</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 66342 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05648"></a><span class="lineno"> 5648</span>&#160;    {</div>
<div class="line"><a name="l05649"></a><span class="lineno"> 5649</span>&#160;        spellInfo-&gt;Effect[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>;</div>
<div class="line"><a name="l05650"></a><span class="lineno"> 5650</span>&#160;        spellInfo-&gt;EffectApplyAuraName[0] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799afdb369d59878e85eb2c47405d92b0a0b">SPELL_AURA_SET_VEHICLE_ID</a>;</div>
<div class="line"><a name="l05651"></a><span class="lineno"> 5651</span>&#160;        spellInfo-&gt;EffectMiscValue[0] = 496;</div>
<div class="line"><a name="l05652"></a><span class="lineno"> 5652</span>&#160;        spellInfo-&gt;DurationIndex = 21;</div>
<div class="line"><a name="l05653"></a><span class="lineno"> 5653</span>&#160;        spellInfo-&gt;RangeIndex = 13;</div>
<div class="line"><a name="l05654"></a><span class="lineno"> 5654</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = 25;</div>
<div class="line"><a name="l05655"></a><span class="lineno"> 5655</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = 0;</div>
<div class="line"><a name="l05656"></a><span class="lineno"> 5656</span>&#160;        spellInfo-&gt;AuraInterruptFlags = <a class="code" href="../../d5/d32/_unit_8h.html#a0709fc3ab848cf1b8b4853813b8fe011addd23de47de1322a4cc921e361bc6dd8">AURA_INTERRUPT_FLAG_CHANGE_MAP</a>;</div>
<div class="line"><a name="l05657"></a><span class="lineno"> 5657</span>&#160;    });</div>
<div class="line"><a name="l05658"></a><span class="lineno"> 5658</span>&#160; </div>
<div class="line"><a name="l05659"></a><span class="lineno"> 5659</span>&#160;    <span class="comment">// Trial of the Crusader, Gormok, Fire Bomb</span></div>
<div class="line"><a name="l05660"></a><span class="lineno"> 5660</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 66313 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05661"></a><span class="lineno"> 5661</span>&#160;    {</div>
<div class="line"><a name="l05662"></a><span class="lineno"> 5662</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>;</div>
<div class="line"><a name="l05663"></a><span class="lineno"> 5663</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a036a2b93df9713482bdbf62afd6d07cd">TARGET_DEST_TARGET_ANY</a>;</div>
<div class="line"><a name="l05664"></a><span class="lineno"> 5664</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[1] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>;</div>
<div class="line"><a name="l05665"></a><span class="lineno"> 5665</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[1] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a036a2b93df9713482bdbf62afd6d07cd">TARGET_DEST_TARGET_ANY</a>;</div>
<div class="line"><a name="l05666"></a><span class="lineno"> 5666</span>&#160;        spellInfo-&gt;Effect[1] = 0;</div>
<div class="line"><a name="l05667"></a><span class="lineno"> 5667</span>&#160;    });</div>
<div class="line"><a name="l05668"></a><span class="lineno"> 5668</span>&#160; </div>
<div class="line"><a name="l05669"></a><span class="lineno"> 5669</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 66317 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05670"></a><span class="lineno"> 5670</span>&#160;    {</div>
<div class="line"><a name="l05671"></a><span class="lineno"> 5671</span>&#160;        spellInfo-&gt;Attributes |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada70a88000e26e915779029013b794396e">SPELL_ATTR0_CANCELS_AUTO_ATTACK_COMBAT</a>;</div>
<div class="line"><a name="l05672"></a><span class="lineno"> 5672</span>&#160;        spellInfo-&gt;AttributesEx |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a638f8f550e23b2e3180b481bb3f38076a02166cd30d63804b4175bdfe29ffd068">SPELL_ATTR1_NO_THREAT</a>;</div>
<div class="line"><a name="l05673"></a><span class="lineno"> 5673</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81acdc9f1610f2a4cd247669ddb7497aa48">SPELL_ATTR3_SUPRESS_TARGET_PROCS</a>;</div>
<div class="line"><a name="l05674"></a><span class="lineno"> 5674</span>&#160;    });</div>
<div class="line"><a name="l05675"></a><span class="lineno"> 5675</span>&#160; </div>
<div class="line"><a name="l05676"></a><span class="lineno"> 5676</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 66318 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05677"></a><span class="lineno"> 5677</span>&#160;    {</div>
<div class="line"><a name="l05678"></a><span class="lineno"> 5678</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>;</div>
<div class="line"><a name="l05679"></a><span class="lineno"> 5679</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = 0;</div>
<div class="line"><a name="l05680"></a><span class="lineno"> 5680</span>&#160;        spellInfo-&gt;Speed = 14.0f;</div>
<div class="line"><a name="l05681"></a><span class="lineno"> 5681</span>&#160;        spellInfo-&gt;Attributes |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada70a88000e26e915779029013b794396e">SPELL_ATTR0_CANCELS_AUTO_ATTACK_COMBAT</a>;</div>
<div class="line"><a name="l05682"></a><span class="lineno"> 5682</span>&#160;        spellInfo-&gt;AttributesEx |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a638f8f550e23b2e3180b481bb3f38076a02166cd30d63804b4175bdfe29ffd068">SPELL_ATTR1_NO_THREAT</a>;</div>
<div class="line"><a name="l05683"></a><span class="lineno"> 5683</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81acdc9f1610f2a4cd247669ddb7497aa48">SPELL_ATTR3_SUPRESS_TARGET_PROCS</a>;</div>
<div class="line"><a name="l05684"></a><span class="lineno"> 5684</span>&#160;    });</div>
<div class="line"><a name="l05685"></a><span class="lineno"> 5685</span>&#160; </div>
<div class="line"><a name="l05686"></a><span class="lineno"> 5686</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 66320, 67472, 67473, 67475 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05687"></a><span class="lineno"> 5687</span>&#160;    {</div>
<div class="line"><a name="l05688"></a><span class="lineno"> 5688</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = 7;</div>
<div class="line"><a name="l05689"></a><span class="lineno"> 5689</span>&#160;        spellInfo-&gt;EffectRadiusIndex[1] = 7;</div>
<div class="line"><a name="l05690"></a><span class="lineno"> 5690</span>&#160;    });</div>
<div class="line"><a name="l05691"></a><span class="lineno"> 5691</span>&#160; </div>
<div class="line"><a name="l05692"></a><span class="lineno"> 5692</span>&#160;    <span class="comment">// Trial of the Crusader, Acidmaw &amp; Dreadscale, Emerge</span></div>
<div class="line"><a name="l05693"></a><span class="lineno"> 5693</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 66947 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05694"></a><span class="lineno"> 5694</span>&#160;    {</div>
<div class="line"><a name="l05695"></a><span class="lineno"> 5695</span>&#160;        spellInfo-&gt;AttributesEx5 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a376aa62261a98289589839b821786adaa38355c8ac37633a451b6ea0cad0389b6">SPELL_ATTR5_ALLOW_WHILE_STUNNED</a>;</div>
<div class="line"><a name="l05696"></a><span class="lineno"> 5696</span>&#160;    });</div>
<div class="line"><a name="l05697"></a><span class="lineno"> 5697</span>&#160; </div>
<div class="line"><a name="l05698"></a><span class="lineno"> 5698</span>&#160;    <span class="comment">// Trial of the Crusader, Jaraxxus, Curse of the Nether</span></div>
<div class="line"><a name="l05699"></a><span class="lineno"> 5699</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 66211 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05700"></a><span class="lineno"> 5700</span>&#160;    {</div>
<div class="line"><a name="l05701"></a><span class="lineno"> 5701</span>&#160;        spellInfo-&gt;ExcludeTargetAuraSpell = 66209; <span class="comment">// exclude Touch of Jaraxxus</span></div>
<div class="line"><a name="l05702"></a><span class="lineno"> 5702</span>&#160;    });</div>
<div class="line"><a name="l05703"></a><span class="lineno"> 5703</span>&#160; </div>
<div class="line"><a name="l05704"></a><span class="lineno"> 5704</span>&#160;    <span class="comment">// Trial of the Crusader, Jaraxxus, Summon Volcano</span></div>
<div class="line"><a name="l05705"></a><span class="lineno"> 5705</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 66258, 67901 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05706"></a><span class="lineno"> 5706</span>&#160;    {</div>
<div class="line"><a name="l05707"></a><span class="lineno"> 5707</span>&#160;        spellInfo-&gt;DurationIndex = 85; <span class="comment">// summon for 18 seconds, 15 not enough</span></div>
<div class="line"><a name="l05708"></a><span class="lineno"> 5708</span>&#160;    });</div>
<div class="line"><a name="l05709"></a><span class="lineno"> 5709</span>&#160; </div>
<div class="line"><a name="l05710"></a><span class="lineno"> 5710</span>&#160;    <span class="comment">// Trial of the Crusader, Jaraxxus, Spinning Pain Spike</span></div>
<div class="line"><a name="l05711"></a><span class="lineno"> 5711</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 66281 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05712"></a><span class="lineno"> 5712</span>&#160;    {</div>
<div class="line"><a name="l05713"></a><span class="lineno"> 5713</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = 26;</div>
<div class="line"><a name="l05714"></a><span class="lineno"> 5714</span>&#160;    });</div>
<div class="line"><a name="l05715"></a><span class="lineno"> 5715</span>&#160; </div>
<div class="line"><a name="l05716"></a><span class="lineno"> 5716</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 66287 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05717"></a><span class="lineno"> 5717</span>&#160;    {</div>
<div class="line"><a name="l05718"></a><span class="lineno"> 5718</span>&#160;        spellInfo-&gt;Effect[1] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>;</div>
<div class="line"><a name="l05719"></a><span class="lineno"> 5719</span>&#160;        spellInfo-&gt;EffectApplyAuraName[1] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a9a82bcb2293394d7dc4a105cc52f8aa1">SPELL_AURA_MOD_TAUNT</a>;</div>
<div class="line"><a name="l05720"></a><span class="lineno"> 5720</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[1] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152aab0751c8895d224e37904a23bc625efa">TARGET_UNIT_NEARBY_ENTRY</a>;</div>
<div class="line"><a name="l05721"></a><span class="lineno"> 5721</span>&#160;        spellInfo-&gt;Effect[2] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>;</div>
<div class="line"><a name="l05722"></a><span class="lineno"> 5722</span>&#160;        spellInfo-&gt;EffectApplyAuraName[2] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799afdf00dd634aaa25017ad329f58bd6cfd">SPELL_AURA_MOD_STUN</a>;</div>
<div class="line"><a name="l05723"></a><span class="lineno"> 5723</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[2] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>;</div>
<div class="line"><a name="l05724"></a><span class="lineno"> 5724</span>&#160;        spellInfo-&gt;DurationIndex = 35; <span class="comment">// 4 secs</span></div>
<div class="line"><a name="l05725"></a><span class="lineno"> 5725</span>&#160;    });</div>
<div class="line"><a name="l05726"></a><span class="lineno"> 5726</span>&#160; </div>
<div class="line"><a name="l05727"></a><span class="lineno"> 5727</span>&#160;    <span class="comment">// Trial of the Crusader, Jaraxxus, Fel Fireball</span></div>
<div class="line"><a name="l05728"></a><span class="lineno"> 5728</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 66532, 66963, 66964, 66965 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05729"></a><span class="lineno"> 5729</span>&#160;    {</div>
<div class="line"><a name="l05730"></a><span class="lineno"> 5730</span>&#160;        spellInfo-&gt;InterruptFlags |= <a class="code" href="../../d5/d32/_unit_8h.html#abadf2f982fd866917c372d16ab99c109a69ed081a90c21e0d86095c70de005dbb">SPELL_INTERRUPT_FLAG_INTERRUPT</a>;</div>
<div class="line"><a name="l05731"></a><span class="lineno"> 5731</span>&#160;    });</div>
<div class="line"><a name="l05732"></a><span class="lineno"> 5732</span>&#160; </div>
<div class="line"><a name="l05733"></a><span class="lineno"> 5733</span>&#160;    <span class="comment">// tempfix, make Nether Power not stealable</span></div>
<div class="line"><a name="l05734"></a><span class="lineno"> 5734</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 66228, 67106, 67107, 67108 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05735"></a><span class="lineno"> 5735</span>&#160;    {</div>
<div class="line"><a name="l05736"></a><span class="lineno"> 5736</span>&#160;        spellInfo-&gt;AttributesEx4 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#aec1a0b3970de527f109db7fb8b7df5b6ad292b675afe6f67c5524fb87701dbf59">SPELL_ATTR4_CANNOT_BE_STOLEN</a>;</div>
<div class="line"><a name="l05737"></a><span class="lineno"> 5737</span>&#160;    });</div>
<div class="line"><a name="l05738"></a><span class="lineno"> 5738</span>&#160; </div>
<div class="line"><a name="l05739"></a><span class="lineno"> 5739</span>&#160;    <span class="comment">// Trial of the Crusader, Faction Champions, Druid - Tranquality</span></div>
<div class="line"><a name="l05740"></a><span class="lineno"> 5740</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 66086, 67974, 67975, 67976 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05741"></a><span class="lineno"> 5741</span>&#160;    {</div>
<div class="line"><a name="l05742"></a><span class="lineno"> 5742</span>&#160;        spellInfo-&gt;Effect[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a140c94210262d911b2db681aba463d19">SPELL_EFFECT_APPLY_AREA_AURA_FRIEND</a>;</div>
<div class="line"><a name="l05743"></a><span class="lineno"> 5743</span>&#160;    });</div>
<div class="line"><a name="l05744"></a><span class="lineno"> 5744</span>&#160; </div>
<div class="line"><a name="l05745"></a><span class="lineno"> 5745</span>&#160;    <span class="comment">// Trial of the Crusader, Faction Champions, Shaman - Earth Shield</span></div>
<div class="line"><a name="l05746"></a><span class="lineno"> 5746</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 66063 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05747"></a><span class="lineno"> 5747</span>&#160;    {</div>
<div class="line"><a name="l05748"></a><span class="lineno"> 5748</span>&#160;        spellInfo-&gt;EffectApplyAuraName[0] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a3c6e04ab343a9f5ef767f8e8dd71af5b">SPELL_AURA_PROC_TRIGGER_SPELL</a>;</div>
<div class="line"><a name="l05749"></a><span class="lineno"> 5749</span>&#160;        spellInfo-&gt;EffectTriggerSpell[0] = 66064;</div>
<div class="line"><a name="l05750"></a><span class="lineno"> 5750</span>&#160;    });</div>
<div class="line"><a name="l05751"></a><span class="lineno"> 5751</span>&#160; </div>
<div class="line"><a name="l05752"></a><span class="lineno"> 5752</span>&#160;    <span class="comment">// Trial of the Crusader, Faction Champions, Priest - Mana Burn</span></div>
<div class="line"><a name="l05753"></a><span class="lineno"> 5753</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 66100 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05754"></a><span class="lineno"> 5754</span>&#160;    {</div>
<div class="line"><a name="l05755"></a><span class="lineno"> 5755</span>&#160;        spellInfo-&gt;EffectBasePoints[0] = 5;</div>
<div class="line"><a name="l05756"></a><span class="lineno"> 5756</span>&#160;        spellInfo-&gt;EffectDieSides[0] = 0;</div>
<div class="line"><a name="l05757"></a><span class="lineno"> 5757</span>&#160;    });</div>
<div class="line"><a name="l05758"></a><span class="lineno"> 5758</span>&#160; </div>
<div class="line"><a name="l05759"></a><span class="lineno"> 5759</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 68026 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05760"></a><span class="lineno"> 5760</span>&#160;    {</div>
<div class="line"><a name="l05761"></a><span class="lineno"> 5761</span>&#160;        spellInfo-&gt;EffectBasePoints[0] = 8;</div>
<div class="line"><a name="l05762"></a><span class="lineno"> 5762</span>&#160;        spellInfo-&gt;EffectDieSides[0] = 0;</div>
<div class="line"><a name="l05763"></a><span class="lineno"> 5763</span>&#160;    });</div>
<div class="line"><a name="l05764"></a><span class="lineno"> 5764</span>&#160; </div>
<div class="line"><a name="l05765"></a><span class="lineno"> 5765</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 68027 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05766"></a><span class="lineno"> 5766</span>&#160;    {</div>
<div class="line"><a name="l05767"></a><span class="lineno"> 5767</span>&#160;        spellInfo-&gt;EffectBasePoints[0] = 6;</div>
<div class="line"><a name="l05768"></a><span class="lineno"> 5768</span>&#160;        spellInfo-&gt;EffectDieSides[0] = 0;</div>
<div class="line"><a name="l05769"></a><span class="lineno"> 5769</span>&#160;    });</div>
<div class="line"><a name="l05770"></a><span class="lineno"> 5770</span>&#160; </div>
<div class="line"><a name="l05771"></a><span class="lineno"> 5771</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 68028 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05772"></a><span class="lineno"> 5772</span>&#160;    {</div>
<div class="line"><a name="l05773"></a><span class="lineno"> 5773</span>&#160;        spellInfo-&gt;EffectBasePoints[0] = 10;</div>
<div class="line"><a name="l05774"></a><span class="lineno"> 5774</span>&#160;        spellInfo-&gt;EffectDieSides[0] = 0;</div>
<div class="line"><a name="l05775"></a><span class="lineno"> 5775</span>&#160;    });</div>
<div class="line"><a name="l05776"></a><span class="lineno"> 5776</span>&#160; </div>
<div class="line"><a name="l05777"></a><span class="lineno"> 5777</span>&#160;    <span class="comment">// Trial of the Crusader, Twin Valkyr, Touch of Light/Darkness, Light/Dark Surge</span></div>
<div class="line"><a name="l05778"></a><span class="lineno"> 5778</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l05779"></a><span class="lineno"> 5779</span>&#160;        65950   <span class="comment">// light 0</span></div>
<div class="line"><a name="l05780"></a><span class="lineno"> 5780</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05781"></a><span class="lineno"> 5781</span>&#160;    {</div>
<div class="line"><a name="l05782"></a><span class="lineno"> 5782</span>&#160;        <span class="comment">//spellInfo-&gt;EffectApplyAuraName[0] = SPELL_AURA_PERIODIC_DUMMY;</span></div>
<div class="line"><a name="l05783"></a><span class="lineno"> 5783</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = 6;</div>
<div class="line"><a name="l05784"></a><span class="lineno"> 5784</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = 0;</div>
<div class="line"><a name="l05785"></a><span class="lineno"> 5785</span>&#160;        spellInfo-&gt;Effect[1] = 0;</div>
<div class="line"><a name="l05786"></a><span class="lineno"> 5786</span>&#160;        spellInfo-&gt;Effect[2] = 0;</div>
<div class="line"><a name="l05787"></a><span class="lineno"> 5787</span>&#160;    });</div>
<div class="line"><a name="l05788"></a><span class="lineno"> 5788</span>&#160; </div>
<div class="line"><a name="l05789"></a><span class="lineno"> 5789</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l05790"></a><span class="lineno"> 5790</span>&#160;        65767   <span class="comment">// light surge 0</span></div>
<div class="line"><a name="l05791"></a><span class="lineno"> 5791</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05792"></a><span class="lineno"> 5792</span>&#160;    {</div>
<div class="line"><a name="l05793"></a><span class="lineno"> 5793</span>&#160;        spellInfo-&gt;ExcludeTargetAuraSpell = 65686;</div>
<div class="line"><a name="l05794"></a><span class="lineno"> 5794</span>&#160;    });</div>
<div class="line"><a name="l05795"></a><span class="lineno"> 5795</span>&#160; </div>
<div class="line"><a name="l05796"></a><span class="lineno"> 5796</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l05797"></a><span class="lineno"> 5797</span>&#160;        67296   <span class="comment">// light 1</span></div>
<div class="line"><a name="l05798"></a><span class="lineno"> 5798</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05799"></a><span class="lineno"> 5799</span>&#160;    {</div>
<div class="line"><a name="l05800"></a><span class="lineno"> 5800</span>&#160;        <span class="comment">//spellInfo-&gt;EffectApplyAuraName[0] = SPELL_AURA_PERIODIC_DUMMY;</span></div>
<div class="line"><a name="l05801"></a><span class="lineno"> 5801</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = 6;</div>
<div class="line"><a name="l05802"></a><span class="lineno"> 5802</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = 0;</div>
<div class="line"><a name="l05803"></a><span class="lineno"> 5803</span>&#160;        spellInfo-&gt;Effect[1] = 0;</div>
<div class="line"><a name="l05804"></a><span class="lineno"> 5804</span>&#160;        spellInfo-&gt;Effect[2] = 0;</div>
<div class="line"><a name="l05805"></a><span class="lineno"> 5805</span>&#160;    });</div>
<div class="line"><a name="l05806"></a><span class="lineno"> 5806</span>&#160; </div>
<div class="line"><a name="l05807"></a><span class="lineno"> 5807</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l05808"></a><span class="lineno"> 5808</span>&#160;        67274   <span class="comment">// light surge 1</span></div>
<div class="line"><a name="l05809"></a><span class="lineno"> 5809</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05810"></a><span class="lineno"> 5810</span>&#160;    {</div>
<div class="line"><a name="l05811"></a><span class="lineno"> 5811</span>&#160;        spellInfo-&gt;ExcludeTargetAuraSpell = 67222;</div>
<div class="line"><a name="l05812"></a><span class="lineno"> 5812</span>&#160;    });</div>
<div class="line"><a name="l05813"></a><span class="lineno"> 5813</span>&#160; </div>
<div class="line"><a name="l05814"></a><span class="lineno"> 5814</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l05815"></a><span class="lineno"> 5815</span>&#160;        67297   <span class="comment">// light 2</span></div>
<div class="line"><a name="l05816"></a><span class="lineno"> 5816</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05817"></a><span class="lineno"> 5817</span>&#160;    {</div>
<div class="line"><a name="l05818"></a><span class="lineno"> 5818</span>&#160;        <span class="comment">//spellInfo-&gt;EffectApplyAuraName[0] = SPELL_AURA_PERIODIC_DUMMY;</span></div>
<div class="line"><a name="l05819"></a><span class="lineno"> 5819</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = 6;</div>
<div class="line"><a name="l05820"></a><span class="lineno"> 5820</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = 0;</div>
<div class="line"><a name="l05821"></a><span class="lineno"> 5821</span>&#160;        spellInfo-&gt;Effect[1] = 0;</div>
<div class="line"><a name="l05822"></a><span class="lineno"> 5822</span>&#160;        spellInfo-&gt;Effect[2] = 0;</div>
<div class="line"><a name="l05823"></a><span class="lineno"> 5823</span>&#160;    });</div>
<div class="line"><a name="l05824"></a><span class="lineno"> 5824</span>&#160; </div>
<div class="line"><a name="l05825"></a><span class="lineno"> 5825</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l05826"></a><span class="lineno"> 5826</span>&#160;        67275   <span class="comment">// light surge 2</span></div>
<div class="line"><a name="l05827"></a><span class="lineno"> 5827</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05828"></a><span class="lineno"> 5828</span>&#160;    {</div>
<div class="line"><a name="l05829"></a><span class="lineno"> 5829</span>&#160;        spellInfo-&gt;ExcludeTargetAuraSpell = 67223;</div>
<div class="line"><a name="l05830"></a><span class="lineno"> 5830</span>&#160;    });</div>
<div class="line"><a name="l05831"></a><span class="lineno"> 5831</span>&#160; </div>
<div class="line"><a name="l05832"></a><span class="lineno"> 5832</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l05833"></a><span class="lineno"> 5833</span>&#160;        67298   <span class="comment">// light 3</span></div>
<div class="line"><a name="l05834"></a><span class="lineno"> 5834</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05835"></a><span class="lineno"> 5835</span>&#160;    {</div>
<div class="line"><a name="l05836"></a><span class="lineno"> 5836</span>&#160;        <span class="comment">//spellInfo-&gt;EffectApplyAuraName[0] = SPELL_AURA_PERIODIC_DUMMY;</span></div>
<div class="line"><a name="l05837"></a><span class="lineno"> 5837</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = 6;</div>
<div class="line"><a name="l05838"></a><span class="lineno"> 5838</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = 0;</div>
<div class="line"><a name="l05839"></a><span class="lineno"> 5839</span>&#160;        spellInfo-&gt;Effect[1] = 0;</div>
<div class="line"><a name="l05840"></a><span class="lineno"> 5840</span>&#160;        spellInfo-&gt;Effect[2] = 0;</div>
<div class="line"><a name="l05841"></a><span class="lineno"> 5841</span>&#160;    });</div>
<div class="line"><a name="l05842"></a><span class="lineno"> 5842</span>&#160; </div>
<div class="line"><a name="l05843"></a><span class="lineno"> 5843</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l05844"></a><span class="lineno"> 5844</span>&#160;        67276   <span class="comment">// light surge 3</span></div>
<div class="line"><a name="l05845"></a><span class="lineno"> 5845</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05846"></a><span class="lineno"> 5846</span>&#160;    {</div>
<div class="line"><a name="l05847"></a><span class="lineno"> 5847</span>&#160;        spellInfo-&gt;ExcludeTargetAuraSpell = 67224;</div>
<div class="line"><a name="l05848"></a><span class="lineno"> 5848</span>&#160;    });</div>
<div class="line"><a name="l05849"></a><span class="lineno"> 5849</span>&#160; </div>
<div class="line"><a name="l05850"></a><span class="lineno"> 5850</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l05851"></a><span class="lineno"> 5851</span>&#160;        66001   <span class="comment">// dark 0</span></div>
<div class="line"><a name="l05852"></a><span class="lineno"> 5852</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05853"></a><span class="lineno"> 5853</span>&#160;    {</div>
<div class="line"><a name="l05854"></a><span class="lineno"> 5854</span>&#160;        <span class="comment">//spellInfo-&gt;EffectApplyAuraName[0] = SPELL_AURA_PERIODIC_DUMMY;</span></div>
<div class="line"><a name="l05855"></a><span class="lineno"> 5855</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = 6;</div>
<div class="line"><a name="l05856"></a><span class="lineno"> 5856</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = 0;</div>
<div class="line"><a name="l05857"></a><span class="lineno"> 5857</span>&#160;        spellInfo-&gt;Effect[1] = 0;</div>
<div class="line"><a name="l05858"></a><span class="lineno"> 5858</span>&#160;        spellInfo-&gt;Effect[2] = 0;</div>
<div class="line"><a name="l05859"></a><span class="lineno"> 5859</span>&#160;    });</div>
<div class="line"><a name="l05860"></a><span class="lineno"> 5860</span>&#160; </div>
<div class="line"><a name="l05861"></a><span class="lineno"> 5861</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l05862"></a><span class="lineno"> 5862</span>&#160;        65769   <span class="comment">// dark surge 0</span></div>
<div class="line"><a name="l05863"></a><span class="lineno"> 5863</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05864"></a><span class="lineno"> 5864</span>&#160;    {</div>
<div class="line"><a name="l05865"></a><span class="lineno"> 5865</span>&#160;        spellInfo-&gt;ExcludeTargetAuraSpell = 65684;</div>
<div class="line"><a name="l05866"></a><span class="lineno"> 5866</span>&#160;    });</div>
<div class="line"><a name="l05867"></a><span class="lineno"> 5867</span>&#160; </div>
<div class="line"><a name="l05868"></a><span class="lineno"> 5868</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l05869"></a><span class="lineno"> 5869</span>&#160;        67281   <span class="comment">// dark 1</span></div>
<div class="line"><a name="l05870"></a><span class="lineno"> 5870</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05871"></a><span class="lineno"> 5871</span>&#160;    {</div>
<div class="line"><a name="l05872"></a><span class="lineno"> 5872</span>&#160;        <span class="comment">//spellInfo-&gt;EffectApplyAuraName[0] = SPELL_AURA_PERIODIC_DUMMY;</span></div>
<div class="line"><a name="l05873"></a><span class="lineno"> 5873</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = 6;</div>
<div class="line"><a name="l05874"></a><span class="lineno"> 5874</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = 0;</div>
<div class="line"><a name="l05875"></a><span class="lineno"> 5875</span>&#160;        spellInfo-&gt;Effect[1] = 0;</div>
<div class="line"><a name="l05876"></a><span class="lineno"> 5876</span>&#160;        spellInfo-&gt;Effect[2] = 0;</div>
<div class="line"><a name="l05877"></a><span class="lineno"> 5877</span>&#160;    });</div>
<div class="line"><a name="l05878"></a><span class="lineno"> 5878</span>&#160; </div>
<div class="line"><a name="l05879"></a><span class="lineno"> 5879</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l05880"></a><span class="lineno"> 5880</span>&#160;        67265   <span class="comment">// dark surge 1</span></div>
<div class="line"><a name="l05881"></a><span class="lineno"> 5881</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05882"></a><span class="lineno"> 5882</span>&#160;    {</div>
<div class="line"><a name="l05883"></a><span class="lineno"> 5883</span>&#160;        spellInfo-&gt;ExcludeTargetAuraSpell = 67176;</div>
<div class="line"><a name="l05884"></a><span class="lineno"> 5884</span>&#160;    });</div>
<div class="line"><a name="l05885"></a><span class="lineno"> 5885</span>&#160; </div>
<div class="line"><a name="l05886"></a><span class="lineno"> 5886</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l05887"></a><span class="lineno"> 5887</span>&#160;        67282   <span class="comment">// dark 2</span></div>
<div class="line"><a name="l05888"></a><span class="lineno"> 5888</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05889"></a><span class="lineno"> 5889</span>&#160;    {</div>
<div class="line"><a name="l05890"></a><span class="lineno"> 5890</span>&#160;        <span class="comment">//spellInfo-&gt;EffectApplyAuraName[0] = SPELL_AURA_PERIODIC_DUMMY;</span></div>
<div class="line"><a name="l05891"></a><span class="lineno"> 5891</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = 6;</div>
<div class="line"><a name="l05892"></a><span class="lineno"> 5892</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = 0;</div>
<div class="line"><a name="l05893"></a><span class="lineno"> 5893</span>&#160;        spellInfo-&gt;Effect[1] = 0;</div>
<div class="line"><a name="l05894"></a><span class="lineno"> 5894</span>&#160;        spellInfo-&gt;Effect[2] = 0;</div>
<div class="line"><a name="l05895"></a><span class="lineno"> 5895</span>&#160;    });</div>
<div class="line"><a name="l05896"></a><span class="lineno"> 5896</span>&#160; </div>
<div class="line"><a name="l05897"></a><span class="lineno"> 5897</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l05898"></a><span class="lineno"> 5898</span>&#160;        67266   <span class="comment">// dark surge 2</span></div>
<div class="line"><a name="l05899"></a><span class="lineno"> 5899</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05900"></a><span class="lineno"> 5900</span>&#160;    {</div>
<div class="line"><a name="l05901"></a><span class="lineno"> 5901</span>&#160;        spellInfo-&gt;ExcludeTargetAuraSpell = 67177;</div>
<div class="line"><a name="l05902"></a><span class="lineno"> 5902</span>&#160;    });</div>
<div class="line"><a name="l05903"></a><span class="lineno"> 5903</span>&#160; </div>
<div class="line"><a name="l05904"></a><span class="lineno"> 5904</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l05905"></a><span class="lineno"> 5905</span>&#160;        67283   <span class="comment">// dark 3</span></div>
<div class="line"><a name="l05906"></a><span class="lineno"> 5906</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05907"></a><span class="lineno"> 5907</span>&#160;    {</div>
<div class="line"><a name="l05908"></a><span class="lineno"> 5908</span>&#160;        <span class="comment">//spellInfo-&gt;EffectApplyAuraName[0] = SPELL_AURA_PERIODIC_DUMMY;</span></div>
<div class="line"><a name="l05909"></a><span class="lineno"> 5909</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = 6;</div>
<div class="line"><a name="l05910"></a><span class="lineno"> 5910</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = 0;</div>
<div class="line"><a name="l05911"></a><span class="lineno"> 5911</span>&#160;        spellInfo-&gt;Effect[1] = 0;</div>
<div class="line"><a name="l05912"></a><span class="lineno"> 5912</span>&#160;        spellInfo-&gt;Effect[2] = 0;</div>
<div class="line"><a name="l05913"></a><span class="lineno"> 5913</span>&#160;    });</div>
<div class="line"><a name="l05914"></a><span class="lineno"> 5914</span>&#160; </div>
<div class="line"><a name="l05915"></a><span class="lineno"> 5915</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l05916"></a><span class="lineno"> 5916</span>&#160;        67267   <span class="comment">// dark surge 3</span></div>
<div class="line"><a name="l05917"></a><span class="lineno"> 5917</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05918"></a><span class="lineno"> 5918</span>&#160;    {</div>
<div class="line"><a name="l05919"></a><span class="lineno"> 5919</span>&#160;        spellInfo-&gt;ExcludeTargetAuraSpell = 67178;</div>
<div class="line"><a name="l05920"></a><span class="lineno"> 5920</span>&#160;    });</div>
<div class="line"><a name="l05921"></a><span class="lineno"> 5921</span>&#160; </div>
<div class="line"><a name="l05922"></a><span class="lineno"> 5922</span>&#160;    <span class="comment">// Trial of the Crusader, Twin Valkyr, Twin&#39;s Pact</span></div>
<div class="line"><a name="l05923"></a><span class="lineno"> 5923</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 65875, 67303, 67304, 67305, 65876, 67306, 67307, 67308 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05924"></a><span class="lineno"> 5924</span>&#160;    {</div>
<div class="line"><a name="l05925"></a><span class="lineno"> 5925</span>&#160;        spellInfo-&gt;Effect[1] = 0;</div>
<div class="line"><a name="l05926"></a><span class="lineno"> 5926</span>&#160;        spellInfo-&gt;Effect[2] = 0;</div>
<div class="line"><a name="l05927"></a><span class="lineno"> 5927</span>&#160;    });</div>
<div class="line"><a name="l05928"></a><span class="lineno"> 5928</span>&#160; </div>
<div class="line"><a name="l05929"></a><span class="lineno"> 5929</span>&#160;    <span class="comment">// Trial of the Crusader, Anub&#39;arak, Emerge</span></div>
<div class="line"><a name="l05930"></a><span class="lineno"> 5930</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 65982 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05931"></a><span class="lineno"> 5931</span>&#160;    {</div>
<div class="line"><a name="l05932"></a><span class="lineno"> 5932</span>&#160;        spellInfo-&gt;AttributesEx5 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a376aa62261a98289589839b821786adaa38355c8ac37633a451b6ea0cad0389b6">SPELL_ATTR5_ALLOW_WHILE_STUNNED</a>;</div>
<div class="line"><a name="l05933"></a><span class="lineno"> 5933</span>&#160;    });</div>
<div class="line"><a name="l05934"></a><span class="lineno"> 5934</span>&#160; </div>
<div class="line"><a name="l05935"></a><span class="lineno"> 5935</span>&#160;    <span class="comment">// Trial of the Crusader, Anub&#39;arak, Penetrating Cold</span></div>
<div class="line"><a name="l05936"></a><span class="lineno"> 5936</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 66013, 67700, 68509, 68510 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05937"></a><span class="lineno"> 5937</span>&#160;    {</div>
<div class="line"><a name="l05938"></a><span class="lineno"> 5938</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = 12; <span class="comment">// 100yd</span></div>
<div class="line"><a name="l05939"></a><span class="lineno"> 5939</span>&#160;    });</div>
<div class="line"><a name="l05940"></a><span class="lineno"> 5940</span>&#160; </div>
<div class="line"><a name="l05941"></a><span class="lineno"> 5941</span>&#160;    <span class="comment">// Trial of the Crusader, Anub&#39;arak, Shadow Strike</span></div>
<div class="line"><a name="l05942"></a><span class="lineno"> 5942</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 66134 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05943"></a><span class="lineno"> 5943</span>&#160;    {</div>
<div class="line"><a name="l05944"></a><span class="lineno"> 5944</span>&#160;        spellInfo-&gt;InterruptFlags |= <a class="code" href="../../d5/d32/_unit_8h.html#abadf2f982fd866917c372d16ab99c109a69ed081a90c21e0d86095c70de005dbb">SPELL_INTERRUPT_FLAG_INTERRUPT</a>;</div>
<div class="line"><a name="l05945"></a><span class="lineno"> 5945</span>&#160;        spellInfo-&gt;Effect[0] = 0;</div>
<div class="line"><a name="l05946"></a><span class="lineno"> 5946</span>&#160;    });</div>
<div class="line"><a name="l05947"></a><span class="lineno"> 5947</span>&#160; </div>
<div class="line"><a name="l05948"></a><span class="lineno"> 5948</span>&#160;    <span class="comment">// Trial of the Crusader, Anub&#39;arak, Pursuing Spikes</span></div>
<div class="line"><a name="l05949"></a><span class="lineno"> 5949</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 65920, 65922, 65923 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05950"></a><span class="lineno"> 5950</span>&#160;    {</div>
<div class="line"><a name="l05951"></a><span class="lineno"> 5951</span>&#160;        spellInfo-&gt;EffectApplyAuraName[0] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799add498157825d0faca2c013bbcdfbae56">SPELL_AURA_PERIODIC_DUMMY</a>;</div>
<div class="line"><a name="l05952"></a><span class="lineno"> 5952</span>&#160;        <span class="comment">//spellInfo-&gt;EffectTriggerSpell[0] = 0;</span></div>
<div class="line"><a name="l05953"></a><span class="lineno"> 5953</span>&#160;    });</div>
<div class="line"><a name="l05954"></a><span class="lineno"> 5954</span>&#160; </div>
<div class="line"><a name="l05955"></a><span class="lineno"> 5955</span>&#160;    <span class="comment">// Trial of the Crusader, Anub&#39;arak, Summon Scarab</span></div>
<div class="line"><a name="l05956"></a><span class="lineno"> 5956</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 66339 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05957"></a><span class="lineno"> 5957</span>&#160;    {</div>
<div class="line"><a name="l05958"></a><span class="lineno"> 5958</span>&#160;        spellInfo-&gt;DurationIndex = 35;</div>
<div class="line"><a name="l05959"></a><span class="lineno"> 5959</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = 25;</div>
<div class="line"><a name="l05960"></a><span class="lineno"> 5960</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = 0;</div>
<div class="line"><a name="l05961"></a><span class="lineno"> 5961</span>&#160;    });</div>
<div class="line"><a name="l05962"></a><span class="lineno"> 5962</span>&#160; </div>
<div class="line"><a name="l05963"></a><span class="lineno"> 5963</span>&#160;    <span class="comment">// Trial of the Crusader, Anub&#39;arak, Achievements: The Traitor King</span></div>
<div class="line"><a name="l05964"></a><span class="lineno"> 5964</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l05965"></a><span class="lineno"> 5965</span>&#160;        68186,  <span class="comment">// Anub&#39;arak Scarab Achievement 10</span></div>
<div class="line"><a name="l05966"></a><span class="lineno"> 5966</span>&#160;        68515   <span class="comment">// Anub&#39;arak Scarab Achievement 25</span></div>
<div class="line"><a name="l05967"></a><span class="lineno"> 5967</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05968"></a><span class="lineno"> 5968</span>&#160;    {</div>
<div class="line"><a name="l05969"></a><span class="lineno"> 5969</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152aee8705374ad45df671cbba17e5614ca3">TARGET_SRC_CASTER</a>;</div>
<div class="line"><a name="l05970"></a><span class="lineno"> 5970</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a7b8c7cf5819db17b9ed16dfbb93addb4">TARGET_UNIT_SRC_AREA_ENEMY</a>;</div>
<div class="line"><a name="l05971"></a><span class="lineno"> 5971</span>&#160;        spellInfo-&gt;Attributes |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44adaba896f4f7d6dc5d34f09ff29f5db159a">SPELL_ATTR0_ALLOW_CAST_WHILE_DEAD</a>;</div>
<div class="line"><a name="l05972"></a><span class="lineno"> 5972</span>&#160;    });</div>
<div class="line"><a name="l05973"></a><span class="lineno"> 5973</span>&#160; </div>
<div class="line"><a name="l05974"></a><span class="lineno"> 5974</span>&#160;    <span class="comment">// Trial of the Crusader, Anub&#39;arak, Spider Frenzy</span></div>
<div class="line"><a name="l05975"></a><span class="lineno"> 5975</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 66129 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05976"></a><span class="lineno"> 5976</span>&#160;    {</div>
<div class="line"><a name="l05977"></a><span class="lineno"> 5977</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67">SPELL_ATTR3_DOT_STACKING_RULE</a>;</div>
<div class="line"><a name="l05978"></a><span class="lineno"> 5978</span>&#160;    });</div>
<div class="line"><a name="l05979"></a><span class="lineno"> 5979</span>&#160; </div>
<div class="line"><a name="l05980"></a><span class="lineno"> 5980</span>&#160;    <span class="comment">// Soul Sickness</span></div>
<div class="line"><a name="l05981"></a><span class="lineno"> 5981</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 69131 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05982"></a><span class="lineno"> 5982</span>&#160;    {</div>
<div class="line"><a name="l05983"></a><span class="lineno"> 5983</span>&#160;        spellInfo-&gt;EffectApplyAuraName[0] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799af51e1877e096bbfd69505e5ab4fc69ad">SPELL_AURA_PERIODIC_TRIGGER_SPELL</a>;</div>
<div class="line"><a name="l05984"></a><span class="lineno"> 5984</span>&#160;        spellInfo-&gt;EffectAmplitude[0] = 8000;</div>
<div class="line"><a name="l05985"></a><span class="lineno"> 5985</span>&#160;        spellInfo-&gt;EffectTriggerSpell[0] = 69133;</div>
<div class="line"><a name="l05986"></a><span class="lineno"> 5986</span>&#160;    });</div>
<div class="line"><a name="l05987"></a><span class="lineno"> 5987</span>&#160; </div>
<div class="line"><a name="l05988"></a><span class="lineno"> 5988</span>&#160;    <span class="comment">// Phantom Blast</span></div>
<div class="line"><a name="l05989"></a><span class="lineno"> 5989</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 68982, 70322 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05990"></a><span class="lineno"> 5990</span>&#160;    {</div>
<div class="line"><a name="l05991"></a><span class="lineno"> 5991</span>&#160;        spellInfo-&gt;InterruptFlags |= <a class="code" href="../../d5/d32/_unit_8h.html#abadf2f982fd866917c372d16ab99c109a69ed081a90c21e0d86095c70de005dbb">SPELL_INTERRUPT_FLAG_INTERRUPT</a>;</div>
<div class="line"><a name="l05992"></a><span class="lineno"> 5992</span>&#160;    });</div>
<div class="line"><a name="l05993"></a><span class="lineno"> 5993</span>&#160; </div>
<div class="line"><a name="l05994"></a><span class="lineno"> 5994</span>&#160;    <span class="comment">// Empowered Blizzard</span></div>
<div class="line"><a name="l05995"></a><span class="lineno"> 5995</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 70131 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l05996"></a><span class="lineno"> 5996</span>&#160;    {</div>
<div class="line"><a name="l05997"></a><span class="lineno"> 5997</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>;</div>
<div class="line"><a name="l05998"></a><span class="lineno"> 5998</span>&#160;    });</div>
<div class="line"><a name="l05999"></a><span class="lineno"> 5999</span>&#160; </div>
<div class="line"><a name="l06000"></a><span class="lineno"> 6000</span>&#160;    <span class="comment">// Ice Lance Volley</span></div>
<div class="line"><a name="l06001"></a><span class="lineno"> 6001</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 70464 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06002"></a><span class="lineno"> 6002</span>&#160;    {</div>
<div class="line"><a name="l06003"></a><span class="lineno"> 6003</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152aee8705374ad45df671cbba17e5614ca3">TARGET_SRC_CASTER</a>;</div>
<div class="line"><a name="l06004"></a><span class="lineno"> 6004</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a3f043071f052463518f0978322c782c6">TARGET_UNIT_SRC_AREA_ENTRY</a>;</div>
<div class="line"><a name="l06005"></a><span class="lineno"> 6005</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = 25;</div>
<div class="line"><a name="l06006"></a><span class="lineno"> 6006</span>&#160;    });</div>
<div class="line"><a name="l06007"></a><span class="lineno"> 6007</span>&#160; </div>
<div class="line"><a name="l06008"></a><span class="lineno"> 6008</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l06009"></a><span class="lineno"> 6009</span>&#160;        70513,   <span class="comment">// Multi-Shot</span></div>
<div class="line"><a name="l06010"></a><span class="lineno"> 6010</span>&#160;        59514    <span class="comment">// Shriek of the Highborne</span></div>
<div class="line"><a name="l06011"></a><span class="lineno"> 6011</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06012"></a><span class="lineno"> 6012</span>&#160;    {</div>
<div class="line"><a name="l06013"></a><span class="lineno"> 6013</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a0b51bc473102ffda4749bf8515131ee2">TARGET_UNIT_CONE_ENTRY</a>;</div>
<div class="line"><a name="l06014"></a><span class="lineno"> 6014</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = 0;</div>
<div class="line"><a name="l06015"></a><span class="lineno"> 6015</span>&#160;    });</div>
<div class="line"><a name="l06016"></a><span class="lineno"> 6016</span>&#160; </div>
<div class="line"><a name="l06017"></a><span class="lineno"> 6017</span>&#160;    <span class="comment">// Icicle</span></div>
<div class="line"><a name="l06018"></a><span class="lineno"> 6018</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 69428, 69426 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06019"></a><span class="lineno"> 6019</span>&#160;    {</div>
<div class="line"><a name="l06020"></a><span class="lineno"> 6020</span>&#160;        spellInfo-&gt;InterruptFlags = 0;</div>
<div class="line"><a name="l06021"></a><span class="lineno"> 6021</span>&#160;        spellInfo-&gt;AuraInterruptFlags = 0;</div>
<div class="line"><a name="l06022"></a><span class="lineno"> 6022</span>&#160;        spellInfo-&gt;ChannelInterruptFlags = 0;</div>
<div class="line"><a name="l06023"></a><span class="lineno"> 6023</span>&#160;    });</div>
<div class="line"><a name="l06024"></a><span class="lineno"> 6024</span>&#160; </div>
<div class="line"><a name="l06025"></a><span class="lineno"> 6025</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 70525, 70639 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06026"></a><span class="lineno"> 6026</span>&#160;    {</div>
<div class="line"><a name="l06027"></a><span class="lineno"> 6027</span>&#160;        spellInfo-&gt;Effect[0] = 0;</div>
<div class="line"><a name="l06028"></a><span class="lineno"> 6028</span>&#160;        spellInfo-&gt;Effect[1] = 0;</div>
<div class="line"><a name="l06029"></a><span class="lineno"> 6029</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[2] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152aee8705374ad45df671cbba17e5614ca3">TARGET_SRC_CASTER</a>;</div>
<div class="line"><a name="l06030"></a><span class="lineno"> 6030</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[2] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a3f043071f052463518f0978322c782c6">TARGET_UNIT_SRC_AREA_ENTRY</a>;</div>
<div class="line"><a name="l06031"></a><span class="lineno"> 6031</span>&#160;        spellInfo-&gt;EffectRadiusIndex[2] = 30; <span class="comment">// 500yd</span></div>
<div class="line"><a name="l06032"></a><span class="lineno"> 6032</span>&#160;    });</div>
<div class="line"><a name="l06033"></a><span class="lineno"> 6033</span>&#160; </div>
<div class="line"><a name="l06034"></a><span class="lineno"> 6034</span>&#160;    <span class="comment">// Frost Nova</span></div>
<div class="line"><a name="l06035"></a><span class="lineno"> 6035</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 68198 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06036"></a><span class="lineno"> 6036</span>&#160;    {</div>
<div class="line"><a name="l06037"></a><span class="lineno"> 6037</span>&#160;        spellInfo-&gt;RangeIndex = 13;</div>
<div class="line"><a name="l06038"></a><span class="lineno"> 6038</span>&#160;        spellInfo-&gt;Targets |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a3c11f0d0cd9689554b34ccbc325da54fa6743615e8912aefb100fe3f804c162be">TARGET_FLAG_DEST_LOCATION</a>;</div>
<div class="line"><a name="l06039"></a><span class="lineno"> 6039</span>&#160;    });</div>
<div class="line"><a name="l06040"></a><span class="lineno"> 6040</span>&#160; </div>
<div class="line"><a name="l06041"></a><span class="lineno"> 6041</span>&#160;    <span class="comment">// Blight</span></div>
<div class="line"><a name="l06042"></a><span class="lineno"> 6042</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 69604, 70286 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06043"></a><span class="lineno"> 6043</span>&#160;    {</div>
<div class="line"><a name="l06044"></a><span class="lineno"> 6044</span>&#160;        spellInfo-&gt;MaxAffectedTargets = 1;</div>
<div class="line"><a name="l06045"></a><span class="lineno"> 6045</span>&#160;        spellInfo-&gt;AttributesEx3 |= (<a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a> | <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81afd31a3efb01e11ee685cd0cac502b9ac">SPELL_ATTR3_ONLY_ON_PLAYER</a>);</div>
<div class="line"><a name="l06046"></a><span class="lineno"> 6046</span>&#160;    });</div>
<div class="line"><a name="l06047"></a><span class="lineno"> 6047</span>&#160; </div>
<div class="line"><a name="l06048"></a><span class="lineno"> 6048</span>&#160;    <span class="comment">// Chilling Wave</span></div>
<div class="line"><a name="l06049"></a><span class="lineno"> 6049</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 68778, 70333 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06050"></a><span class="lineno"> 6050</span>&#160;    {</div>
<div class="line"><a name="l06051"></a><span class="lineno"> 6051</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a85d8f0e6d574cf640ec0c42b54e2ad3c">TARGET_DEST_TARGET_ENEMY</a>;</div>
<div class="line"><a name="l06052"></a><span class="lineno"> 6052</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = 0;</div>
<div class="line"><a name="l06053"></a><span class="lineno"> 6053</span>&#160;    });</div>
<div class="line"><a name="l06054"></a><span class="lineno"> 6054</span>&#160; </div>
<div class="line"><a name="l06055"></a><span class="lineno"> 6055</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 68786, 70336 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06056"></a><span class="lineno"> 6056</span>&#160;    {</div>
<div class="line"><a name="l06057"></a><span class="lineno"> 6057</span>&#160;        spellInfo-&gt;AttributesEx3 |= (<a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a> | <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81afd31a3efb01e11ee685cd0cac502b9ac">SPELL_ATTR3_ONLY_ON_PLAYER</a>);</div>
<div class="line"><a name="l06058"></a><span class="lineno"> 6058</span>&#160;        spellInfo-&gt;Effect[2] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a027bcdf3b42e90e7374802fe61fd776d">SPELL_EFFECT_DUMMY</a>;</div>
<div class="line"><a name="l06059"></a><span class="lineno"> 6059</span>&#160;    });</div>
<div class="line"><a name="l06060"></a><span class="lineno"> 6060</span>&#160; </div>
<div class="line"><a name="l06061"></a><span class="lineno"> 6061</span>&#160;    <span class="comment">// Pursuit</span></div>
<div class="line"><a name="l06062"></a><span class="lineno"> 6062</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 68987 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06063"></a><span class="lineno"> 6063</span>&#160;    {</div>
<div class="line"><a name="l06064"></a><span class="lineno"> 6064</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>;</div>
<div class="line"><a name="l06065"></a><span class="lineno"> 6065</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = 0;</div>
<div class="line"><a name="l06066"></a><span class="lineno"> 6066</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[1] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>;</div>
<div class="line"><a name="l06067"></a><span class="lineno"> 6067</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[1] = 0;</div>
<div class="line"><a name="l06068"></a><span class="lineno"> 6068</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[2] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>;</div>
<div class="line"><a name="l06069"></a><span class="lineno"> 6069</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[2] = 0;</div>
<div class="line"><a name="l06070"></a><span class="lineno"> 6070</span>&#160;        spellInfo-&gt;RangeIndex = 6; <span class="comment">// 100yd</span></div>
<div class="line"><a name="l06071"></a><span class="lineno"> 6071</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a>;</div>
<div class="line"><a name="l06072"></a><span class="lineno"> 6072</span>&#160;    });</div>
<div class="line"><a name="l06073"></a><span class="lineno"> 6073</span>&#160; </div>
<div class="line"><a name="l06074"></a><span class="lineno"> 6074</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 69029, 70850 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06075"></a><span class="lineno"> 6075</span>&#160;    {</div>
<div class="line"><a name="l06076"></a><span class="lineno"> 6076</span>&#160;        spellInfo-&gt;Effect[2] = 0;</div>
<div class="line"><a name="l06077"></a><span class="lineno"> 6077</span>&#160;    });</div>
<div class="line"><a name="l06078"></a><span class="lineno"> 6078</span>&#160; </div>
<div class="line"><a name="l06079"></a><span class="lineno"> 6079</span>&#160;    <span class="comment">// Explosive Barrage</span></div>
<div class="line"><a name="l06080"></a><span class="lineno"> 6080</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 69263 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06081"></a><span class="lineno"> 6081</span>&#160;    {</div>
<div class="line"><a name="l06082"></a><span class="lineno"> 6082</span>&#160;        spellInfo-&gt;EffectApplyAuraName[0] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799afdf00dd634aaa25017ad329f58bd6cfd">SPELL_AURA_MOD_STUN</a>;</div>
<div class="line"><a name="l06083"></a><span class="lineno"> 6083</span>&#160;    });</div>
<div class="line"><a name="l06084"></a><span class="lineno"> 6084</span>&#160; </div>
<div class="line"><a name="l06085"></a><span class="lineno"> 6085</span>&#160;    <span class="comment">// Overlord&#39;s Brand</span></div>
<div class="line"><a name="l06086"></a><span class="lineno"> 6086</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 69172 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06087"></a><span class="lineno"> 6087</span>&#160;    {</div>
<div class="line"><a name="l06088"></a><span class="lineno"> 6088</span>&#160;        spellInfo-&gt;ProcFlags = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6ae0cef27dc24d6bd6fa46efa85df7d488">DONE_HIT_PROC_FLAG_MASK</a> &amp; ~<a class="code" href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a429d6c885f9687a1b041436cb45d74ce">PROC_FLAG_DONE_PERIODIC</a>;</div>
<div class="line"><a name="l06089"></a><span class="lineno"> 6089</span>&#160;        spellInfo-&gt;ProcChance = 100;</div>
<div class="line"><a name="l06090"></a><span class="lineno"> 6090</span>&#160;    });</div>
<div class="line"><a name="l06091"></a><span class="lineno"> 6091</span>&#160; </div>
<div class="line"><a name="l06092"></a><span class="lineno"> 6092</span>&#160;    <span class="comment">// Icy Blast</span></div>
<div class="line"><a name="l06093"></a><span class="lineno"> 6093</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 69232 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06094"></a><span class="lineno"> 6094</span>&#160;    {</div>
<div class="line"><a name="l06095"></a><span class="lineno"> 6095</span>&#160;        spellInfo-&gt;EffectTriggerSpell[1] = 69238;</div>
<div class="line"><a name="l06096"></a><span class="lineno"> 6096</span>&#160;        spellInfo-&gt;AttributesEx2 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><a name="l06097"></a><span class="lineno"> 6097</span>&#160;    });</div>
<div class="line"><a name="l06098"></a><span class="lineno"> 6098</span>&#160; </div>
<div class="line"><a name="l06099"></a><span class="lineno"> 6099</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 69233, 69646 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06100"></a><span class="lineno"> 6100</span>&#160;    {</div>
<div class="line"><a name="l06101"></a><span class="lineno"> 6101</span>&#160;        spellInfo-&gt;AttributesEx2 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><a name="l06102"></a><span class="lineno"> 6102</span>&#160;    });</div>
<div class="line"><a name="l06103"></a><span class="lineno"> 6103</span>&#160; </div>
<div class="line"><a name="l06104"></a><span class="lineno"> 6104</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 69238, 69628 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06105"></a><span class="lineno"> 6105</span>&#160;    {</div>
<div class="line"><a name="l06106"></a><span class="lineno"> 6106</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>;</div>
<div class="line"><a name="l06107"></a><span class="lineno"> 6107</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a86bfc5644ebafe704834da6ecb5a0ac8">TARGET_DEST_DYNOBJ_NONE</a>;</div>
<div class="line"><a name="l06108"></a><span class="lineno"> 6108</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[1] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>;</div>
<div class="line"><a name="l06109"></a><span class="lineno"> 6109</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[1] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a86bfc5644ebafe704834da6ecb5a0ac8">TARGET_DEST_DYNOBJ_NONE</a>;</div>
<div class="line"><a name="l06110"></a><span class="lineno"> 6110</span>&#160;        spellInfo-&gt;AttributesEx2 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><a name="l06111"></a><span class="lineno"> 6111</span>&#160;    });</div>
<div class="line"><a name="l06112"></a><span class="lineno"> 6112</span>&#160; </div>
<div class="line"><a name="l06113"></a><span class="lineno"> 6113</span>&#160;    <span class="comment">// Hoarfrost</span></div>
<div class="line"><a name="l06114"></a><span class="lineno"> 6114</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 69246, 69245, 69645 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06115"></a><span class="lineno"> 6115</span>&#160;    {</div>
<div class="line"><a name="l06116"></a><span class="lineno"> 6116</span>&#160;        spellInfo-&gt;AttributesEx2 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><a name="l06117"></a><span class="lineno"> 6117</span>&#160;    });</div>
<div class="line"><a name="l06118"></a><span class="lineno"> 6118</span>&#160; </div>
<div class="line"><a name="l06119"></a><span class="lineno"> 6119</span>&#160;    <span class="comment">// Devour Humanoid</span></div>
<div class="line"><a name="l06120"></a><span class="lineno"> 6120</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 69503 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06121"></a><span class="lineno"> 6121</span>&#160;    {</div>
<div class="line"><a name="l06122"></a><span class="lineno"> 6122</span>&#160;        spellInfo-&gt;ChannelInterruptFlags |= 0;</div>
<div class="line"><a name="l06123"></a><span class="lineno"> 6123</span>&#160;        spellInfo-&gt;AuraInterruptFlags = <a class="code" href="../../d5/d32/_unit_8h.html#a0709fc3ab848cf1b8b4853813b8fe011a79d9517e2981beafd03e4ee2ccbb1c35">AURA_INTERRUPT_FLAG_MOVE</a> | <a class="code" href="../../d5/d32/_unit_8h.html#a0709fc3ab848cf1b8b4853813b8fe011a7ff7b6e5eb8b89e335cbed2efcc61ec3">AURA_INTERRUPT_FLAG_TURNING</a>;</div>
<div class="line"><a name="l06124"></a><span class="lineno"> 6124</span>&#160;    });</div>
<div class="line"><a name="l06125"></a><span class="lineno"> 6125</span>&#160; </div>
<div class="line"><a name="l06126"></a><span class="lineno"> 6126</span>&#160;    <span class="comment">// Falric: Defiling Horror</span></div>
<div class="line"><a name="l06127"></a><span class="lineno"> 6127</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 72435, 72452 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06128"></a><span class="lineno"> 6128</span>&#160;    {</div>
<div class="line"><a name="l06129"></a><span class="lineno"> 6129</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b">EFFECT_RADIUS_200_YARDS</a>;</div>
<div class="line"><a name="l06130"></a><span class="lineno"> 6130</span>&#160;        spellInfo-&gt;EffectRadiusIndex[1] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b">EFFECT_RADIUS_200_YARDS</a>;</div>
<div class="line"><a name="l06131"></a><span class="lineno"> 6131</span>&#160;    });</div>
<div class="line"><a name="l06132"></a><span class="lineno"> 6132</span>&#160; </div>
<div class="line"><a name="l06133"></a><span class="lineno"> 6133</span>&#160;    <span class="comment">// Frostsworn General - Throw Shield</span></div>
<div class="line"><a name="l06134"></a><span class="lineno"> 6134</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 69222, 73076 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06135"></a><span class="lineno"> 6135</span>&#160;    {</div>
<div class="line"><a name="l06136"></a><span class="lineno"> 6136</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[2] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a8b2344cd954d6b4c61d99cd3ec1599f3">TARGET_UNIT_TARGET_ENEMY</a>;</div>
<div class="line"><a name="l06137"></a><span class="lineno"> 6137</span>&#160;    });</div>
<div class="line"><a name="l06138"></a><span class="lineno"> 6138</span>&#160; </div>
<div class="line"><a name="l06139"></a><span class="lineno"> 6139</span>&#160;    <span class="comment">// Halls of Reflection Clone</span></div>
<div class="line"><a name="l06140"></a><span class="lineno"> 6140</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 69828 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06141"></a><span class="lineno"> 6141</span>&#160;    {</div>
<div class="line"><a name="l06142"></a><span class="lineno"> 6142</span>&#160;        spellInfo-&gt;Effect[1] = 0;</div>
<div class="line"><a name="l06143"></a><span class="lineno"> 6143</span>&#160;        spellInfo-&gt;Effect[2] = 0;</div>
<div class="line"><a name="l06144"></a><span class="lineno"> 6144</span>&#160;    });</div>
<div class="line"><a name="l06145"></a><span class="lineno"> 6145</span>&#160; </div>
<div class="line"><a name="l06146"></a><span class="lineno"> 6146</span>&#160;    <span class="comment">// Summon Ice Wall</span></div>
<div class="line"><a name="l06147"></a><span class="lineno"> 6147</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 69768 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06148"></a><span class="lineno"> 6148</span>&#160;    {</div>
<div class="line"><a name="l06149"></a><span class="lineno"> 6149</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>;</div>
<div class="line"><a name="l06150"></a><span class="lineno"> 6150</span>&#160;    });</div>
<div class="line"><a name="l06151"></a><span class="lineno"> 6151</span>&#160; </div>
<div class="line"><a name="l06152"></a><span class="lineno"> 6152</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 69767 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06153"></a><span class="lineno"> 6153</span>&#160;    {</div>
<div class="line"><a name="l06154"></a><span class="lineno"> 6154</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a036a2b93df9713482bdbf62afd6d07cd">TARGET_DEST_TARGET_ANY</a>;</div>
<div class="line"><a name="l06155"></a><span class="lineno"> 6155</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[2] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>;</div>
<div class="line"><a name="l06156"></a><span class="lineno"> 6156</span>&#160;    });</div>
<div class="line"><a name="l06157"></a><span class="lineno"> 6157</span>&#160; </div>
<div class="line"><a name="l06158"></a><span class="lineno"> 6158</span>&#160;    <span class="comment">// Essence of the Captured</span></div>
<div class="line"><a name="l06159"></a><span class="lineno"> 6159</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 73035, 70719 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06160"></a><span class="lineno"> 6160</span>&#160;    {</div>
<div class="line"><a name="l06161"></a><span class="lineno"> 6161</span>&#160;        spellInfo-&gt;RangeIndex = 13;</div>
<div class="line"><a name="l06162"></a><span class="lineno"> 6162</span>&#160;    });</div>
<div class="line"><a name="l06163"></a><span class="lineno"> 6163</span>&#160; </div>
<div class="line"><a name="l06164"></a><span class="lineno"> 6164</span>&#160;    <span class="comment">// Achievement Check</span></div>
<div class="line"><a name="l06165"></a><span class="lineno"> 6165</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 72830 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06166"></a><span class="lineno"> 6166</span>&#160;    {</div>
<div class="line"><a name="l06167"></a><span class="lineno"> 6167</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b">EFFECT_RADIUS_200_YARDS</a>;</div>
<div class="line"><a name="l06168"></a><span class="lineno"> 6168</span>&#160;    });</div>
<div class="line"><a name="l06169"></a><span class="lineno"> 6169</span>&#160; </div>
<div class="line"><a name="l06170"></a><span class="lineno"> 6170</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l06171"></a><span class="lineno"> 6171</span>&#160;        70781,  <span class="comment">// Light&#39;s Hammer Teleport</span></div>
<div class="line"><a name="l06172"></a><span class="lineno"> 6172</span>&#160;        70856,  <span class="comment">// Oratory of the Damned Teleport</span></div>
<div class="line"><a name="l06173"></a><span class="lineno"> 6173</span>&#160;        70857,  <span class="comment">// Rampart of Skulls Teleport</span></div>
<div class="line"><a name="l06174"></a><span class="lineno"> 6174</span>&#160;        70858,  <span class="comment">// Deathbringer&#39;s Rise Teleport</span></div>
<div class="line"><a name="l06175"></a><span class="lineno"> 6175</span>&#160;        70859,  <span class="comment">// Upper Spire Teleport</span></div>
<div class="line"><a name="l06176"></a><span class="lineno"> 6176</span>&#160;        70860,  <span class="comment">// Frozen Throne Teleport</span></div>
<div class="line"><a name="l06177"></a><span class="lineno"> 6177</span>&#160;        70861   <span class="comment">// Sindragosa&#39;s Lair Teleport</span></div>
<div class="line"><a name="l06178"></a><span class="lineno"> 6178</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06179"></a><span class="lineno"> 6179</span>&#160;    {</div>
<div class="line"><a name="l06180"></a><span class="lineno"> 6180</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>;</div>
<div class="line"><a name="l06181"></a><span class="lineno"> 6181</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = 0;</div>
<div class="line"><a name="l06182"></a><span class="lineno"> 6182</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[1] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a26506da78f6a6950f7ac66718b775817">TARGET_DEST_DB</a>;   <span class="comment">// this target is for SPELL_EFFECT_TELEPORT_UNITS</span></div>
<div class="line"><a name="l06183"></a><span class="lineno"> 6183</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[1] = 0;</div>
<div class="line"><a name="l06184"></a><span class="lineno"> 6184</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[2] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>;</div>
<div class="line"><a name="l06185"></a><span class="lineno"> 6185</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[2] = 0;</div>
<div class="line"><a name="l06186"></a><span class="lineno"> 6186</span>&#160;    });</div>
<div class="line"><a name="l06187"></a><span class="lineno"> 6187</span>&#160; </div>
<div class="line"><a name="l06188"></a><span class="lineno"> 6188</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l06189"></a><span class="lineno"> 6189</span>&#160;        70960,  <span class="comment">// Bone Flurry</span></div>
<div class="line"><a name="l06190"></a><span class="lineno"> 6190</span>&#160;        71258   <span class="comment">// Adrenaline Rush (Ymirjar Battle-Maiden)</span></div>
<div class="line"><a name="l06191"></a><span class="lineno"> 6191</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06192"></a><span class="lineno"> 6192</span>&#160;    {</div>
<div class="line"><a name="l06193"></a><span class="lineno"> 6193</span>&#160;        spellInfo-&gt;AttributesEx &amp;= ~<a class="code" href="../../df/d0b/_shared_defines_8h.html#a638f8f550e23b2e3180b481bb3f38076a64f1f0a514e5f038c76d9a76f9dd306c">SPELL_ATTR1_IS_SELF_CHANNELED</a>;</div>
<div class="line"><a name="l06194"></a><span class="lineno"> 6194</span>&#160;    });</div>
<div class="line"><a name="l06195"></a><span class="lineno"> 6195</span>&#160; </div>
<div class="line"><a name="l06196"></a><span class="lineno"> 6196</span>&#160;    <span class="comment">// Saber Lash (Lord Marrowgar)</span></div>
<div class="line"><a name="l06197"></a><span class="lineno"> 6197</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 69055, 70814 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06198"></a><span class="lineno"> 6198</span>&#160;    {</div>
<div class="line"><a name="l06199"></a><span class="lineno"> 6199</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = 8;    <span class="comment">// 5yd</span></div>
<div class="line"><a name="l06200"></a><span class="lineno"> 6200</span>&#160;    });</div>
<div class="line"><a name="l06201"></a><span class="lineno"> 6201</span>&#160; </div>
<div class="line"><a name="l06202"></a><span class="lineno"> 6202</span>&#160;    <span class="comment">// Impaled (Lord Marrowgar)</span></div>
<div class="line"><a name="l06203"></a><span class="lineno"> 6203</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 69065 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06204"></a><span class="lineno"> 6204</span>&#160;    {</div>
<div class="line"><a name="l06205"></a><span class="lineno"> 6205</span>&#160;        spellInfo-&gt;Effect[0] = 0;   <span class="comment">// remove stun so Dispersion can be used</span></div>
<div class="line"><a name="l06206"></a><span class="lineno"> 6206</span>&#160;    });</div>
<div class="line"><a name="l06207"></a><span class="lineno"> 6207</span>&#160; </div>
<div class="line"><a name="l06208"></a><span class="lineno"> 6208</span>&#160;    <span class="comment">// Cold Flame (Lord Marrowgar)</span></div>
<div class="line"><a name="l06209"></a><span class="lineno"> 6209</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 72701, 72702, 72703, 72704 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06210"></a><span class="lineno"> 6210</span>&#160;    {</div>
<div class="line"><a name="l06211"></a><span class="lineno"> 6211</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>;</div>
<div class="line"><a name="l06212"></a><span class="lineno"> 6212</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[1] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>;</div>
<div class="line"><a name="l06213"></a><span class="lineno"> 6213</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[1] = 0;</div>
<div class="line"><a name="l06214"></a><span class="lineno"> 6214</span>&#160;        spellInfo-&gt;DurationIndex = 9;   <span class="comment">// 30 secs instead of 12, need him for longer, but will stop his actions after 12 secs</span></div>
<div class="line"><a name="l06215"></a><span class="lineno"> 6215</span>&#160;    });</div>
<div class="line"><a name="l06216"></a><span class="lineno"> 6216</span>&#160; </div>
<div class="line"><a name="l06217"></a><span class="lineno"> 6217</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 69138 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06218"></a><span class="lineno"> 6218</span>&#160;    {</div>
<div class="line"><a name="l06219"></a><span class="lineno"> 6219</span>&#160;        spellInfo-&gt;Effect[0] = 0;</div>
<div class="line"><a name="l06220"></a><span class="lineno"> 6220</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[1] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>;</div>
<div class="line"><a name="l06221"></a><span class="lineno"> 6221</span>&#160;        spellInfo-&gt;DurationIndex = 9;   <span class="comment">// 30 secs instead of 12, need him for longer, but will stop his actions after 12 secs</span></div>
<div class="line"><a name="l06222"></a><span class="lineno"> 6222</span>&#160;    });</div>
<div class="line"><a name="l06223"></a><span class="lineno"> 6223</span>&#160; </div>
<div class="line"><a name="l06224"></a><span class="lineno"> 6224</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 69146, 70823, 70824, 70825 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06225"></a><span class="lineno"> 6225</span>&#160;    {</div>
<div class="line"><a name="l06226"></a><span class="lineno"> 6226</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = 15;   <span class="comment">// 3yd instead of 5yd</span></div>
<div class="line"><a name="l06227"></a><span class="lineno"> 6227</span>&#160;        spellInfo-&gt;AttributesEx4 &amp;= ~<a class="code" href="../../df/d0b/_shared_defines_8h.html#aec1a0b3970de527f109db7fb8b7df5b6ab1a8611660de2bc3a6ff4523b2d76376">SPELL_ATTR4_NO_CAST_LOG</a>;</div>
<div class="line"><a name="l06228"></a><span class="lineno"> 6228</span>&#160;    });</div>
<div class="line"><a name="l06229"></a><span class="lineno"> 6229</span>&#160; </div>
<div class="line"><a name="l06230"></a><span class="lineno"> 6230</span>&#160;    <span class="comment">// Dark Martyrdom (Lady Deathwhisper)</span></div>
<div class="line"><a name="l06231"></a><span class="lineno"> 6231</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 70897 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06232"></a><span class="lineno"> 6232</span>&#160;    {</div>
<div class="line"><a name="l06233"></a><span class="lineno"> 6233</span>&#160;        spellInfo-&gt;AttributesEx2 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668ad2cb623676f084a0370c1983084a29d8">SPELL_ATTR2_ALLOW_DEAD_TARGET</a>;</div>
<div class="line"><a name="l06234"></a><span class="lineno"> 6234</span>&#160;    });</div>
<div class="line"><a name="l06235"></a><span class="lineno"> 6235</span>&#160; </div>
<div class="line"><a name="l06236"></a><span class="lineno"> 6236</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l06237"></a><span class="lineno"> 6237</span>&#160;        69075,  <span class="comment">// Bone Storm (Lord Marrowgar)</span></div>
<div class="line"><a name="l06238"></a><span class="lineno"> 6238</span>&#160;        70834,  <span class="comment">// Bone Storm (Lord Marrowgar)</span></div>
<div class="line"><a name="l06239"></a><span class="lineno"> 6239</span>&#160;        70835,  <span class="comment">// Bone Storm (Lord Marrowgar)</span></div>
<div class="line"><a name="l06240"></a><span class="lineno"> 6240</span>&#160;        70836,  <span class="comment">// Bone Storm (Lord Marrowgar)</span></div>
<div class="line"><a name="l06241"></a><span class="lineno"> 6241</span>&#160;        72378,  <span class="comment">// Blood Nova (Deathbringer Saurfang)</span></div>
<div class="line"><a name="l06242"></a><span class="lineno"> 6242</span>&#160;        73058,  <span class="comment">// Blood Nova (Deathbringer Saurfang)</span></div>
<div class="line"><a name="l06243"></a><span class="lineno"> 6243</span>&#160;        72769,  <span class="comment">// Scent of Blood (Deathbringer Saurfang)</span></div>
<div class="line"><a name="l06244"></a><span class="lineno"> 6244</span>&#160;        72385,  <span class="comment">// Boiling Blood (Deathbringer Saurfang)</span></div>
<div class="line"><a name="l06245"></a><span class="lineno"> 6245</span>&#160;        72441,  <span class="comment">// Boiling Blood (Deathbringer Saurfang)</span></div>
<div class="line"><a name="l06246"></a><span class="lineno"> 6246</span>&#160;        72442,  <span class="comment">// Boiling Blood (Deathbringer Saurfang)</span></div>
<div class="line"><a name="l06247"></a><span class="lineno"> 6247</span>&#160;        72443,  <span class="comment">// Boiling Blood (Deathbringer Saurfang)</span></div>
<div class="line"><a name="l06248"></a><span class="lineno"> 6248</span>&#160;        71160,  <span class="comment">// Plague Stench (Stinky)</span></div>
<div class="line"><a name="l06249"></a><span class="lineno"> 6249</span>&#160;        71161,  <span class="comment">// Plague Stench (Stinky)</span></div>
<div class="line"><a name="l06250"></a><span class="lineno"> 6250</span>&#160;        71123,  <span class="comment">// Decimate (Stinky &amp; Precious)</span></div>
<div class="line"><a name="l06251"></a><span class="lineno"> 6251</span>&#160;        71464   <span class="comment">// Divine Surge (Sister Svalna)</span></div>
<div class="line"><a name="l06252"></a><span class="lineno"> 6252</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06253"></a><span class="lineno"> 6253</span>&#160;    {</div>
<div class="line"><a name="l06254"></a><span class="lineno"> 6254</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = 12;   <span class="comment">// 100yd</span></div>
<div class="line"><a name="l06255"></a><span class="lineno"> 6255</span>&#160;    });</div>
<div class="line"><a name="l06256"></a><span class="lineno"> 6256</span>&#160; </div>
<div class="line"><a name="l06257"></a><span class="lineno"> 6257</span>&#160;    <span class="comment">// Shadow&#39;s Fate</span></div>
<div class="line"><a name="l06258"></a><span class="lineno"> 6258</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 71169 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06259"></a><span class="lineno"> 6259</span>&#160;    {</div>
<div class="line"><a name="l06260"></a><span class="lineno"> 6260</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67">SPELL_ATTR3_DOT_STACKING_RULE</a>;</div>
<div class="line"><a name="l06261"></a><span class="lineno"> 6261</span>&#160;    });</div>
<div class="line"><a name="l06262"></a><span class="lineno"> 6262</span>&#160; </div>
<div class="line"><a name="l06263"></a><span class="lineno"> 6263</span>&#160;    <span class="comment">// Lock Players and Tap Chest</span></div>
<div class="line"><a name="l06264"></a><span class="lineno"> 6264</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 72347 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06265"></a><span class="lineno"> 6265</span>&#160;    {</div>
<div class="line"><a name="l06266"></a><span class="lineno"> 6266</span>&#160;        spellInfo-&gt;AttributesEx3 &amp;= ~<a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81acdc9f1610f2a4cd247669ddb7497aa48">SPELL_ATTR3_SUPRESS_TARGET_PROCS</a>;</div>
<div class="line"><a name="l06267"></a><span class="lineno"> 6267</span>&#160;    });</div>
<div class="line"><a name="l06268"></a><span class="lineno"> 6268</span>&#160; </div>
<div class="line"><a name="l06269"></a><span class="lineno"> 6269</span>&#160;    <span class="comment">// Award Reputation - Boss Kill</span></div>
<div class="line"><a name="l06270"></a><span class="lineno"> 6270</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 73843, 73844, 73845, 73846 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06271"></a><span class="lineno"> 6271</span>&#160;    {</div>
<div class="line"><a name="l06272"></a><span class="lineno"> 6272</span>&#160;        spellInfo-&gt;EffectRadiusIndex[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6aa2446e6dca7800ee4e10ccb0b2cacce5">EFFECT_RADIUS_50000_YARDS</a>;</div>
<div class="line"><a name="l06273"></a><span class="lineno"> 6273</span>&#160;    });</div>
<div class="line"><a name="l06274"></a><span class="lineno"> 6274</span>&#160; </div>
<div class="line"><a name="l06275"></a><span class="lineno"> 6275</span>&#160;    <span class="comment">// Death Plague (Rotting Frost Giant)</span></div>
<div class="line"><a name="l06276"></a><span class="lineno"> 6276</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 72864 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06277"></a><span class="lineno"> 6277</span>&#160;    {</div>
<div class="line"><a name="l06278"></a><span class="lineno"> 6278</span>&#160;        spellInfo-&gt;ExcludeTargetAuraSpell = 0;</div>
<div class="line"><a name="l06279"></a><span class="lineno"> 6279</span>&#160;    });</div>
<div class="line"><a name="l06280"></a><span class="lineno"> 6280</span>&#160; </div>
<div class="line"><a name="l06281"></a><span class="lineno"> 6281</span>&#160;    <span class="comment">// Gunship Battle, spell Below Zero</span></div>
<div class="line"><a name="l06282"></a><span class="lineno"> 6282</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 69705 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06283"></a><span class="lineno"> 6283</span>&#160;    {</div>
<div class="line"><a name="l06284"></a><span class="lineno"> 6284</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a>;</div>
<div class="line"><a name="l06285"></a><span class="lineno"> 6285</span>&#160;    });</div>
<div class="line"><a name="l06286"></a><span class="lineno"> 6286</span>&#160; </div>
<div class="line"><a name="l06287"></a><span class="lineno"> 6287</span>&#160;    <span class="comment">// Resistant Skin (Deathbringer Saurfang adds)</span></div>
<div class="line"><a name="l06288"></a><span class="lineno"> 6288</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 72723 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06289"></a><span class="lineno"> 6289</span>&#160;    {</div>
<div class="line"><a name="l06290"></a><span class="lineno"> 6290</span>&#160;        <span class="comment">// this spell initially granted Shadow damage immunity, however it was removed but the data was left in client</span></div>
<div class="line"><a name="l06291"></a><span class="lineno"> 6291</span>&#160;        spellInfo-&gt;Effect[2] = 0;</div>
<div class="line"><a name="l06292"></a><span class="lineno"> 6292</span>&#160;    });</div>
<div class="line"><a name="l06293"></a><span class="lineno"> 6293</span>&#160; </div>
<div class="line"><a name="l06294"></a><span class="lineno"> 6294</span>&#160;    <span class="comment">// Mark of the Fallen Champion (Deathbringer Saurfang)</span></div>
<div class="line"><a name="l06295"></a><span class="lineno"> 6295</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 72255, 72444, 72445, 72446 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06296"></a><span class="lineno"> 6296</span>&#160;    {</div>
<div class="line"><a name="l06297"></a><span class="lineno"> 6297</span>&#160;        <span class="comment">// Patch 3.3.2 (2010-01-02): Deathbringer Saurfang will no longer gain blood power from Mark of the Fallen Champion.</span></div>
<div class="line"><a name="l06298"></a><span class="lineno"> 6298</span>&#160;        <span class="comment">// prevented in script, effect needed for Prayer of Mending</span></div>
<div class="line"><a name="l06299"></a><span class="lineno"> 6299</span>&#160;        spellInfo-&gt;AttributesEx3 &amp;= ~<a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81ac2986782f66a992ba3ff45797716f716">SPELL_ATTR3_SUPRESS_CASTER_PROCS</a>;</div>
<div class="line"><a name="l06300"></a><span class="lineno"> 6300</span>&#160;    });</div>
<div class="line"><a name="l06301"></a><span class="lineno"> 6301</span>&#160; </div>
<div class="line"><a name="l06302"></a><span class="lineno"> 6302</span>&#160;    <span class="comment">// Coldflame Jets (Traps after Saurfang)</span></div>
<div class="line"><a name="l06303"></a><span class="lineno"> 6303</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 70460 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06304"></a><span class="lineno"> 6304</span>&#160;    {</div>
<div class="line"><a name="l06305"></a><span class="lineno"> 6305</span>&#160;        spellInfo-&gt;DurationIndex = 1;   <span class="comment">// 10 seconds</span></div>
<div class="line"><a name="l06306"></a><span class="lineno"> 6306</span>&#160;    });</div>
<div class="line"><a name="l06307"></a><span class="lineno"> 6307</span>&#160; </div>
<div class="line"><a name="l06308"></a><span class="lineno"> 6308</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l06309"></a><span class="lineno"> 6309</span>&#160;        70461,  <span class="comment">// Coldflame Jets (Traps after Saurfang)</span></div>
<div class="line"><a name="l06310"></a><span class="lineno"> 6310</span>&#160;        71289   <span class="comment">// Dominate Mind (Lady Deathwhisper)</span></div>
<div class="line"><a name="l06311"></a><span class="lineno"> 6311</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06312"></a><span class="lineno"> 6312</span>&#160;    {</div>
<div class="line"><a name="l06313"></a><span class="lineno"> 6313</span>&#160;        spellInfo-&gt;AttributesEx2 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><a name="l06314"></a><span class="lineno"> 6314</span>&#160;    });</div>
<div class="line"><a name="l06315"></a><span class="lineno"> 6315</span>&#160; </div>
<div class="line"><a name="l06316"></a><span class="lineno"> 6316</span>&#160;    <span class="comment">// Severed Essence (Val&#39;kyr Herald)</span></div>
<div class="line"><a name="l06317"></a><span class="lineno"> 6317</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 71906, 71942 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06318"></a><span class="lineno"> 6318</span>&#160;    {</div>
<div class="line"><a name="l06319"></a><span class="lineno"> 6319</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a8b2344cd954d6b4c61d99cd3ec1599f3">TARGET_UNIT_TARGET_ENEMY</a>;</div>
<div class="line"><a name="l06320"></a><span class="lineno"> 6320</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = 0;</div>
<div class="line"><a name="l06321"></a><span class="lineno"> 6321</span>&#160;        spellInfo-&gt;Effect[1] = 0;</div>
<div class="line"><a name="l06322"></a><span class="lineno"> 6322</span>&#160;    });</div>
<div class="line"><a name="l06323"></a><span class="lineno"> 6323</span>&#160; </div>
<div class="line"><a name="l06324"></a><span class="lineno"> 6324</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l06325"></a><span class="lineno"> 6325</span>&#160;        71159,  <span class="comment">// Awaken Plagued Zombies (Precious)</span></div>
<div class="line"><a name="l06326"></a><span class="lineno"> 6326</span>&#160;        71302   <span class="comment">// Awaken Ymirjar Fallen (Ymirjar Deathbringer)</span></div>
<div class="line"><a name="l06327"></a><span class="lineno"> 6327</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06328"></a><span class="lineno"> 6328</span>&#160;    {</div>
<div class="line"><a name="l06329"></a><span class="lineno"> 6329</span>&#160;        spellInfo-&gt;DurationIndex = 21;</div>
<div class="line"><a name="l06330"></a><span class="lineno"> 6330</span>&#160;    });</div>
<div class="line"><a name="l06331"></a><span class="lineno"> 6331</span>&#160; </div>
<div class="line"><a name="l06332"></a><span class="lineno"> 6332</span>&#160;    <span class="comment">// Blood Prince Council, Invocation of Blood</span></div>
<div class="line"><a name="l06333"></a><span class="lineno"> 6333</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 70981, 70982, 70952 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06334"></a><span class="lineno"> 6334</span>&#160;    {</div>
<div class="line"><a name="l06335"></a><span class="lineno"> 6335</span>&#160;        spellInfo-&gt;Effect[0] = 0; <span class="comment">// clear share health aura</span></div>
<div class="line"><a name="l06336"></a><span class="lineno"> 6336</span>&#160;    });</div>
<div class="line"><a name="l06337"></a><span class="lineno"> 6337</span>&#160; </div>
<div class="line"><a name="l06338"></a><span class="lineno"> 6338</span>&#160;    <span class="comment">// Ymirjar Frostbinder, Frozen Orb</span></div>
<div class="line"><a name="l06339"></a><span class="lineno"> 6339</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 71274 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06340"></a><span class="lineno"> 6340</span>&#160;    {</div>
<div class="line"><a name="l06341"></a><span class="lineno"> 6341</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = 6;</div>
<div class="line"><a name="l06342"></a><span class="lineno"> 6342</span>&#160;    });</div>
<div class="line"><a name="l06343"></a><span class="lineno"> 6343</span>&#160; </div>
<div class="line"><a name="l06344"></a><span class="lineno"> 6344</span>&#160;    <span class="comment">// Ooze Flood (Rotface)</span></div>
<div class="line"><a name="l06345"></a><span class="lineno"> 6345</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 69783, 69797, 69799, 69802 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06346"></a><span class="lineno"> 6346</span>&#160;    {</div>
<div class="line"><a name="l06347"></a><span class="lineno"> 6347</span>&#160;        spellInfo-&gt;AttributesEx |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a638f8f550e23b2e3180b481bb3f38076a4046bd467f3727369dcbc06e1d5f2b8f">SPELL_ATTR1_EXCLUDE_CASTER</a>;</div>
<div class="line"><a name="l06348"></a><span class="lineno"> 6348</span>&#160;    });</div>
<div class="line"><a name="l06349"></a><span class="lineno"> 6349</span>&#160; </div>
<div class="line"><a name="l06350"></a><span class="lineno"> 6350</span>&#160;    <span class="comment">// Volatile Ooze Beam Protection</span></div>
<div class="line"><a name="l06351"></a><span class="lineno"> 6351</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 70530 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06352"></a><span class="lineno"> 6352</span>&#160;    {</div>
<div class="line"><a name="l06353"></a><span class="lineno"> 6353</span>&#160;        spellInfo-&gt;Effect[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>; <span class="comment">// blizzard typo, 65 instead of 6, aura itself is defined (dummy)</span></div>
<div class="line"><a name="l06354"></a><span class="lineno"> 6354</span>&#160;    });</div>
<div class="line"><a name="l06355"></a><span class="lineno"> 6355</span>&#160; </div>
<div class="line"><a name="l06356"></a><span class="lineno"> 6356</span>&#160;    <span class="comment">// Professor Putricide, Gaseous Bloat (Orange Ooze Channel)</span></div>
<div class="line"><a name="l06357"></a><span class="lineno"> 6357</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 70672, 72455, 72832, 72833 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06358"></a><span class="lineno"> 6358</span>&#160;    {</div>
<div class="line"><a name="l06359"></a><span class="lineno"> 6359</span>&#160;        <span class="comment">// copied attributes from Green Ooze Channel</span></div>
<div class="line"><a name="l06360"></a><span class="lineno"> 6360</span>&#160;        spellInfo-&gt;Attributes |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada6a12b14654225a9ccea65799ce6fc780">SPELL_ATTR0_NO_IMMUNITIES</a>;</div>
<div class="line"><a name="l06361"></a><span class="lineno"> 6361</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a>;</div>
<div class="line"><a name="l06362"></a><span class="lineno"> 6362</span>&#160;    });</div>
<div class="line"><a name="l06363"></a><span class="lineno"> 6363</span>&#160; </div>
<div class="line"><a name="l06364"></a><span class="lineno"> 6364</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l06365"></a><span class="lineno"> 6365</span>&#160;        71412,  <span class="comment">// Green Ooze Summon (Professor Putricide)</span></div>
<div class="line"><a name="l06366"></a><span class="lineno"> 6366</span>&#160;        71415   <span class="comment">// Orange Ooze Summon (Professor Putricide)</span></div>
<div class="line"><a name="l06367"></a><span class="lineno"> 6367</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06368"></a><span class="lineno"> 6368</span>&#160;    {</div>
<div class="line"><a name="l06369"></a><span class="lineno"> 6369</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>;</div>
<div class="line"><a name="l06370"></a><span class="lineno"> 6370</span>&#160;    });</div>
<div class="line"><a name="l06371"></a><span class="lineno"> 6371</span>&#160; </div>
<div class="line"><a name="l06372"></a><span class="lineno"> 6372</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l06373"></a><span class="lineno"> 6373</span>&#160;        71621,  <span class="comment">// Create Concoction (Professor Putricide)</span></div>
<div class="line"><a name="l06374"></a><span class="lineno"> 6374</span>&#160;        72850,</div>
<div class="line"><a name="l06375"></a><span class="lineno"> 6375</span>&#160;        72851,</div>
<div class="line"><a name="l06376"></a><span class="lineno"> 6376</span>&#160;        72852,</div>
<div class="line"><a name="l06377"></a><span class="lineno"> 6377</span>&#160;        71893,  <span class="comment">// Guzzle Potions (Professor Putricide)</span></div>
<div class="line"><a name="l06378"></a><span class="lineno"> 6378</span>&#160;        73120,</div>
<div class="line"><a name="l06379"></a><span class="lineno"> 6379</span>&#160;        73121,</div>
<div class="line"><a name="l06380"></a><span class="lineno"> 6380</span>&#160;        73122</div>
<div class="line"><a name="l06381"></a><span class="lineno"> 6381</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06382"></a><span class="lineno"> 6382</span>&#160;    {</div>
<div class="line"><a name="l06383"></a><span class="lineno"> 6383</span>&#160;        spellInfo-&gt;CastingTimeIndex = 15; <span class="comment">// 4 sec</span></div>
<div class="line"><a name="l06384"></a><span class="lineno"> 6384</span>&#160;    });</div>
<div class="line"><a name="l06385"></a><span class="lineno"> 6385</span>&#160; </div>
<div class="line"><a name="l06386"></a><span class="lineno"> 6386</span>&#160;    <span class="comment">// Mutated Plague (Professor Putricide)</span></div>
<div class="line"><a name="l06387"></a><span class="lineno"> 6387</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 72454, 72464, 72506, 72507 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06388"></a><span class="lineno"> 6388</span>&#160;    {</div>
<div class="line"><a name="l06389"></a><span class="lineno"> 6389</span>&#160;        spellInfo-&gt;AttributesEx4 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#aec1a0b3970de527f109db7fb8b7df5b6ab1a8611660de2bc3a6ff4523b2d76376">SPELL_ATTR4_NO_CAST_LOG</a>;</div>
<div class="line"><a name="l06390"></a><span class="lineno"> 6390</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6aa2446e6dca7800ee4e10ccb0b2cacce5">EFFECT_RADIUS_50000_YARDS</a>;   <span class="comment">// 50000yd</span></div>
<div class="line"><a name="l06391"></a><span class="lineno"> 6391</span>&#160;    });</div>
<div class="line"><a name="l06392"></a><span class="lineno"> 6392</span>&#160; </div>
<div class="line"><a name="l06393"></a><span class="lineno"> 6393</span>&#160;    <span class="comment">// Unbound Plague (Professor Putricide) (needs target selection script)</span></div>
<div class="line"><a name="l06394"></a><span class="lineno"> 6394</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 70911, 72854, 72855, 72856 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06395"></a><span class="lineno"> 6395</span>&#160;    {</div>
<div class="line"><a name="l06396"></a><span class="lineno"> 6396</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a8b2344cd954d6b4c61d99cd3ec1599f3">TARGET_UNIT_TARGET_ENEMY</a>;</div>
<div class="line"><a name="l06397"></a><span class="lineno"> 6397</span>&#160;    });</div>
<div class="line"><a name="l06398"></a><span class="lineno"> 6398</span>&#160; </div>
<div class="line"><a name="l06399"></a><span class="lineno"> 6399</span>&#160;    <span class="comment">// Mutated Transformation (Professor Putricide)</span></div>
<div class="line"><a name="l06400"></a><span class="lineno"> 6400</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 70402, 72511, 72512, 72513 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06401"></a><span class="lineno"> 6401</span>&#160;    {</div>
<div class="line"><a name="l06402"></a><span class="lineno"> 6402</span>&#160;        spellInfo-&gt;AttributesEx2 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668a39664dba0d11d177e801877b9068bd8f">SPELL_ATTR2_CANT_CRIT</a>;</div>
<div class="line"><a name="l06403"></a><span class="lineno"> 6403</span>&#160;    });</div>
<div class="line"><a name="l06404"></a><span class="lineno"> 6404</span>&#160; </div>
<div class="line"><a name="l06405"></a><span class="lineno"> 6405</span>&#160;    <span class="comment">// Empowered Flare (Blood Prince Council)</span></div>
<div class="line"><a name="l06406"></a><span class="lineno"> 6406</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 71708, 72785, 72786, 72787 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06407"></a><span class="lineno"> 6407</span>&#160;    {</div>
<div class="line"><a name="l06408"></a><span class="lineno"> 6408</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81af803e1e3c27f800be5855d258135fbff">SPELL_ATTR3_IGNORE_CASTER_MODIFIERS</a>;</div>
<div class="line"><a name="l06409"></a><span class="lineno"> 6409</span>&#160;    });</div>
<div class="line"><a name="l06410"></a><span class="lineno"> 6410</span>&#160; </div>
<div class="line"><a name="l06411"></a><span class="lineno"> 6411</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l06412"></a><span class="lineno"> 6412</span>&#160;        71518,  <span class="comment">// Unholy Infusion Quest Credit (Professor Putricide)</span></div>
<div class="line"><a name="l06413"></a><span class="lineno"> 6413</span>&#160;        72934,  <span class="comment">// Blood Infusion Quest Credit (Blood-Queen Lana&#39;thel)</span></div>
<div class="line"><a name="l06414"></a><span class="lineno"> 6414</span>&#160;        72289   <span class="comment">// Frost Infusion Quest Credit (Sindragosa)</span></div>
<div class="line"><a name="l06415"></a><span class="lineno"> 6415</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06416"></a><span class="lineno"> 6416</span>&#160;    {</div>
<div class="line"><a name="l06417"></a><span class="lineno"> 6417</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b">EFFECT_RADIUS_200_YARDS</a>;   <span class="comment">// another missing radius</span></div>
<div class="line"><a name="l06418"></a><span class="lineno"> 6418</span>&#160;    });</div>
<div class="line"><a name="l06419"></a><span class="lineno"> 6419</span>&#160; </div>
<div class="line"><a name="l06420"></a><span class="lineno"> 6420</span>&#160;    <span class="comment">// Swarming Shadows</span></div>
<div class="line"><a name="l06421"></a><span class="lineno"> 6421</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 71266, 72890 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06422"></a><span class="lineno"> 6422</span>&#160;    {</div>
<div class="line"><a name="l06423"></a><span class="lineno"> 6423</span>&#160;        spellInfo-&gt;AreaGroupId = 0; <span class="comment">// originally, these require area 4522, which is... outside of Icecrown Citadel</span></div>
<div class="line"><a name="l06424"></a><span class="lineno"> 6424</span>&#160;    });</div>
<div class="line"><a name="l06425"></a><span class="lineno"> 6425</span>&#160; </div>
<div class="line"><a name="l06426"></a><span class="lineno"> 6426</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l06427"></a><span class="lineno"> 6427</span>&#160;        71301,  <span class="comment">// Summon Dream Portal (Valithria Dreamwalker)</span></div>
<div class="line"><a name="l06428"></a><span class="lineno"> 6428</span>&#160;        71977   <span class="comment">// Summon Nightmare Portal (Valithria Dreamwalker)</span></div>
<div class="line"><a name="l06429"></a><span class="lineno"> 6429</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06430"></a><span class="lineno"> 6430</span>&#160;    {</div>
<div class="line"><a name="l06431"></a><span class="lineno"> 6431</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>;</div>
<div class="line"><a name="l06432"></a><span class="lineno"> 6432</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = 0;</div>
<div class="line"><a name="l06433"></a><span class="lineno"> 6433</span>&#160;    });</div>
<div class="line"><a name="l06434"></a><span class="lineno"> 6434</span>&#160; </div>
<div class="line"><a name="l06435"></a><span class="lineno"> 6435</span>&#160;    <span class="comment">// Column of Frost (visual marker)</span></div>
<div class="line"><a name="l06436"></a><span class="lineno"> 6436</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 70715 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06437"></a><span class="lineno"> 6437</span>&#160;    {</div>
<div class="line"><a name="l06438"></a><span class="lineno"> 6438</span>&#160;        spellInfo-&gt;DurationIndex = 32; <span class="comment">// 6 seconds (missing)</span></div>
<div class="line"><a name="l06439"></a><span class="lineno"> 6439</span>&#160;    });</div>
<div class="line"><a name="l06440"></a><span class="lineno"> 6440</span>&#160; </div>
<div class="line"><a name="l06441"></a><span class="lineno"> 6441</span>&#160;    <span class="comment">// Mana Void (periodic aura)</span></div>
<div class="line"><a name="l06442"></a><span class="lineno"> 6442</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 71085 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06443"></a><span class="lineno"> 6443</span>&#160;    {</div>
<div class="line"><a name="l06444"></a><span class="lineno"> 6444</span>&#160;        spellInfo-&gt;DurationIndex = 9; <span class="comment">// 30 seconds (missing)</span></div>
<div class="line"><a name="l06445"></a><span class="lineno"> 6445</span>&#160;    });</div>
<div class="line"><a name="l06446"></a><span class="lineno"> 6446</span>&#160; </div>
<div class="line"><a name="l06447"></a><span class="lineno"> 6447</span>&#160;    <span class="comment">// Summon Suppressor (needs target selection script)</span></div>
<div class="line"><a name="l06448"></a><span class="lineno"> 6448</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 70936 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06449"></a><span class="lineno"> 6449</span>&#160;    {</div>
<div class="line"><a name="l06450"></a><span class="lineno"> 6450</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>;</div>
<div class="line"><a name="l06451"></a><span class="lineno"> 6451</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = 0;</div>
<div class="line"><a name="l06452"></a><span class="lineno"> 6452</span>&#160;    });</div>
<div class="line"><a name="l06453"></a><span class="lineno"> 6453</span>&#160; </div>
<div class="line"><a name="l06454"></a><span class="lineno"> 6454</span>&#160;    <span class="comment">// Corruption</span></div>
<div class="line"><a name="l06455"></a><span class="lineno"> 6455</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 70602 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06456"></a><span class="lineno"> 6456</span>&#160;    {</div>
<div class="line"><a name="l06457"></a><span class="lineno"> 6457</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67">SPELL_ATTR3_DOT_STACKING_RULE</a>;</div>
<div class="line"><a name="l06458"></a><span class="lineno"> 6458</span>&#160;    });</div>
<div class="line"><a name="l06459"></a><span class="lineno"> 6459</span>&#160; </div>
<div class="line"><a name="l06460"></a><span class="lineno"> 6460</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l06461"></a><span class="lineno"> 6461</span>&#160;        72706,  <span class="comment">// Achievement Check (Valithria Dreamwalker)</span></div>
<div class="line"><a name="l06462"></a><span class="lineno"> 6462</span>&#160;        71357   <span class="comment">// Order Whelp</span></div>
<div class="line"><a name="l06463"></a><span class="lineno"> 6463</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06464"></a><span class="lineno"> 6464</span>&#160;    {</div>
<div class="line"><a name="l06465"></a><span class="lineno"> 6465</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b">EFFECT_RADIUS_200_YARDS</a>;   <span class="comment">// 200yd</span></div>
<div class="line"><a name="l06466"></a><span class="lineno"> 6466</span>&#160;    });</div>
<div class="line"><a name="l06467"></a><span class="lineno"> 6467</span>&#160; </div>
<div class="line"><a name="l06468"></a><span class="lineno"> 6468</span>&#160;    <span class="comment">// Sindragosa&#39;s Fury</span></div>
<div class="line"><a name="l06469"></a><span class="lineno"> 6469</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 70598 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06470"></a><span class="lineno"> 6470</span>&#160;    {</div>
<div class="line"><a name="l06471"></a><span class="lineno"> 6471</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>;</div>
<div class="line"><a name="l06472"></a><span class="lineno"> 6472</span>&#160;    });</div>
<div class="line"><a name="l06473"></a><span class="lineno"> 6473</span>&#160; </div>
<div class="line"><a name="l06474"></a><span class="lineno"> 6474</span>&#160;    <span class="comment">// Tail Smash (Sindragosa)</span></div>
<div class="line"><a name="l06475"></a><span class="lineno"> 6475</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 71077 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06476"></a><span class="lineno"> 6476</span>&#160;    {</div>
<div class="line"><a name="l06477"></a><span class="lineno"> 6477</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a6a231b500f22fb9e67a5a5ebdb38ce6c">TARGET_DEST_CASTER_BACK</a>;</div>
<div class="line"><a name="l06478"></a><span class="lineno"> 6478</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a423eed54c405c7e51816127214e8ea82">TARGET_UNIT_DEST_AREA_ENEMY</a>;</div>
<div class="line"><a name="l06479"></a><span class="lineno"> 6479</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[1] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a6a231b500f22fb9e67a5a5ebdb38ce6c">TARGET_DEST_CASTER_BACK</a>;</div>
<div class="line"><a name="l06480"></a><span class="lineno"> 6480</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[1] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a423eed54c405c7e51816127214e8ea82">TARGET_UNIT_DEST_AREA_ENEMY</a>;</div>
<div class="line"><a name="l06481"></a><span class="lineno"> 6481</span>&#160;    });</div>
<div class="line"><a name="l06482"></a><span class="lineno"> 6482</span>&#160; </div>
<div class="line"><a name="l06483"></a><span class="lineno"> 6483</span>&#160;    <span class="comment">// Frost Bomb</span></div>
<div class="line"><a name="l06484"></a><span class="lineno"> 6484</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 69846 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06485"></a><span class="lineno"> 6485</span>&#160;    {</div>
<div class="line"><a name="l06486"></a><span class="lineno"> 6486</span>&#160;        spellInfo-&gt;Speed = 0.0f;    <span class="comment">// This spell&#39;s summon happens instantly</span></div>
<div class="line"><a name="l06487"></a><span class="lineno"> 6487</span>&#160;    });</div>
<div class="line"><a name="l06488"></a><span class="lineno"> 6488</span>&#160; </div>
<div class="line"><a name="l06489"></a><span class="lineno"> 6489</span>&#160;    <span class="comment">// Mystic Buffet (Sindragosa)</span></div>
<div class="line"><a name="l06490"></a><span class="lineno"> 6490</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 70127, 72528, 72529, 72530 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06491"></a><span class="lineno"> 6491</span>&#160;    {</div>
<div class="line"><a name="l06492"></a><span class="lineno"> 6492</span>&#160;        spellInfo-&gt;Effect[1] = 0; <span class="comment">// remove obsolete spell effect with no targets</span></div>
<div class="line"><a name="l06493"></a><span class="lineno"> 6493</span>&#160;    });</div>
<div class="line"><a name="l06494"></a><span class="lineno"> 6494</span>&#160; </div>
<div class="line"><a name="l06495"></a><span class="lineno"> 6495</span>&#160;    <span class="comment">// Sindragosa, Frost Aura</span></div>
<div class="line"><a name="l06496"></a><span class="lineno"> 6496</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 70084, 71050, 71051, 71052 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06497"></a><span class="lineno"> 6497</span>&#160;    {</div>
<div class="line"><a name="l06498"></a><span class="lineno"> 6498</span>&#160;        spellInfo-&gt;Attributes &amp;= ~<a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada6a12b14654225a9ccea65799ce6fc780">SPELL_ATTR0_NO_IMMUNITIES</a>;</div>
<div class="line"><a name="l06499"></a><span class="lineno"> 6499</span>&#160;    });</div>
<div class="line"><a name="l06500"></a><span class="lineno"> 6500</span>&#160; </div>
<div class="line"><a name="l06501"></a><span class="lineno"> 6501</span>&#160;    <span class="comment">// Ice Lock</span></div>
<div class="line"><a name="l06502"></a><span class="lineno"> 6502</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 71614 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06503"></a><span class="lineno"> 6503</span>&#160;    {</div>
<div class="line"><a name="l06504"></a><span class="lineno"> 6504</span>&#160;        spellInfo-&gt;Mechanic = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a8fe6a763d72d84ded23cec01c772f7ada77412c9a71759f2e8b7f3c629681be4d">MECHANIC_STUN</a>;</div>
<div class="line"><a name="l06505"></a><span class="lineno"> 6505</span>&#160;    });</div>
<div class="line"><a name="l06506"></a><span class="lineno"> 6506</span>&#160; </div>
<div class="line"><a name="l06507"></a><span class="lineno"> 6507</span>&#160;    <span class="comment">// Lich King, Infest</span></div>
<div class="line"><a name="l06508"></a><span class="lineno"> 6508</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 70541, 73779, 73780, 73781 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06509"></a><span class="lineno"> 6509</span>&#160;    {</div>
<div class="line"><a name="l06510"></a><span class="lineno"> 6510</span>&#160;        spellInfo-&gt;AttributesEx2 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><a name="l06511"></a><span class="lineno"> 6511</span>&#160;    });</div>
<div class="line"><a name="l06512"></a><span class="lineno"> 6512</span>&#160; </div>
<div class="line"><a name="l06513"></a><span class="lineno"> 6513</span>&#160;    <span class="comment">// Lich King, Necrotic Plague</span></div>
<div class="line"><a name="l06514"></a><span class="lineno"> 6514</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 70337, 73912, 73913, 73914, 70338, 73785, 73786, 73787 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06515"></a><span class="lineno"> 6515</span>&#160;    {</div>
<div class="line"><a name="l06516"></a><span class="lineno"> 6516</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a>;</div>
<div class="line"><a name="l06517"></a><span class="lineno"> 6517</span>&#160;    });</div>
<div class="line"><a name="l06518"></a><span class="lineno"> 6518</span>&#160; </div>
<div class="line"><a name="l06519"></a><span class="lineno"> 6519</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l06520"></a><span class="lineno"> 6520</span>&#160;        69099,  <span class="comment">// Ice Pulse 10n</span></div>
<div class="line"><a name="l06521"></a><span class="lineno"> 6521</span>&#160;        73776,  <span class="comment">// Ice Pulse 25n</span></div>
<div class="line"><a name="l06522"></a><span class="lineno"> 6522</span>&#160;        73777,  <span class="comment">// Ice Pulse 10h</span></div>
<div class="line"><a name="l06523"></a><span class="lineno"> 6523</span>&#160;        73778   <span class="comment">// Ice Pulse 25h</span></div>
<div class="line"><a name="l06524"></a><span class="lineno"> 6524</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06525"></a><span class="lineno"> 6525</span>&#160;    {</div>
<div class="line"><a name="l06526"></a><span class="lineno"> 6526</span>&#160;        spellInfo-&gt;AttributesEx2 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668a39664dba0d11d177e801877b9068bd8f">SPELL_ATTR2_CANT_CRIT</a>;</div>
<div class="line"><a name="l06527"></a><span class="lineno"> 6527</span>&#160;        spellInfo-&gt;AttributesEx4 &amp;= ~<a class="code" href="../../df/d0b/_shared_defines_8h.html#aec1a0b3970de527f109db7fb8b7df5b6ab1a8611660de2bc3a6ff4523b2d76376">SPELL_ATTR4_NO_CAST_LOG</a>;</div>
<div class="line"><a name="l06528"></a><span class="lineno"> 6528</span>&#160;    });</div>
<div class="line"><a name="l06529"></a><span class="lineno"> 6529</span>&#160; </div>
<div class="line"><a name="l06530"></a><span class="lineno"> 6530</span>&#160;    <span class="comment">// Fury of Frostmourne</span></div>
<div class="line"><a name="l06531"></a><span class="lineno"> 6531</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 72350 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06532"></a><span class="lineno"> 6532</span>&#160;    {</div>
<div class="line"><a name="l06533"></a><span class="lineno"> 6533</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6aa2446e6dca7800ee4e10ccb0b2cacce5">EFFECT_RADIUS_50000_YARDS</a>;   <span class="comment">// 50000yd</span></div>
<div class="line"><a name="l06534"></a><span class="lineno"> 6534</span>&#160;        spellInfo-&gt;EffectRadiusIndex[1] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6aa2446e6dca7800ee4e10ccb0b2cacce5">EFFECT_RADIUS_50000_YARDS</a>;   <span class="comment">// 50000yd</span></div>
<div class="line"><a name="l06535"></a><span class="lineno"> 6535</span>&#160;    });</div>
<div class="line"><a name="l06536"></a><span class="lineno"> 6536</span>&#160; </div>
<div class="line"><a name="l06537"></a><span class="lineno"> 6537</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l06538"></a><span class="lineno"> 6538</span>&#160;        72351,  <span class="comment">// Fury of Frostmourne</span></div>
<div class="line"><a name="l06539"></a><span class="lineno"> 6539</span>&#160;        72431,  <span class="comment">// Jump (removes Fury of Frostmourne debuff)</span></div>
<div class="line"><a name="l06540"></a><span class="lineno"> 6540</span>&#160;        72429,  <span class="comment">// Mass Resurrection</span></div>
<div class="line"><a name="l06541"></a><span class="lineno"> 6541</span>&#160;        73159   <span class="comment">// Play Movie</span></div>
<div class="line"><a name="l06542"></a><span class="lineno"> 6542</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06543"></a><span class="lineno"> 6543</span>&#160;    {</div>
<div class="line"><a name="l06544"></a><span class="lineno"> 6544</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6aa2446e6dca7800ee4e10ccb0b2cacce5">EFFECT_RADIUS_50000_YARDS</a>;   <span class="comment">// 50000yd</span></div>
<div class="line"><a name="l06545"></a><span class="lineno"> 6545</span>&#160;    });</div>
<div class="line"><a name="l06546"></a><span class="lineno"> 6546</span>&#160; </div>
<div class="line"><a name="l06547"></a><span class="lineno"> 6547</span>&#160;    <span class="comment">// Raise Dead</span></div>
<div class="line"><a name="l06548"></a><span class="lineno"> 6548</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 72376 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06549"></a><span class="lineno"> 6549</span>&#160;    {</div>
<div class="line"><a name="l06550"></a><span class="lineno"> 6550</span>&#160;        spellInfo-&gt;MaxAffectedTargets = 4;</div>
<div class="line"><a name="l06551"></a><span class="lineno"> 6551</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6aa2446e6dca7800ee4e10ccb0b2cacce5">EFFECT_RADIUS_50000_YARDS</a>;   <span class="comment">// 50000yd</span></div>
<div class="line"><a name="l06552"></a><span class="lineno"> 6552</span>&#160;    });</div>
<div class="line"><a name="l06553"></a><span class="lineno"> 6553</span>&#160; </div>
<div class="line"><a name="l06554"></a><span class="lineno"> 6554</span>&#160;    <span class="comment">// Jump</span></div>
<div class="line"><a name="l06555"></a><span class="lineno"> 6555</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 71809 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06556"></a><span class="lineno"> 6556</span>&#160;    {</div>
<div class="line"><a name="l06557"></a><span class="lineno"> 6557</span>&#160;        spellInfo-&gt;RangeIndex = 5; <span class="comment">// 40yd</span></div>
<div class="line"><a name="l06558"></a><span class="lineno"> 6558</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6ac408444e6d66c0845a141ca461eb705b">EFFECT_RADIUS_10_YARDS</a>; <span class="comment">// 10yd</span></div>
<div class="line"><a name="l06559"></a><span class="lineno"> 6559</span>&#160;        spellInfo-&gt;EffectMiscValue[0] = 190;</div>
<div class="line"><a name="l06560"></a><span class="lineno"> 6560</span>&#160;    });</div>
<div class="line"><a name="l06561"></a><span class="lineno"> 6561</span>&#160; </div>
<div class="line"><a name="l06562"></a><span class="lineno"> 6562</span>&#160;    <span class="comment">// Broken Frostmourne</span></div>
<div class="line"><a name="l06563"></a><span class="lineno"> 6563</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 72405 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06564"></a><span class="lineno"> 6564</span>&#160;    {</div>
<div class="line"><a name="l06565"></a><span class="lineno"> 6565</span>&#160;        spellInfo-&gt;EffectRadiusIndex[1] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b">EFFECT_RADIUS_200_YARDS</a>;   <span class="comment">// 200yd</span></div>
<div class="line"><a name="l06566"></a><span class="lineno"> 6566</span>&#160;    });</div>
<div class="line"><a name="l06567"></a><span class="lineno"> 6567</span>&#160; </div>
<div class="line"><a name="l06568"></a><span class="lineno"> 6568</span>&#160;    <span class="comment">// Summon Shadow Trap</span></div>
<div class="line"><a name="l06569"></a><span class="lineno"> 6569</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 73540 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06570"></a><span class="lineno"> 6570</span>&#160;    {</div>
<div class="line"><a name="l06571"></a><span class="lineno"> 6571</span>&#160;        spellInfo-&gt;DurationIndex = 3;   <span class="comment">// 60 seconds</span></div>
<div class="line"><a name="l06572"></a><span class="lineno"> 6572</span>&#160;    });</div>
<div class="line"><a name="l06573"></a><span class="lineno"> 6573</span>&#160; </div>
<div class="line"><a name="l06574"></a><span class="lineno"> 6574</span>&#160;    <span class="comment">// Shadow Trap (visual)</span></div>
<div class="line"><a name="l06575"></a><span class="lineno"> 6575</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 73530 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06576"></a><span class="lineno"> 6576</span>&#160;    {</div>
<div class="line"><a name="l06577"></a><span class="lineno"> 6577</span>&#160;        spellInfo-&gt;DurationIndex = 28;          <span class="comment">// 5 seconds</span></div>
<div class="line"><a name="l06578"></a><span class="lineno"> 6578</span>&#160;    });</div>
<div class="line"><a name="l06579"></a><span class="lineno"> 6579</span>&#160; </div>
<div class="line"><a name="l06580"></a><span class="lineno"> 6580</span>&#160;    <span class="comment">// Shadow Trap</span></div>
<div class="line"><a name="l06581"></a><span class="lineno"> 6581</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 73529 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06582"></a><span class="lineno"> 6582</span>&#160;    {</div>
<div class="line"><a name="l06583"></a><span class="lineno"> 6583</span>&#160;        spellInfo-&gt;EffectRadiusIndex[1] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6ac408444e6d66c0845a141ca461eb705b">EFFECT_RADIUS_10_YARDS</a>;   <span class="comment">// 10yd</span></div>
<div class="line"><a name="l06584"></a><span class="lineno"> 6584</span>&#160;    });</div>
<div class="line"><a name="l06585"></a><span class="lineno"> 6585</span>&#160; </div>
<div class="line"><a name="l06586"></a><span class="lineno"> 6586</span>&#160;    <span class="comment">// Shadow Trap (searcher)</span></div>
<div class="line"><a name="l06587"></a><span class="lineno"> 6587</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 74282 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06588"></a><span class="lineno"> 6588</span>&#160;    {</div>
<div class="line"><a name="l06589"></a><span class="lineno"> 6589</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6a84f16c69f55cca8b4fdde0c6778d9912">EFFECT_RADIUS_3_YARDS</a>;   <span class="comment">// 3yd</span></div>
<div class="line"><a name="l06590"></a><span class="lineno"> 6590</span>&#160;    });</div>
<div class="line"><a name="l06591"></a><span class="lineno"> 6591</span>&#160; </div>
<div class="line"><a name="l06592"></a><span class="lineno"> 6592</span>&#160;    <span class="comment">// Raging Spirit Visual</span></div>
<div class="line"><a name="l06593"></a><span class="lineno"> 6593</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 69198 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06594"></a><span class="lineno"> 6594</span>&#160;    {</div>
<div class="line"><a name="l06595"></a><span class="lineno"> 6595</span>&#160;        spellInfo-&gt;RangeIndex = 13; <span class="comment">// 50000yd</span></div>
<div class="line"><a name="l06596"></a><span class="lineno"> 6596</span>&#160;        spellInfo-&gt;AttributesEx2 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><a name="l06597"></a><span class="lineno"> 6597</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a>;</div>
<div class="line"><a name="l06598"></a><span class="lineno"> 6598</span>&#160;    });</div>
<div class="line"><a name="l06599"></a><span class="lineno"> 6599</span>&#160; </div>
<div class="line"><a name="l06600"></a><span class="lineno"> 6600</span>&#160;    <span class="comment">// Defile</span></div>
<div class="line"><a name="l06601"></a><span class="lineno"> 6601</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 72762 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06602"></a><span class="lineno"> 6602</span>&#160;    {</div>
<div class="line"><a name="l06603"></a><span class="lineno"> 6603</span>&#160;        spellInfo-&gt;DurationIndex = 559; <span class="comment">// 53 seconds</span></div>
<div class="line"><a name="l06604"></a><span class="lineno"> 6604</span>&#160;        spellInfo-&gt;ExcludeCasterAuraSpell = 0;</div>
<div class="line"><a name="l06605"></a><span class="lineno"> 6605</span>&#160;        spellInfo-&gt;Attributes |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada6a12b14654225a9ccea65799ce6fc780">SPELL_ATTR0_NO_IMMUNITIES</a>;</div>
<div class="line"><a name="l06606"></a><span class="lineno"> 6606</span>&#160;        spellInfo-&gt;AttributesEx6 |= (<a class="code" href="../../df/d0b/_shared_defines_8h.html#afc0226d0611e178e6edb4d2776e03094a78992c0cb395380959dea6189150d8bb">SPELL_ATTR6_IGNORE_PHASE_SHIFT</a> | <a class="code" href="../../df/d0b/_shared_defines_8h.html#afc0226d0611e178e6edb4d2776e03094a40a19713dcda0fee7572f01939a9a61d">SPELL_ATTR6_CAN_TARGET_UNTARGETABLE</a>);</div>
<div class="line"><a name="l06607"></a><span class="lineno"> 6607</span>&#160;    });</div>
<div class="line"><a name="l06608"></a><span class="lineno"> 6608</span>&#160; </div>
<div class="line"><a name="l06609"></a><span class="lineno"> 6609</span>&#160;    <span class="comment">// Defile</span></div>
<div class="line"><a name="l06610"></a><span class="lineno"> 6610</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 72743 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06611"></a><span class="lineno"> 6611</span>&#160;    {</div>
<div class="line"><a name="l06612"></a><span class="lineno"> 6612</span>&#160;        spellInfo-&gt;DurationIndex = 22; <span class="comment">// 45 seconds</span></div>
<div class="line"><a name="l06613"></a><span class="lineno"> 6613</span>&#160;    });</div>
<div class="line"><a name="l06614"></a><span class="lineno"> 6614</span>&#160; </div>
<div class="line"><a name="l06615"></a><span class="lineno"> 6615</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 72754, 73708, 73709, 73710 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06616"></a><span class="lineno"> 6616</span>&#160;    {</div>
<div class="line"><a name="l06617"></a><span class="lineno"> 6617</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b">EFFECT_RADIUS_200_YARDS</a>;   <span class="comment">// 200yd</span></div>
<div class="line"><a name="l06618"></a><span class="lineno"> 6618</span>&#160;        spellInfo-&gt;EffectRadiusIndex[1] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b">EFFECT_RADIUS_200_YARDS</a>;   <span class="comment">// 200yd</span></div>
<div class="line"><a name="l06619"></a><span class="lineno"> 6619</span>&#160;    });</div>
<div class="line"><a name="l06620"></a><span class="lineno"> 6620</span>&#160; </div>
<div class="line"><a name="l06621"></a><span class="lineno"> 6621</span>&#160;    <span class="comment">// Val&#39;kyr Target Search</span></div>
<div class="line"><a name="l06622"></a><span class="lineno"> 6622</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 69030 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06623"></a><span class="lineno"> 6623</span>&#160;    {</div>
<div class="line"><a name="l06624"></a><span class="lineno"> 6624</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b">EFFECT_RADIUS_200_YARDS</a>;   <span class="comment">// 200yd</span></div>
<div class="line"><a name="l06625"></a><span class="lineno"> 6625</span>&#160;        spellInfo-&gt;EffectRadiusIndex[1] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b">EFFECT_RADIUS_200_YARDS</a>;   <span class="comment">// 200yd</span></div>
<div class="line"><a name="l06626"></a><span class="lineno"> 6626</span>&#160;        spellInfo-&gt;Attributes |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada6a12b14654225a9ccea65799ce6fc780">SPELL_ATTR0_NO_IMMUNITIES</a>;</div>
<div class="line"><a name="l06627"></a><span class="lineno"> 6627</span>&#160;    });</div>
<div class="line"><a name="l06628"></a><span class="lineno"> 6628</span>&#160; </div>
<div class="line"><a name="l06629"></a><span class="lineno"> 6629</span>&#160;    <span class="comment">// Harvest Souls</span></div>
<div class="line"><a name="l06630"></a><span class="lineno"> 6630</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 73654, 74295, 74296, 74297 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06631"></a><span class="lineno"> 6631</span>&#160;    {</div>
<div class="line"><a name="l06632"></a><span class="lineno"> 6632</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6aa2446e6dca7800ee4e10ccb0b2cacce5">EFFECT_RADIUS_50000_YARDS</a>;   <span class="comment">// 50000yd</span></div>
<div class="line"><a name="l06633"></a><span class="lineno"> 6633</span>&#160;        spellInfo-&gt;EffectRadiusIndex[1] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6aa2446e6dca7800ee4e10ccb0b2cacce5">EFFECT_RADIUS_50000_YARDS</a>;   <span class="comment">// 50000yd</span></div>
<div class="line"><a name="l06634"></a><span class="lineno"> 6634</span>&#160;        spellInfo-&gt;EffectRadiusIndex[2] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6aa2446e6dca7800ee4e10ccb0b2cacce5">EFFECT_RADIUS_50000_YARDS</a>;   <span class="comment">// 50000yd</span></div>
<div class="line"><a name="l06635"></a><span class="lineno"> 6635</span>&#160;    });</div>
<div class="line"><a name="l06636"></a><span class="lineno"> 6636</span>&#160; </div>
<div class="line"><a name="l06637"></a><span class="lineno"> 6637</span>&#160;    <span class="comment">// Restore Soul</span></div>
<div class="line"><a name="l06638"></a><span class="lineno"> 6638</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 72595, 73650 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06639"></a><span class="lineno"> 6639</span>&#160;    {</div>
<div class="line"><a name="l06640"></a><span class="lineno"> 6640</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b">EFFECT_RADIUS_200_YARDS</a>;   <span class="comment">// 200yd</span></div>
<div class="line"><a name="l06641"></a><span class="lineno"> 6641</span>&#160;    });</div>
<div class="line"><a name="l06642"></a><span class="lineno"> 6642</span>&#160; </div>
<div class="line"><a name="l06643"></a><span class="lineno"> 6643</span>&#160;    <span class="comment">// Kill Frostmourne Players</span></div>
<div class="line"><a name="l06644"></a><span class="lineno"> 6644</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 75127 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06645"></a><span class="lineno"> 6645</span>&#160;    {</div>
<div class="line"><a name="l06646"></a><span class="lineno"> 6646</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6aa2446e6dca7800ee4e10ccb0b2cacce5">EFFECT_RADIUS_50000_YARDS</a>;    <span class="comment">// 50000yd</span></div>
<div class="line"><a name="l06647"></a><span class="lineno"> 6647</span>&#160;    });</div>
<div class="line"><a name="l06648"></a><span class="lineno"> 6648</span>&#160; </div>
<div class="line"><a name="l06649"></a><span class="lineno"> 6649</span>&#160;    <span class="comment">// Harvest Soul</span></div>
<div class="line"><a name="l06650"></a><span class="lineno"> 6650</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 73655 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06651"></a><span class="lineno"> 6651</span>&#160;    {</div>
<div class="line"><a name="l06652"></a><span class="lineno"> 6652</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81af803e1e3c27f800be5855d258135fbff">SPELL_ATTR3_IGNORE_CASTER_MODIFIERS</a>;</div>
<div class="line"><a name="l06653"></a><span class="lineno"> 6653</span>&#160;    });</div>
<div class="line"><a name="l06654"></a><span class="lineno"> 6654</span>&#160; </div>
<div class="line"><a name="l06655"></a><span class="lineno"> 6655</span>&#160;    <span class="comment">// Destroy Soul</span></div>
<div class="line"><a name="l06656"></a><span class="lineno"> 6656</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 74086 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06657"></a><span class="lineno"> 6657</span>&#160;    {</div>
<div class="line"><a name="l06658"></a><span class="lineno"> 6658</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b">EFFECT_RADIUS_200_YARDS</a>;   <span class="comment">// 200yd</span></div>
<div class="line"><a name="l06659"></a><span class="lineno"> 6659</span>&#160;    });</div>
<div class="line"><a name="l06660"></a><span class="lineno"> 6660</span>&#160; </div>
<div class="line"><a name="l06661"></a><span class="lineno"> 6661</span>&#160;    <span class="comment">// Summon Spirit Bomb</span></div>
<div class="line"><a name="l06662"></a><span class="lineno"> 6662</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 74302, 74342 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06663"></a><span class="lineno"> 6663</span>&#160;    {</div>
<div class="line"><a name="l06664"></a><span class="lineno"> 6664</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b">EFFECT_RADIUS_200_YARDS</a>;   <span class="comment">// 200yd</span></div>
<div class="line"><a name="l06665"></a><span class="lineno"> 6665</span>&#160;        spellInfo-&gt;MaxAffectedTargets = 1;</div>
<div class="line"><a name="l06666"></a><span class="lineno"> 6666</span>&#160;    });</div>
<div class="line"><a name="l06667"></a><span class="lineno"> 6667</span>&#160; </div>
<div class="line"><a name="l06668"></a><span class="lineno"> 6668</span>&#160;    <span class="comment">// Summon Spirit Bomb</span></div>
<div class="line"><a name="l06669"></a><span class="lineno"> 6669</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 74341, 74343 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06670"></a><span class="lineno"> 6670</span>&#160;    {</div>
<div class="line"><a name="l06671"></a><span class="lineno"> 6671</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b">EFFECT_RADIUS_200_YARDS</a>;   <span class="comment">// 200yd</span></div>
<div class="line"><a name="l06672"></a><span class="lineno"> 6672</span>&#160;        spellInfo-&gt;MaxAffectedTargets = 3;</div>
<div class="line"><a name="l06673"></a><span class="lineno"> 6673</span>&#160;    });</div>
<div class="line"><a name="l06674"></a><span class="lineno"> 6674</span>&#160; </div>
<div class="line"><a name="l06675"></a><span class="lineno"> 6675</span>&#160;    <span class="comment">// Summon Spirit Bomb</span></div>
<div class="line"><a name="l06676"></a><span class="lineno"> 6676</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 73579 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06677"></a><span class="lineno"> 6677</span>&#160;    {</div>
<div class="line"><a name="l06678"></a><span class="lineno"> 6678</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6a7127bc77ddfb8193b045d89e73b367ec">EFFECT_RADIUS_25_YARDS</a>;   <span class="comment">// 25yd</span></div>
<div class="line"><a name="l06679"></a><span class="lineno"> 6679</span>&#160;    });</div>
<div class="line"><a name="l06680"></a><span class="lineno"> 6680</span>&#160; </div>
<div class="line"><a name="l06681"></a><span class="lineno"> 6681</span>&#160;    <span class="comment">// Trigger Vile Spirit (Inside, Heroic)</span></div>
<div class="line"><a name="l06682"></a><span class="lineno"> 6682</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 73582 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06683"></a><span class="lineno"> 6683</span>&#160;    {</div>
<div class="line"><a name="l06684"></a><span class="lineno"> 6684</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6aa2446e6dca7800ee4e10ccb0b2cacce5">EFFECT_RADIUS_50000_YARDS</a>;   <span class="comment">// 50000yd</span></div>
<div class="line"><a name="l06685"></a><span class="lineno"> 6685</span>&#160;    });</div>
<div class="line"><a name="l06686"></a><span class="lineno"> 6686</span>&#160; </div>
<div class="line"><a name="l06687"></a><span class="lineno"> 6687</span>&#160;    <span class="comment">// Scale Aura (used during Dominate Mind from Lady Deathwhisper)</span></div>
<div class="line"><a name="l06688"></a><span class="lineno"> 6688</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 73261 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06689"></a><span class="lineno"> 6689</span>&#160;    {</div>
<div class="line"><a name="l06690"></a><span class="lineno"> 6690</span>&#160;        spellInfo-&gt;AuraInterruptFlags |= <a class="code" href="../../d5/d32/_unit_8h.html#a0709fc3ab848cf1b8b4853813b8fe011addd23de47de1322a4cc921e361bc6dd8">AURA_INTERRUPT_FLAG_CHANGE_MAP</a>;</div>
<div class="line"><a name="l06691"></a><span class="lineno"> 6691</span>&#160;    });</div>
<div class="line"><a name="l06692"></a><span class="lineno"> 6692</span>&#160; </div>
<div class="line"><a name="l06693"></a><span class="lineno"> 6693</span>&#160;    <span class="comment">// Leap to a Random Location</span></div>
<div class="line"><a name="l06694"></a><span class="lineno"> 6694</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 70485 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06695"></a><span class="lineno"> 6695</span>&#160;    {</div>
<div class="line"><a name="l06696"></a><span class="lineno"> 6696</span>&#160;        spellInfo-&gt;RangeIndex = 6; <span class="comment">// 100yd</span></div>
<div class="line"><a name="l06697"></a><span class="lineno"> 6697</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6ac408444e6d66c0845a141ca461eb705b">EFFECT_RADIUS_10_YARDS</a>;</div>
<div class="line"><a name="l06698"></a><span class="lineno"> 6698</span>&#160;        spellInfo-&gt;EffectMiscValue[0] = 100;</div>
<div class="line"><a name="l06699"></a><span class="lineno"> 6699</span>&#160;    });</div>
<div class="line"><a name="l06700"></a><span class="lineno"> 6700</span>&#160; </div>
<div class="line"><a name="l06701"></a><span class="lineno"> 6701</span>&#160;    <span class="comment">// Empowered Blood</span></div>
<div class="line"><a name="l06702"></a><span class="lineno"> 6702</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 70227, 70232 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06703"></a><span class="lineno"> 6703</span>&#160;    {</div>
<div class="line"><a name="l06704"></a><span class="lineno"> 6704</span>&#160;        spellInfo-&gt;AreaGroupId = 2452; <span class="comment">// Whole icc instead of Crimson Halls only, remove when area calculation is fixed</span></div>
<div class="line"><a name="l06705"></a><span class="lineno"> 6705</span>&#160;    });</div>
<div class="line"><a name="l06706"></a><span class="lineno"> 6706</span>&#160; </div>
<div class="line"><a name="l06707"></a><span class="lineno"> 6707</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 74509 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06708"></a><span class="lineno"> 6708</span>&#160;    {</div>
<div class="line"><a name="l06709"></a><span class="lineno"> 6709</span>&#160;        spellInfo-&gt;EffectRadiusIndex[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6a17e659065202f50148fd26019a3ed3a3">EFFECT_RADIUS_20_YARDS</a>;</div>
<div class="line"><a name="l06710"></a><span class="lineno"> 6710</span>&#160;        spellInfo-&gt;EffectRadiusIndex[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77a8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6a17e659065202f50148fd26019a3ed3a3">EFFECT_RADIUS_20_YARDS</a>;</div>
<div class="line"><a name="l06711"></a><span class="lineno"> 6711</span>&#160;    });</div>
<div class="line"><a name="l06712"></a><span class="lineno"> 6712</span>&#160; </div>
<div class="line"><a name="l06713"></a><span class="lineno"> 6713</span>&#160;    <span class="comment">// Rallying Shout</span></div>
<div class="line"><a name="l06714"></a><span class="lineno"> 6714</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 75414 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06715"></a><span class="lineno"> 6715</span>&#160;    {</div>
<div class="line"><a name="l06716"></a><span class="lineno"> 6716</span>&#160;        spellInfo-&gt;EffectRadiusIndex[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6a17e659065202f50148fd26019a3ed3a3">EFFECT_RADIUS_20_YARDS</a>;</div>
<div class="line"><a name="l06717"></a><span class="lineno"> 6717</span>&#160;    });</div>
<div class="line"><a name="l06718"></a><span class="lineno"> 6718</span>&#160; </div>
<div class="line"><a name="l06719"></a><span class="lineno"> 6719</span>&#160;    <span class="comment">// Barrier Channel</span></div>
<div class="line"><a name="l06720"></a><span class="lineno"> 6720</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 76221 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06721"></a><span class="lineno"> 6721</span>&#160;    {</div>
<div class="line"><a name="l06722"></a><span class="lineno"> 6722</span>&#160;        spellInfo-&gt;ChannelInterruptFlags &amp;= ~(<a class="code" href="../../d5/d32/_unit_8h.html#a0709fc3ab848cf1b8b4853813b8fe011a7ff7b6e5eb8b89e335cbed2efcc61ec3">AURA_INTERRUPT_FLAG_TURNING</a> | <a class="code" href="../../d5/d32/_unit_8h.html#a0709fc3ab848cf1b8b4853813b8fe011a79d9517e2981beafd03e4ee2ccbb1c35">AURA_INTERRUPT_FLAG_MOVE</a>);</div>
<div class="line"><a name="l06723"></a><span class="lineno"> 6723</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152aab0751c8895d224e37904a23bc625efa">TARGET_UNIT_NEARBY_ENTRY</a>;</div>
<div class="line"><a name="l06724"></a><span class="lineno"> 6724</span>&#160;    });</div>
<div class="line"><a name="l06725"></a><span class="lineno"> 6725</span>&#160; </div>
<div class="line"><a name="l06726"></a><span class="lineno"> 6726</span>&#160;    <span class="comment">// Intimidating Roar</span></div>
<div class="line"><a name="l06727"></a><span class="lineno"> 6727</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 74384 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06728"></a><span class="lineno"> 6728</span>&#160;    {</div>
<div class="line"><a name="l06729"></a><span class="lineno"> 6729</span>&#160;        spellInfo-&gt;EffectRadiusIndex[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6a14ee51627f5c63cbd8d13141aae1c942">EFFECT_RADIUS_100_YARDS</a>;</div>
<div class="line"><a name="l06730"></a><span class="lineno"> 6730</span>&#160;        spellInfo-&gt;EffectRadiusIndex[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77a8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6a14ee51627f5c63cbd8d13141aae1c942">EFFECT_RADIUS_100_YARDS</a>;</div>
<div class="line"><a name="l06731"></a><span class="lineno"> 6731</span>&#160;    });</div>
<div class="line"><a name="l06732"></a><span class="lineno"> 6732</span>&#160; </div>
<div class="line"><a name="l06733"></a><span class="lineno"> 6733</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l06734"></a><span class="lineno"> 6734</span>&#160;        74562,  <span class="comment">// Fiery Combustion</span></div>
<div class="line"><a name="l06735"></a><span class="lineno"> 6735</span>&#160;        74792   <span class="comment">// Soul Consumption</span></div>
<div class="line"><a name="l06736"></a><span class="lineno"> 6736</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06737"></a><span class="lineno"> 6737</span>&#160;    {</div>
<div class="line"><a name="l06738"></a><span class="lineno"> 6738</span>&#160;        spellInfo-&gt;AttributesEx |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a638f8f550e23b2e3180b481bb3f38076aff8f5208b6bab753ec0cb8d8ccff67eb">SPELL_ATTR1_NO_REDIRECTION</a>;</div>
<div class="line"><a name="l06739"></a><span class="lineno"> 6739</span>&#160;    });</div>
<div class="line"><a name="l06740"></a><span class="lineno"> 6740</span>&#160; </div>
<div class="line"><a name="l06741"></a><span class="lineno"> 6741</span>&#160;    <span class="comment">// Combustion</span></div>
<div class="line"><a name="l06742"></a><span class="lineno"> 6742</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 75883, 75884 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06743"></a><span class="lineno"> 6743</span>&#160;    {</div>
<div class="line"><a name="l06744"></a><span class="lineno"> 6744</span>&#160;        spellInfo-&gt;EffectRadiusIndex[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6aea8bace1873cfb2ca3347ffb4b2b2cfd">EFFECT_RADIUS_6_YARDS</a>;</div>
<div class="line"><a name="l06745"></a><span class="lineno"> 6745</span>&#160;        spellInfo-&gt;EffectRadiusIndex[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77a8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6aea8bace1873cfb2ca3347ffb4b2b2cfd">EFFECT_RADIUS_6_YARDS</a>;</div>
<div class="line"><a name="l06746"></a><span class="lineno"> 6746</span>&#160;    });</div>
<div class="line"><a name="l06747"></a><span class="lineno"> 6747</span>&#160; </div>
<div class="line"><a name="l06748"></a><span class="lineno"> 6748</span>&#160;    <span class="comment">// Consumption</span></div>
<div class="line"><a name="l06749"></a><span class="lineno"> 6749</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 75875, 75876 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06750"></a><span class="lineno"> 6750</span>&#160;    {</div>
<div class="line"><a name="l06751"></a><span class="lineno"> 6751</span>&#160;        spellInfo-&gt;EffectRadiusIndex[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6aea8bace1873cfb2ca3347ffb4b2b2cfd">EFFECT_RADIUS_6_YARDS</a>;</div>
<div class="line"><a name="l06752"></a><span class="lineno"> 6752</span>&#160;        spellInfo-&gt;EffectRadiusIndex[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77a8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6aea8bace1873cfb2ca3347ffb4b2b2cfd">EFFECT_RADIUS_6_YARDS</a>;</div>
<div class="line"><a name="l06753"></a><span class="lineno"> 6753</span>&#160;        spellInfo-&gt;EffectMechanic[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = 0;</div>
<div class="line"><a name="l06754"></a><span class="lineno"> 6754</span>&#160;        spellInfo-&gt;EffectMechanic[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77a8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a8fe6a763d72d84ded23cec01c772f7adac33e72cd9c395583cd6db721014056b5">MECHANIC_SNARE</a>;</div>
<div class="line"><a name="l06755"></a><span class="lineno"> 6755</span>&#160;    });</div>
<div class="line"><a name="l06756"></a><span class="lineno"> 6756</span>&#160; </div>
<div class="line"><a name="l06757"></a><span class="lineno"> 6757</span>&#160;    <span class="comment">// Soul Consumption</span></div>
<div class="line"><a name="l06758"></a><span class="lineno"> 6758</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 74799 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06759"></a><span class="lineno"> 6759</span>&#160;    {</div>
<div class="line"><a name="l06760"></a><span class="lineno"> 6760</span>&#160;        spellInfo-&gt;EffectRadiusIndex[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77a8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6abd0f41dc6ba7c2ee3eb838d726f8136d">EFFECT_RADIUS_12_YARDS</a>;</div>
<div class="line"><a name="l06761"></a><span class="lineno"> 6761</span>&#160;    });</div>
<div class="line"><a name="l06762"></a><span class="lineno"> 6762</span>&#160; </div>
<div class="line"><a name="l06763"></a><span class="lineno"> 6763</span>&#160;    <span class="comment">// Twilight Cutter</span></div>
<div class="line"><a name="l06764"></a><span class="lineno"> 6764</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 74769, 77844, 77845, 77846 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06765"></a><span class="lineno"> 6765</span>&#160;    {</div>
<div class="line"><a name="l06766"></a><span class="lineno"> 6766</span>&#160;        spellInfo-&gt;EffectRadiusIndex[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6a14ee51627f5c63cbd8d13141aae1c942">EFFECT_RADIUS_100_YARDS</a>;</div>
<div class="line"><a name="l06767"></a><span class="lineno"> 6767</span>&#160;    });</div>
<div class="line"><a name="l06768"></a><span class="lineno"> 6768</span>&#160; </div>
<div class="line"><a name="l06769"></a><span class="lineno"> 6769</span>&#160;    <span class="comment">// Twilight Mending</span></div>
<div class="line"><a name="l06770"></a><span class="lineno"> 6770</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 75509 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06771"></a><span class="lineno"> 6771</span>&#160;    {</div>
<div class="line"><a name="l06772"></a><span class="lineno"> 6772</span>&#160;        spellInfo-&gt;AttributesEx6 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#afc0226d0611e178e6edb4d2776e03094a78992c0cb395380959dea6189150d8bb">SPELL_ATTR6_IGNORE_PHASE_SHIFT</a>;</div>
<div class="line"><a name="l06773"></a><span class="lineno"> 6773</span>&#160;        spellInfo-&gt;AttributesEx2 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><a name="l06774"></a><span class="lineno"> 6774</span>&#160;        spellInfo-&gt;EffectRadiusIndex[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6a14ee51627f5c63cbd8d13141aae1c942">EFFECT_RADIUS_100_YARDS</a>;</div>
<div class="line"><a name="l06775"></a><span class="lineno"> 6775</span>&#160;        spellInfo-&gt;EffectRadiusIndex[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77a8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6a14ee51627f5c63cbd8d13141aae1c942">EFFECT_RADIUS_100_YARDS</a>;</div>
<div class="line"><a name="l06776"></a><span class="lineno"> 6776</span>&#160;    });</div>
<div class="line"><a name="l06777"></a><span class="lineno"> 6777</span>&#160; </div>
<div class="line"><a name="l06778"></a><span class="lineno"> 6778</span>&#160;    <span class="comment">// Meteor Strike</span></div>
<div class="line"><a name="l06779"></a><span class="lineno"> 6779</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 74637 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06780"></a><span class="lineno"> 6780</span>&#160;    {</div>
<div class="line"><a name="l06781"></a><span class="lineno"> 6781</span>&#160;        spellInfo-&gt;Speed = 0;</div>
<div class="line"><a name="l06782"></a><span class="lineno"> 6782</span>&#160;    });</div>
<div class="line"><a name="l06783"></a><span class="lineno"> 6783</span>&#160; </div>
<div class="line"><a name="l06784"></a><span class="lineno"> 6784</span>&#160;    <span class="comment">//Blazing Aura</span></div>
<div class="line"><a name="l06785"></a><span class="lineno"> 6785</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 75885, 75886 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06786"></a><span class="lineno"> 6786</span>&#160;    {</div>
<div class="line"><a name="l06787"></a><span class="lineno"> 6787</span>&#160;        spellInfo-&gt;AttributesEx4 &amp;= ~<a class="code" href="../../df/d0b/_shared_defines_8h.html#aec1a0b3970de527f109db7fb8b7df5b6ab1a8611660de2bc3a6ff4523b2d76376">SPELL_ATTR4_NO_CAST_LOG</a>;</div>
<div class="line"><a name="l06788"></a><span class="lineno"> 6788</span>&#160;    });</div>
<div class="line"><a name="l06789"></a><span class="lineno"> 6789</span>&#160; </div>
<div class="line"><a name="l06790"></a><span class="lineno"> 6790</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l06791"></a><span class="lineno"> 6791</span>&#160;        75952,  <span class="comment">//Meteor Strike</span></div>
<div class="line"><a name="l06792"></a><span class="lineno"> 6792</span>&#160;        74629   <span class="comment">//Combustion Periodic</span></div>
<div class="line"><a name="l06793"></a><span class="lineno"> 6793</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06794"></a><span class="lineno"> 6794</span>&#160;    {</div>
<div class="line"><a name="l06795"></a><span class="lineno"> 6795</span>&#160;        spellInfo-&gt;AttributesEx4 &amp;= ~<a class="code" href="../../df/d0b/_shared_defines_8h.html#aec1a0b3970de527f109db7fb8b7df5b6ab1a8611660de2bc3a6ff4523b2d76376">SPELL_ATTR4_NO_CAST_LOG</a>;</div>
<div class="line"><a name="l06796"></a><span class="lineno"> 6796</span>&#160;    });</div>
<div class="line"><a name="l06797"></a><span class="lineno"> 6797</span>&#160; </div>
<div class="line"><a name="l06798"></a><span class="lineno"> 6798</span>&#160;    <span class="comment">// Going Bearback</span></div>
<div class="line"><a name="l06799"></a><span class="lineno"> 6799</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 54897 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06800"></a><span class="lineno"> 6800</span>&#160;    {</div>
<div class="line"><a name="l06801"></a><span class="lineno"> 6801</span>&#160;        spellInfo-&gt;Effect[1] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a027bcdf3b42e90e7374802fe61fd776d">SPELL_EFFECT_DUMMY</a>;</div>
<div class="line"><a name="l06802"></a><span class="lineno"> 6802</span>&#160;        spellInfo-&gt;EffectRadiusIndex[1] = spellInfo-&gt;EffectRadiusIndex[0];</div>
<div class="line"><a name="l06803"></a><span class="lineno"> 6803</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[1] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a934668876768a96fe7ef286b00c4ed4d">TARGET_UNIT_DEST_AREA_ENTRY</a>;</div>
<div class="line"><a name="l06804"></a><span class="lineno"> 6804</span>&#160;    });</div>
<div class="line"><a name="l06805"></a><span class="lineno"> 6805</span>&#160; </div>
<div class="line"><a name="l06806"></a><span class="lineno"> 6806</span>&#160;    <span class="comment">// Still At It</span></div>
<div class="line"><a name="l06807"></a><span class="lineno"> 6807</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 51931, 51932, 51933 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06808"></a><span class="lineno"> 6808</span>&#160;    {</div>
<div class="line"><a name="l06809"></a><span class="lineno"> 6809</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = 38;</div>
<div class="line"><a name="l06810"></a><span class="lineno"> 6810</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = 0;</div>
<div class="line"><a name="l06811"></a><span class="lineno"> 6811</span>&#160;    });</div>
<div class="line"><a name="l06812"></a><span class="lineno"> 6812</span>&#160; </div>
<div class="line"><a name="l06813"></a><span class="lineno"> 6813</span>&#160;    <span class="comment">// Rallying the Troops</span></div>
<div class="line"><a name="l06814"></a><span class="lineno"> 6814</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 47394 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06815"></a><span class="lineno"> 6815</span>&#160;    {</div>
<div class="line"><a name="l06816"></a><span class="lineno"> 6816</span>&#160;        spellInfo-&gt;ExcludeTargetAuraSpell = 47394;</div>
<div class="line"><a name="l06817"></a><span class="lineno"> 6817</span>&#160;    });</div>
<div class="line"><a name="l06818"></a><span class="lineno"> 6818</span>&#160; </div>
<div class="line"><a name="l06819"></a><span class="lineno"> 6819</span>&#160;    <span class="comment">// A Tangled Skein</span></div>
<div class="line"><a name="l06820"></a><span class="lineno"> 6820</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 51165, 51173 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06821"></a><span class="lineno"> 6821</span>&#160;    {</div>
<div class="line"><a name="l06822"></a><span class="lineno"> 6822</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81acdc9f1610f2a4cd247669ddb7497aa48">SPELL_ATTR3_SUPRESS_TARGET_PROCS</a>;</div>
<div class="line"><a name="l06823"></a><span class="lineno"> 6823</span>&#160;    });</div>
<div class="line"><a name="l06824"></a><span class="lineno"> 6824</span>&#160; </div>
<div class="line"><a name="l06825"></a><span class="lineno"> 6825</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l06826"></a><span class="lineno"> 6826</span>&#160;        69563,  <span class="comment">// A Cloudlet of Classy Cologne</span></div>
<div class="line"><a name="l06827"></a><span class="lineno"> 6827</span>&#160;        69445,  <span class="comment">// A Perfect Puff of Perfume</span></div>
<div class="line"><a name="l06828"></a><span class="lineno"> 6828</span>&#160;        69489   <span class="comment">// Bonbon Blitz</span></div>
<div class="line"><a name="l06829"></a><span class="lineno"> 6829</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06830"></a><span class="lineno"> 6830</span>&#160;    {</div>
<div class="line"><a name="l06831"></a><span class="lineno"> 6831</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[1] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>;</div>
<div class="line"><a name="l06832"></a><span class="lineno"> 6832</span>&#160;    });</div>
<div class="line"><a name="l06833"></a><span class="lineno"> 6833</span>&#160; </div>
<div class="line"><a name="l06834"></a><span class="lineno"> 6834</span>&#160;    <span class="comment">// Control</span></div>
<div class="line"><a name="l06835"></a><span class="lineno"> 6835</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 30790 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06836"></a><span class="lineno"> 6836</span>&#160;    {</div>
<div class="line"><a name="l06837"></a><span class="lineno"> 6837</span>&#160;        spellInfo-&gt;EffectMiscValue[1] = 0;</div>
<div class="line"><a name="l06838"></a><span class="lineno"> 6838</span>&#160;    });</div>
<div class="line"><a name="l06839"></a><span class="lineno"> 6839</span>&#160; </div>
<div class="line"><a name="l06840"></a><span class="lineno"> 6840</span>&#160;    <span class="comment">// Reclusive Runemaster</span></div>
<div class="line"><a name="l06841"></a><span class="lineno"> 6841</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 48028 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06842"></a><span class="lineno"> 6842</span>&#160;    {</div>
<div class="line"><a name="l06843"></a><span class="lineno"> 6843</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152aee8705374ad45df671cbba17e5614ca3">TARGET_SRC_CASTER</a>;</div>
<div class="line"><a name="l06844"></a><span class="lineno"> 6844</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a7b8c7cf5819db17b9ed16dfbb93addb4">TARGET_UNIT_SRC_AREA_ENEMY</a>;</div>
<div class="line"><a name="l06845"></a><span class="lineno"> 6845</span>&#160;    });</div>
<div class="line"><a name="l06846"></a><span class="lineno"> 6846</span>&#160; </div>
<div class="line"><a name="l06847"></a><span class="lineno"> 6847</span>&#160;    <span class="comment">// Mastery of</span></div>
<div class="line"><a name="l06848"></a><span class="lineno"> 6848</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 65147 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06849"></a><span class="lineno"> 6849</span>&#160;    {</div>
<div class="line"><a name="l06850"></a><span class="lineno"> 6850</span>&#160;        spellInfo-&gt;Category = 1244;</div>
<div class="line"><a name="l06851"></a><span class="lineno"> 6851</span>&#160;        spellInfo-&gt;CategoryRecoveryTime = 1500;</div>
<div class="line"><a name="l06852"></a><span class="lineno"> 6852</span>&#160;    });</div>
<div class="line"><a name="l06853"></a><span class="lineno"> 6853</span>&#160; </div>
<div class="line"><a name="l06854"></a><span class="lineno"> 6854</span>&#160;    <span class="comment">// Weakness to Lightning</span></div>
<div class="line"><a name="l06855"></a><span class="lineno"> 6855</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 46432 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06856"></a><span class="lineno"> 6856</span>&#160;    {</div>
<div class="line"><a name="l06857"></a><span class="lineno"> 6857</span>&#160;        spellInfo-&gt;AttributesEx3 &amp;= ~<a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a0a71d4cc2660db4702163d932a53841c">SPELL_ATTR3_ALLOW_AURA_WHILE_DEAD</a>;</div>
<div class="line"><a name="l06858"></a><span class="lineno"> 6858</span>&#160;    });</div>
<div class="line"><a name="l06859"></a><span class="lineno"> 6859</span>&#160; </div>
<div class="line"><a name="l06860"></a><span class="lineno"> 6860</span>&#160;    <span class="comment">// Wrangle Some Aether Rays!</span></div>
<div class="line"><a name="l06861"></a><span class="lineno"> 6861</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 40856 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06862"></a><span class="lineno"> 6862</span>&#160;    {</div>
<div class="line"><a name="l06863"></a><span class="lineno"> 6863</span>&#160;        spellInfo-&gt;DurationIndex = 27; <span class="comment">// 3000ms</span></div>
<div class="line"><a name="l06864"></a><span class="lineno"> 6864</span>&#160;    });</div>
<div class="line"><a name="l06865"></a><span class="lineno"> 6865</span>&#160; </div>
<div class="line"><a name="l06866"></a><span class="lineno"> 6866</span>&#160;    <span class="comment">// The Black Knight&#39;s Orders</span></div>
<div class="line"><a name="l06867"></a><span class="lineno"> 6867</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 63163 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06868"></a><span class="lineno"> 6868</span>&#160;    {</div>
<div class="line"><a name="l06869"></a><span class="lineno"> 6869</span>&#160;        spellInfo-&gt;EffectBasePoints[0] = 52390;</div>
<div class="line"><a name="l06870"></a><span class="lineno"> 6870</span>&#160;    });</div>
<div class="line"><a name="l06871"></a><span class="lineno"> 6871</span>&#160; </div>
<div class="line"><a name="l06872"></a><span class="lineno"> 6872</span>&#160;    <span class="comment">// The Warp Rifts</span></div>
<div class="line"><a name="l06873"></a><span class="lineno"> 6873</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 34888 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06874"></a><span class="lineno"> 6874</span>&#160;    {</div>
<div class="line"><a name="l06875"></a><span class="lineno"> 6875</span>&#160;        spellInfo-&gt;DurationIndex = 5; <span class="comment">// 300 secs</span></div>
<div class="line"><a name="l06876"></a><span class="lineno"> 6876</span>&#160;    });</div>
<div class="line"><a name="l06877"></a><span class="lineno"> 6877</span>&#160; </div>
<div class="line"><a name="l06878"></a><span class="lineno"> 6878</span>&#160;    <span class="comment">// The Smallest Creatures</span></div>
<div class="line"><a name="l06879"></a><span class="lineno"> 6879</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 38544 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06880"></a><span class="lineno"> 6880</span>&#160;    {</div>
<div class="line"><a name="l06881"></a><span class="lineno"> 6881</span>&#160;        spellInfo-&gt;EffectMiscValueB[0] = 427;</div>
<div class="line"><a name="l06882"></a><span class="lineno"> 6882</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = 1;</div>
<div class="line"><a name="l06883"></a><span class="lineno"> 6883</span>&#160;        spellInfo-&gt;Effect[1] = 0;</div>
<div class="line"><a name="l06884"></a><span class="lineno"> 6884</span>&#160;    });</div>
<div class="line"><a name="l06885"></a><span class="lineno"> 6885</span>&#160; </div>
<div class="line"><a name="l06886"></a><span class="lineno"> 6886</span>&#160;    <span class="comment">// Ridding the red rocket</span></div>
<div class="line"><a name="l06887"></a><span class="lineno"> 6887</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 49177 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06888"></a><span class="lineno"> 6888</span>&#160;    {</div>
<div class="line"><a name="l06889"></a><span class="lineno"> 6889</span>&#160;        spellInfo-&gt;EffectBasePoints[0] = 1; <span class="comment">// corrects seat id (points - 1 = seatId)</span></div>
<div class="line"><a name="l06890"></a><span class="lineno"> 6890</span>&#160;    });</div>
<div class="line"><a name="l06891"></a><span class="lineno"> 6891</span>&#160; </div>
<div class="line"><a name="l06892"></a><span class="lineno"> 6892</span>&#160;    <span class="comment">// Jormungar Strike</span></div>
<div class="line"><a name="l06893"></a><span class="lineno"> 6893</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 56513 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06894"></a><span class="lineno"> 6894</span>&#160;    {</div>
<div class="line"><a name="l06895"></a><span class="lineno"> 6895</span>&#160;        spellInfo-&gt;RecoveryTime = 2000;</div>
<div class="line"><a name="l06896"></a><span class="lineno"> 6896</span>&#160;    });</div>
<div class="line"><a name="l06897"></a><span class="lineno"> 6897</span>&#160; </div>
<div class="line"><a name="l06898"></a><span class="lineno"> 6898</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l06899"></a><span class="lineno"> 6899</span>&#160;        37851, <span class="comment">// Tag Greater Felfire Diemetradon</span></div>
<div class="line"><a name="l06900"></a><span class="lineno"> 6900</span>&#160;        37918  <span class="comment">// Arcano-pince</span></div>
<div class="line"><a name="l06901"></a><span class="lineno"> 6901</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06902"></a><span class="lineno"> 6902</span>&#160;    {</div>
<div class="line"><a name="l06903"></a><span class="lineno"> 6903</span>&#160;        spellInfo-&gt;RecoveryTime = 3000;</div>
<div class="line"><a name="l06904"></a><span class="lineno"> 6904</span>&#160;    });</div>
<div class="line"><a name="l06905"></a><span class="lineno"> 6905</span>&#160; </div>
<div class="line"><a name="l06906"></a><span class="lineno"> 6906</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l06907"></a><span class="lineno"> 6907</span>&#160;        54997, <span class="comment">// Cast Net (tooltip says 10s but sniffs say 6s)</span></div>
<div class="line"><a name="l06908"></a><span class="lineno"> 6908</span>&#160;        56524  <span class="comment">// Acid Breath</span></div>
<div class="line"><a name="l06909"></a><span class="lineno"> 6909</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06910"></a><span class="lineno"> 6910</span>&#160;    {</div>
<div class="line"><a name="l06911"></a><span class="lineno"> 6911</span>&#160;        spellInfo-&gt;RecoveryTime = 6000;</div>
<div class="line"><a name="l06912"></a><span class="lineno"> 6912</span>&#160;    });</div>
<div class="line"><a name="l06913"></a><span class="lineno"> 6913</span>&#160; </div>
<div class="line"><a name="l06914"></a><span class="lineno"> 6914</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l06915"></a><span class="lineno"> 6915</span>&#160;        47911, <span class="comment">// EMP</span></div>
<div class="line"><a name="l06916"></a><span class="lineno"> 6916</span>&#160;        48620, <span class="comment">// Wing Buffet</span></div>
<div class="line"><a name="l06917"></a><span class="lineno"> 6917</span>&#160;        51752  <span class="comment">// Stampy&#39;s Stompy-Stomp</span></div>
<div class="line"><a name="l06918"></a><span class="lineno"> 6918</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06919"></a><span class="lineno"> 6919</span>&#160;    {</div>
<div class="line"><a name="l06920"></a><span class="lineno"> 6920</span>&#160;        spellInfo-&gt;RecoveryTime = 10000;</div>
<div class="line"><a name="l06921"></a><span class="lineno"> 6921</span>&#160;    });</div>
<div class="line"><a name="l06922"></a><span class="lineno"> 6922</span>&#160; </div>
<div class="line"><a name="l06923"></a><span class="lineno"> 6923</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l06924"></a><span class="lineno"> 6924</span>&#160;        37727, <span class="comment">// Touch of Darkness</span></div>
<div class="line"><a name="l06925"></a><span class="lineno"> 6925</span>&#160;        54996  <span class="comment">// Ice Slick (tooltip says 20s but sniffs say 12s)</span></div>
<div class="line"><a name="l06926"></a><span class="lineno"> 6926</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06927"></a><span class="lineno"> 6927</span>&#160;    {</div>
<div class="line"><a name="l06928"></a><span class="lineno"> 6928</span>&#160;        spellInfo-&gt;RecoveryTime = 12000;</div>
<div class="line"><a name="l06929"></a><span class="lineno"> 6929</span>&#160;    });</div>
<div class="line"><a name="l06930"></a><span class="lineno"> 6930</span>&#160; </div>
<div class="line"><a name="l06931"></a><span class="lineno"> 6931</span>&#160;    <span class="comment">// Signal Helmet to Attack</span></div>
<div class="line"><a name="l06932"></a><span class="lineno"> 6932</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 51748 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06933"></a><span class="lineno"> 6933</span>&#160;    {</div>
<div class="line"><a name="l06934"></a><span class="lineno"> 6934</span>&#160;        spellInfo-&gt;RecoveryTime = 15000;</div>
<div class="line"><a name="l06935"></a><span class="lineno"> 6935</span>&#160;    });</div>
<div class="line"><a name="l06936"></a><span class="lineno"> 6936</span>&#160; </div>
<div class="line"><a name="l06937"></a><span class="lineno"> 6937</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l06938"></a><span class="lineno"> 6938</span>&#160;        51756, <span class="comment">// Charge</span></div>
<div class="line"><a name="l06939"></a><span class="lineno"> 6939</span>&#160;        37919, <span class="comment">//Arcano-dismantle</span></div>
<div class="line"><a name="l06940"></a><span class="lineno"> 6940</span>&#160;        37917  <span class="comment">//Arcano-Cloak</span></div>
<div class="line"><a name="l06941"></a><span class="lineno"> 6941</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06942"></a><span class="lineno"> 6942</span>&#160;    {</div>
<div class="line"><a name="l06943"></a><span class="lineno"> 6943</span>&#160;        spellInfo-&gt;RecoveryTime = 20000;</div>
<div class="line"><a name="l06944"></a><span class="lineno"> 6944</span>&#160;    });</div>
<div class="line"><a name="l06945"></a><span class="lineno"> 6945</span>&#160; </div>
<div class="line"><a name="l06946"></a><span class="lineno"> 6946</span>&#160;    <span class="comment">// Kaw the Mammoth Destroyer</span></div>
<div class="line"><a name="l06947"></a><span class="lineno"> 6947</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 46260 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06948"></a><span class="lineno"> 6948</span>&#160;    {</div>
<div class="line"><a name="l06949"></a><span class="lineno"> 6949</span>&#160;        spellInfo-&gt;AttributesEx2 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><a name="l06950"></a><span class="lineno"> 6950</span>&#160;    });</div>
<div class="line"><a name="l06951"></a><span class="lineno"> 6951</span>&#160; </div>
<div class="line"><a name="l06952"></a><span class="lineno"> 6952</span>&#160;    <span class="comment">// That&#39;s Abominable</span></div>
<div class="line"><a name="l06953"></a><span class="lineno"> 6953</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 59565 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06954"></a><span class="lineno"> 6954</span>&#160;    {</div>
<div class="line"><a name="l06955"></a><span class="lineno"> 6955</span>&#160;        spellInfo-&gt;EffectMiscValueB[0] = 1721; <span class="comment">// controlable guardian</span></div>
<div class="line"><a name="l06956"></a><span class="lineno"> 6956</span>&#160;    });</div>
<div class="line"><a name="l06957"></a><span class="lineno"> 6957</span>&#160; </div>
<div class="line"><a name="l06958"></a><span class="lineno"> 6958</span>&#160;    <span class="comment">// Investigate the Blue Recluse (1920)</span></div>
<div class="line"><a name="l06959"></a><span class="lineno"> 6959</span>&#160;    <span class="comment">// Investigate the Alchemist Shop (1960)</span></div>
<div class="line"><a name="l06960"></a><span class="lineno"> 6960</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 9095 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06961"></a><span class="lineno"> 6961</span>&#160;    {</div>
<div class="line"><a name="l06962"></a><span class="lineno"> 6962</span>&#160;        spellInfo-&gt;EffectApplyAuraName[0] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a66cca11731d68512cb0bb652cb1e7caf">SPELL_AURA_DUMMY</a>;</div>
<div class="line"><a name="l06963"></a><span class="lineno"> 6963</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = 13;</div>
<div class="line"><a name="l06964"></a><span class="lineno"> 6964</span>&#160;    });</div>
<div class="line"><a name="l06965"></a><span class="lineno"> 6965</span>&#160; </div>
<div class="line"><a name="l06966"></a><span class="lineno"> 6966</span>&#160;    <span class="comment">// Dragonmaw Race: All parts</span></div>
<div class="line"><a name="l06967"></a><span class="lineno"> 6967</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l06968"></a><span class="lineno"> 6968</span>&#160;        40890   <span class="comment">// Oldie&#39;s Rotten Pumpkin</span></div>
<div class="line"><a name="l06969"></a><span class="lineno"> 6969</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06970"></a><span class="lineno"> 6970</span>&#160;    {</div>
<div class="line"><a name="l06971"></a><span class="lineno"> 6971</span>&#160;        spellInfo-&gt;Targets |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a3c11f0d0cd9689554b34ccbc325da54fa6743615e8912aefb100fe3f804c162be">TARGET_FLAG_DEST_LOCATION</a>;</div>
<div class="line"><a name="l06972"></a><span class="lineno"> 6972</span>&#160;        spellInfo-&gt;EffectTriggerSpell[0] = 40905;</div>
<div class="line"><a name="l06973"></a><span class="lineno"> 6973</span>&#160;        spellInfo-&gt;Effect[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a3303d1b9499775f687785269eaaaff1b">SPELL_EFFECT_TRIGGER_MISSILE</a>;</div>
<div class="line"><a name="l06974"></a><span class="lineno"> 6974</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>;</div>
<div class="line"><a name="l06975"></a><span class="lineno"> 6975</span>&#160;    });</div>
<div class="line"><a name="l06976"></a><span class="lineno"> 6976</span>&#160; </div>
<div class="line"><a name="l06977"></a><span class="lineno"> 6977</span>&#160;    <span class="comment">// Trope&#39;s Slime Cannon</span></div>
<div class="line"><a name="l06978"></a><span class="lineno"> 6978</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 40909 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06979"></a><span class="lineno"> 6979</span>&#160;    {</div>
<div class="line"><a name="l06980"></a><span class="lineno"> 6980</span>&#160;        spellInfo-&gt;Targets |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a3c11f0d0cd9689554b34ccbc325da54fa6743615e8912aefb100fe3f804c162be">TARGET_FLAG_DEST_LOCATION</a>;</div>
<div class="line"><a name="l06981"></a><span class="lineno"> 6981</span>&#160;        spellInfo-&gt;EffectTriggerSpell[0] = 40905;</div>
<div class="line"><a name="l06982"></a><span class="lineno"> 6982</span>&#160;        spellInfo-&gt;Effect[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a3303d1b9499775f687785269eaaaff1b">SPELL_EFFECT_TRIGGER_MISSILE</a>;</div>
<div class="line"><a name="l06983"></a><span class="lineno"> 6983</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>;</div>
<div class="line"><a name="l06984"></a><span class="lineno"> 6984</span>&#160;    });</div>
<div class="line"><a name="l06985"></a><span class="lineno"> 6985</span>&#160; </div>
<div class="line"><a name="l06986"></a><span class="lineno"> 6986</span>&#160;    <span class="comment">// Corlok&#39;s Skull Barrage</span></div>
<div class="line"><a name="l06987"></a><span class="lineno"> 6987</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 40894 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06988"></a><span class="lineno"> 6988</span>&#160;    {</div>
<div class="line"><a name="l06989"></a><span class="lineno"> 6989</span>&#160;        spellInfo-&gt;Targets |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a3c11f0d0cd9689554b34ccbc325da54fa6743615e8912aefb100fe3f804c162be">TARGET_FLAG_DEST_LOCATION</a>;</div>
<div class="line"><a name="l06990"></a><span class="lineno"> 6990</span>&#160;        spellInfo-&gt;EffectTriggerSpell[0] = 40900;</div>
<div class="line"><a name="l06991"></a><span class="lineno"> 6991</span>&#160;        spellInfo-&gt;Effect[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a3303d1b9499775f687785269eaaaff1b">SPELL_EFFECT_TRIGGER_MISSILE</a>;</div>
<div class="line"><a name="l06992"></a><span class="lineno"> 6992</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>;</div>
<div class="line"><a name="l06993"></a><span class="lineno"> 6993</span>&#160;    });</div>
<div class="line"><a name="l06994"></a><span class="lineno"> 6994</span>&#160; </div>
<div class="line"><a name="l06995"></a><span class="lineno"> 6995</span>&#160;    <span class="comment">// Ichman&#39;s Blazing Fireball</span></div>
<div class="line"><a name="l06996"></a><span class="lineno"> 6996</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 40928 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l06997"></a><span class="lineno"> 6997</span>&#160;    {</div>
<div class="line"><a name="l06998"></a><span class="lineno"> 6998</span>&#160;        spellInfo-&gt;Targets |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a3c11f0d0cd9689554b34ccbc325da54fa6743615e8912aefb100fe3f804c162be">TARGET_FLAG_DEST_LOCATION</a>;</div>
<div class="line"><a name="l06999"></a><span class="lineno"> 6999</span>&#160;        spellInfo-&gt;EffectTriggerSpell[0] = 40929;</div>
<div class="line"><a name="l07000"></a><span class="lineno"> 7000</span>&#160;        spellInfo-&gt;Effect[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a3303d1b9499775f687785269eaaaff1b">SPELL_EFFECT_TRIGGER_MISSILE</a>;</div>
<div class="line"><a name="l07001"></a><span class="lineno"> 7001</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>;</div>
<div class="line"><a name="l07002"></a><span class="lineno"> 7002</span>&#160;    });</div>
<div class="line"><a name="l07003"></a><span class="lineno"> 7003</span>&#160; </div>
<div class="line"><a name="l07004"></a><span class="lineno"> 7004</span>&#160;    <span class="comment">// Mulverick&#39;s Great Balls of Lightning</span></div>
<div class="line"><a name="l07005"></a><span class="lineno"> 7005</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 40930 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07006"></a><span class="lineno"> 7006</span>&#160;    {</div>
<div class="line"><a name="l07007"></a><span class="lineno"> 7007</span>&#160;        spellInfo-&gt;Targets |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a3c11f0d0cd9689554b34ccbc325da54fa6743615e8912aefb100fe3f804c162be">TARGET_FLAG_DEST_LOCATION</a>;</div>
<div class="line"><a name="l07008"></a><span class="lineno"> 7008</span>&#160;        spellInfo-&gt;EffectTriggerSpell[0] = 40931;</div>
<div class="line"><a name="l07009"></a><span class="lineno"> 7009</span>&#160;        spellInfo-&gt;Effect[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a3303d1b9499775f687785269eaaaff1b">SPELL_EFFECT_TRIGGER_MISSILE</a>;</div>
<div class="line"><a name="l07010"></a><span class="lineno"> 7010</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>;</div>
<div class="line"><a name="l07011"></a><span class="lineno"> 7011</span>&#160;    });</div>
<div class="line"><a name="l07012"></a><span class="lineno"> 7012</span>&#160; </div>
<div class="line"><a name="l07013"></a><span class="lineno"> 7013</span>&#160;    <span class="comment">// Sky Shatter</span></div>
<div class="line"><a name="l07014"></a><span class="lineno"> 7014</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 40945 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07015"></a><span class="lineno"> 7015</span>&#160;    {</div>
<div class="line"><a name="l07016"></a><span class="lineno"> 7016</span>&#160;        spellInfo-&gt;Targets |= <a class="code" href="../../dc/d70/_spell_info_8h.html#a3c11f0d0cd9689554b34ccbc325da54fa6743615e8912aefb100fe3f804c162be">TARGET_FLAG_DEST_LOCATION</a>;</div>
<div class="line"><a name="l07017"></a><span class="lineno"> 7017</span>&#160;        spellInfo-&gt;EffectTriggerSpell[0] = 41064;</div>
<div class="line"><a name="l07018"></a><span class="lineno"> 7018</span>&#160;        spellInfo-&gt;Effect[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a3303d1b9499775f687785269eaaaff1b">SPELL_EFFECT_TRIGGER_MISSILE</a>;</div>
<div class="line"><a name="l07019"></a><span class="lineno"> 7019</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>;</div>
<div class="line"><a name="l07020"></a><span class="lineno"> 7020</span>&#160;    });</div>
<div class="line"><a name="l07021"></a><span class="lineno"> 7021</span>&#160; </div>
<div class="line"><a name="l07022"></a><span class="lineno"> 7022</span>&#160;    <span class="comment">// Gauging the Resonant Frequency (10594)</span></div>
<div class="line"><a name="l07023"></a><span class="lineno"> 7023</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 37390 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07024"></a><span class="lineno"> 7024</span>&#160;    {</div>
<div class="line"><a name="l07025"></a><span class="lineno"> 7025</span>&#160;        spellInfo-&gt;EffectMiscValueB[0] = 181;</div>
<div class="line"><a name="l07026"></a><span class="lineno"> 7026</span>&#160;    });</div>
<div class="line"><a name="l07027"></a><span class="lineno"> 7027</span>&#160; </div>
<div class="line"><a name="l07028"></a><span class="lineno"> 7028</span>&#160;    <span class="comment">// Where in the World is Hemet Nesingwary? (12521)</span></div>
<div class="line"><a name="l07029"></a><span class="lineno"> 7029</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 50860 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07030"></a><span class="lineno"> 7030</span>&#160;    {</div>
<div class="line"><a name="l07031"></a><span class="lineno"> 7031</span>&#160;        spellInfo-&gt;EffectBasePoints[0] = 50860;</div>
<div class="line"><a name="l07032"></a><span class="lineno"> 7032</span>&#160;    });</div>
<div class="line"><a name="l07033"></a><span class="lineno"> 7033</span>&#160; </div>
<div class="line"><a name="l07034"></a><span class="lineno"> 7034</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 50861 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07035"></a><span class="lineno"> 7035</span>&#160;    {</div>
<div class="line"><a name="l07036"></a><span class="lineno"> 7036</span>&#160;        spellInfo-&gt;EffectBasePoints[0] = 0;</div>
<div class="line"><a name="l07037"></a><span class="lineno"> 7037</span>&#160;    });</div>
<div class="line"><a name="l07038"></a><span class="lineno"> 7038</span>&#160; </div>
<div class="line"><a name="l07039"></a><span class="lineno"> 7039</span>&#160;    <span class="comment">// Krolmir, Hammer of Storms (13010)</span></div>
<div class="line"><a name="l07040"></a><span class="lineno"> 7040</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 56606, 56541 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07041"></a><span class="lineno"> 7041</span>&#160;    {</div>
<div class="line"><a name="l07042"></a><span class="lineno"> 7042</span>&#160;        spellInfo-&gt;EffectBasePoints[0] = 1;</div>
<div class="line"><a name="l07043"></a><span class="lineno"> 7043</span>&#160;    });</div>
<div class="line"><a name="l07044"></a><span class="lineno"> 7044</span>&#160; </div>
<div class="line"><a name="l07045"></a><span class="lineno"> 7045</span>&#160;    <span class="comment">// Blightbeasts be Damned! (12072)</span></div>
<div class="line"><a name="l07046"></a><span class="lineno"> 7046</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 47424 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07047"></a><span class="lineno"> 7047</span>&#160;    {</div>
<div class="line"><a name="l07048"></a><span class="lineno"> 7048</span>&#160;        spellInfo-&gt;AuraInterruptFlags &amp;= ~<a class="code" href="../../d5/d32/_unit_8h.html#a0709fc3ab848cf1b8b4853813b8fe011a814f4cad10d65b0cb37bb6ec56e7fe9d">AURA_INTERRUPT_FLAG_NOT_ABOVEWATER</a>;</div>
<div class="line"><a name="l07049"></a><span class="lineno"> 7049</span>&#160;    });</div>
<div class="line"><a name="l07050"></a><span class="lineno"> 7050</span>&#160; </div>
<div class="line"><a name="l07051"></a><span class="lineno"> 7051</span>&#160;    <span class="comment">// Dark Horizon (12664), Reunited (12663)</span></div>
<div class="line"><a name="l07052"></a><span class="lineno"> 7052</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 52190 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07053"></a><span class="lineno"> 7053</span>&#160;    {</div>
<div class="line"><a name="l07054"></a><span class="lineno"> 7054</span>&#160;        spellInfo-&gt;EffectBasePoints[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = 52391 - 1;</div>
<div class="line"><a name="l07055"></a><span class="lineno"> 7055</span>&#160;    });</div>
<div class="line"><a name="l07056"></a><span class="lineno"> 7056</span>&#160; </div>
<div class="line"><a name="l07057"></a><span class="lineno"> 7057</span>&#160;    <span class="comment">// The Sum is Greater than the Parts (13043) - Chained Grip</span></div>
<div class="line"><a name="l07058"></a><span class="lineno"> 7058</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 60540 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07059"></a><span class="lineno"> 7059</span>&#160;    {</div>
<div class="line"><a name="l07060"></a><span class="lineno"> 7060</span>&#160;        spellInfo-&gt;EffectMiscValue[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = 300;</div>
<div class="line"><a name="l07061"></a><span class="lineno"> 7061</span>&#160;    });</div>
<div class="line"><a name="l07062"></a><span class="lineno"> 7062</span>&#160; </div>
<div class="line"><a name="l07063"></a><span class="lineno"> 7063</span>&#160;    <span class="comment">// Not a Bug (13342)</span></div>
<div class="line"><a name="l07064"></a><span class="lineno"> 7064</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 60531 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07065"></a><span class="lineno"> 7065</span>&#160;    {</div>
<div class="line"><a name="l07066"></a><span class="lineno"> 7066</span>&#160;        spellInfo-&gt;AttributesEx2 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668ad2cb623676f084a0370c1983084a29d8">SPELL_ATTR2_ALLOW_DEAD_TARGET</a>;</div>
<div class="line"><a name="l07067"></a><span class="lineno"> 7067</span>&#160;    });</div>
<div class="line"><a name="l07068"></a><span class="lineno"> 7068</span>&#160; </div>
<div class="line"><a name="l07069"></a><span class="lineno"> 7069</span>&#160;    <span class="comment">// Frankly,  It Makes No Sense... (10672)</span></div>
<div class="line"><a name="l07070"></a><span class="lineno"> 7070</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 37851 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07071"></a><span class="lineno"> 7071</span>&#160;    {</div>
<div class="line"><a name="l07072"></a><span class="lineno"> 7072</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81acdc9f1610f2a4cd247669ddb7497aa48">SPELL_ATTR3_SUPRESS_TARGET_PROCS</a>;</div>
<div class="line"><a name="l07073"></a><span class="lineno"> 7073</span>&#160;    });</div>
<div class="line"><a name="l07074"></a><span class="lineno"> 7074</span>&#160; </div>
<div class="line"><a name="l07075"></a><span class="lineno"> 7075</span>&#160;    <span class="comment">// Honor Challenge (12939)</span></div>
<div class="line"><a name="l07076"></a><span class="lineno"> 7076</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 21855 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07077"></a><span class="lineno"> 7077</span>&#160;    {</div>
<div class="line"><a name="l07078"></a><span class="lineno"> 7078</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81acdc9f1610f2a4cd247669ddb7497aa48">SPELL_ATTR3_SUPRESS_TARGET_PROCS</a>;</div>
<div class="line"><a name="l07079"></a><span class="lineno"> 7079</span>&#160;    });</div>
<div class="line"><a name="l07080"></a><span class="lineno"> 7080</span>&#160; </div>
<div class="line"><a name="l07081"></a><span class="lineno"> 7081</span>&#160;    <span class="comment">// Convocation at Zol&#39;Heb (12730)</span></div>
<div class="line"><a name="l07082"></a><span class="lineno"> 7082</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 52956 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07083"></a><span class="lineno"> 7083</span>&#160;    {</div>
<div class="line"><a name="l07084"></a><span class="lineno"> 7084</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a934668876768a96fe7ef286b00c4ed4d">TARGET_UNIT_DEST_AREA_ENTRY</a>;</div>
<div class="line"><a name="l07085"></a><span class="lineno"> 7085</span>&#160;    });</div>
<div class="line"><a name="l07086"></a><span class="lineno"> 7086</span>&#160; </div>
<div class="line"><a name="l07087"></a><span class="lineno"> 7087</span>&#160;    <span class="comment">// Mangletooth</span></div>
<div class="line"><a name="l07088"></a><span class="lineno"> 7088</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l07089"></a><span class="lineno"> 7089</span>&#160;        7764,   <span class="comment">// Wisdom of Agamaggan</span></div>
<div class="line"><a name="l07090"></a><span class="lineno"> 7090</span>&#160;        10767,  <span class="comment">// Rising Spirit</span></div>
<div class="line"><a name="l07091"></a><span class="lineno"> 7091</span>&#160;        16610,  <span class="comment">// Razorhide</span></div>
<div class="line"><a name="l07092"></a><span class="lineno"> 7092</span>&#160;        16612,  <span class="comment">// Agamaggan&#39;s Strength</span></div>
<div class="line"><a name="l07093"></a><span class="lineno"> 7093</span>&#160;        16618,  <span class="comment">// Spirit of the Wind</span></div>
<div class="line"><a name="l07094"></a><span class="lineno"> 7094</span>&#160;        17013   <span class="comment">// Agamaggan&#39;s Agility</span></div>
<div class="line"><a name="l07095"></a><span class="lineno"> 7095</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07096"></a><span class="lineno"> 7096</span>&#160; </div>
<div class="line"><a name="l07097"></a><span class="lineno"> 7097</span>&#160;    {</div>
<div class="line"><a name="l07098"></a><span class="lineno"> 7098</span>&#160;        spellInfo-&gt;AttributesEx2 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><a name="l07099"></a><span class="lineno"> 7099</span>&#160;        spellInfo-&gt;AttributesEx5 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a376aa62261a98289589839b821786adaab0527496eccfcafc34a8a49f74d9afbd">SPELL_ATTR5_ALWAYS_AOE_LINE_OF_SIGHT</a>;</div>
<div class="line"><a name="l07100"></a><span class="lineno"> 7100</span>&#160;    });</div>
<div class="line"><a name="l07101"></a><span class="lineno"> 7101</span>&#160; </div>
<div class="line"><a name="l07102"></a><span class="lineno"> 7102</span>&#160;    <span class="comment">//Crushing the Crown</span></div>
<div class="line"><a name="l07103"></a><span class="lineno"> 7103</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 71024 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07104"></a><span class="lineno"> 7104</span>&#160;    {</div>
<div class="line"><a name="l07105"></a><span class="lineno"> 7105</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a86bfc5644ebafe704834da6ecb5a0ac8">TARGET_DEST_DYNOBJ_NONE</a>;</div>
<div class="line"><a name="l07106"></a><span class="lineno"> 7106</span>&#160;    });</div>
<div class="line"><a name="l07107"></a><span class="lineno"> 7107</span>&#160; </div>
<div class="line"><a name="l07108"></a><span class="lineno"> 7108</span>&#160;    <span class="comment">// Battle for the Undercity</span></div>
<div class="line"><a name="l07109"></a><span class="lineno"> 7109</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l07110"></a><span class="lineno"> 7110</span>&#160;        59892   <span class="comment">// Cyclone fall</span></div>
<div class="line"><a name="l07111"></a><span class="lineno"> 7111</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07112"></a><span class="lineno"> 7112</span>&#160;    {</div>
<div class="line"><a name="l07113"></a><span class="lineno"> 7113</span>&#160;        spellInfo-&gt;Effect[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a140c94210262d911b2db681aba463d19">SPELL_EFFECT_APPLY_AREA_AURA_FRIEND</a>;</div>
<div class="line"><a name="l07114"></a><span class="lineno"> 7114</span>&#160;        spellInfo-&gt;EffectRadiusIndex[0] = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6ac408444e6d66c0845a141ca461eb705b">EFFECT_RADIUS_10_YARDS</a>;</div>
<div class="line"><a name="l07115"></a><span class="lineno"> 7115</span>&#160;        spellInfo-&gt;AttributesEx &amp;= ~<a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada74e8efc0492288577083b1cc470e48c4">SPELL_ATTR0_NO_AURA_CANCEL</a>;</div>
<div class="line"><a name="l07116"></a><span class="lineno"> 7116</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81afd31a3efb01e11ee685cd0cac502b9ac">SPELL_ATTR3_ONLY_ON_PLAYER</a>;</div>
<div class="line"><a name="l07117"></a><span class="lineno"> 7117</span>&#160;    });</div>
<div class="line"><a name="l07118"></a><span class="lineno"> 7118</span>&#160; </div>
<div class="line"><a name="l07119"></a><span class="lineno"> 7119</span>&#160;    <span class="comment">// enchant Lightweave Embroidery</span></div>
<div class="line"><a name="l07120"></a><span class="lineno"> 7120</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 55637 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07121"></a><span class="lineno"> 7121</span>&#160;    {</div>
<div class="line"><a name="l07122"></a><span class="lineno"> 7122</span>&#160;        spellInfo-&gt;EffectMiscValue[1] = 126;</div>
<div class="line"><a name="l07123"></a><span class="lineno"> 7123</span>&#160;    });</div>
<div class="line"><a name="l07124"></a><span class="lineno"> 7124</span>&#160; </div>
<div class="line"><a name="l07125"></a><span class="lineno"> 7125</span>&#160;    <span class="comment">// Magic Broom</span></div>
<div class="line"><a name="l07126"></a><span class="lineno"> 7126</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 47977 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07127"></a><span class="lineno"> 7127</span>&#160;    {</div>
<div class="line"><a name="l07128"></a><span class="lineno"> 7128</span>&#160;        spellInfo-&gt;Effect[0] = 0;</div>
<div class="line"><a name="l07129"></a><span class="lineno"> 7129</span>&#160;        spellInfo-&gt;Effect[1] = 0;</div>
<div class="line"><a name="l07130"></a><span class="lineno"> 7130</span>&#160;    });</div>
<div class="line"><a name="l07131"></a><span class="lineno"> 7131</span>&#160; </div>
<div class="line"><a name="l07132"></a><span class="lineno"> 7132</span>&#160;    <span class="comment">// Titanium Seal of Dalaran, Toss your luck</span></div>
<div class="line"><a name="l07133"></a><span class="lineno"> 7133</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 60476 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07134"></a><span class="lineno"> 7134</span>&#160;    {</div>
<div class="line"><a name="l07135"></a><span class="lineno"> 7135</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>;</div>
<div class="line"><a name="l07136"></a><span class="lineno"> 7136</span>&#160;    });</div>
<div class="line"><a name="l07137"></a><span class="lineno"> 7137</span>&#160; </div>
<div class="line"><a name="l07138"></a><span class="lineno"> 7138</span>&#160;    <span class="comment">// Mind Amplification Dish, change charm aura</span></div>
<div class="line"><a name="l07139"></a><span class="lineno"> 7139</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 26740 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07140"></a><span class="lineno"> 7140</span>&#160;    {</div>
<div class="line"><a name="l07141"></a><span class="lineno"> 7141</span>&#160;        spellInfo-&gt;EffectApplyAuraName[0] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a7b5d0b48f9a7e84bf7a896602e8c66b9">SPELL_AURA_MOD_CHARM</a>;</div>
<div class="line"><a name="l07142"></a><span class="lineno"> 7142</span>&#160;    });</div>
<div class="line"><a name="l07143"></a><span class="lineno"> 7143</span>&#160; </div>
<div class="line"><a name="l07144"></a><span class="lineno"> 7144</span>&#160;    <span class="comment">// Persistent Shield</span></div>
<div class="line"><a name="l07145"></a><span class="lineno"> 7145</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 26467 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07146"></a><span class="lineno"> 7146</span>&#160;    {</div>
<div class="line"><a name="l07147"></a><span class="lineno"> 7147</span>&#160;        spellInfo-&gt;EffectApplyAuraName[0] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a651bba5033934ceb87de2329c845808a">SPELL_AURA_PROC_TRIGGER_SPELL_WITH_VALUE</a>;</div>
<div class="line"><a name="l07148"></a><span class="lineno"> 7148</span>&#160;        spellInfo-&gt;EffectTriggerSpell[0] = 26470;</div>
<div class="line"><a name="l07149"></a><span class="lineno"> 7149</span>&#160;    });</div>
<div class="line"><a name="l07150"></a><span class="lineno"> 7150</span>&#160; </div>
<div class="line"><a name="l07151"></a><span class="lineno"> 7151</span>&#160;    <span class="comment">// Deadly Swiftness</span></div>
<div class="line"><a name="l07152"></a><span class="lineno"> 7152</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 31255 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07153"></a><span class="lineno"> 7153</span>&#160;    {</div>
<div class="line"><a name="l07154"></a><span class="lineno"> 7154</span>&#160;        spellInfo-&gt;EffectTriggerSpell[0] = 22588;</div>
<div class="line"><a name="l07155"></a><span class="lineno"> 7155</span>&#160;    });</div>
<div class="line"><a name="l07156"></a><span class="lineno"> 7156</span>&#160; </div>
<div class="line"><a name="l07157"></a><span class="lineno"> 7157</span>&#160;    <span class="comment">// Black Magic enchant</span></div>
<div class="line"><a name="l07158"></a><span class="lineno"> 7158</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 59630 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07159"></a><span class="lineno"> 7159</span>&#160;    {</div>
<div class="line"><a name="l07160"></a><span class="lineno"> 7160</span>&#160;        spellInfo-&gt;Attributes |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada407e023ed336f3c64aa20f11dd49f6bd">SPELL_ATTR0_PASSIVE</a>;</div>
<div class="line"><a name="l07161"></a><span class="lineno"> 7161</span>&#160;    });</div>
<div class="line"><a name="l07162"></a><span class="lineno"> 7162</span>&#160; </div>
<div class="line"><a name="l07163"></a><span class="lineno"> 7163</span>&#160;    <span class="comment">// Precious&#39;s Ribbon</span></div>
<div class="line"><a name="l07164"></a><span class="lineno"> 7164</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 72968 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07165"></a><span class="lineno"> 7165</span>&#160;    {</div>
<div class="line"><a name="l07166"></a><span class="lineno"> 7166</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a0a71d4cc2660db4702163d932a53841c">SPELL_ATTR3_ALLOW_AURA_WHILE_DEAD</a>;</div>
<div class="line"><a name="l07167"></a><span class="lineno"> 7167</span>&#160;    });</div>
<div class="line"><a name="l07168"></a><span class="lineno"> 7168</span>&#160; </div>
<div class="line"><a name="l07169"></a><span class="lineno"> 7169</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l07170"></a><span class="lineno"> 7170</span>&#160;        71646,  <span class="comment">// Item - Bauble of True Blood 10m</span></div>
<div class="line"><a name="l07171"></a><span class="lineno"> 7171</span>&#160;        71607,  <span class="comment">// Item - Bauble of True Blood 25m</span></div>
<div class="line"><a name="l07172"></a><span class="lineno"> 7172</span>&#160;        71610,  <span class="comment">// Item - Althor&#39;s Abacus trigger 10m</span></div>
<div class="line"><a name="l07173"></a><span class="lineno"> 7173</span>&#160;        71641   <span class="comment">// Item - Althor&#39;s Abacus trigger 25m</span></div>
<div class="line"><a name="l07174"></a><span class="lineno"> 7174</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07175"></a><span class="lineno"> 7175</span>&#160;    {</div>
<div class="line"><a name="l07176"></a><span class="lineno"> 7176</span>&#160;        spellInfo-&gt;DmgClass = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a7443b708d5bd7312fc0a420679ae10a4a44c25232e532dcd5a47b225f2e531093">SPELL_DAMAGE_CLASS_MAGIC</a>;</div>
<div class="line"><a name="l07177"></a><span class="lineno"> 7177</span>&#160;        spellInfo-&gt;SpellLevel = 0;</div>
<div class="line"><a name="l07178"></a><span class="lineno"> 7178</span>&#160;    });</div>
<div class="line"><a name="l07179"></a><span class="lineno"> 7179</span>&#160; </div>
<div class="line"><a name="l07180"></a><span class="lineno"> 7180</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l07181"></a><span class="lineno"> 7181</span>&#160;        6789,  <span class="comment">// Warlock - Death Coil (Rank 1)</span></div>
<div class="line"><a name="l07182"></a><span class="lineno"> 7182</span>&#160;        17925, <span class="comment">// Warlock - Death Coil (Rank 2)</span></div>
<div class="line"><a name="l07183"></a><span class="lineno"> 7183</span>&#160;        17926, <span class="comment">// Warlock - Death Coil (Rank 3)</span></div>
<div class="line"><a name="l07184"></a><span class="lineno"> 7184</span>&#160;        27223, <span class="comment">// Warlock - Death Coil (Rank 4)</span></div>
<div class="line"><a name="l07185"></a><span class="lineno"> 7185</span>&#160;        47859, <span class="comment">// Warlock - Death Coil (Rank 5)</span></div>
<div class="line"><a name="l07186"></a><span class="lineno"> 7186</span>&#160;        71838, <span class="comment">// Drain Life - Bryntroll Normal</span></div>
<div class="line"><a name="l07187"></a><span class="lineno"> 7187</span>&#160;        71839  <span class="comment">// Drain Life - Bryntroll Heroic</span></div>
<div class="line"><a name="l07188"></a><span class="lineno"> 7188</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07189"></a><span class="lineno"> 7189</span>&#160;    {</div>
<div class="line"><a name="l07190"></a><span class="lineno"> 7190</span>&#160;        spellInfo-&gt;AttributesEx2 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668a39664dba0d11d177e801877b9068bd8f">SPELL_ATTR2_CANT_CRIT</a>;</div>
<div class="line"><a name="l07191"></a><span class="lineno"> 7191</span>&#160;    });</div>
<div class="line"><a name="l07192"></a><span class="lineno"> 7192</span>&#160; </div>
<div class="line"><a name="l07193"></a><span class="lineno"> 7193</span>&#160;    <span class="comment">// Alchemist&#39;s Stone</span></div>
<div class="line"><a name="l07194"></a><span class="lineno"> 7194</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 17619 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07195"></a><span class="lineno"> 7195</span>&#160;    {</div>
<div class="line"><a name="l07196"></a><span class="lineno"> 7196</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a0a71d4cc2660db4702163d932a53841c">SPELL_ATTR3_ALLOW_AURA_WHILE_DEAD</a>;</div>
<div class="line"><a name="l07197"></a><span class="lineno"> 7197</span>&#160;    });</div>
<div class="line"><a name="l07198"></a><span class="lineno"> 7198</span>&#160; </div>
<div class="line"><a name="l07199"></a><span class="lineno"> 7199</span>&#160;    <span class="comment">// Stormchops</span></div>
<div class="line"><a name="l07200"></a><span class="lineno"> 7200</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 43730 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07201"></a><span class="lineno"> 7201</span>&#160;    {</div>
<div class="line"><a name="l07202"></a><span class="lineno"> 7202</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[1] = 1;</div>
<div class="line"><a name="l07203"></a><span class="lineno"> 7203</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[1] = 0;</div>
<div class="line"><a name="l07204"></a><span class="lineno"> 7204</span>&#160;    });</div>
<div class="line"><a name="l07205"></a><span class="lineno"> 7205</span>&#160; </div>
<div class="line"><a name="l07206"></a><span class="lineno"> 7206</span>&#160;    <span class="comment">// Savory Deviate Delight (transformations), allow to mount while transformed</span></div>
<div class="line"><a name="l07207"></a><span class="lineno"> 7207</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 8219, 8220, 8221, 8222 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07208"></a><span class="lineno"> 7208</span>&#160;    {</div>
<div class="line"><a name="l07209"></a><span class="lineno"> 7209</span>&#160;        spellInfo-&gt;Attributes &amp;= ~<a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada6a12b14654225a9ccea65799ce6fc780">SPELL_ATTR0_NO_IMMUNITIES</a>;</div>
<div class="line"><a name="l07210"></a><span class="lineno"> 7210</span>&#160;    });</div>
<div class="line"><a name="l07211"></a><span class="lineno"> 7211</span>&#160; </div>
<div class="line"><a name="l07212"></a><span class="lineno"> 7212</span>&#160;    <span class="comment">// Clamlette Magnifique</span></div>
<div class="line"><a name="l07213"></a><span class="lineno"> 7213</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 72623 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07214"></a><span class="lineno"> 7214</span>&#160;    {</div>
<div class="line"><a name="l07215"></a><span class="lineno"> 7215</span>&#160;        spellInfo-&gt;EffectBasePoints[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = spellInfo-&gt;EffectBasePoints[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77a8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>];</div>
<div class="line"><a name="l07216"></a><span class="lineno"> 7216</span>&#160;    });</div>
<div class="line"><a name="l07217"></a><span class="lineno"> 7217</span>&#160; </div>
<div class="line"><a name="l07218"></a><span class="lineno"> 7218</span>&#160;    <span class="comment">// Compact Harvest Reaper</span></div>
<div class="line"><a name="l07219"></a><span class="lineno"> 7219</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 4078 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07220"></a><span class="lineno"> 7220</span>&#160;    {</div>
<div class="line"><a name="l07221"></a><span class="lineno"> 7221</span>&#160;        spellInfo-&gt;DurationIndex = 6; <span class="comment">// 10 minutes</span></div>
<div class="line"><a name="l07222"></a><span class="lineno"> 7222</span>&#160;    });</div>
<div class="line"><a name="l07223"></a><span class="lineno"> 7223</span>&#160; </div>
<div class="line"><a name="l07224"></a><span class="lineno"> 7224</span>&#160;    <span class="comment">// Dragon Kite, Tuskarr Kite - Kite String</span></div>
<div class="line"><a name="l07225"></a><span class="lineno"> 7225</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 45192 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07226"></a><span class="lineno"> 7226</span>&#160;    {</div>
<div class="line"><a name="l07227"></a><span class="lineno"> 7227</span>&#160;        spellInfo-&gt;RangeIndex = 6; <span class="comment">// 100yd</span></div>
<div class="line"><a name="l07228"></a><span class="lineno"> 7228</span>&#160;    });</div>
<div class="line"><a name="l07229"></a><span class="lineno"> 7229</span>&#160; </div>
<div class="line"><a name="l07230"></a><span class="lineno"> 7230</span>&#160;    <span class="comment">// Frigid Frostling, Infrigidate</span></div>
<div class="line"><a name="l07231"></a><span class="lineno"> 7231</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 74960 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07232"></a><span class="lineno"> 7232</span>&#160;    {</div>
<div class="line"><a name="l07233"></a><span class="lineno"> 7233</span>&#160;        spellInfo-&gt;EffectRadiusIndex[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = 9; <span class="comment">// 20yd</span></div>
<div class="line"><a name="l07234"></a><span class="lineno"> 7234</span>&#160;    });</div>
<div class="line"><a name="l07235"></a><span class="lineno"> 7235</span>&#160; </div>
<div class="line"><a name="l07236"></a><span class="lineno"> 7236</span>&#160;    <span class="comment">// Apple Trap</span></div>
<div class="line"><a name="l07237"></a><span class="lineno"> 7237</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 43450 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07238"></a><span class="lineno"> 7238</span>&#160;    {</div>
<div class="line"><a name="l07239"></a><span class="lineno"> 7239</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a7b8c7cf5819db17b9ed16dfbb93addb4">TARGET_UNIT_SRC_AREA_ENEMY</a>;</div>
<div class="line"><a name="l07240"></a><span class="lineno"> 7240</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>;</div>
<div class="line"><a name="l07241"></a><span class="lineno"> 7241</span>&#160;        spellInfo-&gt;Effect[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a027bcdf3b42e90e7374802fe61fd776d">SPELL_EFFECT_DUMMY</a>;</div>
<div class="line"><a name="l07242"></a><span class="lineno"> 7242</span>&#160;    });</div>
<div class="line"><a name="l07243"></a><span class="lineno"> 7243</span>&#160; </div>
<div class="line"><a name="l07244"></a><span class="lineno"> 7244</span>&#160;    <span class="comment">// Dark Iron Attack - spawn mole machine</span></div>
<div class="line"><a name="l07245"></a><span class="lineno"> 7245</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 43563 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07246"></a><span class="lineno"> 7246</span>&#160;    {</div>
<div class="line"><a name="l07247"></a><span class="lineno"> 7247</span>&#160;        spellInfo-&gt;Effect[2] = 0; <span class="comment">// summon GO&#39;s manually</span></div>
<div class="line"><a name="l07248"></a><span class="lineno"> 7248</span>&#160;    });</div>
<div class="line"><a name="l07249"></a><span class="lineno"> 7249</span>&#160; </div>
<div class="line"><a name="l07250"></a><span class="lineno"> 7250</span>&#160;    <span class="comment">// Throw Mug visual</span></div>
<div class="line"><a name="l07251"></a><span class="lineno"> 7251</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 42300 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07252"></a><span class="lineno"> 7252</span>&#160;    {</div>
<div class="line"><a name="l07253"></a><span class="lineno"> 7253</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>;</div>
<div class="line"><a name="l07254"></a><span class="lineno"> 7254</span>&#160;    });</div>
<div class="line"><a name="l07255"></a><span class="lineno"> 7255</span>&#160; </div>
<div class="line"><a name="l07256"></a><span class="lineno"> 7256</span>&#160;    <span class="comment">// Dark Iron knockback Aura</span></div>
<div class="line"><a name="l07257"></a><span class="lineno"> 7257</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 42299 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07258"></a><span class="lineno"> 7258</span>&#160;    {</div>
<div class="line"><a name="l07259"></a><span class="lineno"> 7259</span>&#160;        spellInfo-&gt;EffectApplyAuraName[1] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a66cca11731d68512cb0bb652cb1e7caf">SPELL_AURA_DUMMY</a>;</div>
<div class="line"><a name="l07260"></a><span class="lineno"> 7260</span>&#160;        spellInfo-&gt;EffectMiscValue[0] = 100;</div>
<div class="line"><a name="l07261"></a><span class="lineno"> 7261</span>&#160;        spellInfo-&gt;EffectBasePoints[0] = 79;</div>
<div class="line"><a name="l07262"></a><span class="lineno"> 7262</span>&#160;    });</div>
<div class="line"><a name="l07263"></a><span class="lineno"> 7263</span>&#160; </div>
<div class="line"><a name="l07264"></a><span class="lineno"> 7264</span>&#160;    <span class="comment">// Chug and Chuck!</span></div>
<div class="line"><a name="l07265"></a><span class="lineno"> 7265</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 42436 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07266"></a><span class="lineno"> 7266</span>&#160;    {</div>
<div class="line"><a name="l07267"></a><span class="lineno"> 7267</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152aee8705374ad45df671cbba17e5614ca3">TARGET_SRC_CASTER</a>;</div>
<div class="line"><a name="l07268"></a><span class="lineno"> 7268</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a3f043071f052463518f0978322c782c6">TARGET_UNIT_SRC_AREA_ENTRY</a>;</div>
<div class="line"><a name="l07269"></a><span class="lineno"> 7269</span>&#160;        spellInfo-&gt;MaxAffectedTargets = 0;</div>
<div class="line"><a name="l07270"></a><span class="lineno"> 7270</span>&#160;        spellInfo-&gt;ExcludeCasterAuraSpell = 42299;</div>
<div class="line"><a name="l07271"></a><span class="lineno"> 7271</span>&#160;    });</div>
<div class="line"><a name="l07272"></a><span class="lineno"> 7272</span>&#160; </div>
<div class="line"><a name="l07273"></a><span class="lineno"> 7273</span>&#160;    <span class="comment">// Catch the Wild Wolpertinger!</span></div>
<div class="line"><a name="l07274"></a><span class="lineno"> 7274</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 41621 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07275"></a><span class="lineno"> 7275</span>&#160;    {</div>
<div class="line"><a name="l07276"></a><span class="lineno"> 7276</span>&#160;        spellInfo-&gt;Effect[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a027bcdf3b42e90e7374802fe61fd776d">SPELL_EFFECT_DUMMY</a>;</div>
<div class="line"><a name="l07277"></a><span class="lineno"> 7277</span>&#160;    });</div>
<div class="line"><a name="l07278"></a><span class="lineno"> 7278</span>&#160; </div>
<div class="line"><a name="l07279"></a><span class="lineno"> 7279</span>&#160;    <span class="comment">// Brewfest quests</span></div>
<div class="line"><a name="l07280"></a><span class="lineno"> 7280</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 47134, 51798 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07281"></a><span class="lineno"> 7281</span>&#160;    {</div>
<div class="line"><a name="l07282"></a><span class="lineno"> 7282</span>&#160;        spellInfo-&gt;Effect[0] = 0;</div>
<div class="line"><a name="l07283"></a><span class="lineno"> 7283</span>&#160;    });</div>
<div class="line"><a name="l07284"></a><span class="lineno"> 7284</span>&#160; </div>
<div class="line"><a name="l07285"></a><span class="lineno"> 7285</span>&#160;    <span class="comment">// The Heart of The Storms (12998)</span></div>
<div class="line"><a name="l07286"></a><span class="lineno"> 7286</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 43528 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07287"></a><span class="lineno"> 7287</span>&#160;    {</div>
<div class="line"><a name="l07288"></a><span class="lineno"> 7288</span>&#160;        spellInfo-&gt;DurationIndex = 18;</div>
<div class="line"><a name="l07289"></a><span class="lineno"> 7289</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = 25;</div>
<div class="line"><a name="l07290"></a><span class="lineno"> 7290</span>&#160;    });</div>
<div class="line"><a name="l07291"></a><span class="lineno"> 7291</span>&#160; </div>
<div class="line"><a name="l07292"></a><span class="lineno"> 7292</span>&#160;    <span class="comment">// Water splash</span></div>
<div class="line"><a name="l07293"></a><span class="lineno"> 7293</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 42348 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07294"></a><span class="lineno"> 7294</span>&#160;    {</div>
<div class="line"><a name="l07295"></a><span class="lineno"> 7295</span>&#160;        spellInfo-&gt;Effect[0] = 0;</div>
<div class="line"><a name="l07296"></a><span class="lineno"> 7296</span>&#160;    });</div>
<div class="line"><a name="l07297"></a><span class="lineno"> 7297</span>&#160; </div>
<div class="line"><a name="l07298"></a><span class="lineno"> 7298</span>&#160;    <span class="comment">// Summon Lantersn</span></div>
<div class="line"><a name="l07299"></a><span class="lineno"> 7299</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 44255, 44231 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07300"></a><span class="lineno"> 7300</span>&#160;    {</div>
<div class="line"><a name="l07301"></a><span class="lineno"> 7301</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>;</div>
<div class="line"><a name="l07302"></a><span class="lineno"> 7302</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[0] = 0;</div>
<div class="line"><a name="l07303"></a><span class="lineno"> 7303</span>&#160;    });</div>
<div class="line"><a name="l07304"></a><span class="lineno"> 7304</span>&#160; </div>
<div class="line"><a name="l07305"></a><span class="lineno"> 7305</span>&#160;    <span class="comment">// Throw Head Back</span></div>
<div class="line"><a name="l07306"></a><span class="lineno"> 7306</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 42401 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07307"></a><span class="lineno"> 7307</span>&#160;    {</div>
<div class="line"><a name="l07308"></a><span class="lineno"> 7308</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[0] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152aab0751c8895d224e37904a23bc625efa">TARGET_UNIT_NEARBY_ENTRY</a>;</div>
<div class="line"><a name="l07309"></a><span class="lineno"> 7309</span>&#160;    });</div>
<div class="line"><a name="l07310"></a><span class="lineno"> 7310</span>&#160; </div>
<div class="line"><a name="l07311"></a><span class="lineno"> 7311</span>&#160;    <span class="comment">// Food</span></div>
<div class="line"><a name="l07312"></a><span class="lineno"> 7312</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 65418 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07313"></a><span class="lineno"> 7313</span>&#160;    {</div>
<div class="line"><a name="l07314"></a><span class="lineno"> 7314</span>&#160;        spellInfo-&gt;EffectTriggerSpell[2] = 65410;</div>
<div class="line"><a name="l07315"></a><span class="lineno"> 7315</span>&#160;    });</div>
<div class="line"><a name="l07316"></a><span class="lineno"> 7316</span>&#160; </div>
<div class="line"><a name="l07317"></a><span class="lineno"> 7317</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 65422 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07318"></a><span class="lineno"> 7318</span>&#160;    {</div>
<div class="line"><a name="l07319"></a><span class="lineno"> 7319</span>&#160;        spellInfo-&gt;EffectTriggerSpell[2] = 65414;</div>
<div class="line"><a name="l07320"></a><span class="lineno"> 7320</span>&#160;    });</div>
<div class="line"><a name="l07321"></a><span class="lineno"> 7321</span>&#160; </div>
<div class="line"><a name="l07322"></a><span class="lineno"> 7322</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 65419 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07323"></a><span class="lineno"> 7323</span>&#160;    {</div>
<div class="line"><a name="l07324"></a><span class="lineno"> 7324</span>&#160;        spellInfo-&gt;EffectTriggerSpell[2] = 65416;</div>
<div class="line"><a name="l07325"></a><span class="lineno"> 7325</span>&#160;    });</div>
<div class="line"><a name="l07326"></a><span class="lineno"> 7326</span>&#160; </div>
<div class="line"><a name="l07327"></a><span class="lineno"> 7327</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 65420 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07328"></a><span class="lineno"> 7328</span>&#160;    {</div>
<div class="line"><a name="l07329"></a><span class="lineno"> 7329</span>&#160;        spellInfo-&gt;EffectTriggerSpell[2] = 65412;</div>
<div class="line"><a name="l07330"></a><span class="lineno"> 7330</span>&#160;    });</div>
<div class="line"><a name="l07331"></a><span class="lineno"> 7331</span>&#160; </div>
<div class="line"><a name="l07332"></a><span class="lineno"> 7332</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 65421 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07333"></a><span class="lineno"> 7333</span>&#160;    {</div>
<div class="line"><a name="l07334"></a><span class="lineno"> 7334</span>&#160;        spellInfo-&gt;EffectTriggerSpell[2] = 65415;</div>
<div class="line"><a name="l07335"></a><span class="lineno"> 7335</span>&#160;    });</div>
<div class="line"><a name="l07336"></a><span class="lineno"> 7336</span>&#160; </div>
<div class="line"><a name="l07337"></a><span class="lineno"> 7337</span>&#160;    <span class="comment">// Stamp Out Bonfire</span></div>
<div class="line"><a name="l07338"></a><span class="lineno"> 7338</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 45437 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07339"></a><span class="lineno"> 7339</span>&#160;    {</div>
<div class="line"><a name="l07340"></a><span class="lineno"> 7340</span>&#160;        spellInfo-&gt;Effect[1] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a027bcdf3b42e90e7374802fe61fd776d">SPELL_EFFECT_DUMMY</a>;</div>
<div class="line"><a name="l07341"></a><span class="lineno"> 7341</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[1] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152aab0751c8895d224e37904a23bc625efa">TARGET_UNIT_NEARBY_ENTRY</a>;</div>
<div class="line"><a name="l07342"></a><span class="lineno"> 7342</span>&#160;        spellInfo-&gt;AttributesEx2 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><a name="l07343"></a><span class="lineno"> 7343</span>&#160;    });</div>
<div class="line"><a name="l07344"></a><span class="lineno"> 7344</span>&#160; </div>
<div class="line"><a name="l07345"></a><span class="lineno"> 7345</span>&#160;    <span class="comment">// Light Bonfire (DND)</span></div>
<div class="line"><a name="l07346"></a><span class="lineno"> 7346</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 29831 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07347"></a><span class="lineno"> 7347</span>&#160;    {</div>
<div class="line"><a name="l07348"></a><span class="lineno"> 7348</span>&#160;        spellInfo-&gt;AttributesEx2 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><a name="l07349"></a><span class="lineno"> 7349</span>&#160;    });</div>
<div class="line"><a name="l07350"></a><span class="lineno"> 7350</span>&#160; </div>
<div class="line"><a name="l07351"></a><span class="lineno"> 7351</span>&#160;    <span class="comment">// Infernal</span></div>
<div class="line"><a name="l07352"></a><span class="lineno"> 7352</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 33240 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07353"></a><span class="lineno"> 7353</span>&#160;    {</div>
<div class="line"><a name="l07354"></a><span class="lineno"> 7354</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a036a2b93df9713482bdbf62afd6d07cd">TARGET_DEST_TARGET_ANY</a>;</div>
<div class="line"><a name="l07355"></a><span class="lineno"> 7355</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77a8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>;</div>
<div class="line"><a name="l07356"></a><span class="lineno"> 7356</span>&#160;        spellInfo-&gt;EffectImplicitTargetA[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77af927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>;</div>
<div class="line"><a name="l07357"></a><span class="lineno"> 7357</span>&#160;    });</div>
<div class="line"><a name="l07358"></a><span class="lineno"> 7358</span>&#160; </div>
<div class="line"><a name="l07359"></a><span class="lineno"> 7359</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({</div>
<div class="line"><a name="l07360"></a><span class="lineno"> 7360</span>&#160;        47476,  <span class="comment">// Deathknight - Strangulate</span></div>
<div class="line"><a name="l07361"></a><span class="lineno"> 7361</span>&#160;        15487,  <span class="comment">// Priest - Silence</span></div>
<div class="line"><a name="l07362"></a><span class="lineno"> 7362</span>&#160;        5211,   <span class="comment">// Druid - Bash  - R1</span></div>
<div class="line"><a name="l07363"></a><span class="lineno"> 7363</span>&#160;        6798,   <span class="comment">// Druid - Bash  - R2</span></div>
<div class="line"><a name="l07364"></a><span class="lineno"> 7364</span>&#160;        8983    <span class="comment">// Druid - Bash  - R3</span></div>
<div class="line"><a name="l07365"></a><span class="lineno"> 7365</span>&#160;        }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07366"></a><span class="lineno"> 7366</span>&#160;    {</div>
<div class="line"><a name="l07367"></a><span class="lineno"> 7367</span>&#160;        spellInfo-&gt;AttributesEx7 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a25ff5d34ce79433dfc852484cef1d47da1af4b997048db75a09fe4b1593b4d154">SPELL_ATTR7_CAN_CAUSE_INTERRUPT</a>;</div>
<div class="line"><a name="l07368"></a><span class="lineno"> 7368</span>&#160;    });</div>
<div class="line"><a name="l07369"></a><span class="lineno"> 7369</span>&#160; </div>
<div class="line"><a name="l07370"></a><span class="lineno"> 7370</span>&#160;    <span class="comment">// Ritual of Summoning</span></div>
<div class="line"><a name="l07371"></a><span class="lineno"> 7371</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 61994 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07372"></a><span class="lineno"> 7372</span>&#160;    {</div>
<div class="line"><a name="l07373"></a><span class="lineno"> 7373</span>&#160;        spellInfo-&gt;ManaCostPercentage = 0; <span class="comment">// Clicking on Warlock Summoning portal should not require mana</span></div>
<div class="line"><a name="l07374"></a><span class="lineno"> 7374</span>&#160;    });</div>
<div class="line"><a name="l07375"></a><span class="lineno"> 7375</span>&#160; </div>
<div class="line"><a name="l07376"></a><span class="lineno"> 7376</span>&#160;    <span class="comment">// Shadowmeld</span></div>
<div class="line"><a name="l07377"></a><span class="lineno"> 7377</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 58984 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07378"></a><span class="lineno"> 7378</span>&#160;    {</div>
<div class="line"><a name="l07379"></a><span class="lineno"> 7379</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81afd31a3efb01e11ee685cd0cac502b9ac">SPELL_ATTR3_ONLY_ON_PLAYER</a>;</div>
<div class="line"><a name="l07380"></a><span class="lineno"> 7380</span>&#160;    });</div>
<div class="line"><a name="l07381"></a><span class="lineno"> 7381</span>&#160; </div>
<div class="line"><a name="l07382"></a><span class="lineno"> 7382</span>&#160;    <span class="comment">// Flare activation speed</span></div>
<div class="line"><a name="l07383"></a><span class="lineno"> 7383</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 1543 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07384"></a><span class="lineno"> 7384</span>&#160;    {</div>
<div class="line"><a name="l07385"></a><span class="lineno"> 7385</span>&#160;        spellInfo-&gt;Speed = 0.0f;</div>
<div class="line"><a name="l07386"></a><span class="lineno"> 7386</span>&#160;    });</div>
<div class="line"><a name="l07387"></a><span class="lineno"> 7387</span>&#160; </div>
<div class="line"><a name="l07388"></a><span class="lineno"> 7388</span>&#160;    <span class="comment">// Light&#39;s Beacon</span></div>
<div class="line"><a name="l07389"></a><span class="lineno"> 7389</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 53651 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07390"></a><span class="lineno"> 7390</span>&#160;    {</div>
<div class="line"><a name="l07391"></a><span class="lineno"> 7391</span>&#160;        spellInfo-&gt;AttributesEx |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a638f8f550e23b2e3180b481bb3f38076a02166cd30d63804b4175bdfe29ffd068">SPELL_ATTR1_NO_THREAT</a>;</div>
<div class="line"><a name="l07392"></a><span class="lineno"> 7392</span>&#160;    });</div>
<div class="line"><a name="l07393"></a><span class="lineno"> 7393</span>&#160; </div>
<div class="line"><a name="l07394"></a><span class="lineno"> 7394</span>&#160;    <span class="comment">// Shadow Hunter Vosh&#39;gajin - Hex</span></div>
<div class="line"><a name="l07395"></a><span class="lineno"> 7395</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 16097 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07396"></a><span class="lineno"> 7396</span>&#160;    {</div>
<div class="line"><a name="l07397"></a><span class="lineno"> 7397</span>&#160;        spellInfo-&gt;CastingTimeIndex = 16;</div>
<div class="line"><a name="l07398"></a><span class="lineno"> 7398</span>&#160;    });</div>
<div class="line"><a name="l07399"></a><span class="lineno"> 7399</span>&#160; </div>
<div class="line"><a name="l07400"></a><span class="lineno"> 7400</span>&#160;    <span class="comment">// Sacred Cleansing</span></div>
<div class="line"><a name="l07401"></a><span class="lineno"> 7401</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 53659 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07402"></a><span class="lineno"> 7402</span>&#160;    {</div>
<div class="line"><a name="l07403"></a><span class="lineno"> 7403</span>&#160;        spellInfo-&gt;RangeIndex = 5; <span class="comment">// 40yd</span></div>
<div class="line"><a name="l07404"></a><span class="lineno"> 7404</span>&#160;    });</div>
<div class="line"><a name="l07405"></a><span class="lineno"> 7405</span>&#160; </div>
<div class="line"><a name="l07406"></a><span class="lineno"> 7406</span>&#160;    <span class="comment">// Silithyst</span></div>
<div class="line"><a name="l07407"></a><span class="lineno"> 7407</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 29519 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07408"></a><span class="lineno"> 7408</span>&#160;    {</div>
<div class="line"><a name="l07409"></a><span class="lineno"> 7409</span>&#160;        spellInfo-&gt;EffectApplyAuraName[0] = <a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799ab3987db9e154ae9a2086efb43e5af610">SPELL_AURA_MOD_DECREASE_SPEED</a>;</div>
<div class="line"><a name="l07410"></a><span class="lineno"> 7410</span>&#160;        spellInfo-&gt;EffectBasePoints[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = -25;</div>
<div class="line"><a name="l07411"></a><span class="lineno"> 7411</span>&#160;    });</div>
<div class="line"><a name="l07412"></a><span class="lineno"> 7412</span>&#160; </div>
<div class="line"><a name="l07413"></a><span class="lineno"> 7413</span>&#160;    <span class="comment">// Focused Eyebeam Summon Trigger</span></div>
<div class="line"><a name="l07414"></a><span class="lineno"> 7414</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 63342 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07415"></a><span class="lineno"> 7415</span>&#160;    {</div>
<div class="line"><a name="l07416"></a><span class="lineno"> 7416</span>&#160;        spellInfo-&gt;MaxAffectedTargets = 1;</div>
<div class="line"><a name="l07417"></a><span class="lineno"> 7417</span>&#160;        spellInfo-&gt;EffectImplicitTargetB[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = 0;</div>
<div class="line"><a name="l07418"></a><span class="lineno"> 7418</span>&#160;    });</div>
<div class="line"><a name="l07419"></a><span class="lineno"> 7419</span>&#160; </div>
<div class="line"><a name="l07420"></a><span class="lineno"> 7420</span>&#160;    <span class="comment">// Luffa</span></div>
<div class="line"><a name="l07421"></a><span class="lineno"> 7421</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 23595 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07422"></a><span class="lineno"> 7422</span>&#160;    {</div>
<div class="line"><a name="l07423"></a><span class="lineno"> 7423</span>&#160;        spellInfo-&gt;EffectBasePoints[<a class="code" href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = 1; <span class="comment">// Remove only 1 bleed effect</span></div>
<div class="line"><a name="l07424"></a><span class="lineno"> 7424</span>&#160;    });</div>
<div class="line"><a name="l07425"></a><span class="lineno"> 7425</span>&#160; </div>
<div class="line"><a name="l07426"></a><span class="lineno"> 7426</span>&#160;    <span class="comment">// Eye of Kilrogg Passive (DND)</span></div>
<div class="line"><a name="l07427"></a><span class="lineno"> 7427</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 2585 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07428"></a><span class="lineno"> 7428</span>&#160;    {</div>
<div class="line"><a name="l07429"></a><span class="lineno"> 7429</span>&#160;        spellInfo-&gt;AuraInterruptFlags |= <a class="code" href="../../d5/d32/_unit_8h.html#a0709fc3ab848cf1b8b4853813b8fe011a79d42b7d97460b52fe46d9bc3c288a15">AURA_INTERRUPT_FLAG_HITBYSPELL</a> | <a class="code" href="../../d5/d32/_unit_8h.html#a0709fc3ab848cf1b8b4853813b8fe011a043102900f6d0a56c4ba2aaf151fa41a">AURA_INTERRUPT_FLAG_TAKE_DAMAGE</a>;</div>
<div class="line"><a name="l07430"></a><span class="lineno"> 7430</span>&#160;    });</div>
<div class="line"><a name="l07431"></a><span class="lineno"> 7431</span>&#160; </div>
<div class="line"><a name="l07432"></a><span class="lineno"> 7432</span>&#160;    <span class="comment">// Conflagration, Horseman&#39;s Cleave</span></div>
<div class="line"><a name="l07433"></a><span class="lineno"> 7433</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 42380, 42587 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07434"></a><span class="lineno"> 7434</span>&#160;    {</div>
<div class="line"><a name="l07435"></a><span class="lineno"> 7435</span>&#160;        spellInfo-&gt;AttributesEx3 |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a>;</div>
<div class="line"><a name="l07436"></a><span class="lineno"> 7436</span>&#160;    });</div>
<div class="line"><a name="l07437"></a><span class="lineno"> 7437</span>&#160; </div>
<div class="line"><a name="l07438"></a><span class="lineno"> 7438</span>&#160;    <span class="comment">// Ashenvale Outrunner Sneak</span></div>
<div class="line"><a name="l07439"></a><span class="lineno"> 7439</span>&#160;    <span class="comment">// Stealth</span></div>
<div class="line"><a name="l07440"></a><span class="lineno"> 7440</span>&#160;    <a class="code" href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a>({ 20540, 32199 }, [](<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo)</div>
<div class="line"><a name="l07441"></a><span class="lineno"> 7441</span>&#160;    {</div>
<div class="line"><a name="l07442"></a><span class="lineno"> 7442</span>&#160;        spellInfo-&gt;AuraInterruptFlags |= (<a class="code" href="../../d5/d32/_unit_8h.html#a0709fc3ab848cf1b8b4853813b8fe011a9981d97f2b5d8a186a68b0199a8f1f37">AURA_INTERRUPT_FLAG_MELEE_ATTACK</a> | <a class="code" href="../../d5/d32/_unit_8h.html#a0709fc3ab848cf1b8b4853813b8fe011a38784f17276304852dbc8f4e22b285d2">AURA_INTERRUPT_FLAG_CAST</a>);</div>
<div class="line"><a name="l07443"></a><span class="lineno"> 7443</span>&#160;    });</div>
<div class="line"><a name="l07444"></a><span class="lineno"> 7444</span>&#160; </div>
<div class="line"><a name="l07445"></a><span class="lineno"> 7445</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#a6b52d1b78ae2ba2dd3a2b58a33f8dbc1">sSpellStore</a>.GetNumRows(); ++i)</div>
<div class="line"><a name="l07446"></a><span class="lineno"> 7446</span>&#160;    {</div>
<div class="line"><a name="l07447"></a><span class="lineno"> 7447</span>&#160;        <a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo = (<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>*)<a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#a6b52d1b78ae2ba2dd3a2b58a33f8dbc1">sSpellStore</a>.LookupEntry(i);</div>
<div class="line"><a name="l07448"></a><span class="lineno"> 7448</span>&#160;        <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><a name="l07449"></a><span class="lineno"> 7449</span>&#160;        {</div>
<div class="line"><a name="l07450"></a><span class="lineno"> 7450</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l07451"></a><span class="lineno"> 7451</span>&#160;        }</div>
<div class="line"><a name="l07452"></a><span class="lineno"> 7452</span>&#160; </div>
<div class="line"><a name="l07453"></a><span class="lineno"> 7453</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code" href="../../d1/d22/_d_b_c_structure_8h.html#ac5733f5b58bf8a23a1919a005b5ec895">MAX_SPELL_EFFECTS</a>; ++j)</div>
<div class="line"><a name="l07454"></a><span class="lineno"> 7454</span>&#160;        {</div>
<div class="line"><a name="l07455"></a><span class="lineno"> 7455</span>&#160;            <span class="keywordflow">switch</span> (spellInfo-&gt;<a class="code" href="../../df/db0/struct_spell_entry.html#a9b37b50c55d7a887d61805e6197bfa21">Effect</a>[j])</div>
<div class="line"><a name="l07456"></a><span class="lineno"> 7456</span>&#160;            {</div>
<div class="line"><a name="l07457"></a><span class="lineno"> 7457</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97ab9f95780d14ce3a3d80b05f6955a5814">SPELL_EFFECT_CHARGE</a>:</div>
<div class="line"><a name="l07458"></a><span class="lineno"> 7458</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97ac9e93e2be484a200e2198e609ca8224e">SPELL_EFFECT_CHARGE_DEST</a>:</div>
<div class="line"><a name="l07459"></a><span class="lineno"> 7459</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97adca1c3aa0e67875dd6c075066aafe6b9">SPELL_EFFECT_JUMP</a>:</div>
<div class="line"><a name="l07460"></a><span class="lineno"> 7460</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a6b546cbd034b7414776e260f8431789b">SPELL_EFFECT_JUMP_DEST</a>:</div>
<div class="line"><a name="l07461"></a><span class="lineno"> 7461</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97aa47feeee8d69d2aba0e176f2573c095d">SPELL_EFFECT_LEAP_BACK</a>:</div>
<div class="line"><a name="l07462"></a><span class="lineno"> 7462</span>&#160;                    <span class="keywordflow">if</span> (!spellInfo-&gt;<a class="code" href="../../df/db0/struct_spell_entry.html#a62165a7f4eab3c64302fc33d3ba9577c">Speed</a> &amp;&amp; !spellInfo-&gt;<a class="code" href="../../df/db0/struct_spell_entry.html#af1586de0e99ed09fbd805fa4a09f2c6c">SpellFamilyName</a>)</div>
<div class="line"><a name="l07463"></a><span class="lineno"> 7463</span>&#160;                    {</div>
<div class="line"><a name="l07464"></a><span class="lineno"> 7464</span>&#160;                        spellInfo-&gt;<a class="code" href="../../df/db0/struct_spell_entry.html#a62165a7f4eab3c64302fc33d3ba9577c">Speed</a> = <a class="code" href="../../d8/dea/_motion_master_8h.html#a6386d0a4b64b17a25a60627bb55b360c">SPEED_CHARGE</a>;</div>
<div class="line"><a name="l07465"></a><span class="lineno"> 7465</span>&#160;                    }</div>
<div class="line"><a name="l07466"></a><span class="lineno"> 7466</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07467"></a><span class="lineno"> 7467</span>&#160;            }</div>
<div class="line"><a name="l07468"></a><span class="lineno"> 7468</span>&#160; </div>
<div class="line"><a name="l07469"></a><span class="lineno"> 7469</span>&#160;            <span class="comment">// Xinef: i hope this will fix the problem with not working resurrection</span></div>
<div class="line"><a name="l07470"></a><span class="lineno"> 7470</span>&#160;            <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code" href="../../df/db0/struct_spell_entry.html#a9b37b50c55d7a887d61805e6197bfa21">Effect</a>[j] == <a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a1ab15c363eaea4e2bc8d7f8fc0c564cf">SPELL_EFFECT_SELF_RESURRECT</a>)</div>
<div class="line"><a name="l07471"></a><span class="lineno"> 7471</span>&#160;            {</div>
<div class="line"><a name="l07472"></a><span class="lineno"> 7472</span>&#160;                spellInfo-&gt;<a class="code" href="../../df/db0/struct_spell_entry.html#a547483232364773502ba3fdf0a7237c0">EffectImplicitTargetA</a>[j] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>;</div>
<div class="line"><a name="l07473"></a><span class="lineno"> 7473</span>&#160;            }</div>
<div class="line"><a name="l07474"></a><span class="lineno"> 7474</span>&#160;        }</div>
<div class="line"><a name="l07475"></a><span class="lineno"> 7475</span>&#160; </div>
<div class="line"><a name="l07476"></a><span class="lineno"> 7476</span>&#160;        <span class="comment">// Xinef: Fix range for trajectories and triggered spells</span></div>
<div class="line"><a name="l07477"></a><span class="lineno"> 7477</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; 3; ++j)</div>
<div class="line"><a name="l07478"></a><span class="lineno"> 7478</span>&#160;        {</div>
<div class="line"><a name="l07479"></a><span class="lineno"> 7479</span>&#160;            <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code" href="../../df/db0/struct_spell_entry.html#ab86d322f1d93ac576495af45e442b0ee">RangeIndex</a> == 1 &amp;&amp; (spellInfo-&gt;<a class="code" href="../../df/db0/struct_spell_entry.html#a547483232364773502ba3fdf0a7237c0">EffectImplicitTargetA</a>[j] == <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a9125b12d356a5389b0e8071ea5854423">TARGET_DEST_TRAJ</a> || spellInfo-&gt;<a class="code" href="../../df/db0/struct_spell_entry.html#a81f2eff2ef43cb7016ed573c8e0254fa">EffectImplicitTargetB</a>[j] == <a class="code" href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a9125b12d356a5389b0e8071ea5854423">TARGET_DEST_TRAJ</a>))</div>
<div class="line"><a name="l07480"></a><span class="lineno"> 7480</span>&#160;            {</div>
<div class="line"><a name="l07481"></a><span class="lineno"> 7481</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>* spellInfo2 = (<a class="code" href="../../df/db0/struct_spell_entry.html">SpellEntry</a>*)<a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#a6b52d1b78ae2ba2dd3a2b58a33f8dbc1">sSpellStore</a>.LookupEntry(spellInfo-&gt;<a class="code" href="../../df/db0/struct_spell_entry.html#a2a76a4db284742bee6b7293fb291c18d">EffectTriggerSpell</a>[j]))</div>
<div class="line"><a name="l07482"></a><span class="lineno"> 7482</span>&#160;                {</div>
<div class="line"><a name="l07483"></a><span class="lineno"> 7483</span>&#160;                    spellInfo2-&gt;RangeIndex = 187; <span class="comment">// 300yd</span></div>
<div class="line"><a name="l07484"></a><span class="lineno"> 7484</span>&#160;                }</div>
<div class="line"><a name="l07485"></a><span class="lineno"> 7485</span>&#160;            }</div>
<div class="line"><a name="l07486"></a><span class="lineno"> 7486</span>&#160;        }</div>
<div class="line"><a name="l07487"></a><span class="lineno"> 7487</span>&#160; </div>
<div class="line"><a name="l07488"></a><span class="lineno"> 7488</span>&#160;        <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code" href="../../df/db0/struct_spell_entry.html#a60af17b22d7c7fe6266828c70bb94aa7">ActiveIconID</a> == 2158)  <span class="comment">// flight</span></div>
<div class="line"><a name="l07489"></a><span class="lineno"> 7489</span>&#160;        {</div>
<div class="line"><a name="l07490"></a><span class="lineno"> 7490</span>&#160;            spellInfo-&gt;<a class="code" href="../../df/db0/struct_spell_entry.html#a7a2226ccf62201d46c40b90ac7d35305">Attributes</a> |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada407e023ed336f3c64aa20f11dd49f6bd">SPELL_ATTR0_PASSIVE</a>;</div>
<div class="line"><a name="l07491"></a><span class="lineno"> 7491</span>&#160;        }</div>
<div class="line"><a name="l07492"></a><span class="lineno"> 7492</span>&#160; </div>
<div class="line"><a name="l07493"></a><span class="lineno"> 7493</span>&#160;        <span class="keywordflow">switch</span> (spellInfo-&gt;<a class="code" href="../../df/db0/struct_spell_entry.html#af1586de0e99ed09fbd805fa4a09f2c6c">SpellFamilyName</a>)</div>
<div class="line"><a name="l07494"></a><span class="lineno"> 7494</span>&#160;        {</div>
<div class="line"><a name="l07495"></a><span class="lineno"> 7495</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba573f9ad8924e7632156291378448e742">SPELLFAMILY_PALADIN</a>:</div>
<div class="line"><a name="l07496"></a><span class="lineno"> 7496</span>&#160;                <span class="comment">// Seals of the Pure should affect Seal of Righteousness</span></div>
<div class="line"><a name="l07497"></a><span class="lineno"> 7497</span>&#160;                <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code" href="../../df/db0/struct_spell_entry.html#aadb41c294565428ff67a9a137d01465a">SpellIconID</a> == 25 &amp;&amp; (spellInfo-&gt;<a class="code" href="../../df/db0/struct_spell_entry.html#a7a2226ccf62201d46c40b90ac7d35305">Attributes</a> &amp; <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada407e023ed336f3c64aa20f11dd49f6bd">SPELL_ATTR0_PASSIVE</a>))</div>
<div class="line"><a name="l07498"></a><span class="lineno"> 7498</span>&#160;                    spellInfo-&gt;<a class="code" href="../../df/db0/struct_spell_entry.html#a0950ec765d6abb0b737183efbeb3453b">EffectSpellClassMask</a>[0][1] |= 0x20000000;</div>
<div class="line"><a name="l07499"></a><span class="lineno"> 7499</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07500"></a><span class="lineno"> 7500</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1badc34b27f2cd523716d80c51d4e1d6f02">SPELLFAMILY_DEATHKNIGHT</a>:</div>
<div class="line"><a name="l07501"></a><span class="lineno"> 7501</span>&#160;                <span class="comment">// Icy Touch - extend FamilyFlags (unused value) for Sigil of the Frozen Conscience to use</span></div>
<div class="line"><a name="l07502"></a><span class="lineno"> 7502</span>&#160;                <a class="code" href="../../da/dc1/server_2authserver_2_c_make_lists_8txt.html#ae49ace5a5c7d5c9ec887c2686409e695">if</a> (spellInfo-&gt;<a class="code" href="../../df/db0/struct_spell_entry.html#aadb41c294565428ff67a9a137d01465a">SpellIconID</a> == 2721 &amp;&amp; spellInfo-&gt;<a class="code" href="../../df/db0/struct_spell_entry.html#a23817f680dd3a26ecbb5d98796eaf8b0">SpellFamilyFlags</a>[0] &amp; 0x2)</div>
<div class="line"><a name="l07503"></a><span class="lineno"> 7503</span>&#160;                    spellInfo-&gt;<a class="code" href="../../df/db0/struct_spell_entry.html#a23817f680dd3a26ecbb5d98796eaf8b0">SpellFamilyFlags</a>[0] |= 0x40;</div>
<div class="line"><a name="l07504"></a><span class="lineno"> 7504</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07505"></a><span class="lineno"> 7505</span>&#160;        }</div>
<div class="line"><a name="l07506"></a><span class="lineno"> 7506</span>&#160; </div>
<div class="line"><a name="l07507"></a><span class="lineno"> 7507</span>&#160;        <span class="comment">// Recklessness/Shield Wall/Retaliation</span></div>
<div class="line"><a name="l07508"></a><span class="lineno"> 7508</span>&#160;        <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code" href="../../df/db0/struct_spell_entry.html#ac553667d97b29d8ad7e682d4c55e4263">Category</a> == 132 &amp;&amp; spellInfo-&gt;<a class="code" href="../../df/db0/struct_spell_entry.html#af1586de0e99ed09fbd805fa4a09f2c6c">SpellFamilyName</a> == <a class="code" href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba52acbcf14a96b5ed01b8a43052a26a11">SPELLFAMILY_WARRIOR</a>)</div>
<div class="line"><a name="l07509"></a><span class="lineno"> 7509</span>&#160;        {</div>
<div class="line"><a name="l07510"></a><span class="lineno"> 7510</span>&#160;            spellInfo-&gt;<a class="code" href="../../df/db0/struct_spell_entry.html#aa4dfa84772701d0b9a1cb5bb1fd0f590">AttributesEx6</a> |= <a class="code" href="../../df/d0b/_shared_defines_8h.html#afc0226d0611e178e6edb4d2776e03094ac83bf4647c4ce691b6e207712e286c98">SPELL_ATTR6_NO_CATEGORY_COOLDOWN_MODS</a>;</div>
<div class="line"><a name="l07511"></a><span class="lineno"> 7511</span>&#160;        }</div>
<div class="line"><a name="l07512"></a><span class="lineno"> 7512</span>&#160;    }</div>
<div class="line"><a name="l07513"></a><span class="lineno"> 7513</span>&#160; </div>
<div class="line"><a name="l07514"></a><span class="lineno"> 7514</span>&#160;    <span class="comment">// Xinef: The Veiled Sea area in outlands (Draenei zone), client blocks casting flying mounts</span></div>
<div class="line"><a name="l07515"></a><span class="lineno"> 7515</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#ac462c4dbc09104eef6a08a7b160c0406">sAreaTableStore</a>.GetNumRows(); ++i)</div>
<div class="line"><a name="l07516"></a><span class="lineno"> 7516</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/d6a/struct_area_table_entry.html">AreaTableEntry</a>* areaEntry = <span class="keyword">const_cast&lt;</span><a class="code" href="../../d9/d6a/struct_area_table_entry.html">AreaTableEntry</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#ac462c4dbc09104eef6a08a7b160c0406">sAreaTableStore</a>.LookupEntry(i)))</div>
<div class="line"><a name="l07517"></a><span class="lineno"> 7517</span>&#160;        {</div>
<div class="line"><a name="l07518"></a><span class="lineno"> 7518</span>&#160;            <span class="keywordflow">if</span> (areaEntry-&gt;ID == 3479)</div>
<div class="line"><a name="l07519"></a><span class="lineno"> 7519</span>&#160;                areaEntry-&gt;flags |= <a class="code" href="../../dc/d6e/_d_b_c_enums_8h.html#ab8e24c5cd27834059bb62c245412fe72afabf36ba773b9f7fbe87f43bcd173128">AREA_FLAG_NO_FLY_ZONE</a>;</div>
<div class="line"><a name="l07520"></a><span class="lineno"> 7520</span>&#160;            <span class="comment">// Xinef: Dun Morogh, Kharanos tavern, missing resting flag</span></div>
<div class="line"><a name="l07521"></a><span class="lineno"> 7521</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (areaEntry-&gt;ID == 2102)</div>
<div class="line"><a name="l07522"></a><span class="lineno"> 7522</span>&#160;                areaEntry-&gt;flags |= <a class="code" href="../../dc/d6e/_d_b_c_enums_8h.html#ab8e24c5cd27834059bb62c245412fe72a23fb0fc9da18f714bdfa8400f314bbcd">AREA_FLAG_REST_ZONE_ALLIANCE</a>;</div>
<div class="line"><a name="l07523"></a><span class="lineno"> 7523</span>&#160;        }</div>
<div class="line"><a name="l07524"></a><span class="lineno"> 7524</span>&#160; </div>
<div class="line"><a name="l07525"></a><span class="lineno"> 7525</span>&#160;    <span class="comment">// Xinef: fix for something?</span></div>
<div class="line"><a name="l07526"></a><span class="lineno"> 7526</span>&#160;    <a class="code" href="../../dc/da8/struct_summon_properties_entry.html">SummonPropertiesEntry</a>* properties = <span class="keyword">const_cast&lt;</span><a class="code" href="../../dc/da8/struct_summon_properties_entry.html">SummonPropertiesEntry</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#ab1c80e434031e07ffd42dc18640e5b26">sSummonPropertiesStore</a>.LookupEntry(121));</div>
<div class="line"><a name="l07527"></a><span class="lineno"> 7527</span>&#160;    properties-&gt;<a class="code" href="../../dc/da8/struct_summon_properties_entry.html#aa1cbad19aaa973e21fdbd74cec5119f6">Type</a> = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a839e74faedbcc472cd6a757aab737113a63b874f968b32c4ddd8f22c82f24cb77">SUMMON_TYPE_TOTEM</a>;</div>
<div class="line"><a name="l07528"></a><span class="lineno"> 7528</span>&#160;    properties = <span class="keyword">const_cast&lt;</span><a class="code" href="../../dc/da8/struct_summon_properties_entry.html">SummonPropertiesEntry</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#ab1c80e434031e07ffd42dc18640e5b26">sSummonPropertiesStore</a>.LookupEntry(647)); <span class="comment">// 52893</span></div>
<div class="line"><a name="l07529"></a><span class="lineno"> 7529</span>&#160;    properties-&gt;<a class="code" href="../../dc/da8/struct_summon_properties_entry.html#aa1cbad19aaa973e21fdbd74cec5119f6">Type</a> = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a839e74faedbcc472cd6a757aab737113a63b874f968b32c4ddd8f22c82f24cb77">SUMMON_TYPE_TOTEM</a>;</div>
<div class="line"><a name="l07530"></a><span class="lineno"> 7530</span>&#160;    <span class="keywordflow">if</span> ((properties = <span class="keyword">const_cast&lt;</span><a class="code" href="../../dc/da8/struct_summon_properties_entry.html">SummonPropertiesEntry</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#ab1c80e434031e07ffd42dc18640e5b26">sSummonPropertiesStore</a>.LookupEntry(628)))) <span class="comment">// Hungry Plaguehound</span></div>
<div class="line"><a name="l07531"></a><span class="lineno"> 7531</span>&#160;    {</div>
<div class="line"><a name="l07532"></a><span class="lineno"> 7532</span>&#160;        properties-&gt;<a class="code" href="../../dc/da8/struct_summon_properties_entry.html#acd933f251a1faa1f705420307136681d">Category</a> = <a class="code" href="../../df/d0b/_shared_defines_8h.html#aec2f46e883369a535607f981c323c094a7e4ba700ac08e92a5bd292b5c3507c0e">SUMMON_CATEGORY_PET</a>;</div>
<div class="line"><a name="l07533"></a><span class="lineno"> 7533</span>&#160;        properties-&gt;<a class="code" href="../../dc/da8/struct_summon_properties_entry.html#aa1cbad19aaa973e21fdbd74cec5119f6">Type</a> = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a839e74faedbcc472cd6a757aab737113a5ecdc307f5433058af97e64b5375411e">SUMMON_TYPE_PET</a>;</div>
<div class="line"><a name="l07534"></a><span class="lineno"> 7534</span>&#160;    }</div>
<div class="line"><a name="l07535"></a><span class="lineno"> 7535</span>&#160; </div>
<div class="line"><a name="l07536"></a><span class="lineno"> 7536</span>&#160;    <span class="comment">// Correct Pet Size</span></div>
<div class="line"><a name="l07537"></a><span class="lineno"> 7537</span>&#160;    <a class="code" href="../../d4/d0d/struct_creature_display_info_entry.html">CreatureDisplayInfoEntry</a>* displayEntry = <span class="keyword">const_cast&lt;</span><a class="code" href="../../d4/d0d/struct_creature_display_info_entry.html">CreatureDisplayInfoEntry</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#a860d9f63088882fd71c93cc5048d4f8a">sCreatureDisplayInfoStore</a>.LookupEntry(17028)); <span class="comment">// Kurken</span></div>
<div class="line"><a name="l07538"></a><span class="lineno"> 7538</span>&#160;    displayEntry-&gt;<a class="code" href="../../d4/d0d/struct_creature_display_info_entry.html#ae15b89669bf5d711cc57c21d8c8be0dd">scale</a> = 2.5f;</div>
<div class="line"><a name="l07539"></a><span class="lineno"> 7539</span>&#160; </div>
<div class="line"><a name="l07540"></a><span class="lineno"> 7540</span>&#160;    <span class="comment">// Oracles and Frenzyheart faction</span></div>
<div class="line"><a name="l07541"></a><span class="lineno"> 7541</span>&#160;    <a class="code" href="../../d0/d40/struct_faction_entry.html">FactionEntry</a>* factionEntry = <span class="keyword">const_cast&lt;</span><a class="code" href="../../d0/d40/struct_faction_entry.html">FactionEntry</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#a6f79a9658f29641b0ae27738de47d03f">sFactionStore</a>.LookupEntry(1104));</div>
<div class="line"><a name="l07542"></a><span class="lineno"> 7542</span>&#160;    factionEntry-&gt;<a class="code" href="../../d0/d40/struct_faction_entry.html#ae23a3c94554b2043928d6e1ea748e709">ReputationFlags</a>[0] = 0;</div>
<div class="line"><a name="l07543"></a><span class="lineno"> 7543</span>&#160;    factionEntry = <span class="keyword">const_cast&lt;</span><a class="code" href="../../d0/d40/struct_faction_entry.html">FactionEntry</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#a6f79a9658f29641b0ae27738de47d03f">sFactionStore</a>.LookupEntry(1105));</div>
<div class="line"><a name="l07544"></a><span class="lineno"> 7544</span>&#160;    factionEntry-&gt;<a class="code" href="../../d0/d40/struct_faction_entry.html#ae23a3c94554b2043928d6e1ea748e709">ReputationFlags</a>[0] = 0;</div>
<div class="line"><a name="l07545"></a><span class="lineno"> 7545</span>&#160; </div>
<div class="line"><a name="l07546"></a><span class="lineno"> 7546</span>&#160;    <span class="comment">// Various factions, added 14, 16 to hostile mask</span></div>
<div class="line"><a name="l07547"></a><span class="lineno"> 7547</span>&#160;    <a class="code" href="../../d1/df4/struct_faction_template_entry.html">FactionTemplateEntry</a>* factionTemplateEntry = <span class="keyword">const_cast&lt;</span><a class="code" href="../../d1/df4/struct_faction_template_entry.html">FactionTemplateEntry</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#a9fb3e8b4bb127d2dfd15d2a3094f47b4">sFactionTemplateStore</a>.LookupEntry(1978)); <span class="comment">// Warsong Offensive</span></div>
<div class="line"><a name="l07548"></a><span class="lineno"> 7548</span>&#160;    factionTemplateEntry-&gt;<a class="code" href="../../d1/df4/struct_faction_template_entry.html#ab395ab86c3e553ea4a9b1ae901c6e7cb">hostileMask</a> |= 8;</div>
<div class="line"><a name="l07549"></a><span class="lineno"> 7549</span>&#160;    factionTemplateEntry = <span class="keyword">const_cast&lt;</span><a class="code" href="../../d1/df4/struct_faction_template_entry.html">FactionTemplateEntry</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#a9fb3e8b4bb127d2dfd15d2a3094f47b4">sFactionTemplateStore</a>.LookupEntry(1921)); <span class="comment">// The Taunka</span></div>
<div class="line"><a name="l07550"></a><span class="lineno"> 7550</span>&#160;    factionTemplateEntry-&gt;<a class="code" href="../../d1/df4/struct_faction_template_entry.html#ab395ab86c3e553ea4a9b1ae901c6e7cb">hostileMask</a> |= 8;</div>
<div class="line"><a name="l07551"></a><span class="lineno"> 7551</span>&#160; </div>
<div class="line"><a name="l07552"></a><span class="lineno"> 7552</span>&#160;    <span class="comment">// Remove vehicles attr, making accessories selectable</span></div>
<div class="line"><a name="l07553"></a><span class="lineno"> 7553</span>&#160;    <a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html">VehicleSeatEntry</a>* vse = <span class="keyword">const_cast&lt;</span><a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html">VehicleSeatEntry</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#aa30e45fd2c4ba7d556b90286bc0d1f6a">sVehicleSeatStore</a>.LookupEntry(4689)); <span class="comment">// Siege Engine, Accessory</span></div>
<div class="line"><a name="l07554"></a><span class="lineno"> 7554</span>&#160;    vse-&gt;<a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html#afe02aa891cad80dff89156d138bad691">m_flags</a> &amp;= ~<a class="code" href="../../dc/d6e/_d_b_c_enums_8h.html#a1722a65e910763eaffb541de9d7001f5af229e11cfbfc1396b47f2c4a75b9a8e3">VEHICLE_SEAT_FLAG_PASSENGER_NOT_SELECTABLE</a>;</div>
<div class="line"><a name="l07555"></a><span class="lineno"> 7555</span>&#160;    vse = <span class="keyword">const_cast&lt;</span><a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html">VehicleSeatEntry</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#aa30e45fd2c4ba7d556b90286bc0d1f6a">sVehicleSeatStore</a>.LookupEntry(4692)); <span class="comment">// Siege Engine, Accessory</span></div>
<div class="line"><a name="l07556"></a><span class="lineno"> 7556</span>&#160;    vse-&gt;<a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html#afe02aa891cad80dff89156d138bad691">m_flags</a> &amp;= ~<a class="code" href="../../dc/d6e/_d_b_c_enums_8h.html#a1722a65e910763eaffb541de9d7001f5af229e11cfbfc1396b47f2c4a75b9a8e3">VEHICLE_SEAT_FLAG_PASSENGER_NOT_SELECTABLE</a>;</div>
<div class="line"><a name="l07557"></a><span class="lineno"> 7557</span>&#160;    vse = <span class="keyword">const_cast&lt;</span><a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html">VehicleSeatEntry</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#aa30e45fd2c4ba7d556b90286bc0d1f6a">sVehicleSeatStore</a>.LookupEntry(4693)); <span class="comment">// Siege Engine, Accessory</span></div>
<div class="line"><a name="l07558"></a><span class="lineno"> 7558</span>&#160;    vse-&gt;<a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html#afe02aa891cad80dff89156d138bad691">m_flags</a> &amp;= ~<a class="code" href="../../dc/d6e/_d_b_c_enums_8h.html#a1722a65e910763eaffb541de9d7001f5af229e11cfbfc1396b47f2c4a75b9a8e3">VEHICLE_SEAT_FLAG_PASSENGER_NOT_SELECTABLE</a>;</div>
<div class="line"><a name="l07559"></a><span class="lineno"> 7559</span>&#160;    vse = <span class="keyword">const_cast&lt;</span><a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html">VehicleSeatEntry</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#aa30e45fd2c4ba7d556b90286bc0d1f6a">sVehicleSeatStore</a>.LookupEntry(3011)); <span class="comment">// Salvaged Demolisher, Ulduar - not allow to change seats</span></div>
<div class="line"><a name="l07560"></a><span class="lineno"> 7560</span>&#160;    vse-&gt;<a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html#afe02aa891cad80dff89156d138bad691">m_flags</a> &amp;= ~<a class="code" href="../../dc/d6e/_d_b_c_enums_8h.html#a1722a65e910763eaffb541de9d7001f5a4dbbc818a561098bdc478c3afe0b2c67">VEHICLE_SEAT_FLAG_CAN_SWITCH</a>;</div>
<div class="line"><a name="l07561"></a><span class="lineno"> 7561</span>&#160;    vse = <span class="keyword">const_cast&lt;</span><a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html">VehicleSeatEntry</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#aa30e45fd2c4ba7d556b90286bc0d1f6a">sVehicleSeatStore</a>.LookupEntry(3077)); <span class="comment">// Salvaged Demolisher Seat, Ulduar - not allow to change seats</span></div>
<div class="line"><a name="l07562"></a><span class="lineno"> 7562</span>&#160;    vse-&gt;<a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html#afe02aa891cad80dff89156d138bad691">m_flags</a> &amp;= ~<a class="code" href="../../dc/d6e/_d_b_c_enums_8h.html#a1722a65e910763eaffb541de9d7001f5a4dbbc818a561098bdc478c3afe0b2c67">VEHICLE_SEAT_FLAG_CAN_SWITCH</a>;</div>
<div class="line"><a name="l07563"></a><span class="lineno"> 7563</span>&#160; </div>
<div class="line"><a name="l07564"></a><span class="lineno"> 7564</span>&#160;    <span class="comment">// pussywizard: fix z offset for some vehicles:</span></div>
<div class="line"><a name="l07565"></a><span class="lineno"> 7565</span>&#160;    vse = <span class="keyword">const_cast&lt;</span><a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html">VehicleSeatEntry</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#aa30e45fd2c4ba7d556b90286bc0d1f6a">sVehicleSeatStore</a>.LookupEntry(6206)); <span class="comment">// Marrowgar - Bone Spike</span></div>
<div class="line"><a name="l07566"></a><span class="lineno"> 7566</span>&#160;    vse-&gt;<a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html#adafa935d13af1effc9af02dc5bd3a774">m_attachmentOffsetZ</a> = 4.0f;</div>
<div class="line"><a name="l07567"></a><span class="lineno"> 7567</span>&#160;    vse = <span class="keyword">const_cast&lt;</span><a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html">VehicleSeatEntry</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#aa30e45fd2c4ba7d556b90286bc0d1f6a">sVehicleSeatStore</a>.LookupEntry(3806)); <span class="comment">// Mimiron - seat on VX-001 for ACU during last phase</span></div>
<div class="line"><a name="l07568"></a><span class="lineno"> 7568</span>&#160;    vse-&gt;<a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html#adafa935d13af1effc9af02dc5bd3a774">m_attachmentOffsetZ</a> = 15.0f;</div>
<div class="line"><a name="l07569"></a><span class="lineno"> 7569</span>&#160;    vse = <span class="keyword">const_cast&lt;</span><a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html">VehicleSeatEntry</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#aa30e45fd2c4ba7d556b90286bc0d1f6a">sVehicleSeatStore</a>.LookupEntry(3566)); <span class="comment">// Mimiron - Working seat</span></div>
<div class="line"><a name="l07570"></a><span class="lineno"> 7570</span>&#160;    vse-&gt;<a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html#a36d6a9668d3405ba7a226d8ed0281fe9">m_attachmentOffsetX</a> = -3.5f;</div>
<div class="line"><a name="l07571"></a><span class="lineno"> 7571</span>&#160;    vse-&gt;<a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html#a89803d79045aac9e38d46b2c1793665b">m_attachmentOffsetY</a> = 0.0f;</div>
<div class="line"><a name="l07572"></a><span class="lineno"> 7572</span>&#160;    vse = <span class="keyword">const_cast&lt;</span><a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html">VehicleSeatEntry</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#aa30e45fd2c4ba7d556b90286bc0d1f6a">sVehicleSeatStore</a>.LookupEntry(3567)); <span class="comment">// Mimiron - Working seat</span></div>
<div class="line"><a name="l07573"></a><span class="lineno"> 7573</span>&#160;    vse-&gt;<a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html#a36d6a9668d3405ba7a226d8ed0281fe9">m_attachmentOffsetX</a> = 2.3f;</div>
<div class="line"><a name="l07574"></a><span class="lineno"> 7574</span>&#160;    vse-&gt;<a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html#a89803d79045aac9e38d46b2c1793665b">m_attachmentOffsetY</a> = -2.3f;</div>
<div class="line"><a name="l07575"></a><span class="lineno"> 7575</span>&#160; </div>
<div class="line"><a name="l07576"></a><span class="lineno"> 7576</span>&#160;    <span class="comment">// Pilgrim&#39;s Bounty offsets</span></div>
<div class="line"><a name="l07577"></a><span class="lineno"> 7577</span>&#160;    vse = <span class="keyword">const_cast&lt;</span><a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html">VehicleSeatEntry</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#aa30e45fd2c4ba7d556b90286bc0d1f6a">sVehicleSeatStore</a>.LookupEntry(2841));</div>
<div class="line"><a name="l07578"></a><span class="lineno"> 7578</span>&#160;    vse-&gt;<a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html#a36d6a9668d3405ba7a226d8ed0281fe9">m_attachmentOffsetX</a> += 1.65f;</div>
<div class="line"><a name="l07579"></a><span class="lineno"> 7579</span>&#160;    vse-&gt;<a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html#a89803d79045aac9e38d46b2c1793665b">m_attachmentOffsetY</a> += 0.75f;</div>
<div class="line"><a name="l07580"></a><span class="lineno"> 7580</span>&#160;    vse = <span class="keyword">const_cast&lt;</span><a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html">VehicleSeatEntry</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#aa30e45fd2c4ba7d556b90286bc0d1f6a">sVehicleSeatStore</a>.LookupEntry(2842));</div>
<div class="line"><a name="l07581"></a><span class="lineno"> 7581</span>&#160;    vse-&gt;<a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html#a36d6a9668d3405ba7a226d8ed0281fe9">m_attachmentOffsetX</a> += 1.6f;</div>
<div class="line"><a name="l07582"></a><span class="lineno"> 7582</span>&#160;    vse-&gt;<a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html#a89803d79045aac9e38d46b2c1793665b">m_attachmentOffsetY</a> += -1.0f;</div>
<div class="line"><a name="l07583"></a><span class="lineno"> 7583</span>&#160;    vse = <span class="keyword">const_cast&lt;</span><a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html">VehicleSeatEntry</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#aa30e45fd2c4ba7d556b90286bc0d1f6a">sVehicleSeatStore</a>.LookupEntry(2843));</div>
<div class="line"><a name="l07584"></a><span class="lineno"> 7584</span>&#160;    vse-&gt;<a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html#a36d6a9668d3405ba7a226d8ed0281fe9">m_attachmentOffsetX</a> += -1.2f;</div>
<div class="line"><a name="l07585"></a><span class="lineno"> 7585</span>&#160;    vse-&gt;<a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html#a89803d79045aac9e38d46b2c1793665b">m_attachmentOffsetY</a> += 0.2f;</div>
<div class="line"><a name="l07586"></a><span class="lineno"> 7586</span>&#160;    vse = <span class="keyword">const_cast&lt;</span><a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html">VehicleSeatEntry</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#aa30e45fd2c4ba7d556b90286bc0d1f6a">sVehicleSeatStore</a>.LookupEntry(2844));</div>
<div class="line"><a name="l07587"></a><span class="lineno"> 7587</span>&#160;    vse-&gt;<a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html#a36d6a9668d3405ba7a226d8ed0281fe9">m_attachmentOffsetX</a> += -0.1f;</div>
<div class="line"><a name="l07588"></a><span class="lineno"> 7588</span>&#160;    vse-&gt;<a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html#a89803d79045aac9e38d46b2c1793665b">m_attachmentOffsetY</a> += -1.6f;</div>
<div class="line"><a name="l07589"></a><span class="lineno"> 7589</span>&#160;    vse = <span class="keyword">const_cast&lt;</span><a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html">VehicleSeatEntry</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#aa30e45fd2c4ba7d556b90286bc0d1f6a">sVehicleSeatStore</a>.LookupEntry(2845));</div>
<div class="line"><a name="l07590"></a><span class="lineno"> 7590</span>&#160;    vse-&gt;<a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html#a36d6a9668d3405ba7a226d8ed0281fe9">m_attachmentOffsetX</a> += 0.0f;</div>
<div class="line"><a name="l07591"></a><span class="lineno"> 7591</span>&#160;    vse-&gt;<a class="code" href="../../d1/d95/struct_vehicle_seat_entry.html#a89803d79045aac9e38d46b2c1793665b">m_attachmentOffsetY</a> += 1.6f;</div>
<div class="line"><a name="l07592"></a><span class="lineno"> 7592</span>&#160; </div>
<div class="line"><a name="l07593"></a><span class="lineno"> 7593</span>&#160;    <span class="comment">// Once Bitten, Twice Shy (10 player) - Icecrown Citadel</span></div>
<div class="line"><a name="l07594"></a><span class="lineno"> 7594</span>&#160;    <a class="code" href="../../d5/d06/struct_achievement_entry.html">AchievementEntry</a>* achievement = <span class="keyword">const_cast&lt;</span><a class="code" href="../../d5/d06/struct_achievement_entry.html">AchievementEntry</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#abd82905f37c92e877681ca78c0446cb4">sAchievementStore</a>.LookupEntry(4539));</div>
<div class="line"><a name="l07595"></a><span class="lineno"> 7595</span>&#160;    achievement-&gt;<a class="code" href="../../d5/d06/struct_achievement_entry.html#ab3d41381808c8bdc163554f7c46f6bc6">mapID</a> = 631;    <span class="comment">// Correct map requirement (currently has Ulduar)</span></div>
<div class="line"><a name="l07596"></a><span class="lineno"> 7596</span>&#160; </div>
<div class="line"><a name="l07597"></a><span class="lineno"> 7597</span>&#160;    <span class="comment">// Ring of Valor starting Locations</span></div>
<div class="line"><a name="l07598"></a><span class="lineno"> 7598</span>&#160;    <a class="code" href="../../d5/d7a/struct_graveyard_struct.html">GraveyardStruct</a> <span class="keyword">const</span>* entry = <a class="code" href="../../d4/d05/_game_graveyard_8h.html#ac68c2a63982a6142e1931450d7b6115c">sGraveyard</a>-&gt;GetGraveyard(1364);</div>
<div class="line"><a name="l07599"></a><span class="lineno"> 7599</span>&#160;    <span class="keyword">const_cast&lt;</span><a class="code" href="../../d5/d7a/struct_graveyard_struct.html">GraveyardStruct</a>*<span class="keyword">&gt;</span>(entry)-&gt;z += 6.0f;</div>
<div class="line"><a name="l07600"></a><span class="lineno"> 7600</span>&#160;    entry = <a class="code" href="../../d4/d05/_game_graveyard_8h.html#ac68c2a63982a6142e1931450d7b6115c">sGraveyard</a>-&gt;GetGraveyard(1365);</div>
<div class="line"><a name="l07601"></a><span class="lineno"> 7601</span>&#160;    <span class="keyword">const_cast&lt;</span><a class="code" href="../../d5/d7a/struct_graveyard_struct.html">GraveyardStruct</a>*<span class="keyword">&gt;</span>(entry)-&gt;z += 6.0f;</div>
<div class="line"><a name="l07602"></a><span class="lineno"> 7602</span>&#160; </div>
<div class="line"><a name="l07603"></a><span class="lineno"> 7603</span>&#160;    <a class="code" href="../../d7/d4f/struct_lock_entry.html">LockEntry</a>* key = <span class="keyword">const_cast&lt;</span><a class="code" href="../../d7/d4f/struct_lock_entry.html">LockEntry</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#a517422c4e090503dc6776f5fe0deae7c">sLockStore</a>.LookupEntry(36)); <span class="comment">// 3366 Opening, allows to open without proper key</span></div>
<div class="line"><a name="l07604"></a><span class="lineno"> 7604</span>&#160;    key-&gt;<a class="code" href="../../d7/d4f/struct_lock_entry.html#a39b0b548efd795c162926bddcdd301b5">Type</a>[2] = <a class="code" href="../../df/d0b/_shared_defines_8h.html#a7bd0d3f34feccd7870d260f3b1d4aad4a35b234d6a0e43f5ca515b89212bcae4c">LOCK_KEY_NONE</a>;</div>
<div class="line"><a name="l07605"></a><span class="lineno"> 7605</span>&#160; </div>
<div class="line"><a name="l07606"></a><span class="lineno"> 7606</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loading spell dbc data corrections  in %u ms&quot;</span>, <a class="code" href="../../d5/d29/_timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><a name="l07607"></a><span class="lineno"> 7607</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l07608"></a><span class="lineno"> 7608</span>&#160;}</div>
<div class="ttc" id="a_battlefield_8h_html_a6f435417da35c7d1b51c95e516fc6b2da1fc74ab91b471d0c59f02fea08cb2efd"><div class="ttname"><a href="../../d0/d88/_battlefield_8h.html#a6f435417da35c7d1b51c95e516fc6b2da1fc74ab91b471d0c59f02fea08cb2efd">BATTLEFIELD_WG</a></div><div class="ttdeci">@ BATTLEFIELD_WG</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d88/_battlefield_8h_source.html#l00031">Battlefield.h:31</a></div></div>
<div class="ttc" id="a_battlefield_8h_html_aff53bf428d550c270744c9a188d4187fa38e75e8c40750cb29f0d478d19974010"><div class="ttname"><a href="../../d0/d88/_battlefield_8h.html#aff53bf428d550c270744c9a188d4187fa38e75e8c40750cb29f0d478d19974010">BATTLEFIELD_BATTLEID_WG</a></div><div class="ttdeci">@ BATTLEFIELD_BATTLEID_WG</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d88/_battlefield_8h_source.html#l00037">Battlefield.h:37</a></div></div>
<div class="ttc" id="a_battlefield_mgr_8h_html"><div class="ttname"><a href="../../dc/df4/_battlefield_mgr_8h.html">BattlefieldMgr.h</a></div></div>
<div class="ttc" id="a_battlefield_mgr_8h_html_a4545b2a440043037e8dad52c0f644f48"><div class="ttname"><a href="../../dc/df4/_battlefield_mgr_8h.html#a4545b2a440043037e8dad52c0f644f48">sBattlefieldMgr</a></div><div class="ttdeci">#define sBattlefieldMgr</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df4/_battlefield_mgr_8h_source.html#l00077">BattlefieldMgr.h:77</a></div></div>
<div class="ttc" id="a_battlefield_w_g_8h_html"><div class="ttname"><a href="../../db/dbf/_battlefield_w_g_8h.html">BattlefieldWG.h</a></div></div>
<div class="ttc" id="a_battleground_i_c_8h_html"><div class="ttname"><a href="../../d4/daa/_battleground_i_c_8h.html">BattlegroundIC.h</a></div></div>
<div class="ttc" id="a_battleground_i_c_8h_html_a257626efe0e7f74e034fc1202dbfea07a43095ce2c82f3a9cf2a6f7d496b78af0"><div class="ttname"><a href="../../d4/daa/_battleground_i_c_8h.html#a257626efe0e7f74e034fc1202dbfea07a43095ce2c82f3a9cf2a6f7d496b78af0">NODE_TYPE_REFINERY</a></div><div class="ttdeci">@ NODE_TYPE_REFINERY</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/daa/_battleground_i_c_8h_source.html#l00820">BattlegroundIC.h:820</a></div></div>
<div class="ttc" id="a_battleground_i_c_8h_html_a257626efe0e7f74e034fc1202dbfea07a9742305a0d95ee6acacae283891dcd3e"><div class="ttname"><a href="../../d4/daa/_battleground_i_c_8h.html#a257626efe0e7f74e034fc1202dbfea07a9742305a0d95ee6acacae283891dcd3e">NODE_TYPE_QUARRY</a></div><div class="ttdeci">@ NODE_TYPE_QUARRY</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/daa/_battleground_i_c_8h_source.html#l00821">BattlegroundIC.h:821</a></div></div>
<div class="ttc" id="a_battleground_i_c_8h_html_aa3b18929571d0cc0cd2b821c243a1dfea7320ed68f6222cdd1b03d71e24eba3bc"><div class="ttname"><a href="../../d4/daa/_battleground_i_c_8h.html#aa3b18929571d0cc0cd2b821c243a1dfea7320ed68f6222cdd1b03d71e24eba3bc">NODE_STATE_CONTROLLED_A</a></div><div class="ttdeci">@ NODE_STATE_CONTROLLED_A</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/daa/_battleground_i_c_8h_source.html#l00838">BattlegroundIC.h:838</a></div></div>
<div class="ttc" id="a_battleground_i_c_8h_html_aa3b18929571d0cc0cd2b821c243a1dfeaca966fa9f844bfee2b29fbe01d0cb6bb"><div class="ttname"><a href="../../d4/daa/_battleground_i_c_8h.html#aa3b18929571d0cc0cd2b821c243a1dfeaca966fa9f844bfee2b29fbe01d0cb6bb">NODE_STATE_CONTROLLED_H</a></div><div class="ttdeci">@ NODE_STATE_CONTROLLED_H</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/daa/_battleground_i_c_8h_source.html#l00840">BattlegroundIC.h:839</a></div></div>
<div class="ttc" id="a_battleground_mgr_8h_html"><div class="ttname"><a href="../../d7/dcc/_battleground_mgr_8h.html">BattlegroundMgr.h</a></div></div>
<div class="ttc" id="a_character_database_8h_html_a76116b4fa282d8e35bf8f8e940b5cba7"><div class="ttname"><a href="../../d7/d54/_character_database_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7">CharacterDatabaseStatements</a></div><div class="ttdeci">CharacterDatabaseStatements</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d54/_character_database_8h_source.html#l00023">CharacterDatabase.h:24</a></div></div>
<div class="ttc" id="a_character_database_8h_html_a76116b4fa282d8e35bf8f8e940b5cba7a340e294529e147886e74f02e4a84e734"><div class="ttname"><a href="../../d7/d54/_character_database_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7a340e294529e147886e74f02e4a84e734">CHAR_DEL_INVALID_SPELL_TALENTS</a></div><div class="ttdeci">@ CHAR_DEL_INVALID_SPELL_TALENTS</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d54/_character_database_8h_source.html#l00288">CharacterDatabase.h:288</a></div></div>
<div class="ttc" id="a_character_database_8h_html_a76116b4fa282d8e35bf8f8e940b5cba7a5747c146ecb9e10f2ce727463ed21f30"><div class="ttname"><a href="../../d7/d54/_character_database_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7a5747c146ecb9e10f2ce727463ed21f30">CHAR_DEL_INVALID_SPELL_SPELLS</a></div><div class="ttdeci">@ CHAR_DEL_INVALID_SPELL_SPELLS</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d54/_character_database_8h_source.html#l00287">CharacterDatabase.h:287</a></div></div>
<div class="ttc" id="a_chat_8h_html"><div class="ttname"><a href="../../d2/d55/_chat_8h.html">Chat.h</a></div></div>
<div class="ttc" id="a_common_8h_html_a84190f79c8167211609f67284e066c58"><div class="ttname"><a href="../../db/d1f/_common_8h.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a></div><div class="ttdeci">constexpr auto IN_MILLISECONDS</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d1f/_common_8h_source.html#l00062">Common.h:62</a></div></div>
<div class="ttc" id="a_creature_data_8h_html_ab12170e3eeaeb988a07355262ca85757"><div class="ttname"><a href="../../dd/de2/_creature_data_8h.html#ab12170e3eeaeb988a07355262ca85757">CreatureTemplateContainer</a></div><div class="ttdeci">std::unordered_map&lt; uint32, CreatureTemplate &gt; CreatureTemplateContainer</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/_creature_data_8h_source.html#l00191">CreatureData.h:191</a></div></div>
<div class="ttc" id="a_d_b_c_enums_8h_html_a1722a65e910763eaffb541de9d7001f5a4dbbc818a561098bdc478c3afe0b2c67"><div class="ttname"><a href="../../dc/d6e/_d_b_c_enums_8h.html#a1722a65e910763eaffb541de9d7001f5a4dbbc818a561098bdc478c3afe0b2c67">VEHICLE_SEAT_FLAG_CAN_SWITCH</a></div><div class="ttdeci">@ VEHICLE_SEAT_FLAG_CAN_SWITCH</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6e/_d_b_c_enums_8h_source.html#l00458">DBCEnums.h:458</a></div></div>
<div class="ttc" id="a_d_b_c_enums_8h_html_a1722a65e910763eaffb541de9d7001f5af229e11cfbfc1396b47f2c4a75b9a8e3"><div class="ttname"><a href="../../dc/d6e/_d_b_c_enums_8h.html#a1722a65e910763eaffb541de9d7001f5af229e11cfbfc1396b47f2c4a75b9a8e3">VEHICLE_SEAT_FLAG_PASSENGER_NOT_SELECTABLE</a></div><div class="ttdeci">@ VEHICLE_SEAT_FLAG_PASSENGER_NOT_SELECTABLE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6e/_d_b_c_enums_8h_source.html#l00452">DBCEnums.h:452</a></div></div>
<div class="ttc" id="a_d_b_c_enums_8h_html_a364650a1412c9ed62462ed0b0574e14aa62d4592c03e7f422a7508d714a0468e7"><div class="ttname"><a href="../../dc/d6e/_d_b_c_enums_8h.html#a364650a1412c9ed62462ed0b0574e14aa62d4592c03e7f422a7508d714a0468e7">ITEM_ENCHANTMENT_TYPE_COMBAT_SPELL</a></div><div class="ttdeci">@ ITEM_ENCHANTMENT_TYPE_COMBAT_SPELL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6e/_d_b_c_enums_8h_source.html#l00355">DBCEnums.h:355</a></div></div>
<div class="ttc" id="a_d_b_c_enums_8h_html_a43efb0a2e61815a66134dfa5ccea0a83a8e5e0567af94d14d53209944fd9136ff"><div class="ttname"><a href="../../dc/d6e/_d_b_c_enums_8h.html#a43efb0a2e61815a66134dfa5ccea0a83a8e5e0567af94d14d53209944fd9136ff">DUNGEON_DIFFICULTY_HEROIC</a></div><div class="ttdeci">@ DUNGEON_DIFFICULTY_HEROIC</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6e/_d_b_c_enums_8h_source.html#l00258">DBCEnums.h:258</a></div></div>
<div class="ttc" id="a_d_b_c_enums_8h_html_a4b8f96edf5459f120db77f80275dfe5c"><div class="ttname"><a href="../../dc/d6e/_d_b_c_enums_8h.html#a4b8f96edf5459f120db77f80275dfe5c">MAX_DIFFICULTY</a></div><div class="ttdeci">#define MAX_DIFFICULTY</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6e/_d_b_c_enums_8h_source.html#l00271">DBCEnums.h:271</a></div></div>
<div class="ttc" id="a_d_b_c_enums_8h_html_a5af614298393d3986bae9de58785ba60a15510a00af2cfb684d30c98f0018018f"><div class="ttname"><a href="../../dc/d6e/_d_b_c_enums_8h.html#a5af614298393d3986bae9de58785ba60a15510a00af2cfb684d30c98f0018018f">SKILL_LINE_ABILITY_LEARNED_ON_SKILL_LEARN</a></div><div class="ttdeci">@ SKILL_LINE_ABILITY_LEARNED_ON_SKILL_LEARN</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6e/_d_b_c_enums_8h_source.html#l00350">DBCEnums.h:349</a></div></div>
<div class="ttc" id="a_d_b_c_enums_8h_html_ab8e24c5cd27834059bb62c245412fe72a23fb0fc9da18f714bdfa8400f314bbcd"><div class="ttname"><a href="../../dc/d6e/_d_b_c_enums_8h.html#ab8e24c5cd27834059bb62c245412fe72a23fb0fc9da18f714bdfa8400f314bbcd">AREA_FLAG_REST_ZONE_ALLIANCE</a></div><div class="ttdeci">@ AREA_FLAG_REST_ZONE_ALLIANCE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6e/_d_b_c_enums_8h_source.html#l00245">DBCEnums.h:245</a></div></div>
<div class="ttc" id="a_d_b_c_enums_8h_html_ab8e24c5cd27834059bb62c245412fe72afabf36ba773b9f7fbe87f43bcd173128"><div class="ttname"><a href="../../dc/d6e/_d_b_c_enums_8h.html#ab8e24c5cd27834059bb62c245412fe72afabf36ba773b9f7fbe87f43bcd173128">AREA_FLAG_NO_FLY_ZONE</a></div><div class="ttdeci">@ AREA_FLAG_NO_FLY_ZONE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6e/_d_b_c_enums_8h_source.html#l00251">DBCEnums.h:250</a></div></div>
<div class="ttc" id="a_d_b_c_stores_8cpp_html_a4b7782641d455ad5070f1aba070beae9"><div class="ttname"><a href="../../dd/d17/_d_b_c_stores_8cpp.html#a4b7782641d455ad5070f1aba070beae9">sSpellItemEnchantmentStore</a></div><div class="ttdeci">DBCStorage&lt; SpellItemEnchantmentEntry &gt; sSpellItemEnchantmentStore(SpellItemEnchantmentfmt)</div></div>
<div class="ttc" id="a_d_b_c_stores_8cpp_html_a517422c4e090503dc6776f5fe0deae7c"><div class="ttname"><a href="../../dd/d17/_d_b_c_stores_8cpp.html#a517422c4e090503dc6776f5fe0deae7c">sLockStore</a></div><div class="ttdeci">DBCStorage&lt; LockEntry &gt; sLockStore(LockEntryfmt)</div></div>
<div class="ttc" id="a_d_b_c_stores_8cpp_html_a54d0ee433b182a8bbd0b13b828ddd6b1"><div class="ttname"><a href="../../dd/d17/_d_b_c_stores_8cpp.html#a54d0ee433b182a8bbd0b13b828ddd6b1">sSpellDifficultyStore</a></div><div class="ttdeci">DBCStorage&lt; SpellDifficultyEntry &gt; sSpellDifficultyStore(SpellDifficultyfmt)</div></div>
<div class="ttc" id="a_d_b_c_stores_8cpp_html_a5ab694d45978587c224287543ab8d48d"><div class="ttname"><a href="../../dd/d17/_d_b_c_stores_8cpp.html#a5ab694d45978587c224287543ab8d48d">sSpellVisualStore</a></div><div class="ttdeci">DBCStorage&lt; SpellVisualEntry &gt; sSpellVisualStore(SpellVisualfmt)</div></div>
<div class="ttc" id="a_d_b_c_stores_8cpp_html_a67c1970c378a0fdf0489c1d376d7c388"><div class="ttname"><a href="../../dd/d17/_d_b_c_stores_8cpp.html#a67c1970c378a0fdf0489c1d376d7c388">GetTalentSpellCost</a></div><div class="ttdeci">uint32 GetTalentSpellCost(uint32 spellId)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d17/_d_b_c_stores_8cpp_source.html#l00927">DBCStores.cpp:927</a></div></div>
<div class="ttc" id="a_d_b_c_stores_8cpp_html_a69f8878c2ed43cf5a4a761f2b066c249"><div class="ttname"><a href="../../dd/d17/_d_b_c_stores_8cpp.html#a69f8878c2ed43cf5a4a761f2b066c249">sCreatureSpellDataStore</a></div><div class="ttdeci">DBCStorage&lt; CreatureSpellDataEntry &gt; sCreatureSpellDataStore(CreatureSpellDatafmt)</div></div>
<div class="ttc" id="a_d_b_c_stores_8cpp_html_a6b52d1b78ae2ba2dd3a2b58a33f8dbc1"><div class="ttname"><a href="../../dd/d17/_d_b_c_stores_8cpp.html#a6b52d1b78ae2ba2dd3a2b58a33f8dbc1">sSpellStore</a></div><div class="ttdeci">DBCStorage&lt; SpellEntry &gt; sSpellStore(SpellEntryfmt)</div></div>
<div class="ttc" id="a_d_b_c_stores_8cpp_html_a6f79a9658f29641b0ae27738de47d03f"><div class="ttname"><a href="../../dd/d17/_d_b_c_stores_8cpp.html#a6f79a9658f29641b0ae27738de47d03f">sFactionStore</a></div><div class="ttdeci">DBCStorage&lt; FactionEntry &gt; sFactionStore(FactionEntryfmt)</div></div>
<div class="ttc" id="a_d_b_c_stores_8cpp_html_a83ea3f8701464968bcfc119ad499b756"><div class="ttname"><a href="../../dd/d17/_d_b_c_stores_8cpp.html#a83ea3f8701464968bcfc119ad499b756">sCreatureFamilyStore</a></div><div class="ttdeci">DBCStorage&lt; CreatureFamilyEntry &gt; sCreatureFamilyStore(CreatureFamilyfmt)</div></div>
<div class="ttc" id="a_d_b_c_stores_8cpp_html_a860d9f63088882fd71c93cc5048d4f8a"><div class="ttname"><a href="../../dd/d17/_d_b_c_stores_8cpp.html#a860d9f63088882fd71c93cc5048d4f8a">sCreatureDisplayInfoStore</a></div><div class="ttdeci">DBCStorage&lt; CreatureDisplayInfoEntry &gt; sCreatureDisplayInfoStore(CreatureDisplayInfofmt)</div></div>
<div class="ttc" id="a_d_b_c_stores_8cpp_html_a9fb3e8b4bb127d2dfd15d2a3094f47b4"><div class="ttname"><a href="../../dd/d17/_d_b_c_stores_8cpp.html#a9fb3e8b4bb127d2dfd15d2a3094f47b4">sFactionTemplateStore</a></div><div class="ttdeci">DBCStorage&lt; FactionTemplateEntry &gt; sFactionTemplateStore(FactionTemplateEntryfmt)</div></div>
<div class="ttc" id="a_d_b_c_stores_8cpp_html_aa30e45fd2c4ba7d556b90286bc0d1f6a"><div class="ttname"><a href="../../dd/d17/_d_b_c_stores_8cpp.html#aa30e45fd2c4ba7d556b90286bc0d1f6a">sVehicleSeatStore</a></div><div class="ttdeci">DBCStorage&lt; VehicleSeatEntry &gt; sVehicleSeatStore(VehicleSeatEntryfmt)</div></div>
<div class="ttc" id="a_d_b_c_stores_8cpp_html_ab1c80e434031e07ffd42dc18640e5b26"><div class="ttname"><a href="../../dd/d17/_d_b_c_stores_8cpp.html#ab1c80e434031e07ffd42dc18640e5b26">sSummonPropertiesStore</a></div><div class="ttdeci">DBCStorage&lt; SummonPropertiesEntry &gt; sSummonPropertiesStore(SummonPropertiesfmt)</div></div>
<div class="ttc" id="a_d_b_c_stores_8cpp_html_abd82905f37c92e877681ca78c0446cb4"><div class="ttname"><a href="../../dd/d17/_d_b_c_stores_8cpp.html#abd82905f37c92e877681ca78c0446cb4">sAchievementStore</a></div><div class="ttdeci">DBCStorage&lt; AchievementEntry &gt; sAchievementStore(Achievementfmt)</div></div>
<div class="ttc" id="a_d_b_c_stores_8cpp_html_abdab3b372fb6ffd5dde09caf6967ac8f"><div class="ttname"><a href="../../dd/d17/_d_b_c_stores_8cpp.html#abdab3b372fb6ffd5dde09caf6967ac8f">sTalentStore</a></div><div class="ttdeci">DBCStorage&lt; TalentEntry &gt; sTalentStore(TalentEntryfmt)</div></div>
<div class="ttc" id="a_d_b_c_stores_8cpp_html_ac28198d1c28605951e9debe1298b8304"><div class="ttname"><a href="../../dd/d17/_d_b_c_stores_8cpp.html#ac28198d1c28605951e9debe1298b8304">sMapStore</a></div><div class="ttdeci">DBCStorage&lt; MapEntry &gt; sMapStore(MapEntryfmt)</div></div>
<div class="ttc" id="a_d_b_c_stores_8cpp_html_ac462c4dbc09104eef6a08a7b160c0406"><div class="ttname"><a href="../../dd/d17/_d_b_c_stores_8cpp.html#ac462c4dbc09104eef6a08a7b160c0406">sAreaTableStore</a></div><div class="ttdeci">DBCStorage&lt; AreaTableEntry &gt; sAreaTableStore(AreaTableEntryfmt)</div></div>
<div class="ttc" id="a_d_b_c_stores_8cpp_html_ac4a67d7e7202273571827d2161a6cbbf"><div class="ttname"><a href="../../dd/d17/_d_b_c_stores_8cpp.html#ac4a67d7e7202273571827d2161a6cbbf">sSkillLineAbilityStore</a></div><div class="ttdeci">DBCStorage&lt; SkillLineAbilityEntry &gt; sSkillLineAbilityStore(SkillLineAbilityfmt)</div></div>
<div class="ttc" id="a_d_b_c_stores_8cpp_html_aedc6cec6f0d6c676af5da10015f3f1ab"><div class="ttname"><a href="../../dd/d17/_d_b_c_stores_8cpp.html#aedc6cec6f0d6c676af5da10015f3f1ab">sSkillLineStore</a></div><div class="ttdeci">DBCStorage&lt; SkillLineEntry &gt; sSkillLineStore(SkillLinefmt)</div></div>
<div class="ttc" id="a_d_b_c_stores_8h_html"><div class="ttname"><a href="../../d7/dc7/_d_b_c_stores_8h.html">DBCStores.h</a></div></div>
<div class="ttc" id="a_d_b_c_structure_8h_html_a7dfd9b5e0adb5c5e3ebf3173f80fbcce"><div class="ttname"><a href="../../d1/d22/_d_b_c_structure_8h.html#a7dfd9b5e0adb5c5e3ebf3173f80fbcce">MAX_SPELL_REAGENTS</a></div><div class="ttdeci">#define MAX_SPELL_REAGENTS</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01561">DBCStructure.h:1561</a></div></div>
<div class="ttc" id="a_d_b_c_structure_8h_html_a84f97addb2541cd13960d71b99ac4f9c"><div class="ttname"><a href="../../d1/d22/_d_b_c_structure_8h.html#a84f97addb2541cd13960d71b99ac4f9c">MAX_CREATURE_SPELL_DATA_SLOT</a></div><div class="ttdeci">#define MAX_CREATURE_SPELL_DATA_SLOT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l00768">DBCStructure.h:768</a></div></div>
<div class="ttc" id="a_d_b_c_structure_8h_html_a8d6d5cac52d7a437e341e9f6ebc21a21"><div class="ttname"><a href="../../d1/d22/_d_b_c_structure_8h.html#a8d6d5cac52d7a437e341e9f6ebc21a21">MAX_TALENT_RANK</a></div><div class="ttdeci">#define MAX_TALENT_RANK</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01845">DBCStructure.h:1845</a></div></div>
<div class="ttc" id="a_d_b_c_structure_8h_html_ab66cd5828c451f68f55f1b054c29a8fc"><div class="ttname"><a href="../../d1/d22/_d_b_c_structure_8h.html#ab66cd5828c451f68f55f1b054c29a8fc">MAX_SPELL_ITEM_ENCHANTMENT_EFFECTS</a></div><div class="ttdeci">#define MAX_SPELL_ITEM_ENCHANTMENT_EFFECTS</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01765">DBCStructure.h:1765</a></div></div>
<div class="ttc" id="a_d_b_c_structure_8h_html_ac5733f5b58bf8a23a1919a005b5ec895"><div class="ttname"><a href="../../d1/d22/_d_b_c_structure_8h.html#ac5733f5b58bf8a23a1919a005b5ec895">MAX_SPELL_EFFECTS</a></div><div class="ttdeci">#define MAX_SPELL_EFFECTS</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01559">DBCStructure.h:1559</a></div></div>
<div class="ttc" id="a_database_env_8cpp_html_a7e7534bc66d79434bd280b77cb124eec"><div class="ttname"><a href="../../d6/d2e/_database_env_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a></div><div class="ttdeci">DatabaseWorkerPool&lt; CharacterDatabaseConnection &gt; CharacterDatabase</div><div class="ttdoc">Accessor to the character database.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2e/_database_env_8cpp_source.html#l00021">DatabaseEnv.cpp:21</a></div></div>
<div class="ttc" id="a_database_env_8cpp_html_afa9a6509f9913c9c7dd3081523badd7c"><div class="ttname"><a href="../../d6/d2e/_database_env_8cpp.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a></div><div class="ttdeci">DatabaseWorkerPool&lt; WorldDatabaseConnection &gt; WorldDatabase</div><div class="ttdoc">Accessor to the world database.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2e/_database_env_8cpp_source.html#l00020">DatabaseEnv.cpp:20</a></div></div>
<div class="ttc" id="a_database_env_fwd_8h_html_ab0c9feeec448a181290fcb39565b8253"><div class="ttname"><a href="../../db/d04/_database_env_fwd_8h.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a></div><div class="ttdeci">std::shared_ptr&lt; ResultSet &gt; QueryResult</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d04/_database_env_fwd_8h_source.html#l00028">DatabaseEnvFwd.h:28</a></div></div>
<div class="ttc" id="a_define_8h_html_a0bf9964a3ce962c07ad3d8b5432bbbcd"><div class="ttname"><a href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a></div><div class="ttdeci">std::int32_t int32</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d35/_define_8h_source.html#l00110">Define.h:110</a></div></div>
<div class="ttc" id="a_define_8h_html_a15a8d014fadf85c99a2268d8cbd00767"><div class="ttname"><a href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a></div><div class="ttdeci">std::uint8_t uint8</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d35/_define_8h_source.html#l00116">Define.h:116</a></div></div>
<div class="ttc" id="a_define_8h_html_a22f78cc9780bf32aff91ae17c3101c8d"><div class="ttname"><a href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a></div><div class="ttdeci">std::uint32_t uint32</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d35/_define_8h_source.html#l00114">Define.h:114</a></div></div>
<div class="ttc" id="a_game_graveyard_8h_html"><div class="ttname"><a href="../../d4/d05/_game_graveyard_8h.html">GameGraveyard.h</a></div></div>
<div class="ttc" id="a_game_graveyard_8h_html_ac68c2a63982a6142e1931450d7b6115c"><div class="ttname"><a href="../../d4/d05/_game_graveyard_8h.html#ac68c2a63982a6142e1931450d7b6115c">sGraveyard</a></div><div class="ttdeci">#define sGraveyard</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d05/_game_graveyard_8h_source.html#l00075">GameGraveyard.h:75</a></div></div>
<div class="ttc" id="a_i_world_8h_html_a17aac4c166ebe43e3b8fdccf9e012e41a8589fece73b5980befa3b6cbecbca581"><div class="ttname"><a href="../../d2/d80/_i_world_8h.html#a17aac4c166ebe43e3b8fdccf9e012e41a8589fece73b5980befa3b6cbecbca581">CONFIG_ICC_BUFF_ALLIANCE</a></div><div class="ttdeci">@ CONFIG_ICC_BUFF_ALLIANCE</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/_i_world_8h_source.html#l00364">IWorld.h:364</a></div></div>
<div class="ttc" id="a_i_world_8h_html_a17aac4c166ebe43e3b8fdccf9e012e41af0a6989af793b6a1c82c15551bf604cd"><div class="ttname"><a href="../../d2/d80/_i_world_8h.html#a17aac4c166ebe43e3b8fdccf9e012e41af0a6989af793b6a1c82c15551bf604cd">CONFIG_ICC_BUFF_HORDE</a></div><div class="ttdeci">@ CONFIG_ICC_BUFF_HORDE</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/_i_world_8h_source.html#l00363">IWorld.h:363</a></div></div>
<div class="ttc" id="a_i_world_8h_html_a1b4b88c03b7d0124998b4c22e957baf0aa64237bf7ab70e8554559907e4d54c8a"><div class="ttname"><a href="../../d2/d80/_i_world_8h.html#a1b4b88c03b7d0124998b4c22e957baf0aa64237bf7ab70e8554559907e4d54c8a">CONFIG_WINTERGRASP_ENABLE</a></div><div class="ttdeci">@ CONFIG_WINTERGRASP_ENABLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/_i_world_8h_source.html#l00142">IWorld.h:142</a></div></div>
<div class="ttc" id="a_instance_script_8h_html"><div class="ttname"><a href="../../da/d42/_instance_script_8h.html">InstanceScript.h</a></div></div>
<div class="ttc" id="a_log_8h_html_a271e427d8e8481efd5cd5f537ec9e419"><div class="ttname"><a href="../../da/df4/_log_8h.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a></div><div class="ttdeci">#define LOG_INFO(filterType__,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df4/_log_8h_source.html#l00269">Log.h:269</a></div></div>
<div class="ttc" id="a_log_8h_html_a43832e3fa8508deb4ce43e520005fcd9"><div class="ttname"><a href="../../da/df4/_log_8h.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR(filterType__,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df4/_log_8h_source.html#l00261">Log.h:261</a></div></div>
<div class="ttc" id="a_log_8h_html_a47ac782b14a7531c6232777165a1a161"><div class="ttname"><a href="../../da/df4/_log_8h.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a></div><div class="ttdeci">#define LOG_DEBUG(filterType__,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df4/_log_8h_source.html#l00273">Log.h:273</a></div></div>
<div class="ttc" id="a_map_mgr_8h_html"><div class="ttname"><a href="../../dd/dca/_map_mgr_8h.html">MapMgr.h</a></div></div>
<div class="ttc" id="a_motion_master_8h_html_a6386d0a4b64b17a25a60627bb55b360c"><div class="ttname"><a href="../../d8/dea/_motion_master_8h.html#a6386d0a4b64b17a25a60627bb55b360c">SPEED_CHARGE</a></div><div class="ttdeci">#define SPEED_CHARGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dea/_motion_master_8h_source.html#l00107">MotionMaster.h:107</a></div></div>
<div class="ttc" id="a_object_mgr_8h_html"><div class="ttname"><a href="../../d9/d77/_object_mgr_8h.html">ObjectMgr.h</a></div></div>
<div class="ttc" id="a_object_mgr_8h_html_a736e30da2b5261060ac6cdbb5de3b787"><div class="ttname"><a href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a></div><div class="ttdeci">#define sObjectMgr</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d77/_object_mgr_8h_source.html#l01546">ObjectMgr.h:1546</a></div></div>
<div class="ttc" id="a_player_8h_html"><div class="ttname"><a href="../../d1/d39/_player_8h.html">Player.h</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html">SharedDefines.h</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a0b4a3c2c7210e88f82b3dc3abb6e6f77"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77">SpellEffIndex</a></div><div class="ttdeci">SpellEffIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00028">SharedDefines.h:29</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a0b4a3c2c7210e88f82b3dc3abb6e6f77a8ad5debef66c8aadbaf13f97f522e791"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77a8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a></div><div class="ttdeci">@ EFFECT_1</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00031">SharedDefines.h:31</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77ae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a></div><div class="ttdeci">@ EFFECT_0</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00030">SharedDefines.h:30</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a0b4a3c2c7210e88f82b3dc3abb6e6f77af927c15d111e2212aaf1f8488ce751c1"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a0b4a3c2c7210e88f82b3dc3abb6e6f77af927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a></div><div class="ttdeci">@ EFFECT_2</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00032">SharedDefines.h:32</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a17e15fab4b89f4840e745f31ca76a414ab3e4f73d6494c917b99431bae75a4d5f"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a17e15fab4b89f4840e745f31ca76a414ab3e4f73d6494c917b99431bae75a4d5f">POWER_MANA</a></div><div class="ttdeci">@ POWER_MANA</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00241">SharedDefines.h:241</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a1d74b2169d9a060490d81975a3064f50"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50">DiminishingGroup</a></div><div class="ttdeci">DiminishingGroup</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03226">SharedDefines.h:3227</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a1d74b2169d9a060490d81975a3064f50a034d9d8e71cd80fce5f53e79df9111e5"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a034d9d8e71cd80fce5f53e79df9111e5">DIMINISHING_MIND_CONTROL</a></div><div class="ttdeci">@ DIMINISHING_MIND_CONTROL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03240">SharedDefines.h:3240</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a1d74b2169d9a060490d81975a3064f50a152a3b391c6c966c8f816306edbd9351"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a152a3b391c6c966c8f816306edbd9351">DIMINISHING_HORROR</a></div><div class="ttdeci">@ DIMINISHING_HORROR</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03239">SharedDefines.h:3239</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a1d74b2169d9a060490d81975a3064f50a2d8c244c6cd18d08a526f2b6c0f253aa"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a2d8c244c6cd18d08a526f2b6c0f253aa">DIMINISHING_DRAGONS_BREATH</a></div><div class="ttdeci">@ DIMINISHING_DRAGONS_BREATH</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03248">SharedDefines.h:3248</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a1d74b2169d9a060490d81975a3064f50a2db57ad0fc1c305b8468ec2357ed215f"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a2db57ad0fc1c305b8468ec2357ed215f">DIMINISHING_CONTROLLED_STUN</a></div><div class="ttdeci">@ DIMINISHING_CONTROLLED_STUN</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03232">SharedDefines.h:3232</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a1d74b2169d9a060490d81975a3064f50a34a7786d081ed8a70393dfb02903da93"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a34a7786d081ed8a70393dfb02903da93">DIMINISHING_CYCLONE</a></div><div class="ttdeci">@ DIMINISHING_CYCLONE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03234">SharedDefines.h:3234</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a1d74b2169d9a060490d81975a3064f50a392f0f3caa4721c178881a2c6593e24e"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a392f0f3caa4721c178881a2c6593e24e">DIMINISHING_BANISH</a></div><div class="ttdeci">@ DIMINISHING_BANISH</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03229">SharedDefines.h:3229</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a1d74b2169d9a060490d81975a3064f50a44f5b5c7e71609c05c0f192acf390fb7"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a44f5b5c7e71609c05c0f192acf390fb7">DIMINISHING_CONTROLLED_ROOT</a></div><div class="ttdeci">@ DIMINISHING_CONTROLLED_ROOT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03233">SharedDefines.h:3233</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a1d74b2169d9a060490d81975a3064f50a463a6938a384ecb8e81ea00f8a66a85c"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a463a6938a384ecb8e81ea00f8a66a85c">DIMINISHING_NONE</a></div><div class="ttdeci">@ DIMINISHING_NONE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03228">SharedDefines.h:3228</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a1d74b2169d9a060490d81975a3064f50a4d0681bb7b24d089ddb622d336444303"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a4d0681bb7b24d089ddb622d336444303">DIMINISHING_SLEEP</a></div><div class="ttdeci">@ DIMINISHING_SLEEP</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03245">SharedDefines.h:3245</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a1d74b2169d9a060490d81975a3064f50a608617f91017e02ba7d290a070528102"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a608617f91017e02ba7d290a070528102">DIMINISHING_STUN</a></div><div class="ttdeci">@ DIMINISHING_STUN</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03242">SharedDefines.h:3242</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a1d74b2169d9a060490d81975a3064f50a6445d72b2e451276105af5ed8eb27e85"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a6445d72b2e451276105af5ed8eb27e85">DIMINISHING_DISARM</a></div><div class="ttdeci">@ DIMINISHING_DISARM</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03235">SharedDefines.h:3235</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a1d74b2169d9a060490d81975a3064f50a6721c561fd23888777756815e3b724fc"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a6721c561fd23888777756815e3b724fc">DIMINISHING_ENTRAPMENT</a></div><div class="ttdeci">@ DIMINISHING_ENTRAPMENT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03237">SharedDefines.h:3237</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a1d74b2169d9a060490d81975a3064f50a71127e76275e317cdccf66181e9cdbd9"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a71127e76275e317cdccf66181e9cdbd9">DIMINISHING_FEAR</a></div><div class="ttdeci">@ DIMINISHING_FEAR</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03238">SharedDefines.h:3238</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a1d74b2169d9a060490d81975a3064f50a754778cfd76b0654783d77e40e245ea4"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50a754778cfd76b0654783d77e40e245ea4">DIMINISHING_SCATTER_SHOT</a></div><div class="ttdeci">@ DIMINISHING_SCATTER_SHOT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03243">SharedDefines.h:3243</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a1d74b2169d9a060490d81975a3064f50aa58336ee2642bf195dc33fcf28ef40f3"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aa58336ee2642bf195dc33fcf28ef40f3">DIMINISHING_LIMITONLY</a></div><div class="ttdeci">@ DIMINISHING_LIMITONLY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03247">SharedDefines.h:3247</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a1d74b2169d9a060490d81975a3064f50aa74aa76f20fcd45e7727a1b904778dae"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aa74aa76f20fcd45e7727a1b904778dae">DIMINISHING_OPENING_STUN</a></div><div class="ttdeci">@ DIMINISHING_OPENING_STUN</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03231">SharedDefines.h:3231</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a1d74b2169d9a060490d81975a3064f50aa92695cb352ab09051b321377896120f"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aa92695cb352ab09051b321377896120f">DIMINISHING_DISORIENT</a></div><div class="ttdeci">@ DIMINISHING_DISORIENT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03236">SharedDefines.h:3236</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a1d74b2169d9a060490d81975a3064f50aa9bb2f9f13e24e44991add613a28aa77"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aa9bb2f9f13e24e44991add613a28aa77">DIMINISHING_ROOT</a></div><div class="ttdeci">@ DIMINISHING_ROOT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03241">SharedDefines.h:3241</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a1d74b2169d9a060490d81975a3064f50aaa24e48f673552930ff49659db1a4d1c"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50aaa24e48f673552930ff49659db1a4d1c">DIMINISHING_TAUNT</a></div><div class="ttdeci">@ DIMINISHING_TAUNT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03246">SharedDefines.h:3246</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a1d74b2169d9a060490d81975a3064f50ab5fa0e031879f3e383c9c5a590248ff1"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50ab5fa0e031879f3e383c9c5a590248ff1">DIMINISHING_CHARGE</a></div><div class="ttdeci">@ DIMINISHING_CHARGE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03230">SharedDefines.h:3230</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a1d74b2169d9a060490d81975a3064f50ab78e620cce33122d5aebe69fc83a1bba"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a1d74b2169d9a060490d81975a3064f50ab78e620cce33122d5aebe69fc83a1bba">DIMINISHING_SILENCE</a></div><div class="ttdeci">@ DIMINISHING_SILENCE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03244">SharedDefines.h:3244</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a25ff5d34ce79433dfc852484cef1d47da1af4b997048db75a09fe4b1593b4d154"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a25ff5d34ce79433dfc852484cef1d47da1af4b997048db75a09fe4b1593b4d154">SPELL_ATTR7_CAN_CAUSE_INTERRUPT</a></div><div class="ttdeci">@ SPELL_ATTR7_CAN_CAUSE_INTERRUPT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00624">SharedDefines.h:624</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a25ff5d34ce79433dfc852484cef1d47dae4d6434b5dceff532ff803a94f7b57c3"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a25ff5d34ce79433dfc852484cef1d47dae4d6434b5dceff532ff803a94f7b57c3">SPELL_ATTR7_DISABLE_AURA_WHILE_DEAD</a></div><div class="ttdeci">@ SPELL_ATTR7_DISABLE_AURA_WHILE_DEAD</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00615">SharedDefines.h:615</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97a027bcdf3b42e90e7374802fe61fd776d"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a027bcdf3b42e90e7374802fe61fd776d">SPELL_EFFECT_DUMMY</a></div><div class="ttdeci">@ SPELL_EFFECT_DUMMY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00753">SharedDefines.h:753</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97a078f855df3793531cf8efdef80967cba"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a078f855df3793531cf8efdef80967cba">SPELL_EFFECT_SCRIPT_EFFECT</a></div><div class="ttdeci">@ SPELL_EFFECT_SCRIPT_EFFECT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00827">SharedDefines.h:827</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97a0a43a6be2a57b573021530d45a1e367e"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a0a43a6be2a57b573021530d45a1e367e">SPELL_EFFECT_POWER_BURN</a></div><div class="ttdeci">@ SPELL_EFFECT_POWER_BURN</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00812">SharedDefines.h:812</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97a0b452eb46e3cfec1b7cb26f21a22b2d3"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a0b452eb46e3cfec1b7cb26f21a22b2d3">SPELL_EFFECT_ENERGIZE_PCT</a></div><div class="ttdeci">@ SPELL_EFFECT_ENERGIZE_PCT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00887">SharedDefines.h:887</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97a0e77fe9c0e808131a2440afe38a856af"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a0e77fe9c0e808131a2440afe38a856af">SPELL_EFFECT_SUMMON_PET</a></div><div class="ttdeci">@ SPELL_EFFECT_SUMMON_PET</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00806">SharedDefines.h:806</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97a0e98b45f9300ce66be7a701eff5e5fca"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a0e98b45f9300ce66be7a701eff5e5fca">SPELL_EFFECT_APPLY_AREA_AURA_PARTY</a></div><div class="ttdeci">@ SPELL_EFFECT_APPLY_AREA_AURA_PARTY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00785">SharedDefines.h:785</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97a140c94210262d911b2db681aba463d19"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a140c94210262d911b2db681aba463d19">SPELL_EFFECT_APPLY_AREA_AURA_FRIEND</a></div><div class="ttdeci">@ SPELL_EFFECT_APPLY_AREA_AURA_FRIEND</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00878">SharedDefines.h:878</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97a15015f3acf3dd811f2776d67f1991b50"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a15015f3acf3dd811f2776d67f1991b50">SPELL_EFFECT_TRIGGER_SPELL_WITH_VALUE</a></div><div class="ttdeci">@ SPELL_EFFECT_TRIGGER_SPELL_WITH_VALUE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00892">SharedDefines.h:892</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97a1ab15c363eaea4e2bc8d7f8fc0c564cf"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a1ab15c363eaea4e2bc8d7f8fc0c564cf">SPELL_EFFECT_SELF_RESURRECT</a></div><div class="ttdeci">@ SPELL_EFFECT_SELF_RESURRECT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00844">SharedDefines.h:844</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97a2c6434d09a221f75cf5496947aa2eb89"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a2c6434d09a221f75cf5496947aa2eb89">SPELL_EFFECT_ENCHANT_HELD_ITEM</a></div><div class="ttdeci">@ SPELL_EFFECT_ENCHANT_HELD_ITEM</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00842">SharedDefines.h:842</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97a3303d1b9499775f687785269eaaaff1b"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a3303d1b9499775f687785269eaaaff1b">SPELL_EFFECT_TRIGGER_MISSILE</a></div><div class="ttdeci">@ SPELL_EFFECT_TRIGGER_MISSILE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00782">SharedDefines.h:782</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97a3467958b5173482af8149b7c32c9ed4d"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a3467958b5173482af8149b7c32c9ed4d">SPELL_EFFECT_ENCHANT_ITEM</a></div><div class="ttdeci">@ SPELL_EFFECT_ENCHANT_ITEM</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00803">SharedDefines.h:803</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97a3781ecdde21e7e7f1dd72df72c577505"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a3781ecdde21e7e7f1dd72df72c577505">SPELL_EFFECT_HEALTH_LEECH</a></div><div class="ttdeci">@ SPELL_EFFECT_HEALTH_LEECH</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00759">SharedDefines.h:759</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97a37c3501cd211969f5ba9a932a191d275"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a37c3501cd211969f5ba9a932a191d275">SPELL_EFFECT_SKILL</a></div><div class="ttdeci">@ SPELL_EFFECT_SKILL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00868">SharedDefines.h:868</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97a44d3da0109cb50c42bad53e2790715e4"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a44d3da0109cb50c42bad53e2790715e4">SPELL_EFFECT_WEAPON_DAMAGE</a></div><div class="ttdeci">@ SPELL_EFFECT_WEAPON_DAMAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00808">SharedDefines.h:808</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97a4882157067be8542f9192927816acda1"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a4882157067be8542f9192927816acda1">SPELL_EFFECT_HEAL</a></div><div class="ttdeci">@ SPELL_EFFECT_HEAL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00760">SharedDefines.h:760</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97a4a3d78eee24d6e6d28fbaa67213be92d"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a4a3d78eee24d6e6d28fbaa67213be92d">SPELL_EFFECT_NORMALIZED_WEAPON_DMG</a></div><div class="ttdeci">@ SPELL_EFFECT_NORMALIZED_WEAPON_DMG</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00871">SharedDefines.h:871</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97a4d387e7de66861ea9ad6d6852e5087fb"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a4d387e7de66861ea9ad6d6852e5087fb">SPELL_EFFECT_TRIGGER_SPELL</a></div><div class="ttdeci">@ SPELL_EFFECT_TRIGGER_SPELL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00814">SharedDefines.h:814</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97a51ba801dd59f654eed7eef6ec05d17f8"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a51ba801dd59f654eed7eef6ec05d17f8">SPELL_EFFECT_HEAL_MAX_HEALTH</a></div><div class="ttdeci">@ SPELL_EFFECT_HEAL_MAX_HEALTH</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00817">SharedDefines.h:817</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97a56fb7001bff11474629f084fda6953a1"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a56fb7001bff11474629f084fda6953a1">SPELL_EFFECT_APPLY_AREA_AURA_PET</a></div><div class="ttdeci">@ SPELL_EFFECT_APPLY_AREA_AURA_PET</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00869">SharedDefines.h:869</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97a6b546cbd034b7414776e260f8431789b"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a6b546cbd034b7414776e260f8431789b">SPELL_EFFECT_JUMP_DEST</a></div><div class="ttdeci">@ SPELL_EFFECT_JUMP_DEST</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00792">SharedDefines.h:792</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97a80153156c6cdcf1436c5a4fc33ae95c7"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a80153156c6cdcf1436c5a4fc33ae95c7">SPELL_EFFECT_PICKPOCKET</a></div><div class="ttdeci">@ SPELL_EFFECT_PICKPOCKET</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00821">SharedDefines.h:821</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97a8e8f8712c494e5f9bffca881c9398304"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a8e8f8712c494e5f9bffca881c9398304">SPELL_EFFECT_HEAL_MECHANICAL</a></div><div class="ttdeci">@ SPELL_EFFECT_HEAL_MECHANICAL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00825">SharedDefines.h:825</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97a905e6b16c4a6a4f7e538f0b6b97190d5"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a905e6b16c4a6a4f7e538f0b6b97190d5">SPELL_EFFECT_WEAPON_PERCENT_DAMAGE</a></div><div class="ttdeci">@ SPELL_EFFECT_WEAPON_PERCENT_DAMAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00781">SharedDefines.h:781</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97a9283537d0780f127fb78eeafc72365e5"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a9283537d0780f127fb78eeafc72365e5">SPELL_EFFECT_MODIFY_THREAT_PERCENT</a></div><div class="ttdeci">@ SPELL_EFFECT_MODIFY_THREAT_PERCENT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00875">SharedDefines.h:875</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97a96bae50ba11bd175354f4db26746867f"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a96bae50ba11bd175354f4db26746867f">SPELL_EFFECT_APPLY_AREA_AURA_RAID</a></div><div class="ttdeci">@ SPELL_EFFECT_APPLY_AREA_AURA_RAID</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00815">SharedDefines.h:815</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97a98bf198da925a04fa041c7d82114b626"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97a98bf198da925a04fa041c7d82114b626">SPELL_EFFECT_CREATE_ITEM_2</a></div><div class="ttdeci">@ SPELL_EFFECT_CREATE_ITEM_2</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00907">SharedDefines.h:907</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97aa2beb2e0d1440f64ea1661312ed02628"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97aa2beb2e0d1440f64ea1661312ed02628">SPELL_EFFECT_WEAPON_DAMAGE_NOSCHOOL</a></div><div class="ttdeci">@ SPELL_EFFECT_WEAPON_DAMAGE_NOSCHOOL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00767">SharedDefines.h:767</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97aa3290e738b6cd09859039989143f9ac1"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97aa3290e738b6cd09859039989143f9ac1">SPELL_EFFECT_PERSISTENT_AREA_AURA</a></div><div class="ttdeci">@ SPELL_EFFECT_PERSISTENT_AREA_AURA</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00777">SharedDefines.h:777</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97aa47feeee8d69d2aba0e176f2573c095d"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97aa47feeee8d69d2aba0e176f2573c095d">SPELL_EFFECT_LEAP_BACK</a></div><div class="ttdeci">@ SPELL_EFFECT_LEAP_BACK</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00888">SharedDefines.h:888</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97aa7be476935ce81144c2b383b7af7bf47"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97aa7be476935ce81144c2b383b7af7bf47">SPELL_EFFECT_SUMMON</a></div><div class="ttdeci">@ SPELL_EFFECT_SUMMON</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00778">SharedDefines.h:778</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97ab0727b6312cbc0d83b93ab5d5578fe8b"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97ab0727b6312cbc0d83b93ab5d5578fe8b">SPELL_EFFECT_ENERGIZE</a></div><div class="ttdeci">@ SPELL_EFFECT_ENERGIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00780">SharedDefines.h:780</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97ab7df9b34a249eff2c2ee82925fbc87d9"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97ab7df9b34a249eff2c2ee82925fbc87d9">SPELL_EFFECT_POWER_DRAIN</a></div><div class="ttdeci">@ SPELL_EFFECT_POWER_DRAIN</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00758">SharedDefines.h:758</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97ab9f95780d14ce3a3d80b05f6955a5814"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97ab9f95780d14ce3a3d80b05f6955a5814">SPELL_EFFECT_CHARGE</a></div><div class="ttdeci">@ SPELL_EFFECT_CHARGE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00846">SharedDefines.h:846</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97abd12cbfc6a8daf7ca788d06a77256e01"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97abd12cbfc6a8daf7ca788d06a77256e01">SPELL_EFFECT_SCHOOL_DAMAGE</a></div><div class="ttdeci">@ SPELL_EFFECT_SCHOOL_DAMAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00752">SharedDefines.h:752</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97ac9e93e2be484a200e2198e609ca8224e"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97ac9e93e2be484a200e2198e609ca8224e">SPELL_EFFECT_CHARGE_DEST</a></div><div class="ttdeci">@ SPELL_EFFECT_CHARGE_DEST</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00899">SharedDefines.h:899</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97acef490c9f3480852d33dbbec7727fa7f"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97acef490c9f3480852d33dbbec7727fa7f">SPELL_EFFECT_LEARN_SPELL</a></div><div class="ttdeci">@ SPELL_EFFECT_LEARN_SPELL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00786">SharedDefines.h:786</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97ad8952de70b3fb92f22a051a26793a740"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97ad8952de70b3fb92f22a051a26793a740">SPELL_EFFECT_APPLY_AREA_AURA_ENEMY</a></div><div class="ttdeci">@ SPELL_EFFECT_APPLY_AREA_AURA_ENEMY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00879">SharedDefines.h:879</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97adca1c3aa0e67875dd6c075066aafe6b9"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97adca1c3aa0e67875dd6c075066aafe6b9">SPELL_EFFECT_JUMP</a></div><div class="ttdeci">@ SPELL_EFFECT_JUMP</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00791">SharedDefines.h:791</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97ae0cab2a09ad0acd69cdc260048bf31b5"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97ae0cab2a09ad0acd69cdc260048bf31b5">SPELL_EFFECT_HEAL_PCT</a></div><div class="ttdeci">@ SPELL_EFFECT_HEAL_PCT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00886">SharedDefines.h:886</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97ae2d17b59f752f772b7a79a2643a1d45f"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97ae2d17b59f752f772b7a79a2643a1d45f">SPELL_EFFECT_INTERRUPT_CAST</a></div><div class="ttdeci">@ SPELL_EFFECT_INTERRUPT_CAST</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00818">SharedDefines.h:818</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97aeb1d7a27ab01055bd66d8b012dbea7be"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97aeb1d7a27ab01055bd66d8b012dbea7be">SPELL_EFFECT_ENCHANT_ITEM_PRISMATIC</a></div><div class="ttdeci">@ SPELL_EFFECT_ENCHANT_ITEM_PRISMATIC</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00906">SharedDefines.h:906</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97aef19cb2a68fa76f831bb9ddcff67fa65"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97aef19cb2a68fa76f831bb9ddcff67fa65">SPELL_EFFECT_ENCHANT_ITEM_TEMPORARY</a></div><div class="ttdeci">@ SPELL_EFFECT_ENCHANT_ITEM_TEMPORARY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00804">SharedDefines.h:804</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97af5abf258b008fbff818ad32ac7a95fbb"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97af5abf258b008fbff818ad32ac7a95fbb">SPELL_EFFECT_CREATE_ITEM</a></div><div class="ttdeci">@ SPELL_EFFECT_CREATE_ITEM</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00774">SharedDefines.h:774</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a></div><div class="ttdeci">@ SPELL_EFFECT_APPLY_AURA</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00756">SharedDefines.h:756</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97affaa057383042f4e64d387fb592eecb6"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97affaa057383042f4e64d387fb592eecb6">SPELL_EFFECT_APPLY_AREA_AURA_OWNER</a></div><div class="ttdeci">@ SPELL_EFFECT_APPLY_AREA_AURA_OWNER</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00893">SharedDefines.h:893</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a3194644c6ed7acd85ec8eb1b98821b8eab3aa650b1b206f5968ed28e76fe83c18"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a3194644c6ed7acd85ec8eb1b98821b8eab3aa650b1b206f5968ed28e76fe83c18">SPELL_PREVENTION_TYPE_NONE</a></div><div class="ttdeci">@ SPELL_PREVENTION_TYPE_NONE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01525">SharedDefines.h:1525</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a347be03c72c20860f46f78c9bed72ad4a88abcdba2a78310c025a6414b68b4cf8"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a347be03c72c20860f46f78c9bed72ad4a88abcdba2a78310c025a6414b68b4cf8">SKILL_CATEGORY_PROFESSION</a></div><div class="ttdeci">@ SKILL_CATEGORY_PROFESSION</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03048">SharedDefines.h:3048</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a3667e3c5ec056737c8789615a989324f"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a3667e3c5ec056737c8789615a989324f">Gender</a></div><div class="ttdeci">Gender</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00058">SharedDefines.h:59</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a3667e3c5ec056737c8789615a989324fa8f9913149a2518b5548e5125495a01c3"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a3667e3c5ec056737c8789615a989324fa8f9913149a2518b5548e5125495a01c3">GENDER_MALE</a></div><div class="ttdeci">@ GENDER_MALE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00060">SharedDefines.h:60</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a3667e3c5ec056737c8789615a989324faf3da8f6e862fb5230f0bbb8613684463"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a3667e3c5ec056737c8789615a989324faf3da8f6e862fb5230f0bbb8613684463">GENDER_FEMALE</a></div><div class="ttdeci">@ GENDER_FEMALE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00061">SharedDefines.h:61</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a3667e3c5ec056737c8789615a989324fafe69f428f13193dcfd8ed8f30d6d2e07"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a3667e3c5ec056737c8789615a989324fafe69f428f13193dcfd8ed8f30d6d2e07">GENDER_NONE</a></div><div class="ttdeci">@ GENDER_NONE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00063">SharedDefines.h:62</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a376aa62261a98289589839b821786adaa1e5646f92d527da8a1a98bb0f14f3b86"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a376aa62261a98289589839b821786adaa1e5646f92d527da8a1a98bb0f14f3b86">SPELL_ATTR5_EXTRA_INITIAL_PERIOD</a></div><div class="ttdeci">@ SPELL_ATTR5_EXTRA_INITIAL_PERIOD</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00548">SharedDefines.h:548</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a376aa62261a98289589839b821786adaa38355c8ac37633a451b6ea0cad0389b6"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a376aa62261a98289589839b821786adaa38355c8ac37633a451b6ea0cad0389b6">SPELL_ATTR5_ALLOW_WHILE_STUNNED</a></div><div class="ttdeci">@ SPELL_ATTR5_ALLOW_WHILE_STUNNED</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00542">SharedDefines.h:542</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a376aa62261a98289589839b821786adaab0527496eccfcafc34a8a49f74d9afbd"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a376aa62261a98289589839b821786adaab0527496eccfcafc34a8a49f74d9afbd">SPELL_ATTR5_ALWAYS_AOE_LINE_OF_SIGHT</a></div><div class="ttdeci">@ SPELL_ATTR5_ALWAYS_AOE_LINE_OF_SIGHT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00565">SharedDefines.h:565</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a418aed4e4066eb09ab979b5d78dc9152a036a2b93df9713482bdbf62afd6d07cd"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a036a2b93df9713482bdbf62afd6d07cd">TARGET_DEST_TARGET_ANY</a></div><div class="ttdeci">@ TARGET_DEST_TARGET_ANY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01439">SharedDefines.h:1439</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a418aed4e4066eb09ab979b5d78dc9152a0b51bc473102ffda4749bf8515131ee2"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a0b51bc473102ffda4749bf8515131ee2">TARGET_UNIT_CONE_ENTRY</a></div><div class="ttdeci">@ TARGET_UNIT_CONE_ENTRY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01436">SharedDefines.h:1436</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a418aed4e4066eb09ab979b5d78dc9152a26506da78f6a6950f7ac66718b775817"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a26506da78f6a6950f7ac66718b775817">TARGET_DEST_DB</a></div><div class="ttdeci">@ TARGET_DEST_DB</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01394">SharedDefines.h:1394</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a418aed4e4066eb09ab979b5d78dc9152a29d2b1998be41c09ef3ee459c9208117"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a29d2b1998be41c09ef3ee459c9208117">TARGET_UNIT_CASTER_AREA_PARTY</a></div><div class="ttdeci">@ TARGET_UNIT_CASTER_AREA_PARTY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01396">SharedDefines.h:1396</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a418aed4e4066eb09ab979b5d78dc9152a3f043071f052463518f0978322c782c6"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a3f043071f052463518f0978322c782c6">TARGET_UNIT_SRC_AREA_ENTRY</a></div><div class="ttdeci">@ TARGET_UNIT_SRC_AREA_ENTRY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01388">SharedDefines.h:1388</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a418aed4e4066eb09ab979b5d78dc9152a423eed54c405c7e51816127214e8ea82"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a423eed54c405c7e51816127214e8ea82">TARGET_UNIT_DEST_AREA_ENEMY</a></div><div class="ttdeci">@ TARGET_UNIT_DEST_AREA_ENEMY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01393">SharedDefines.h:1393</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a418aed4e4066eb09ab979b5d78dc9152a5636479f4e747c35d6eab829ac5ba6c1"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a5636479f4e747c35d6eab829ac5ba6c1">TARGET_UNIT_SRC_AREA_ALLY</a></div><div class="ttdeci">@ TARGET_UNIT_SRC_AREA_ALLY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01406">SharedDefines.h:1406</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a418aed4e4066eb09ab979b5d78dc9152a626ebdc89eb6b2243936fb5f6a6edf98"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a626ebdc89eb6b2243936fb5f6a6edf98">TARGET_UNIT_TARGET_ALLY</a></div><div class="ttdeci">@ TARGET_UNIT_TARGET_ALLY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01397">SharedDefines.h:1397</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a418aed4e4066eb09ab979b5d78dc9152a6a231b500f22fb9e67a5a5ebdb38ce6c"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a6a231b500f22fb9e67a5a5ebdb38ce6c">TARGET_DEST_CASTER_BACK</a></div><div class="ttdeci">@ TARGET_DEST_CASTER_BACK</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01424">SharedDefines.h:1424</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a418aed4e4066eb09ab979b5d78dc9152a6a3ac6fe01ea9d30849ba6f822e08e35"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a6a3ac6fe01ea9d30849ba6f822e08e35">TARGET_UNIT_VEHICLE</a></div><div class="ttdeci">@ TARGET_UNIT_VEHICLE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01470">SharedDefines.h:1470</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a></div><div class="ttdeci">@ TARGET_UNIT_TARGET_ANY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01401">SharedDefines.h:1401</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a></div><div class="ttdeci">@ TARGET_DEST_DEST</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01463">SharedDefines.h:1463</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a418aed4e4066eb09ab979b5d78dc9152a7b8c7cf5819db17b9ed16dfbb93addb4"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a7b8c7cf5819db17b9ed16dfbb93addb4">TARGET_UNIT_SRC_AREA_ENEMY</a></div><div class="ttdeci">@ TARGET_UNIT_SRC_AREA_ENEMY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01392">SharedDefines.h:1392</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a418aed4e4066eb09ab979b5d78dc9152a85d8f0e6d574cf640ec0c42b54e2ad3c"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a85d8f0e6d574cf640ec0c42b54e2ad3c">TARGET_DEST_TARGET_ENEMY</a></div><div class="ttdeci">@ TARGET_DEST_TARGET_ENEMY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01429">SharedDefines.h:1429</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a418aed4e4066eb09ab979b5d78dc9152a85f865aa0228f193158a34cbafe4d706"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a85f865aa0228f193158a34cbafe4d706">TARGET_UNIT_PET</a></div><div class="ttdeci">@ TARGET_UNIT_PET</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01386">SharedDefines.h:1386</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a418aed4e4066eb09ab979b5d78dc9152a86bfc5644ebafe704834da6ecb5a0ac8"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a86bfc5644ebafe704834da6ecb5a0ac8">TARGET_DEST_DYNOBJ_NONE</a></div><div class="ttdeci">@ TARGET_DEST_DYNOBJ_NONE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01464">SharedDefines.h:1464</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a418aed4e4066eb09ab979b5d78dc9152a89060caf79b628127f72c89a4ba73046"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a89060caf79b628127f72c89a4ba73046">TARGET_DEST_DYNOBJ_ALLY</a></div><div class="ttdeci">@ TARGET_DEST_DYNOBJ_ALLY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01405">SharedDefines.h:1405</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a418aed4e4066eb09ab979b5d78dc9152a8b2344cd954d6b4c61d99cd3ec1599f3"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a8b2344cd954d6b4c61d99cd3ec1599f3">TARGET_UNIT_TARGET_ENEMY</a></div><div class="ttdeci">@ TARGET_UNIT_TARGET_ENEMY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01387">SharedDefines.h:1387</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a418aed4e4066eb09ab979b5d78dc9152a8c90320900b4114323d35111f290ff90"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a8c90320900b4114323d35111f290ff90">TARGET_UNIT_MASTER</a></div><div class="ttdeci">@ TARGET_UNIT_MASTER</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01403">SharedDefines.h:1403</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a418aed4e4066eb09ab979b5d78dc9152a9125b12d356a5389b0e8071ea5854423"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a9125b12d356a5389b0e8071ea5854423">TARGET_DEST_TRAJ</a></div><div class="ttdeci">@ TARGET_DEST_TRAJ</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01465">SharedDefines.h:1465</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a418aed4e4066eb09ab979b5d78dc9152a934668876768a96fe7ef286b00c4ed4d"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152a934668876768a96fe7ef286b00c4ed4d">TARGET_UNIT_DEST_AREA_ENTRY</a></div><div class="ttdeci">@ TARGET_UNIT_DEST_AREA_ENTRY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01389">SharedDefines.h:1389</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a418aed4e4066eb09ab979b5d78dc9152aab0751c8895d224e37904a23bc625efa"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152aab0751c8895d224e37904a23bc625efa">TARGET_UNIT_NEARBY_ENTRY</a></div><div class="ttdeci">@ TARGET_UNIT_NEARBY_ENTRY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01414">SharedDefines.h:1414</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a418aed4e4066eb09ab979b5d78dc9152aaff4bf7194055bf177ba701c46cdcadb"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152aaff4bf7194055bf177ba701c46cdcadb">TARGET_DEST_CASTER</a></div><div class="ttdeci">@ TARGET_DEST_CASTER</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01395">SharedDefines.h:1395</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a></div><div class="ttdeci">@ TARGET_UNIT_CASTER</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01382">SharedDefines.h:1382</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a418aed4e4066eb09ab979b5d78dc9152aee8705374ad45df671cbba17e5614ca3"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a418aed4e4066eb09ab979b5d78dc9152aee8705374ad45df671cbba17e5614ca3">TARGET_SRC_CASTER</a></div><div class="ttdeci">@ TARGET_SRC_CASTER</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01398">SharedDefines.h:1398</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a583cc1b9a8909370e4d51a890d897668a39664dba0d11d177e801877b9068bd8f"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668a39664dba0d11d177e801877b9068bd8f">SPELL_ATTR2_CANT_CRIT</a></div><div class="ttdeci">@ SPELL_ATTR2_CANT_CRIT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00457">SharedDefines.h:457</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a583cc1b9a8909370e4d51a890d897668a569c52bdb00244804fc6776e676532bd"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668a569c52bdb00244804fc6776e676532bd">SPELL_ATTR2_ENCHANT_OWN_ITEM_ONLY</a></div><div class="ttdeci">@ SPELL_ATTR2_ENCHANT_OWN_ITEM_ONLY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00441">SharedDefines.h:441</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a583cc1b9a8909370e4d51a890d897668ad2cb623676f084a0370c1983084a29d8"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668ad2cb623676f084a0370c1983084a29d8">SPELL_ATTR2_ALLOW_DEAD_TARGET</a></div><div class="ttdeci">@ SPELL_ATTR2_ALLOW_DEAD_TARGET</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00428">SharedDefines.h:428</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a></div><div class="ttdeci">@ SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00430">SharedDefines.h:430</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a638f8f550e23b2e3180b481bb3f38076a02166cd30d63804b4175bdfe29ffd068"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a638f8f550e23b2e3180b481bb3f38076a02166cd30d63804b4175bdfe29ffd068">SPELL_ATTR1_NO_THREAT</a></div><div class="ttdeci">@ SPELL_ATTR1_NO_THREAT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00401">SharedDefines.h:401</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a638f8f550e23b2e3180b481bb3f38076a4046bd467f3727369dcbc06e1d5f2b8f"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a638f8f550e23b2e3180b481bb3f38076a4046bd467f3727369dcbc06e1d5f2b8f">SPELL_ATTR1_EXCLUDE_CASTER</a></div><div class="ttdeci">@ SPELL_ATTR1_EXCLUDE_CASTER</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00410">SharedDefines.h:410</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a638f8f550e23b2e3180b481bb3f38076a493b6dc822a0de07fbd0dd07dbefb73a"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a638f8f550e23b2e3180b481bb3f38076a493b6dc822a0de07fbd0dd07dbefb73a">SPELL_ATTR1_IS_CHANNELED</a></div><div class="ttdeci">@ SPELL_ATTR1_IS_CHANNELED</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00393">SharedDefines.h:393</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a638f8f550e23b2e3180b481bb3f38076a59ca425969878e61a40a8337878c1933"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a638f8f550e23b2e3180b481bb3f38076a59ca425969878e61a40a8337878c1933">SPELL_ATTR1_ALLOW_WHILE_STEALTHED</a></div><div class="ttdeci">@ SPELL_ATTR1_ALLOW_WHILE_STEALTHED</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00396">SharedDefines.h:396</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a638f8f550e23b2e3180b481bb3f38076a64f1f0a514e5f038c76d9a76f9dd306c"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a638f8f550e23b2e3180b481bb3f38076a64f1f0a514e5f038c76d9a76f9dd306c">SPELL_ATTR1_IS_SELF_CHANNELED</a></div><div class="ttdeci">@ SPELL_ATTR1_IS_SELF_CHANNELED</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00397">SharedDefines.h:397</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a638f8f550e23b2e3180b481bb3f38076ab2ba4cd294111dc378e33055074250be"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a638f8f550e23b2e3180b481bb3f38076ab2ba4cd294111dc378e33055074250be">SPELL_ATTR1_IMMUNITY_PURGES_EFFECT</a></div><div class="ttdeci">@ SPELL_ATTR1_IMMUNITY_PURGES_EFFECT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00406">SharedDefines.h:406</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a638f8f550e23b2e3180b481bb3f38076ad6ab59406384bca17293f5238c13bbbf"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a638f8f550e23b2e3180b481bb3f38076ad6ab59406384bca17293f5238c13bbbf">SPELL_ATTR1_IMMUNITY_TO_HOSTILE_AND_FRIENDLY_EFFECTS</a></div><div class="ttdeci">@ SPELL_ATTR1_IMMUNITY_TO_HOSTILE_AND_FRIENDLY_EFFECTS</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00407">SharedDefines.h:407</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a638f8f550e23b2e3180b481bb3f38076ae0373a9ba8029f5d19493a0f76d6bfcc"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a638f8f550e23b2e3180b481bb3f38076ae0373a9ba8029f5d19493a0f76d6bfcc">SPELL_ATTR1_DISMISS_PET_FIRST</a></div><div class="ttdeci">@ SPELL_ATTR1_DISMISS_PET_FIRST</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00391">SharedDefines.h:391</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a638f8f550e23b2e3180b481bb3f38076aff8f5208b6bab753ec0cb8d8ccff67eb"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a638f8f550e23b2e3180b481bb3f38076aff8f5208b6bab753ec0cb8d8ccff67eb">SPELL_ATTR1_NO_REDIRECTION</a></div><div class="ttdeci">@ SPELL_ATTR1_NO_REDIRECTION</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00394">SharedDefines.h:394</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a6f95d0d447e8085b1097ac9965af2a81a0a71d4cc2660db4702163d932a53841c"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a0a71d4cc2660db4702163d932a53841c">SPELL_ATTR3_ALLOW_AURA_WHILE_DEAD</a></div><div class="ttdeci">@ SPELL_ATTR3_ALLOW_AURA_WHILE_DEAD</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00485">SharedDefines.h:485</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a></div><div class="ttdeci">@ SPELL_ATTR3_ALWAYS_HIT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00483">SharedDefines.h:483</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67">SPELL_ATTR3_DOT_STACKING_RULE</a></div><div class="ttdeci">@ SPELL_ATTR3_DOT_STACKING_RULE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00472">SharedDefines.h:472</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a6f95d0d447e8085b1097ac9965af2a81a7dfc84e5ab0a21d82a815fa84f49b33f"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81a7dfc84e5ab0a21d82a815fa84f49b33f">SPELL_ATTR3_CAN_PROC_FROM_PROCS</a></div><div class="ttdeci">@ SPELL_ATTR3_CAN_PROC_FROM_PROCS</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00491">SharedDefines.h:491</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a6f95d0d447e8085b1097ac9965af2a81ac2986782f66a992ba3ff45797716f716"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81ac2986782f66a992ba3ff45797716f716">SPELL_ATTR3_SUPRESS_CASTER_PROCS</a></div><div class="ttdeci">@ SPELL_ATTR3_SUPRESS_CASTER_PROCS</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00481">SharedDefines.h:481</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a6f95d0d447e8085b1097ac9965af2a81acdc9f1610f2a4cd247669ddb7497aa48"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81acdc9f1610f2a4cd247669ddb7497aa48">SPELL_ATTR3_SUPRESS_TARGET_PROCS</a></div><div class="ttdeci">@ SPELL_ATTR3_SUPRESS_TARGET_PROCS</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00482">SharedDefines.h:482</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a6f95d0d447e8085b1097ac9965af2a81aee1cef82ec80ed50232026a07405804a"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81aee1cef82ec80ed50232026a07405804a">SPELL_ATTR3_COMPLETELY_BLOCKED</a></div><div class="ttdeci">@ SPELL_ATTR3_COMPLETELY_BLOCKED</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00468">SharedDefines.h:468</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a6f95d0d447e8085b1097ac9965af2a81af803e1e3c27f800be5855d258135fbff"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81af803e1e3c27f800be5855d258135fbff">SPELL_ATTR3_IGNORE_CASTER_MODIFIERS</a></div><div class="ttdeci">@ SPELL_ATTR3_IGNORE_CASTER_MODIFIERS</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00494">SharedDefines.h:494</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a6f95d0d447e8085b1097ac9965af2a81afd31a3efb01e11ee685cd0cac502b9ac"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a6f95d0d447e8085b1097ac9965af2a81afd31a3efb01e11ee685cd0cac502b9ac">SPELL_ATTR3_ONLY_ON_PLAYER</a></div><div class="ttdeci">@ SPELL_ATTR3_ONLY_ON_PLAYER</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00473">SharedDefines.h:473</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a7443b708d5bd7312fc0a420679ae10a4a44c25232e532dcd5a47b225f2e531093"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a7443b708d5bd7312fc0a420679ae10a4a44c25232e532dcd5a47b225f2e531093">SPELL_DAMAGE_CLASS_MAGIC</a></div><div class="ttdeci">@ SPELL_DAMAGE_CLASS_MAGIC</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01518">SharedDefines.h:1518</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a7513eda5ac39f7f649b82c80de7c324da77ec52d5d5f9771c1ac94fddaf7fb84e"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a7513eda5ac39f7f649b82c80de7c324da77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a></div><div class="ttdeci">@ TEAM_ALLIANCE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00732">SharedDefines.h:732</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a7513eda5ac39f7f649b82c80de7c324da80bb98f9049563b07d3b738a0783366a"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a7513eda5ac39f7f649b82c80de7c324da80bb98f9049563b07d3b738a0783366a">TEAM_HORDE</a></div><div class="ttdeci">@ TEAM_HORDE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00733">SharedDefines.h:733</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a7bd0d3f34feccd7870d260f3b1d4aad4a35b234d6a0e43f5ca515b89212bcae4c"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a7bd0d3f34feccd7870d260f3b1d4aad4a35b234d6a0e43f5ca515b89212bcae4c">LOCK_KEY_NONE</a></div><div class="ttdeci">@ LOCK_KEY_NONE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l02554">SharedDefines.h:2554</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a839e74faedbcc472cd6a757aab737113a5ecdc307f5433058af97e64b5375411e"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a839e74faedbcc472cd6a757aab737113a5ecdc307f5433058af97e64b5375411e">SUMMON_TYPE_PET</a></div><div class="ttdeci">@ SUMMON_TYPE_PET</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03265">SharedDefines.h:3265</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a839e74faedbcc472cd6a757aab737113a63b874f968b32c4ddd8f22c82f24cb77"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a839e74faedbcc472cd6a757aab737113a63b874f968b32c4ddd8f22c82f24cb77">SUMMON_TYPE_TOTEM</a></div><div class="ttdeci">@ SUMMON_TYPE_TOTEM</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03268">SharedDefines.h:3268</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a8fe6a763d72d84ded23cec01c772f7ada109b62f5cd355715776e4e53f937ea3c"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a8fe6a763d72d84ded23cec01c772f7ada109b62f5cd355715776e4e53f937ea3c">MECHANIC_DISARM</a></div><div class="ttdeci">@ MECHANIC_DISARM</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01300">SharedDefines.h:1300</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a8fe6a763d72d84ded23cec01c772f7ada3f5a5b15800c7e6d11e1c1482fc53f96"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a8fe6a763d72d84ded23cec01c772f7ada3f5a5b15800c7e6d11e1c1482fc53f96">MECHANIC_FEAR</a></div><div class="ttdeci">@ MECHANIC_FEAR</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01302">SharedDefines.h:1302</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a8fe6a763d72d84ded23cec01c772f7ada5bd5524686a4163521296cb159b22363"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a8fe6a763d72d84ded23cec01c772f7ada5bd5524686a4163521296cb159b22363">MECHANIC_KNOCKOUT</a></div><div class="ttdeci">@ MECHANIC_KNOCKOUT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01311">SharedDefines.h:1311</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a8fe6a763d72d84ded23cec01c772f7ada655f913cba9a74b4321f72f001ca174e"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a8fe6a763d72d84ded23cec01c772f7ada655f913cba9a74b4321f72f001ca174e">MECHANIC_CHARM</a></div><div class="ttdeci">@ MECHANIC_CHARM</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01298">SharedDefines.h:1298</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a8fe6a763d72d84ded23cec01c772f7ada77412c9a71759f2e8b7f3c629681be4d"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a8fe6a763d72d84ded23cec01c772f7ada77412c9a71759f2e8b7f3c629681be4d">MECHANIC_STUN</a></div><div class="ttdeci">@ MECHANIC_STUN</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01309">SharedDefines.h:1309</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a8fe6a763d72d84ded23cec01c772f7ada8edb909788821535a07afdb9bf8957a8"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a8fe6a763d72d84ded23cec01c772f7ada8edb909788821535a07afdb9bf8957a8">MECHANIC_ROOT</a></div><div class="ttdeci">@ MECHANIC_ROOT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01304">SharedDefines.h:1304</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a8fe6a763d72d84ded23cec01c772f7ada94162e45f3c41a104fa71a593b39a926"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a8fe6a763d72d84ded23cec01c772f7ada94162e45f3c41a104fa71a593b39a926">MECHANIC_SLEEP</a></div><div class="ttdeci">@ MECHANIC_SLEEP</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01307">SharedDefines.h:1307</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a8fe6a763d72d84ded23cec01c772f7ada9dd2384218d039987359150d147d3263"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a8fe6a763d72d84ded23cec01c772f7ada9dd2384218d039987359150d147d3263">MECHANIC_POLYMORPH</a></div><div class="ttdeci">@ MECHANIC_POLYMORPH</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01314">SharedDefines.h:1314</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a8fe6a763d72d84ded23cec01c772f7adaa823d24ef2d29559df9cd8de9f0c071a"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a8fe6a763d72d84ded23cec01c772f7adaa823d24ef2d29559df9cd8de9f0c071a">MECHANIC_BANISH</a></div><div class="ttdeci">@ MECHANIC_BANISH</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01315">SharedDefines.h:1315</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a8fe6a763d72d84ded23cec01c772f7adac33e72cd9c395583cd6db721014056b5"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a8fe6a763d72d84ded23cec01c772f7adac33e72cd9c395583cd6db721014056b5">MECHANIC_SNARE</a></div><div class="ttdeci">@ MECHANIC_SNARE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01308">SharedDefines.h:1308</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a8fe6a763d72d84ded23cec01c772f7adaca6c784aae46996e1ab07dce55ae4170"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a8fe6a763d72d84ded23cec01c772f7adaca6c784aae46996e1ab07dce55ae4170">MECHANIC_SILENCE</a></div><div class="ttdeci">@ MECHANIC_SILENCE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01306">SharedDefines.h:1306</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a8fe6a763d72d84ded23cec01c772f7adad1d6dcbfe100975b5e19ea7037126fb2"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a8fe6a763d72d84ded23cec01c772f7adad1d6dcbfe100975b5e19ea7037126fb2">MECHANIC_SHACKLE</a></div><div class="ttdeci">@ MECHANIC_SHACKLE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01317">SharedDefines.h:1317</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a8fe6a763d72d84ded23cec01c772f7adad9aacefd364ef80ddcf9f0caaf7bc930"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a8fe6a763d72d84ded23cec01c772f7adad9aacefd364ef80ddcf9f0caaf7bc930">MECHANIC_SAPPED</a></div><div class="ttdeci">@ MECHANIC_SAPPED</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01327">SharedDefines.h:1327</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a8fe6a763d72d84ded23cec01c772f7adaedfaf974478ae49d77b1d7ffd7bbafff"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a8fe6a763d72d84ded23cec01c772f7adaedfaf974478ae49d77b1d7ffd7bbafff">MECHANIC_HORROR</a></div><div class="ttdeci">@ MECHANIC_HORROR</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01321">SharedDefines.h:1321</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a9264ae6b0ef1b61a6eeb7fdac9fbab1ba0a134bc75d430da10f6c1df4977c29cf"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba0a134bc75d430da10f6c1df4977c29cf">SPELLFAMILY_WARLOCK</a></div><div class="ttdeci">@ SPELLFAMILY_WARLOCK</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03459">SharedDefines.h:3459</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a9264ae6b0ef1b61a6eeb7fdac9fbab1ba0e4b88db8be01ea5d62cc08d07b28aae"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba0e4b88db8be01ea5d62cc08d07b28aae">SPELLFAMILY_MAGE</a></div><div class="ttdeci">@ SPELLFAMILY_MAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03457">SharedDefines.h:3457</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a9264ae6b0ef1b61a6eeb7fdac9fbab1ba0ebbb6206eb92cdc484b416eb6f41743"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba0ebbb6206eb92cdc484b416eb6f41743">SPELLFAMILY_GENERIC</a></div><div class="ttdeci">@ SPELLFAMILY_GENERIC</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03454">SharedDefines.h:3454</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a9264ae6b0ef1b61a6eeb7fdac9fbab1ba52acbcf14a96b5ed01b8a43052a26a11"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba52acbcf14a96b5ed01b8a43052a26a11">SPELLFAMILY_WARRIOR</a></div><div class="ttdeci">@ SPELLFAMILY_WARRIOR</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03458">SharedDefines.h:3458</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a9264ae6b0ef1b61a6eeb7fdac9fbab1ba573f9ad8924e7632156291378448e742"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba573f9ad8924e7632156291378448e742">SPELLFAMILY_PALADIN</a></div><div class="ttdeci">@ SPELLFAMILY_PALADIN</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03464">SharedDefines.h:3464</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a9264ae6b0ef1b61a6eeb7fdac9fbab1ba66df9b34a3b922a8242d3dfb74494026"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba66df9b34a3b922a8242d3dfb74494026">SPELLFAMILY_HUNTER</a></div><div class="ttdeci">@ SPELLFAMILY_HUNTER</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03463">SharedDefines.h:3463</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a9264ae6b0ef1b61a6eeb7fdac9fbab1ba9160b2e3a87a908af25c9a594295c0c1"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba9160b2e3a87a908af25c9a594295c0c1">SPELLFAMILY_ROGUE</a></div><div class="ttdeci">@ SPELLFAMILY_ROGUE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03462">SharedDefines.h:3462</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a9264ae6b0ef1b61a6eeb7fdac9fbab1ba9c8a9c6e102c760263471a93e58e80ea"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba9c8a9c6e102c760263471a93e58e80ea">SPELLFAMILY_SHAMAN</a></div><div class="ttdeci">@ SPELLFAMILY_SHAMAN</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03465">SharedDefines.h:3465</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a9264ae6b0ef1b61a6eeb7fdac9fbab1bac3788ce010075b8bd4e6083638d8cd40"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1bac3788ce010075b8bd4e6083638d8cd40">SPELLFAMILY_DRUID</a></div><div class="ttdeci">@ SPELLFAMILY_DRUID</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03461">SharedDefines.h:3461</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a9264ae6b0ef1b61a6eeb7fdac9fbab1badc34b27f2cd523716d80c51d4e1d6f02"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1badc34b27f2cd523716d80c51d4e1d6f02">SPELLFAMILY_DEATHKNIGHT</a></div><div class="ttdeci">@ SPELLFAMILY_DEATHKNIGHT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03469">SharedDefines.h:3469</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a9264ae6b0ef1b61a6eeb7fdac9fbab1baf6b533c234808dd17936190a630db749"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1baf6b533c234808dd17936190a630db749">SPELLFAMILY_UNK1</a></div><div class="ttdeci">@ SPELLFAMILY_UNK1</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03455">SharedDefines.h:3455</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a9dcd0ba8d94905ba214797c12e7c44ad"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ad">SpellAttr0</a></div><div class="ttdeci">SpellAttr0</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00352">SharedDefines.h:353</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a9dcd0ba8d94905ba214797c12e7c44ada181bc0f8031c0a2e477f0eb213ae3fc0"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada181bc0f8031c0a2e477f0eb213ae3fc0">SPELL_ATTR0_NOT_SHAPESHIFTED</a></div><div class="ttdeci">@ SPELL_ATTR0_NOT_SHAPESHIFTED</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00370">SharedDefines.h:370</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a9dcd0ba8d94905ba214797c12e7c44ada2d40022c3a03aa2a0e78dfe6a115e3f3"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada2d40022c3a03aa2a0e78dfe6a115e3f3">SPELL_ATTR0_AURA_IS_DEBUFF</a></div><div class="ttdeci">@ SPELL_ATTR0_AURA_IS_DEBUFF</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00380">SharedDefines.h:380</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a9dcd0ba8d94905ba214797c12e7c44ada407e023ed336f3c64aa20f11dd49f6bd"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada407e023ed336f3c64aa20f11dd49f6bd">SPELL_ATTR0_PASSIVE</a></div><div class="ttdeci">@ SPELL_ATTR0_PASSIVE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00360">SharedDefines.h:360</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a9dcd0ba8d94905ba214797c12e7c44ada46b6f1510e54490ecf24ee8a769b0aab"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada46b6f1510e54490ecf24ee8a769b0aab">SPELL_ATTR0_IS_ABILITY</a></div><div class="ttdeci">@ SPELL_ATTR0_IS_ABILITY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00358">SharedDefines.h:358</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a9dcd0ba8d94905ba214797c12e7c44ada6a12b14654225a9ccea65799ce6fc780"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada6a12b14654225a9ccea65799ce6fc780">SPELL_ATTR0_NO_IMMUNITIES</a></div><div class="ttdeci">@ SPELL_ATTR0_NO_IMMUNITIES</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00383">SharedDefines.h:383</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a9dcd0ba8d94905ba214797c12e7c44ada70a88000e26e915779029013b794396e"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada70a88000e26e915779029013b794396e">SPELL_ATTR0_CANCELS_AUTO_ATTACK_COMBAT</a></div><div class="ttdeci">@ SPELL_ATTR0_CANCELS_AUTO_ATTACK_COMBAT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00374">SharedDefines.h:374</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a9dcd0ba8d94905ba214797c12e7c44ada74e8efc0492288577083b1cc470e48c4"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada74e8efc0492288577083b1cc470e48c4">SPELL_ATTR0_NO_AURA_CANCEL</a></div><div class="ttdeci">@ SPELL_ATTR0_NO_AURA_CANCEL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00386">SharedDefines.h:385</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a9dcd0ba8d94905ba214797c12e7c44ada837fa548e9858d30ad83b70b87dcc13d"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada837fa548e9858d30ad83b70b87dcc13d">SPELL_ATTR0_SCALES_WITH_CREATURE_LEVEL</a></div><div class="ttdeci">@ SPELL_ATTR0_SCALES_WITH_CREATURE_LEVEL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00373">SharedDefines.h:373</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a9dcd0ba8d94905ba214797c12e7c44ada9d53bd915f5409506cb045a0688a0a75"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44ada9d53bd915f5409506cb045a0688a0a75">SPELL_ATTR0_DO_NOT_DISPLAY</a></div><div class="ttdeci">@ SPELL_ATTR0_DO_NOT_DISPLAY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00361">SharedDefines.h:361</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a9dcd0ba8d94905ba214797c12e7c44adaba8502c6e37f89c8ff90f17025b0cb08"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44adaba8502c6e37f89c8ff90f17025b0cb08">SPELL_ATTR0_USES_RANGED_SLOT</a></div><div class="ttdeci">@ SPELL_ATTR0_USES_RANGED_SLOT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00355">SharedDefines.h:355</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a9dcd0ba8d94905ba214797c12e7c44adaba896f4f7d6dc5d34f09ff29f5db159a"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a9dcd0ba8d94905ba214797c12e7c44adaba896f4f7d6dc5d34f09ff29f5db159a">SPELL_ATTR0_ALLOW_CAST_WHILE_DEAD</a></div><div class="ttdeci">@ SPELL_ATTR0_ALLOW_CAST_WHILE_DEAD</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00377">SharedDefines.h:377</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_aadb41be7fdd6b2a7035356dca5e5ea6ea0bbe26d588c3dbd56c898f29589caabf"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#aadb41be7fdd6b2a7035356dca5e5ea6ea0bbe26d588c3dbd56c898f29589caabf">BATTLEGROUND_IC</a></div><div class="ttdeci">@ BATTLEGROUND_IC</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03418">SharedDefines.h:3418</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_acc1ff89f53e83d6c8146a6989a5cba5b"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#acc1ff89f53e83d6c8146a6989a5cba5b">DiminishingReturnsType</a></div><div class="ttdeci">DiminishingReturnsType</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03218">SharedDefines.h:3219</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_acc1ff89f53e83d6c8146a6989a5cba5ba1f86ae6ed27da5cb0cf59b6510abb5ea"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#acc1ff89f53e83d6c8146a6989a5cba5ba1f86ae6ed27da5cb0cf59b6510abb5ea">DRTYPE_NONE</a></div><div class="ttdeci">@ DRTYPE_NONE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03220">SharedDefines.h:3220</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_acc1ff89f53e83d6c8146a6989a5cba5ba6981fe2d29b2010184ef7dcca4f504ed"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#acc1ff89f53e83d6c8146a6989a5cba5ba6981fe2d29b2010184ef7dcca4f504ed">DRTYPE_PLAYER</a></div><div class="ttdeci">@ DRTYPE_PLAYER</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03221">SharedDefines.h:3221</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_acc1ff89f53e83d6c8146a6989a5cba5bad20bd308598b8e1f46db4435e2843180"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#acc1ff89f53e83d6c8146a6989a5cba5bad20bd308598b8e1f46db4435e2843180">DRTYPE_ALL</a></div><div class="ttdeci">@ DRTYPE_ALL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03223">SharedDefines.h:3222</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_ad935ca576b06ccd85380777030e2585f"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#ad935ca576b06ccd85380777030e2585f">RACEMASK_ALL_PLAYABLE</a></div><div class="ttdeci">#define RACEMASK_ALL_PLAYABLE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00096">SharedDefines.h:96</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_ada2b5e66b650d7a63f70c06a746070d1a6672f5f1c819fba2de73b0e8c8a9cb06"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#ada2b5e66b650d7a63f70c06a746070d1a6672f5f1c819fba2de73b0e8c8a9cb06">DISPEL_MAGIC</a></div><div class="ttdeci">@ DISPEL_MAGIC</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01345">SharedDefines.h:1345</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_ada2b5e66b650d7a63f70c06a746070d1a71382806b5f961e5a04f6d06a97a1195"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#ada2b5e66b650d7a63f70c06a746070d1a71382806b5f961e5a04f6d06a97a1195">DISPEL_NONE</a></div><div class="ttdeci">@ DISPEL_NONE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l01344">SharedDefines.h:1344</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_aec1a0b3970de527f109db7fb8b7df5b6a5c5365d0d28e6cd6d5a9475e06676458"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#aec1a0b3970de527f109db7fb8b7df5b6a5c5365d0d28e6cd6d5a9475e06676458">SPELL_ATTR4_ALLOW_ENETRING_ARENA</a></div><div class="ttdeci">@ SPELL_ATTR4_ALLOW_ENETRING_ARENA</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00523">SharedDefines.h:523</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_aec1a0b3970de527f109db7fb8b7df5b6ab1a8611660de2bc3a6ff4523b2d76376"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#aec1a0b3970de527f109db7fb8b7df5b6ab1a8611660de2bc3a6ff4523b2d76376">SPELL_ATTR4_NO_CAST_LOG</a></div><div class="ttdeci">@ SPELL_ATTR4_NO_CAST_LOG</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00502">SharedDefines.h:502</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_aec1a0b3970de527f109db7fb8b7df5b6aba174418f37eafaa54fe775f50a43ca9"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#aec1a0b3970de527f109db7fb8b7df5b6aba174418f37eafaa54fe775f50a43ca9">SPELL_ATTR4_ALLOW_CAST_WHILE_CASTING</a></div><div class="ttdeci">@ SPELL_ATTR4_ALLOW_CAST_WHILE_CASTING</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00509">SharedDefines.h:509</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_aec1a0b3970de527f109db7fb8b7df5b6ad292b675afe6f67c5524fb87701dbf59"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#aec1a0b3970de527f109db7fb8b7df5b6ad292b675afe6f67c5524fb87701dbf59">SPELL_ATTR4_CANNOT_BE_STOLEN</a></div><div class="ttdeci">@ SPELL_ATTR4_CANNOT_BE_STOLEN</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00508">SharedDefines.h:508</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_aec1a0b3970de527f109db7fb8b7df5b6ad67c11c16b7239803ce216691ed50360"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#aec1a0b3970de527f109db7fb8b7df5b6ad67c11c16b7239803ce216691ed50360">SPELL_ATTR4_REACTIVE_DAMAGE_PROC</a></div><div class="ttdeci">@ SPELL_ATTR4_REACTIVE_DAMAGE_PROC</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00516">SharedDefines.h:516</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_aec2f46e883369a535607f981c323c094a7e4ba700ac08e92a5bd292b5c3507c0e"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#aec2f46e883369a535607f981c323c094a7e4ba700ac08e92a5bd292b5c3507c0e">SUMMON_CATEGORY_PET</a></div><div class="ttdeci">@ SUMMON_CATEGORY_PET</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l03255">SharedDefines.h:3255</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_af4541d30ebbff76b1f9f689519789234a91ab54f2f2d5f62473324790d2678324"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#af4541d30ebbff76b1f9f689519789234a91ab54f2f2d5f62473324790d2678324">SKILL_RIDING</a></div><div class="ttdeci">@ SKILL_RIDING</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l02961">SharedDefines.h:2961</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_af4541d30ebbff76b1f9f689519789234aeb1f5d58fca5c46b87ad0944191ed916"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#af4541d30ebbff76b1f9f689519789234aeb1f5d58fca5c46b87ad0944191ed916">SKILL_ENCHANTING</a></div><div class="ttdeci">@ SKILL_ENCHANTING</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l02924">SharedDefines.h:2924</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_afc0226d0611e178e6edb4d2776e03094a40a19713dcda0fee7572f01939a9a61d"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#afc0226d0611e178e6edb4d2776e03094a40a19713dcda0fee7572f01939a9a61d">SPELL_ATTR6_CAN_TARGET_UNTARGETABLE</a></div><div class="ttdeci">@ SPELL_ATTR6_CAN_TARGET_UNTARGETABLE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00600">SharedDefines.h:600</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_afc0226d0611e178e6edb4d2776e03094a653a9dadab0c249ed232ecda87dd833f"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#afc0226d0611e178e6edb4d2776e03094a653a9dadab0c249ed232ecda87dd833f">SPELL_ATTR6_IGNORE_CASTER_DAMAGE_MODIFIERS</a></div><div class="ttdeci">@ SPELL_ATTR6_IGNORE_CASTER_DAMAGE_MODIFIERS</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00605">SharedDefines.h:605</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_afc0226d0611e178e6edb4d2776e03094a78992c0cb395380959dea6189150d8bb"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#afc0226d0611e178e6edb4d2776e03094a78992c0cb395380959dea6189150d8bb">SPELL_ATTR6_IGNORE_PHASE_SHIFT</a></div><div class="ttdeci">@ SPELL_ATTR6_IGNORE_PHASE_SHIFT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00589">SharedDefines.h:589</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_afc0226d0611e178e6edb4d2776e03094ac83bf4647c4ce691b6e207712e286c98"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#afc0226d0611e178e6edb4d2776e03094ac83bf4647c4ce691b6e207712e286c98">SPELL_ATTR6_NO_CATEGORY_COOLDOWN_MODS</a></div><div class="ttdeci">@ SPELL_ATTR6_NO_CATEGORY_COOLDOWN_MODS</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00608">SharedDefines.h:607</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_aff6913cfd69489c107a071be9ec2ec8fa12667dd3f55738c93e1ddb1351779b42"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#aff6913cfd69489c107a071be9ec2ec8fa12667dd3f55738c93e1ddb1351779b42">SPELL_SCHOOL_MASK_NORMAL</a></div><div class="ttdeci">@ SPELL_SCHOOL_MASK_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00269">SharedDefines.h:269</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_aff6913cfd69489c107a071be9ec2ec8fa53b7883ddb2ff484fe7e089afe2c85dc"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#aff6913cfd69489c107a071be9ec2ec8fa53b7883ddb2ff484fe7e089afe2c85dc">SPELL_SCHOOL_MASK_MAGIC</a></div><div class="ttdeci">@ SPELL_SCHOOL_MASK_MAGIC</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00284">SharedDefines.h:284</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_aff6913cfd69489c107a071be9ec2ec8fa65c125a1722e326c066d8aa1350911c8"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#aff6913cfd69489c107a071be9ec2ec8fa65c125a1722e326c066d8aa1350911c8">SPELL_SCHOOL_MASK_ALL</a></div><div class="ttdeci">@ SPELL_SCHOOL_MASK_ALL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00288">SharedDefines.h:287</a></div></div>
<div class="ttc" id="a_spell_8h_html"><div class="ttname"><a href="../../d5/dfa/_spell_8h.html">Spell.h</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html">SpellAuraDefines.h</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799a11166673929d2fda5967add284832fad"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a11166673929d2fda5967add284832fad">SPELL_AURA_PERIODIC_DAMAGE</a></div><div class="ttdeci">@ SPELL_AURA_PERIODIC_DAMAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00066">SpellAuraDefines.h:66</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799a2616d80ed4951b4ff860a0e0e2a98da0"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a2616d80ed4951b4ff860a0e0e2a98da0">SPELL_AURA_OBS_MOD_HEALTH</a></div><div class="ttdeci">@ SPELL_AURA_OBS_MOD_HEALTH</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00083">SpellAuraDefines.h:83</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799a2b064a34862eb2f85ec873398d787012"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a2b064a34862eb2f85ec873398d787012">SPELL_AURA_PERIODIC_HEALTH_FUNNEL</a></div><div class="ttdeci">@ SPELL_AURA_PERIODIC_HEALTH_FUNNEL</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00125">SpellAuraDefines.h:125</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799a2c530c4b7d2f3b77f65f62395bda9c4a"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a2c530c4b7d2f3b77f65f62395bda9c4a">SPELL_AURA_ADD_PCT_MODIFIER</a></div><div class="ttdeci">@ SPELL_AURA_ADD_PCT_MODIFIER</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00171">SpellAuraDefines.h:171</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799a2eb3f6e6a49bc0b70fa9726b1fa12bb3"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a2eb3f6e6a49bc0b70fa9726b1fa12bb3">SPELL_AURA_PERIODIC_MANA_LEECH</a></div><div class="ttdeci">@ SPELL_AURA_PERIODIC_MANA_LEECH</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00127">SpellAuraDefines.h:127</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799a30ae3c9499778cc5f920e81dc86cd020"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a30ae3c9499778cc5f920e81dc86cd020">SPELL_AURA_MOD_POSSESS_PET</a></div><div class="ttdeci">@ SPELL_AURA_MOD_POSSESS_PET</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00191">SpellAuraDefines.h:191</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799a3c6e04ab343a9f5ef767f8e8dd71af5b"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a3c6e04ab343a9f5ef767f8e8dd71af5b">SPELL_AURA_PROC_TRIGGER_SPELL</a></div><div class="ttdeci">@ SPELL_AURA_PROC_TRIGGER_SPELL</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00105">SpellAuraDefines.h:105</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799a44cf043145f5a78c5a4e36ecff8a034d"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a44cf043145f5a78c5a4e36ecff8a034d">SPELL_AURA_MOD_FEAR</a></div><div class="ttdeci">@ SPELL_AURA_MOD_FEAR</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00070">SpellAuraDefines.h:70</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799a4f1feb3950d2776a74c938c366adbbdf"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a4f1feb3950d2776a74c938c366adbbdf">SPELL_AURA_OBS_MOD_POWER</a></div><div class="ttdeci">@ SPELL_AURA_OBS_MOD_POWER</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00084">SpellAuraDefines.h:84</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799a50563ee6555455f041b81ce199ad1a4f"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a50563ee6555455f041b81ce199ad1a4f">SPELL_AURA_ADD_FLAT_MODIFIER</a></div><div class="ttdeci">@ SPELL_AURA_ADD_FLAT_MODIFIER</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00170">SpellAuraDefines.h:170</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799a600ad2316202aec206facbfa746a136b"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a600ad2316202aec206facbfa746a136b">SPELL_AURA_MOD_INVISIBILITY</a></div><div class="ttdeci">@ SPELL_AURA_MOD_INVISIBILITY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00081">SpellAuraDefines.h:81</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799a6442a4a379f82e2f08734296e1e21c9f"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a6442a4a379f82e2f08734296e1e21c9f">SPELL_AURA_PERIODIC_HEAL</a></div><div class="ttdeci">@ SPELL_AURA_PERIODIC_HEAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00071">SpellAuraDefines.h:71</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799a651bba5033934ceb87de2329c845808a"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a651bba5033934ceb87de2329c845808a">SPELL_AURA_PROC_TRIGGER_SPELL_WITH_VALUE</a></div><div class="ttdeci">@ SPELL_AURA_PROC_TRIGGER_SPELL_WITH_VALUE</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00294">SpellAuraDefines.h:294</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799a65c8ec2c8667d6c49c278491c113a374"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a65c8ec2c8667d6c49c278491c113a374">SPELL_AURA_PERIODIC_DAMAGE_PERCENT</a></div><div class="ttdeci">@ SPELL_AURA_PERIODIC_DAMAGE_PERCENT</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00152">SpellAuraDefines.h:152</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799a66cca11731d68512cb0bb652cb1e7caf"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a66cca11731d68512cb0bb652cb1e7caf">SPELL_AURA_DUMMY</a></div><div class="ttdeci">@ SPELL_AURA_DUMMY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00067">SpellAuraDefines.h:67</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799a6796b359cee58ecae94d38098c91e74e"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a6796b359cee58ecae94d38098c91e74e">SPELL_AURA_MOD_DAMAGE_PERCENT_TAKEN</a></div><div class="ttdeci">@ SPELL_AURA_MOD_DAMAGE_PERCENT_TAKEN</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00150">SpellAuraDefines.h:150</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799a6b0ccd5195567a4744da1763b92159e3"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a6b0ccd5195567a4744da1763b92159e3">SPELL_AURA_FLY</a></div><div class="ttdeci">@ SPELL_AURA_FLY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00264">SpellAuraDefines.h:264</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799a71228de916b6c96108c7689f11d6303c"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a71228de916b6c96108c7689f11d6303c">SPELL_AURA_SPLIT_DAMAGE_PCT</a></div><div class="ttdeci">@ SPELL_AURA_SPLIT_DAMAGE_PCT</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00144">SpellAuraDefines.h:144</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799a7b5d0b48f9a7e84bf7a896602e8c66b9"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a7b5d0b48f9a7e84bf7a896602e8c66b9">SPELL_AURA_MOD_CHARM</a></div><div class="ttdeci">@ SPELL_AURA_MOD_CHARM</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00069">SpellAuraDefines.h:69</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799a7dffb8e20e91a710ae9d4a2c804bcb6e"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a7dffb8e20e91a710ae9d4a2c804bcb6e">SPELL_AURA_MOD_ATTACKER_MELEE_CRIT_CHANCE</a></div><div class="ttdeci">@ SPELL_AURA_MOD_ATTACKER_MELEE_CRIT_CHANCE</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00250">SpellAuraDefines.h:250</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799a88ddeddc39c960bdd00805a1ea8a8fc8"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a88ddeddc39c960bdd00805a1ea8a8fc8">SPELL_AURA_MOD_RANGED_HASTE</a></div><div class="ttdeci">@ SPELL_AURA_MOD_RANGED_HASTE</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00203">SpellAuraDefines.h:203</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799a9a82bcb2293394d7dc4a105cc52f8aa1"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a9a82bcb2293394d7dc4a105cc52f8aa1">SPELL_AURA_MOD_TAUNT</a></div><div class="ttdeci">@ SPELL_AURA_MOD_TAUNT</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00074">SpellAuraDefines.h:74</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799aa6334836ea9df28bbb9637f5b4987030"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799aa6334836ea9df28bbb9637f5b4987030">SPELL_AURA_MOD_INCREASE_ENERGY_PERCENT</a></div><div class="ttdeci">@ SPELL_AURA_MOD_INCREASE_ENERGY_PERCENT</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00195">SpellAuraDefines.h:195</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799aada4a291fd71b7b408ec0ac6543e79b1"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799aada4a291fd71b7b408ec0ac6543e79b1">SPELL_AURA_AOE_CHARM</a></div><div class="ttdeci">@ SPELL_AURA_AOE_CHARM</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00240">SpellAuraDefines.h:240</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799ab3987db9e154ae9a2086efb43e5af610"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799ab3987db9e154ae9a2086efb43e5af610">SPELL_AURA_MOD_DECREASE_SPEED</a></div><div class="ttdeci">@ SPELL_AURA_MOD_DECREASE_SPEED</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00096">SpellAuraDefines.h:96</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799ab4e25ba6068fba0c5d7c5ac8adbbf8fa"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799ab4e25ba6068fba0c5d7c5ac8adbbf8fa">SPELL_AURA_TRANSFORM</a></div><div class="ttdeci">@ SPELL_AURA_TRANSFORM</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00119">SpellAuraDefines.h:119</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799ab6c4d806c60e94fec189c27a7a205576"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799ab6c4d806c60e94fec189c27a7a205576">SPELL_AURA_PERIODIC_TRIGGER_SPELL_WITH_VALUE</a></div><div class="ttdeci">@ SPELL_AURA_PERIODIC_TRIGGER_SPELL_WITH_VALUE</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00290">SpellAuraDefines.h:290</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799ab7b51e8dff5aaafa4617c9fdde043b08"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799ab7b51e8dff5aaafa4617c9fdde043b08">SPELL_AURA_SCHOOL_ABSORB</a></div><div class="ttdeci">@ SPELL_AURA_SCHOOL_ABSORB</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00132">SpellAuraDefines.h:132</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799ab9f377f6e107ad1633d32a22da2ec7d2"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799ab9f377f6e107ad1633d32a22da2ec7d2">SPELL_AURA_PERIODIC_ENERGIZE</a></div><div class="ttdeci">@ SPELL_AURA_PERIODIC_ENERGIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00087">SpellAuraDefines.h:87</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799ac0dfa842319d63f7923d74c30ef38dfb"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799ac0dfa842319d63f7923d74c30ef38dfb">SPELL_AURA_MOD_INVISIBILITY_DETECT</a></div><div class="ttdeci">@ SPELL_AURA_MOD_INVISIBILITY_DETECT</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00082">SpellAuraDefines.h:82</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799ac5a7c36ca09fd3b8a2c468b65aa7b999"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799ac5a7c36ca09fd3b8a2c468b65aa7b999">SPELL_AURA_WATER_BREATHING</a></div><div class="ttdeci">@ SPELL_AURA_WATER_BREATHING</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00145">SpellAuraDefines.h:145</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799ac84a600c9fc81cbda953c9f64074ab9f"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799ac84a600c9fc81cbda953c9f64074ab9f">SPELL_AURA_PERIODIC_LEECH</a></div><div class="ttdeci">@ SPELL_AURA_PERIODIC_LEECH</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00116">SpellAuraDefines.h:116</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799ad06611922c0cf903c24b220140daacab"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799ad06611922c0cf903c24b220140daacab">SPELL_AURA_POWER_BURN</a></div><div class="ttdeci">@ SPELL_AURA_POWER_BURN</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00225">SpellAuraDefines.h:225</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799adaa58e2c604243da285d64f4a95b42f7"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799adaa58e2c604243da285d64f4a95b42f7">SPELL_AURA_MOD_CONFUSE</a></div><div class="ttdeci">@ SPELL_AURA_MOD_CONFUSE</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00068">SpellAuraDefines.h:68</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799adad95ef086a39748c9e556342967d388"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799adad95ef086a39748c9e556342967d388">SPELL_AURA_TRACK_CREATURES</a></div><div class="ttdeci">@ SPELL_AURA_TRACK_CREATURES</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00107">SpellAuraDefines.h:107</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799adc30e3257d95c2736a98331a53766eea"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799adc30e3257d95c2736a98331a53766eea">SPELL_AURA_MOD_POSSESS</a></div><div class="ttdeci">@ SPELL_AURA_MOD_POSSESS</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00065">SpellAuraDefines.h:65</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799add498157825d0faca2c013bbcdfbae56"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799add498157825d0faca2c013bbcdfbae56">SPELL_AURA_PERIODIC_DUMMY</a></div><div class="ttdeci">@ SPELL_AURA_PERIODIC_DUMMY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00289">SpellAuraDefines.h:289</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799aee4933438da47b18e67ffeb26e91f20b"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799aee4933438da47b18e67ffeb26e91f20b">SPELL_AURA_MOD_INCREASE_MOUNTED_FLIGHT_SPEED</a></div><div class="ttdeci">@ SPELL_AURA_MOD_INCREASE_MOUNTED_FLIGHT_SPEED</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00270">SpellAuraDefines.h:270</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799af51e1877e096bbfd69505e5ab4fc69ad"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799af51e1877e096bbfd69505e5ab4fc69ad">SPELL_AURA_PERIODIC_TRIGGER_SPELL</a></div><div class="ttdeci">@ SPELL_AURA_PERIODIC_TRIGGER_SPELL</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00086">SpellAuraDefines.h:86</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799afdb369d59878e85eb2c47405d92b0a0b"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799afdb369d59878e85eb2c47405d92b0a0b">SPELL_AURA_SET_VEHICLE_ID</a></div><div class="ttdeci">@ SPELL_AURA_SET_VEHICLE_ID</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00359">SpellAuraDefines.h:359</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799afdf00dd634aaa25017ad329f58bd6cfd"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799afdf00dd634aaa25017ad329f58bd6cfd">SPELL_AURA_MOD_STUN</a></div><div class="ttdeci">@ SPELL_AURA_MOD_STUN</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00075">SpellAuraDefines.h:75</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799aff313dd31d66c100086b4d9b6a81d329"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799aff313dd31d66c100086b4d9b6a81d329">SPELL_AURA_BIND_SIGHT</a></div><div class="ttdeci">@ SPELL_AURA_BIND_SIGHT</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00064">SpellAuraDefines.h:64</a></div></div>
<div class="ttc" id="a_spell_auras_8h_html"><div class="ttname"><a href="../../d5/dcf/_spell_auras_8h.html">SpellAuras.h</a></div></div>
<div class="ttc" id="a_spell_info_8h_html"><div class="ttname"><a href="../../dc/d70/_spell_info_8h.html">SpellInfo.h</a></div></div>
<div class="ttc" id="a_spell_info_8h_html_a3c11f0d0cd9689554b34ccbc325da54fa6743615e8912aefb100fe3f804c162be"><div class="ttname"><a href="../../dc/d70/_spell_info_8h.html#a3c11f0d0cd9689554b34ccbc325da54fa6743615e8912aefb100fe3f804c162be">TARGET_FLAG_DEST_LOCATION</a></div><div class="ttdeci">@ TARGET_FLAG_DEST_LOCATION</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00052">SpellInfo.h:52</a></div></div>
<div class="ttc" id="a_spell_info_8h_html_a93795b2131c8cbe38a7b23768a5a146da0f28e484658493d07d9b9dede2efcfb7"><div class="ttname"><a href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da0f28e484658493d07d9b9dede2efcfb7">SPELL_ATTR0_CU_IGNORE_ARMOR</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_IGNORE_ARMOR</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00191">SpellInfo.h:191</a></div></div>
<div class="ttc" id="a_spell_info_8h_html_a93795b2131c8cbe38a7b23768a5a146da16fc9692b3d1955cb6f36ae606901202"><div class="ttname"><a href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da16fc9692b3d1955cb6f36ae606901202">SPELL_ATTR0_CU_REQ_TARGET_FACING_CASTER</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_REQ_TARGET_FACING_CASTER</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00192">SpellInfo.h:192</a></div></div>
<div class="ttc" id="a_spell_info_8h_html_a93795b2131c8cbe38a7b23768a5a146da21bee0dd8a24adc23431292c32c02ba2"><div class="ttname"><a href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da21bee0dd8a24adc23431292c32c02ba2">SPELL_ATTR0_CU_ALLOW_INFLIGHT_TARGET</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_ALLOW_INFLIGHT_TARGET</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00194">SpellInfo.h:194</a></div></div>
<div class="ttc" id="a_spell_info_8h_html_a93795b2131c8cbe38a7b23768a5a146da23162f829e73ed8653b153a3e5212a39"><div class="ttname"><a href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da23162f829e73ed8653b153a3e5212a39">SPELL_ATTR0_CU_ENCHANT_PROC</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_ENCHANT_PROC</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00176">SpellInfo.h:176</a></div></div>
<div class="ttc" id="a_spell_info_8h_html_a93795b2131c8cbe38a7b23768a5a146da28eaf0758dda324281f34617eb9cf3be"><div class="ttname"><a href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da28eaf0758dda324281f34617eb9cf3be">SPELL_ATTR0_CU_NO_POSITIVE_TAKEN_BONUS</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_NO_POSITIVE_TAKEN_BONUS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00197">SpellInfo.h:197</a></div></div>
<div class="ttc" id="a_spell_info_8h_html_a93795b2131c8cbe38a7b23768a5a146da3c6711e8c874226f4c63f477d27e2e35"><div class="ttname"><a href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da3c6711e8c874226f4c63f477d27e2e35">SPELL_ATTR0_CU_DIRECT_DAMAGE</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_DIRECT_DAMAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00184">SpellInfo.h:184</a></div></div>
<div class="ttc" id="a_spell_info_8h_html_a93795b2131c8cbe38a7b23768a5a146da4b290bdc05e30600b17324adfa185e39"><div class="ttname"><a href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da4b290bdc05e30600b17324adfa185e39">SPELL_ATTR0_CU_POSITIVE</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_POSITIVE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00208">SpellInfo.h:208</a></div></div>
<div class="ttc" id="a_spell_info_8h_html_a93795b2131c8cbe38a7b23768a5a146da4d7ba94d96c89ebddcef8c081fb14557"><div class="ttname"><a href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da4d7ba94d96c89ebddcef8c081fb14557">SPELL_ATTR0_CU_FORCE_AURA_SAVING</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_FORCE_AURA_SAVING</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00205">SpellInfo.h:205</a></div></div>
<div class="ttc" id="a_spell_info_8h_html_a93795b2131c8cbe38a7b23768a5a146da53ab5109248d12159273e5111f3d7641"><div class="ttname"><a href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da53ab5109248d12159273e5111f3d7641">SPELL_ATTR0_CU_NO_PVP_FLAG</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_NO_PVP_FLAG</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00183">SpellInfo.h:183</a></div></div>
<div class="ttc" id="a_spell_info_8h_html_a93795b2131c8cbe38a7b23768a5a146da6e135d0f3f1ffad609c7a52988db5d0e"><div class="ttname"><a href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da6e135d0f3f1ffad609c7a52988db5d0e">SPELL_ATTR0_CU_DONT_BREAK_STEALTH</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_DONT_BREAK_STEALTH</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00182">SpellInfo.h:182</a></div></div>
<div class="ttc" id="a_spell_info_8h_html_a93795b2131c8cbe38a7b23768a5a146da6f04115acffe8cda68c32d78e0941b40"><div class="ttname"><a href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da6f04115acffe8cda68c32d78e0941b40">SPELL_ATTR0_CU_REQ_CASTER_BEHIND_TARGET</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_REQ_CASTER_BEHIND_TARGET</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00193">SpellInfo.h:193</a></div></div>
<div class="ttc" id="a_spell_info_8h_html_a93795b2131c8cbe38a7b23768a5a146da6f734acb36c68fcc4881a4d4e844ee11"><div class="ttname"><a href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da6f734acb36c68fcc4881a4d4e844ee11">SPELL_ATTR0_CU_CONE_BACK</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_CONE_BACK</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00177">SpellInfo.h:177</a></div></div>
<div class="ttc" id="a_spell_info_8h_html_a93795b2131c8cbe38a7b23768a5a146da779378cdabb274a575287575fa8bc912"><div class="ttname"><a href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da779378cdabb274a575287575fa8bc912">SPELL_ATTR0_CU_REJECT_AURA_SAVING</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_REJECT_AURA_SAVING</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00204">SpellInfo.h:204</a></div></div>
<div class="ttc" id="a_spell_info_8h_html_a93795b2131c8cbe38a7b23768a5a146da7fbb6ea702124d1bd7fa091591d8fb7f"><div class="ttname"><a href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da7fbb6ea702124d1bd7fa091591d8fb7f">SPELL_ATTR0_CU_SINGLE_AURA_STACK</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_SINGLE_AURA_STACK</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00198">SpellInfo.h:198</a></div></div>
<div class="ttc" id="a_spell_info_8h_html_a93795b2131c8cbe38a7b23768a5a146da8a9106d96628f46e484fe853c0ce35b2"><div class="ttname"><a href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da8a9106d96628f46e484fe853c0ce35b2">SPELL_ATTR0_CU_NEGATIVE_EFF2</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_NEGATIVE_EFF2</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00190">SpellInfo.h:190</a></div></div>
<div class="ttc" id="a_spell_info_8h_html_a93795b2131c8cbe38a7b23768a5a146da91a67b896bc85d53f71e8cc7798dff71"><div class="ttname"><a href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da91a67b896bc85d53f71e8cc7798dff71">SPELL_ATTR0_CU_AURA_CC</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_AURA_CC</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00181">SpellInfo.h:181</a></div></div>
<div class="ttc" id="a_spell_info_8h_html_a93795b2131c8cbe38a7b23768a5a146da928d7b52a9bcfb5573d4cd8ca8bd30a7"><div class="ttname"><a href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da928d7b52a9bcfb5573d4cd8ca8bd30a7">SPELL_ATTR0_CU_NEGATIVE_EFF1</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_NEGATIVE_EFF1</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00189">SpellInfo.h:189</a></div></div>
<div class="ttc" id="a_spell_info_8h_html_a93795b2131c8cbe38a7b23768a5a146da93ea23e532f0400d3ed24deb6882e6dd"><div class="ttname"><a href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146da93ea23e532f0400d3ed24deb6882e6dd">SPELL_ATTR0_CU_CHARGE</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_CHARGE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00185">SpellInfo.h:185</a></div></div>
<div class="ttc" id="a_spell_info_8h_html_a93795b2131c8cbe38a7b23768a5a146daaa6e1af347c468600585e39bbc32afe8"><div class="ttname"><a href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146daaa6e1af347c468600585e39bbc32afe8">SPELL_ATTR0_CU_NEGATIVE</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_NEGATIVE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00207">SpellInfo.h:207</a></div></div>
<div class="ttc" id="a_spell_info_8h_html_a93795b2131c8cbe38a7b23768a5a146daaad600a26daf0b11ec7b14c5c2827987"><div class="ttname"><a href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146daaad600a26daf0b11ec7b14c5c2827987">SPELL_ATTR0_CU_NEEDS_AMMO_DATA</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_NEEDS_AMMO_DATA</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00195">SpellInfo.h:195</a></div></div>
<div class="ttc" id="a_spell_info_8h_html_a93795b2131c8cbe38a7b23768a5a146dab3988c31b79ecae6d62db4f734ba2c43"><div class="ttname"><a href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146dab3988c31b79ecae6d62db4f734ba2c43">SPELL_ATTR0_CU_POSITIVE_EFF0</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_POSITIVE_EFF0</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00201">SpellInfo.h:201</a></div></div>
<div class="ttc" id="a_spell_info_8h_html_a93795b2131c8cbe38a7b23768a5a146dabac2d4ebdf4a34333975b3ded5b66e2c"><div class="ttname"><a href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146dabac2d4ebdf4a34333975b3ded5b66e2c">SPELL_ATTR0_CU_NEGATIVE_EFF0</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_NEGATIVE_EFF0</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00188">SpellInfo.h:188</a></div></div>
<div class="ttc" id="a_spell_info_8h_html_a93795b2131c8cbe38a7b23768a5a146dacd2b3dd04ea4267a9b7f43f00003837d"><div class="ttname"><a href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146dacd2b3dd04ea4267a9b7f43f00003837d">SPELL_ATTR0_CU_BINARY_SPELL</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_BINARY_SPELL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00196">SpellInfo.h:196</a></div></div>
<div class="ttc" id="a_spell_info_8h_html_a93795b2131c8cbe38a7b23768a5a146dad14307ec43a9235f85c2c32860871ed3"><div class="ttname"><a href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146dad14307ec43a9235f85c2c32860871ed3">SPELL_ATTR0_CU_SHARE_DAMAGE</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_SHARE_DAMAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00179">SpellInfo.h:179</a></div></div>
<div class="ttc" id="a_spell_info_8h_html_a93795b2131c8cbe38a7b23768a5a146dada37071a5f586acf592411604df0bf6e"><div class="ttname"><a href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146dada37071a5f586acf592411604df0bf6e">SPELL_ATTR0_CU_SCHOOLMASK_NORMAL_WITH_MAGIC</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_SCHOOLMASK_NORMAL_WITH_MAGIC</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00199">SpellInfo.h:199</a></div></div>
<div class="ttc" id="a_spell_info_8h_html_a93795b2131c8cbe38a7b23768a5a146daf173b3df1f0236ffb7df3a8fbe4c2efe"><div class="ttname"><a href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146daf173b3df1f0236ffb7df3a8fbe4c2efe">SPELL_ATTR0_CU_PICKPOCKET</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_PICKPOCKET</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00186">SpellInfo.h:186</a></div></div>
<div class="ttc" id="a_spell_info_8h_html_a93795b2131c8cbe38a7b23768a5a146daf56afff0380689f8a82952e2db4a584c"><div class="ttname"><a href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146daf56afff0380689f8a82952e2db4a584c">SPELL_ATTR0_CU_CONE_LINE</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_CONE_LINE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00178">SpellInfo.h:178</a></div></div>
<div class="ttc" id="a_spell_info_8h_html_a93795b2131c8cbe38a7b23768a5a146daf7ce6d6f1816304f4859833e912bfc94"><div class="ttname"><a href="../../dc/d70/_spell_info_8h.html#a93795b2131c8cbe38a7b23768a5a146daf7ce6d6f1816304f4859833e912bfc94">SPELL_ATTR0_CU_NO_INITIAL_THREAT</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_NO_INITIAL_THREAT</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00180">SpellInfo.h:180</a></div></div>
<div class="ttc" id="a_spell_mgr_8cpp_html_a09c4e23bd85fab812b67beafbbf1b7b3"><div class="ttname"><a href="../../db/dad/_spell_mgr_8cpp.html#a09c4e23bd85fab812b67beafbbf1b7b3">IsPrimaryProfessionSkill</a></div><div class="ttdeci">bool IsPrimaryProfessionSkill(uint32 skill)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00037">SpellMgr.cpp:37</a></div></div>
<div class="ttc" id="a_spell_mgr_8cpp_html_a18102741b602d3b4473f75d4f619a09b"><div class="ttname"><a href="../../db/dad/_spell_mgr_8cpp.html#a18102741b602d3b4473f75d4f619a09b">IsPartOfSkillLine</a></div><div class="ttdeci">bool IsPartOfSkillLine(uint32 skillId, uint32 spellId)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00049">SpellMgr.cpp:49</a></div></div>
<div class="ttc" id="a_spell_mgr_8cpp_html_a1c2a3145d36ac321b7f1f11a01a235f5"><div class="ttname"><a href="../../db/dad/_spell_mgr_8cpp.html#a1c2a3145d36ac321b7f1f11a01a235f5">LoadPetDefaultSpells_helper</a></div><div class="ttdeci">bool LoadPetDefaultSpells_helper(CreatureTemplate const *cInfo, PetDefaultSpellsEntry &amp;petDefSpells)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l02336">SpellMgr.cpp:2336</a></div></div>
<div class="ttc" id="a_spell_mgr_8cpp_html_a2ba27d428865ac3f87bf6f6843271d3f"><div class="ttname"><a href="../../db/dad/_spell_mgr_8cpp.html#a2ba27d428865ac3f87bf6f6843271d3f">GetDiminishingReturnsLimitDuration</a></div><div class="ttdeci">int32 GetDiminishingReturnsLimitDuration(DiminishingGroup group, SpellInfo const *spellproto)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00276">SpellMgr.cpp:276</a></div></div>
<div class="ttc" id="a_spell_mgr_8cpp_html_a35697cceaf39daf069d06c53e8e3cdf7"><div class="ttname"><a href="../../db/dad/_spell_mgr_8cpp.html#a35697cceaf39daf069d06c53e8e3cdf7">GetDiminishingReturnsGroupForSpell</a></div><div class="ttdeci">DiminishingGroup GetDiminishingReturnsGroupForSpell(SpellInfo const *spellproto, bool triggered)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00059">SpellMgr.cpp:59</a></div></div>
<div class="ttc" id="a_spell_mgr_8cpp_html_a423a80c889a3456a2b55e0e9c22ad060"><div class="ttname"><a href="../../db/dad/_spell_mgr_8cpp.html#a423a80c889a3456a2b55e0e9c22ad060">IsDiminishingReturnsGroupDurationLimited</a></div><div class="ttdeci">bool IsDiminishingReturnsGroupDurationLimited(DiminishingGroup group)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00331">SpellMgr.cpp:331</a></div></div>
<div class="ttc" id="a_spell_mgr_8cpp_html_a92986543fec3747250c4e60b6f08f40e"><div class="ttname"><a href="../../db/dad/_spell_mgr_8cpp.html#a92986543fec3747250c4e60b6f08f40e">ApplySpellFix</a></div><div class="ttdeci">void ApplySpellFix(std::initializer_list&lt; uint32 &gt; spellIds, void(*fix)(SpellEntry *))</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l03392">SpellMgr.cpp:3392</a></div></div>
<div class="ttc" id="a_spell_mgr_8cpp_html_ab0fdc6c7b1e9317d6f6c0480d734b4f1"><div class="ttname"><a href="../../db/dad/_spell_mgr_8cpp.html#ab0fdc6c7b1e9317d6f6c0480d734b4f1">GetDiminishingReturnsGroupType</a></div><div class="ttdeci">DiminishingReturnsType GetDiminishingReturnsGroupType(DiminishingGroup group)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00246">SpellMgr.cpp:246</a></div></div>
<div class="ttc" id="a_spell_mgr_8cpp_html_ad621262d491c800fb5ddd016250dd46f"><div class="ttname"><a href="../../db/dad/_spell_mgr_8cpp.html#ad621262d491c800fb5ddd016250dd46f">GetDiminishingReturnsMaxLevel</a></div><div class="ttdeci">DiminishingLevels GetDiminishingReturnsMaxLevel(DiminishingGroup group)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00265">SpellMgr.cpp:265</a></div></div>
<div class="ttc" id="a_spell_mgr_8cpp_html_af0dec25ac7c118b67a71a0356eb37877"><div class="ttname"><a href="../../db/dad/_spell_mgr_8cpp.html#af0dec25ac7c118b67a71a0356eb37877">DeleteSpellFromAllPlayers</a></div><div class="ttdeci">void DeleteSpellFromAllPlayers(uint32 spellId)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00449">SpellMgr.cpp:449</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html">SpellMgr.h</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_a318db75286b71ffeb7f24d6d2c992bc9ac3e5e7204eb9768e20c9a484f55a813b"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9ac3e5e7204eb9768e20c9a484f55a813b">PROC_HIT_ABSORB</a></div><div class="ttdeci">@ PROC_HIT_ABSORB</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00262">SpellMgr.h:262</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_a318db75286b71ffeb7f24d6d2c992bc9add479539b64a6b576da3b208ad6c863d"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9add479539b64a6b576da3b208ad6c863d">PROC_HIT_MASK_ALL</a></div><div class="ttdeci">@ PROC_HIT_MASK_ALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00266">SpellMgr.h:266</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_a318db75286b71ffeb7f24d6d2c992bc9ae0db62fc42fe80503a49d3b3197b8d12"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9ae0db62fc42fe80503a49d3b3197b8d12">PROC_HIT_CRITICAL</a></div><div class="ttdeci">@ PROC_HIT_CRITICAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00253">SpellMgr.h:253</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_a318db75286b71ffeb7f24d6d2c992bc9ae95d140282fc160c7b229ab5c7409799"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#a318db75286b71ffeb7f24d6d2c992bc9ae95d140282fc160c7b229ab5c7409799">PROC_HIT_NORMAL</a></div><div class="ttdeci">@ PROC_HIT_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00252">SpellMgr.h:252</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_a3384f828e7f362dbdaecb22673641c88"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#a3384f828e7f362dbdaecb22673641c88">SpellGroupStackFlags</a></div><div class="ttdeci">SpellGroupStackFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00344">SpellMgr.h:345</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_a3384f828e7f362dbdaecb22673641c88a3556b4b6eac1a9cc343a58851626cc35"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#a3384f828e7f362dbdaecb22673641c88a3556b4b6eac1a9cc343a58851626cc35">SPELL_GROUP_STACK_FLAG_EXCLUSIVE</a></div><div class="ttdeci">@ SPELL_GROUP_STACK_FLAG_EXCLUSIVE</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00347">SpellMgr.h:347</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_a3384f828e7f362dbdaecb22673641c88a4cfbddea486e9940cbeb5ebdab267b3e"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#a3384f828e7f362dbdaecb22673641c88a4cfbddea486e9940cbeb5ebdab267b3e">SPELL_GROUP_STACK_FLAG_FORCED_WEAKEST</a></div><div class="ttdeci">@ SPELL_GROUP_STACK_FLAG_FORCED_WEAKEST</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00356">SpellMgr.h:356</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_a3384f828e7f362dbdaecb22673641c88a657ce08869043f0b71ee8815c6fb869e"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#a3384f828e7f362dbdaecb22673641c88a657ce08869043f0b71ee8815c6fb869e">SPELL_GROUP_STACK_FLAG_FORCED_STRONGEST</a></div><div class="ttdeci">@ SPELL_GROUP_STACK_FLAG_FORCED_STRONGEST</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00355">SpellMgr.h:355</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_a3384f828e7f362dbdaecb22673641c88a6b33f70f6827694ecab65894fca91b4a"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#a3384f828e7f362dbdaecb22673641c88a6b33f70f6827694ecab65894fca91b4a">SPELL_GROUP_STACK_FLAG_MAX</a></div><div class="ttdeci">@ SPELL_GROUP_STACK_FLAG_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00352">SpellMgr.h:352</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_a3384f828e7f362dbdaecb22673641c88ada08c4380c426461aa28160bd3e36481"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#a3384f828e7f362dbdaecb22673641c88ada08c4380c426461aa28160bd3e36481">SPELL_GROUP_STACK_FLAG_NONE</a></div><div class="ttdeci">@ SPELL_GROUP_STACK_FLAG_NONE</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00346">SpellMgr.h:346</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_a3384f828e7f362dbdaecb22673641c88adf0c38d0364b5e9c36aa3bf4f68da680"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#a3384f828e7f362dbdaecb22673641c88adf0c38d0364b5e9c36aa3bf4f68da680">SPELL_GROUP_STACK_FLAG_NEVER_STACK</a></div><div class="ttdeci">@ SPELL_GROUP_STACK_FLAG_NEVER_STACK</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00350">SpellMgr.h:350</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_a387f031811a92887df5962b41c7b2532"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#a387f031811a92887df5962b41c7b2532">SpellsRequiringSpellMapBounds</a></div><div class="ttdeci">std::pair&lt; SpellsRequiringSpellMap::const_iterator, SpellsRequiringSpellMap::const_iterator &gt; SpellsRequiringSpellMapBounds</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00554">SpellMgr.h:554</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_a38a52b76af6f14f7d3ad3282be428da8"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#a38a52b76af6f14f7d3ad3282be428da8">AURA_SPELL_PROC_EX_MASK</a></div><div class="ttdeci">#define AURA_SPELL_PROC_EX_MASK</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00225">SpellMgr.h:225</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_a4edcdc3e020b29d06505e8048874c414"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#a4edcdc3e020b29d06505e8048874c414">SpellAreaMapBounds</a></div><div class="ttdeci">std::pair&lt; SpellAreaMap::const_iterator, SpellAreaMap::const_iterator &gt; SpellAreaMapBounds</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00531">SpellMgr.h:531</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_a69bbd3906e9d334176d6a0ffde617490"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#a69bbd3906e9d334176d6a0ffde617490">SpellAreaForAreaMapBounds</a></div><div class="ttdeci">std::pair&lt; SpellAreaForAreaMap::const_iterator, SpellAreaForAreaMap::const_iterator &gt; SpellAreaForAreaMapBounds</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00534">SpellMgr.h:534</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_a7fd74f5d829c140285ca6ed18c0e136aa93a1480d7caabfa7a963f8ada8c5fe83"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#a7fd74f5d829c140285ca6ed18c0e136aa93a1480d7caabfa7a963f8ada8c5fe83">PROC_ATTR_REQ_EXP_OR_HONOR</a></div><div class="ttdeci">@ PROC_ATTR_REQ_EXP_OR_HONOR</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00271">SpellMgr.h:271</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_a88ffc1e3eda7c90f1f55e169dc76b444"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#a88ffc1e3eda7c90f1f55e169dc76b444">SpellRequiredMapBounds</a></div><div class="ttdeci">std::pair&lt; SpellRequiredMap::const_iterator, SpellRequiredMap::const_iterator &gt; SpellRequiredMapBounds</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00550">SpellMgr.h:550</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_a955c2f2d6134701c932a636512d7fbd4a681e8c43ac04d1194334566f73ee1449"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#a955c2f2d6134701c932a636512d7fbd4a681e8c43ac04d1194334566f73ee1449">ICC_RACEMASK_HORDE</a></div><div class="ttdeci">@ ICC_RACEMASK_HORDE</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00506">SpellMgr.h:506</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_a955c2f2d6134701c932a636512d7fbd4a7057c645998b72657fb18e41e12dc25f"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#a955c2f2d6134701c932a636512d7fbd4a7057c645998b72657fb18e41e12dc25f">ICC_AREA</a></div><div class="ttdeci">@ ICC_AREA</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00505">SpellMgr.h:505</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_a955c2f2d6134701c932a636512d7fbd4a7352283120084279478da1de4d3db9d0"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#a955c2f2d6134701c932a636512d7fbd4a7352283120084279478da1de4d3db9d0">ICC_RACEMASK_ALLIANCE</a></div><div class="ttdeci">@ ICC_RACEMASK_ALLIANCE</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00508">SpellMgr.h:507</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_aa21e14d8e1145507b746a69b5487109d"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a></div><div class="ttdeci">#define sSpellMgr</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00794">SpellMgr.h:794</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ab9f8654c03ec40ac9bdc5214da99e1eb"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ab9f8654c03ec40ac9bdc5214da99e1eb">SpellGroupSpecialFlags</a></div><div class="ttdeci">SpellGroupSpecialFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00325">SpellMgr.h:326</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ab9f8654c03ec40ac9bdc5214da99e1eba63c0705fb6979627890de8e601fa6828"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ab9f8654c03ec40ac9bdc5214da99e1eba63c0705fb6979627890de8e601fa6828">SPELL_GROUP_SPECIAL_FLAG_FORCED_STRONGEST</a></div><div class="ttdeci">@ SPELL_GROUP_SPECIAL_FLAG_FORCED_STRONGEST</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00333">SpellMgr.h:333</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ab9f8654c03ec40ac9bdc5214da99e1eba6acd812cb11a98c7bc9176e03bbd8f3f"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ab9f8654c03ec40ac9bdc5214da99e1eba6acd812cb11a98c7bc9176e03bbd8f3f">SPELL_GROUP_SPECIAL_FLAG_MAX</a></div><div class="ttdeci">@ SPELL_GROUP_SPECIAL_FLAG_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00342">SpellMgr.h:341</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ab9f8654c03ec40ac9bdc5214da99e1eba7839f95fbf97ecde100bfe23ad17a6bf"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ab9f8654c03ec40ac9bdc5214da99e1eba7839f95fbf97ecde100bfe23ad17a6bf">SPELL_GROUP_SPECIAL_FLAG_SAME_SPELL_CHECK</a></div><div class="ttdeci">@ SPELL_GROUP_SPECIAL_FLAG_SAME_SPELL_CHECK</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00340">SpellMgr.h:340</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ab9f8654c03ec40ac9bdc5214da99e1eba88058107a5eb1341d5edf23eefaade52"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ab9f8654c03ec40ac9bdc5214da99e1eba88058107a5eb1341d5edf23eefaade52">SPELL_GROUP_SPECIAL_FLAG_STACK_EXCLUSIVE_MAX</a></div><div class="ttdeci">@ SPELL_GROUP_SPECIAL_FLAG_STACK_EXCLUSIVE_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00332">SpellMgr.h:332</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ab9f8654c03ec40ac9bdc5214da99e1ebafcdcc89a75089da2c021819a91f01c2e"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ab9f8654c03ec40ac9bdc5214da99e1ebafcdcc89a75089da2c021819a91f01c2e">SPELL_GROUP_SPECIAL_FLAG_NONE</a></div><div class="ttdeci">@ SPELL_GROUP_SPECIAL_FLAG_NONE</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00327">SpellMgr.h:327</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ac0bf7c1f4212d9675abaaa9b3ca6f33d"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ac0bf7c1f4212d9675abaaa9b3ca6f33d">SpellAreaForAuraMapBounds</a></div><div class="ttdeci">std::pair&lt; SpellAreaForAuraMap::const_iterator, SpellAreaForAuraMap::const_iterator &gt; SpellAreaForAuraMapBounds</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00533">SpellMgr.h:533</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ac821b7d2d8a9effd8fafef038528e877"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ac821b7d2d8a9effd8fafef038528e877">SkillLineAbilityMapBounds</a></div><div class="ttdeci">std::pair&lt; SkillLineAbilityMap::const_iterator, SkillLineAbilityMap::const_iterator &gt; SkillLineAbilityMapBounds</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00568">SpellMgr.h:568</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ac9aaef596a1061b6b944e1dc0e679b46a07b2f1753e6047dcfef05d8ec0de5b87"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ac9aaef596a1061b6b944e1dc0e679b46a07b2f1753e6047dcfef05d8ec0de5b87">PROC_EX_NONE</a></div><div class="ttdeci">@ PROC_EX_NONE</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00193">SpellMgr.h:193</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ac9aaef596a1061b6b944e1dc0e679b46a970bdf3e5f6192a44f1047c0a9c01310"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ac9aaef596a1061b6b944e1dc0e679b46a970bdf3e5f6192a44f1047c0a9c01310">PROC_EX_CRITICAL_HIT</a></div><div class="ttdeci">@ PROC_EX_CRITICAL_HIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00195">SpellMgr.h:195</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ac9aaef596a1061b6b944e1dc0e679b46aa0c2a4e7377d6217e94cc8fc7c77b5b2"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ac9aaef596a1061b6b944e1dc0e679b46aa0c2a4e7377d6217e94cc8fc7c77b5b2">PROC_EX_NORMAL_HIT</a></div><div class="ttdeci">@ PROC_EX_NORMAL_HIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00194">SpellMgr.h:194</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ac9aaef596a1061b6b944e1dc0e679b46ab92a05b298c10d1c2b9c3a2af4fe819b"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ac9aaef596a1061b6b944e1dc0e679b46ab92a05b298c10d1c2b9c3a2af4fe819b">PROC_EX_INTERNAL_HOT</a></div><div class="ttdeci">@ PROC_EX_INTERNAL_HOT</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00220">SpellMgr.h:220</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ac9aaef596a1061b6b944e1dc0e679b46abaa632530ec78fe5964cb1591b91e3b9"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ac9aaef596a1061b6b944e1dc0e679b46abaa632530ec78fe5964cb1591b91e3b9">PROC_EX_ONLY_ACTIVE_SPELL</a></div><div class="ttdeci">@ PROC_EX_ONLY_ACTIVE_SPELL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00212">SpellMgr.h:212</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ac9aaef596a1061b6b944e1dc0e679b46ad01a7209b4b575624baa5781038d973e"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ac9aaef596a1061b6b944e1dc0e679b46ad01a7209b4b575624baa5781038d973e">PROC_EX_ONLY_FIRST_TICK</a></div><div class="ttdeci">@ PROC_EX_ONLY_FIRST_TICK</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00215">SpellMgr.h:215</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ac9aaef596a1061b6b944e1dc0e679b46af6f8bdaf5b930cca33c0866127c57963"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ac9aaef596a1061b6b944e1dc0e679b46af6f8bdaf5b930cca33c0866127c57963">PROC_EX_EX_TRIGGER_ALWAYS</a></div><div class="ttdeci">@ PROC_EX_EX_TRIGGER_ALWAYS</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00210">SpellMgr.h:210</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ac9aaef596a1061b6b944e1dc0e679b46af9c43b17dd5136a8eaeb30135047eac0"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ac9aaef596a1061b6b944e1dc0e679b46af9c43b17dd5136a8eaeb30135047eac0">PROC_EX_NOT_ACTIVE_SPELL</a></div><div class="ttdeci">@ PROC_EX_NOT_ACTIVE_SPELL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00209">SpellMgr.h:209</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ac9aaef596a1061b6b944e1dc0e679b46afa45851285099c233820be4d1a526892"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ac9aaef596a1061b6b944e1dc0e679b46afa45851285099c233820be4d1a526892">PROC_EX_INTERNAL_REQ_FAMILY</a></div><div class="ttdeci">@ PROC_EX_INTERNAL_REQ_FAMILY</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00223">SpellMgr.h:222</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_acb2f59f82f5d44cf14104713821f0527a8b2234b4443b9668e2bea3394c9fd860"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#acb2f59f82f5d44cf14104713821f0527a8b2234b4443b9668e2bea3394c9fd860">PROC_SPELL_TYPE_MASK_ALL</a></div><div class="ttdeci">@ PROC_SPELL_TYPE_MASK_ALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00238">SpellMgr.h:237</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_adcebb12598da7d99a0d914e032ab53a6a14ee51627f5c63cbd8d13141aae1c942"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6a14ee51627f5c63cbd8d13141aae1c942">EFFECT_RADIUS_100_YARDS</a></div><div class="ttdeci">@ EFFECT_RADIUS_100_YARDS</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00398">SpellMgr.h:398</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_adcebb12598da7d99a0d914e032ab53a6a17e659065202f50148fd26019a3ed3a3"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6a17e659065202f50148fd26019a3ed3a3">EFFECT_RADIUS_20_YARDS</a></div><div class="ttdeci">@ EFFECT_RADIUS_20_YARDS</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00395">SpellMgr.h:395</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_adcebb12598da7d99a0d914e032ab53a6a7127bc77ddfb8193b045d89e73b367ec"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6a7127bc77ddfb8193b045d89e73b367ec">EFFECT_RADIUS_25_YARDS</a></div><div class="ttdeci">@ EFFECT_RADIUS_25_YARDS</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00406">SpellMgr.h:406</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_adcebb12598da7d99a0d914e032ab53a6a84f16c69f55cca8b4fdde0c6778d9912"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6a84f16c69f55cca8b4fdde0c6778d9912">EFFECT_RADIUS_3_YARDS</a></div><div class="ttdeci">@ EFFECT_RADIUS_3_YARDS</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00401">SpellMgr.h:401</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_adcebb12598da7d99a0d914e032ab53a6aa2446e6dca7800ee4e10ccb0b2cacce5"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6aa2446e6dca7800ee4e10ccb0b2cacce5">EFFECT_RADIUS_50000_YARDS</a></div><div class="ttdeci">@ EFFECT_RADIUS_50000_YARDS</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00414">SpellMgr.h:414</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b">EFFECT_RADIUS_200_YARDS</a></div><div class="ttdeci">@ EFFECT_RADIUS_200_YARDS</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00408">SpellMgr.h:408</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_adcebb12598da7d99a0d914e032ab53a6abd0f41dc6ba7c2ee3eb838d726f8136d"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6abd0f41dc6ba7c2ee3eb838d726f8136d">EFFECT_RADIUS_12_YARDS</a></div><div class="ttdeci">@ EFFECT_RADIUS_12_YARDS</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00418">SpellMgr.h:418</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_adcebb12598da7d99a0d914e032ab53a6ac408444e6d66c0845a141ca461eb705b"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6ac408444e6d66c0845a141ca461eb705b">EFFECT_RADIUS_10_YARDS</a></div><div class="ttdeci">@ EFFECT_RADIUS_10_YARDS</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00399">SpellMgr.h:399</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_adcebb12598da7d99a0d914e032ab53a6ad83d4353e8c1f40105dbc7e945eeceae"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6ad83d4353e8c1f40105dbc7e945eeceae">EFFECT_RADIUS_150_YARDS</a></div><div class="ttdeci">@ EFFECT_RADIUS_150_YARDS</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00426">SpellMgr.h:426</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_adcebb12598da7d99a0d914e032ab53a6aea8bace1873cfb2ca3347ffb4b2b2cfd"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#adcebb12598da7d99a0d914e032ab53a6aea8bace1873cfb2ca3347ffb4b2b2cfd">EFFECT_RADIUS_6_YARDS</a></div><div class="ttdeci">@ EFFECT_RADIUS_6_YARDS</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00415">SpellMgr.h:415</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_addbb65f0e6c920d8577112d9dd55beb4a36113cf744242d04db86ef65dab0fc7b"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#addbb65f0e6c920d8577112d9dd55beb4a36113cf744242d04db86ef65dab0fc7b">PROC_SPELL_PHASE_FINISH</a></div><div class="ttdeci">@ PROC_SPELL_PHASE_FINISH</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00245">SpellMgr.h:245</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_addbb65f0e6c920d8577112d9dd55beb4a617052b5687a5e0fa6d4106e3816449d"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#addbb65f0e6c920d8577112d9dd55beb4a617052b5687a5e0fa6d4106e3816449d">PROC_SPELL_PHASE_CAST</a></div><div class="ttdeci">@ PROC_SPELL_PHASE_CAST</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00243">SpellMgr.h:243</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_addbb65f0e6c920d8577112d9dd55beb4a8ccd2b9dede0fefcf6eb07b8e6753f34"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#addbb65f0e6c920d8577112d9dd55beb4a8ccd2b9dede0fefcf6eb07b8e6753f34">PROC_SPELL_PHASE_HIT</a></div><div class="ttdeci">@ PROC_SPELL_PHASE_HIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00244">SpellMgr.h:244</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_addbb65f0e6c920d8577112d9dd55beb4acd99cd6667521d46043f4c1dcb083e59"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#addbb65f0e6c920d8577112d9dd55beb4acd99cd6667521d46043f4c1dcb083e59">PROC_SPELL_PHASE_MASK_ALL</a></div><div class="ttdeci">@ PROC_SPELL_PHASE_MASK_ALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00247">SpellMgr.h:246</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ade1c2af066d4cf1bbcd88f13f01cd4d6a3224fff7fa83c444aa33906a7a00a87b"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a3224fff7fa83c444aa33906a7a00a87b">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_POS</a></div><div class="ttdeci">@ PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_POS</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00128">SpellMgr.h:128</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ade1c2af066d4cf1bbcd88f13f01cd4d6a429d6c885f9687a1b041436cb45d74ce"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a429d6c885f9687a1b041436cb45d74ce">PROC_FLAG_DONE_PERIODIC</a></div><div class="ttdeci">@ PROC_FLAG_DONE_PERIODIC</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00134">SpellMgr.h:134</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ade1c2af066d4cf1bbcd88f13f01cd4d6a4ef079da228b08645ef20ead47c22a73"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a4ef079da228b08645ef20ead47c22a73">TAKEN_HIT_PROC_FLAG_MASK</a></div><div class="ttdeci">@ TAKEN_HIT_PROC_FLAG_MASK</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00177">SpellMgr.h:173</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ade1c2af066d4cf1bbcd88f13f01cd4d6a62b453b99197db2931efaae9c3f7efbc"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a62b453b99197db2931efaae9c3f7efbc">PROC_FLAG_DONE_MELEE_AUTO_ATTACK</a></div><div class="ttdeci">@ PROC_FLAG_DONE_MELEE_AUTO_ATTACK</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00110">SpellMgr.h:110</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ade1c2af066d4cf1bbcd88f13f01cd4d6a6d718a09392612753a07abe19d65299c"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a6d718a09392612753a07abe19d65299c">PERIODIC_PROC_FLAG_MASK</a></div><div class="ttdeci">@ PERIODIC_PROC_FLAG_MASK</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00165">SpellMgr.h:165</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ade1c2af066d4cf1bbcd88f13f01cd4d6a6d76a272a9d09c21d6959afdccf27119"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a6d76a272a9d09c21d6959afdccf27119">PROC_FLAG_DONE_SPELL_NONE_DMG_CLASS_POS</a></div><div class="ttdeci">@ PROC_FLAG_DONE_SPELL_NONE_DMG_CLASS_POS</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00122">SpellMgr.h:122</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ade1c2af066d4cf1bbcd88f13f01cd4d6a77a138ad03b6e16e4ab21aba26d98ec3"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a77a138ad03b6e16e4ab21aba26d98ec3">PROC_FLAG_KILLED</a></div><div class="ttdeci">@ PROC_FLAG_KILLED</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00107">SpellMgr.h:107</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ade1c2af066d4cf1bbcd88f13f01cd4d6a83f7552203278e82d55d40034cea9105"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a83f7552203278e82d55d40034cea9105">PROC_FLAG_TAKEN_SPELL_MAGIC_DMG_CLASS_NEG</a></div><div class="ttdeci">@ PROC_FLAG_TAKEN_SPELL_MAGIC_DMG_CLASS_NEG</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00132">SpellMgr.h:132</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ade1c2af066d4cf1bbcd88f13f01cd4d6a8b6d98edef5c8763d9b8d5f0d1b95d40"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a8b6d98edef5c8763d9b8d5f0d1b95d40">PROC_FLAG_DEATH</a></div><div class="ttdeci">@ PROC_FLAG_DEATH</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00143">SpellMgr.h:143</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ade1c2af066d4cf1bbcd88f13f01cd4d6a968d75fc25f1413369015f9ba98870b4"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a968d75fc25f1413369015f9ba98870b4">PROC_FLAG_TAKEN_PERIODIC</a></div><div class="ttdeci">@ PROC_FLAG_TAKEN_PERIODIC</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00135">SpellMgr.h:135</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ade1c2af066d4cf1bbcd88f13f01cd4d6a9e17ffa130a52703402b183e53ec18c9"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a9e17ffa130a52703402b183e53ec18c9">REQ_SPELL_PHASE_PROC_FLAG_MASK</a></div><div class="ttdeci">@ REQ_SPELL_PHASE_PROC_FLAG_MASK</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00179">SpellMgr.h:179</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ade1c2af066d4cf1bbcd88f13f01cd4d6aadedce3b69f2042ebb950a48165fc89a"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6aadedce3b69f2042ebb950a48165fc89a">PROC_FLAG_KILL</a></div><div class="ttdeci">@ PROC_FLAG_KILL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00108">SpellMgr.h:108</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ade1c2af066d4cf1bbcd88f13f01cd4d6aaf9170997f464e7fb1c87b84bb38651a"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6aaf9170997f464e7fb1c87b84bb38651a">PROC_FLAG_TAKEN_SPELL_NONE_DMG_CLASS_NEG</a></div><div class="ttdeci">@ PROC_FLAG_TAKEN_SPELL_NONE_DMG_CLASS_NEG</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00126">SpellMgr.h:126</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ade1c2af066d4cf1bbcd88f13f01cd4d6ab47347c9f4b3ba1255744ba7c0a1e007"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6ab47347c9f4b3ba1255744ba7c0a1e007">PROC_FLAG_DONE_SPELL_NONE_DMG_CLASS_NEG</a></div><div class="ttdeci">@ PROC_FLAG_DONE_SPELL_NONE_DMG_CLASS_NEG</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00125">SpellMgr.h:125</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ade1c2af066d4cf1bbcd88f13f01cd4d6abb4ec446733b29f5eaa67b5b5a6c8d73"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6abb4ec446733b29f5eaa67b5b5a6c8d73">PROC_FLAG_TAKEN_SPELL_MAGIC_DMG_CLASS_POS</a></div><div class="ttdeci">@ PROC_FLAG_TAKEN_SPELL_MAGIC_DMG_CLASS_POS</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00129">SpellMgr.h:129</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ade1c2af066d4cf1bbcd88f13f01cd4d6abcffcf75e3fd5015383c586153dc32c1"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6abcffcf75e3fd5015383c586153dc32c1">PROC_FLAG_TAKEN_DAMAGE</a></div><div class="ttdeci">@ PROC_FLAG_TAKEN_DAMAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00137">SpellMgr.h:137</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ade1c2af066d4cf1bbcd88f13f01cd4d6acf742e65ebea270b541f0f374f54ece4"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6acf742e65ebea270b541f0f374f54ece4">PROC_FLAG_TAKEN_SPELL_NONE_DMG_CLASS_POS</a></div><div class="ttdeci">@ PROC_FLAG_TAKEN_SPELL_NONE_DMG_CLASS_POS</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00123">SpellMgr.h:123</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ade1c2af066d4cf1bbcd88f13f01cd4d6adc3fb7dd56615e62d28af0ea87793d58"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6adc3fb7dd56615e62d28af0ea87793d58">SPELL_PROC_FLAG_MASK</a></div><div class="ttdeci">@ SPELL_PROC_FLAG_MASK</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00161">SpellMgr.h:156</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ade1c2af066d4cf1bbcd88f13f01cd4d6ae0cef27dc24d6bd6fa46efa85df7d488"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6ae0cef27dc24d6bd6fa46efa85df7d488">DONE_HIT_PROC_FLAG_MASK</a></div><div class="ttdeci">@ DONE_HIT_PROC_FLAG_MASK</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00171">SpellMgr.h:167</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ade1c2af066d4cf1bbcd88f13f01cd4d6aec3e2077cfabdc92fbbc9a1858dd5c7b"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6aec3e2077cfabdc92fbbc9a1858dd5c7b">PROC_FLAG_DONE_TRAP_ACTIVATION</a></div><div class="ttdeci">@ PROC_FLAG_DONE_TRAP_ACTIVATION</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00138">SpellMgr.h:138</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_ade1c2af066d4cf1bbcd88f13f01cd4d6afe7895d66dfe7eb26eb655d393b0cd67"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#ade1c2af066d4cf1bbcd88f13f01cd4d6afe7895d66dfe7eb26eb655d393b0cd67">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_NEG</a></div><div class="ttdeci">@ PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_NEG</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00131">SpellMgr.h:131</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_aebca17b4bc1b0129c26a7c769d90159b"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#aebca17b4bc1b0129c26a7c769d90159b">SpellAreaForQuestMapBounds</a></div><div class="ttdeci">std::pair&lt; SpellAreaForQuestMap::const_iterator, SpellAreaForQuestMap::const_iterator &gt; SpellAreaForQuestMapBounds</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00532">SpellMgr.h:532</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_af4e20067ac1089d43e9ece8073dfd728"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#af4e20067ac1089d43e9ece8073dfd728">SPELL_LINKED_MAX_SPELLS</a></div><div class="ttdeci">#define SPELL_LINKED_MAX_SPELLS</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00092">SpellMgr.h:92</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_aff302d7ad23409ef738f15bcb560ed89"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#aff302d7ad23409ef738f15bcb560ed89">PetLevelupSpellSet</a></div><div class="ttdeci">std::multimap&lt; uint32, uint32 &gt; PetLevelupSpellSet</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00570">SpellMgr.h:570</a></div></div>
<div class="ttc" id="a_timer_8h_html_a23a2c8663a05f2b03a6f85501972e8c0"><div class="ttname"><a href="../../d5/d29/_timer_8h.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a></div><div class="ttdeci">uint32 GetMSTimeDiffToNow(uint32 oldMSTime)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d29/_timer_8h_source.html#l00061">Timer.h:61</a></div></div>
<div class="ttc" id="a_timer_8h_html_a4476c8e13ea790c3536f2749105f9cb9"><div class="ttname"><a href="../../d5/d29/_timer_8h.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a></div><div class="ttdeci">uint32 getMSTime()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d29/_timer_8h_source.html#l00033">Timer.h:33</a></div></div>
<div class="ttc" id="a_unit_8h_html_a0709fc3ab848cf1b8b4853813b8fe011a043102900f6d0a56c4ba2aaf151fa41a"><div class="ttname"><a href="../../d5/d32/_unit_8h.html#a0709fc3ab848cf1b8b4853813b8fe011a043102900f6d0a56c4ba2aaf151fa41a">AURA_INTERRUPT_FLAG_TAKE_DAMAGE</a></div><div class="ttdeci">@ AURA_INTERRUPT_FLAG_TAKE_DAMAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l00053">Unit.h:53</a></div></div>
<div class="ttc" id="a_unit_8h_html_a0709fc3ab848cf1b8b4853813b8fe011a38784f17276304852dbc8f4e22b285d2"><div class="ttname"><a href="../../d5/d32/_unit_8h.html#a0709fc3ab848cf1b8b4853813b8fe011a38784f17276304852dbc8f4e22b285d2">AURA_INTERRUPT_FLAG_CAST</a></div><div class="ttdeci">@ AURA_INTERRUPT_FLAG_CAST</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l00054">Unit.h:54</a></div></div>
<div class="ttc" id="a_unit_8h_html_a0709fc3ab848cf1b8b4853813b8fe011a79d42b7d97460b52fe46d9bc3c288a15"><div class="ttname"><a href="../../d5/d32/_unit_8h.html#a0709fc3ab848cf1b8b4853813b8fe011a79d42b7d97460b52fe46d9bc3c288a15">AURA_INTERRUPT_FLAG_HITBYSPELL</a></div><div class="ttdeci">@ AURA_INTERRUPT_FLAG_HITBYSPELL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l00052">Unit.h:52</a></div></div>
<div class="ttc" id="a_unit_8h_html_a0709fc3ab848cf1b8b4853813b8fe011a79d9517e2981beafd03e4ee2ccbb1c35"><div class="ttname"><a href="../../d5/d32/_unit_8h.html#a0709fc3ab848cf1b8b4853813b8fe011a79d9517e2981beafd03e4ee2ccbb1c35">AURA_INTERRUPT_FLAG_MOVE</a></div><div class="ttdeci">@ AURA_INTERRUPT_FLAG_MOVE</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l00055">Unit.h:55</a></div></div>
<div class="ttc" id="a_unit_8h_html_a0709fc3ab848cf1b8b4853813b8fe011a7ff7b6e5eb8b89e335cbed2efcc61ec3"><div class="ttname"><a href="../../d5/d32/_unit_8h.html#a0709fc3ab848cf1b8b4853813b8fe011a7ff7b6e5eb8b89e335cbed2efcc61ec3">AURA_INTERRUPT_FLAG_TURNING</a></div><div class="ttdeci">@ AURA_INTERRUPT_FLAG_TURNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l00056">Unit.h:56</a></div></div>
<div class="ttc" id="a_unit_8h_html_a0709fc3ab848cf1b8b4853813b8fe011a814f4cad10d65b0cb37bb6ec56e7fe9d"><div class="ttname"><a href="../../d5/d32/_unit_8h.html#a0709fc3ab848cf1b8b4853813b8fe011a814f4cad10d65b0cb37bb6ec56e7fe9d">AURA_INTERRUPT_FLAG_NOT_ABOVEWATER</a></div><div class="ttdeci">@ AURA_INTERRUPT_FLAG_NOT_ABOVEWATER</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l00059">Unit.h:59</a></div></div>
<div class="ttc" id="a_unit_8h_html_a0709fc3ab848cf1b8b4853813b8fe011a9981d97f2b5d8a186a68b0199a8f1f37"><div class="ttname"><a href="../../d5/d32/_unit_8h.html#a0709fc3ab848cf1b8b4853813b8fe011a9981d97f2b5d8a186a68b0199a8f1f37">AURA_INTERRUPT_FLAG_MELEE_ATTACK</a></div><div class="ttdeci">@ AURA_INTERRUPT_FLAG_MELEE_ATTACK</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l00064">Unit.h:64</a></div></div>
<div class="ttc" id="a_unit_8h_html_a0709fc3ab848cf1b8b4853813b8fe011addd23de47de1322a4cc921e361bc6dd8"><div class="ttname"><a href="../../d5/d32/_unit_8h.html#a0709fc3ab848cf1b8b4853813b8fe011addd23de47de1322a4cc921e361bc6dd8">AURA_INTERRUPT_FLAG_CHANGE_MAP</a></div><div class="ttdeci">@ AURA_INTERRUPT_FLAG_CHANGE_MAP</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l00071">Unit.h:71</a></div></div>
<div class="ttc" id="a_unit_8h_html_a39b60e1f12cca9b6873cb817e7717351a0424ff84a813354eb36d6f6774bbacce"><div class="ttname"><a href="../../d5/d32/_unit_8h.html#a39b60e1f12cca9b6873cb817e7717351a0424ff84a813354eb36d6f6774bbacce">SPELLMOD_EFFECT2</a></div><div class="ttdeci">@ SPELLMOD_EFFECT2</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l00097">Unit.h:97</a></div></div>
<div class="ttc" id="a_unit_8h_html_a39b60e1f12cca9b6873cb817e7717351a0df5b1482e6dd01af433e9e95fbae0f3"><div class="ttname"><a href="../../d5/d32/_unit_8h.html#a39b60e1f12cca9b6873cb817e7717351a0df5b1482e6dd01af433e9e95fbae0f3">SPELLMOD_DAMAGE</a></div><div class="ttdeci">@ SPELLMOD_DAMAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l00085">Unit.h:85</a></div></div>
<div class="ttc" id="a_unit_8h_html_a39b60e1f12cca9b6873cb817e7717351ab97b462651ee3567f2c518bd09e74e9e"><div class="ttname"><a href="../../d5/d32/_unit_8h.html#a39b60e1f12cca9b6873cb817e7717351ab97b462651ee3567f2c518bd09e74e9e">SPELLMOD_EFFECT1</a></div><div class="ttdeci">@ SPELLMOD_EFFECT1</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l00088">Unit.h:88</a></div></div>
<div class="ttc" id="a_unit_8h_html_aa8baff9cbdf61bbb483c1e7ae739f930"><div class="ttname"><a href="../../d5/d32/_unit_8h.html#aa8baff9cbdf61bbb483c1e7ae739f930">DiminishingLevels</a></div><div class="ttdeci">DiminishingLevels</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l00840">Unit.h:841</a></div></div>
<div class="ttc" id="a_unit_8h_html_aa8baff9cbdf61bbb483c1e7ae739f930a753de913b5eed5c74aaa9d3b567a3980"><div class="ttname"><a href="../../d5/d32/_unit_8h.html#aa8baff9cbdf61bbb483c1e7ae739f930a753de913b5eed5c74aaa9d3b567a3980">DIMINISHING_LEVEL_IMMUNE</a></div><div class="ttdeci">@ DIMINISHING_LEVEL_IMMUNE</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l00845">Unit.h:845</a></div></div>
<div class="ttc" id="a_unit_8h_html_aa8baff9cbdf61bbb483c1e7ae739f930a955f8a1e9b85ae1f13831001779d0dc9"><div class="ttname"><a href="../../d5/d32/_unit_8h.html#aa8baff9cbdf61bbb483c1e7ae739f930a955f8a1e9b85ae1f13831001779d0dc9">DIMINISHING_LEVEL_TAUNT_IMMUNE</a></div><div class="ttdeci">@ DIMINISHING_LEVEL_TAUNT_IMMUNE</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l00847">Unit.h:847</a></div></div>
<div class="ttc" id="a_unit_8h_html_ab1b67dd15f243c850f589f66747e547ca956565a0800ab3f327d90d6a413f4482"><div class="ttname"><a href="../../d5/d32/_unit_8h.html#ab1b67dd15f243c850f589f66747e547ca956565a0800ab3f327d90d6a413f4482">FORM_MOONKIN</a></div><div class="ttdeci">@ FORM_MOONKIN</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l00228">Unit.h:228</a></div></div>
<div class="ttc" id="a_unit_8h_html_ab1b67dd15f243c850f589f66747e547caa28b6421a1efdc3a6377c480e1f80809"><div class="ttname"><a href="../../d5/d32/_unit_8h.html#ab1b67dd15f243c850f589f66747e547caa28b6421a1efdc3a6377c480e1f80809">FORM_CAT</a></div><div class="ttdeci">@ FORM_CAT</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l00200">Unit.h:200</a></div></div>
<div class="ttc" id="a_unit_8h_html_ab1b67dd15f243c850f589f66747e547cadede345fd72f3a48598be8a70afe65ca"><div class="ttname"><a href="../../d5/d32/_unit_8h.html#ab1b67dd15f243c850f589f66747e547cadede345fd72f3a48598be8a70afe65ca">FORM_TREE</a></div><div class="ttdeci">@ FORM_TREE</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l00201">Unit.h:201</a></div></div>
<div class="ttc" id="a_unit_8h_html_abadf2f982fd866917c372d16ab99c109a69ed081a90c21e0d86095c70de005dbb"><div class="ttname"><a href="../../d5/d32/_unit_8h.html#abadf2f982fd866917c372d16ab99c109a69ed081a90c21e0d86095c70de005dbb">SPELL_INTERRUPT_FLAG_INTERRUPT</a></div><div class="ttdeci">@ SPELL_INTERRUPT_FLAG_INTERRUPT</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l00038">Unit.h:38</a></div></div>
<div class="ttc" id="a_world_8h_html"><div class="ttname"><a href="../../d8/d86/_world_8h.html">World.h</a></div></div>
<div class="ttc" id="aclass_battlefield_html"><div class="ttname"><a href="../../d3/d42/class_battlefield.html">Battlefield</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d88/_battlefield_8h_source.html#l00204">Battlefield.h:205</a></div></div>
<div class="ttc" id="aclass_battlefield_html_a1605eebf64a203761f5aeba106b2b325"><div class="ttname"><a href="../../d3/d42/class_battlefield.html#a1605eebf64a203761f5aeba106b2b325">Battlefield::GetData</a></div><div class="ttdeci">uint32 GetData(uint32 dataId) const override</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d88/_battlefield_8h_source.html#l00271">Battlefield.h:271</a></div></div>
<div class="ttc" id="aclass_battlefield_html_a6199f0a6ab9a392b650d3d1f83396ec4"><div class="ttname"><a href="../../d3/d42/class_battlefield.html#a6199f0a6ab9a392b650d3d1f83396ec4">Battlefield::GetDefenderTeam</a></div><div class="ttdeci">TeamId GetDefenderTeam()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d88/_battlefield_8h_source.html#l00276">Battlefield.h:276</a></div></div>
<div class="ttc" id="aclass_battlefield_html_a8b0c38a6d6ef3096cfb333ca3fea72b5"><div class="ttname"><a href="../../d3/d42/class_battlefield.html#a8b0c38a6d6ef3096cfb333ca3fea72b5">Battlefield::IsWarTime</a></div><div class="ttdeci">bool IsWarTime()</div><div class="ttdoc">Return true if battle is start, false if battle is not started.</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d88/_battlefield_8h_source.html#l00248">Battlefield.h:248</a></div></div>
<div class="ttc" id="aclass_battlefield_html_a8dc3a39f428abe572eebec1c3cf02de1"><div class="ttname"><a href="../../d3/d42/class_battlefield.html#a8dc3a39f428abe572eebec1c3cf02de1">Battlefield::GetTypeId</a></div><div class="ttdeci">uint32 GetTypeId()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d88/_battlefield_8h_source.html#l00242">Battlefield.h:242</a></div></div>
<div class="ttc" id="aclass_battlefield_html_aa5ed54065b1201e086a89240a6acc1cc"><div class="ttname"><a href="../../d3/d42/class_battlefield.html#aa5ed54065b1201e086a89240a6acc1cc">Battlefield::CanFlyIn</a></div><div class="ttdeci">bool CanFlyIn()</div><div class="ttdoc">Return if we can use mount in battlefield.</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d88/_battlefield_8h_source.html#l00342">Battlefield.h:342</a></div></div>
<div class="ttc" id="aclass_battleground_html"><div class="ttname"><a href="../../d6/ddc/class_battleground.html">Battleground</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db3/_battleground_8h_source.html#l00335">Battleground.h:336</a></div></div>
<div class="ttc" id="aclass_battleground_html_ac3309b1d642725de16954bc4a0e1bec7"><div class="ttname"><a href="../../d6/ddc/class_battleground.html#ac3309b1d642725de16954bc4a0e1bec7">Battleground::ToBattlegroundIC</a></div><div class="ttdeci">BattlegroundIC * ToBattlegroundIC()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db3/_battleground_8h_source.html#l00633">Battleground.h:633</a></div></div>
<div class="ttc" id="aclass_battleground_html_adfd6af85ad435ecdab7129e810ba2319"><div class="ttname"><a href="../../d6/ddc/class_battleground.html#adfd6af85ad435ecdab7129e810ba2319">Battleground::GetBgTypeID</a></div><div class="ttdeci">BattlegroundTypeId GetBgTypeID(bool GetRandom=false) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db3/_battleground_8h_source.html#l00361">Battleground.h:361</a></div></div>
<div class="ttc" id="aclass_battleground_i_c_html_a3efd5175076dc47ff235af74f246da30"><div class="ttname"><a href="../../db/d87/class_battleground_i_c.html#a3efd5175076dc47ff235af74f246da30">BattlegroundIC::GetNodeState</a></div><div class="ttdeci">uint32 GetNodeState(uint8 nodeType) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/daa/_battleground_i_c_8h_source.html#l00934">BattlegroundIC.h:934</a></div></div>
<div class="ttc" id="aclass_field_html"><div class="ttname"><a href="../../dc/d67/class_field.html">Field</a></div><div class="ttdoc">Class used to access individual fields of database query result.</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d96/_field_8h_source.html#l00083">Field.h:84</a></div></div>
<div class="ttc" id="aclass_field_html_a090beafdf8b41555058a87d00443498a"><div class="ttname"><a href="../../dc/d67/class_field.html#a090beafdf8b41555058a87d00443498a">Field::GetUInt8</a></div><div class="ttdeci">uint8 GetUInt8() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc4/_field_8cpp_source.html#l00033">Field.cpp:33</a></div></div>
<div class="ttc" id="aclass_field_html_a714d8d2cb518f48e7ba65fc3176a5002"><div class="ttname"><a href="../../dc/d67/class_field.html#a714d8d2cb518f48e7ba65fc3176a5002">Field::GetInt8</a></div><div class="ttdeci">int8 GetInt8() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc4/_field_8cpp_source.html#l00051">Field.cpp:51</a></div></div>
<div class="ttc" id="aclass_field_html_a7bbb15bfb8f64f94b26c7cfffe83ac58"><div class="ttname"><a href="../../dc/d67/class_field.html#a7bbb15bfb8f64f94b26c7cfffe83ac58">Field::GetUInt16</a></div><div class="ttdeci">uint16 GetUInt16() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc4/_field_8cpp_source.html#l00069">Field.cpp:69</a></div></div>
<div class="ttc" id="aclass_field_html_a8b05a34c3d0cb92a9d2c0f298aa11dea"><div class="ttname"><a href="../../dc/d67/class_field.html#a8b05a34c3d0cb92a9d2c0f298aa11dea">Field::GetFloat</a></div><div class="ttdeci">float GetFloat() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc4/_field_8cpp_source.html#l00177">Field.cpp:177</a></div></div>
<div class="ttc" id="aclass_field_html_af5cd02c50067a95e3e6771d48bfbc92d"><div class="ttname"><a href="../../dc/d67/class_field.html#af5cd02c50067a95e3e6771d48bfbc92d">Field::GetBool</a></div><div class="ttdeci">bool GetBool() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d96/_field_8h_source.html#l00092">Field.h:92</a></div></div>
<div class="ttc" id="aclass_field_html_af71c97fd38da328f4d9590b112f859c4"><div class="ttname"><a href="../../dc/d67/class_field.html#af71c97fd38da328f4d9590b112f859c4">Field::GetUInt32</a></div><div class="ttdeci">uint32 GetUInt32() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc4/_field_8cpp_source.html#l00105">Field.cpp:105</a></div></div>
<div class="ttc" id="aclass_field_html_afc9e673b7e6607f5f52bf16c77a73e5e"><div class="ttname"><a href="../../dc/d67/class_field.html#afc9e673b7e6607f5f52bf16c77a73e5e">Field::GetInt32</a></div><div class="ttdeci">int32 GetInt32() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc4/_field_8cpp_source.html#l00123">Field.cpp:123</a></div></div>
<div class="ttc" id="aclass_instance_script_html"><div class="ttname"><a href="../../d8/d83/class_instance_script.html">InstanceScript</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d42/_instance_script_8h_source.html#l00140">InstanceScript.h:141</a></div></div>
<div class="ttc" id="aclass_map_html_a0c80d50b012dc8d560e256201970f3b3"><div class="ttname"><a href="../../dd/d11/class_map.html#a0c80d50b012dc8d560e256201970f3b3">Map::IsDungeon</a></div><div class="ttdeci">bool IsDungeon() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d63/_map_8h_source.html#l00434">Map.h:434</a></div></div>
<div class="ttc" id="aclass_map_html_a43b5bdb50f8e3d9b9305475f62872d6c"><div class="ttname"><a href="../../dd/d11/class_map.html#a43b5bdb50f8e3d9b9305475f62872d6c">Map::GetSpawnMode</a></div><div class="ttdeci">uint8 GetSpawnMode() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d63/_map_8h_source.html#l00406">Map.h:406</a></div></div>
<div class="ttc" id="aclass_object_html_ae635434021784608b659501867538c87"><div class="ttname"><a href="../../d8/d83/class_object.html#ae635434021784608b659501867538c87">Object::ToPlayer</a></div><div class="ttdeci">Player * ToPlayer()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/_object_8h_source.html#l00181">Object.h:181</a></div></div>
<div class="ttc" id="aclass_pet_aura_html"><div class="ttname"><a href="../../d3/d0b/class_pet_aura.html">PetAura</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00453">SpellMgr.h:454</a></div></div>
<div class="ttc" id="aclass_player_html"><div class="ttname"><a href="../../d8/d53/class_player.html">Player</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l01023">Player.h:1024</a></div></div>
<div class="ttc" id="aclass_player_html_a4874f5c152e187c381c2a349f16aa0d4"><div class="ttname"><a href="../../d8/d53/class_player.html#a4874f5c152e187c381c2a349f16aa0d4">Player::GetTeamId</a></div><div class="ttdeci">TeamId GetTeamId(bool original=false) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l02050">Player.h:2050</a></div></div>
<div class="ttc" id="aclass_player_html_a5f17db78f9356bf239b7631ebc38fa2d"><div class="ttname"><a href="../../d8/d53/class_player.html#a5f17db78f9356bf239b7631ebc38fa2d">Player::GetBattleground</a></div><div class="ttdeci">Battleground * GetBattleground(bool create=false) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d82/_player_8cpp_source.html#l11489">Player.cpp:11489</a></div></div>
<div class="ttc" id="aclass_player_html_ab98c62b0161d702e4219c8277f8f5349"><div class="ttname"><a href="../../d8/d53/class_player.html#ab98c62b0161d702e4219c8277f8f5349">Player::GetQuestStatus</a></div><div class="ttdeci">QuestStatus GetQuestStatus(uint32 quest_id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01404">PlayerQuest.cpp:1404</a></div></div>
<div class="ttc" id="aclass_prepared_statement_base_html_a93efae944cba1cd7e11583a08f25b2d6"><div class="ttname"><a href="../../dd/d6a/class_prepared_statement_base.html#a93efae944cba1cd7e11583a08f25b2d6">PreparedStatementBase::setUInt32</a></div><div class="ttdeci">void setUInt32(const uint8 index, const uint32 value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4f/_prepared_statement_8cpp_source.html#l00050">PreparedStatement.cpp:50</a></div></div>
<div class="ttc" id="aclass_prepared_statement_html"><div class="ttname"><a href="../../da/d37/class_prepared_statement.html">PreparedStatement</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d89/_prepared_statement_8h_source.html#l00102">PreparedStatement.h:103</a></div></div>
<div class="ttc" id="aclass_proc_event_info_html"><div class="ttname"><a href="../../df/def/class_proc_event_info.html">ProcEventInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l00975">Unit.h:976</a></div></div>
<div class="ttc" id="aclass_proc_event_info_html_a0129f2b5cfdebb9f3618331e297a0db1"><div class="ttname"><a href="../../df/def/class_proc_event_info.html#a0129f2b5cfdebb9f3618331e297a0db1">ProcEventInfo::GetHitMask</a></div><div class="ttdeci">uint32 GetHitMask() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l01000">Unit.h:1000</a></div></div>
<div class="ttc" id="aclass_proc_event_info_html_a175351e318f9066e28a8d106e9c9e1f9"><div class="ttname"><a href="../../df/def/class_proc_event_info.html#a175351e318f9066e28a8d106e9c9e1f9">ProcEventInfo::GetSchoolMask</a></div><div class="ttdeci">SpellSchoolMask GetSchoolMask() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l01002">Unit.h:1002</a></div></div>
<div class="ttc" id="aclass_proc_event_info_html_a4182094d88130ae30dd6c5f3f73c18c0"><div class="ttname"><a href="../../df/def/class_proc_event_info.html#a4182094d88130ae30dd6c5f3f73c18c0">ProcEventInfo::GetSpellTypeMask</a></div><div class="ttdeci">uint32 GetSpellTypeMask() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l00998">Unit.h:998</a></div></div>
<div class="ttc" id="aclass_proc_event_info_html_a5e2c60a3e242f69afa2cb2bccf5a072b"><div class="ttname"><a href="../../df/def/class_proc_event_info.html#a5e2c60a3e242f69afa2cb2bccf5a072b">ProcEventInfo::GetTypeMask</a></div><div class="ttdeci">uint32 GetTypeMask() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l00997">Unit.h:997</a></div></div>
<div class="ttc" id="aclass_proc_event_info_html_a759add2c89e786125196eb6bd3b20c6d"><div class="ttname"><a href="../../df/def/class_proc_event_info.html#a759add2c89e786125196eb6bd3b20c6d">ProcEventInfo::GetSpellInfo</a></div><div class="ttdeci">SpellInfo const  * GetSpellInfo() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d2e/_unit_8cpp_source.html#l00176">Unit.cpp:176</a></div></div>
<div class="ttc" id="aclass_proc_event_info_html_a958e2f1cabb9e39bc575504f9ca568df"><div class="ttname"><a href="../../df/def/class_proc_event_info.html#a958e2f1cabb9e39bc575504f9ca568df">ProcEventInfo::GetActor</a></div><div class="ttdeci">Unit * GetActor()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l00994">Unit.h:994</a></div></div>
<div class="ttc" id="aclass_proc_event_info_html_ab3b2d919ecc5f4bfd15e3656a6990708"><div class="ttname"><a href="../../df/def/class_proc_event_info.html#ab3b2d919ecc5f4bfd15e3656a6990708">ProcEventInfo::GetSpellPhaseMask</a></div><div class="ttdeci">uint32 GetSpellPhaseMask() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l00999">Unit.h:999</a></div></div>
<div class="ttc" id="aclass_proc_event_info_html_ad63bc4856be234d9968568b04cdf636a"><div class="ttname"><a href="../../df/def/class_proc_event_info.html#ad63bc4856be234d9968568b04cdf636a">ProcEventInfo::GetActionTarget</a></div><div class="ttdeci">Unit * GetActionTarget() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l00995">Unit.h:995</a></div></div>
<div class="ttc" id="aclass_proc_event_info_html_af076adae38d642f666cf29432bab3a08"><div class="ttname"><a href="../../df/def/class_proc_event_info.html#af076adae38d642f666cf29432bab3a08">ProcEventInfo::GetProcSpell</a></div><div class="ttdeci">Spell const  * GetProcSpell() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l01003">Unit.h:1003</a></div></div>
<div class="ttc" id="aclass_spell_effect_info_html"><div class="ttname"><a href="../../d7/de3/class_spell_effect_info.html">SpellEffectInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00245">SpellInfo.h:246</a></div></div>
<div class="ttc" id="aclass_spell_html"><div class="ttname"><a href="../../d8/d0d/class_spell.html">Spell</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dfa/_spell_8h_source.html#l00283">Spell.h:284</a></div></div>
<div class="ttc" id="aclass_spell_info_html"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html">SpellInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00312">SpellInfo.h:313</a></div></div>
<div class="ttc" id="aclass_spell_info_html_a0696e18f727a511bfa4ac86a8c16b9f0"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#a0696e18f727a511bfa4ac86a8c16b9f0">SpellInfo::SpellLevel</a></div><div class="ttdeci">uint32 SpellLevel</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00355">SpellInfo.h:355</a></div></div>
<div class="ttc" id="aclass_spell_info_html_a0ddc3531aeb41a1fa93502d94621e025"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#a0ddc3531aeb41a1fa93502d94621e025">SpellInfo::Reagent</a></div><div class="ttdeci">std::array&lt; int32, MAX_SPELL_REAGENTS &gt; Reagent</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00368">SpellInfo.h:368</a></div></div>
<div class="ttc" id="aclass_spell_info_html_a20c43b3c24e4cfb1b41d00259f9343c4"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#a20c43b3c24e4cfb1b41d00259f9343c4">SpellInfo::LoadSpellSpecific</a></div><div class="ttdeci">SpellSpecificType LoadSpellSpecific() const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/_spell_info_8cpp_source.html#l02084">SpellInfo.cpp:2084</a></div></div>
<div class="ttc" id="aclass_spell_info_html_a236dc1b4f58ebf6a2eb5b1824c5e8073"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#a236dc1b4f58ebf6a2eb5b1824c5e8073">SpellInfo::GetFirstRankSpell</a></div><div class="ttdeci">SpellInfo const  * GetFirstRankSpell() const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/_spell_info_8cpp_source.html#l02442">SpellInfo.cpp:2442</a></div></div>
<div class="ttc" id="aclass_spell_info_html_a25ed784456d2d769bf59a788f9216001"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#a25ed784456d2d769bf59a788f9216001">SpellInfo::GetCategory</a></div><div class="ttdeci">uint32 GetCategory() const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/_spell_info_8cpp_source.html#l00863">SpellInfo.cpp:863</a></div></div>
<div class="ttc" id="aclass_spell_info_html_a30452de2bd62607418f3962d00124144"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#a30452de2bd62607418f3962d00124144">SpellInfo::SpellFamilyFlags</a></div><div class="ttdeci">flag96 SpellFamilyFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00382">SpellInfo.h:382</a></div></div>
<div class="ttc" id="aclass_spell_info_html_a3390b5e41b2731ccbcba0202e7e1c474"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#a3390b5e41b2731ccbcba0202e7e1c474">SpellInfo::AttributesCu</a></div><div class="ttdeci">uint32 AttributesCu</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00327">SpellInfo.h:327</a></div></div>
<div class="ttc" id="aclass_spell_info_html_a354b312d22f0591378e7b031a2ccd887"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#a354b312d22f0591378e7b031a2ccd887">SpellInfo::RecoveryTime</a></div><div class="ttdeci">uint32 RecoveryTime</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00343">SpellInfo.h:343</a></div></div>
<div class="ttc" id="aclass_spell_info_html_a483ee97240f74363e5e132a6a6c92af3"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#a483ee97240f74363e5e132a6a6c92af3">SpellInfo::LoadAuraState</a></div><div class="ttdeci">AuraStateType LoadAuraState() const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/_spell_info_8cpp_source.html#l02009">SpellInfo.cpp:2009</a></div></div>
<div class="ttc" id="aclass_spell_info_html_a49bc14059c2bd3785231c52e0d54d382"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#a49bc14059c2bd3785231c52e0d54d382">SpellInfo::Id</a></div><div class="ttdeci">uint32 Id</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00315">SpellInfo.h:315</a></div></div>
<div class="ttc" id="aclass_spell_info_html_a49c70ec610efb184d46fb39737bd4a1a"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#a49c70ec610efb184d46fb39737bd4a1a">SpellInfo::GetRank</a></div><div class="ttdeci">uint8 GetRank() const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/_spell_info_8cpp_source.html#l02435">SpellInfo.cpp:2435</a></div></div>
<div class="ttc" id="aclass_spell_info_html_a4b82e530c085010e7247ae0862301ac9"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#a4b82e530c085010e7247ae0862301ac9">SpellInfo::ProcCharges</a></div><div class="ttdeci">uint32 ProcCharges</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00352">SpellInfo.h:352</a></div></div>
<div class="ttc" id="aclass_spell_info_html_a4e28f041950aff97f628956390a51616"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#a4e28f041950aff97f628956390a51616">SpellInfo::IsLootCrafting</a></div><div class="ttdeci">bool IsLootCrafting() const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/_spell_info_8cpp_source.html#l00908">SpellInfo.cpp:908</a></div></div>
<div class="ttc" id="aclass_spell_info_html_a54e6c05479963284d49062a9ce6090d2"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#a54e6c05479963284d49062a9ce6090d2">SpellInfo::_requireCooldownInfo</a></div><div class="ttdeci">bool _requireCooldownInfo</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00397">SpellInfo.h:397</a></div></div>
<div class="ttc" id="aclass_spell_info_html_a562060f7c0d25cb229a16da38692b69e"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#a562060f7c0d25cb229a16da38692b69e">SpellInfo::IsRanked</a></div><div class="ttdeci">bool IsRanked() const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/_spell_info_8cpp_source.html#l02430">SpellInfo.cpp:2430</a></div></div>
<div class="ttc" id="aclass_spell_info_html_a5f67d59406d383cca6627b51d37d4a7a"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#a5f67d59406d383cca6627b51d37d4a7a">SpellInfo::_auraState</a></div><div class="ttdeci">AuraStateType _auraState</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00392">SpellInfo.h:392</a></div></div>
<div class="ttc" id="aclass_spell_info_html_a6a56e323b5359f6fc3d766b71efaf901"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#a6a56e323b5359f6fc3d766b71efaf901">SpellInfo::Speed</a></div><div class="ttdeci">float Speed</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00365">SpellInfo.h:365</a></div></div>
<div class="ttc" id="aclass_spell_info_html_a72ac013c860d3af649879442115971ab"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#a72ac013c860d3af649879442115971ab">SpellInfo::SchoolMask</a></div><div class="ttdeci">uint32 SchoolMask</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00386">SpellInfo.h:386</a></div></div>
<div class="ttc" id="aclass_spell_info_html_a78bbf3a5574a188116846fbc77a57768"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#a78bbf3a5574a188116846fbc77a57768">SpellInfo::SpellVisual</a></div><div class="ttdeci">std::array&lt; uint32, 2 &gt; SpellVisual</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00374">SpellInfo.h:374</a></div></div>
<div class="ttc" id="aclass_spell_info_html_a7909fc70161065f6107211ee8ed3c6bf"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#a7909fc70161065f6107211ee8ed3c6bf">SpellInfo::ProcFlags</a></div><div class="ttdeci">uint32 ProcFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00350">SpellInfo.h:350</a></div></div>
<div class="ttc" id="aclass_spell_info_html_a889b32138b72e5e9fabfc03d9cd3b97a"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#a889b32138b72e5e9fabfc03d9cd3b97a">SpellInfo::IsSpellValid</a></div><div class="ttdeci">bool IsSpellValid() const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/_spell_info_8cpp_source.html#l01175">SpellInfo.cpp:1175</a></div></div>
<div class="ttc" id="aclass_spell_info_html_a8b0406b9d3923cb0f92099f9c12822cb"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#a8b0406b9d3923cb0f92099f9c12822cb">SpellInfo::_IsPositiveEffect</a></div><div class="ttdeci">bool _IsPositiveEffect(uint8 effIndex, bool deep) const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/_spell_info_8cpp_source.html#l02561">SpellInfo.cpp:2561</a></div></div>
<div class="ttc" id="aclass_spell_info_html_a975746d6b737abb063ea037327abfc5a"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#a975746d6b737abb063ea037327abfc5a">SpellInfo::HasAttribute</a></div><div class="ttdeci">bool HasAttribute(SpellAttr0 attribute) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00408">SpellInfo.h:408</a></div></div>
<div class="ttc" id="aclass_spell_info_html_aa5bb0d7d6df03526d011d9cbfa3734e0"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#aa5bb0d7d6df03526d011d9cbfa3734e0">SpellInfo::Effects</a></div><div class="ttdeci">std::array&lt; SpellEffectInfo, MAX_SPELL_EFFECTS &gt; Effects</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00387">SpellInfo.h:387</a></div></div>
<div class="ttc" id="aclass_spell_info_html_ab55f4d105d110657b75bd1c59309d27c"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#ab55f4d105d110657b75bd1c59309d27c">SpellInfo::_spellSpecific</a></div><div class="ttdeci">SpellSpecificType _spellSpecific</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00393">SpellInfo.h:393</a></div></div>
<div class="ttc" id="aclass_spell_info_html_abed64acc9b4dcfa1c15888aa76137175"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#abed64acc9b4dcfa1c15888aa76137175">SpellInfo::GetAllEffectsMechanicMask</a></div><div class="ttdeci">uint32 GetAllEffectsMechanicMask() const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/_spell_info_8cpp_source.html#l01936">SpellInfo.cpp:1936</a></div></div>
<div class="ttc" id="aclass_spell_info_html_ac1a82f9330481616b4b87ed9eff0f785"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#ac1a82f9330481616b4b87ed9eff0f785">SpellInfo::SpellIconID</a></div><div class="ttdeci">uint32 SpellIconID</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00375">SpellInfo.h:375</a></div></div>
<div class="ttc" id="aclass_spell_info_html_ac86920b89de167157bd483cdc6ac7d4b"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#ac86920b89de167157bd483cdc6ac7d4b">SpellInfo::_InitializeExplicitTargetMask</a></div><div class="ttdeci">void _InitializeExplicitTargetMask()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/_spell_info_8cpp_source.html#l02533">SpellInfo.cpp:2533</a></div></div>
<div class="ttc" id="aclass_spell_info_html_acdd9ea3a150b57f3bb48f414d6607377"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#acdd9ea3a150b57f3bb48f414d6607377">SpellInfo::GetNextRankSpell</a></div><div class="ttdeci">SpellInfo const  * GetNextRankSpell() const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/_spell_info_8cpp_source.html#l02454">SpellInfo.cpp:2454</a></div></div>
<div class="ttc" id="aclass_spell_info_html_adef74790281b92d72ac2c2118a665096"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#adef74790281b92d72ac2c2118a665096">SpellInfo::IsPositive</a></div><div class="ttdeci">bool IsPositive() const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/_spell_info_8cpp_source.html#l01220">SpellInfo.cpp:1220</a></div></div>
<div class="ttc" id="aclass_spell_info_html_ae3a8f9ea2f783862a59d0dac50d154d3"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#ae3a8f9ea2f783862a59d0dac50d154d3">SpellInfo::ProcChance</a></div><div class="ttdeci">uint32 ProcChance</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00351">SpellInfo.h:351</a></div></div>
<div class="ttc" id="aclass_spell_info_html_aefe1e81c5922419ada55844bdb30e269"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#aefe1e81c5922419ada55844bdb30e269">SpellInfo::HasAura</a></div><div class="ttdeci">bool HasAura(AuraType aura) const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/_spell_info_8cpp_source.html#l00876">SpellInfo.cpp:876</a></div></div>
<div class="ttc" id="aclass_spell_info_html_af6ec577353f7d3cc59badd7d332153b0"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#af6ec577353f7d3cc59badd7d332153b0">SpellInfo::SpellFamilyName</a></div><div class="ttdeci">uint32 SpellFamilyName</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00381">SpellInfo.h:381</a></div></div>
<div class="ttc" id="aclass_spell_info_html_afa067fa58b7da5d234b08f01e6a7849c"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#afa067fa58b7da5d234b08f01e6a7849c">SpellInfo::AuraInterruptFlags</a></div><div class="ttdeci">uint32 AuraInterruptFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00348">SpellInfo.h:348</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html">SpellMgr</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00613">SpellMgr.h:614</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a0037908371f475d84ba4319c7109e12d"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a0037908371f475d84ba4319c7109e12d">SpellMgr::mSpellReq</a></div><div class="ttdeci">SpellRequiredMap mSpellReq</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00768">SpellMgr.h:768</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a007ed7e121bbb64d2ace17b97edf1ca7"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a007ed7e121bbb64d2ace17b97edf1ca7">SpellMgr::_GetSpellInfo</a></div><div class="ttdeci">SpellInfo * _GetSpellInfo(uint32 spellId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00731">SpellMgr.h:731</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a032f25dee822225e2dfbb75e1c6d56f5"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a032f25dee822225e2dfbb75e1c6d56f5">SpellMgr::mSpellLinkedMap</a></div><div class="ttdeci">SpellLinkedMap mSpellLinkedMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00779">SpellMgr.h:779</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a085ba1ffcde6b34c7b612d11e36513df"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a085ba1ffcde6b34c7b612d11e36513df">SpellMgr::LoadSpellLinked</a></div><div class="ttdeci">void LoadSpellLinked()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l02226">SpellMgr.cpp:2226</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a1230ba374bf128c6d0857d787bb68af4"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a1230ba374bf128c6d0857d787bb68af4">SpellMgr::mSkillLineAbilityMap</a></div><div class="ttdeci">SkillLineAbilityMap mSkillLineAbilityMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00787">SpellMgr.h:787</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a126f0b2c2c1bdedea38a31967bee99a9"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a126f0b2c2c1bdedea38a31967bee99a9">SpellMgr::GetSpellAreaMapBounds</a></div><div class="ttdeci">SpellAreaMapBounds GetSpellAreaMapBounds(uint32 spell_id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l01045">SpellMgr.cpp:1045</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a16ff5508005286ab678b47bcc211ac24"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a16ff5508005286ab678b47bcc211ac24">SpellMgr::mTalentSpellAdditionalSet</a></div><div class="ttdeci">TalentAdditionalSet mTalentSpellAdditionalSet</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00791">SpellMgr.h:791</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a1915eeb1c6f142f7ff156846c98e4119"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a1915eeb1c6f142f7ff156846c98e4119">SpellMgr::GetSetOfSpellsInSpellGroupWithFlag</a></div><div class="ttdeci">void GetSetOfSpellsInSpellGroupWithFlag(uint32 group_id, SpellGroupSpecialFlags flag, std::set&lt; uint32 &gt; &amp;availableElixirs) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00723">SpellMgr.cpp:723</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a1d1bde8d692b959379b27d29bfdd1e48"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a1d1bde8d692b959379b27d29bfdd1e48">SpellMgr::mEnchantCustomAttr</a></div><div class="ttdeci">EnchantCustomAttribute mEnchantCustomAttr</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00781">SpellMgr.h:781</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a1d78ba697367cda75056836937d7976e"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a1d78ba697367cda75056836937d7976e">SpellMgr::SetSpellDifficultyId</a></div><div class="ttdeci">void SetSpellDifficultyId(uint32 spellId, uint32 id)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00485">SpellMgr.cpp:485</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a1e15d35af8a99f10e6b6413308a93e95"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a1e15d35af8a99f10e6b6413308a93e95">SpellMgr::ComputeIsSpellValid</a></div><div class="ttdeci">static bool ComputeIsSpellValid(SpellInfo const *spellInfo, bool msg=true)</div><div class="ttdoc">Some checks for spells, to prevent adding deprecated/broken spells for trainers, spell book,...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00371">SpellMgr.cpp:371</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a2167cf52f6947d5dc921b3f08afce83a"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a2167cf52f6947d5dc921b3f08afce83a">SpellMgr::GetPetLevelupSpellList</a></div><div class="ttdeci">PetLevelupSpellSet const  * GetPetLevelupSpellList(uint32 petFamily) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l01028">SpellMgr.cpp:1028</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a223c626fa01fd3c17c80b9f8eb63e5a1"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a223c626fa01fd3c17c80b9f8eb63e5a1">SpellMgr::LoadSpellInfoStore</a></div><div class="ttdeci">void LoadSpellInfoStore()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l02675">SpellMgr.cpp:2675</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a229921c46ca2e8e849d1dd5682f78247"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a229921c46ca2e8e849d1dd5682f78247">SpellMgr::GetSpellIdForDifficulty</a></div><div class="ttdeci">uint32 GetSpellIdForDifficulty(uint32 spellId, Unit const *caster) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00490">SpellMgr.cpp:490</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a24a05bd91ad57dcef7fa0fee73daa867"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a24a05bd91ad57dcef7fa0fee73daa867">SpellMgr::GetSpellAreaForQuestEndMapBounds</a></div><div class="ttdeci">SpellAreaForQuestMapBounds GetSpellAreaForQuestEndMapBounds(uint32 quest_id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l01055">SpellMgr.cpp:1055</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a24cfc05b7291e1e490fed982059a7c66"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a24cfc05b7291e1e490fed982059a7c66">SpellMgr::mSpellAreaForAuraMap</a></div><div class="ttdeci">SpellAreaForAuraMap mSpellAreaForAuraMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00785">SpellMgr.h:785</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a252d713f0b10a4665f9470174463bbf5"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a252d713f0b10a4665f9470174463bbf5">SpellMgr::GetSpellProcEvent</a></div><div class="ttdeci">SpellProcEventEntry const  * GetSpellProcEvent(uint32 spellId) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00730">SpellMgr.cpp:730</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a25446ffa46c3712a64d43f88f4799e16"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a25446ffa46c3712a64d43f88f4799e16">SpellMgr::mSpellChains</a></div><div class="ttdeci">SpellChainMap mSpellChains</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00766">SpellMgr.h:766</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a2a7101c0a7d47abe2c8814684794aa5b"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a2a7101c0a7d47abe2c8814684794aa5b">SpellMgr::LoadEnchantCustomAttr</a></div><div class="ttdeci">void LoadEnchantCustomAttr()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l02141">SpellMgr.cpp:2141</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a2b2cc6f3ee5006297dff23eb8567db29"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a2b2cc6f3ee5006297dff23eb8567db29">SpellMgr::UnloadSpellInfoStore</a></div><div class="ttdeci">void UnloadSpellInfoStore()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l02692">SpellMgr.cpp:2692</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a2e5bbd51995218e7f28884c591633086"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a2e5bbd51995218e7f28884c591633086">SpellMgr::LoadSpellAreas</a></div><div class="ttdeci">void LoadSpellAreas()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l02464">SpellMgr.cpp:2464</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a2f2cb73a9f834280867da755e5a6f1c4"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a2f2cb73a9f834280867da755e5a6f1c4">SpellMgr::GetNextSpellInChain</a></div><div class="ttdeci">uint32 GetNextSpellInChain(uint32 spell_id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00571">SpellMgr.cpp:571</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a3140ce48682bc3540bac63cace6b8fb2"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a3140ce48682bc3540bac63cace6b8fb2">SpellMgr::instance</a></div><div class="ttdeci">static SpellMgr * instance()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00364">SpellMgr.cpp:364</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a32090ca7b9037cdd52aa11d5ecb1bc51"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a32090ca7b9037cdd52aa11d5ecb1bc51">SpellMgr::mSpellPetAuraMap</a></div><div class="ttdeci">SpellPetAuraMap mSpellPetAuraMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00778">SpellMgr.h:778</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a32d05e01103bd64f22e3993bf46e4bb6"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a32d05e01103bd64f22e3993bf46e4bb6">SpellMgr::mSpellLearnSkills</a></div><div class="ttdeci">SpellLearnSkillMap mSpellLearnSkills</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00769">SpellMgr.h:769</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a3645472cf901d4fc9d42c9f8af8164b4"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a3645472cf901d4fc9d42c9f8af8164b4">SpellMgr::GetSpellAreaForQuestMapBounds</a></div><div class="ttdeci">SpellAreaForQuestMapBounds GetSpellAreaForQuestMapBounds(uint32 quest_id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l01050">SpellMgr.cpp:1050</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a39f100081db0eed42978f65b80592a78"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a39f100081db0eed42978f65b80592a78">SpellMgr::GetSpellBonusData</a></div><div class="ttdeci">SpellBonusEntry const  * GetSpellBonusData(uint32 spellId) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00955">SpellMgr.cpp:955</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a3a8a52ae46abd7dc3b7cc5829d5c9b34"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a3a8a52ae46abd7dc3b7cc5829d5c9b34">SpellMgr::LoadSkillLineAbilityMap</a></div><div class="ttdeci">void LoadSkillLineAbilityMap()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l02056">SpellMgr.cpp:2056</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a3ae3376eeaa7e4a445075d651d3493aa"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a3ae3376eeaa7e4a445075d651d3493aa">SpellMgr::GetSkillLineAbilityMapBounds</a></div><div class="ttdeci">SkillLineAbilityMapBounds GetSkillLineAbilityMapBounds(uint32 spell_id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00995">SpellMgr.cpp:995</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a3e6353afe01453ebf0bab09cde94673e"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a3e6353afe01453ebf0bab09cde94673e">SpellMgr::mSpellProcEventMap</a></div><div class="ttdeci">SpellProcEventMap mSpellProcEventMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00773">SpellMgr.h:773</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a3fe816e2868b4fed89cc9ac88bb9d177"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a3fe816e2868b4fed89cc9ac88bb9d177">SpellMgr::CheckSpellValid</a></div><div class="ttdeci">static bool CheckSpellValid(SpellInfo const *spellInfo, uint32 spellId, bool isTalent)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00460">SpellMgr.cpp:460</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a427b7f918b77886b820f3a7518271bc0"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a427b7f918b77886b820f3a7518271bc0">SpellMgr::GetSpellMixologyBonus</a></div><div class="ttdeci">float GetSpellMixologyBonus(uint32 spellId) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00986">SpellMgr.cpp:986</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a4943f12ccc2090045b94e26a53e935a2"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a4943f12ccc2090045b94e26a53e935a2">SpellMgr::mSpellAreaForQuestEndMap</a></div><div class="ttdeci">SpellAreaForQuestMap mSpellAreaForQuestEndMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00784">SpellMgr.h:784</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a4b1307c84dbe345de1f16b117a5fa6c7"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a4b1307c84dbe345de1f16b117a5fa6c7">SpellMgr::CheckSpellGroupStackRules</a></div><div class="ttdeci">SpellGroupStackFlags CheckSpellGroupStackRules(SpellInfo const *spellInfo1, SpellInfo const *spellInfo2, bool remove, bool areaAura) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00681">SpellMgr.cpp:681</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a4b2f05ab711e256c94169f2653a761e1"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a4b2f05ab711e256c94169f2653a761e1">SpellMgr::LoadSpellCustomAttr</a></div><div class="ttdeci">void LoadSpellCustomAttr()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l02727">SpellMgr.cpp:2727</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a4df85133eeda585b39e5a00e31edfd8e"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a4df85133eeda585b39e5a00e31edfd8e">SpellMgr::IsSpellProcEventCanTriggeredBy</a></div><div class="ttdeci">bool IsSpellProcEventCanTriggeredBy(SpellInfo const *spellProto, SpellProcEventEntry const *spellProcEvent, uint32 EventProcFlag, ProcEventInfo const &amp;eventInfo, bool active) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00738">SpellMgr.cpp:738</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a4ec8d854c5357f1edfd29a136203b0da"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a4ec8d854c5357f1edfd29a136203b0da">SpellMgr::mPetDefaultSpellsMap</a></div><div class="ttdeci">PetDefaultSpellsMap mPetDefaultSpellsMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00789">SpellMgr.h:789</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a542127facbfc4376dcc0a732dc46086e"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a542127facbfc4376dcc0a732dc46086e">SpellMgr::GetSpellWithRank</a></div><div class="ttdeci">uint32 GetSpellWithRank(uint32 spell_id, uint32 rank, bool strict=false) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00597">SpellMgr.cpp:597</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a5447b1a2108c3f9ae01d5a29a4adaed4"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a5447b1a2108c3f9ae01d5a29a4adaed4">SpellMgr::GetSpellLearnSkill</a></div><div class="ttdeci">SpellLearnSkillNode const  * GetSpellLearnSkill(uint32 spell_id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00635">SpellMgr.cpp:635</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a5637b3248011a308a57338e6f74b7bdd"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a5637b3248011a308a57338e6f74b7bdd">SpellMgr::mSpellMixologyMap</a></div><div class="ttdeci">SpellMixologyMap mSpellMixologyMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00777">SpellMgr.h:777</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a584653ee18b92069bbfe9e934eeef3bb"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a584653ee18b92069bbfe9e934eeef3bb">SpellMgr::GetSpellLinked</a></div><div class="ttdeci">const std::vector&lt; int32 &gt; * GetSpellLinked(int32 spell_id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l01022">SpellMgr.cpp:1022</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a5bdcfedf4f314c64b7ed33a1a7726c87"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a5bdcfedf4f314c64b7ed33a1a7726c87">SpellMgr::GetSpellsRequiredForSpellBounds</a></div><div class="ttdeci">SpellRequiredMapBounds GetSpellsRequiredForSpellBounds(uint32 spell_id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00609">SpellMgr.cpp:609</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a60283ceb69bf92310153db6769f70a6a"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a60283ceb69bf92310153db6769f70a6a">SpellMgr::mSpellGroupStackMap</a></div><div class="ttdeci">SpellGroupStackMap mSpellGroupStackMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00772">SpellMgr.h:772</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a624b4e60fda126e6a868ac252fda2757"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a624b4e60fda126e6a868ac252fda2757">SpellMgr::GetPrevSpellInChain</a></div><div class="ttdeci">uint32 GetPrevSpellInChain(uint32 spell_id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00580">SpellMgr.cpp:580</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a62767dc60e5f32a91b8428a01d083184"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a62767dc60e5f32a91b8428a01d083184">SpellMgr::IsSpellRequiringSpell</a></div><div class="ttdeci">bool IsSpellRequiringSpell(uint32 spellid, uint32 req_spellid) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00619">SpellMgr.cpp:619</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a639ed2f06c1e6457882c02bee9da7dcb"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a639ed2f06c1e6457882c02bee9da7dcb">SpellMgr::LoadSpellThreats</a></div><div class="ttdeci">void LoadSpellThreats()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l01979">SpellMgr.cpp:1979</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a65d4c8ef866eb02e4a8e81b3166286c1"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a65d4c8ef866eb02e4a8e81b3166286c1">SpellMgr::GetSpellAreaForAuraMapBounds</a></div><div class="ttdeci">SpellAreaForAuraMapBounds GetSpellAreaForAuraMapBounds(uint32 spell_id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l01060">SpellMgr.cpp:1060</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a679972bc59cdebe7764c078a82fa63f3"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a679972bc59cdebe7764c078a82fa63f3">SpellMgr::GetSpellGroup</a></div><div class="ttdeci">uint32 GetSpellGroup(uint32 spellid) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00661">SpellMgr.cpp:661</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a6cb46bdc9ec9da1b486d07b281e953d0"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a6cb46bdc9ec9da1b486d07b281e953d0">SpellMgr::LoadSpellRequired</a></div><div class="ttdeci">void LoadSpellRequired()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l01394">SpellMgr.cpp:1394</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a6df7fb4895452850c8b8f151ccfd2536"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a6df7fb4895452850c8b8f151ccfd2536">SpellMgr::GetSpellForDifficultyFromSpell</a></div><div class="ttdeci">SpellInfo const  * GetSpellForDifficultyFromSpell(SpellInfo const *spell, Unit const *caster) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00532">SpellMgr.cpp:532</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a6ecece8a77d5714f64bb27a364381de6"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a6ecece8a77d5714f64bb27a364381de6">SpellMgr::GetGroupStackFlags</a></div><div class="ttdeci">SpellGroupStackFlags GetGroupStackFlags(uint32 groupid) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00652">SpellMgr.cpp:652</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a6fedac5a7c8e66606b363266ed413dba"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a6fedac5a7c8e66606b363266ed413dba">SpellMgr::LoadSpellTargetPositions</a></div><div class="ttdeci">void LoadSpellTargetPositions()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l01497">SpellMgr.cpp:1497</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a7095c038ec0ebbc2c9528edacf29f1b4"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a7095c038ec0ebbc2c9528edacf29f1b4">SpellMgr::mSpellDifficultySearcherMap</a></div><div class="ttdeci">SpellDifficultySearcherMap mSpellDifficultySearcherMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00765">SpellMgr.h:765</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a728b29c7bbad1e6a4a924197579a9c28"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a728b29c7bbad1e6a4a924197579a9c28">SpellMgr::LoadSpellLearnSkills</a></div><div class="ttdeci">void LoadSpellLearnSkills()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l01459">SpellMgr.cpp:1459</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a7381cd829bd62cd16c242e61dd7d1c18"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a7381cd829bd62cd16c242e61dd7d1c18">SpellMgr::GetLastSpellInChain</a></div><div class="ttdeci">uint32 GetLastSpellInChain(uint32 spell_id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00563">SpellMgr.cpp:563</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a7a1fa3679f9c375b88603ec4775769fd"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a7a1fa3679f9c375b88603ec4775769fd">SpellMgr::mSpellGroupMap</a></div><div class="ttdeci">SpellGroupMap mSpellGroupMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00771">SpellMgr.h:771</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a7c5e9072b4dcddc949313cb7ac708a41"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a7c5e9072b4dcddc949313cb7ac708a41">SpellMgr::GetSpellInfo</a></div><div class="ttdeci">SpellInfo const  * GetSpellInfo(uint32 spellId) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00700">SpellMgr.h:700</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a8527d75d2203fba05133d32f2cf0fa55"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a8527d75d2203fba05133d32f2cf0fa55">SpellMgr::LoadSpellTalentRanks</a></div><div class="ttdeci">void LoadSpellTalentRanks()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l01222">SpellMgr.cpp:1222</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a87fe28453a7605eafc7b304a5a8b3a75"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a87fe28453a7605eafc7b304a5a8b3a75">SpellMgr::LoadSpellBonusess</a></div><div class="ttdeci">void LoadSpellBonusess()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l01938">SpellMgr.cpp:1938</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a88999f0d29a0aba73ec20deef99297a8"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a88999f0d29a0aba73ec20deef99297a8">SpellMgr::GetSpellThreatEntry</a></div><div class="ttdeci">SpellThreatEntry const  * GetSpellThreatEntry(uint32 spellID) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00971">SpellMgr.cpp:971</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a8a48919d60d012b7cc5206dea2640f3a"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a8a48919d60d012b7cc5206dea2640f3a">SpellMgr::LoadSpellGroupStackRules</a></div><div class="ttdeci">void LoadSpellGroupStackRules()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l01662">SpellMgr.cpp:1662</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a8dfd3856cb381953bfeb1db1a4a4bad7"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a8dfd3856cb381953bfeb1db1a4a4bad7">SpellMgr::IsSpellValid</a></div><div class="ttdeci">static bool IsSpellValid(SpellInfo const *spellInfo)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00442">SpellMgr.cpp:442</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a917957b9f03d8fec71dde17da1a88d51"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a917957b9f03d8fec71dde17da1a88d51">SpellMgr::GetFirstSpellInChain</a></div><div class="ttdeci">uint32 GetFirstSpellInChain(uint32 spell_id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00555">SpellMgr.cpp:555</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a919c83a4b20dbe2095f7ec0992c00593"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a919c83a4b20dbe2095f7ec0992c00593">SpellMgr::CanSpellTriggerProcOnEvent</a></div><div class="ttdeci">bool CanSpellTriggerProcOnEvent(SpellProcEntry const &amp;procEntry, ProcEventInfo &amp;eventInfo) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00890">SpellMgr.cpp:890</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a92a4c6ade6c7005f1d001c6935139272"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a92a4c6ade6c7005f1d001c6935139272">SpellMgr::mSpellEnchantProcEventMap</a></div><div class="ttdeci">SpellEnchantProcEventMap mSpellEnchantProcEventMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00780">SpellMgr.h:780</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a93fc6f749ad5494262414df607985706"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a93fc6f749ad5494262414df607985706">SpellMgr::LoadPetDefaultSpells</a></div><div class="ttdeci">void LoadPetDefaultSpells()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l02384">SpellMgr.cpp:2384</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a961a18df4995256a1754503ff574f11e"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a961a18df4995256a1754503ff574f11e">SpellMgr::mPetLevelupSpellMap</a></div><div class="ttdeci">PetLevelupSpellMap mPetLevelupSpellMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00788">SpellMgr.h:788</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a9d4a69f77e7dc8ec225bede9d730ab71"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a9d4a69f77e7dc8ec225bede9d730ab71">SpellMgr::IsAdditionalTalentSpell</a></div><div class="ttdeci">bool IsAdditionalTalentSpell(uint32 spellId) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00630">SpellMgr.cpp:630</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_a9f6998b4fee8fba87ad8d372abd8693d"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#a9f6998b4fee8fba87ad8d372abd8693d">SpellMgr::mSpellProcMap</a></div><div class="ttdeci">SpellProcMap mSpellProcMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00774">SpellMgr.h:774</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_aa03760f8043a0c684d18527d7ed934d3"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#aa03760f8043a0c684d18527d7ed934d3">SpellMgr::mSpellsReqSpell</a></div><div class="ttdeci">SpellsRequiringSpellMap mSpellsReqSpell</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00767">SpellMgr.h:767</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_aa36449309e445b361a05bf77e4bd5698"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#aa36449309e445b361a05bf77e4bd5698">SpellMgr::mSpellTargetPositions</a></div><div class="ttdeci">SpellTargetPositionMap mSpellTargetPositions</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00770">SpellMgr.h:770</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_aa5fc4532b216d557e88841f5ffc00865"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#aa5fc4532b216d557e88841f5ffc00865">SpellMgr::GetSpellProcEntry</a></div><div class="ttdeci">SpellProcEntry const  * GetSpellProcEntry(uint32 spellId) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00882">SpellMgr.cpp:882</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_aabba2e6d9d126d1622b6723b10f9e52e"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#aabba2e6d9d126d1622b6723b10f9e52e">SpellMgr::LoadSpellSpecificAndAuraState</a></div><div class="ttdeci">void LoadSpellSpecificAndAuraState()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l02709">SpellMgr.cpp:2709</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_aacc0a22eca190f3633657be4d3387e9d"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#aacc0a22eca190f3633657be4d3387e9d">SpellMgr::GetPetDefaultSpellsEntry</a></div><div class="ttdeci">PetDefaultSpellsEntry const  * GetPetDefaultSpellsEntry(int32 id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l01037">SpellMgr.cpp:1037</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_aad78451cae5cf043b4d39cc3fa7666d8"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#aad78451cae5cf043b4d39cc3fa7666d8">SpellMgr::GetSpellTargetPosition</a></div><div class="ttdeci">SpellTargetPosition const  * GetSpellTargetPosition(uint32 spell_id, SpellEffIndex effIndex) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00644">SpellMgr.cpp:644</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_ab4b0ea63ff350768aedc13ab7dbbf576"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#ab4b0ea63ff350768aedc13ab7dbbf576">SpellMgr::GetSpellEnchantProcEvent</a></div><div class="ttdeci">SpellEnchantProcEntry const  * GetSpellEnchantProcEvent(uint32 enchId) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l01009">SpellMgr.cpp:1009</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_ab76464f94e9f4189902985e9e86147e3"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#ab76464f94e9f4189902985e9e86147e3">SpellMgr::mSpellAreaForAreaMap</a></div><div class="ttdeci">SpellAreaForAreaMap mSpellAreaForAreaMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00786">SpellMgr.h:786</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_abba48283a65ce30e83030b7cfc4d6a2a"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#abba48283a65ce30e83030b7cfc4d6a2a">SpellMgr::GetSpellDifficultyId</a></div><div class="ttdeci">uint32 GetSpellDifficultyId(uint32 spellId) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00479">SpellMgr.cpp:479</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_abda66c7b90ba0dfa8dbafe742c501939"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#abda66c7b90ba0dfa8dbafe742c501939">SpellMgr::LoadSpellProcEvents</a></div><div class="ttdeci">void LoadSpellProcEvents()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l01713">SpellMgr.cpp:1713</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_abff37b8018ffb588f42b2c0a4c229783"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#abff37b8018ffb588f42b2c0a4c229783">SpellMgr::GetSpellRank</a></div><div class="ttdeci">uint8 GetSpellRank(uint32 spell_id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00589">SpellMgr.cpp:589</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_ac0075b5d8cabc7ff2cea2537a1c31ead"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#ac0075b5d8cabc7ff2cea2537a1c31ead">SpellMgr::LoadSpellPetAuras</a></div><div class="ttdeci">void LoadSpellPetAuras()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l02078">SpellMgr.cpp:2078</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_ac325f4a1c1164352f4a4f1adf1be9ce0"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#ac325f4a1c1164352f4a4f1adf1be9ce0">SpellMgr::UnloadSpellInfoImplicitTargetConditionLists</a></div><div class="ttdeci">void UnloadSpellInfoImplicitTargetConditionLists()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l02700">SpellMgr.cpp:2700</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_ac5419913d1f15727ea9f11b9e3120a1a"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#ac5419913d1f15727ea9f11b9e3120a1a">SpellMgr::LoadDbcDataCorrections</a></div><div class="ttdeci">void LoadDbcDataCorrections()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l03407">SpellMgr.cpp:3407</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_ac68d8e843d1a7a14d16c397e4595ce17"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#ac68d8e843d1a7a14d16c397e4595ce17">SpellMgr::mSpellAreaMap</a></div><div class="ttdeci">SpellAreaMap mSpellAreaMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00782">SpellMgr.h:782</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_ac898d28aeb3a83564da1d172972d0029"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#ac898d28aeb3a83564da1d172972d0029">SpellMgr::LoadSpellEnchantProcData</a></div><div class="ttdeci">void LoadSpellEnchantProcData()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l02182">SpellMgr.cpp:2182</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_aca8a0eccca0aa32dc2cc9802597c0256"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#aca8a0eccca0aa32dc2cc9802597c0256">SpellMgr::GetSpellInfoStoreSize</a></div><div class="ttdeci">uint32 GetSpellInfoStoreSize() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00725">SpellMgr.h:725</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_acad2b4b3647850a59bea2a0763ef972c"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#acad2b4b3647850a59bea2a0763ef972c">SpellMgr::mSpellBonusMap</a></div><div class="ttdeci">SpellBonusMap mSpellBonusMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00775">SpellMgr.h:775</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_acde17452bf5b457f00aa5f7cb4b597b4"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#acde17452bf5b457f00aa5f7cb4b597b4">SpellMgr::SpellMgr</a></div><div class="ttdeci">SpellMgr()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00355">SpellMgr.cpp:355</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_acebee697f2b732ae70bc247c1cdfee01"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#acebee697f2b732ae70bc247c1cdfee01">SpellMgr::GetSpellChainNode</a></div><div class="ttdeci">SpellChainNode const  * GetSpellChainNode(uint32 spell_id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00546">SpellMgr.cpp:546</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_ad3ba910260b662307aecc92b0e696930"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#ad3ba910260b662307aecc92b0e696930">SpellMgr::GetSpellsRequiringSpellBounds</a></div><div class="ttdeci">SpellsRequiringSpellMapBounds GetSpellsRequiringSpellBounds(uint32 spell_id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00614">SpellMgr.cpp:614</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_ad453a0dfca614de29d7015dda91b0ce1"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#ad453a0dfca614de29d7015dda91b0ce1">SpellMgr::LoadSpellRanks</a></div><div class="ttdeci">void LoadSpellRanks()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l01283">SpellMgr.cpp:1283</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_adb5ead246a7c2e98e9e1e09004b00c6f"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#adb5ead246a7c2e98e9e1e09004b00c6f">SpellMgr::LoadSpellGroups</a></div><div class="ttdeci">void LoadSpellGroups()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l01602">SpellMgr.cpp:1602</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_addc82985cf1f7562dea166dc1102a18e"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#addc82985cf1f7562dea166dc1102a18e">SpellMgr::LoadPetLevelupSpellMap</a></div><div class="ttdeci">void LoadPetLevelupSpellMap()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l02279">SpellMgr.cpp:2279</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_ae1b22f6a0392194bcaf234148f693237"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#ae1b22f6a0392194bcaf234148f693237">SpellMgr::GetPetAura</a></div><div class="ttdeci">PetAura const  * GetPetAura(uint32 spell_id, uint8 eff) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l01000">SpellMgr.cpp:1000</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_ae2abb2ff60931b9849f928fd74892971"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#ae2abb2ff60931b9849f928fd74892971">SpellMgr::LoadSpellMixology</a></div><div class="ttdeci">void LoadSpellMixology()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l02020">SpellMgr.cpp:2020</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_ae41eaa751f7d67dfa0c38aa55b2f6c7e"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#ae41eaa751f7d67dfa0c38aa55b2f6c7e">SpellMgr::GetSpellAreaForAreaMapBounds</a></div><div class="ttdeci">SpellAreaForAreaMapBounds GetSpellAreaForAreaMapBounds(uint32 area_id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l01065">SpellMgr.cpp:1065</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_ae99d902c882462c230177ae98b8d6ddd"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#ae99d902c882462c230177ae98b8d6ddd">SpellMgr::IsArenaAllowedEnchancment</a></div><div class="ttdeci">bool IsArenaAllowedEnchancment(uint32 ench_id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l01017">SpellMgr.cpp:1017</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_ae9c903197d7e59109bdc7675663ff93f"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#ae9c903197d7e59109bdc7675663ff93f">SpellMgr::mSpellThreatMap</a></div><div class="ttdeci">SpellThreatMap mSpellThreatMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00776">SpellMgr.h:776</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_aeb50fa0b06b178d23731a9d27156b7b7"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#aeb50fa0b06b178d23731a9d27156b7b7">SpellMgr::mSpellAreaForQuestMap</a></div><div class="ttdeci">SpellAreaForQuestMap mSpellAreaForQuestMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00783">SpellMgr.h:783</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_aebc7d657f29471ecb5136ee294873e96"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#aebc7d657f29471ecb5136ee294873e96">SpellMgr::mSpellInfoMap</a></div><div class="ttdeci">SpellInfoMap mSpellInfoMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00790">SpellMgr.h:790</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_aeca13d7535faa653ad4de42e2cef9c48"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#aeca13d7535faa653ad4de42e2cef9c48">SpellMgr::LoadSpellProcs</a></div><div class="ttdeci">void LoadSpellProcs()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l01800">SpellMgr.cpp:1800</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_af0986a6cd3ad91df5cb800d7a5d95b34"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#af0986a6cd3ad91df5cb800d7a5d95b34">SpellMgr::~SpellMgr</a></div><div class="ttdeci">~SpellMgr()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00359">SpellMgr.cpp:359</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_afa249eca149df213b191ea7009e51fe6"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#afa249eca149df213b191ea7009e51fe6">SpellMgr::UnloadSpellInfoChains</a></div><div class="ttdeci">void UnloadSpellInfoChains()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l01214">SpellMgr.cpp:1214</a></div></div>
<div class="ttc" id="aclass_spell_mgr_html_aff6f0cb835c53a025c937376089e68a2"><div class="ttname"><a href="../../dc/d9a/class_spell_mgr.html#aff6f0cb835c53a025c937376089e68a2">SpellMgr::GetSpellGroupSpecialFlags</a></div><div class="ttdeci">SpellGroupSpecialFlags GetSpellGroupSpecialFlags(uint32 spell_id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l00671">SpellMgr.cpp:671</a></div></div>
<div class="ttc" id="aclass_unit_html"><div class="ttname"><a href="../../da/db7/class_unit.html">Unit</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l01418">Unit.h:1419</a></div></div>
<div class="ttc" id="aclass_unit_html_a0d13935c40d0392f7f7b5a34540461b2"><div class="ttname"><a href="../../da/db7/class_unit.html#a0d13935c40d0392f7f7b5a34540461b2">Unit::getGender</a></div><div class="ttdeci">uint8 getGender() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l01547">Unit.h:1547</a></div></div>
<div class="ttc" id="aclass_unit_html_a69c5ac45b65cf0dede6e0ee837361f61"><div class="ttname"><a href="../../da/db7/class_unit.html#a69c5ac45b65cf0dede6e0ee837361f61">Unit::HasAura</a></div><div class="ttdeci">bool HasAura(uint32 spellId, ObjectGuid casterGUID=ObjectGuid::Empty, ObjectGuid itemCasterGUID=ObjectGuid::Empty, uint8 reqEffMask=0) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d2e/_unit_8cpp_source.html#l05187">Unit.cpp:5187</a></div></div>
<div class="ttc" id="aclass_unit_html_a9819c2f13647afe6ac172fb5313cfd83"><div class="ttname"><a href="../../da/db7/class_unit.html#a9819c2f13647afe6ac172fb5313cfd83">Unit::getRaceMask</a></div><div class="ttdeci">uint32 getRaceMask() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l01544">Unit.h:1544</a></div></div>
<div class="ttc" id="aclass_unit_html_a9cd076c7f1e10e71af51ffc1ea1f9136"><div class="ttname"><a href="../../da/db7/class_unit.html#a9cd076c7f1e10e71af51ffc1ea1f9136">Unit::HasAuraType</a></div><div class="ttdeci">bool HasAuraType(AuraType auraType) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d2e/_unit_8cpp_source.html#l05194">Unit.cpp:5194</a></div></div>
<div class="ttc" id="aclass_world_object_html_a76c507a1b3adcebf2732572bc6b67fe0"><div class="ttname"><a href="../../db/df7/class_world_object.html#a76c507a1b3adcebf2732572bc6b67fe0">WorldObject::GetMap</a></div><div class="ttdeci">Map * GetMap() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/_object_8h_source.html#l00800">Object.h:800</a></div></div>
<div class="ttc" id="aclass_world_object_html_acdd585ef58eb876c506389ff96a4fbd9"><div class="ttname"><a href="../../db/df7/class_world_object.html#acdd585ef58eb876c506389ff96a4fbd9">WorldObject::GetAreaId</a></div><div class="ttdeci">uint32 GetAreaId() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/ded/_object_8cpp_source.html#l03199">Object.cpp:3199</a></div></div>
<div class="ttc" id="aclass_world_object_html_ad498d690fbe69bb99a8a2ffdcb2f5169"><div class="ttname"><a href="../../db/df7/class_world_object.html#ad498d690fbe69bb99a8a2ffdcb2f5169">WorldObject::GetZoneId</a></div><div class="ttdeci">uint32 GetZoneId() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/ded/_object_8cpp_source.html#l03191">Object.cpp:3191</a></div></div>
<div class="ttc" id="aclassflag96_html"><div class="ttname"><a href="../../dc/dd4/classflag96.html">flag96</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d90/_util_8h_source.html#l00482">Util.h:483</a></div></div>
<div class="ttc" id="agroup__world_html_ga05dfb35c344e5b947a19e4284e7f5fa7"><div class="ttname"><a href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a></div><div class="ttdeci">#define sWorld</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d86/_world_8h_source.html#l00511">World.h:511</a></div></div>
<div class="ttc" id="aserver_2authserver_2_c_make_lists_8txt_html_ae49ace5a5c7d5c9ec887c2686409e695"><div class="ttname"><a href="../../da/dc1/server_2authserver_2_c_make_lists_8txt.html#ae49ace5a5c7d5c9ec887c2686409e695">if</a></div><div class="ttdeci">if(MSVC) list(APPEND PRIVATE_SOURCES authserver.rc) endif() endif() if(USE_COREPCH) set(PRIVATE_PCH_HEADER PrecompiledHeaders/authPCH.h) endif() GroupSources($</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc1/server_2authserver_2_c_make_lists_8txt_source.html#l00023">CMakeLists.txt:23</a></div></div>
<div class="ttc" id="astruct_achievement_entry_html"><div class="ttname"><a href="../../d5/d06/struct_achievement_entry.html">AchievementEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l00038">DBCStructure.h:39</a></div></div>
<div class="ttc" id="astruct_achievement_entry_html_ab3d41381808c8bdc163554f7c46f6bc6"><div class="ttname"><a href="../../d5/d06/struct_achievement_entry.html#ab3d41381808c8bdc163554f7c46f6bc6">AchievementEntry::mapID</a></div><div class="ttdeci">int32 mapID</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l00042">DBCStructure.h:42</a></div></div>
<div class="ttc" id="astruct_area_table_entry_html"><div class="ttname"><a href="../../d9/d6a/struct_area_table_entry.html">AreaTableEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l00517">DBCStructure.h:518</a></div></div>
<div class="ttc" id="astruct_area_table_entry_html_a5854e3f565d827dbad3d9a36f99e9a25"><div class="ttname"><a href="../../d9/d6a/struct_area_table_entry.html#a5854e3f565d827dbad3d9a36f99e9a25">AreaTableEntry::flags</a></div><div class="ttdeci">uint32 flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l00523">DBCStructure.h:523</a></div></div>
<div class="ttc" id="astruct_creature_display_info_entry_html"><div class="ttname"><a href="../../d4/d0d/struct_creature_display_info_entry.html">CreatureDisplayInfoEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l00712">DBCStructure.h:713</a></div></div>
<div class="ttc" id="astruct_creature_display_info_entry_html_ae15b89669bf5d711cc57c21d8c8be0dd"><div class="ttname"><a href="../../d4/d0d/struct_creature_display_info_entry.html#ae15b89669bf5d711cc57c21d8c8be0dd">CreatureDisplayInfoEntry::scale</a></div><div class="ttdeci">float scale</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l00718">DBCStructure.h:718</a></div></div>
<div class="ttc" id="astruct_creature_family_entry_html"><div class="ttname"><a href="../../d1/d54/struct_creature_family_entry.html">CreatureFamilyEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l00730">DBCStructure.h:731</a></div></div>
<div class="ttc" id="astruct_creature_family_entry_html_a84ba697182123cb3e7dd3ba07241e971"><div class="ttname"><a href="../../d1/d54/struct_creature_family_entry.html#a84ba697182123cb3e7dd3ba07241e971">CreatureFamilyEntry::ID</a></div><div class="ttdeci">uint32 ID</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l00732">DBCStructure.h:732</a></div></div>
<div class="ttc" id="astruct_creature_family_entry_html_ad4498d40b31d18742ee4ac235cb58a2e"><div class="ttname"><a href="../../d1/d54/struct_creature_family_entry.html#ad4498d40b31d18742ee4ac235cb58a2e">CreatureFamilyEntry::skillLine</a></div><div class="ttdeci">uint32 skillLine[2]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l00737">DBCStructure.h:737</a></div></div>
<div class="ttc" id="astruct_creature_spell_data_entry_html"><div class="ttname"><a href="../../d8/db0/struct_creature_spell_data_entry.html">CreatureSpellDataEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l00770">DBCStructure.h:771</a></div></div>
<div class="ttc" id="astruct_creature_spell_data_entry_html_aabbb95c091e0b0946bcb05746b1c23f3"><div class="ttname"><a href="../../d8/db0/struct_creature_spell_data_entry.html#aabbb95c091e0b0946bcb05746b1c23f3">CreatureSpellDataEntry::spellId</a></div><div class="ttdeci">uint32 spellId[MAX_CREATURE_SPELL_DATA_SLOT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l00773">DBCStructure.h:773</a></div></div>
<div class="ttc" id="astruct_creature_template_html"><div class="ttname"><a href="../../d2/d0b/struct_creature_template.html">CreatureTemplate</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/_creature_data_8h_source.html#l00087">CreatureData.h:88</a></div></div>
<div class="ttc" id="astruct_creature_template_html_a3f6f92f27a268bc4e3f4d349c633c9f8"><div class="ttname"><a href="../../d2/d0b/struct_creature_template.html#a3f6f92f27a268bc4e3f4d349c633c9f8">CreatureTemplate::Entry</a></div><div class="ttdeci">uint32 Entry</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/_creature_data_8h_source.html#l00089">CreatureData.h:89</a></div></div>
<div class="ttc" id="astruct_creature_template_html_a6fc743c368c84f30c35f10696d29c8b5"><div class="ttname"><a href="../../d2/d0b/struct_creature_template.html#a6fc743c368c84f30c35f10696d29c8b5">CreatureTemplate::spells</a></div><div class="ttdeci">uint32 spells[MAX_CREATURE_SPELLS]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/_creature_data_8h_source.html#l00131">CreatureData.h:131</a></div></div>
<div class="ttc" id="astruct_creature_template_html_af596e49e3418f003b8ed9c6bb8305e01"><div class="ttname"><a href="../../d2/d0b/struct_creature_template.html#af596e49e3418f003b8ed9c6bb8305e01">CreatureTemplate::family</a></div><div class="ttdeci">uint32 family</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/_creature_data_8h_source.html#l00120">CreatureData.h:120</a></div></div>
<div class="ttc" id="astruct_creature_template_html_af88626941d13903be805def34aa8e3ed"><div class="ttname"><a href="../../d2/d0b/struct_creature_template.html#af88626941d13903be805def34aa8e3ed">CreatureTemplate::PetSpellDataId</a></div><div class="ttdeci">uint32 PetSpellDataId</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/_creature_data_8h_source.html#l00132">CreatureData.h:132</a></div></div>
<div class="ttc" id="astruct_faction_entry_html"><div class="ttname"><a href="../../d0/d40/struct_faction_entry.html">FactionEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l00867">DBCStructure.h:868</a></div></div>
<div class="ttc" id="astruct_faction_entry_html_ae23a3c94554b2043928d6e1ea748e709"><div class="ttname"><a href="../../d0/d40/struct_faction_entry.html#ae23a3c94554b2043928d6e1ea748e709">FactionEntry::ReputationFlags</a></div><div class="ttdeci">uint32 ReputationFlags[4]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l00874">DBCStructure.h:874</a></div></div>
<div class="ttc" id="astruct_faction_template_entry_html"><div class="ttname"><a href="../../d1/df4/struct_faction_template_entry.html">FactionTemplateEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l00899">DBCStructure.h:900</a></div></div>
<div class="ttc" id="astruct_faction_template_entry_html_ab395ab86c3e553ea4a9b1ae901c6e7cb"><div class="ttname"><a href="../../d1/df4/struct_faction_template_entry.html#ab395ab86c3e553ea4a9b1ae901c6e7cb">FactionTemplateEntry::hostileMask</a></div><div class="ttdeci">uint32 hostileMask</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l00906">DBCStructure.h:906</a></div></div>
<div class="ttc" id="astruct_graveyard_struct_html"><div class="ttname"><a href="../../d5/d7a/struct_graveyard_struct.html">GraveyardStruct</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d05/_game_graveyard_8h_source.html#l00027">GameGraveyard.h:28</a></div></div>
<div class="ttc" id="astruct_lock_entry_html"><div class="ttname"><a href="../../d7/d4f/struct_lock_entry.html">LockEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01253">DBCStructure.h:1254</a></div></div>
<div class="ttc" id="astruct_lock_entry_html_a39b0b548efd795c162926bddcdd301b5"><div class="ttname"><a href="../../d7/d4f/struct_lock_entry.html#a39b0b548efd795c162926bddcdd301b5">LockEntry::Type</a></div><div class="ttdeci">uint32 Type[MAX_LOCK_CASE]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01256">DBCStructure.h:1256</a></div></div>
<div class="ttc" id="astruct_map_entry_html"><div class="ttname"><a href="../../d2/d99/struct_map_entry.html">MapEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01270">DBCStructure.h:1271</a></div></div>
<div class="ttc" id="astruct_pet_default_spells_entry_html"><div class="ttname"><a href="../../d2/d72/struct_pet_default_spells_entry.html">PetDefaultSpellsEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00575">SpellMgr.h:576</a></div></div>
<div class="ttc" id="astruct_pet_default_spells_entry_html_a14f5dd3b53f06437074965e9b7753e89"><div class="ttname"><a href="../../d2/d72/struct_pet_default_spells_entry.html#a14f5dd3b53f06437074965e9b7753e89">PetDefaultSpellsEntry::spellid</a></div><div class="ttdeci">uint32 spellid[MAX_CREATURE_SPELL_DATA_SLOT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00577">SpellMgr.h:577</a></div></div>
<div class="ttc" id="astruct_position_html_a4e813a59345a6275e8b87b96be03e60b"><div class="ttname"><a href="../../d1/d26/struct_position.html#a4e813a59345a6275e8b87b96be03e60b">Position::GetPositionZ</a></div><div class="ttdeci">float GetPositionZ() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/_object_8h_source.html#l00336">Object.h:336</a></div></div>
<div class="ttc" id="astruct_skill_line_ability_entry_html"><div class="ttname"><a href="../../de/d4f/struct_skill_line_ability_entry.html">SkillLineAbilityEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01519">DBCStructure.h:1520</a></div></div>
<div class="ttc" id="astruct_skill_line_ability_entry_html_a0050dcf5c82f785dfc93079debe54a13"><div class="ttname"><a href="../../de/d4f/struct_skill_line_ability_entry.html#a0050dcf5c82f785dfc93079debe54a13">SkillLineAbilityEntry::SkillLine</a></div><div class="ttdeci">uint32 SkillLine</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01522">DBCStructure.h:1522</a></div></div>
<div class="ttc" id="astruct_skill_line_ability_entry_html_a19e1a55dadce68e6e9c1bd7bb2ca51dd"><div class="ttname"><a href="../../de/d4f/struct_skill_line_ability_entry.html#a19e1a55dadce68e6e9c1bd7bb2ca51dd">SkillLineAbilityEntry::Spell</a></div><div class="ttdeci">uint32 Spell</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01523">DBCStructure.h:1523</a></div></div>
<div class="ttc" id="astruct_skill_line_ability_entry_html_a31a8f5d642b2826b58bc7dfaf5f26719"><div class="ttname"><a href="../../de/d4f/struct_skill_line_ability_entry.html#a31a8f5d642b2826b58bc7dfaf5f26719">SkillLineAbilityEntry::AcquireMethod</a></div><div class="ttdeci">uint32 AcquireMethod</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01530">DBCStructure.h:1530</a></div></div>
<div class="ttc" id="astruct_skill_line_entry_html"><div class="ttname"><a href="../../df/da3/struct_skill_line_entry.html">SkillLineEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01504">DBCStructure.h:1505</a></div></div>
<div class="ttc" id="astruct_skill_line_entry_html_abf285e69e8e2a90626a157cb0c50d158"><div class="ttname"><a href="../../df/da3/struct_skill_line_entry.html#abf285e69e8e2a90626a157cb0c50d158">SkillLineEntry::categoryId</a></div><div class="ttdeci">int32 categoryId</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01507">DBCStructure.h:1507</a></div></div>
<div class="ttc" id="astruct_spell_area_html"><div class="ttname"><a href="../../da/d40/struct_spell_area.html">SpellArea</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00510">SpellMgr.h:511</a></div></div>
<div class="ttc" id="astruct_spell_area_html_a075cc2bc4d8c9663b2bdb2cf8ba77f5f"><div class="ttname"><a href="../../da/d40/struct_spell_area.html#a075cc2bc4d8c9663b2bdb2cf8ba77f5f">SpellArea::questEnd</a></div><div class="ttdeci">uint32 questEnd</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00515">SpellMgr.h:515</a></div></div>
<div class="ttc" id="astruct_spell_area_html_a38b42b82e4a588e102eb393cc907cd27"><div class="ttname"><a href="../../da/d40/struct_spell_area.html#a38b42b82e4a588e102eb393cc907cd27">SpellArea::autocast</a></div><div class="ttdeci">bool autocast</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00521">SpellMgr.h:521</a></div></div>
<div class="ttc" id="astruct_spell_area_html_a402373ff841bd2aa47b4b36a581624cc"><div class="ttname"><a href="../../da/d40/struct_spell_area.html#a402373ff841bd2aa47b4b36a581624cc">SpellArea::raceMask</a></div><div class="ttdeci">uint32 raceMask</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00517">SpellMgr.h:517</a></div></div>
<div class="ttc" id="astruct_spell_area_html_a7f4466dfd9ab56850a36d0d09ff84798"><div class="ttname"><a href="../../da/d40/struct_spell_area.html#a7f4466dfd9ab56850a36d0d09ff84798">SpellArea::questStartStatus</a></div><div class="ttdeci">uint32 questStartStatus</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00519">SpellMgr.h:519</a></div></div>
<div class="ttc" id="astruct_spell_area_html_a8a299d901e2c13cdc3c00d6cf0a856d3"><div class="ttname"><a href="../../da/d40/struct_spell_area.html#a8a299d901e2c13cdc3c00d6cf0a856d3">SpellArea::spellId</a></div><div class="ttdeci">uint32 spellId</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00512">SpellMgr.h:512</a></div></div>
<div class="ttc" id="astruct_spell_area_html_ac6c7ed326628642da138bb3835db9a1d"><div class="ttname"><a href="../../da/d40/struct_spell_area.html#ac6c7ed326628642da138bb3835db9a1d">SpellArea::questEndStatus</a></div><div class="ttdeci">uint32 questEndStatus</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00520">SpellMgr.h:520</a></div></div>
<div class="ttc" id="astruct_spell_area_html_adaf2f6f7c56701fe42a2674aca74fba0"><div class="ttname"><a href="../../da/d40/struct_spell_area.html#adaf2f6f7c56701fe42a2674aca74fba0">SpellArea::auraSpell</a></div><div class="ttdeci">int32 auraSpell</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00516">SpellMgr.h:516</a></div></div>
<div class="ttc" id="astruct_spell_area_html_af1585273701356a591bf9d9483e996a3"><div class="ttname"><a href="../../da/d40/struct_spell_area.html#af1585273701356a591bf9d9483e996a3">SpellArea::IsFitToRequirements</a></div><div class="ttdeci">bool IsFitToRequirements(Player const *player, uint32 newZone, uint32 newArea) const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dad/_spell_mgr_8cpp_source.html#l01070">SpellMgr.cpp:1070</a></div></div>
<div class="ttc" id="astruct_spell_area_html_af4314cba9c91fd1e2c09905c17c67d22"><div class="ttname"><a href="../../da/d40/struct_spell_area.html#af4314cba9c91fd1e2c09905c17c67d22">SpellArea::gender</a></div><div class="ttdeci">Gender gender</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00518">SpellMgr.h:518</a></div></div>
<div class="ttc" id="astruct_spell_area_html_af7e6f7b027388447a1f99e759975ca09"><div class="ttname"><a href="../../da/d40/struct_spell_area.html#af7e6f7b027388447a1f99e759975ca09">SpellArea::areaId</a></div><div class="ttdeci">uint32 areaId</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00513">SpellMgr.h:513</a></div></div>
<div class="ttc" id="astruct_spell_area_html_afc99b14a3724fef7c5dd70e976a479a8"><div class="ttname"><a href="../../da/d40/struct_spell_area.html#afc99b14a3724fef7c5dd70e976a479a8">SpellArea::questStart</a></div><div class="ttdeci">uint32 questStart</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00514">SpellMgr.h:514</a></div></div>
<div class="ttc" id="astruct_spell_bonus_entry_html"><div class="ttname"><a href="../../d0/dae/struct_spell_bonus_entry.html">SpellBonusEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00315">SpellMgr.h:316</a></div></div>
<div class="ttc" id="astruct_spell_bonus_entry_html_a09caeec47b138d9eff3539795416a09a"><div class="ttname"><a href="../../d0/dae/struct_spell_bonus_entry.html#a09caeec47b138d9eff3539795416a09a">SpellBonusEntry::ap_dot_bonus</a></div><div class="ttdeci">float ap_dot_bonus</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00320">SpellMgr.h:320</a></div></div>
<div class="ttc" id="astruct_spell_bonus_entry_html_a92491d8d1e61612d88c7c830d7912be5"><div class="ttname"><a href="../../d0/dae/struct_spell_bonus_entry.html#a92491d8d1e61612d88c7c830d7912be5">SpellBonusEntry::dot_damage</a></div><div class="ttdeci">float dot_damage</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00318">SpellMgr.h:318</a></div></div>
<div class="ttc" id="astruct_spell_bonus_entry_html_a98410b8bb89434cd7e1747462f8039dc"><div class="ttname"><a href="../../d0/dae/struct_spell_bonus_entry.html#a98410b8bb89434cd7e1747462f8039dc">SpellBonusEntry::ap_bonus</a></div><div class="ttdeci">float ap_bonus</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00319">SpellMgr.h:319</a></div></div>
<div class="ttc" id="astruct_spell_bonus_entry_html_abab1af227a6c8e592b8a9bd15589535d"><div class="ttname"><a href="../../d0/dae/struct_spell_bonus_entry.html#abab1af227a6c8e592b8a9bd15589535d">SpellBonusEntry::direct_damage</a></div><div class="ttdeci">float direct_damage</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00317">SpellMgr.h:317</a></div></div>
<div class="ttc" id="astruct_spell_chain_node_html"><div class="ttname"><a href="../../d3/d54/struct_spell_chain_node.html">SpellChainNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00537">SpellMgr.h:538</a></div></div>
<div class="ttc" id="astruct_spell_chain_node_html_a05a8077c7ec39bcca66fe84aa1da7040"><div class="ttname"><a href="../../d3/d54/struct_spell_chain_node.html#a05a8077c7ec39bcca66fe84aa1da7040">SpellChainNode::last</a></div><div class="ttdeci">SpellInfo const  * last</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00542">SpellMgr.h:542</a></div></div>
<div class="ttc" id="astruct_spell_chain_node_html_a0a7791b7069912a013299e7afaf4142f"><div class="ttname"><a href="../../d3/d54/struct_spell_chain_node.html#a0a7791b7069912a013299e7afaf4142f">SpellChainNode::next</a></div><div class="ttdeci">SpellInfo const  * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00540">SpellMgr.h:540</a></div></div>
<div class="ttc" id="astruct_spell_chain_node_html_a0b58cef8fc18f91fa59b8c7d7b9f9872"><div class="ttname"><a href="../../d3/d54/struct_spell_chain_node.html#a0b58cef8fc18f91fa59b8c7d7b9f9872">SpellChainNode::rank</a></div><div class="ttdeci">uint8 rank</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00543">SpellMgr.h:543</a></div></div>
<div class="ttc" id="astruct_spell_chain_node_html_a49aea8bfed353c2c552f6195b8e9f60a"><div class="ttname"><a href="../../d3/d54/struct_spell_chain_node.html#a49aea8bfed353c2c552f6195b8e9f60a">SpellChainNode::first</a></div><div class="ttdeci">SpellInfo const  * first</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00541">SpellMgr.h:541</a></div></div>
<div class="ttc" id="astruct_spell_chain_node_html_ae27b7d0aa5a2ae5cb75a7f0d397c849f"><div class="ttname"><a href="../../d3/d54/struct_spell_chain_node.html#ae27b7d0aa5a2ae5cb75a7f0d397c849f">SpellChainNode::prev</a></div><div class="ttdeci">SpellInfo const  * prev</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00539">SpellMgr.h:539</a></div></div>
<div class="ttc" id="astruct_spell_difficulty_entry_html"><div class="ttname"><a href="../../df/dfe/struct_spell_difficulty_entry.html">SpellDifficultyEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01695">DBCStructure.h:1696</a></div></div>
<div class="ttc" id="astruct_spell_difficulty_entry_html_a231d22a763ddcd9f1fbdab81521dcf67"><div class="ttname"><a href="../../df/dfe/struct_spell_difficulty_entry.html#a231d22a763ddcd9f1fbdab81521dcf67">SpellDifficultyEntry::SpellID</a></div><div class="ttdeci">int32 SpellID[MAX_DIFFICULTY]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01698">DBCStructure.h:1698</a></div></div>
<div class="ttc" id="astruct_spell_enchant_proc_entry_html"><div class="ttname"><a href="../../d3/dc4/struct_spell_enchant_proc_entry.html">SpellEnchantProcEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00306">SpellMgr.h:307</a></div></div>
<div class="ttc" id="astruct_spell_enchant_proc_entry_html_a28bcdd11e64ad96be5a3ca0e0dd447c7"><div class="ttname"><a href="../../d3/dc4/struct_spell_enchant_proc_entry.html#a28bcdd11e64ad96be5a3ca0e0dd447c7">SpellEnchantProcEntry::procEx</a></div><div class="ttdeci">uint32 procEx</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00310">SpellMgr.h:310</a></div></div>
<div class="ttc" id="astruct_spell_enchant_proc_entry_html_ac5d048f7ee803d61d5d3c59bb80a015d"><div class="ttname"><a href="../../d3/dc4/struct_spell_enchant_proc_entry.html#ac5d048f7ee803d61d5d3c59bb80a015d">SpellEnchantProcEntry::customChance</a></div><div class="ttdeci">uint32 customChance</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00308">SpellMgr.h:308</a></div></div>
<div class="ttc" id="astruct_spell_enchant_proc_entry_html_adb76c11f0073a2738374c98c01fda009"><div class="ttname"><a href="../../d3/dc4/struct_spell_enchant_proc_entry.html#adb76c11f0073a2738374c98c01fda009">SpellEnchantProcEntry::PPMChance</a></div><div class="ttdeci">float PPMChance</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00309">SpellMgr.h:309</a></div></div>
<div class="ttc" id="astruct_spell_entry_html"><div class="ttname"><a href="../../df/db0/struct_spell_entry.html">SpellEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01563">DBCStructure.h:1564</a></div></div>
<div class="ttc" id="astruct_spell_entry_html_a0950ec765d6abb0b737183efbeb3453b"><div class="ttname"><a href="../../df/db0/struct_spell_entry.html#a0950ec765d6abb0b737183efbeb3453b">SpellEntry::EffectSpellClassMask</a></div><div class="ttdeci">std::array&lt; flag96, MAX_SPELL_EFFECTS &gt; EffectSpellClassMask</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01638">DBCStructure.h:1638</a></div></div>
<div class="ttc" id="astruct_spell_entry_html_a23817f680dd3a26ecbb5d98796eaf8b0"><div class="ttname"><a href="../../df/db0/struct_spell_entry.html#a23817f680dd3a26ecbb5d98796eaf8b0">SpellEntry::SpellFamilyFlags</a></div><div class="ttdeci">flag96 SpellFamilyFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01656">DBCStructure.h:1656</a></div></div>
<div class="ttc" id="astruct_spell_entry_html_a2a76a4db284742bee6b7293fb291c18d"><div class="ttname"><a href="../../df/db0/struct_spell_entry.html#a2a76a4db284742bee6b7293fb291c18d">SpellEntry::EffectTriggerSpell</a></div><div class="ttdeci">std::array&lt; uint32, MAX_SPELL_EFFECTS &gt; EffectTriggerSpell</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01636">DBCStructure.h:1636</a></div></div>
<div class="ttc" id="astruct_spell_entry_html_a547483232364773502ba3fdf0a7237c0"><div class="ttname"><a href="../../df/db0/struct_spell_entry.html#a547483232364773502ba3fdf0a7237c0">SpellEntry::EffectImplicitTargetA</a></div><div class="ttdeci">std::array&lt; uint32, MAX_SPELL_EFFECTS &gt; EffectImplicitTargetA</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01626">DBCStructure.h:1626</a></div></div>
<div class="ttc" id="astruct_spell_entry_html_a60af17b22d7c7fe6266828c70bb94aa7"><div class="ttname"><a href="../../df/db0/struct_spell_entry.html#a60af17b22d7c7fe6266828c70bb94aa7">SpellEntry::ActiveIconID</a></div><div class="ttdeci">uint32 ActiveIconID</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01641">DBCStructure.h:1641</a></div></div>
<div class="ttc" id="astruct_spell_entry_html_a62165a7f4eab3c64302fc33d3ba9577c"><div class="ttname"><a href="../../df/db0/struct_spell_entry.html#a62165a7f4eab3c64302fc33d3ba9577c">SpellEntry::Speed</a></div><div class="ttdeci">float Speed</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01612">DBCStructure.h:1612</a></div></div>
<div class="ttc" id="astruct_spell_entry_html_a7a2226ccf62201d46c40b90ac7d35305"><div class="ttname"><a href="../../df/db0/struct_spell_entry.html#a7a2226ccf62201d46c40b90ac7d35305">SpellEntry::Attributes</a></div><div class="ttdeci">uint32 Attributes</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01569">DBCStructure.h:1569</a></div></div>
<div class="ttc" id="astruct_spell_entry_html_a81f2eff2ef43cb7016ed573c8e0254fa"><div class="ttname"><a href="../../df/db0/struct_spell_entry.html#a81f2eff2ef43cb7016ed573c8e0254fa">SpellEntry::EffectImplicitTargetB</a></div><div class="ttdeci">std::array&lt; uint32, MAX_SPELL_EFFECTS &gt; EffectImplicitTargetB</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01627">DBCStructure.h:1627</a></div></div>
<div class="ttc" id="astruct_spell_entry_html_a9b37b50c55d7a887d61805e6197bfa21"><div class="ttname"><a href="../../df/db0/struct_spell_entry.html#a9b37b50c55d7a887d61805e6197bfa21">SpellEntry::Effect</a></div><div class="ttdeci">std::array&lt; uint32, MAX_SPELL_EFFECTS &gt; Effect</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01621">DBCStructure.h:1621</a></div></div>
<div class="ttc" id="astruct_spell_entry_html_aa4dfa84772701d0b9a1cb5bb1fd0f590"><div class="ttname"><a href="../../df/db0/struct_spell_entry.html#aa4dfa84772701d0b9a1cb5bb1fd0f590">SpellEntry::AttributesEx6</a></div><div class="ttdeci">uint32 AttributesEx6</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01575">DBCStructure.h:1575</a></div></div>
<div class="ttc" id="astruct_spell_entry_html_aadb41c294565428ff67a9a137d01465a"><div class="ttname"><a href="../../df/db0/struct_spell_entry.html#aadb41c294565428ff67a9a137d01465a">SpellEntry::SpellIconID</a></div><div class="ttdeci">uint32 SpellIconID</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01640">DBCStructure.h:1640</a></div></div>
<div class="ttc" id="astruct_spell_entry_html_ab86d322f1d93ac576495af45e442b0ee"><div class="ttname"><a href="../../df/db0/struct_spell_entry.html#ab86d322f1d93ac576495af45e442b0ee">SpellEntry::RangeIndex</a></div><div class="ttdeci">uint32 RangeIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01611">DBCStructure.h:1611</a></div></div>
<div class="ttc" id="astruct_spell_entry_html_ac553667d97b29d8ad7e682d4c55e4263"><div class="ttname"><a href="../../df/db0/struct_spell_entry.html#ac553667d97b29d8ad7e682d4c55e4263">SpellEntry::Category</a></div><div class="ttdeci">uint32 Category</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01566">DBCStructure.h:1566</a></div></div>
<div class="ttc" id="astruct_spell_entry_html_af1586de0e99ed09fbd805fa4a09f2c6c"><div class="ttname"><a href="../../df/db0/struct_spell_entry.html#af1586de0e99ed09fbd805fa4a09f2c6c">SpellEntry::SpellFamilyName</a></div><div class="ttdeci">uint32 SpellFamilyName</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01655">DBCStructure.h:1655</a></div></div>
<div class="ttc" id="astruct_spell_item_enchantment_entry_html"><div class="ttname"><a href="../../d1/d2f/struct_spell_item_enchantment_entry.html">SpellItemEnchantmentEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01767">DBCStructure.h:1768</a></div></div>
<div class="ttc" id="astruct_spell_item_enchantment_entry_html_a694edc79cf8ba571338bff2a3aad512d"><div class="ttname"><a href="../../d1/d2f/struct_spell_item_enchantment_entry.html#a694edc79cf8ba571338bff2a3aad512d">SpellItemEnchantmentEntry::spellid</a></div><div class="ttdeci">uint32 spellid[MAX_SPELL_ITEM_ENCHANTMENT_EFFECTS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01774">DBCStructure.h:1774</a></div></div>
<div class="ttc" id="astruct_spell_item_enchantment_entry_html_adb693b7ada8d1a65c1d8091d1055c7bf"><div class="ttname"><a href="../../d1/d2f/struct_spell_item_enchantment_entry.html#adb693b7ada8d1a65c1d8091d1055c7bf">SpellItemEnchantmentEntry::type</a></div><div class="ttdeci">uint32 type[MAX_SPELL_ITEM_ENCHANTMENT_EFFECTS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01771">DBCStructure.h:1771</a></div></div>
<div class="ttc" id="astruct_spell_learn_skill_node_html"><div class="ttname"><a href="../../dd/dc9/struct_spell_learn_skill_node.html">SpellLearnSkillNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00557">SpellMgr.h:558</a></div></div>
<div class="ttc" id="astruct_spell_learn_skill_node_html_a064fece53cdaf07b072510b14200a968"><div class="ttname"><a href="../../dd/dc9/struct_spell_learn_skill_node.html#a064fece53cdaf07b072510b14200a968">SpellLearnSkillNode::value</a></div><div class="ttdeci">uint16 value</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00561">SpellMgr.h:561</a></div></div>
<div class="ttc" id="astruct_spell_learn_skill_node_html_a1c882f7d43c65954cb99566225660312"><div class="ttname"><a href="../../dd/dc9/struct_spell_learn_skill_node.html#a1c882f7d43c65954cb99566225660312">SpellLearnSkillNode::step</a></div><div class="ttdeci">uint16 step</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00560">SpellMgr.h:560</a></div></div>
<div class="ttc" id="astruct_spell_learn_skill_node_html_a1dd2289b0d3505cb50e8613595ad8c8e"><div class="ttname"><a href="../../dd/dc9/struct_spell_learn_skill_node.html#a1dd2289b0d3505cb50e8613595ad8c8e">SpellLearnSkillNode::maxvalue</a></div><div class="ttdeci">uint16 maxvalue</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00562">SpellMgr.h:562</a></div></div>
<div class="ttc" id="astruct_spell_learn_skill_node_html_a8bcbe05ff6a3220f9f05f52b16925f5d"><div class="ttname"><a href="../../dd/dc9/struct_spell_learn_skill_node.html#a8bcbe05ff6a3220f9f05f52b16925f5d">SpellLearnSkillNode::skill</a></div><div class="ttdeci">uint16 skill</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00559">SpellMgr.h:559</a></div></div>
<div class="ttc" id="astruct_spell_proc_entry_html"><div class="ttname"><a href="../../d0/d79/struct_spell_proc_entry.html">SpellProcEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00288">SpellMgr.h:289</a></div></div>
<div class="ttc" id="astruct_spell_proc_entry_html_a027db1efff77802e06a96f7464fc50d3"><div class="ttname"><a href="../../d0/d79/struct_spell_proc_entry.html#a027db1efff77802e06a96f7464fc50d3">SpellProcEntry::cooldown</a></div><div class="ttdeci">uint32 cooldown</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00300">SpellMgr.h:300</a></div></div>
<div class="ttc" id="astruct_spell_proc_entry_html_a1b238888060e155a17d7920a66221fad"><div class="ttname"><a href="../../d0/d79/struct_spell_proc_entry.html#a1b238888060e155a17d7920a66221fad">SpellProcEntry::spellTypeMask</a></div><div class="ttdeci">uint32 spellTypeMask</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00294">SpellMgr.h:294</a></div></div>
<div class="ttc" id="astruct_spell_proc_entry_html_a267045b5891b545a1edd3d321f251d1c"><div class="ttname"><a href="../../d0/d79/struct_spell_proc_entry.html#a267045b5891b545a1edd3d321f251d1c">SpellProcEntry::chance</a></div><div class="ttdeci">float chance</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00299">SpellMgr.h:299</a></div></div>
<div class="ttc" id="astruct_spell_proc_entry_html_a37c81140671915c9c4c7b918b8f43da3"><div class="ttname"><a href="../../d0/d79/struct_spell_proc_entry.html#a37c81140671915c9c4c7b918b8f43da3">SpellProcEntry::schoolMask</a></div><div class="ttdeci">uint32 schoolMask</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00290">SpellMgr.h:290</a></div></div>
<div class="ttc" id="astruct_spell_proc_entry_html_a69f23fe7134391526d6f98ad32e6628a"><div class="ttname"><a href="../../d0/d79/struct_spell_proc_entry.html#a69f23fe7134391526d6f98ad32e6628a">SpellProcEntry::ratePerMinute</a></div><div class="ttdeci">float ratePerMinute</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00298">SpellMgr.h:298</a></div></div>
<div class="ttc" id="astruct_spell_proc_entry_html_a82cff6363f5f9d3182d1bd2cc0ff59e7"><div class="ttname"><a href="../../d0/d79/struct_spell_proc_entry.html#a82cff6363f5f9d3182d1bd2cc0ff59e7">SpellProcEntry::spellFamilyName</a></div><div class="ttdeci">uint32 spellFamilyName</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00291">SpellMgr.h:291</a></div></div>
<div class="ttc" id="astruct_spell_proc_entry_html_a8e9056eee5cca760291dedd23822d998"><div class="ttname"><a href="../../d0/d79/struct_spell_proc_entry.html#a8e9056eee5cca760291dedd23822d998">SpellProcEntry::hitMask</a></div><div class="ttdeci">uint32 hitMask</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00296">SpellMgr.h:296</a></div></div>
<div class="ttc" id="astruct_spell_proc_entry_html_ab04dfe18fbf2d7921b83a9feb75e3bed"><div class="ttname"><a href="../../d0/d79/struct_spell_proc_entry.html#ab04dfe18fbf2d7921b83a9feb75e3bed">SpellProcEntry::attributesMask</a></div><div class="ttdeci">uint32 attributesMask</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00297">SpellMgr.h:297</a></div></div>
<div class="ttc" id="astruct_spell_proc_entry_html_ab6e0a5194005183f1e6ecedff210b83e"><div class="ttname"><a href="../../d0/d79/struct_spell_proc_entry.html#ab6e0a5194005183f1e6ecedff210b83e">SpellProcEntry::spellPhaseMask</a></div><div class="ttdeci">uint32 spellPhaseMask</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00295">SpellMgr.h:295</a></div></div>
<div class="ttc" id="astruct_spell_proc_entry_html_acd5e69b6eba5baf1a4f476b794d81245"><div class="ttname"><a href="../../d0/d79/struct_spell_proc_entry.html#acd5e69b6eba5baf1a4f476b794d81245">SpellProcEntry::typeMask</a></div><div class="ttdeci">uint32 typeMask</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00293">SpellMgr.h:293</a></div></div>
<div class="ttc" id="astruct_spell_proc_entry_html_ad55f6065cded92a10a6fe07d992c69f1"><div class="ttname"><a href="../../d0/d79/struct_spell_proc_entry.html#ad55f6065cded92a10a6fe07d992c69f1">SpellProcEntry::spellFamilyMask</a></div><div class="ttdeci">flag96 spellFamilyMask</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00292">SpellMgr.h:292</a></div></div>
<div class="ttc" id="astruct_spell_proc_entry_html_adaf85239f9e83c64a00e8b046a7024a6"><div class="ttname"><a href="../../d0/d79/struct_spell_proc_entry.html#adaf85239f9e83c64a00e8b046a7024a6">SpellProcEntry::charges</a></div><div class="ttdeci">uint32 charges</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00301">SpellMgr.h:301</a></div></div>
<div class="ttc" id="astruct_spell_proc_event_entry_html"><div class="ttname"><a href="../../df/d05/struct_spell_proc_event_entry.html">SpellProcEventEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00274">SpellMgr.h:275</a></div></div>
<div class="ttc" id="astruct_spell_proc_event_entry_html_a0cd88c27979ccc5284aa46846db32a7c"><div class="ttname"><a href="../../df/d05/struct_spell_proc_event_entry.html#a0cd88c27979ccc5284aa46846db32a7c">SpellProcEventEntry::cooldown</a></div><div class="ttdeci">uint32 cooldown</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00283">SpellMgr.h:283</a></div></div>
<div class="ttc" id="astruct_spell_proc_event_entry_html_a2aa57bf419ab51129fe7240750ee8910"><div class="ttname"><a href="../../df/d05/struct_spell_proc_event_entry.html#a2aa57bf419ab51129fe7240750ee8910">SpellProcEventEntry::spellFamilyMask</a></div><div class="ttdeci">flag96 spellFamilyMask</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00278">SpellMgr.h:278</a></div></div>
<div class="ttc" id="astruct_spell_proc_event_entry_html_a5ffa91b3f66ebb0ac34f30e1c532fb3a"><div class="ttname"><a href="../../df/d05/struct_spell_proc_event_entry.html#a5ffa91b3f66ebb0ac34f30e1c532fb3a">SpellProcEventEntry::spellFamilyName</a></div><div class="ttdeci">uint32 spellFamilyName</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00277">SpellMgr.h:277</a></div></div>
<div class="ttc" id="astruct_spell_proc_event_entry_html_a911770f28fe36243593b12fe92d6fbec"><div class="ttname"><a href="../../df/d05/struct_spell_proc_event_entry.html#a911770f28fe36243593b12fe92d6fbec">SpellProcEventEntry::procEx</a></div><div class="ttdeci">uint32 procEx</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00280">SpellMgr.h:280</a></div></div>
<div class="ttc" id="astruct_spell_proc_event_entry_html_a931b2df4a187482e32ef252c3320080a"><div class="ttname"><a href="../../df/d05/struct_spell_proc_event_entry.html#a931b2df4a187482e32ef252c3320080a">SpellProcEventEntry::ppmRate</a></div><div class="ttdeci">float ppmRate</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00281">SpellMgr.h:281</a></div></div>
<div class="ttc" id="astruct_spell_proc_event_entry_html_a9a6d38ee4e4a35066780ef924c63f92f"><div class="ttname"><a href="../../df/d05/struct_spell_proc_event_entry.html#a9a6d38ee4e4a35066780ef924c63f92f">SpellProcEventEntry::schoolMask</a></div><div class="ttdeci">uint32 schoolMask</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00276">SpellMgr.h:276</a></div></div>
<div class="ttc" id="astruct_spell_proc_event_entry_html_adf6742b70f0b00abddf1da6f45da3d16"><div class="ttname"><a href="../../df/d05/struct_spell_proc_event_entry.html#adf6742b70f0b00abddf1da6f45da3d16">SpellProcEventEntry::customChance</a></div><div class="ttdeci">float customChance</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00282">SpellMgr.h:282</a></div></div>
<div class="ttc" id="astruct_spell_proc_event_entry_html_af253ef32b9de49fe85d0fe6f06855a60"><div class="ttname"><a href="../../df/d05/struct_spell_proc_event_entry.html#af253ef32b9de49fe85d0fe6f06855a60">SpellProcEventEntry::procFlags</a></div><div class="ttdeci">uint32 procFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00279">SpellMgr.h:279</a></div></div>
<div class="ttc" id="astruct_spell_stack_info_html"><div class="ttname"><a href="../../da/de7/struct_spell_stack_info.html">SpellStackInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00359">SpellMgr.h:360</a></div></div>
<div class="ttc" id="astruct_spell_stack_info_html_a2232afb6a6b05e5ea33f40992a09621d"><div class="ttname"><a href="../../da/de7/struct_spell_stack_info.html#a2232afb6a6b05e5ea33f40992a09621d">SpellStackInfo::specialFlags</a></div><div class="ttdeci">SpellGroupSpecialFlags specialFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00362">SpellMgr.h:362</a></div></div>
<div class="ttc" id="astruct_spell_stack_info_html_a71a218d1ea3241f0c72205f7e2f34125"><div class="ttname"><a href="../../da/de7/struct_spell_stack_info.html#a71a218d1ea3241f0c72205f7e2f34125">SpellStackInfo::groupId</a></div><div class="ttdeci">uint32 groupId</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00361">SpellMgr.h:361</a></div></div>
<div class="ttc" id="astruct_spell_target_position_html"><div class="ttname"><a href="../../da/dcc/struct_spell_target_position.html">SpellTargetPosition</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00379">SpellMgr.h:380</a></div></div>
<div class="ttc" id="astruct_spell_target_position_html_a3af706b81f8fbef12277c518964f717a"><div class="ttname"><a href="../../da/dcc/struct_spell_target_position.html#a3af706b81f8fbef12277c518964f717a">SpellTargetPosition::target_Z</a></div><div class="ttdeci">float target_Z</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00384">SpellMgr.h:384</a></div></div>
<div class="ttc" id="astruct_spell_target_position_html_a6dbbb558810388e0d051d84a0279a444"><div class="ttname"><a href="../../da/dcc/struct_spell_target_position.html#a6dbbb558810388e0d051d84a0279a444">SpellTargetPosition::target_mapId</a></div><div class="ttdeci">uint32 target_mapId</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00381">SpellMgr.h:381</a></div></div>
<div class="ttc" id="astruct_spell_target_position_html_a6f432d8770adebf513346713b7890b5c"><div class="ttname"><a href="../../da/dcc/struct_spell_target_position.html#a6f432d8770adebf513346713b7890b5c">SpellTargetPosition::target_Y</a></div><div class="ttdeci">float target_Y</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00383">SpellMgr.h:383</a></div></div>
<div class="ttc" id="astruct_spell_target_position_html_a7e30264eff9ece771dfaa421ef987b2a"><div class="ttname"><a href="../../da/dcc/struct_spell_target_position.html#a7e30264eff9ece771dfaa421ef987b2a">SpellTargetPosition::target_Orientation</a></div><div class="ttdeci">float target_Orientation</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00385">SpellMgr.h:385</a></div></div>
<div class="ttc" id="astruct_spell_target_position_html_aa78b3d4cfb4277bcb1bf6a31ffc87546"><div class="ttname"><a href="../../da/dcc/struct_spell_target_position.html#aa78b3d4cfb4277bcb1bf6a31ffc87546">SpellTargetPosition::target_X</a></div><div class="ttdeci">float target_X</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00382">SpellMgr.h:382</a></div></div>
<div class="ttc" id="astruct_spell_threat_entry_html"><div class="ttname"><a href="../../d0/da7/struct_spell_threat_entry.html">SpellThreatEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00368">SpellMgr.h:369</a></div></div>
<div class="ttc" id="astruct_spell_threat_entry_html_a0d66e48d986f246e6aea08dd00837158"><div class="ttname"><a href="../../d0/da7/struct_spell_threat_entry.html#a0d66e48d986f246e6aea08dd00837158">SpellThreatEntry::flatMod</a></div><div class="ttdeci">int32 flatMod</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00370">SpellMgr.h:370</a></div></div>
<div class="ttc" id="astruct_spell_threat_entry_html_a35f5f8f7a3ac33768299913fecc1cf8d"><div class="ttname"><a href="../../d0/da7/struct_spell_threat_entry.html#a35f5f8f7a3ac33768299913fecc1cf8d">SpellThreatEntry::apPctMod</a></div><div class="ttdeci">float apPctMod</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00372">SpellMgr.h:372</a></div></div>
<div class="ttc" id="astruct_spell_threat_entry_html_af13802a7f6872cfce3a1d14655f30287"><div class="ttname"><a href="../../d0/da7/struct_spell_threat_entry.html#af13802a7f6872cfce3a1d14655f30287">SpellThreatEntry::pctMod</a></div><div class="ttdeci">float pctMod</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00371">SpellMgr.h:371</a></div></div>
<div class="ttc" id="astruct_spell_visual_entry_html"><div class="ttname"><a href="../../d5/d6a/struct_spell_visual_entry.html">SpellVisualEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01797">DBCStructure.h:1798</a></div></div>
<div class="ttc" id="astruct_summon_properties_entry_html"><div class="ttname"><a href="../../dc/da8/struct_summon_properties_entry.html">SummonPropertiesEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01835">DBCStructure.h:1836</a></div></div>
<div class="ttc" id="astruct_summon_properties_entry_html_aa1cbad19aaa973e21fdbd74cec5119f6"><div class="ttname"><a href="../../dc/da8/struct_summon_properties_entry.html#aa1cbad19aaa973e21fdbd74cec5119f6">SummonPropertiesEntry::Type</a></div><div class="ttdeci">uint32 Type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01840">DBCStructure.h:1840</a></div></div>
<div class="ttc" id="astruct_summon_properties_entry_html_acd933f251a1faa1f705420307136681d"><div class="ttname"><a href="../../dc/da8/struct_summon_properties_entry.html#acd933f251a1faa1f705420307136681d">SummonPropertiesEntry::Category</a></div><div class="ttdeci">uint32 Category</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01838">DBCStructure.h:1838</a></div></div>
<div class="ttc" id="astruct_talent_entry_html"><div class="ttname"><a href="../../db/d1b/struct_talent_entry.html">TalentEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01849">DBCStructure.h:1850</a></div></div>
<div class="ttc" id="astruct_talent_entry_html_a96d0fd120ed3aa7fbd287d104fd87c26"><div class="ttname"><a href="../../db/d1b/struct_talent_entry.html#a96d0fd120ed3aa7fbd287d104fd87c26">TalentEntry::RankID</a></div><div class="ttdeci">std::array&lt; uint32, MAX_TALENT_RANK &gt; RankID</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01855">DBCStructure.h:1855</a></div></div>
<div class="ttc" id="astruct_vehicle_seat_entry_html"><div class="ttname"><a href="../../d1/d95/struct_vehicle_seat_entry.html">VehicleSeatEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01990">DBCStructure.h:1991</a></div></div>
<div class="ttc" id="astruct_vehicle_seat_entry_html_a36d6a9668d3405ba7a226d8ed0281fe9"><div class="ttname"><a href="../../d1/d95/struct_vehicle_seat_entry.html#a36d6a9668d3405ba7a226d8ed0281fe9">VehicleSeatEntry::m_attachmentOffsetX</a></div><div class="ttdeci">float m_attachmentOffsetX</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01995">DBCStructure.h:1995</a></div></div>
<div class="ttc" id="astruct_vehicle_seat_entry_html_a89803d79045aac9e38d46b2c1793665b"><div class="ttname"><a href="../../d1/d95/struct_vehicle_seat_entry.html#a89803d79045aac9e38d46b2c1793665b">VehicleSeatEntry::m_attachmentOffsetY</a></div><div class="ttdeci">float m_attachmentOffsetY</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01996">DBCStructure.h:1996</a></div></div>
<div class="ttc" id="astruct_vehicle_seat_entry_html_adafa935d13af1effc9af02dc5bd3a774"><div class="ttname"><a href="../../d1/d95/struct_vehicle_seat_entry.html#adafa935d13af1effc9af02dc5bd3a774">VehicleSeatEntry::m_attachmentOffsetZ</a></div><div class="ttdeci">float m_attachmentOffsetZ</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01997">DBCStructure.h:1997</a></div></div>
<div class="ttc" id="astruct_vehicle_seat_entry_html_afe02aa891cad80dff89156d138bad691"><div class="ttname"><a href="../../d1/d95/struct_vehicle_seat_entry.html#afe02aa891cad80dff89156d138bad691">VehicleSeatEntry::m_flags</a></div><div class="ttdeci">uint32 m_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01993">DBCStructure.h:1993</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
