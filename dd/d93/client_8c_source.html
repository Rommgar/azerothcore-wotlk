<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Azerotcore-wotlk: deps/mysqllite/sql-common/client.c Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Azerotcore-wotlk
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_94a36784afa54c0b50996002372b429e.html">deps</a></li><li class="navelem"><a class="el" href="../../dir_c19b06727b8b6746540d83e2aa4b49f4.html">mysqllite</a></li><li class="navelem"><a class="el" href="../../dir_0d59f52926e4348628c277fdf6154047.html">sql-common</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">client.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../dd/d93/client_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* Copyright (C) 2000-2003 MySQL AB</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">   This program is free software; you can redistribute it and/or modify</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">   it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">   the Free Software Foundation; version 2 of the License.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">   This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">   GNU General Public License for more details.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">   You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">   along with this program; if not, write to the Free Software</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">   Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA */</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">  This file is included by both libmysql.c (the MySQL client C API)</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">  and the mysqld server to connect to another MYSQL server.</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">  The differences for the two cases are:</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">  - Things that only works for the client:</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">  - Trying to automaticly determinate user name if not supplied to</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">    mysql_real_connect()</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">  - Support for reading local file with LOAD DATA LOCAL</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">  - SHARED memory handling</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">  - Prepared statements</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">  </span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">  - Things that only works for the server</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">  - Alarm handling on connect</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">  </span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">  In all other cases, the code should be idential for the client and</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">  server.</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">*/</span> </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d9/df6/my__global_8h.html">my_global.h</a>&gt;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/d53/mysql_8h.html">mysql.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#ifndef __WIN__</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &lt;netdb.h&gt;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">/* Remove client convenience wrappers */</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#undef max_allowed_packet</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#undef net_buffer_length</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#ifdef EMBEDDED_LIBRARY</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#undef MYSQL_SERVER</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#ifndef MYSQL_CLIENT</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#define MYSQL_CLIENT</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#define CLI_MYSQL_REAL_CONNECT STDCALL cli_mysql_real_connect</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#undef net_flush</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<a class="code" href="../../d9/df6/my__global_8h.html#a74cd599039dcf29c6e6d342cf4efd0a8">my_bool</a> <a class="code" href="../../d6/df0/mysql__com_8h.html#a8b25274dbacc2f6d54ce7efffe6c4d4b">net_flush</a>(<a class="code" href="../../de/d2d/structst__net.html">NET</a> *net);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#else  </span><span class="comment">/*EMBEDDED_LIBRARY*/</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a0e619126e8cbd3d34ed2f31d5af9749d">   62</a></span>&#160;<span class="preprocessor">#define CLI_MYSQL_REAL_CONNECT STDCALL mysql_real_connect</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/*EMBEDDED_LIBRARY*/</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../db/da9/my__sys_8h.html">my_sys.h</a>&gt;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d3/dcf/mysys__err_8h.html">mysys_err.h</a>&gt;</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d6/dda/m__string_8h.html">m_string.h</a>&gt;</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d8/dd3/m__ctype_8h.html">m_ctype.h</a>&gt;</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#include &quot;mysql_version.h&quot;</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d40/mysqld__error_8h.html">mysqld_error.h</a>&quot;</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d50/errmsg_8h.html">errmsg.h</a>&quot;</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d2/dd9/violite_8h.html">violite.h</a>&gt;</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#if !defined(__WIN__)</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../da/da8/my__pthread_8h.html">my_pthread.h</a>&gt;</span>             <span class="comment">/* because of signal()  */</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !defined(__WIN__) */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#include &lt;sys/stat.h&gt;</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#include &lt;signal.h&gt;</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#include &lt;time.h&gt;</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#ifdef   HAVE_PWD_H</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#include &lt;pwd.h&gt;</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#if !defined(__WIN__)</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">#include &lt;sys/socket.h&gt;</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">#include &lt;netinet/in.h&gt;</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor">#include &lt;arpa/inet.h&gt;</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">#include &lt;netdb.h&gt;</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="preprocessor">#ifdef HAVE_SELECT_H</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#  include &lt;select.h&gt;</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">#ifdef HAVE_SYS_SELECT_H</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">#include &lt;sys/select.h&gt;</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !defined(__WIN__) */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="preprocessor">#ifdef HAVE_SYS_UN_H</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">#  include &lt;sys/un.h&gt;</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="preprocessor">#if defined(__WIN__)</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="preprocessor">#define perror(A)</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="preprocessor">#include &lt;errno.h&gt;</span></div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a633b0396ff93d336a088412a190a5072">  102</a></span>&#160;<span class="preprocessor">#define SOCKET_ERROR -1</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="preprocessor">#ifdef __WIN__</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="preprocessor">#define CONNECT_TIMEOUT 20</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a252b2cb72531cb00ecd4d4db37a5a473">  108</a></span>&#160;<span class="preprocessor">#define CONNECT_TIMEOUT 0</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/dcc/client__settings_8h.html">client_settings.h</a>&quot;</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d6/d2a/sql__common_8h.html">sql_common.h</a>&gt;</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../da/d2f/client__plugin_8h.html">mysql/client_plugin.h</a>&gt;</span></div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#ac6ae64e4a3d19ae64c79c0b7afa56f37">  114</a></span>&#160;<span class="preprocessor">#define native_password_plugin_name &quot;mysql_native_password&quot;</span></div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a329c5a74e7eb4f20edf5b6b18c127c7c">  115</a></span>&#160;<span class="preprocessor">#define old_password_plugin_name    &quot;mysql_old_password&quot;</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="../../de/d53/mysql_8h.html#a80816aeddad71ad988bd490a3a4020a5">  118</a></span>&#160;<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>        <a class="code" href="../../dd/d93/client_8c.html#a697e05087606451cfaaa979c3c160da9">mysql_port</a>=0;</div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="../../de/d53/mysql_8h.html#ac53f2b5a4e5c09d4006e45c22865c279">  119</a></span>&#160;<span class="keywordtype">char</span>        *<a class="code" href="../../dd/d93/client_8c.html#ac53f2b5a4e5c09d4006e45c22865c279">mysql_unix_port</a>= 0;</div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="../../d6/d2a/sql__common_8h.html#a09476f324c25bc6892239a354bf5a521">  120</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>  *<a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>= <span class="stringliteral">&quot;HY000&quot;</span>;</div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="../../d6/d2a/sql__common_8h.html#ad13f6b59eda853fac26e47275ab4c1d1">  121</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>  *<a class="code" href="../../dd/d93/client_8c.html#ad13f6b59eda853fac26e47275ab4c1d1">not_error_sqlstate</a>= <span class="stringliteral">&quot;00000&quot;</span>;</div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="../../d6/d2a/sql__common_8h.html#a81246260b966521cb451cae59a343c88">  122</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>  *<a class="code" href="../../dd/d93/client_8c.html#a81246260b966521cb451cae59a343c88">cant_connect_sqlstate</a>= <span class="stringliteral">&quot;08001&quot;</span>;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="preprocessor">#ifdef HAVE_SMEM</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="keywordtype">char</span>         *shared_memory_base_name= 0;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>  *def_shared_memory_base_name= default_shared_memory_base_name;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/d93/client_8c.html#a94c049b6d785d0d20a66b56f60489367">mysql_close_free_options</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/d93/client_8c.html#af9ba7bfff60df4693e88983a3adc52a9">mysql_close_free</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/d93/client_8c.html#a0fb52d22e3f1ca79728d71742788f596">mysql_prune_stmt_list</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="preprocessor">#if !defined(__WIN__)</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d93/client_8c.html#a57efa0c1f3343214a8f8589665678b94">wait_for_data</a>(<a class="code" href="../../d9/df6/my__global_8h.html#aed973571b4b7eb2facd8c39e8b500bb6">my_socket</a> fd, <a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> timeout);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="../../d6/d2a/sql__common_8h.html#acb92ca3f8640719ce9ea6fbd078e25cd">  136</a></span>&#160;<a class="code" href="../../d9/d35/structcharset__info__st.html">CHARSET_INFO</a> *<a class="code" href="../../dd/d93/client_8c.html#acb92ca3f8640719ce9ea6fbd078e25cd">default_client_charset_info</a> = &amp;<a class="code" href="../../d8/dd3/m__ctype_8h.html#aa4bc5bb4f339afec426049fee727d701">my_charset_latin1</a>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">/* Server error code and message */</span></div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a688d70b9cf084227b07654f90f0dffcc">  139</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d93/client_8c.html#a688d70b9cf084227b07654f90f0dffcc">mysql_server_last_errno</a>;</div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a7d9c4a3ae017aa67bcd2f910f98a9af5">  140</a></span>&#160;<span class="keywordtype">char</span> <a class="code" href="../../dd/d93/client_8c.html#a7d9c4a3ae017aa67bcd2f910f98a9af5">mysql_server_last_error</a>[<a class="code" href="../../d6/df0/mysql__com_8h.html#a3f5f3eab30894e1dfa8d5bd977a889be">MYSQL_ERRMSG_SIZE</a>];</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">/****************************************************************************</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">  A modified version of connect().  my_connect() allows you to specify</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">  a timeout value, in seconds, that we should wait until we</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">  derermine we can&#39;t connect to a particular host.  If timeout is 0,</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">  my_connect() will behave exactly like connect().</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">  Base version coded by Steve Bernacki, Jr. &lt;steve@navinet.net&gt;</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">*****************************************************************************/</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="../../d6/df0/mysql__com_8h.html#a3046fb0439f254402658188f27370565">  151</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../dd/d93/client_8c.html#ac75dabe29a1237ccc9212834eed642b8">my_connect</a>(<a class="code" href="../../d9/df6/my__global_8h.html#aed973571b4b7eb2facd8c39e8b500bb6">my_socket</a> fd, <span class="keyword">const</span> <span class="keyword">struct</span> sockaddr *name, <a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> namelen,</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;           <a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> timeout)</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;{</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="preprocessor">#if defined(__WIN__)</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;my_connect&quot;</span>);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(connect(fd, (<span class="keyword">struct</span> sockaddr*) name, namelen));</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="keywordtype">int</span> flags, res, s_err;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;my_connect&quot;</span>);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;enter&quot;</span>, (<span class="stringliteral">&quot;fd: %d  timeout: %u&quot;</span>, fd, timeout));</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">    If they passed us a timeout of zero, we should behave</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">    exactly like the normal connect() call does.</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keywordflow">if</span> (timeout == 0)</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(connect(fd, (<span class="keyword">struct</span> sockaddr*) name, namelen));</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  flags = fcntl(fd, F_GETFL, 0);      <span class="comment">/* Set socket to not block */</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="preprocessor">#ifdef O_NONBLOCK</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  fcntl(fd, F_SETFL, flags | O_NONBLOCK);  <span class="comment">/* and save the flags..  */</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;connecting non-blocking&quot;</span>));</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  res= connect(fd, (<span class="keyword">struct</span> sockaddr*) name, namelen);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;connect result: %d  errno: %d&quot;</span>, res, <a class="code" href="../../db/da9/my__sys_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  s_err= <a class="code" href="../../db/da9/my__sys_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>;         <span class="comment">/* Save the error... */</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  fcntl(fd, F_SETFL, flags);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="keywordflow">if</span> ((res != 0) &amp;&amp; (s_err != EINPROGRESS))</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>= s_err;           <span class="comment">/* Restore it */</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(-1);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordflow">if</span> (res == 0)             <span class="comment">/* Connected quickly! */</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(0);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(<a class="code" href="../../dd/d93/client_8c.html#a57efa0c1f3343214a8f8589665678b94">wait_for_data</a>(fd, timeout));</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;}</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">  Wait up to timeout seconds for a connection to be established.</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">  We prefer to do this with poll() as there is no limitations with this.</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">  If not, we will use select()</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="preprocessor">#if !defined(__WIN__)</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a57efa0c1f3343214a8f8589665678b94">  201</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d93/client_8c.html#a57efa0c1f3343214a8f8589665678b94">wait_for_data</a>(<a class="code" href="../../d9/df6/my__global_8h.html#aed973571b4b7eb2facd8c39e8b500bb6">my_socket</a> fd, <a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> timeout)</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;{</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="preprocessor">#ifdef HAVE_POLL</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="keyword">struct </span>pollfd ufds;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keywordtype">int</span> res;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;wait_for_data&quot;</span>);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;polling&quot;</span>));</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  ufds.fd= fd;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  ufds.events= POLLIN | POLLPRI;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keywordflow">if</span> (!(res= poll(&amp;ufds, 1, (<span class="keywordtype">int</span>) timeout*1000)))</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;poll timed out&quot;</span>));</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>= EINTR;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(-1);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>,</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;             (<span class="stringliteral">&quot;poll result: %d  errno: %d  revents: 0x%02d  events: 0x%02d&quot;</span>,</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;              res, <a class="code" href="../../db/da9/my__sys_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, ufds.revents, ufds.events));</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="keywordflow">if</span> (res &lt; 0 || !(ufds.revents &amp; (POLLIN | POLLPRI)))</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(-1);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">    At this point, we know that something happened on the socket.</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">    But this does not means that everything is alright.</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment">    The connect might have failed. We need to retrieve the error code</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">    from the socket layer. We must return success only if we are sure</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">    that it was really a success. Otherwise we might prevent the caller</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">    from trying another address to connect to.</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  {</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordtype">int</span>         s_err;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    socklen_t   s_len= <span class="keyword">sizeof</span>(s_err);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;Get SO_ERROR from non-blocked connected socket.&quot;</span>));</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    res= getsockopt(fd, SOL_SOCKET, SO_ERROR, &amp;s_err, &amp;s_len);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;getsockopt res: %d  s_err: %d&quot;</span>, res, s_err));</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">if</span> (res)</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(res);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="comment">/* getsockopt() was successful, check the retrieved status value. */</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">if</span> (s_err)</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      <a class="code" href="../../db/da9/my__sys_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>= s_err;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(-1);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="comment">/* Status from connect() is zero. Socket is successfully connected. */</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(0);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#ad3ab276cdace5803541059d436c924ca">SOCKOPT_OPTLEN_TYPE</a> s_err_size = <span class="keyword">sizeof</span>(<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  fd_set sfds;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keyword">struct </span>timeval tv;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  time_t start_time, now_time;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="keywordtype">int</span> res, s_err;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;wait_for_data&quot;</span>);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="keywordflow">if</span> (fd &gt;= <a class="code" href="../../db/d6c/stdsoap2_8h.html#a86c5dbf5a99358e288f573d6a1e0873f">FD_SETSIZE</a>)             <span class="comment">/* Check if wrong error */</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(0);                 <span class="comment">/* Can&#39;t use timeout */</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160; </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">    Our connection is &quot;in progress.&quot;  We can use the select() call to wait</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">    up to a specified period of time for the connection to suceed.</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">    If select() returns 0 (after waiting howevermany seconds), our socket</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">    never became writable (host is probably unreachable.)  Otherwise, if</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">    select() returns 1, then one of two conditions exist:</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">   </span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">    1. An error occured.  We use getsockopt() to check for this.</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">    2. The connection was set up sucessfully: getsockopt() will</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">    return 0 as an error.</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">   </span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">    Thanks goes to Andrew Gierth &lt;andrew@erlenstar.demon.co.uk&gt;</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">    who posted this method of timing out a connect() in</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">    comp.unix.programmer on August 15th, 1997.</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160; </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  FD_ZERO(&amp;sfds);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  FD_SET(fd, &amp;sfds);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">    select could be interrupted by a signal, and if it is, </span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment">    the timeout should be adjusted and the select restarted</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">    to work around OSes that don&#39;t restart select and </span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">    implementations of select that don&#39;t adjust tv upon</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">    failure to reflect the time remaining</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  start_time= <a class="code" href="../../db/da9/my__sys_8h.html#a41d5683d936fc7d39c10fca168e1fbb5">my_time</a>(0);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keywordflow">for</span> (;;)</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    tv.tv_sec = (long) timeout;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    tv.tv_usec = 0;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="preprocessor">#if defined(HPUX10)</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordflow">if</span> ((res = select(fd+1, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>, (<span class="keywordtype">int</span>*) &amp;sfds, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>, &amp;tv)) &gt; 0)</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">if</span> ((res = select(fd+1, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>, &amp;sfds, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>, &amp;tv)) &gt; 0)</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">if</span> (res == 0)                   <span class="comment">/* timeout */</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(-1);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    now_time= <a class="code" href="../../db/da9/my__sys_8h.html#a41d5683d936fc7d39c10fca168e1fbb5">my_time</a>(0);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    timeout-= (<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>) (now_time - start_time);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/da9/my__sys_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> != EINTR || (<span class="keywordtype">int</span>) timeout &lt;= 0)</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(-1);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">    select() returned something more interesting than zero, let&#39;s</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">    see if we have any errors.  If the next two statements pass,</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">    we&#39;ve got an open socket!</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  s_err=0;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="keywordflow">if</span> (getsockopt(fd, SOL_SOCKET, SO_ERROR, (<span class="keywordtype">char</span>*) &amp;s_err, &amp;s_err_size) != 0)</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(-1);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160; </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="keywordflow">if</span> (s_err)</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  {                     <span class="comment">/* getsockopt could succeed */</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> = s_err;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(-1);                    <span class="comment">/* but return an error... */</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(0);                   <span class="comment">/* ok */</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* HAVE_POLL */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;}</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !defined(__WIN__) */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno"><a class="line" href="../../d6/d2a/sql__common_8h.html#ac18c82c7183e6a7993ed56ae87600b2c">  333</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql, <span class="keywordtype">int</span> errcode, <span class="keyword">const</span> <span class="keywordtype">char</span> *sqlstate)</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;{</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <a class="code" href="../../de/d2d/structst__net.html">NET</a> *net;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;set_mysql_error&quot;</span>);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;enter&quot;</span>, (<span class="stringliteral">&quot;error :%d &#39;%s&#39;&quot;</span>, errcode, <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(errcode)));</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <a class="code" href="../../d0/d74/my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(mysql != 0);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="keywordflow">if</span> (mysql)</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  {</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    net= &amp;mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    net-&gt;<a class="code" href="../../de/d2d/structst__net.html#ad32d83e52fbb9bde714a4e91ddd4cca7">last_errno</a>= errcode;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#a9dbe4cdad9c2c12aaa30e04b073884e6">strmov</a>(net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a076ac7884d3874905c0c95b6518228fc">last_error</a>, <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(errcode));</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#a9dbe4cdad9c2c12aaa30e04b073884e6">strmov</a>(net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a0f689854fdd40edbf79cc7e248ecd02f">sqlstate</a>, sqlstate);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  }</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#a688d70b9cf084227b07654f90f0dffcc">mysql_server_last_errno</a>= errcode;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#a9dbe4cdad9c2c12aaa30e04b073884e6">strmov</a>(<a class="code" href="../../dd/d93/client_8c.html#a7d9c4a3ae017aa67bcd2f910f98a9af5">mysql_server_last_error</a>, <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(errcode));</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  }</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a2d990f1c0bd095fcbac9c6596274be55">DBUG_VOID_RETURN</a>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;}</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno"><a class="line" href="../../d6/d2a/sql__common_8h.html#a7f5bfc9aeb97ede65bdac2359e5c6325">  361</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dd/d93/client_8c.html#a7f5bfc9aeb97ede65bdac2359e5c6325">net_clear_error</a>(<a class="code" href="../../de/d2d/structst__net.html">NET</a> *net)</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;{</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  net-&gt;<a class="code" href="../../de/d2d/structst__net.html#ad32d83e52fbb9bde714a4e91ddd4cca7">last_errno</a>= 0;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a076ac7884d3874905c0c95b6518228fc">last_error</a>[0]= <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <a class="code" href="../../d6/dda/m__string_8h.html#a9dbe4cdad9c2c12aaa30e04b073884e6">strmov</a>(net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a0f689854fdd40edbf79cc7e248ecd02f">sqlstate</a>, <a class="code" href="../../dd/d93/client_8c.html#ad13f6b59eda853fac26e47275ab4c1d1">not_error_sqlstate</a>);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;}</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno"><a class="line" href="../../d6/d2a/sql__common_8h.html#a38da6df00d5415a769e8a69867158b0d">  379</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dd/d93/client_8c.html#a38da6df00d5415a769e8a69867158b0d">set_mysql_extended_error</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql, <span class="keywordtype">int</span> errcode,</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                                     <span class="keyword">const</span> <span class="keywordtype">char</span> *sqlstate,</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                                     <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/dec/color_8h.html#a5237d5a1dab3f47a095266bf83d2b5ea">format</a>, ...)</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;{</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <a class="code" href="../../de/d2d/structst__net.html">NET</a> *net;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  va_list args;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;set_mysql_extended_error&quot;</span>);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;enter&quot;</span>, (<span class="stringliteral">&quot;error :%d &#39;%s&#39;&quot;</span>, errcode, <a class="code" href="../../da/dec/color_8h.html#a5237d5a1dab3f47a095266bf83d2b5ea">format</a>));</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <a class="code" href="../../d0/d74/my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(mysql != 0);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  net= &amp;mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  net-&gt;<a class="code" href="../../de/d2d/structst__net.html#ad32d83e52fbb9bde714a4e91ddd4cca7">last_errno</a>= errcode;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  va_start(args, <a class="code" href="../../da/dec/color_8h.html#a5237d5a1dab3f47a095266bf83d2b5ea">format</a>);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <a class="code" href="../../dc/d8d/service__my__snprintf_8h.html#a014ed05cba32df78a71854c7da5bc612">my_vsnprintf</a>(net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a076ac7884d3874905c0c95b6518228fc">last_error</a>, <span class="keyword">sizeof</span>(net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a076ac7884d3874905c0c95b6518228fc">last_error</a>)-1,</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;               <a class="code" href="../../da/dec/color_8h.html#a5237d5a1dab3f47a095266bf83d2b5ea">format</a>, args);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  va_end(args);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <a class="code" href="../../d6/dda/m__string_8h.html#a9dbe4cdad9c2c12aaa30e04b073884e6">strmov</a>(net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a0f689854fdd40edbf79cc7e248ecd02f">sqlstate</a>, sqlstate);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160; </div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a2d990f1c0bd095fcbac9c6596274be55">DBUG_VOID_RETURN</a>;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;}</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160; </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160; </div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment">  Create a named pipe connection</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="preprocessor">#ifdef __WIN__</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<a class="code" href="../../d2/dd9/violite_8h.html#ab521aa5010fb1afb801a899a55569e03">HANDLE</a> create_named_pipe(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql, <a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> connect_timeout, <span class="keywordtype">char</span> **arg_host,</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;             <span class="keywordtype">char</span> **arg_unix_socket)</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;{</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <a class="code" href="../../d2/dd9/violite_8h.html#ab521aa5010fb1afb801a899a55569e03">HANDLE</a> hPipe=INVALID_HANDLE_VALUE;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="keywordtype">char</span> pipe_name[1024];</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  DWORD dwMode;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#a74cd599039dcf29c6e6d342cf4efd0a8">my_bool</a> testing_named_pipes=0;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="keywordtype">char</span> *host= *arg_host, *unix_socket= *arg_unix_socket;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160; </div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="keywordflow">if</span> ( ! unix_socket || (unix_socket)[0] == 0x00)</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    unix_socket = <a class="code" href="../../dd/d93/client_8c.html#ac53f2b5a4e5c09d4006e45c22865c279">mysql_unix_port</a>;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="keywordflow">if</span> (!host || !strcmp(host,<a class="code" href="../../d6/df0/mysql__com_8h.html#aacebc74ef9a786231060d3a8d8b56d24">LOCAL_HOST</a>))</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    host=<a class="code" href="../../d6/df0/mysql__com_8h.html#a2e7ec16bc8384bd465b76d1bef082ea7">LOCAL_HOST_NAMEDPIPE</a>;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160; </div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  pipe_name[<span class="keyword">sizeof</span>(pipe_name)-1]= 0;        <span class="comment">/* Safety if too long string */</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <a class="code" href="../../d6/dda/m__string_8h.html#ac6508b65897fdf8d270e1c86d79de36b">strxnmov</a>(pipe_name, <span class="keyword">sizeof</span>(pipe_name)-1, <span class="stringliteral">&quot;\\\\&quot;</span>, host, <span class="stringliteral">&quot;\\pipe\\&quot;</span>,</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;       unix_socket, <a class="code" href="../../d9/df6/my__global_8h.html#a01a1e214486d9454ca611f01cb1cfc39">NullS</a>);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>,(<span class="stringliteral">&quot;Server name: &#39;%s&#39;.  Named Pipe: %s&quot;</span>, host, unix_socket));</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160; </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="keywordflow">for</span> (i=0 ; i &lt; 100 ; i++)         <span class="comment">/* Don&#39;t retry forever */</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keywordflow">if</span> ((hPipe = CreateFile(pipe_name,</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                GENERIC_READ | GENERIC_WRITE,</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                0,</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>,</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                OPEN_EXISTING,</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                FILE_FLAG_OVERLAPPED,</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a> )) != INVALID_HANDLE_VALUE)</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordflow">if</span> (GetLastError() != ERROR_PIPE_BUSY)</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#a38da6df00d5415a769e8a69867158b0d">set_mysql_extended_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a8a8ff690211f32ba2e54e26374933f0d">CR_NAMEDPIPEOPEN_ERROR</a>,</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                               <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>, <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(<a class="code" href="../../d8/d50/errmsg_8h.html#a8a8ff690211f32ba2e54e26374933f0d">CR_NAMEDPIPEOPEN_ERROR</a>),</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                               host, unix_socket, (<a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>) GetLastError());</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      <span class="keywordflow">return</span> INVALID_HANDLE_VALUE;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    }</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="comment">/* wait for for an other instance */</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordflow">if</span> (! WaitNamedPipe(pipe_name, connect_timeout*1000) )</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#a38da6df00d5415a769e8a69867158b0d">set_mysql_extended_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a751da60ba507c1b1edc19a93ead569c5">CR_NAMEDPIPEWAIT_ERROR</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>,</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                               <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(<a class="code" href="../../d8/d50/errmsg_8h.html#a751da60ba507c1b1edc19a93ead569c5">CR_NAMEDPIPEWAIT_ERROR</a>),</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                               host, unix_socket, (<a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>) GetLastError());</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      <span class="keywordflow">return</span> INVALID_HANDLE_VALUE;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  }</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="keywordflow">if</span> (hPipe == INVALID_HANDLE_VALUE)</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#a38da6df00d5415a769e8a69867158b0d">set_mysql_extended_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a8a8ff690211f32ba2e54e26374933f0d">CR_NAMEDPIPEOPEN_ERROR</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>,</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                             <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(<a class="code" href="../../d8/d50/errmsg_8h.html#a8a8ff690211f32ba2e54e26374933f0d">CR_NAMEDPIPEOPEN_ERROR</a>), host, unix_socket,</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                             (<a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>) GetLastError());</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordflow">return</span> INVALID_HANDLE_VALUE;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  }</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  dwMode = PIPE_READMODE_BYTE | PIPE_WAIT;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="keywordflow">if</span> ( !SetNamedPipeHandleState(hPipe, &amp;dwMode, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>) )</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  {</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    CloseHandle( hPipe );</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#a38da6df00d5415a769e8a69867158b0d">set_mysql_extended_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a011cc28c651cfbcb413b643489e21a4a">CR_NAMEDPIPESETSTATE_ERROR</a>,</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                             <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>, <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(<a class="code" href="../../d8/d50/errmsg_8h.html#a011cc28c651cfbcb413b643489e21a4a">CR_NAMEDPIPESETSTATE_ERROR</a>),</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                             host, unix_socket, (<a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>) GetLastError());</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="keywordflow">return</span> INVALID_HANDLE_VALUE;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  }</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  *arg_host=host ; *arg_unix_socket=unix_socket;    <span class="comment">/* connect arg */</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="keywordflow">return</span> (hPipe);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;}</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160; </div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160; </div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment">  Create new shared memory connection, return handler of connection</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment">  SYNOPSIS</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment">    create_shared_memory()</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment">    mysql       Pointer of mysql structure</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment">    net         Pointer of net structure</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment">    connect_timeout Timeout of connection</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160; </div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="preprocessor">#ifdef HAVE_SMEM</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<a class="code" href="../../d2/dd9/violite_8h.html#ab521aa5010fb1afb801a899a55569e03">HANDLE</a> create_shared_memory(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql,<a class="code" href="../../de/d2d/structst__net.html">NET</a> *net, <a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> connect_timeout)</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;{</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> smem_buffer_length = shared_memory_buffer_length + 4;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="comment">    event_connect_request is event object for start connection actions</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment">    event_connect_answer is event object for confirm, that server put data</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment">    handle_connect_file_map is file-mapping object, use for create shared</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment">    memory</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment">    handle_connect_map is pointer on shared memory</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment">    handle_map is pointer on shared memory for client</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment">    event_server_wrote,</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment">    event_server_read,</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="comment">    event_client_wrote,</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="comment">    event_client_read are events for transfer data between server and client</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment">    handle_file_map is file-mapping object, use for create shared memory</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <a class="code" href="../../d2/dd9/violite_8h.html#ab521aa5010fb1afb801a899a55569e03">HANDLE</a> event_connect_request = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <a class="code" href="../../d2/dd9/violite_8h.html#ab521aa5010fb1afb801a899a55569e03">HANDLE</a> event_connect_answer = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <a class="code" href="../../d2/dd9/violite_8h.html#ab521aa5010fb1afb801a899a55569e03">HANDLE</a> handle_connect_file_map = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="keywordtype">char</span> *handle_connect_map = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="keywordtype">char</span> *handle_map = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <a class="code" href="../../d2/dd9/violite_8h.html#ab521aa5010fb1afb801a899a55569e03">HANDLE</a> event_server_wrote = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <a class="code" href="../../d2/dd9/violite_8h.html#ab521aa5010fb1afb801a899a55569e03">HANDLE</a> event_server_read = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <a class="code" href="../../d2/dd9/violite_8h.html#ab521aa5010fb1afb801a899a55569e03">HANDLE</a> event_client_wrote = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <a class="code" href="../../d2/dd9/violite_8h.html#ab521aa5010fb1afb801a899a55569e03">HANDLE</a> event_client_read = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <a class="code" href="../../d2/dd9/violite_8h.html#ab521aa5010fb1afb801a899a55569e03">HANDLE</a> event_conn_closed = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <a class="code" href="../../d2/dd9/violite_8h.html#ab521aa5010fb1afb801a899a55569e03">HANDLE</a> handle_file_map = <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> connect_number;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <span class="keywordtype">char</span> connect_number_char[22], *p;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <span class="keywordtype">char</span> *tmp= <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="keywordtype">char</span> *suffix_pos;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  DWORD error_allow = 0;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  DWORD error_code = 0;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  DWORD event_access_rights= SYNCHRONIZE | EVENT_MODIFY_STATE;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="keywordtype">char</span> *shared_memory_base_name = mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#abd61d3820e3904dd30ad1c4c44887d10">shared_memory_base_name</a>;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *name_prefixes[] = {<span class="stringliteral">&quot;&quot;</span>,<span class="stringliteral">&quot;Global\\&quot;</span>};</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *prefix;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment">    If this is NULL, somebody freed the MYSQL* options.  mysql_close()</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="comment">    is a good candidate.  We don&#39;t just silently (re)set it to</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment">    def_shared_memory_base_name as that would create really confusing/buggy</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment">    behavior if the user passed in a different name on the command-line or</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment">    in a my.cnf.</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <a class="code" href="../../d0/d74/my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(shared_memory_base_name != <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160; </div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment">     get enough space base-name + &#39;_&#39; + longest suffix we might ever send</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="keywordflow">if</span> (!(tmp= (<span class="keywordtype">char</span> *)<a class="code" href="../../db/da9/my__sys_8h.html#a8f7b30ff5d0e10610637aa30c3e0048b">my_malloc</a>(strlen(shared_memory_base_name) + 32L, <a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a3f77f6ad19d5d56fcc872df4d0d4ad2f">MY_FAE</a>))))</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160; </div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment">    The name of event and file-mapping events create agree next rule:</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment">    shared_memory_base_name+unique_part</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment">    Where:</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment">    shared_memory_base_name is unique value for each server</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment">    unique_part is uniquel value for each object (events and file-mapping)</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="keywordflow">for</span> (i = 0; i&lt; <a class="code" href="../../d9/df6/my__global_8h.html#a16b6cf0b1e75b701a4a8d303cc4a5abd">array_elements</a>(name_prefixes); i++)</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  {</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    prefix= name_prefixes[i];</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    suffix_pos = <a class="code" href="../../d6/dda/m__string_8h.html#ae7f013658472c2eb2baf1b9deb93d21c">strxmov</a>(tmp, prefix , shared_memory_base_name, <span class="stringliteral">&quot;_&quot;</span>, <a class="code" href="../../d9/df6/my__global_8h.html#a01a1e214486d9454ca611f01cb1cfc39">NullS</a>);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#a9dbe4cdad9c2c12aaa30e04b073884e6">strmov</a>(suffix_pos, <span class="stringliteral">&quot;CONNECT_REQUEST&quot;</span>);</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    event_connect_request= OpenEvent(event_access_rights, <a class="code" href="../../d8/dec/mpq-internal_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, tmp);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keywordflow">if</span> (event_connect_request)</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    {</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    }</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  }</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <span class="keywordflow">if</span> (!event_connect_request)</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    error_allow = <a class="code" href="../../d8/d50/errmsg_8h.html#a94765c7f696f09025181d65ebd7d5f8d">CR_SHARED_MEMORY_CONNECT_REQUEST_ERROR</a>;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  }</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <a class="code" href="../../d6/dda/m__string_8h.html#a9dbe4cdad9c2c12aaa30e04b073884e6">strmov</a>(suffix_pos, <span class="stringliteral">&quot;CONNECT_ANSWER&quot;</span>);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="keywordflow">if</span> (!(event_connect_answer= OpenEvent(event_access_rights,<a class="code" href="../../d8/dec/mpq-internal_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>,tmp)))</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  {</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    error_allow = <a class="code" href="../../d8/d50/errmsg_8h.html#a9e491584429614c1022973f3e0a3123c">CR_SHARED_MEMORY_CONNECT_ANSWER_ERROR</a>;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  }</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <a class="code" href="../../d6/dda/m__string_8h.html#a9dbe4cdad9c2c12aaa30e04b073884e6">strmov</a>(suffix_pos, <span class="stringliteral">&quot;CONNECT_DATA&quot;</span>);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="keywordflow">if</span> (!(handle_connect_file_map= OpenFileMapping(FILE_MAP_WRITE,<a class="code" href="../../d8/dec/mpq-internal_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>,tmp)))</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    error_allow = <a class="code" href="../../d8/d50/errmsg_8h.html#ace925cd47958e0c5ea4cd685fafe66d4">CR_SHARED_MEMORY_CONNECT_FILE_MAP_ERROR</a>;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  }</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="keywordflow">if</span> (!(handle_connect_map= MapViewOfFile(handle_connect_file_map,</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                      FILE_MAP_WRITE,0,0,<span class="keyword">sizeof</span>(DWORD))))</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    error_allow = <a class="code" href="../../d8/d50/errmsg_8h.html#a702c2452699e97f050d9780a5c85a241">CR_SHARED_MEMORY_CONNECT_MAP_ERROR</a>;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  }</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160; </div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <span class="comment">/* Send to server request of connection */</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <span class="keywordflow">if</span> (!SetEvent(event_connect_request))</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  {</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    error_allow = <a class="code" href="../../d8/d50/errmsg_8h.html#ae6a8e2ca4b909b9f8f908ae4cf9799ba">CR_SHARED_MEMORY_CONNECT_SET_ERROR</a>;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  }</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160; </div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  <span class="comment">/* Wait of answer from server */</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  <span class="keywordflow">if</span> (WaitForSingleObject(event_connect_answer,connect_timeout*1000) !=</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      WAIT_OBJECT_0)</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  {</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    error_allow = <a class="code" href="../../d8/d50/errmsg_8h.html#ab650249d3b11297660a204ebf6f3bc66">CR_SHARED_MEMORY_CONNECT_ABANDONED_ERROR</a>;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  }</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160; </div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="comment">/* Get number of connection */</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  connect_number = <a class="code" href="../../d9/df6/my__global_8h.html#a1b7a61d5ce08e51aa5ca0ea5542d6d34">uint4korr</a>(handle_connect_map);<span class="comment">/*WAX2*/</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  p= <a class="code" href="../../d6/dda/m__string_8h.html#a04b183636e9adda2d78f0b28a2dd5c2c">int10_to_str</a>(connect_number, connect_number_char, 10);</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160; </div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment">    The name of event and file-mapping events create agree next rule:</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="comment">    shared_memory_base_name+unique_part+number_of_connection</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="comment">    Where:</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="comment">    shared_memory_base_name is uniquel value for each server</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="comment">    unique_part is uniquel value for each object (events and file-mapping)</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="comment">    number_of_connection is number of connection between server and client</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  suffix_pos = <a class="code" href="../../d6/dda/m__string_8h.html#ae7f013658472c2eb2baf1b9deb93d21c">strxmov</a>(tmp, prefix , shared_memory_base_name, <span class="stringliteral">&quot;_&quot;</span>, connect_number_char,</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;               <span class="stringliteral">&quot;_&quot;</span>, <a class="code" href="../../d9/df6/my__global_8h.html#a01a1e214486d9454ca611f01cb1cfc39">NullS</a>);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <a class="code" href="../../d6/dda/m__string_8h.html#a9dbe4cdad9c2c12aaa30e04b073884e6">strmov</a>(suffix_pos, <span class="stringliteral">&quot;DATA&quot;</span>);</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <span class="keywordflow">if</span> ((handle_file_map = OpenFileMapping(FILE_MAP_WRITE,<a class="code" href="../../d8/dec/mpq-internal_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>,tmp)) == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>)</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  {</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    error_allow = <a class="code" href="../../d8/d50/errmsg_8h.html#ab5fe34e187eafb313120e43ac1032caf">CR_SHARED_MEMORY_FILE_MAP_ERROR</a>;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keywordflow">goto</span> err2;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  }</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <span class="keywordflow">if</span> ((handle_map = MapViewOfFile(handle_file_map,FILE_MAP_WRITE,0,0,</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                  smem_buffer_length)) == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>)</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  {</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    error_allow = <a class="code" href="../../d8/d50/errmsg_8h.html#a63dbea7801227ead1648f06f4a88479f">CR_SHARED_MEMORY_MAP_ERROR</a>;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="keywordflow">goto</span> err2;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  }</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160; </div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <a class="code" href="../../d6/dda/m__string_8h.html#a9dbe4cdad9c2c12aaa30e04b073884e6">strmov</a>(suffix_pos, <span class="stringliteral">&quot;SERVER_WROTE&quot;</span>);</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="keywordflow">if</span> ((event_server_wrote = OpenEvent(event_access_rights,<a class="code" href="../../d8/dec/mpq-internal_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>,tmp)) == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>)</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    error_allow = <a class="code" href="../../d8/d50/errmsg_8h.html#a3938cfd7872f08ae5c443669ec5e2583">CR_SHARED_MEMORY_EVENT_ERROR</a>;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="keywordflow">goto</span> err2;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  }</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160; </div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <a class="code" href="../../d6/dda/m__string_8h.html#a9dbe4cdad9c2c12aaa30e04b073884e6">strmov</a>(suffix_pos, <span class="stringliteral">&quot;SERVER_READ&quot;</span>);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="keywordflow">if</span> ((event_server_read = OpenEvent(event_access_rights,<a class="code" href="../../d8/dec/mpq-internal_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>,tmp)) == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>)</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  {</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    error_allow = <a class="code" href="../../d8/d50/errmsg_8h.html#a3938cfd7872f08ae5c443669ec5e2583">CR_SHARED_MEMORY_EVENT_ERROR</a>;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="keywordflow">goto</span> err2;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  }</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160; </div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <a class="code" href="../../d6/dda/m__string_8h.html#a9dbe4cdad9c2c12aaa30e04b073884e6">strmov</a>(suffix_pos, <span class="stringliteral">&quot;CLIENT_WROTE&quot;</span>);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  <span class="keywordflow">if</span> ((event_client_wrote = OpenEvent(event_access_rights,<a class="code" href="../../d8/dec/mpq-internal_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>,tmp)) == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>)</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  {</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    error_allow = <a class="code" href="../../d8/d50/errmsg_8h.html#a3938cfd7872f08ae5c443669ec5e2583">CR_SHARED_MEMORY_EVENT_ERROR</a>;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordflow">goto</span> err2;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  }</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160; </div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <a class="code" href="../../d6/dda/m__string_8h.html#a9dbe4cdad9c2c12aaa30e04b073884e6">strmov</a>(suffix_pos, <span class="stringliteral">&quot;CLIENT_READ&quot;</span>);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <span class="keywordflow">if</span> ((event_client_read = OpenEvent(event_access_rights,<a class="code" href="../../d8/dec/mpq-internal_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>,tmp)) == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>)</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  {</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    error_allow = <a class="code" href="../../d8/d50/errmsg_8h.html#a3938cfd7872f08ae5c443669ec5e2583">CR_SHARED_MEMORY_EVENT_ERROR</a>;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="keywordflow">goto</span> err2;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  }</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160; </div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <a class="code" href="../../d6/dda/m__string_8h.html#a9dbe4cdad9c2c12aaa30e04b073884e6">strmov</a>(suffix_pos, <span class="stringliteral">&quot;CONNECTION_CLOSED&quot;</span>);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  <span class="keywordflow">if</span> ((event_conn_closed = OpenEvent(event_access_rights,<a class="code" href="../../d8/dec/mpq-internal_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>,tmp)) == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>)</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  {</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    error_allow = <a class="code" href="../../d8/d50/errmsg_8h.html#a3938cfd7872f08ae5c443669ec5e2583">CR_SHARED_MEMORY_EVENT_ERROR</a>;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="keywordflow">goto</span> err2;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  }</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="comment">    Set event that server should send data</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  SetEvent(event_server_read);</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160; </div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;err2:</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <span class="keywordflow">if</span> (error_allow == 0)</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  {</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a>= vio_new_win32shared_memory(handle_file_map,handle_map,</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                                         event_server_wrote,</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                                         event_server_read,event_client_wrote,</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                                         event_client_read,event_conn_closed);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  }</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  {</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    error_code = GetLastError();</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="keywordflow">if</span> (event_server_read)</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      CloseHandle(event_server_read);</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="keywordflow">if</span> (event_server_wrote)</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      CloseHandle(event_server_wrote);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="keywordflow">if</span> (event_client_read)</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;      CloseHandle(event_client_read);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keywordflow">if</span> (event_client_wrote)</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;      CloseHandle(event_client_wrote);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="keywordflow">if</span> (event_conn_closed)</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;      CloseHandle(event_conn_closed);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordflow">if</span> (handle_map)</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      UnmapViewOfFile(handle_map);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="keywordflow">if</span> (handle_file_map)</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      CloseHandle(handle_file_map);</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  }</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;err:</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(tmp);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  <span class="keywordflow">if</span> (error_allow)</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    error_code = GetLastError();</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <span class="keywordflow">if</span> (event_connect_request)</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    CloseHandle(event_connect_request);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <span class="keywordflow">if</span> (event_connect_answer)</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    CloseHandle(event_connect_answer);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <span class="keywordflow">if</span> (handle_connect_map)</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    UnmapViewOfFile(handle_connect_map);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <span class="keywordflow">if</span> (handle_connect_file_map)</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    CloseHandle(handle_connect_file_map);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  <span class="keywordflow">if</span> (error_allow)</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  {</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="keywordflow">if</span> (error_allow == <a class="code" href="../../d8/d50/errmsg_8h.html#a3938cfd7872f08ae5c443669ec5e2583">CR_SHARED_MEMORY_EVENT_ERROR</a>)</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#a38da6df00d5415a769e8a69867158b0d">set_mysql_extended_error</a>(mysql, error_allow, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>,</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                               <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(error_allow), suffix_pos, error_code);</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#a38da6df00d5415a769e8a69867158b0d">set_mysql_extended_error</a>(mysql, error_allow, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>,</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                               <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(error_allow), error_code);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="keywordflow">return</span>(INVALID_HANDLE_VALUE);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  }</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  <span class="keywordflow">return</span>(handle_map);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;}</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160; </div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;<a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a></div>
<div class="line"><a name="l00729"></a><span class="lineno"><a class="line" href="../../d6/d2a/sql__common_8h.html#ad84595a1f520761e070865759f750349">  729</a></span>&#160;<a class="code" href="../../dd/d93/client_8c.html#a3196ee8555d77cf23d15d3e0c096740c">cli_safe_read</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql)</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;{</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  <a class="code" href="../../de/d2d/structst__net.html">NET</a> *net= &amp;mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> len=0;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160; </div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  <span class="keywordflow">if</span> (net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a> != 0)</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    len=<a class="code" href="../../d6/df0/mysql__com_8h.html#a169bf189d1ca9c4058637c9f139e74da">my_net_read</a>(net);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160; </div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <span class="keywordflow">if</span> (len == <a class="code" href="../../d6/df0/mysql__com_8h.html#a08253bf6eaa0178369f3ee1055b914a0">packet_error</a> || len == 0)</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  {</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;error&quot;</span>,(<span class="stringliteral">&quot;Wrong connection or packet. fd: %s  len: %lu&quot;</span>,</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            <a class="code" href="../../d2/dd9/violite_8h.html#ab6d8347e106e64fdfcffdf0447e7e4d1">vio_description</a>(net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a>),len));</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="preprocessor">#ifdef MYSQL_SERVER</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keywordflow">if</span> (net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a> &amp;&amp; <a class="code" href="../../d2/dd9/violite_8h.html#a1088917abfda0ffa6456775b41b86875">vio_was_interrupted</a>(net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a>))</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="../../d6/df0/mysql__com_8h.html#a08253bf6eaa0178369f3ee1055b914a0">packet_error</a>);</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/*MYSQL_SERVER*/</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#a189d88bfca75952cf7c3e5c1ffa59cc0">end_server</a>(mysql);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(mysql, net-&gt;<a class="code" href="../../de/d2d/structst__net.html#ad32d83e52fbb9bde714a4e91ddd4cca7">last_errno</a> == <a class="code" href="../../d1/d40/mysqld__error_8h.html#a36242e3abf5ef2e583302bfbb6eacab5">ER_NET_PACKET_TOO_LARGE</a> ?</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                    <a class="code" href="../../d8/d50/errmsg_8h.html#a5d2905cb9a1e63ad8a95b707c43a5a7c">CR_NET_PACKET_TOO_LARGE</a>: <a class="code" href="../../d8/d50/errmsg_8h.html#a057dc122082ea5b47db99487107a48b6">CR_SERVER_LOST</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../d6/df0/mysql__com_8h.html#a08253bf6eaa0178369f3ee1055b914a0">packet_error</a>);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  }</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <span class="keywordflow">if</span> (net-&gt;<a class="code" href="../../de/d2d/structst__net.html#af65adc7b04ff56e008c6f8ca89cc12c2">read_pos</a>[0] == 255)</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  {</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keywordflow">if</span> (len &gt; 3)</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    {</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;      <span class="keywordtype">char</span> *<a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>=(<span class="keywordtype">char</span>*) net-&gt;<a class="code" href="../../de/d2d/structst__net.html#af65adc7b04ff56e008c6f8ca89cc12c2">read_pos</a>+1;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      net-&gt;<a class="code" href="../../de/d2d/structst__net.html#ad32d83e52fbb9bde714a4e91ddd4cca7">last_errno</a>=<a class="code" href="../../d9/df6/my__global_8h.html#aeb775a72848a1a71494c627e392fa777">uint2korr</a>(<a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>+=2;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      len-=2;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d2a/sql__common_8h.html#a0c71b6fd3ddc3cba90d18e82f3ad86ca">protocol_41</a>(mysql) &amp;&amp; <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>[0] == <span class="charliteral">&#39;#&#39;</span>)</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      {</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#accb13dc1bbc754b77a9ecd9c3e832595">strmake</a>(net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a0f689854fdd40edbf79cc7e248ecd02f">sqlstate</a>, <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>+1, <a class="code" href="../../d6/df0/mysql__com_8h.html#a8e152edf1a0bae8aec7f5d59cebfbea9">SQLSTATE_LENGTH</a>);</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>+= <a class="code" href="../../d6/df0/mysql__com_8h.html#a8e152edf1a0bae8aec7f5d59cebfbea9">SQLSTATE_LENGTH</a>+1;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      }</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      {</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="comment">          The SQL state hasn&#39;t been received -- it should be reset to HY000</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="comment">          (unknown error sql state).</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160; </div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        <a class="code" href="../../d6/dda/m__string_8h.html#a9dbe4cdad9c2c12aaa30e04b073884e6">strmov</a>(net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a0f689854fdd40edbf79cc7e248ecd02f">sqlstate</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      }</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160; </div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      (void) <a class="code" href="../../d6/dda/m__string_8h.html#accb13dc1bbc754b77a9ecd9c3e832595">strmake</a>(net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a076ac7884d3874905c0c95b6518228fc">last_error</a>,(<span class="keywordtype">char</span>*) <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>,</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;             <a class="code" href="../../d9/df6/my__global_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>((<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>) len,(<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>) <span class="keyword">sizeof</span>(net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a076ac7884d3874905c0c95b6518228fc">last_error</a>)-1));</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    }</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a4894e9c9e390f10ecfa47c12e35b300f">CR_UNKNOWN_ERROR</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;<span class="comment">      Cover a protocol design error: error packet does not</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="comment">      contain the server status. Therefore, the client has no way</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="comment">      to find out whether there are more result sets of</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="comment">      a multiple-result-set statement pending. Luckily, in 5.0 an</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="comment">      error always aborts execution of a statement, wherever it is</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;<span class="comment">      a multi-statement or a stored procedure, so it should be</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;<span class="comment">      safe to unconditionally turn off the flag here.</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab875d849ff6f754a85986fe538408667">server_status</a>&amp;= ~<a class="code" href="../../d6/df0/mysql__com_8h.html#ad1c5060b7e9bead6739fa36f4f09acc3">SERVER_MORE_RESULTS_EXISTS</a>;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160; </div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;error&quot;</span>,(<span class="stringliteral">&quot;Got error: %d/%s (%s)&quot;</span>,</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                        net-&gt;<a class="code" href="../../de/d2d/structst__net.html#ad32d83e52fbb9bde714a4e91ddd4cca7">last_errno</a>,</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                        net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a0f689854fdd40edbf79cc7e248ecd02f">sqlstate</a>,</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                        net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a076ac7884d3874905c0c95b6518228fc">last_error</a>));</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <span class="keywordflow">return</span>(<a class="code" href="../../d6/df0/mysql__com_8h.html#a08253bf6eaa0178369f3ee1055b914a0">packet_error</a>);</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  }</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  <span class="keywordflow">return</span> len;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;}</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160; </div>
<div class="line"><a name="l00798"></a><span class="lineno"><a class="line" href="../../d6/d2a/sql__common_8h.html#aa2517e02b9c61e8e3e96a7c0c784218f">  798</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dd/d93/client_8c.html#aa2517e02b9c61e8e3e96a7c0c784218f">free_rows</a>(<a class="code" href="../../df/dab/structst__mysql__data.html">MYSQL_DATA</a> *cur)</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;{</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <span class="keywordflow">if</span> (cur)</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  {</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#a0f42799530c5143f1b79f352f2ebef27">free_root</a>(&amp;cur-&gt;<a class="code" href="../../df/dab/structst__mysql__data.html#a177d9effffa87659af590d973ab8d955">alloc</a>,<a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(0));</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(cur);</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  }</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;}</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160; </div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<a class="code" href="../../d9/df6/my__global_8h.html#a74cd599039dcf29c6e6d342cf4efd0a8">my_bool</a></div>
<div class="line"><a name="l00808"></a><span class="lineno"><a class="line" href="../../d6/d2a/sql__common_8h.html#af1f480dc227b8efa39da902dc5ff1b50">  808</a></span>&#160;<a class="code" href="../../dd/d93/client_8c.html#af6c31e405a4fbf7b849f6074efd6af7d">cli_advanced_command</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql, <span class="keyword">enum</span> <a class="code" href="../../d6/df0/mysql__com_8h.html#ae2ff1badf13d2b8099af8b47831281e1">enum_server_command</a> command,</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;             <span class="keyword">const</span> <a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *header, <a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> header_length,</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;             <span class="keyword">const</span> <a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *<a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a2c8e80c1b1c8b7747e99b8e9a24a0429">arg</a>, <a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> arg_length, <a class="code" href="../../d9/df6/my__global_8h.html#a74cd599039dcf29c6e6d342cf4efd0a8">my_bool</a> skip_check,</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                     <a class="code" href="../../d8/d72/structst__mysql__stmt.html">MYSQL_STMT</a> *stmt)</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;{</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <a class="code" href="../../de/d2d/structst__net.html">NET</a> *net= &amp;mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#a74cd599039dcf29c6e6d342cf4efd0a8">my_bool</a> <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>= 1;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#a74cd599039dcf29c6e6d342cf4efd0a8">my_bool</a> stmt_skip= stmt ? stmt-&gt;<a class="code" href="../../d8/d72/structst__mysql__stmt.html#a30dfb09d512d7b9397f8bea13bfc319b">state</a> != <a class="code" href="../../de/d53/mysql_8h.html#a3491e6b32b8b2a22404cc3c009343b63a819cd41f5a6872a65530714a56dffc98">MYSQL_STMT_INIT_DONE</a> : <a class="code" href="../../d8/dec/mpq-internal_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;cli_advanced_command&quot;</span>);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160; </div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a> == 0)</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  {                     <span class="comment">/* Do reconnect if possible */</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d93/client_8c.html#abdac97fb2a90f16c130964219ad46b5f">mysql_reconnect</a>(mysql) || stmt_skip)</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(1);</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  }</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#abd3b5b4aa083403f1025f688731b196e">status</a> != <a class="code" href="../../de/d53/mysql_8h.html#a8c0cf7afc762670cf296e4a0067cae5da5b9a77ab649e8ee6da459016f7daa06c">MYSQL_STATUS_READY</a> ||</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;      mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab875d849ff6f754a85986fe538408667">server_status</a> &amp; <a class="code" href="../../d6/df0/mysql__com_8h.html#ad1c5060b7e9bead6739fa36f4f09acc3">SERVER_MORE_RESULTS_EXISTS</a>)</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  {</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;error&quot;</span>,(<span class="stringliteral">&quot;state: %d&quot;</span>, mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#abd3b5b4aa083403f1025f688731b196e">status</a>));</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a94c9c80cbafa6b48f5d7d5e2ef4de22e">CR_COMMANDS_OUT_OF_SYNC</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(1);</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  }</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160; </div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#a7f5bfc9aeb97ede65bdac2359e5c6325">net_clear_error</a>(net);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#acd1bb786ff93e6a27ec5028864945a5a">info</a>=0;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#acf6930c0bcb39cc19665b1a4142ba559">affected_rows</a>= ~(<a class="code" href="../../d9/df6/my__global_8h.html#ae05bd5d3e5a75578e2f14cfeb43f07aa">my_ulonglong</a>) 0;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;<span class="comment">    We don&#39;t want to clear the protocol buffer on COM_QUIT, because if</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;<span class="comment">    the previous command was a shutdown command, we may have the</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<span class="comment">    response for the COM_QUIT already in the communication buffer</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  <a class="code" href="../../d6/df0/mysql__com_8h.html#abd602000264b4930066da5007c8195fb">net_clear</a>(&amp;mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>, (command != <a class="code" href="../../d6/df0/mysql__com_8h.html#ae2ff1badf13d2b8099af8b47831281e1a1bbc2d425b64d5a0f32f17bbf201fbb2">COM_QUIT</a>));</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160; </div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/df0/mysql__com_8h.html#a33f636f6fc407d0cefcab11fc24851f6">net_write_command</a>(net,(<a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>) command, header, header_length,</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;            <a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a2c8e80c1b1c8b7747e99b8e9a24a0429">arg</a>, arg_length))</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  {</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;error&quot;</span>,(<span class="stringliteral">&quot;Can&#39;t send command to server. Error: %d&quot;</span>,</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;            <a class="code" href="../../d9/df6/my__global_8h.html#a9e43281aa85682be01e2d77a3ee162d8">socket_errno</a>));</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="keywordflow">if</span> (net-&gt;<a class="code" href="../../de/d2d/structst__net.html#ad32d83e52fbb9bde714a4e91ddd4cca7">last_errno</a> == <a class="code" href="../../d1/d40/mysqld__error_8h.html#a36242e3abf5ef2e583302bfbb6eacab5">ER_NET_PACKET_TOO_LARGE</a>)</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    {</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a5d2905cb9a1e63ad8a95b707c43a5a7c">CR_NET_PACKET_TOO_LARGE</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;      <span class="keywordflow">goto</span> end;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    }</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#a189d88bfca75952cf7c3e5c1ffa59cc0">end_server</a>(mysql);</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d93/client_8c.html#abdac97fb2a90f16c130964219ad46b5f">mysql_reconnect</a>(mysql) || stmt_skip)</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      <span class="keywordflow">goto</span> end;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/df0/mysql__com_8h.html#a33f636f6fc407d0cefcab11fc24851f6">net_write_command</a>(net,(<a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>) command, header, header_length,</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;              <a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a2c8e80c1b1c8b7747e99b8e9a24a0429">arg</a>, arg_length))</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    {</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a29c74cfa766ed8c2e06718a52b0b60ee">CR_SERVER_GONE_ERROR</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;      <span class="keywordflow">goto</span> end;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    }</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  }</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>=0;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  <span class="keywordflow">if</span> (!skip_check)</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>= ((mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#afa6ee000a88fe95750c9f1acd9711023">packet_length</a>=<a class="code" href="../../dd/d93/client_8c.html#a3196ee8555d77cf23d15d3e0c096740c">cli_safe_read</a>(mysql)) == <a class="code" href="../../d6/df0/mysql__com_8h.html#a08253bf6eaa0178369f3ee1055b914a0">packet_error</a> ?</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;         1 : 0);</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;end:</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;exit&quot;</span>,(<span class="stringliteral">&quot;result: %d&quot;</span>, <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>));</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;}</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160; </div>
<div class="line"><a name="l00870"></a><span class="lineno"><a class="line" href="../../d6/d2a/sql__common_8h.html#acd30898c417629e616d1ba9a17f91892">  870</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dd/d93/client_8c.html#acd30898c417629e616d1ba9a17f91892">free_old_query</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql)</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;{</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;free_old_query&quot;</span>);</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#aa31b4c644fcef355ce347977a47be9b2">fields</a>)</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#a0f42799530c5143f1b79f352f2ebef27">free_root</a>(&amp;mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a170585335f5edffeaae3f5229f6c1f6b">field_alloc</a>,<a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(0));</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a33a73f0921a74091ef65cecb3c383d9d">init_alloc_root</a>(&amp;mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a170585335f5edffeaae3f5229f6c1f6b">field_alloc</a>,8192,0); <span class="comment">/* Assume rowlength &lt; 8192 */</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#aa31b4c644fcef355ce347977a47be9b2">fields</a>= 0;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a7bedc1452ea1a2b76634e92196a02991">field_count</a>= 0;            <span class="comment">/* For API */</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a397568fcafb4431f45aaddce083d680e">warning_count</a>= 0;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#acd1bb786ff93e6a27ec5028864945a5a">info</a>= 0;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a2d990f1c0bd095fcbac9c6596274be55">DBUG_VOID_RETURN</a>;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;}</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160; </div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160; </div>
<div class="line"><a name="l00893"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#af75799330238561ab6a7242913827d81">  893</a></span>&#160;<a class="code" href="../../d9/df6/my__global_8h.html#a74cd599039dcf29c6e6d342cf4efd0a8">my_bool</a> <a class="code" href="../../dd/d93/client_8c.html#af75799330238561ab6a7242913827d81">flush_one_result</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql)</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;{</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> packet_length;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160; </div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  <a class="code" href="../../d0/d74/my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#abd3b5b4aa083403f1025f688731b196e">status</a> != <a class="code" href="../../de/d53/mysql_8h.html#a8c0cf7afc762670cf296e4a0067cae5da5b9a77ab649e8ee6da459016f7daa06c">MYSQL_STATUS_READY</a>);</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160; </div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  <span class="keywordflow">do</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  {</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    packet_length= <a class="code" href="../../dd/d93/client_8c.html#a3196ee8555d77cf23d15d3e0c096740c">cli_safe_read</a>(mysql);</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="comment">      There is an error reading from the connection,</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="comment">      or (sic!) there were no error and no</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;<span class="comment">      data in the stream, i.e. no more data from the server.</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;<span class="comment">      Since we know our position in the stream (somewhere in</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="comment">      the middle of a result set), this latter case is an error too</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="comment">      -- each result set must end with a EOF packet.</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="comment">      cli_safe_read() has set an error for us, just return.</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="keywordflow">if</span> (packet_length == <a class="code" href="../../d6/df0/mysql__com_8h.html#a08253bf6eaa0178369f3ee1055b914a0">packet_error</a>)</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d8/dec/mpq-internal_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  }</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <span class="keywordflow">while</span> (packet_length &gt; 8 || mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#af65adc7b04ff56e008c6f8ca89cc12c2">read_pos</a>[0] != 254);</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160; </div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  <span class="comment">/* Analyze EOF packet of the result set. */</span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160; </div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d2a/sql__common_8h.html#a0c71b6fd3ddc3cba90d18e82f3ad86ca">protocol_41</a>(mysql))</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  {</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>= (<span class="keywordtype">char</span>*) mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#af65adc7b04ff56e008c6f8ca89cc12c2">read_pos</a> + 1;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a397568fcafb4431f45aaddce083d680e">warning_count</a>=<a class="code" href="../../d9/df6/my__global_8h.html#aeb775a72848a1a71494c627e392fa777">uint2korr</a>(<a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>);</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>+=2;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab875d849ff6f754a85986fe538408667">server_status</a>=<a class="code" href="../../d9/df6/my__global_8h.html#aeb775a72848a1a71494c627e392fa777">uint2korr</a>(<a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>);</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>+=2;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  }</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d8/dec/mpq-internal_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;}</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160; </div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160; </div>
<div class="line"><a name="l00938"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a6da99d96559e84fe30258778274bc1b1">  938</a></span>&#160;<a class="code" href="../../d9/df6/my__global_8h.html#a74cd599039dcf29c6e6d342cf4efd0a8">my_bool</a> <a class="code" href="../../dd/d93/client_8c.html#a6da99d96559e84fe30258778274bc1b1">opt_flush_ok_packet</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql, <a class="code" href="../../d9/df6/my__global_8h.html#a74cd599039dcf29c6e6d342cf4efd0a8">my_bool</a> *is_ok_packet)</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;{</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> packet_length= <a class="code" href="../../dd/d93/client_8c.html#a3196ee8555d77cf23d15d3e0c096740c">cli_safe_read</a>(mysql);</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160; </div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <span class="keywordflow">if</span> (packet_length == <a class="code" href="../../d6/df0/mysql__com_8h.html#a08253bf6eaa0178369f3ee1055b914a0">packet_error</a>)</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/dec/mpq-internal_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160; </div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <span class="comment">/* cli_safe_read always reads a non-empty packet. */</span></div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <a class="code" href="../../d0/d74/my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(packet_length);</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160; </div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  *is_ok_packet= mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#af65adc7b04ff56e008c6f8ca89cc12c2">read_pos</a>[0] == 0;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <span class="keywordflow">if</span> (*is_ok_packet)</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  {</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *<a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>= mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#af65adc7b04ff56e008c6f8ca89cc12c2">read_pos</a> + 1;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160; </div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <a class="code" href="../../d1/d7d/pack_8c.html#a338d46c1ef40cd9482cf212c4be1ed6a">net_field_length_ll</a>(&amp;<a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>); <span class="comment">/* affected rows */</span></div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <a class="code" href="../../d1/d7d/pack_8c.html#a338d46c1ef40cd9482cf212c4be1ed6a">net_field_length_ll</a>(&amp;<a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>); <span class="comment">/* insert id */</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160; </div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab875d849ff6f754a85986fe538408667">server_status</a>=<a class="code" href="../../d9/df6/my__global_8h.html#aeb775a72848a1a71494c627e392fa777">uint2korr</a>(<a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>);</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>+=2;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160; </div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d2a/sql__common_8h.html#a0c71b6fd3ddc3cba90d18e82f3ad86ca">protocol_41</a>(mysql))</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    {</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;      mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a397568fcafb4431f45aaddce083d680e">warning_count</a>=<a class="code" href="../../d9/df6/my__global_8h.html#aeb775a72848a1a71494c627e392fa777">uint2korr</a>(<a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>);</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;      <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>+=2;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    }</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  }</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d8/dec/mpq-internal_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;}</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160; </div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160; </div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;<span class="comment">  Flush result set sent from server</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160; </div>
<div class="line"><a name="l00973"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a545b912b7a3382e8e54bbac89e39240e">  973</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/d93/client_8c.html#a545b912b7a3382e8e54bbac89e39240e">cli_flush_use_result</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql, <a class="code" href="../../d9/df6/my__global_8h.html#a74cd599039dcf29c6e6d342cf4efd0a8">my_bool</a> flush_all_results)</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;{</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  <span class="comment">/* Clear the current execution status */</span></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;cli_flush_use_result&quot;</span>);</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;warning&quot;</span>,(<span class="stringliteral">&quot;Not all packets read, clearing them&quot;</span>));</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160; </div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d93/client_8c.html#af75799330238561ab6a7242913827d81">flush_one_result</a>(mysql))</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a2d990f1c0bd095fcbac9c6596274be55">DBUG_VOID_RETURN</a>;                           <span class="comment">/* An error occurred */</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160; </div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  <span class="keywordflow">if</span> (! flush_all_results)</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a2d990f1c0bd095fcbac9c6596274be55">DBUG_VOID_RETURN</a>;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160; </div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <span class="keywordflow">while</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab875d849ff6f754a85986fe538408667">server_status</a> &amp; <a class="code" href="../../d6/df0/mysql__com_8h.html#ad1c5060b7e9bead6739fa36f4f09acc3">SERVER_MORE_RESULTS_EXISTS</a>)</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  {</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <a class="code" href="../../d9/df6/my__global_8h.html#a74cd599039dcf29c6e6d342cf4efd0a8">my_bool</a> is_ok_packet;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d93/client_8c.html#a6da99d96559e84fe30258778274bc1b1">opt_flush_ok_packet</a>(mysql, &amp;is_ok_packet))</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#a2d990f1c0bd095fcbac9c6596274be55">DBUG_VOID_RETURN</a>;                         <span class="comment">/* An error occurred. */</span></div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    <span class="keywordflow">if</span> (is_ok_packet)</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    {</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;      <span class="comment">/*</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;<span class="comment">        Indeed what we got from network was an OK packet, and we</span></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;<span class="comment">        know that OK is the last one in a multi-result-set, so</span></div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;<span class="comment">        just return.</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<span class="comment">      */</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#a2d990f1c0bd095fcbac9c6596274be55">DBUG_VOID_RETURN</a>;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    }</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;<span class="comment">      It&#39;s a result set, not an OK packet. A result set contains</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;<span class="comment">      of two result set subsequences: field metadata, terminated</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;<span class="comment">      with EOF packet, and result set data, again terminated with</span></div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;<span class="comment">      EOF packet. Read and flush them.</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d93/client_8c.html#af75799330238561ab6a7242913827d81">flush_one_result</a>(mysql) || <a class="code" href="../../dd/d93/client_8c.html#af75799330238561ab6a7242913827d81">flush_one_result</a>(mysql))</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#a2d990f1c0bd095fcbac9c6596274be55">DBUG_VOID_RETURN</a>;                         <span class="comment">/* An error occurred. */</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;  }</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160; </div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a2d990f1c0bd095fcbac9c6596274be55">DBUG_VOID_RETURN</a>;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;}</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160; </div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160; </div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;<span class="preprocessor">#ifdef __WIN__</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;<span class="keyword">static</span> <a class="code" href="../../d9/df6/my__global_8h.html#a74cd599039dcf29c6e6d342cf4efd0a8">my_bool</a> is_NT(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;{</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  <span class="keywordtype">char</span> *os=getenv(<span class="stringliteral">&quot;OS&quot;</span>);</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <span class="keywordflow">return</span> (os &amp;&amp; !strcmp(os, <span class="stringliteral">&quot;Windows_NT&quot;</span>)) ? 1 : 0;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;}</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160; </div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160; </div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;<span class="preprocessor">#ifdef CHECK_LICENSE</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> check_license(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql)</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;{</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  <a class="code" href="../../de/d53/mysql_8h.html#afae8ad264fb6a4bd740df59f19b9da71">MYSQL_ROW</a> row;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  <a class="code" href="../../dc/de8/structst__mysql__res.html">MYSQL_RES</a> *res;</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <a class="code" href="../../de/d2d/structst__net.html">NET</a> *net= &amp;mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> query[]= <span class="stringliteral">&quot;SELECT @@license&quot;</span>;</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> required_license[]= <a class="code" href="../../d9/df6/my__global_8h.html#a77d0cbdfc63868118cb3f9ed89fbee18">STRINGIFY_ARG</a>(LICENSE);</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160; </div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d93/client_8c.html#a9120bc5859e0f5602aef4f4470665888">mysql_real_query</a>(mysql, query, <span class="keyword">sizeof</span>(query)-1))</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  {</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keywordflow">if</span> (net-&gt;<a class="code" href="../../de/d2d/structst__net.html#ad32d83e52fbb9bde714a4e91ddd4cca7">last_errno</a> == <a class="code" href="../../d1/d40/mysqld__error_8h.html#ab744e329b3bad94858299951e7ba3f86">ER_UNKNOWN_SYSTEM_VARIABLE</a>)</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    {</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#a38da6df00d5415a769e8a69867158b0d">set_mysql_extended_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a2863b7b46205e28c468e5f4c43292219">CR_WRONG_LICENSE</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>,</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;                               <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(<a class="code" href="../../d8/d50/errmsg_8h.html#a2863b7b46205e28c468e5f4c43292219">CR_WRONG_LICENSE</a>), required_license);</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    }</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  }</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  <span class="keywordflow">if</span> (!(res= <a class="code" href="../../de/d53/mysql_8h.html#a67951903960ca1cfab10c0f3482fc18a">mysql_use_result</a>(mysql)))</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  row= <a class="code" href="../../dd/d93/client_8c.html#a7473edb62f823dddc697305fdf689952">mysql_fetch_row</a>(res);</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  <span class="comment">/* </span></div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;<span class="comment">    If no rows in result set, or column value is NULL (none of these</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="comment">    two is ever true for server variables now), or column value</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;<span class="comment">    mismatch, set wrong license error.</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;  <span class="keywordflow">if</span> (!net-&gt;<a class="code" href="../../de/d2d/structst__net.html#ad32d83e52fbb9bde714a4e91ddd4cca7">last_errno</a> &amp;&amp;</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;      (!row || !row[0] ||</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;       strncmp(row[0], required_license, <span class="keyword">sizeof</span>(required_license))))</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  {</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#a38da6df00d5415a769e8a69867158b0d">set_mysql_extended_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a2863b7b46205e28c468e5f4c43292219">CR_WRONG_LICENSE</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>,</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                             <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(<a class="code" href="../../d8/d50/errmsg_8h.html#a2863b7b46205e28c468e5f4c43292219">CR_WRONG_LICENSE</a>), required_license);</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  }</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#ada9e5d549970fb10d2fc862739717129">mysql_free_result</a>(res);</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  <span class="keywordflow">return</span> net-&gt;<a class="code" href="../../de/d2d/structst__net.html#ad32d83e52fbb9bde714a4e91ddd4cca7">last_errno</a>;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;}</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CHECK_LICENSE */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160; </div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160; </div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;<span class="comment">/**************************************************************************</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;<span class="comment">  Shut down connection</span></div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="comment">**************************************************************************/</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"><a class="line" href="../../d6/d2a/sql__common_8h.html#a189d88bfca75952cf7c3e5c1ffa59cc0"> 1076</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dd/d93/client_8c.html#a189d88bfca75952cf7c3e5c1ffa59cc0">end_server</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql)</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;{</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  <span class="keywordtype">int</span> save_errno= <a class="code" href="../../db/da9/my__sys_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;end_server&quot;</span>);</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a> != 0)</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;  {</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>,(<span class="stringliteral">&quot;Net: %s&quot;</span>, <a class="code" href="../../d2/dd9/violite_8h.html#ab6d8347e106e64fdfcffdf0447e7e4d1">vio_description</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a>)));</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;<span class="preprocessor">#ifdef MYSQL_SERVER</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    slave_io_thread_detach_vio();</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <a class="code" href="../../d2/dd9/violite_8h.html#aadcc2a94246ddb59f11f253a90327ef5">vio_delete</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a>);</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a>= 0;          <span class="comment">/* Marker */</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#a0fb52d22e3f1ca79728d71742788f596">mysql_prune_stmt_list</a>(mysql);</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  }</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  <a class="code" href="../../d6/df0/mysql__com_8h.html#ab71978513c49175a28c7ef3334a82250">net_end</a>(&amp;mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>);</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#acd30898c417629e616d1ba9a17f91892">free_old_query</a>(mysql);</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>= save_errno;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a2d990f1c0bd095fcbac9c6596274be55">DBUG_VOID_RETURN</a>;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;}</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160; </div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160; </div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/df6/my__global_8h.html#a446cf449a6234c9b177309d5ba0852c0">STDCALL</a></div>
<div class="line"><a name="l01098"></a><span class="lineno"><a class="line" href="../../de/d53/mysql_8h.html#ada9e5d549970fb10d2fc862739717129"> 1098</a></span>&#160;<a class="code" href="../../dd/d93/client_8c.html#ada9e5d549970fb10d2fc862739717129">mysql_free_result</a>(<a class="code" href="../../dc/de8/structst__mysql__res.html">MYSQL_RES</a> *<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>)</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;{</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;mysql_free_result&quot;</span>);</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;enter&quot;</span>,(<span class="stringliteral">&quot;mysql_res: 0x%lx&quot;</span>, (<span class="keywordtype">long</span>) <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>));</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>)</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  {</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql= <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;handle;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <span class="keywordflow">if</span> (mysql)</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    {</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;      <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a7245af2550c3858f3e2e22c55538f7e1">unbuffered_fetch_owner</a> == &amp;<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;unbuffered_fetch_cancelled)</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;        mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a7245af2550c3858f3e2e22c55538f7e1">unbuffered_fetch_owner</a>= 0;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;      <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#abd3b5b4aa083403f1025f688731b196e">status</a> == <a class="code" href="../../de/d53/mysql_8h.html#a8c0cf7afc762670cf296e4a0067cae5da17782fa4f4a6c15c5f114c04ea726d7d">MYSQL_STATUS_USE_RESULT</a>)</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;      {</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        (*mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a04129bc0cbeda076db8ba274ed93328d">methods</a>-&gt;<a class="code" href="../../d2/d94/structst__mysql__methods.html#abdb4362b2f31f79bd62d6a85d4cbba8c">flush_use_result</a>)(mysql, <a class="code" href="../../d8/dec/mpq-internal_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;        mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#abd3b5b4aa083403f1025f688731b196e">status</a>=<a class="code" href="../../de/d53/mysql_8h.html#a8c0cf7afc762670cf296e4a0067cae5da5b9a77ab649e8ee6da459016f7daa06c">MYSQL_STATUS_READY</a>;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;        <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a7245af2550c3858f3e2e22c55538f7e1">unbuffered_fetch_owner</a>)</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;          *mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a7245af2550c3858f3e2e22c55538f7e1">unbuffered_fetch_owner</a>= <a class="code" href="../../d8/dec/mpq-internal_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;      }</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    }</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#aa2517e02b9c61e8e3e96a7c0c784218f">free_rows</a>(<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;data);</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;fields)</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;      <a class="code" href="../../db/da9/my__sys_8h.html#a0f42799530c5143f1b79f352f2ebef27">free_root</a>(&amp;<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;field_alloc,<a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(0));</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;row);</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>);</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  }</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a2d990f1c0bd095fcbac9c6596274be55">DBUG_VOID_RETURN</a>;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;}</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160; </div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;<span class="comment">/****************************************************************************</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;<span class="comment">  Get options from my.cnf</span></div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;<span class="comment">****************************************************************************/</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160; </div>
<div class="line"><a name="l01130"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a147fe8672e5cd91a3a07b8f793611c2b"> 1130</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../dd/d93/client_8c.html#a147fe8672e5cd91a3a07b8f793611c2b">default_options</a>[]=</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;{</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  <span class="stringliteral">&quot;port&quot;</span>,<span class="stringliteral">&quot;socket&quot;</span>,<span class="stringliteral">&quot;compress&quot;</span>,<span class="stringliteral">&quot;password&quot;</span>,<span class="stringliteral">&quot;pipe&quot;</span>, <span class="stringliteral">&quot;timeout&quot;</span>, <span class="stringliteral">&quot;user&quot;</span>,</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;  <span class="stringliteral">&quot;init-command&quot;</span>, <span class="stringliteral">&quot;host&quot;</span>, <span class="stringliteral">&quot;database&quot;</span>, <span class="stringliteral">&quot;debug&quot;</span>, <span class="stringliteral">&quot;return-found-rows&quot;</span>,</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;  <span class="stringliteral">&quot;ssl-key&quot;</span> ,<span class="stringliteral">&quot;ssl-cert&quot;</span> ,<span class="stringliteral">&quot;ssl-ca&quot;</span> ,<span class="stringliteral">&quot;ssl-capath&quot;</span>,</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  <span class="stringliteral">&quot;character-sets-dir&quot;</span>, <span class="stringliteral">&quot;default-character-set&quot;</span>, <span class="stringliteral">&quot;interactive-timeout&quot;</span>,</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  <span class="stringliteral">&quot;connect-timeout&quot;</span>, <span class="stringliteral">&quot;local-infile&quot;</span>, <span class="stringliteral">&quot;disable-local-infile&quot;</span>,</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  <span class="stringliteral">&quot;ssl-cipher&quot;</span>, <span class="stringliteral">&quot;max-allowed-packet&quot;</span>, <span class="stringliteral">&quot;protocol&quot;</span>, <span class="stringliteral">&quot;shared-memory-base-name&quot;</span>,</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  <span class="stringliteral">&quot;multi-results&quot;</span>, <span class="stringliteral">&quot;multi-statements&quot;</span>, <span class="stringliteral">&quot;multi-queries&quot;</span>, <span class="stringliteral">&quot;secure-auth&quot;</span>,</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  <span class="stringliteral">&quot;report-data-truncation&quot;</span>, <span class="stringliteral">&quot;plugin-dir&quot;</span>, <span class="stringliteral">&quot;default-auth&quot;</span>,</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#a01a1e214486d9454ca611f01cb1cfc39">NullS</a></div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;};</div>
<div class="line"><a name="l01142"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20"> 1142</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20">option_id</a> {</div>
<div class="line"><a name="l01143"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a569d4414173840c826ddbb07f1153487"> 1143</a></span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20afbdc13b7222ad2e9bbd295b69a1bcfca">OPT_port</a>=1, <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a4eb3c8cff14b215c36764118e9e7ad2f">OPT_socket</a>, <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a569d4414173840c826ddbb07f1153487">OPT_compress</a>, <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20aaea1a787b973e20d4b5c2b943dc8f1e5">OPT_password</a>, <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20aa7af9fe550553d7c51434e99cbb450a2">OPT_pipe</a>, <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a2b914eacb0cb6598551dd51d9bff9dd1">OPT_timeout</a>, <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a90ac1d206d7b1abeb48ed680a9e6a908">OPT_user</a>, </div>
<div class="line"><a name="l01144"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20ad8f98b0243918fe2b342429fa5d73c05"> 1144</a></span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20abe5ed8efd928db5700dd50f1631ef362">OPT_init_command</a>, <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a469d5a461df061f36fe4174d8458511a">OPT_host</a>, <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20ad8f98b0243918fe2b342429fa5d73c05">OPT_database</a>, <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20ac18af9391fcb3d0274d2cc54769a201d">OPT_debug</a>, <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20acded51e7cc3a9cf51c1e66ec95e186b7">OPT_return_found_rows</a>, </div>
<div class="line"><a name="l01145"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a52f46fd0de878d9e5e0b5cf4fd9e1493"> 1145</a></span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a755741426c05237b7f7601a04520c5e6">OPT_ssl_key</a>, <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a38ae0441024db7c42f265bfd524714f1">OPT_ssl_cert</a>, <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a52f46fd0de878d9e5e0b5cf4fd9e1493">OPT_ssl_ca</a>, <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20aa85f72db0baa385a0a10ef9a95df2cb9">OPT_ssl_capath</a>, </div>
<div class="line"><a name="l01146"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a94488e8fcdab2b669aec8d1da06fd3f2"> 1146</a></span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a94488e8fcdab2b669aec8d1da06fd3f2">OPT_character_sets_dir</a>, <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a6d3e3f7671d84f9a66346294eb253081">OPT_default_character_set</a>, <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20aba2460c7abbd6d2194498658699c77f7">OPT_interactive_timeout</a>, </div>
<div class="line"><a name="l01147"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20ac4ab041aefc87ba728cfe8f494f05340"> 1147</a></span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20ac4ab041aefc87ba728cfe8f494f05340">OPT_connect_timeout</a>, <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a67188b36d6585deb582b012b2c5ec1e4">OPT_local_infile</a>, <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a943b02074fae06a96f414f6c78df7961">OPT_disable_local_infile</a>, </div>
<div class="line"><a name="l01148"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a2b467cd9a7cb503e39646b45b2ca6369"> 1148</a></span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20ae40f5a598eec6c1b9367543b27cc0227">OPT_replication_probe</a>, <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a2b467cd9a7cb503e39646b45b2ca6369">OPT_enable_reads_from_master</a>, <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a1cc66f2d650318be442d5e321a6541c5">OPT_repl_parse_query</a>,</div>
<div class="line"><a name="l01149"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a967268415dd49e0bd60ea47625732d2a"> 1149</a></span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20ae62ffc589f2d903f3b21e68e8a09c7ee">OPT_ssl_cipher</a>, <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a967268415dd49e0bd60ea47625732d2a">OPT_max_allowed_packet</a>, <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20ae27633a959d0be04b392e9ddeab47ade">OPT_protocol</a>, <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a5a4e3da29d1962739f1ce7b82ad4cfc1">OPT_shared_memory_base_name</a>, </div>
<div class="line"><a name="l01150"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a2d54f162e04641dddba301c518e58333"> 1150</a></span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20ab18a63ca9bb334b82641b77e854e840b">OPT_multi_results</a>, <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a0d2a7e25f4e35a90faaeaa52836c426d">OPT_multi_statements</a>, <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a2d54f162e04641dddba301c518e58333">OPT_multi_queries</a>, <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a5d316010e3f3f15373546c91f57f621e">OPT_secure_auth</a>, </div>
<div class="line"><a name="l01151"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a919fb0406d07a5dc1335a873688e8049"> 1151</a></span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a7c5bfc2244f6a77c2e2d044d7b41d9f2">OPT_report_data_truncation</a>, <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a013fabab2799f259382a7b3cfe1ce61a">OPT_plugin_dir</a>, <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a919fb0406d07a5dc1335a873688e8049">OPT_default_auth</a>, </div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;};</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160; </div>
<div class="line"><a name="l01154"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a3b0e7b39c6da4eecf1793bbb390390c0"> 1154</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../da/da0/structst__typelib.html">TYPELIB</a> <a class="code" href="../../dd/d93/client_8c.html#a3b0e7b39c6da4eecf1793bbb390390c0">option_types</a>={<a class="code" href="../../d9/df6/my__global_8h.html#a16b6cf0b1e75b701a4a8d303cc4a5abd">array_elements</a>(<a class="code" href="../../dd/d93/client_8c.html#a147fe8672e5cd91a3a07b8f793611c2b">default_options</a>)-1,</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;                 <span class="stringliteral">&quot;options&quot;</span>,<a class="code" href="../../dd/d93/client_8c.html#a147fe8672e5cd91a3a07b8f793611c2b">default_options</a>, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>};</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160; </div>
<div class="line"><a name="l01157"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#aa657ebd42b3ecfdae1fec6bec43865e1"> 1157</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../dd/d93/client_8c.html#aa657ebd42b3ecfdae1fec6bec43865e1">sql_protocol_names_lib</a>[] =</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;{ <span class="stringliteral">&quot;TCP&quot;</span>, <span class="stringliteral">&quot;SOCKET&quot;</span>, <span class="stringliteral">&quot;PIPE&quot;</span>, <span class="stringliteral">&quot;MEMORY&quot;</span>, <a class="code" href="../../d9/df6/my__global_8h.html#a01a1e214486d9454ca611f01cb1cfc39">NullS</a> };</div>
<div class="line"><a name="l01159"></a><span class="lineno"><a class="line" href="../../d9/de1/typelib_8h.html#aae95b10469763a75fb4f2e56d04c5365"> 1159</a></span>&#160;<a class="code" href="../../da/da0/structst__typelib.html">TYPELIB</a> <a class="code" href="../../dd/d93/client_8c.html#aae95b10469763a75fb4f2e56d04c5365">sql_protocol_typelib</a> = {<a class="code" href="../../d9/df6/my__global_8h.html#a16b6cf0b1e75b701a4a8d303cc4a5abd">array_elements</a>(<a class="code" href="../../dd/d93/client_8c.html#aa657ebd42b3ecfdae1fec6bec43865e1">sql_protocol_names_lib</a>)-1,<span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;                <a class="code" href="../../dd/d93/client_8c.html#aa657ebd42b3ecfdae1fec6bec43865e1">sql_protocol_names_lib</a>, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>};</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160; </div>
<div class="line"><a name="l01162"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#adee7c16f9ea2cc2ce5ab8b5b90a52481"> 1162</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d93/client_8c.html#adee7c16f9ea2cc2ce5ab8b5b90a52481">add_init_command</a>(<span class="keyword">struct</span> <a class="code" href="../../d7/dc7/structst__mysql__options.html">st_mysql_options</a> *options, <span class="keyword">const</span> <span class="keywordtype">char</span> *cmd)</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;{</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  <span class="keywordtype">char</span> *tmp;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160; </div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  <span class="keywordflow">if</span> (!options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a6f9eb2e4acb59618e0843bb3c63f58f4">init_commands</a>)</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  {</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a6f9eb2e4acb59618e0843bb3c63f58f4">init_commands</a>= (<a class="code" href="../../da/dfc/structst__dynamic__array.html">DYNAMIC_ARRAY</a>*)<a class="code" href="../../db/da9/my__sys_8h.html#a8f7b30ff5d0e10610637aa30c3e0048b">my_malloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../da/dfc/structst__dynamic__array.html">DYNAMIC_ARRAY</a>),</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                              <a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a>));</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#a4f71eee830470ffe3afea85f23539538">init_dynamic_array</a>(options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a6f9eb2e4acb59618e0843bb3c63f58f4">init_commands</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>*),0,5);</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  }</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160; </div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  <span class="keywordflow">if</span> (!(tmp= <a class="code" href="../../db/da9/my__sys_8h.html#a4921f2b355a65b5054cb2bbd15ba22ab">my_strdup</a>(cmd,<a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a>))) ||</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;      <a class="code" href="../../db/da9/my__sys_8h.html#acb317235c7ccfe72689b037a4ab9a40b">insert_dynamic</a>(options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a6f9eb2e4acb59618e0843bb3c63f58f4">init_commands</a>, (<a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>*)&amp;tmp))</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  {</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(tmp);</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;  }</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160; </div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;}</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160; </div>
<div class="line"><a name="l01183"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#ac3397a87b97cb62f0089f7961a61d630"> 1183</a></span>&#160;<span class="preprocessor">#define EXTENSION_SET_STRING(OPTS, X, STR)                       \</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;<span class="preprocessor">    if ((OPTS)-&gt;extension)                                       \</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;<span class="preprocessor">      my_free((OPTS)-&gt;extension-&gt;X);     \</span></div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;<span class="preprocessor">    else                                                         \</span></div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;<span class="preprocessor">      (OPTS)-&gt;extension= (struct st_mysql_options_extention *)   \</span></div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;<span class="preprocessor">        my_malloc(sizeof(struct st_mysql_options_extention),     \</span></div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;<span class="preprocessor">                  MYF(MY_WME | MY_ZEROFILL));                    \</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;<span class="preprocessor">    (OPTS)-&gt;extension-&gt;X= my_strdup((STR), MYF(MY_WME));</span></div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160; </div>
<div class="line"><a name="l01192"></a><span class="lineno"><a class="line" href="../../d6/d2a/sql__common_8h.html#afe6608d49e1cd6ae1d9b5d0ba632fb98"> 1192</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dd/d93/client_8c.html#afe6608d49e1cd6ae1d9b5d0ba632fb98">mysql_read_default_options</a>(<span class="keyword">struct</span> <a class="code" href="../../d7/dc7/structst__mysql__options.html">st_mysql_options</a> *options,</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">char</span> *filename,<span class="keyword">const</span> <span class="keywordtype">char</span> *group)</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;{</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  <span class="keywordtype">int</span> argc;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;  <span class="keywordtype">char</span> *argv_buff[1],**argv;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *groups[3];</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;mysql_read_default_options&quot;</span>);</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;enter&quot;</span>,(<span class="stringliteral">&quot;file: %s  group: %s&quot;</span>,filename,group ? group :<span class="stringliteral">&quot;NULL&quot;</span>));</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160; </div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  argc=1; argv=argv_buff; argv_buff[0]= (<span class="keywordtype">char</span>*) <span class="stringliteral">&quot;client&quot;</span>;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  groups[0]= (<span class="keywordtype">char</span>*) <span class="stringliteral">&quot;client&quot;</span>; groups[1]= (<span class="keywordtype">char</span>*) group; groups[2]=0;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160; </div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#aa11d1f637e0f5b2092fd384dd592f91e">my_load_defaults</a>(filename, groups, &amp;argc, &amp;argv, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  <span class="keywordflow">if</span> (argc != 1)                <span class="comment">/* If some default option */</span></div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  {</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <span class="keywordtype">char</span> **option=argv;</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <span class="keywordflow">while</span> (*++option)</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    {</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;      <span class="keywordflow">if</span> (option[0] == <a class="code" href="../../db/da9/my__sys_8h.html#aab0fc8c3c77d52e14b3913399ee9beef">args_separator</a>)          <span class="comment">/* skip arguments separator */</span></div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;      <span class="comment">/* DBUG_PRINT(&quot;info&quot;,(&quot;option: %s&quot;,option[0])); */</span></div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;      <span class="keywordflow">if</span> (option[0][0] == <span class="charliteral">&#39;-&#39;</span> &amp;&amp; option[0][1] == <span class="charliteral">&#39;-&#39;</span>)</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;      {</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <span class="keywordtype">char</span> *end=<a class="code" href="../../d6/dda/m__string_8h.html#a9076a773976ea9ed3e6bc0e868878a70">strcend</a>(*option,<span class="charliteral">&#39;=&#39;</span>);</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <span class="keywordtype">char</span> *opt_arg=0;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <span class="keywordflow">if</span> (*end)</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    {</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      opt_arg=end+1;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      *end=0;               <span class="comment">/* Remove &#39;=&#39; */</span></div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    }</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <span class="comment">/* Change all &#39;_&#39; in variable name to &#39;-&#39; */</span></div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    <span class="keywordflow">for</span> (end= *option ; *(end= <a class="code" href="../../d6/dda/m__string_8h.html#a9076a773976ea9ed3e6bc0e868878a70">strcend</a>(end,<span class="charliteral">&#39;_&#39;</span>)) ; )</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;      *end= <span class="charliteral">&#39;-&#39;</span>;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="../../d9/de1/typelib_8h.html#ae1926af7ba7fd180a6ba06c52235486f">find_type</a>(*option+2,&amp;<a class="code" href="../../dd/d93/client_8c.html#a3b0e7b39c6da4eecf1793bbb390390c0">option_types</a>,2)) {</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20afbdc13b7222ad2e9bbd295b69a1bcfca">OPT_port</a>:</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      <span class="keywordflow">if</span> (opt_arg)</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a1403738b86df8bc7056a33b50bd8aff5">port</a>=atoi(opt_arg);</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a4eb3c8cff14b215c36764118e9e7ad2f">OPT_socket</a>:</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;      <span class="keywordflow">if</span> (opt_arg)</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;      {</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a6d4f1507ec3907eda109548da49ee850">unix_socket</a>);</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;        options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a6d4f1507ec3907eda109548da49ee850">unix_socket</a>=<a class="code" href="../../db/da9/my__sys_8h.html#a4921f2b355a65b5054cb2bbd15ba22ab">my_strdup</a>(opt_arg,<a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a>));</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;      }</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a569d4414173840c826ddbb07f1153487">OPT_compress</a>:</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;      options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#ab142434a4e128b82feeebbe6e2dd5e00">compress</a>=1;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a92c47dfe1c8de03a65b81863a88c9355">client_flag</a>|= <a class="code" href="../../d6/df0/mysql__com_8h.html#a69668fa642cd688ab5a3c24de87c0b9a">CLIENT_COMPRESS</a>;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20aaea1a787b973e20d4b5c2b943dc8f1e5">OPT_password</a>:</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;      <span class="keywordflow">if</span> (opt_arg)</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;      {</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;        <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a76f9c11ae054459cabfc89d30928b786">password</a>);</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;        options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a76f9c11ae054459cabfc89d30928b786">password</a>=<a class="code" href="../../db/da9/my__sys_8h.html#a4921f2b355a65b5054cb2bbd15ba22ab">my_strdup</a>(opt_arg,<a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a>));</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;      }</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20aa7af9fe550553d7c51434e99cbb450a2">OPT_pipe</a>:</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;          options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a85283d4471c23b3773ca0c4c01ffb1f7">protocol</a> = <a class="code" href="../../de/d53/mysql_8h.html#ac42d2279c8bd9026a231418fafd9a1a9a8bb817c9cfe1071e5dd37e1d78954efb">MYSQL_PROTOCOL_PIPE</a>;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20ac4ab041aefc87ba728cfe8f494f05340">OPT_connect_timeout</a>:</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a2b914eacb0cb6598551dd51d9bff9dd1">OPT_timeout</a>:</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;      <span class="keywordflow">if</span> (opt_arg)</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;        options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#aa8475fa207a033461041fbfd868fe3c6">connect_timeout</a>=atoi(opt_arg);</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a90ac1d206d7b1abeb48ed680a9e6a908">OPT_user</a>:</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;      <span class="keywordflow">if</span> (opt_arg)</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;      {</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;        <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a9889ada2bcc6e077b8ee984a9c7be6e1">user</a>);</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;        options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a9889ada2bcc6e077b8ee984a9c7be6e1">user</a>=<a class="code" href="../../db/da9/my__sys_8h.html#a4921f2b355a65b5054cb2bbd15ba22ab">my_strdup</a>(opt_arg,<a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a>));</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;      }</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20abe5ed8efd928db5700dd50f1631ef362">OPT_init_command</a>:</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#adee7c16f9ea2cc2ce5ab8b5b90a52481">add_init_command</a>(options,opt_arg);</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a469d5a461df061f36fe4174d8458511a">OPT_host</a>:</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;      <span class="keywordflow">if</span> (opt_arg)</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;      {</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;        <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a79fc433d16a9cd4b913a6490fc612bf3">host</a>);</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;        options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a79fc433d16a9cd4b913a6490fc612bf3">host</a>=<a class="code" href="../../db/da9/my__sys_8h.html#a4921f2b355a65b5054cb2bbd15ba22ab">my_strdup</a>(opt_arg,<a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a>));</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;      }</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20ad8f98b0243918fe2b342429fa5d73c05">OPT_database</a>:</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;      <span class="keywordflow">if</span> (opt_arg)</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;      {</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;        <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a82f5dcf8b83007fafa33a45583f87ce8">db</a>);</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;        options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a82f5dcf8b83007fafa33a45583f87ce8">db</a>=<a class="code" href="../../db/da9/my__sys_8h.html#a4921f2b355a65b5054cb2bbd15ba22ab">my_strdup</a>(opt_arg,<a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a>));</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;      }</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20ac18af9391fcb3d0274d2cc54769a201d">OPT_debug</a>:</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;<span class="preprocessor">#ifdef MYSQL_CLIENT</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;      <a class="code" href="../../de/d53/mysql_8h.html#ae0944b5ab1f99027cdfd12636f045e72">mysql_debug</a>(opt_arg ? opt_arg : <span class="stringliteral">&quot;d:t:o,/tmp/client.trace&quot;</span>);</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20acded51e7cc3a9cf51c1e66ec95e186b7">OPT_return_found_rows</a>:</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;      options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a92c47dfe1c8de03a65b81863a88c9355">client_flag</a>|=<a class="code" href="../../d6/df0/mysql__com_8h.html#a4d108689643f2dfdb9d7fee3e20341af">CLIENT_FOUND_ROWS</a>;</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;<span class="preprocessor">#if defined(HAVE_OPENSSL) &amp;&amp; !defined(EMBEDDED_LIBRARY)</span></div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a755741426c05237b7f7601a04520c5e6">OPT_ssl_key</a>:</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;      <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a43176d9b1d3e5e54ac0b2c263ec4441a">ssl_key</a>);</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;          options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a43176d9b1d3e5e54ac0b2c263ec4441a">ssl_key</a> = <a class="code" href="../../db/da9/my__sys_8h.html#a4921f2b355a65b5054cb2bbd15ba22ab">my_strdup</a>(opt_arg, <a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a>));</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a38ae0441024db7c42f265bfd524714f1">OPT_ssl_cert</a>:</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;      <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a4723de8759d3e167f5690fe2abfb98a9">ssl_cert</a>);</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;          options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a4723de8759d3e167f5690fe2abfb98a9">ssl_cert</a> = <a class="code" href="../../db/da9/my__sys_8h.html#a4921f2b355a65b5054cb2bbd15ba22ab">my_strdup</a>(opt_arg, <a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a>));</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a52f46fd0de878d9e5e0b5cf4fd9e1493">OPT_ssl_ca</a>:</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;      <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a418b114edbc344a140c90df9d1f2cd39">ssl_ca</a>);</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;          options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a418b114edbc344a140c90df9d1f2cd39">ssl_ca</a> = <a class="code" href="../../db/da9/my__sys_8h.html#a4921f2b355a65b5054cb2bbd15ba22ab">my_strdup</a>(opt_arg, <a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a>));</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20aa85f72db0baa385a0a10ef9a95df2cb9">OPT_ssl_capath</a>:</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;      <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a19477c3410299535e086c5fe482f06f4">ssl_capath</a>);</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;          options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a19477c3410299535e086c5fe482f06f4">ssl_capath</a> = <a class="code" href="../../db/da9/my__sys_8h.html#a4921f2b355a65b5054cb2bbd15ba22ab">my_strdup</a>(opt_arg, <a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a>));</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20ae62ffc589f2d903f3b21e68e8a09c7ee">OPT_ssl_cipher</a>:</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;          <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a79dd7a4b9bec6d8d6fb17027dcc49c9e">ssl_cipher</a>);</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;          options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a79dd7a4b9bec6d8d6fb17027dcc49c9e">ssl_cipher</a>= <a class="code" href="../../db/da9/my__sys_8h.html#a4921f2b355a65b5054cb2bbd15ba22ab">my_strdup</a>(opt_arg, <a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a>));</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a755741426c05237b7f7601a04520c5e6">OPT_ssl_key</a>:</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a38ae0441024db7c42f265bfd524714f1">OPT_ssl_cert</a>:</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a52f46fd0de878d9e5e0b5cf4fd9e1493">OPT_ssl_ca</a>:</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20aa85f72db0baa385a0a10ef9a95df2cb9">OPT_ssl_capath</a>:</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20ae62ffc589f2d903f3b21e68e8a09c7ee">OPT_ssl_cipher</a>:</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* HAVE_OPENSSL &amp;&amp; !EMBEDDED_LIBRARY */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a94488e8fcdab2b669aec8d1da06fd3f2">OPT_character_sets_dir</a>:</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;      <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a8e4ad7ebde4a8956788247faf4da20fb">charset_dir</a>);</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;          options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a8e4ad7ebde4a8956788247faf4da20fb">charset_dir</a> = <a class="code" href="../../db/da9/my__sys_8h.html#a4921f2b355a65b5054cb2bbd15ba22ab">my_strdup</a>(opt_arg, <a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a>));</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a6d3e3f7671d84f9a66346294eb253081">OPT_default_character_set</a>:</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;      <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a965be4c3b508a911b575fc0aa8fc3345">charset_name</a>);</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;          options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a965be4c3b508a911b575fc0aa8fc3345">charset_name</a> = <a class="code" href="../../db/da9/my__sys_8h.html#a4921f2b355a65b5054cb2bbd15ba22ab">my_strdup</a>(opt_arg, <a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a>));</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20aba2460c7abbd6d2194498658699c77f7">OPT_interactive_timeout</a>:</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;      options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a92c47dfe1c8de03a65b81863a88c9355">client_flag</a>|= <a class="code" href="../../d6/df0/mysql__com_8h.html#afffcba61df9880b6d17b694f1aaf912f">CLIENT_INTERACTIVE</a>;</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a67188b36d6585deb582b012b2c5ec1e4">OPT_local_infile</a>:</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;      <span class="keywordflow">if</span> (!opt_arg || atoi(opt_arg) != 0)</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;        options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a92c47dfe1c8de03a65b81863a88c9355">client_flag</a>|= <a class="code" href="../../d6/df0/mysql__com_8h.html#a06acc4847890b7ef14a8e7c0782a679c">CLIENT_LOCAL_FILES</a>;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a92c47dfe1c8de03a65b81863a88c9355">client_flag</a>&amp;= ~<a class="code" href="../../d6/df0/mysql__com_8h.html#a06acc4847890b7ef14a8e7c0782a679c">CLIENT_LOCAL_FILES</a>;</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a943b02074fae06a96f414f6c78df7961">OPT_disable_local_infile</a>:</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;      options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a92c47dfe1c8de03a65b81863a88c9355">client_flag</a>&amp;= ~<a class="code" href="../../d6/df0/mysql__com_8h.html#a06acc4847890b7ef14a8e7c0782a679c">CLIENT_LOCAL_FILES</a>;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a967268415dd49e0bd60ea47625732d2a">OPT_max_allowed_packet</a>:</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;          <span class="keywordflow">if</span> (opt_arg)</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;        options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a70de1a0467629fc3ccb1b0c12431fb41">max_allowed_packet</a>= atoi(opt_arg);</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20ae27633a959d0be04b392e9ddeab47ade">OPT_protocol</a>:</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;          <span class="keywordflow">if</span> ((options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a85283d4471c23b3773ca0c4c01ffb1f7">protocol</a>= <a class="code" href="../../d9/de1/typelib_8h.html#ae1926af7ba7fd180a6ba06c52235486f">find_type</a>(opt_arg,</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;                        &amp;<a class="code" href="../../dd/d93/client_8c.html#aae95b10469763a75fb4f2e56d04c5365">sql_protocol_typelib</a>,0)) &lt;= 0)</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;          {</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;            <a class="code" href="../../d3/d6b/printf_8h.html#a9f315126362cae9675de1642105e631e">fprintf</a>(stderr, <span class="stringliteral">&quot;Unknown option to protocol: %s\n&quot;</span>, opt_arg);</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;            exit(1);</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;          }</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a5a4e3da29d1962739f1ce7b82ad4cfc1">OPT_shared_memory_base_name</a>:</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;<span class="preprocessor">#ifdef HAVE_SMEM</span></div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;          <span class="keywordflow">if</span> (options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#abd61d3820e3904dd30ad1c4c44887d10">shared_memory_base_name</a> != def_shared_memory_base_name)</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;            <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#abd61d3820e3904dd30ad1c4c44887d10">shared_memory_base_name</a>);</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;          options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#abd61d3820e3904dd30ad1c4c44887d10">shared_memory_base_name</a>=<a class="code" href="../../db/da9/my__sys_8h.html#a4921f2b355a65b5054cb2bbd15ba22ab">my_strdup</a>(opt_arg,<a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a>));</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20ab18a63ca9bb334b82641b77e854e840b">OPT_multi_results</a>:</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;      options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a92c47dfe1c8de03a65b81863a88c9355">client_flag</a>|= <a class="code" href="../../d6/df0/mysql__com_8h.html#a2ffea3e8918e7c9a3a2323030a2bfe0a">CLIENT_MULTI_RESULTS</a>;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a0d2a7e25f4e35a90faaeaa52836c426d">OPT_multi_statements</a>:</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a2d54f162e04641dddba301c518e58333">OPT_multi_queries</a>:</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;      options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a92c47dfe1c8de03a65b81863a88c9355">client_flag</a>|= <a class="code" href="../../d6/df0/mysql__com_8h.html#a5aa1db4db950d645235a4f73263ee911">CLIENT_MULTI_STATEMENTS</a> | <a class="code" href="../../d6/df0/mysql__com_8h.html#a2ffea3e8918e7c9a3a2323030a2bfe0a">CLIENT_MULTI_RESULTS</a>;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a5d316010e3f3f15373546c91f57f621e">OPT_secure_auth</a>:</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;          options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a7d0ee51bd78eb9aa35e8048b1541d290">secure_auth</a>= <a class="code" href="../../d8/dec/mpq-internal_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a7c5bfc2244f6a77c2e2d044d7b41d9f2">OPT_report_data_truncation</a>:</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;          options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a095ec6fb5b58914a518522376a0d49ba">report_data_truncation</a>= opt_arg ? <a class="code" href="../../d9/df6/my__global_8h.html#aa6cd438f0d8653fd1e4d22046b0cb662">test</a>(atoi(opt_arg)) : 1;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a013fabab2799f259382a7b3cfe1ce61a">OPT_plugin_dir</a>:</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;          {</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;            <span class="keywordtype">char</span> buff[<a class="code" href="../../d9/df6/my__global_8h.html#a0fd6678904889e4aeff1402c35e890da">FN_REFLEN</a>], buff2[<a class="code" href="../../d9/df6/my__global_8h.html#a0fd6678904889e4aeff1402c35e890da">FN_REFLEN</a>];</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;            <span class="keywordflow">if</span> (strlen(opt_arg) &gt;= <a class="code" href="../../d9/df6/my__global_8h.html#a0fd6678904889e4aeff1402c35e890da">FN_REFLEN</a>)</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;              opt_arg[<a class="code" href="../../d9/df6/my__global_8h.html#a0fd6678904889e4aeff1402c35e890da">FN_REFLEN</a>]= <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../db/da9/my__sys_8h.html#ad731e8b0058e071ec76b563bf4ad0e42">my_realpath</a>(buff, opt_arg, 0))</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;            {</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;              <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;warning&quot;</span>,(<span class="stringliteral">&quot;failed to normalize the plugin path: %s&quot;</span>,</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;                                    opt_arg));</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;            }</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;            <a class="code" href="../../db/da9/my__sys_8h.html#a076f4a00cb543aff1bc05dd0ce8d06ef">convert_dirname</a>(buff, buff2, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;            <a class="code" href="../../dd/d93/client_8c.html#ac3397a87b97cb62f0089f7961a61d630">EXTENSION_SET_STRING</a>(options, plugin_dir, buff2);</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;          }</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a919fb0406d07a5dc1335a873688e8049">OPT_default_auth</a>:</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;          <a class="code" href="../../dd/d93/client_8c.html#ac3397a87b97cb62f0089f7961a61d630">EXTENSION_SET_STRING</a>(options, default_auth, opt_arg);</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;warning&quot;</span>,(<span class="stringliteral">&quot;unknown option: %s&quot;</span>,option[0]));</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    }</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;      }</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    }</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;  }</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a5bfedd56c8109d42cf754f48848c9305">free_defaults</a>(argv);</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a2d990f1c0bd095fcbac9c6596274be55">DBUG_VOID_RETURN</a>;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;}</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160; </div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160; </div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;<span class="comment">/**************************************************************************</span></div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;<span class="comment">  Get column lengths of the current row</span></div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;<span class="comment">  If one uses mysql_use_result, res-&gt;lengths contains the length information,</span></div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;<span class="comment">  else the lengths are calculated from the offset between pointers.</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;<span class="comment">**************************************************************************/</span></div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160; </div>
<div class="line"><a name="l01403"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#aa667e91072c23ca21739908a0005e068"> 1403</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/d93/client_8c.html#aa667e91072c23ca21739908a0005e068">cli_fetch_lengths</a>(<a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> *to, <a class="code" href="../../de/d53/mysql_8h.html#afae8ad264fb6a4bd740df59f19b9da71">MYSQL_ROW</a> column,</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;                  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> field_count)</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;{ </div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> *prev_length;</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;  <span class="keywordtype">char</span> *start=0;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;  <a class="code" href="../../de/d53/mysql_8h.html#afae8ad264fb6a4bd740df59f19b9da71">MYSQL_ROW</a> end;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160; </div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;  prev_length=0;                <span class="comment">/* Keep gcc happy */</span></div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;  <span class="keywordflow">for</span> (end=column + field_count + 1 ; column != end ; column++, to++)</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;  {</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    <span class="keywordflow">if</span> (!*column)</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    {</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;      *to= 0;                   <span class="comment">/* Null */</span></div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    }</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    <span class="keywordflow">if</span> (start)                  <span class="comment">/* Found end of prev string */</span></div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;      *prev_length= (<a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>) (*column-start-1);</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    start= *column;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    prev_length= to;</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;  }</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;}</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160; </div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;<span class="comment">/***************************************************************************</span></div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;<span class="comment">  Change field rows to field structs</span></div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;<span class="comment">***************************************************************************/</span></div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160; </div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;<a class="code" href="../../da/da0/structst__mysql__field.html">MYSQL_FIELD</a> *</div>
<div class="line"><a name="l01430"></a><span class="lineno"><a class="line" href="../../d6/d2a/sql__common_8h.html#a8411dddedfdb7b943f5892167421695d"> 1430</a></span>&#160;<a class="code" href="../../dd/d93/client_8c.html#a8411dddedfdb7b943f5892167421695d">unpack_fields</a>(<a class="code" href="../../df/dab/structst__mysql__data.html">MYSQL_DATA</a> *<a class="code" href="../../df/dea/structdata.html">data</a>,<a class="code" href="../../d8/df1/structst__mem__root.html">MEM_ROOT</a> *alloc,<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> fields,</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;          <a class="code" href="../../d9/df6/my__global_8h.html#a74cd599039dcf29c6e6d342cf4efd0a8">my_bool</a> default_value, <a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> server_capabilities)</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;{</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;  <a class="code" href="../../d9/d55/structst__mysql__rows.html">MYSQL_ROWS</a>    *row;</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;  <a class="code" href="../../da/da0/structst__mysql__field.html">MYSQL_FIELD</a>   *field,*<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>;</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> lengths[9];             <span class="comment">/* Max of fields */</span></div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;unpack_fields&quot;</span>);</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160; </div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;  field= <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>= (<a class="code" href="../../da/da0/structst__mysql__field.html">MYSQL_FIELD</a>*) <a class="code" href="../../db/da9/my__sys_8h.html#a75d0b6953e2f61c24be6f71e1c324fb9">alloc_root</a>(alloc,</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;                       (<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>) <span class="keyword">sizeof</span>(*field)*fields);</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>)</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;  {</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#aa2517e02b9c61e8e3e96a7c0c784218f">free_rows</a>(<a class="code" href="../../df/dea/structdata.html">data</a>);                <span class="comment">/* Free old data */</span></div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(0);</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;  }</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;  <a class="code" href="../../d6/dda/m__string_8h.html#ab3be5dcbbf1244672c14662b20f88b61">bzero</a>((<span class="keywordtype">char</span>*) field, (<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>) <span class="keyword">sizeof</span>(<a class="code" href="../../da/da0/structst__mysql__field.html">MYSQL_FIELD</a>)*fields);</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;  <span class="keywordflow">if</span> (server_capabilities &amp; <a class="code" href="../../d6/df0/mysql__com_8h.html#acde6ac915ca4c7bc88ae19d7dd9a04c4">CLIENT_PROTOCOL_41</a>)</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;  {</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    <span class="comment">/* server is 4.1, and returns the new field result format */</span></div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    <span class="keywordflow">for</span> (row=<a class="code" href="../../df/dea/structdata.html">data</a>-&gt;data; row ; row = row-&gt;<a class="code" href="../../d9/d55/structst__mysql__rows.html#a83f438b68306724f8fd2f35758bbb2f7">next</a>,field++)</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    {</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;      <a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *<a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;      <span class="comment">/* fields count may be wrong */</span></div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;      <a class="code" href="../../d0/d74/my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>((<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>) (field - <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>) &lt; fields);</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#aa667e91072c23ca21739908a0005e068">cli_fetch_lengths</a>(&amp;lengths[0], row-&gt;<a class="code" href="../../d9/d55/structst__mysql__rows.html#a9e11c8188cb52a253df7ac713751b5e2">data</a>, default_value ? 8 : 7);</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;      field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a5efd1f038fd402730cd69b9b0be93ac6">catalog</a>=   <a class="code" href="../../db/da9/my__sys_8h.html#aa9cde2cb17c7b3008c8b06016c20194a">strmake_root</a>(alloc,(<span class="keywordtype">char</span>*) row-&gt;<a class="code" href="../../d9/d55/structst__mysql__rows.html#a9e11c8188cb52a253df7ac713751b5e2">data</a>[0], lengths[0]);</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;      field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a707bf664b65d46c5fafcc9117d43c3d6">db</a>=        <a class="code" href="../../db/da9/my__sys_8h.html#aa9cde2cb17c7b3008c8b06016c20194a">strmake_root</a>(alloc,(<span class="keywordtype">char</span>*) row-&gt;<a class="code" href="../../d9/d55/structst__mysql__rows.html#a9e11c8188cb52a253df7ac713751b5e2">data</a>[1], lengths[1]);</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;      field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a29e2e9a3a039afd113f5b01144aeadf3">table</a>=     <a class="code" href="../../db/da9/my__sys_8h.html#aa9cde2cb17c7b3008c8b06016c20194a">strmake_root</a>(alloc,(<span class="keywordtype">char</span>*) row-&gt;<a class="code" href="../../d9/d55/structst__mysql__rows.html#a9e11c8188cb52a253df7ac713751b5e2">data</a>[2], lengths[2]);</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;      field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#ade5ec83de3b2537fbffbad382314521f">org_table</a>= <a class="code" href="../../db/da9/my__sys_8h.html#aa9cde2cb17c7b3008c8b06016c20194a">strmake_root</a>(alloc,(<span class="keywordtype">char</span>*) row-&gt;<a class="code" href="../../d9/d55/structst__mysql__rows.html#a9e11c8188cb52a253df7ac713751b5e2">data</a>[3], lengths[3]);</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;      field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a9aea18cced6a6cd06f9ab3dd75643675">name</a>=      <a class="code" href="../../db/da9/my__sys_8h.html#aa9cde2cb17c7b3008c8b06016c20194a">strmake_root</a>(alloc,(<span class="keywordtype">char</span>*) row-&gt;<a class="code" href="../../d9/d55/structst__mysql__rows.html#a9e11c8188cb52a253df7ac713751b5e2">data</a>[4], lengths[4]);</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;      field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a03345260f7ab6ff2aab0ee5cda2c8ba3">org_name</a>=  <a class="code" href="../../db/da9/my__sys_8h.html#aa9cde2cb17c7b3008c8b06016c20194a">strmake_root</a>(alloc,(<span class="keywordtype">char</span>*) row-&gt;<a class="code" href="../../d9/d55/structst__mysql__rows.html#a9e11c8188cb52a253df7ac713751b5e2">data</a>[5], lengths[5]);</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160; </div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;      field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a72598be1e648074291e3d8efd1a33d76">catalog_length</a>=    lengths[0];</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;      field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#abe39f84a0bf3580baefe02d1af84b176">db_length</a>=     lengths[1];</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;      field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a3fd823f20119f559007cc41089bec0fe">table_length</a>=  lengths[2];</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;      field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#afa4e4cdb3af1c33edb72757f3fce9e7a">org_table_length</a>=  lengths[3];</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;      field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a9f783bae03537ebb992ca091b7173d92">name_length</a>=   lengths[4];</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;      field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a76f2446ec6439f82c2d387085498e599">org_name_length</a>=   lengths[5];</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160; </div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;      <span class="comment">/* Unpack fixed length parts */</span></div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;      <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>= (<a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>*) row-&gt;<a class="code" href="../../d9/d55/structst__mysql__rows.html#a9e11c8188cb52a253df7ac713751b5e2">data</a>[6];</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;      field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a687f7df1f421ac5273adfc06b244c883">charsetnr</a>= <a class="code" href="../../d9/df6/my__global_8h.html#aeb775a72848a1a71494c627e392fa777">uint2korr</a>(<a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>);</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;      field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a03ff1a4c1b3d3249d5ff7b1a62f152f3">length</a>=    (<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>) <a class="code" href="../../d9/df6/my__global_8h.html#a1b7a61d5ce08e51aa5ca0ea5542d6d34">uint4korr</a>(<a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>+2);</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;      field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a3b744bf19e92b619e725b45f83a78771">type</a>=  (<span class="keyword">enum</span> <a class="code" href="../../d6/df0/mysql__com_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a>) <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>[6];</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;      field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a2977653fe904c10974aeda70fdde5ba2">flags</a>= <a class="code" href="../../d9/df6/my__global_8h.html#aeb775a72848a1a71494c627e392fa777">uint2korr</a>(<a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>+7);</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;      field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#ab39f6f0fb49ba3ce21522b68f41b4337">decimals</a>=  (<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>) <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>[9];</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160; </div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../de/d53/mysql_8h.html#ad54318c3afe8639877a4cc628dc868a9">IS_NUM</a>(field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a3b744bf19e92b619e725b45f83a78771">type</a>))</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;        field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a2977653fe904c10974aeda70fdde5ba2">flags</a>|= <a class="code" href="../../d6/df0/mysql__com_8h.html#a76cd81964ebba4dd1dc0a354ad5f279a">NUM_FLAG</a>;</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;      <a class="code" href="../../dd/d68/_c_make_lists_8txt.html#a0b5da418382bdd0db6dff439e2863979">if</a> (default_value &amp;&amp; row-&gt;<a class="code" href="../../d9/d55/structst__mysql__rows.html#a9e11c8188cb52a253df7ac713751b5e2">data</a>[7])</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;      {</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;        field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#acd02783a4aa6564a73efd4234043e17b">def</a>=<a class="code" href="../../db/da9/my__sys_8h.html#aa9cde2cb17c7b3008c8b06016c20194a">strmake_root</a>(alloc,(<span class="keywordtype">char</span>*) row-&gt;<a class="code" href="../../d9/d55/structst__mysql__rows.html#a9e11c8188cb52a253df7ac713751b5e2">data</a>[7], lengths[7]);</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a6698d0723c7d4349a707fc2bed3641d5">def_length</a>= lengths[7];</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;      }</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#acd02783a4aa6564a73efd4234043e17b">def</a>=0;</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;      field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a89db90d875f6b760f147e70ac5f96dce">max_length</a>= 0;</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    }</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  }</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;<span class="preprocessor">#ifndef DELETE_SUPPORT_OF_4_0_PROTOCOL</span></div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  {</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    <span class="comment">/* old protocol, for backward compatibility */</span></div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    <span class="keywordflow">for</span> (row=<a class="code" href="../../df/dea/structdata.html">data</a>-&gt;data; row ; row = row-&gt;<a class="code" href="../../d9/d55/structst__mysql__rows.html#a83f438b68306724f8fd2f35758bbb2f7">next</a>,field++)</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    {</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#aa667e91072c23ca21739908a0005e068">cli_fetch_lengths</a>(&amp;lengths[0], row-&gt;<a class="code" href="../../d9/d55/structst__mysql__rows.html#a9e11c8188cb52a253df7ac713751b5e2">data</a>, default_value ? 6 : 5);</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;      field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#ade5ec83de3b2537fbffbad382314521f">org_table</a>= field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a29e2e9a3a039afd113f5b01144aeadf3">table</a>=  <a class="code" href="../../db/da9/my__sys_8h.html#af9a1809cc617261f4e10df31ad4039b9">strdup_root</a>(alloc,(<span class="keywordtype">char</span>*) row-&gt;<a class="code" href="../../d9/d55/structst__mysql__rows.html#a9e11c8188cb52a253df7ac713751b5e2">data</a>[0]);</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;      field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a9aea18cced6a6cd06f9ab3dd75643675">name</a>=   <a class="code" href="../../db/da9/my__sys_8h.html#af9a1809cc617261f4e10df31ad4039b9">strdup_root</a>(alloc,(<span class="keywordtype">char</span>*) row-&gt;<a class="code" href="../../d9/d55/structst__mysql__rows.html#a9e11c8188cb52a253df7ac713751b5e2">data</a>[1]);</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;      field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a03ff1a4c1b3d3249d5ff7b1a62f152f3">length</a>= (<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>) <a class="code" href="../../d9/df6/my__global_8h.html#aedc96aeb04ad09b859442aadfc729cc2">uint3korr</a>(row-&gt;<a class="code" href="../../d9/d55/structst__mysql__rows.html#a9e11c8188cb52a253df7ac713751b5e2">data</a>[2]);</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;      field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a3b744bf19e92b619e725b45f83a78771">type</a>=   (<span class="keyword">enum</span> <a class="code" href="../../d6/df0/mysql__com_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a>) (<a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>) row-&gt;<a class="code" href="../../d9/d55/structst__mysql__rows.html#a9e11c8188cb52a253df7ac713751b5e2">data</a>[3][0];</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160; </div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;      field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a5efd1f038fd402730cd69b9b0be93ac6">catalog</a>=(<span class="keywordtype">char</span>*)  <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;      field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a707bf664b65d46c5fafcc9117d43c3d6">db</a>=     (<span class="keywordtype">char</span>*)  <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;      field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a72598be1e648074291e3d8efd1a33d76">catalog_length</a>= 0;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;      field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#abe39f84a0bf3580baefe02d1af84b176">db_length</a>= 0;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;      field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#afa4e4cdb3af1c33edb72757f3fce9e7a">org_table_length</a>=  field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a3fd823f20119f559007cc41089bec0fe">table_length</a>=    lengths[0];</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;      field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a9f783bae03537ebb992ca091b7173d92">name_length</a>=   lengths[1];</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160; </div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;      <span class="keywordflow">if</span> (server_capabilities &amp; <a class="code" href="../../d6/df0/mysql__com_8h.html#acb925b1d791ae381a1b411e26c72db35">CLIENT_LONG_FLAG</a>)</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;      {</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;        field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a2977653fe904c10974aeda70fdde5ba2">flags</a>=   <a class="code" href="../../d9/df6/my__global_8h.html#aeb775a72848a1a71494c627e392fa777">uint2korr</a>(row-&gt;<a class="code" href="../../d9/d55/structst__mysql__rows.html#a9e11c8188cb52a253df7ac713751b5e2">data</a>[4]);</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;        field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#ab39f6f0fb49ba3ce21522b68f41b4337">decimals</a>=(<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>) (<a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>) row-&gt;<a class="code" href="../../d9/d55/structst__mysql__rows.html#a9e11c8188cb52a253df7ac713751b5e2">data</a>[4][2];</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;      }</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;      {</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;        field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a2977653fe904c10974aeda70fdde5ba2">flags</a>=   (<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>) (<a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>) row-&gt;<a class="code" href="../../d9/d55/structst__mysql__rows.html#a9e11c8188cb52a253df7ac713751b5e2">data</a>[4][0];</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;        field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#ab39f6f0fb49ba3ce21522b68f41b4337">decimals</a>=(<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>) (<a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>) row-&gt;<a class="code" href="../../d9/d55/structst__mysql__rows.html#a9e11c8188cb52a253df7ac713751b5e2">data</a>[4][1];</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;      }</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../de/d53/mysql_8h.html#ad54318c3afe8639877a4cc628dc868a9">IS_NUM</a>(field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a3b744bf19e92b619e725b45f83a78771">type</a>))</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;        field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a2977653fe904c10974aeda70fdde5ba2">flags</a>|= <a class="code" href="../../d6/df0/mysql__com_8h.html#a76cd81964ebba4dd1dc0a354ad5f279a">NUM_FLAG</a>;</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;      <a class="code" href="../../dd/d68/_c_make_lists_8txt.html#a0b5da418382bdd0db6dff439e2863979">if</a> (default_value &amp;&amp; row-&gt;<a class="code" href="../../d9/d55/structst__mysql__rows.html#a9e11c8188cb52a253df7ac713751b5e2">data</a>[5])</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;      {</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;        field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#acd02783a4aa6564a73efd4234043e17b">def</a>=<a class="code" href="../../db/da9/my__sys_8h.html#af9a1809cc617261f4e10df31ad4039b9">strdup_root</a>(alloc,(<span class="keywordtype">char</span>*) row-&gt;<a class="code" href="../../d9/d55/structst__mysql__rows.html#a9e11c8188cb52a253df7ac713751b5e2">data</a>[5]);</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a6698d0723c7d4349a707fc2bed3641d5">def_length</a>= lengths[5];</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;      }</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;        field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#acd02783a4aa6564a73efd4234043e17b">def</a>=0;</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;      field-&gt;<a class="code" href="../../da/da0/structst__mysql__field.html#a89db90d875f6b760f147e70ac5f96dce">max_length</a>= 0;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    }</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  }</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DELETE_SUPPORT_OF_4_0_PROTOCOL */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#aa2517e02b9c61e8e3e96a7c0c784218f">free_rows</a>(<a class="code" href="../../df/dea/structdata.html">data</a>);              <span class="comment">/* Free old data */</span></div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>);</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;}</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160; </div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;<span class="comment">/* Read all rows (fields or data) from server */</span></div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160; </div>
<div class="line"><a name="l01537"></a><span class="lineno"><a class="line" href="../../d5/dcc/client__settings_8h.html#ad2535610bb8544ed0829d1a018f3c29a"> 1537</a></span>&#160;<a class="code" href="../../df/dab/structst__mysql__data.html">MYSQL_DATA</a> *<a class="code" href="../../dd/d93/client_8c.html#af9572871c978640e582d2424cabc7123">cli_read_rows</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql,<a class="code" href="../../da/da0/structst__mysql__field.html">MYSQL_FIELD</a> *mysql_fields,</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;              <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> fields)</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;{</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>  field;</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> pkt_len;</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> len;</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *cp;</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;  <span class="keywordtype">char</span>  *to, *end_to;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  <a class="code" href="../../df/dab/structst__mysql__data.html">MYSQL_DATA</a> *<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>;</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;  <a class="code" href="../../d9/d55/structst__mysql__rows.html">MYSQL_ROWS</a> **prev_ptr,*cur;</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;  <a class="code" href="../../de/d2d/structst__net.html">NET</a> *net = &amp;mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;cli_read_rows&quot;</span>);</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160; </div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;  <span class="keywordflow">if</span> ((pkt_len= <a class="code" href="../../dd/d93/client_8c.html#a3196ee8555d77cf23d15d3e0c096740c">cli_safe_read</a>(mysql)) == <a class="code" href="../../d6/df0/mysql__com_8h.html#a08253bf6eaa0178369f3ee1055b914a0">packet_error</a>)</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(0);</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;  <span class="keywordflow">if</span> (!(<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>=(<a class="code" href="../../df/dab/structst__mysql__data.html">MYSQL_DATA</a>*) <a class="code" href="../../db/da9/my__sys_8h.html#a8f7b30ff5d0e10610637aa30c3e0048b">my_malloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../df/dab/structst__mysql__data.html">MYSQL_DATA</a>),</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;                       <a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a> | <a class="code" href="../../db/da9/my__sys_8h.html#afdc3af41c5a4b3f9dd74dd523f41c34c">MY_ZEROFILL</a>))))</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;  {</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a2ade0496d13411711dfa6a8503507d38">CR_OUT_OF_MEMORY</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(0);</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  }</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a33a73f0921a74091ef65cecb3c383d9d">init_alloc_root</a>(&amp;<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;alloc,8192,0);   <span class="comment">/* Assume rowlength &lt; 8192 */</span></div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;  <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;alloc.min_malloc=<span class="keyword">sizeof</span>(<a class="code" href="../../de/d53/mysql_8h.html#a284854200d0591ccbacb00c32fafc602">MYSQL_ROWS</a>);</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;  prev_ptr= &amp;<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;data;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;  <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;rows=0;</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;  <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;fields=fields;</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160; </div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;<span class="comment">    The last EOF packet is either a single 254 character or (in MySQL 4.1)</span></div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;<span class="comment">    254 followed by 1-7 status bytes.</span></div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;<span class="comment">    This doesn&#39;t conflict with normal usage of 254 which stands for a</span></div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;<span class="comment">    string where the length of the string is 8 bytes. (see net_field_length())</span></div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160; </div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;  <span class="keywordflow">while</span> (*(cp=net-&gt;<a class="code" href="../../de/d2d/structst__net.html#af65adc7b04ff56e008c6f8ca89cc12c2">read_pos</a>) != 254 || pkt_len &gt;= 8)</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;  {</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;rows++;</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    <span class="keywordflow">if</span> (!(cur= (<a class="code" href="../../d9/d55/structst__mysql__rows.html">MYSQL_ROWS</a>*) <a class="code" href="../../db/da9/my__sys_8h.html#a75d0b6953e2f61c24be6f71e1c324fb9">alloc_root</a>(&amp;<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;alloc,</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;                    <span class="keyword">sizeof</span>(<a class="code" href="../../d9/d55/structst__mysql__rows.html">MYSQL_ROWS</a>))) ||</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    !(cur-&gt;<a class="code" href="../../d9/d55/structst__mysql__rows.html#a9e11c8188cb52a253df7ac713751b5e2">data</a>= ((<a class="code" href="../../de/d53/mysql_8h.html#afae8ad264fb6a4bd740df59f19b9da71">MYSQL_ROW</a>)</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;              <a class="code" href="../../db/da9/my__sys_8h.html#a75d0b6953e2f61c24be6f71e1c324fb9">alloc_root</a>(&amp;<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;alloc,</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;                 (fields+1)*<span class="keyword">sizeof</span>(<span class="keywordtype">char</span> *)+pkt_len))))</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    {</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#aa2517e02b9c61e8e3e96a7c0c784218f">free_rows</a>(<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>);</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a2ade0496d13411711dfa6a8503507d38">CR_OUT_OF_MEMORY</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(0);</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    }</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    *prev_ptr=cur;</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    prev_ptr= &amp;cur-&gt;<a class="code" href="../../d9/d55/structst__mysql__rows.html#a83f438b68306724f8fd2f35758bbb2f7">next</a>;</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    to= (<span class="keywordtype">char</span>*) (cur-&gt;<a class="code" href="../../d9/d55/structst__mysql__rows.html#a9e11c8188cb52a253df7ac713751b5e2">data</a>+fields+1);</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    end_to=to+pkt_len-1;</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    <span class="keywordflow">for</span> (field=0 ; field &lt; fields ; field++)</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    {</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;      <span class="keywordflow">if</span> ((len=(<a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>) <a class="code" href="../../d1/d7d/pack_8c.html#a771d96cea3985e1e0efae3d50852ff1b">net_field_length</a>(&amp;cp)) == <a class="code" href="../../d6/df0/mysql__com_8h.html#a68145c6add783b349707b9889d33de6c">NULL_LENGTH</a>)</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;      {                     <span class="comment">/* null field */</span></div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    cur-&gt;<a class="code" href="../../d9/d55/structst__mysql__rows.html#a9e11c8188cb52a253df7ac713751b5e2">data</a>[field] = 0;</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;      }</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;      {</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    cur-&gt;<a class="code" href="../../d9/d55/structst__mysql__rows.html#a9e11c8188cb52a253df7ac713751b5e2">data</a>[field] = to;</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;        <span class="keywordflow">if</span> (len &gt; (<a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>) (end_to - to))</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;        {</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;          <a class="code" href="../../dd/d93/client_8c.html#aa2517e02b9c61e8e3e96a7c0c784218f">free_rows</a>(<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>);</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;          <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a2943d879c4463f77aebf37a8ef01483d">CR_MALFORMED_PACKET</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;          <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(0);</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;        }</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a>(to,(<span class="keywordtype">char</span>*) cp,len); to[len]=0;</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    to+=len+1;</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;    cp+=len;</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    <span class="keywordflow">if</span> (mysql_fields)</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    {</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;      <span class="keywordflow">if</span> (mysql_fields[field].max_length &lt; len)</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;        mysql_fields[field].<a class="code" href="../../da/da0/structst__mysql__field.html#a89db90d875f6b760f147e70ac5f96dce">max_length</a>=len;</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    }</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;      }</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;    }</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;    cur-&gt;<a class="code" href="../../d9/d55/structst__mysql__rows.html#a9e11c8188cb52a253df7ac713751b5e2">data</a>[field]=to;            <span class="comment">/* End of last field */</span></div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    <span class="keywordflow">if</span> ((pkt_len=<a class="code" href="../../dd/d93/client_8c.html#a3196ee8555d77cf23d15d3e0c096740c">cli_safe_read</a>(mysql)) == <a class="code" href="../../d6/df0/mysql__com_8h.html#a08253bf6eaa0178369f3ee1055b914a0">packet_error</a>)</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    {</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#aa2517e02b9c61e8e3e96a7c0c784218f">free_rows</a>(<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>);</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(0);</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    }</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;  }</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  *prev_ptr=0;                  <span class="comment">/* last pointer is null */</span></div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;  <span class="keywordflow">if</span> (pkt_len &gt; 1)              <span class="comment">/* MySQL 4.1 protocol */</span></div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;  {</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a397568fcafb4431f45aaddce083d680e">warning_count</a>= <a class="code" href="../../d9/df6/my__global_8h.html#aeb775a72848a1a71494c627e392fa777">uint2korr</a>(cp+1);</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab875d849ff6f754a85986fe538408667">server_status</a>= <a class="code" href="../../d9/df6/my__global_8h.html#aeb775a72848a1a71494c627e392fa777">uint2korr</a>(cp+3);</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>,(<span class="stringliteral">&quot;status: %u  warning_count:  %u&quot;</span>,</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;               mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab875d849ff6f754a85986fe538408667">server_status</a>, mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a397568fcafb4431f45aaddce083d680e">warning_count</a>));</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;  }</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;exit&quot;</span>, (<span class="stringliteral">&quot;Got %lu rows&quot;</span>, (<a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>) <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;rows));</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>);</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;}</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160; </div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;<span class="comment">  Read one row. Uses packet buffer as storage for fields.</span></div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;<span class="comment">  When next packet is read, the previous field values are destroyed</span></div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160; </div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160; </div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l01640"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#afdc9b0138e97095cd25ea9dbef516fd8"> 1640</a></span>&#160;<a class="code" href="../../dd/d93/client_8c.html#afdc9b0138e97095cd25ea9dbef516fd8">read_one_row</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql,<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> fields,<a class="code" href="../../de/d53/mysql_8h.html#afae8ad264fb6a4bd740df59f19b9da71">MYSQL_ROW</a> row, <a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> *lengths)</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;{</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> field;</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> pkt_len,len;</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *<a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>, *prev_pos, *end_pos;</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;  <a class="code" href="../../de/d2d/structst__net.html">NET</a> *net= &amp;mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>;</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160; </div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;  <span class="keywordflow">if</span> ((pkt_len=<a class="code" href="../../dd/d93/client_8c.html#a3196ee8555d77cf23d15d3e0c096740c">cli_safe_read</a>(mysql)) == <a class="code" href="../../d6/df0/mysql__com_8h.html#a08253bf6eaa0178369f3ee1055b914a0">packet_error</a>)</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;  <span class="keywordflow">if</span> (pkt_len &lt;= 8 &amp;&amp; net-&gt;read_pos[0] == 254)</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;  {</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    <span class="keywordflow">if</span> (pkt_len &gt; 1)                <span class="comment">/* MySQL 4.1 protocol */</span></div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;    {</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;      mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a397568fcafb4431f45aaddce083d680e">warning_count</a>= <a class="code" href="../../d9/df6/my__global_8h.html#aeb775a72848a1a71494c627e392fa777">uint2korr</a>(net-&gt;<a class="code" href="../../de/d2d/structst__net.html#af65adc7b04ff56e008c6f8ca89cc12c2">read_pos</a>+1);</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;      mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab875d849ff6f754a85986fe538408667">server_status</a>= <a class="code" href="../../d9/df6/my__global_8h.html#aeb775a72848a1a71494c627e392fa777">uint2korr</a>(net-&gt;<a class="code" href="../../de/d2d/structst__net.html#af65adc7b04ff56e008c6f8ca89cc12c2">read_pos</a>+3);</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    }</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    <span class="keywordflow">return</span> 1;               <span class="comment">/* End of data */</span></div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;  }</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;  prev_pos= 0;              <span class="comment">/* allowed to write at packet[-1] */</span></div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;  <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>=net-&gt;<a class="code" href="../../de/d2d/structst__net.html#af65adc7b04ff56e008c6f8ca89cc12c2">read_pos</a>;</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;  end_pos=<a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>+pkt_len;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;  <span class="keywordflow">for</span> (field=0 ; field &lt; fields ; field++)</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;  {</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    <span class="keywordflow">if</span> ((len=(<a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>) <a class="code" href="../../d1/d7d/pack_8c.html#a771d96cea3985e1e0efae3d50852ff1b">net_field_length</a>(&amp;<a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>)) == <a class="code" href="../../d6/df0/mysql__com_8h.html#a68145c6add783b349707b9889d33de6c">NULL_LENGTH</a>)</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    {                       <span class="comment">/* null field */</span></div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;      row[field] = 0;</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;      *lengths++=0;</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    }</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    {</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;      <span class="keywordflow">if</span> (len &gt; (<a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>) (end_pos - <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>))</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;      {</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;        <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a4894e9c9e390f10ecfa47c12e35b300f">CR_UNKNOWN_ERROR</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;      }</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;      row[field] = (<span class="keywordtype">char</span>*) <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>;</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;      <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>+=len;</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;      *lengths++=len;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    }</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    <span class="keywordflow">if</span> (prev_pos)</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;      *prev_pos=0;              <span class="comment">/* Terminate prev field */</span></div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    prev_pos=<a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>;</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;  }</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;  row[field]=(<span class="keywordtype">char</span>*) prev_pos+1;        <span class="comment">/* End of last field */</span></div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;  *prev_pos=0;                  <span class="comment">/* Terminate last field */</span></div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;}</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160; </div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160; </div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;<span class="comment">/****************************************************************************</span></div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;<span class="comment">  Init MySQL structure or allocate one</span></div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;<span class="comment">****************************************************************************/</span></div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160; </div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> * <a class="code" href="../../d9/df6/my__global_8h.html#a446cf449a6234c9b177309d5ba0852c0">STDCALL</a></div>
<div class="line"><a name="l01694"></a><span class="lineno"><a class="line" href="../../de/d53/mysql_8h.html#a57dd141bcf4441d66c1ef41cf1cb058b"> 1694</a></span>&#160;<a class="code" href="../../dd/d93/client_8c.html#a57dd141bcf4441d66c1ef41cf1cb058b">mysql_init</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql)</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;{</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../de/d53/mysql_8h.html#a724e1c14ad46e2aac8c39643eb8a96bb">mysql_server_init</a>(0, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>))</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;  <span class="keywordflow">if</span> (!mysql)</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;  {</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;    <span class="keywordflow">if</span> (!(mysql=(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a>*) <a class="code" href="../../db/da9/my__sys_8h.html#a8f7b30ff5d0e10610637aa30c3e0048b">my_malloc</a>(<span class="keyword">sizeof</span>(*mysql),<a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a> | <a class="code" href="../../db/da9/my__sys_8h.html#afdc3af41c5a4b3f9dd74dd523f41c34c">MY_ZEROFILL</a>))))</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    {</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>, <a class="code" href="../../d8/d50/errmsg_8h.html#a2ade0496d13411711dfa6a8503507d38">CR_OUT_OF_MEMORY</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;    }</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a360756ba79af768da73d528969759b64">free_me</a>=1;</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;  }</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#ab3be5dcbbf1244672c14662b20f88b61">bzero</a>((<span class="keywordtype">char</span>*) (mysql), <span class="keyword">sizeof</span>(*(mysql)));</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#aa8475fa207a033461041fbfd868fe3c6">connect_timeout</a>= <a class="code" href="../../dd/d93/client_8c.html#a252b2cb72531cb00ecd4d4db37a5a473">CONNECT_TIMEOUT</a>;</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a5d128ecd21c6265f37c283824b3ad813">charset</a>=<a class="code" href="../../dd/d93/client_8c.html#acb92ca3f8640719ce9ea6fbd078e25cd">default_client_charset_info</a>;</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;  <a class="code" href="../../d6/dda/m__string_8h.html#a9dbe4cdad9c2c12aaa30e04b073884e6">strmov</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#a0f689854fdd40edbf79cc7e248ecd02f">sqlstate</a>, <a class="code" href="../../dd/d93/client_8c.html#ad13f6b59eda853fac26e47275ab4c1d1">not_error_sqlstate</a>);</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160; </div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;<span class="comment">    Only enable LOAD DATA INFILE by default if configured with</span></div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;<span class="comment">    --enable-local-infile</span></div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160; </div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;<span class="preprocessor">#if defined(ENABLED_LOCAL_INFILE) &amp;&amp; !defined(MYSQL_SERVER)</span></div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a92c47dfe1c8de03a65b81863a88c9355">client_flag</a>|= <a class="code" href="../../d6/df0/mysql__com_8h.html#a06acc4847890b7ef14a8e7c0782a679c">CLIENT_LOCAL_FILES</a>;</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160; </div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;<span class="preprocessor">#ifdef HAVE_SMEM</span></div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#abd61d3820e3904dd30ad1c4c44887d10">shared_memory_base_name</a>= (<span class="keywordtype">char</span>*) def_shared_memory_base_name;</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160; </div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a76fecd9908ce3203903d987e4b3c5599">methods_to_use</a>= <a class="code" href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836a21b624547ab25edba1a0beef2db05102">MYSQL_OPT_GUESS_CONNECTION</a>;</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a095ec6fb5b58914a518522376a0d49ba">report_data_truncation</a>= <a class="code" href="../../d8/dec/mpq-internal_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;  <span class="comment">/* default */</span></div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160; </div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;<span class="comment">    By default we don&#39;t reconnect because it could silently corrupt data (after</span></div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;<span class="comment">    reconnection you potentially lose table locks, user variables, session</span></div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;<span class="comment">    variables (transactions but they are specifically dealt with in</span></div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;<span class="comment">    mysql_reconnect()).</span></div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;<span class="comment">    This is a change: &lt; 5.0.3 mysql-&gt;reconnect was set to 1 by default.</span></div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;<span class="comment">    How this change impacts existing apps:</span></div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;<span class="comment">    - existing apps which relyed on the default will see a behaviour change;</span></div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;<span class="comment">    they will have to set reconnect=1 after mysql_real_connect().</span></div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;<span class="comment">    - existing apps which explicitely asked for reconnection (the only way they</span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;<span class="comment">    could do it was by setting mysql.reconnect to 1 after mysql_real_connect())</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;<span class="comment">    will not see a behaviour change.</span></div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;<span class="comment">    - existing apps which explicitely asked for no reconnection</span></div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;<span class="comment">    (mysql.reconnect=0) will not see a behaviour change.</span></div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a802266361a427c12d6cb29a27f8889b1">reconnect</a>= 0;</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160; </div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;  <span class="keywordflow">return</span> mysql;</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;}</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160; </div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160; </div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;<span class="comment">  Fill in SSL part of MYSQL structure and set &#39;use_ssl&#39; flag.</span></div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;<span class="comment">  NB! Errors are not reported until you do mysql_real_connect.</span></div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160; </div>
<div class="line"><a name="l01755"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#adb43e2a1ec360e404c1accbdf4d7215d"> 1755</a></span>&#160;<span class="preprocessor">#define strdup_if_not_null(A) (A) == 0 ? 0 : my_strdup((A),MYF(MY_WME))</span></div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160; </div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;<a class="code" href="../../d9/df6/my__global_8h.html#a74cd599039dcf29c6e6d342cf4efd0a8">my_bool</a> <a class="code" href="../../d9/df6/my__global_8h.html#a446cf449a6234c9b177309d5ba0852c0">STDCALL</a></div>
<div class="line"><a name="l01758"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a53b65c43cd8c0df2a4bdb530af03ab06"> 1758</a></span>&#160;<a class="code" href="../../dd/d93/client_8c.html#a53b65c43cd8c0df2a4bdb530af03ab06">mysql_ssl_set</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql <a class="code" href="../../d4/d72/my__attribute_8h.html#a4fb2431b46656ad0908c4e0195540182">__attribute__</a>((unused)) ,</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">char</span> *key <a class="code" href="../../d4/d72/my__attribute_8h.html#a4fb2431b46656ad0908c4e0195540182">__attribute__</a>((unused)),</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">char</span> *cert <a class="code" href="../../d4/d72/my__attribute_8h.html#a4fb2431b46656ad0908c4e0195540182">__attribute__</a>((unused)),</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">char</span> *ca <a class="code" href="../../d4/d72/my__attribute_8h.html#a4fb2431b46656ad0908c4e0195540182">__attribute__</a>((unused)),</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">char</span> *capath <a class="code" href="../../d4/d72/my__attribute_8h.html#a4fb2431b46656ad0908c4e0195540182">__attribute__</a>((unused)),</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">char</span> *cipher <a class="code" href="../../d4/d72/my__attribute_8h.html#a4fb2431b46656ad0908c4e0195540182">__attribute__</a>((unused)))</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;{</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;mysql_ssl_set&quot;</span>);</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;<span class="preprocessor">#if defined(HAVE_OPENSSL) &amp;&amp; !defined(EMBEDDED_LIBRARY)</span></div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a43176d9b1d3e5e54ac0b2c263ec4441a">ssl_key</a>=    <a class="code" href="../../dd/d93/client_8c.html#adb43e2a1ec360e404c1accbdf4d7215d">strdup_if_not_null</a>(key);</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a4723de8759d3e167f5690fe2abfb98a9">ssl_cert</a>=   <a class="code" href="../../dd/d93/client_8c.html#adb43e2a1ec360e404c1accbdf4d7215d">strdup_if_not_null</a>(cert);</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a418b114edbc344a140c90df9d1f2cd39">ssl_ca</a>=     <a class="code" href="../../dd/d93/client_8c.html#adb43e2a1ec360e404c1accbdf4d7215d">strdup_if_not_null</a>(ca);</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a19477c3410299535e086c5fe482f06f4">ssl_capath</a>= <a class="code" href="../../dd/d93/client_8c.html#adb43e2a1ec360e404c1accbdf4d7215d">strdup_if_not_null</a>(capath);</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a79dd7a4b9bec6d8d6fb17027dcc49c9e">ssl_cipher</a>= <a class="code" href="../../dd/d93/client_8c.html#adb43e2a1ec360e404c1accbdf4d7215d">strdup_if_not_null</a>(cipher);</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* HAVE_OPENSSL &amp;&amp; !EMBEDDED_LIBRARY */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(0);</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;}</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160; </div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160; </div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;<span class="comment">  Free strings in the SSL structure and clear &#39;use_ssl&#39; flag.</span></div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;<span class="comment">  NB! Errors are not reported until you do mysql_real_connect.</span></div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160; </div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;<span class="preprocessor">#if defined(HAVE_OPENSSL) &amp;&amp; !defined(EMBEDDED_LIBRARY)</span></div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160; </div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;mysql_ssl_free(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql <a class="code" href="../../d4/d72/my__attribute_8h.html#a4fb2431b46656ad0908c4e0195540182">__attribute__</a>((unused)))</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;{</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;  <span class="keyword">struct </span>st_VioSSLFd *ssl_fd= (<span class="keyword">struct </span>st_VioSSLFd*) mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a88b1d70cf9bc81ce088f0a3418d6429c">connector_fd</a>;</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;mysql_ssl_free&quot;</span>);</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160; </div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a43176d9b1d3e5e54ac0b2c263ec4441a">ssl_key</a>);</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a4723de8759d3e167f5690fe2abfb98a9">ssl_cert</a>);</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a418b114edbc344a140c90df9d1f2cd39">ssl_ca</a>);</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a19477c3410299535e086c5fe482f06f4">ssl_capath</a>);</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a79dd7a4b9bec6d8d6fb17027dcc49c9e">ssl_cipher</a>);</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;  <span class="keywordflow">if</span> (ssl_fd)</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    SSL_CTX_free(ssl_fd-&gt;ssl_context);</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a88b1d70cf9bc81ce088f0a3418d6429c">connector_fd</a>);</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a43176d9b1d3e5e54ac0b2c263ec4441a">ssl_key</a> = 0;</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a4723de8759d3e167f5690fe2abfb98a9">ssl_cert</a> = 0;</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a418b114edbc344a140c90df9d1f2cd39">ssl_ca</a> = 0;</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a19477c3410299535e086c5fe482f06f4">ssl_capath</a> = 0;</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a79dd7a4b9bec6d8d6fb17027dcc49c9e">ssl_cipher</a>= 0;</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a4c429488249a27b52cbd3757e15c17c9">use_ssl</a> = <a class="code" href="../../d8/dec/mpq-internal_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a88b1d70cf9bc81ce088f0a3418d6429c">connector_fd</a> = 0;</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a2d990f1c0bd095fcbac9c6596274be55">DBUG_VOID_RETURN</a>;</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;}</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160; </div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* HAVE_OPENSSL &amp;&amp; !EMBEDDED_LIBRARY */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160; </div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;<span class="comment">  Return the SSL cipher (if any) used for current</span></div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;<span class="comment">  connection to the server.</span></div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;<span class="comment">  SYNOPSYS</span></div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;<span class="comment">    mysql_get_ssl_cipher()</span></div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;<span class="comment">      mysql pointer to the mysql connection</span></div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160; </div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="../../d9/df6/my__global_8h.html#a446cf449a6234c9b177309d5ba0852c0">STDCALL</a></div>
<div class="line"><a name="l01821"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a7d61b9023352dbb50b0744a8eda6ddb1"> 1821</a></span>&#160;<a class="code" href="../../dd/d93/client_8c.html#a7d61b9023352dbb50b0744a8eda6ddb1">mysql_get_ssl_cipher</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql <a class="code" href="../../d4/d72/my__attribute_8h.html#a4fb2431b46656ad0908c4e0195540182">__attribute__</a>((unused)))</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;{</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;mysql_get_ssl_cipher&quot;</span>);</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;<span class="preprocessor">#if defined(HAVE_OPENSSL) &amp;&amp; !defined(EMBEDDED_LIBRARY)</span></div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a> &amp;&amp; mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a>-&gt;ssl_arg)</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(SSL_get_cipher_name((SSL*)mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a>-&gt;ssl_arg));</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* HAVE_OPENSSL &amp;&amp; !EMBEDDED_LIBRARY */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;}</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160; </div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160; </div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;<span class="comment">  Check the server&#39;s (subject) Common Name against the</span></div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;<span class="comment">  hostname we connected to</span></div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;<span class="comment">  SYNOPSIS</span></div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;<span class="comment">  ssl_verify_server_cert()</span></div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;<span class="comment">    vio              pointer to a SSL connected vio</span></div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;<span class="comment">    server_hostname  name of the server that we connected to</span></div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;<span class="comment">  RETURN VALUES</span></div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;<span class="comment">   0 Success</span></div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;<span class="comment">   1 Failed to validate server</span></div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160; </div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;<span class="preprocessor">#if defined(HAVE_OPENSSL) &amp;&amp; !defined(EMBEDDED_LIBRARY)</span></div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160; </div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> ssl_verify_server_cert(<a class="code" href="../../df/d29/structst__vio.html">Vio</a> *vio, <span class="keyword">const</span> <span class="keywordtype">char</span>* server_hostname)</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;{</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;  SSL *ssl;</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;  X509 *server_cert;</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;  <span class="keywordtype">char</span> *cp1, *cp2;</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;  <span class="keywordtype">char</span> buf[256];</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;ssl_verify_server_cert&quot;</span>);</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;enter&quot;</span>, (<span class="stringliteral">&quot;server_hostname: %s&quot;</span>, server_hostname));</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160; </div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;  <span class="keywordflow">if</span> (!(ssl= (SSL*)vio-&gt;ssl_arg))</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;  {</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;error&quot;</span>, (<span class="stringliteral">&quot;No SSL pointer found&quot;</span>));</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(1);</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;  }</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160; </div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  <span class="keywordflow">if</span> (!server_hostname)</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;  {</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;error&quot;</span>, (<span class="stringliteral">&quot;No server hostname supplied&quot;</span>));</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(1);</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;  }</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160; </div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;  <span class="keywordflow">if</span> (!(server_cert= SSL_get_peer_certificate(ssl)))</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;  {</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;error&quot;</span>, (<span class="stringliteral">&quot;Could not get server certificate&quot;</span>));</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(1);</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;  }</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160; </div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;<span class="comment">    We already know that the certificate exchanged was valid; the SSL library</span></div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;<span class="comment">    handled that. Now we need to verify that the contents of the certificate</span></div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;<span class="comment">    are what we expect.</span></div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160; </div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;  X509_NAME_oneline(X509_get_subject_name(server_cert), buf, <span class="keyword">sizeof</span>(buf));</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;  X509_free (server_cert);</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160; </div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;hostname in cert: %s&quot;</span>, buf));</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;  cp1= strstr(buf, <span class="stringliteral">&quot;/CN=&quot;</span>);</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;  <span class="keywordflow">if</span> (cp1)</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;  {</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    cp1+= 4; <span class="comment">/* Skip the &quot;/CN=&quot; that we found */</span></div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;    <span class="comment">/* Search for next / which might be the delimiter for email */</span></div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;    cp2= strchr(cp1, <span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    <span class="keywordflow">if</span> (cp2)</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;      *cp2= <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;Server hostname in cert: %s&quot;</span>, cp1));</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    <span class="keywordflow">if</span> (!strcmp(cp1, server_hostname))</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    {</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;      <span class="comment">/* Success */</span></div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(0);</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;    }</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;  }</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;error&quot;</span>, (<span class="stringliteral">&quot;SSL certificate validation failure&quot;</span>));</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(1);</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;}</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160; </div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* HAVE_OPENSSL &amp;&amp; !EMBEDDED_LIBRARY */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160; </div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160; </div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;<span class="comment">  Note that the mysql argument must be initialized with mysql_init()</span></div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;<span class="comment">  before calling mysql_real_connect !</span></div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160; </div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;<span class="keyword">static</span> <a class="code" href="../../d9/df6/my__global_8h.html#a74cd599039dcf29c6e6d342cf4efd0a8">my_bool</a> <a class="code" href="../../dd/d93/client_8c.html#a54d8ebd9ff6d0d747510b396ef03e3c0">cli_read_query_result</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql);</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;<span class="keyword">static</span> <a class="code" href="../../dc/de8/structst__mysql__res.html">MYSQL_RES</a> *<a class="code" href="../../dd/d93/client_8c.html#a91ba7172f7c75fa4d389269e3a964291">cli_use_result</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql);</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160; </div>
<div class="line"><a name="l01916"></a><span class="lineno"><a class="line" href="../../d5/dcc/client__settings_8h.html#af69def6cca16cc71b1a699b7efc70d4c"> 1916</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../dd/d93/client_8c.html#af69def6cca16cc71b1a699b7efc70d4c">cli_read_change_user_result</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql)</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;{</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../dd/d93/client_8c.html#a3196ee8555d77cf23d15d3e0c096740c">cli_safe_read</a>(mysql);</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;}</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160; </div>
<div class="line"><a name="l01921"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a68bcd6319765477a61243779f9ab7df3"> 1921</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../d2/d94/structst__mysql__methods.html">MYSQL_METHODS</a> <a class="code" href="../../dd/d93/client_8c.html#a68bcd6319765477a61243779f9ab7df3">client_methods</a>=</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;{</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#a54d8ebd9ff6d0d747510b396ef03e3c0">cli_read_query_result</a>,                       <span class="comment">/* read_query_result */</span></div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#af6c31e405a4fbf7b849f6074efd6af7d">cli_advanced_command</a>,                        <span class="comment">/* advanced_command */</span></div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#af9572871c978640e582d2424cabc7123">cli_read_rows</a>,                               <span class="comment">/* read_rows */</span></div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#a91ba7172f7c75fa4d389269e3a964291">cli_use_result</a>,                              <span class="comment">/* use_result */</span></div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#aa667e91072c23ca21739908a0005e068">cli_fetch_lengths</a>,                           <span class="comment">/* fetch_lengths */</span></div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#a545b912b7a3382e8e54bbac89e39240e">cli_flush_use_result</a>,                        <span class="comment">/* flush_use_result */</span></div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#af69def6cca16cc71b1a699b7efc70d4c">cli_read_change_user_result</a>                  <span class="comment">/* read_change_user_result */</span></div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;<span class="preprocessor">#ifndef MYSQL_SERVER</span></div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;  ,<a class="code" href="../../d5/dcc/client__settings_8h.html#a459abde5b69aed21b0141bdb8744c301">cli_list_fields</a>,                            <span class="comment">/* list_fields */</span></div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;  <a class="code" href="../../d5/dcc/client__settings_8h.html#a74badfdef7cc00b006ffa5ed37625593">cli_read_prepare_result</a>,                     <span class="comment">/* read_prepare_result */</span></div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;  <a class="code" href="../../d5/dcc/client__settings_8h.html#a42b3fbd9996fcdda901bb70b12e3467e">cli_stmt_execute</a>,                            <span class="comment">/* stmt_execute */</span></div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;  <a class="code" href="../../d5/dcc/client__settings_8h.html#a3dfea418d32a7bf304738c5dd38b8d4d">cli_read_binary_rows</a>,                        <span class="comment">/* read_binary_rows */</span></div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;  <a class="code" href="../../d5/dcc/client__settings_8h.html#acdb2fdac73f4800ecec1f2cdddc500d1">cli_unbuffered_fetch</a>,                        <span class="comment">/* unbuffered_fetch */</span></div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;  <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>,                                        <span class="comment">/* free_embedded_thd */</span></div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;  <a class="code" href="../../d5/dcc/client__settings_8h.html#ad166f8dd58038aec54c7e137c257c17e">cli_read_statistics</a>,                         <span class="comment">/* read_statistics */</span></div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#a54d8ebd9ff6d0d747510b396ef03e3c0">cli_read_query_result</a>,                       <span class="comment">/* next_result */</span></div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;  <a class="code" href="../../d5/dcc/client__settings_8h.html#a3dfea418d32a7bf304738c5dd38b8d4d">cli_read_binary_rows</a>                         <span class="comment">/* read_rows_from_cursor */</span></div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;};</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160; </div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160; </div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160; </div>
<div class="line"><a name="l01945"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348"> 1945</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348">my_cs_match_type_enum</a></div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;{</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;  <span class="comment">/* MySQL and OS charsets are fully compatible */</span></div>
<div class="line"><a name="l01948"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041"> 1948</a></span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>,</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;  <span class="comment">/* MySQL charset is very close to OS charset  */</span></div>
<div class="line"><a name="l01950"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a902fda10ccd8515e8b389b83fdaf3d5c"> 1950</a></span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a902fda10ccd8515e8b389b83fdaf3d5c">my_cs_approx</a>,</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;<span class="comment">    MySQL knows this charset, but it is not supported as client character set.</span></div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a09af78d3de49fa8d7272832744174bb3">my_cs_unsupp</a></div>
<div class="line"><a name="l01955"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#ac52bf79d90412a7dcc566b677fac6fa2"> 1955</a></span>&#160;} <a class="code" href="../../dd/d93/client_8c.html#ac52bf79d90412a7dcc566b677fac6fa2">my_cs_match_type</a>;</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160; </div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160; </div>
<div class="line"><a name="l01958"></a><span class="lineno"><a class="line" href="../../d3/d6c/structstr2str__st.html"> 1958</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d3/d6c/structstr2str__st.html">str2str_st</a></div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;{</div>
<div class="line"><a name="l01960"></a><span class="lineno"><a class="line" href="../../d3/d6c/structstr2str__st.html#a5ea7bb54da30a7945a93dc5e6caefc96"> 1960</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d6c/structstr2str__st.html#a5ea7bb54da30a7945a93dc5e6caefc96">os_name</a>;</div>
<div class="line"><a name="l01961"></a><span class="lineno"><a class="line" href="../../d3/d6c/structstr2str__st.html#a1109ef4f27855b7f99a01b060d3bad51"> 1961</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d6c/structstr2str__st.html#a1109ef4f27855b7f99a01b060d3bad51">my_name</a>;</div>
<div class="line"><a name="l01962"></a><span class="lineno"><a class="line" href="../../d3/d6c/structstr2str__st.html#a0ee6ea36ced444a7bbc96f9a620a3e59"> 1962</a></span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#ac52bf79d90412a7dcc566b677fac6fa2">my_cs_match_type</a> <a class="code" href="../../d3/d6c/structstr2str__st.html#a0ee6ea36ced444a7bbc96f9a620a3e59">param</a>;</div>
<div class="line"><a name="l01963"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a08d6934a1415517354e87290c3f68529"> 1963</a></span>&#160;} <a class="code" href="../../dd/d93/client_8c.html#a08d6934a1415517354e87290c3f68529">MY_CSET_OS_NAME</a>;</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160; </div>
<div class="line"><a name="l01965"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#ac9c363355a9d5879adf11c8a8be774f8"> 1965</a></span>&#160;<span class="keyword">const</span> <a class="code" href="../../d3/d6c/structstr2str__st.html">MY_CSET_OS_NAME</a> <a class="code" href="../../dd/d93/client_8c.html#ac9c363355a9d5879adf11c8a8be774f8">charsets</a>[]=</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;{</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;<span class="preprocessor">#ifdef __WIN__</span></div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;  {<span class="stringliteral">&quot;cp437&quot;</span>,          <span class="stringliteral">&quot;cp850&quot;</span>,    <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a902fda10ccd8515e8b389b83fdaf3d5c">my_cs_approx</a>},</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;  {<span class="stringliteral">&quot;cp850&quot;</span>,          <span class="stringliteral">&quot;cp850&quot;</span>,    <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;  {<span class="stringliteral">&quot;cp852&quot;</span>,          <span class="stringliteral">&quot;cp852&quot;</span>,    <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;  {<span class="stringliteral">&quot;cp858&quot;</span>,          <span class="stringliteral">&quot;cp850&quot;</span>,    <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a902fda10ccd8515e8b389b83fdaf3d5c">my_cs_approx</a>},</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;  {<span class="stringliteral">&quot;cp866&quot;</span>,          <span class="stringliteral">&quot;cp866&quot;</span>,    <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;  {<span class="stringliteral">&quot;cp874&quot;</span>,          <span class="stringliteral">&quot;tis620&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a902fda10ccd8515e8b389b83fdaf3d5c">my_cs_approx</a>},</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;  {<span class="stringliteral">&quot;cp932&quot;</span>,          <span class="stringliteral">&quot;cp932&quot;</span>,    <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;  {<span class="stringliteral">&quot;cp936&quot;</span>,          <span class="stringliteral">&quot;gbk&quot;</span>,      <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a902fda10ccd8515e8b389b83fdaf3d5c">my_cs_approx</a>},</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;  {<span class="stringliteral">&quot;cp949&quot;</span>,          <span class="stringliteral">&quot;euckr&quot;</span>,    <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a902fda10ccd8515e8b389b83fdaf3d5c">my_cs_approx</a>},</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;  {<span class="stringliteral">&quot;cp950&quot;</span>,          <span class="stringliteral">&quot;big5&quot;</span>,     <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;  {<span class="stringliteral">&quot;cp1200&quot;</span>,         <span class="stringliteral">&quot;utf16le&quot;</span>,  <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a09af78d3de49fa8d7272832744174bb3">my_cs_unsupp</a>},</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;  {<span class="stringliteral">&quot;cp1201&quot;</span>,         <span class="stringliteral">&quot;utf16&quot;</span>,    <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a09af78d3de49fa8d7272832744174bb3">my_cs_unsupp</a>},</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;  {<span class="stringliteral">&quot;cp1250&quot;</span>,         <span class="stringliteral">&quot;cp1250&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;  {<span class="stringliteral">&quot;cp1251&quot;</span>,         <span class="stringliteral">&quot;cp1251&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;  {<span class="stringliteral">&quot;cp1252&quot;</span>,         <span class="stringliteral">&quot;latin1&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;  {<span class="stringliteral">&quot;cp1253&quot;</span>,         <span class="stringliteral">&quot;greek&quot;</span>,    <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;  {<span class="stringliteral">&quot;cp1254&quot;</span>,         <span class="stringliteral">&quot;latin5&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;  {<span class="stringliteral">&quot;cp1255&quot;</span>,         <span class="stringliteral">&quot;hebrew&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a902fda10ccd8515e8b389b83fdaf3d5c">my_cs_approx</a>},</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;  {<span class="stringliteral">&quot;cp1256&quot;</span>,         <span class="stringliteral">&quot;cp1256&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;  {<span class="stringliteral">&quot;cp1257&quot;</span>,         <span class="stringliteral">&quot;cp1257&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;  {<span class="stringliteral">&quot;cp10000&quot;</span>,        <span class="stringliteral">&quot;macroman&quot;</span>, <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;  {<span class="stringliteral">&quot;cp10001&quot;</span>,        <span class="stringliteral">&quot;sjis&quot;</span>,     <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a902fda10ccd8515e8b389b83fdaf3d5c">my_cs_approx</a>},</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;  {<span class="stringliteral">&quot;cp10002&quot;</span>,        <span class="stringliteral">&quot;big5&quot;</span>,     <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a902fda10ccd8515e8b389b83fdaf3d5c">my_cs_approx</a>},</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;  {<span class="stringliteral">&quot;cp10008&quot;</span>,        <span class="stringliteral">&quot;gb2312&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a902fda10ccd8515e8b389b83fdaf3d5c">my_cs_approx</a>},</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;  {<span class="stringliteral">&quot;cp10021&quot;</span>,        <span class="stringliteral">&quot;tis620&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a902fda10ccd8515e8b389b83fdaf3d5c">my_cs_approx</a>},</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;  {<span class="stringliteral">&quot;cp10029&quot;</span>,        <span class="stringliteral">&quot;macce&quot;</span>,    <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;  {<span class="stringliteral">&quot;cp12001&quot;</span>,        <span class="stringliteral">&quot;utf32&quot;</span>,    <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a09af78d3de49fa8d7272832744174bb3">my_cs_unsupp</a>},</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;  {<span class="stringliteral">&quot;cp20107&quot;</span>,        <span class="stringliteral">&quot;swe7&quot;</span>,     <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;  {<span class="stringliteral">&quot;cp20127&quot;</span>,        <span class="stringliteral">&quot;latin1&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a902fda10ccd8515e8b389b83fdaf3d5c">my_cs_approx</a>},</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;  {<span class="stringliteral">&quot;cp20866&quot;</span>,        <span class="stringliteral">&quot;koi8r&quot;</span>,    <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;  {<span class="stringliteral">&quot;cp20932&quot;</span>,        <span class="stringliteral">&quot;ujis&quot;</span>,     <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;  {<span class="stringliteral">&quot;cp20936&quot;</span>,        <span class="stringliteral">&quot;gb2312&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a902fda10ccd8515e8b389b83fdaf3d5c">my_cs_approx</a>},</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;  {<span class="stringliteral">&quot;cp20949&quot;</span>,        <span class="stringliteral">&quot;euckr&quot;</span>,    <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a902fda10ccd8515e8b389b83fdaf3d5c">my_cs_approx</a>},</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;  {<span class="stringliteral">&quot;cp21866&quot;</span>,        <span class="stringliteral">&quot;koi8u&quot;</span>,    <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;  {<span class="stringliteral">&quot;cp28591&quot;</span>,        <span class="stringliteral">&quot;latin1&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a902fda10ccd8515e8b389b83fdaf3d5c">my_cs_approx</a>},</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;  {<span class="stringliteral">&quot;cp28592&quot;</span>,        <span class="stringliteral">&quot;latin2&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;  {<span class="stringliteral">&quot;cp28597&quot;</span>,        <span class="stringliteral">&quot;greek&quot;</span>,    <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;  {<span class="stringliteral">&quot;cp28598&quot;</span>,        <span class="stringliteral">&quot;hebrew&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;  {<span class="stringliteral">&quot;cp28599&quot;</span>,        <span class="stringliteral">&quot;latin5&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;  {<span class="stringliteral">&quot;cp28603&quot;</span>,        <span class="stringliteral">&quot;latin7&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;<span class="preprocessor">#ifdef UNCOMMENT_THIS_WHEN_WL_4579_IS_DONE</span></div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;  {<span class="stringliteral">&quot;cp28605&quot;</span>,        <span class="stringliteral">&quot;latin9&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;  {<span class="stringliteral">&quot;cp38598&quot;</span>,        <span class="stringliteral">&quot;hebrew&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;  {<span class="stringliteral">&quot;cp51932&quot;</span>,        <span class="stringliteral">&quot;ujis&quot;</span>,     <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;  {<span class="stringliteral">&quot;cp51936&quot;</span>,        <span class="stringliteral">&quot;gb2312&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;  {<span class="stringliteral">&quot;cp51949&quot;</span>,        <span class="stringliteral">&quot;euckr&quot;</span>,    <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;  {<span class="stringliteral">&quot;cp51950&quot;</span>,        <span class="stringliteral">&quot;big5&quot;</span>,     <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;<span class="preprocessor">#ifdef UNCOMMENT_THIS_WHEN_WL_WL_4024_IS_DONE</span></div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;  {<span class="stringliteral">&quot;cp54936&quot;</span>,        <span class="stringliteral">&quot;gb18030&quot;</span>,  <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;  {<span class="stringliteral">&quot;cp65001&quot;</span>,        <span class="stringliteral">&quot;utf8&quot;</span>,     <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160; </div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;<span class="preprocessor">#else </span><span class="comment">/* not Windows */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160; </div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;  {<span class="stringliteral">&quot;646&quot;</span>,            <span class="stringliteral">&quot;latin1&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a902fda10ccd8515e8b389b83fdaf3d5c">my_cs_approx</a>}, <span class="comment">/* Default on Solaris */</span></div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;  {<span class="stringliteral">&quot;ANSI_X3.4-1968&quot;</span>, <span class="stringliteral">&quot;latin1&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a902fda10ccd8515e8b389b83fdaf3d5c">my_cs_approx</a>},</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;  {<span class="stringliteral">&quot;ansi1251&quot;</span>,       <span class="stringliteral">&quot;cp1251&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;  {<span class="stringliteral">&quot;armscii8&quot;</span>,       <span class="stringliteral">&quot;armscii8&quot;</span>, <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;  {<span class="stringliteral">&quot;armscii-8&quot;</span>,      <span class="stringliteral">&quot;armscii8&quot;</span>, <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;  {<span class="stringliteral">&quot;ASCII&quot;</span>,          <span class="stringliteral">&quot;latin1&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a902fda10ccd8515e8b389b83fdaf3d5c">my_cs_approx</a>},</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;  {<span class="stringliteral">&quot;Big5&quot;</span>,           <span class="stringliteral">&quot;big5&quot;</span>,     <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;  {<span class="stringliteral">&quot;cp1251&quot;</span>,         <span class="stringliteral">&quot;cp1251&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;  {<span class="stringliteral">&quot;cp1255&quot;</span>,         <span class="stringliteral">&quot;hebrew&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a902fda10ccd8515e8b389b83fdaf3d5c">my_cs_approx</a>},</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;  {<span class="stringliteral">&quot;CP866&quot;</span>,          <span class="stringliteral">&quot;cp866&quot;</span>,    <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;  {<span class="stringliteral">&quot;eucCN&quot;</span>,          <span class="stringliteral">&quot;gb2312&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;  {<span class="stringliteral">&quot;euc-CN&quot;</span>,         <span class="stringliteral">&quot;gb2312&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;  {<span class="stringliteral">&quot;eucJP&quot;</span>,          <span class="stringliteral">&quot;ujis&quot;</span>,     <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;  {<span class="stringliteral">&quot;euc-JP&quot;</span>,         <span class="stringliteral">&quot;ujis&quot;</span>,     <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;  {<span class="stringliteral">&quot;eucKR&quot;</span>,          <span class="stringliteral">&quot;euckr&quot;</span>,    <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;  {<span class="stringliteral">&quot;euc-KR&quot;</span>,         <span class="stringliteral">&quot;euckr&quot;</span>,    <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;<span class="preprocessor">#ifdef UNCOMMENT_THIS_WHEN_WL_WL_4024_IS_DONE</span></div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;  {<span class="stringliteral">&quot;gb18030&quot;</span>,        <span class="stringliteral">&quot;gb18030&quot;</span>,  <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;  {<span class="stringliteral">&quot;gb2312&quot;</span>,         <span class="stringliteral">&quot;gb2312&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;  {<span class="stringliteral">&quot;gbk&quot;</span>,            <span class="stringliteral">&quot;gbk&quot;</span>,      <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;  {<span class="stringliteral">&quot;georgianps&quot;</span>,     <span class="stringliteral">&quot;geostd8&quot;</span>,  <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;  {<span class="stringliteral">&quot;georgian-ps&quot;</span>,    <span class="stringliteral">&quot;geostd8&quot;</span>,  <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;  {<span class="stringliteral">&quot;IBM-1252&quot;</span>,       <span class="stringliteral">&quot;cp1252&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160; </div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;  {<span class="stringliteral">&quot;iso88591&quot;</span>,       <span class="stringliteral">&quot;latin1&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a902fda10ccd8515e8b389b83fdaf3d5c">my_cs_approx</a>},</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;  {<span class="stringliteral">&quot;ISO_8859-1&quot;</span>,     <span class="stringliteral">&quot;latin1&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a902fda10ccd8515e8b389b83fdaf3d5c">my_cs_approx</a>},</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;  {<span class="stringliteral">&quot;ISO8859-1&quot;</span>,      <span class="stringliteral">&quot;latin1&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a902fda10ccd8515e8b389b83fdaf3d5c">my_cs_approx</a>},</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;  {<span class="stringliteral">&quot;ISO-8859-1&quot;</span>,     <span class="stringliteral">&quot;latin1&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a902fda10ccd8515e8b389b83fdaf3d5c">my_cs_approx</a>},</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160; </div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;  {<span class="stringliteral">&quot;iso885913&quot;</span>,      <span class="stringliteral">&quot;latin7&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;  {<span class="stringliteral">&quot;ISO_8859-13&quot;</span>,    <span class="stringliteral">&quot;latin7&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;  {<span class="stringliteral">&quot;ISO8859-13&quot;</span>,     <span class="stringliteral">&quot;latin7&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;  {<span class="stringliteral">&quot;ISO-8859-13&quot;</span>,    <span class="stringliteral">&quot;latin7&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160; </div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;<span class="preprocessor">#ifdef UNCOMMENT_THIS_WHEN_WL_4579_IS_DONE</span></div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;  {<span class="stringliteral">&quot;iso885915&quot;</span>,      <span class="stringliteral">&quot;latin9&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;  {<span class="stringliteral">&quot;ISO_8859-15&quot;</span>,    <span class="stringliteral">&quot;latin9&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;  {<span class="stringliteral">&quot;ISO8859-15&quot;</span>,     <span class="stringliteral">&quot;latin9&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;  {<span class="stringliteral">&quot;ISO-8859-15&quot;</span>,    <span class="stringliteral">&quot;latin9&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160; </div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;  {<span class="stringliteral">&quot;iso88592&quot;</span>,       <span class="stringliteral">&quot;latin2&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;  {<span class="stringliteral">&quot;ISO_8859-2&quot;</span>,     <span class="stringliteral">&quot;latin2&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;  {<span class="stringliteral">&quot;ISO8859-2&quot;</span>,      <span class="stringliteral">&quot;latin2&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;  {<span class="stringliteral">&quot;ISO-8859-2&quot;</span>,     <span class="stringliteral">&quot;latin2&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160; </div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;  {<span class="stringliteral">&quot;iso88597&quot;</span>,       <span class="stringliteral">&quot;greek&quot;</span>,    <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;  {<span class="stringliteral">&quot;ISO_8859-7&quot;</span>,     <span class="stringliteral">&quot;greek&quot;</span>,    <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;  {<span class="stringliteral">&quot;ISO8859-7&quot;</span>,      <span class="stringliteral">&quot;greek&quot;</span>,    <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;  {<span class="stringliteral">&quot;ISO-8859-7&quot;</span>,     <span class="stringliteral">&quot;greek&quot;</span>,    <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160; </div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;  {<span class="stringliteral">&quot;iso88598&quot;</span>,       <span class="stringliteral">&quot;hebrew&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;  {<span class="stringliteral">&quot;ISO_8859-8&quot;</span>,     <span class="stringliteral">&quot;hebrew&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;  {<span class="stringliteral">&quot;ISO8859-8&quot;</span>,      <span class="stringliteral">&quot;hebrew&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;  {<span class="stringliteral">&quot;ISO-8859-8&quot;</span>,     <span class="stringliteral">&quot;hebrew&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160; </div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;  {<span class="stringliteral">&quot;iso88599&quot;</span>,       <span class="stringliteral">&quot;latin5&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;  {<span class="stringliteral">&quot;ISO_8859-9&quot;</span>,     <span class="stringliteral">&quot;latin5&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;  {<span class="stringliteral">&quot;ISO8859-9&quot;</span>,      <span class="stringliteral">&quot;latin5&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;  {<span class="stringliteral">&quot;ISO-8859-9&quot;</span>,     <span class="stringliteral">&quot;latin5&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160; </div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;  {<span class="stringliteral">&quot;koi8r&quot;</span>,          <span class="stringliteral">&quot;koi8r&quot;</span>,    <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;  {<span class="stringliteral">&quot;KOI8-R&quot;</span>,         <span class="stringliteral">&quot;koi8r&quot;</span>,    <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;  {<span class="stringliteral">&quot;koi8u&quot;</span>,          <span class="stringliteral">&quot;koi8u&quot;</span>,    <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;  {<span class="stringliteral">&quot;KOI8-U&quot;</span>,         <span class="stringliteral">&quot;koi8u&quot;</span>,    <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160; </div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;  {<span class="stringliteral">&quot;roman8&quot;</span>,         <span class="stringliteral">&quot;hp8&quot;</span>,      <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>}, <span class="comment">/* Default on HP UX */</span></div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160; </div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;  {<span class="stringliteral">&quot;Shift_JIS&quot;</span>,      <span class="stringliteral">&quot;sjis&quot;</span>,     <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;  {<span class="stringliteral">&quot;SJIS&quot;</span>,           <span class="stringliteral">&quot;sjis&quot;</span>,     <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;  {<span class="stringliteral">&quot;shiftjisx0213&quot;</span>,  <span class="stringliteral">&quot;sjis&quot;</span>,     <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;  </div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;  {<span class="stringliteral">&quot;tis620&quot;</span>,         <span class="stringliteral">&quot;tis620&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;  {<span class="stringliteral">&quot;tis-620&quot;</span>,        <span class="stringliteral">&quot;tis620&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160; </div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;  {<span class="stringliteral">&quot;ujis&quot;</span>,           <span class="stringliteral">&quot;ujis&quot;</span>,     <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160; </div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;  {<span class="stringliteral">&quot;US-ASCII&quot;</span>,       <span class="stringliteral">&quot;latin1&quot;</span>,   <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a902fda10ccd8515e8b389b83fdaf3d5c">my_cs_approx</a>},</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160; </div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;  {<span class="stringliteral">&quot;utf8&quot;</span>,           <span class="stringliteral">&quot;utf8&quot;</span>,     <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;  {<span class="stringliteral">&quot;utf-8&quot;</span>,          <span class="stringliteral">&quot;utf8&quot;</span>,     <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>},</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;  {<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>,             <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>,       0}</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;};</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160; </div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160; </div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l02111"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a9cf8b513f95f7f7c168036214ffdbd0a"> 2111</a></span>&#160;<a class="code" href="../../dd/d93/client_8c.html#a9cf8b513f95f7f7c168036214ffdbd0a">my_os_charset_to_mysql_charset</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *csname)</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;{</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d3/d6c/structstr2str__st.html">MY_CSET_OS_NAME</a> *csp;</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;  <span class="keywordflow">for</span> (csp= <a class="code" href="../../dd/d93/client_8c.html#ac9c363355a9d5879adf11c8a8be774f8">charsets</a>; csp-&gt;<a class="code" href="../../d3/d6c/structstr2str__st.html#a5ea7bb54da30a7945a93dc5e6caefc96">os_name</a>; csp++)</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;  {</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/dd3/m__ctype_8h.html#a532db9bd70f331abb8f79bcab5ccc4f9">my_strcasecmp</a>(&amp;<a class="code" href="../../d8/dd3/m__ctype_8h.html#aa4bc5bb4f339afec426049fee727d701">my_charset_latin1</a>, csp-&gt;<a class="code" href="../../d3/d6c/structstr2str__st.html#a5ea7bb54da30a7945a93dc5e6caefc96">os_name</a>, csname))</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;    {</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;      <span class="keywordflow">switch</span> (csp-&gt;<a class="code" href="../../d3/d6c/structstr2str__st.html#a0ee6ea36ced444a7bbc96f9a620a3e59">param</a>)</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;      {</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a>:</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;        <span class="keywordflow">return</span> csp-&gt;<a class="code" href="../../d3/d6c/structstr2str__st.html#a1109ef4f27855b7f99a01b060d3bad51">my_name</a>;</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160; </div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a902fda10ccd8515e8b389b83fdaf3d5c">my_cs_approx</a>:</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;<span class="comment">          Maybe we should print a warning eventually:</span></div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;<span class="comment">          character set correspondence is not exact.</span></div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;        <span class="keywordflow">return</span> csp-&gt;<a class="code" href="../../d3/d6c/structstr2str__st.html#a1109ef4f27855b7f99a01b060d3bad51">my_name</a>;</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160; </div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;        <a class="code" href="../../db/da9/my__sys_8h.html#a115124c3ebcbb4542773516497bb7325">my_printf_error</a>(<a class="code" href="../../d1/d40/mysqld__error_8h.html#a9ff6ec02fa175373c3244f6e58937794">ER_UNKNOWN_ERROR</a>,</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;                        <span class="stringliteral">&quot;OS character set &#39;%s&#39;&quot;</span></div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;                        <span class="stringliteral">&quot; is not supported by MySQL client&quot;</span>,</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;                         <a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(0), csp-&gt;<a class="code" href="../../d3/d6c/structstr2str__st.html#a1109ef4f27855b7f99a01b060d3bad51">my_name</a>);</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;        <span class="keywordflow">goto</span> def;</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;      }</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;    }</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;  }</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160; </div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a115124c3ebcbb4542773516497bb7325">my_printf_error</a>(<a class="code" href="../../d1/d40/mysqld__error_8h.html#a9ff6ec02fa175373c3244f6e58937794">ER_UNKNOWN_ERROR</a>,</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;                  <span class="stringliteral">&quot;Unknown OS character set &#39;%s&#39;.&quot;</span>,</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;                  <a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(0), csname);</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160; </div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;def:</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;  csname= MYSQL_DEFAULT_CHARSET_NAME;</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a115124c3ebcbb4542773516497bb7325">my_printf_error</a>(<a class="code" href="../../d1/d40/mysqld__error_8h.html#a9ff6ec02fa175373c3244f6e58937794">ER_UNKNOWN_ERROR</a>,</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;                  <span class="stringliteral">&quot;Switching to the default character set &#39;%s&#39;.&quot;</span>,</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;                  <a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(0), csname);</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;  <span class="keywordflow">return</span> csname;</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;}</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160; </div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160; </div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;<span class="preprocessor">#ifndef __WIN__</span></div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;<span class="preprocessor">#include &lt;stdlib.h&gt;</span> <span class="comment">/* for getenv() */</span></div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;<span class="preprocessor">#ifdef HAVE_LANGINFO_H</span></div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;<span class="preprocessor">#include &lt;langinfo.h&gt;</span></div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;<span class="preprocessor">#ifdef HAVE_LOCALE_H</span></div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../db/d9f/locale_8h.html">locale.h</a>&gt;</span></div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* __WIN__ */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160; </div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160; </div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l02165"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a8a6fa3f2eda0113a03d7e992a1f61bc4"> 2165</a></span>&#160;<a class="code" href="../../dd/d93/client_8c.html#a8a6fa3f2eda0113a03d7e992a1f61bc4">mysql_autodetect_character_set</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql)</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;{</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *csname= MYSQL_DEFAULT_CHARSET_NAME;</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160; </div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;<span class="preprocessor">#ifdef __WIN__</span></div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;  <span class="keywordtype">char</span> cpbuf[64];</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;  {</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;    <a class="code" href="../../dc/d8d/service__my__snprintf_8h.html#ade7f1c92738a9c69d5aa585ce4b66abd">my_snprintf</a>(cpbuf, <span class="keyword">sizeof</span>(cpbuf), <span class="stringliteral">&quot;cp%d&quot;</span>, (<span class="keywordtype">int</span>) GetConsoleCP());</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;    csname= <a class="code" href="../../dd/d93/client_8c.html#a9cf8b513f95f7f7c168036214ffdbd0a">my_os_charset_to_mysql_charset</a>(cpbuf);</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;  }</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;<span class="preprocessor">#elif defined(HAVE_SETLOCALE) &amp;&amp; defined(HAVE_NL_LANGINFO)</span></div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;  {</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;    <span class="keywordflow">if</span> (setlocale(LC_CTYPE, <span class="stringliteral">&quot;&quot;</span>) &amp;&amp; (csname= nl_langinfo(CODESET)))</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;      csname= <a class="code" href="../../dd/d93/client_8c.html#a9cf8b513f95f7f7c168036214ffdbd0a">my_os_charset_to_mysql_charset</a>(csname);</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;  }</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160; </div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;  <span class="keywordflow">if</span> (!(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a965be4c3b508a911b575fc0aa8fc3345">charset_name</a>= <a class="code" href="../../db/da9/my__sys_8h.html#a4921f2b355a65b5054cb2bbd15ba22ab">my_strdup</a>(csname, <a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a>))))</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;}</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160; </div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160; </div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l02189"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a3752b1c8eb8a754d4a240b4e76396f16"> 2189</a></span>&#160;<a class="code" href="../../dd/d93/client_8c.html#a3752b1c8eb8a754d4a240b4e76396f16">mysql_set_character_set_with_default_collation</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql)</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;{</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *save= <a class="code" href="../../db/da9/my__sys_8h.html#af9cb7f78e8f902070fc0b12bb2cef074">charsets_dir</a>;</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a8e4ad7ebde4a8956788247faf4da20fb">charset_dir</a>)</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#af9cb7f78e8f902070fc0b12bb2cef074">charsets_dir</a>=mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a8e4ad7ebde4a8956788247faf4da20fb">charset_dir</a>;</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160; </div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;  <span class="keywordflow">if</span> ((mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a5d128ecd21c6265f37c283824b3ad813">charset</a>= <a class="code" href="../../db/da9/my__sys_8h.html#abf10515a3f1b19855e05753bd98f7fae">get_charset_by_csname</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a965be4c3b508a911b575fc0aa8fc3345">charset_name</a>,</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;                                             <a class="code" href="../../d8/dd3/m__ctype_8h.html#a022686dd31fec7303576d0181403e78b">MY_CS_PRIMARY</a>, <a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a>))))</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;  {</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;    <span class="comment">/* Try to set compiled default collation when it&#39;s possible. */</span></div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;    <a class="code" href="../../d9/d35/structcharset__info__st.html">CHARSET_INFO</a> *collation;</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;    <span class="keywordflow">if</span> ((collation= </div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;         <a class="code" href="../../db/da9/my__sys_8h.html#ae2640dd0c28ca3503c2dbf7c19001e40">get_charset_by_name</a>(MYSQL_DEFAULT_COLLATION_NAME, <a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a>))) &amp;&amp;</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;                             <a class="code" href="../../db/da9/my__sys_8h.html#a51ff14a08d694508df268f6eb038fff4">my_charset_same</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a5d128ecd21c6265f37c283824b3ad813">charset</a>, collation))</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;    {</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;      mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a5d128ecd21c6265f37c283824b3ad813">charset</a>= collation;</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;    }</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;    {</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;      <span class="comment">/*</span></div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;<span class="comment">        Default compiled collation not found, or is not applicable</span></div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;<span class="comment">        to the requested character set.</span></div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;<span class="comment">        Continue with the default collation of the character set.</span></div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;<span class="comment">      */</span></div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;    }</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;  }</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#af9cb7f78e8f902070fc0b12bb2cef074">charsets_dir</a>= save;</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;}</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160; </div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160; </div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;<a class="code" href="../../d9/df6/my__global_8h.html#a0d8b1eb12b1df133027257618fa791ba">C_MODE_START</a></div>
<div class="line"><a name="l02220"></a><span class="lineno"><a class="line" href="../../d5/dcc/client__settings_8h.html#a4f61d4e8c709e649f20b036221a5d158"> 2220</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../dd/d93/client_8c.html#a4f61d4e8c709e649f20b036221a5d158">mysql_init_character_set</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql)</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;{</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;  <span class="comment">/* Set character set */</span></div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;  <span class="keywordflow">if</span> (!mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a965be4c3b508a911b575fc0aa8fc3345">charset_name</a>)</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;  {</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;    <span class="keywordflow">if</span> (!(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a965be4c3b508a911b575fc0aa8fc3345">charset_name</a>= </div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;       <a class="code" href="../../db/da9/my__sys_8h.html#a4921f2b355a65b5054cb2bbd15ba22ab">my_strdup</a>(MYSQL_DEFAULT_CHARSET_NAME,<a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a>))))</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;      <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;  }</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a965be4c3b508a911b575fc0aa8fc3345">charset_name</a>,</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;                   <a class="code" href="../../d6/df0/mysql__com_8h.html#af90027415d21c1a1bcc4e8ecd52ded0a">MYSQL_AUTODETECT_CHARSET_NAME</a>) &amp;&amp;</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;            <a class="code" href="../../dd/d93/client_8c.html#a8a6fa3f2eda0113a03d7e992a1f61bc4">mysql_autodetect_character_set</a>(mysql))</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160; </div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#a3752b1c8eb8a754d4a240b4e76396f16">mysql_set_character_set_with_default_collation</a>(mysql);</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160; </div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;  <span class="keywordflow">if</span> (!mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a5d128ecd21c6265f37c283824b3ad813">charset</a>)</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;  {</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;    <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a8e4ad7ebde4a8956788247faf4da20fb">charset_dir</a>)</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#a38da6df00d5415a769e8a69867158b0d">set_mysql_extended_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a41077e45f70366587bf3b209eff3196d">CR_CANT_READ_CHARSET</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>,</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;                               <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(<a class="code" href="../../d8/d50/errmsg_8h.html#a41077e45f70366587bf3b209eff3196d">CR_CANT_READ_CHARSET</a>),</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;                               mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a965be4c3b508a911b575fc0aa8fc3345">charset_name</a>,</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;                               mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a8e4ad7ebde4a8956788247faf4da20fb">charset_dir</a>);</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;    {</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;      <span class="keywordtype">char</span> cs_dir_name[<a class="code" href="../../d9/df6/my__global_8h.html#a0fd6678904889e4aeff1402c35e890da">FN_REFLEN</a>];</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;      <a class="code" href="../../db/da9/my__sys_8h.html#ad7812723c4d0baddbd236386ba733cfb">get_charsets_dir</a>(cs_dir_name);</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#a38da6df00d5415a769e8a69867158b0d">set_mysql_extended_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a41077e45f70366587bf3b209eff3196d">CR_CANT_READ_CHARSET</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>,</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;                               <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(<a class="code" href="../../d8/d50/errmsg_8h.html#a41077e45f70366587bf3b209eff3196d">CR_CANT_READ_CHARSET</a>),</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;                               mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a965be4c3b508a911b575fc0aa8fc3345">charset_name</a>,</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;                               cs_dir_name);</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;    }</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;  }</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;}</div>
<div class="line"><a name="l02256"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a5947b78f1c74adc223c8d1c15338d676"> 2256</a></span>&#160;<a class="code" href="../../d9/df6/my__global_8h.html#a78ebe90e173b58f4c96bf01168b23923">C_MODE_END</a></div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160; </div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;<span class="comment">/*********** client side authentication support **************************/</span></div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160; </div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/de7/structst__mysql__client__plugin___a_u_t_h_e_n_t_i_c_a_t_i_o_n.html">st_mysql_client_plugin_AUTHENTICATION</a> <a class="code" href="../../dd/d93/client_8c.html#a5947b78f1c74adc223c8d1c15338d676">auth_plugin_t</a>;</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d93/client_8c.html#af42045b2aa13ba9c91140944444cfde8">client_mpvio_write_packet</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/df3/structst__plugin__vio.html">st_plugin_vio</a>*, <span class="keyword">const</span> <a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>*, <span class="keywordtype">int</span>);</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d93/client_8c.html#a2672ce8803f7121abe072a5bd0a6aaa2">native_password_auth_client</a>(<a class="code" href="../../d4/df3/structst__plugin__vio.html">MYSQL_PLUGIN_VIO</a> *vio, <a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql);</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d93/client_8c.html#a615316bb640747b1985a5d8e6ab3b825">old_password_auth_client</a>(<a class="code" href="../../d4/df3/structst__plugin__vio.html">MYSQL_PLUGIN_VIO</a> *vio, <a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql);</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160; </div>
<div class="line"><a name="l02265"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a57be9588aaeb8d39f2aa571ef7c599e3"> 2265</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../dd/d93/client_8c.html#a5947b78f1c74adc223c8d1c15338d676">auth_plugin_t</a> <a class="code" href="../../dd/d93/client_8c.html#a57be9588aaeb8d39f2aa571ef7c599e3">native_password_client_plugin</a>=</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;{</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;  <a class="code" href="../../da/d2f/client__plugin_8h.html#afb1e5ef94f39fd38147347a56c64e540">MYSQL_CLIENT_AUTHENTICATION_PLUGIN</a>,</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;  <a class="code" href="../../da/d2f/client__plugin_8h.html#a6bb95288c33f992893496ff7a695a1bd">MYSQL_CLIENT_AUTHENTICATION_PLUGIN_INTERFACE_VERSION</a>,</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#ac6ae64e4a3d19ae64c79c0b7afa56f37">native_password_plugin_name</a>,</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;  <span class="stringliteral">&quot;R.J.Silk, Sergei Golubchik&quot;</span>,</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;  <span class="stringliteral">&quot;Native MySQL authentication&quot;</span>,</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;  {1, 0, 0},</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;  <span class="stringliteral">&quot;GPL&quot;</span>,</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;  <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>,</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;  <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>,</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;  <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>,</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;  <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>,</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#a2672ce8803f7121abe072a5bd0a6aaa2">native_password_auth_client</a></div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;};</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160; </div>
<div class="line"><a name="l02281"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#ac3966a8be18df03c9c334178305d0ecf"> 2281</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../dd/d93/client_8c.html#a5947b78f1c74adc223c8d1c15338d676">auth_plugin_t</a> <a class="code" href="../../dd/d93/client_8c.html#ac3966a8be18df03c9c334178305d0ecf">old_password_client_plugin</a>=</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;{</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;  <a class="code" href="../../da/d2f/client__plugin_8h.html#afb1e5ef94f39fd38147347a56c64e540">MYSQL_CLIENT_AUTHENTICATION_PLUGIN</a>,</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;  <a class="code" href="../../da/d2f/client__plugin_8h.html#a6bb95288c33f992893496ff7a695a1bd">MYSQL_CLIENT_AUTHENTICATION_PLUGIN_INTERFACE_VERSION</a>,</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#a329c5a74e7eb4f20edf5b6b18c127c7c">old_password_plugin_name</a>,</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;  <span class="stringliteral">&quot;R.J.Silk, Sergei Golubchik&quot;</span>,</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;  <span class="stringliteral">&quot;Old MySQL-3.23 authentication&quot;</span>,</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;  {1, 0, 0},</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;  <span class="stringliteral">&quot;GPL&quot;</span>,</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;  <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>,</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;  <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>,</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;  <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>,</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;  <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>,</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#a615316bb640747b1985a5d8e6ab3b825">old_password_auth_client</a></div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;};</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160; </div>
<div class="line"><a name="l02297"></a><span class="lineno"><a class="line" href="../../d6/d2a/sql__common_8h.html#afa083ad989cbc1302375bfaf0f1ceb16"> 2297</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d4/db7/structst__mysql__client__plugin.html">st_mysql_client_plugin</a> *<a class="code" href="../../dd/d93/client_8c.html#afa083ad989cbc1302375bfaf0f1ceb16">mysql_client_builtins</a>[]=</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;{</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;  (<span class="keyword">struct </span><a class="code" href="../../d4/db7/structst__mysql__client__plugin.html">st_mysql_client_plugin</a> *)&amp;<a class="code" href="../../dd/d93/client_8c.html#a57be9588aaeb8d39f2aa571ef7c599e3">native_password_client_plugin</a>,</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;  (<span class="keyword">struct</span> <a class="code" href="../../d4/db7/structst__mysql__client__plugin.html">st_mysql_client_plugin</a> *)&amp;<a class="code" href="../../dd/d93/client_8c.html#ac3966a8be18df03c9c334178305d0ecf">old_password_client_plugin</a>,</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;  0</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;};</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160; </div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160; </div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160; </div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;<span class="comment">/* this is a &quot;superset&quot; of MYSQL_PLUGIN_VIO, in C++ I use inheritance */</span></div>
<div class="line"><a name="l02307"></a><span class="lineno"><a class="line" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html"> 2307</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l02308"></a><span class="lineno"><a class="line" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#aebbbe5241ddd2b349f443f45eb6250df"> 2308</a></span>&#160;  int (*read_packet)(<span class="keyword">struct </span><a class="code" href="../../d4/df3/structst__plugin__vio.html">st_plugin_vio</a> *vio, <a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> **buf);</div>
<div class="line"><a name="l02309"></a><span class="lineno"><a class="line" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a520bb858f88b811dd547f3ad7ea72ff6"> 2309</a></span>&#160;  int (*<a class="code" href="../../d4/df3/structst__plugin__vio.html#a2244f66d6d88ef3f2e83a0b477daca59">write_packet</a>)(<span class="keyword">struct </span><a class="code" href="../../d4/df3/structst__plugin__vio.html">st_plugin_vio</a> *vio, <span class="keyword">const</span> <a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *pkt, <span class="keywordtype">int</span> pkt_len);</div>
<div class="line"><a name="l02310"></a><span class="lineno"><a class="line" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#aa05c77f2de8794542da349fca2b363f5"> 2310</a></span>&#160;  void (*<a class="code" href="../../d4/df3/structst__plugin__vio.html#a0d40a824617256c9d36fa34affbcc795">info</a>)(<span class="keyword">struct </span><a class="code" href="../../d4/df3/structst__plugin__vio.html">st_plugin_vio</a> *vio, <span class="keyword">struct </span><a class="code" href="../../d8/d46/structst__plugin__vio__info.html">st_plugin_vio_info</a> *<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#aa05c77f2de8794542da349fca2b363f5">info</a>);</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;  <span class="comment">/* -= end of MYSQL_PLUGIN_VIO =- */</span></div>
<div class="line"><a name="l02312"></a><span class="lineno"><a class="line" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#ac86a509d72ae18f54036e51f242721c8"> 2312</a></span>&#160;  <a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#ac86a509d72ae18f54036e51f242721c8">mysql</a>;</div>
<div class="line"><a name="l02313"></a><span class="lineno"><a class="line" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a3311388695d5b40e2cd37f2a99ac6a8d"> 2313</a></span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#a5947b78f1c74adc223c8d1c15338d676">auth_plugin_t</a> *<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a3311388695d5b40e2cd37f2a99ac6a8d">plugin</a>;            </div>
<div class="line"><a name="l02314"></a><span class="lineno"><a class="line" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a922304e514fc745ab5749179a1b8b4ef"> 2314</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a922304e514fc745ab5749179a1b8b4ef">db</a>;</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;  <span class="keyword">struct </span>{</div>
<div class="line"><a name="l02316"></a><span class="lineno"><a class="line" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a4895b1e68fbd4507fc232bf63c5d7bbc"> 2316</a></span>&#160;    <a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a4895b1e68fbd4507fc232bf63c5d7bbc">pkt</a>;                     </div>
<div class="line"><a name="l02317"></a><span class="lineno"><a class="line" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#ab21aa0e0f2a7377f93d7773a8a8a3f19"> 2317</a></span>&#160;    <a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#ab21aa0e0f2a7377f93d7773a8a8a3f19">pkt_len</a>;</div>
<div class="line"><a name="l02318"></a><span class="lineno"><a class="line" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a0df6a778566056f94e719dcb9dfd2042"> 2318</a></span>&#160;  } cached_server_reply;</div>
<div class="line"><a name="l02319"></a><span class="lineno"><a class="line" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a49b27c78513b350c936e299061083602"> 2319</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a49b27c78513b350c936e299061083602">packets_read</a>, packets_written; </div>
<div class="line"><a name="l02320"></a><span class="lineno"><a class="line" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#af7faa2a4cafd01c91875937eb023802f"> 2320</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#af7faa2a4cafd01c91875937eb023802f">mysql_change_user</a>;            </div>
<div class="line"><a name="l02321"></a><span class="lineno"><a class="line" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#af05487909329576cb78c63752c8b8cdd"> 2321</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#af05487909329576cb78c63752c8b8cdd">last_read_packet_len</a>;         </div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;} <a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html">MCPVIO_EXT</a>;</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160; </div>
<div class="line"><a name="l02343"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#af31ac4cfbfcb9687e151a79b53911fe7"> 2343</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d93/client_8c.html#af31ac4cfbfcb9687e151a79b53911fe7">send_change_user_packet</a>(<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html">MCPVIO_EXT</a> *mpvio,</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *<a class="code" href="../../df/dea/structdata.html">data</a>, <span class="keywordtype">int</span> data_len)</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;{</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;  <a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql= mpvio-&gt;<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#ac86a509d72ae18f54036e51f242721c8">mysql</a>;</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;  <span class="keywordtype">char</span> *buff, *end;</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;  <span class="keywordtype">int</span> res= 1;</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160; </div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;  buff= <a class="code" href="../../db/da9/my__sys_8h.html#a532484a8b7e33a2a835db48b6de71d32">my_alloca</a>(<a class="code" href="../../d6/df0/mysql__com_8h.html#a63b42dc81a45f8f72a2cca3994c19d0e">USERNAME_LENGTH</a> + data_len + 1 + <a class="code" href="../../d6/df0/mysql__com_8h.html#a4853f6c25c8394fd57c4d99f61d5cd89">NAME_LEN</a> + 2 + <a class="code" href="../../d6/df0/mysql__com_8h.html#a4853f6c25c8394fd57c4d99f61d5cd89">NAME_LEN</a>);</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160; </div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;  end= <a class="code" href="../../d6/dda/m__string_8h.html#accb13dc1bbc754b77a9ecd9c3e832595">strmake</a>(buff, mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ad5bf53f25b64492bee18c140c11081b6">user</a>, <a class="code" href="../../d6/df0/mysql__com_8h.html#a63b42dc81a45f8f72a2cca3994c19d0e">USERNAME_LENGTH</a>) + 1;</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160; </div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;  <span class="keywordflow">if</span> (!data_len)</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;    *end++= 0;</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;  {</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;    <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af572471668d07fd887bc68d44375d8a5">client_flag</a> &amp; <a class="code" href="../../d6/df0/mysql__com_8h.html#a1f0015726f2864954cbfd4e5256cc351">CLIENT_SECURE_CONNECTION</a>)</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;    {</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;      <a class="code" href="../../d0/d74/my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(data_len &lt;= 255);</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;      <span class="keywordflow">if</span> (data_len &gt; 255)</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;      {</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;        <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a2943d879c4463f77aebf37a8ef01483d">CR_MALFORMED_PACKET</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;      }</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;      *end++= data_len;</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;    }</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;    {</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;      <a class="code" href="../../d0/d74/my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(data_len == <a class="code" href="../../d6/df0/mysql__com_8h.html#a302a1cb038a2bf21e7f6a90b0b51f48f">SCRAMBLE_LENGTH_323</a> + 1);</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;      <a class="code" href="../../d0/d74/my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(<a class="code" href="../../df/dea/structdata.html">data</a>[<a class="code" href="../../d6/df0/mysql__com_8h.html#a302a1cb038a2bf21e7f6a90b0b51f48f">SCRAMBLE_LENGTH_323</a>] == 0);</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;    }</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a>(end, <a class="code" href="../../df/dea/structdata.html">data</a>, data_len);</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;    end+= data_len;</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;  }</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;  end= <a class="code" href="../../d6/dda/m__string_8h.html#accb13dc1bbc754b77a9ecd9c3e832595">strmake</a>(end, mpvio-&gt;<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a922304e514fc745ab5749179a1b8b4ef">db</a> ? mpvio-&gt;<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a922304e514fc745ab5749179a1b8b4ef">db</a> : <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="../../d6/df0/mysql__com_8h.html#a4853f6c25c8394fd57c4d99f61d5cd89">NAME_LEN</a>) + 1;</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160; </div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab9c7460496350f7aa331c104aa54717d">server_capabilities</a> &amp; <a class="code" href="../../d6/df0/mysql__com_8h.html#acde6ac915ca4c7bc88ae19d7dd9a04c4">CLIENT_PROTOCOL_41</a>)</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;  {</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;    <a class="code" href="../../d9/df6/my__global_8h.html#a6f6f61d5af9109734e58655847608da7">int2store</a>(end, (<a class="code" href="../../d9/df6/my__global_8h.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a>) mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a5d128ecd21c6265f37c283824b3ad813">charset</a>-&gt;<a class="code" href="../../d9/d35/structcharset__info__st.html#a6d363ae2fe9c967882433136a400c848">number</a>);</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;    end+= 2;</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;  }</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160; </div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab9c7460496350f7aa331c104aa54717d">server_capabilities</a> &amp; <a class="code" href="../../d6/df0/mysql__com_8h.html#a2a6cb83350f95a382a35de3021904012">CLIENT_PLUGIN_AUTH</a>)</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;    end= <a class="code" href="../../d6/dda/m__string_8h.html#accb13dc1bbc754b77a9ecd9c3e832595">strmake</a>(end, mpvio-&gt;<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a3311388695d5b40e2cd37f2a99ac6a8d">plugin</a>-&gt;name, <a class="code" href="../../d6/df0/mysql__com_8h.html#a4853f6c25c8394fd57c4d99f61d5cd89">NAME_LEN</a>) + 1;</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160; </div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;  res= <a class="code" href="../../d6/d2a/sql__common_8h.html#aa84198878fcd7ae6485dbc1f23216794">simple_command</a>(mysql, <a class="code" href="../../d6/df0/mysql__com_8h.html#ae2ff1badf13d2b8099af8b47831281e1af972540f80ad0ed82d0563f9966b5fcc">COM_CHANGE_USER</a>,</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;                      (<a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>*)buff, (<a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>)(end-buff), 1);</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160; </div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;<a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>:</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#afc5dd02e4d18f23a51c9db57c96a22ae">my_afree</a>(buff);</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;  <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;}</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160; </div>
<div class="line"><a name="l02425"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a1124f9d99ba6bcdc20200cd9782ea588"> 2425</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d93/client_8c.html#a1124f9d99ba6bcdc20200cd9782ea588">send_client_reply_packet</a>(<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html">MCPVIO_EXT</a> *mpvio,</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *<a class="code" href="../../df/dea/structdata.html">data</a>, <span class="keywordtype">int</span> data_len)</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;{</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;  <a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql= mpvio-&gt;<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#ac86a509d72ae18f54036e51f242721c8">mysql</a>;</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;  <a class="code" href="../../de/d2d/structst__net.html">NET</a> *net= &amp;mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>;</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;  <span class="keywordtype">char</span> *buff, *end;</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160; </div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;  <span class="comment">/* see end= buff+32 below, fixed size of the packet is 32 bytes */</span></div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;  buff= <a class="code" href="../../db/da9/my__sys_8h.html#a532484a8b7e33a2a835db48b6de71d32">my_alloca</a>(33 + <a class="code" href="../../d6/df0/mysql__com_8h.html#a63b42dc81a45f8f72a2cca3994c19d0e">USERNAME_LENGTH</a> + data_len + <a class="code" href="../../d6/df0/mysql__com_8h.html#a4853f6c25c8394fd57c4d99f61d5cd89">NAME_LEN</a> + <a class="code" href="../../d6/df0/mysql__com_8h.html#a4853f6c25c8394fd57c4d99f61d5cd89">NAME_LEN</a>);</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;  </div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af572471668d07fd887bc68d44375d8a5">client_flag</a>|= mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a92c47dfe1c8de03a65b81863a88c9355">client_flag</a>;</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af572471668d07fd887bc68d44375d8a5">client_flag</a>|= <a class="code" href="../../d5/dcc/client__settings_8h.html#a8e11e980d6c108cda2a1473d4bf15944">CLIENT_CAPABILITIES</a>;</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160; </div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af572471668d07fd887bc68d44375d8a5">client_flag</a> &amp; <a class="code" href="../../d6/df0/mysql__com_8h.html#a5aa1db4db950d645235a4f73263ee911">CLIENT_MULTI_STATEMENTS</a>)</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af572471668d07fd887bc68d44375d8a5">client_flag</a>|= <a class="code" href="../../d6/df0/mysql__com_8h.html#a2ffea3e8918e7c9a3a2323030a2bfe0a">CLIENT_MULTI_RESULTS</a>;</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160; </div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;<span class="preprocessor">#if defined(HAVE_OPENSSL) &amp;&amp; !defined(EMBEDDED_LIBRARY)</span></div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a43176d9b1d3e5e54ac0b2c263ec4441a">ssl_key</a> || mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a4723de8759d3e167f5690fe2abfb98a9">ssl_cert</a> ||</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;      mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a418b114edbc344a140c90df9d1f2cd39">ssl_ca</a> || mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a19477c3410299535e086c5fe482f06f4">ssl_capath</a> ||</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;      mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a79dd7a4b9bec6d8d6fb17027dcc49c9e">ssl_cipher</a>)</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a4c429488249a27b52cbd3757e15c17c9">use_ssl</a>= 1;</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a4c429488249a27b52cbd3757e15c17c9">use_ssl</a>)</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af572471668d07fd887bc68d44375d8a5">client_flag</a>|= <a class="code" href="../../d6/df0/mysql__com_8h.html#aa7b23d0f15fbcd6f975df1d6204ea5a2">CLIENT_SSL</a>;</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* HAVE_OPENSSL &amp;&amp; !EMBEDDED_LIBRARY*/</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;  <span class="keywordflow">if</span> (mpvio-&gt;<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a922304e514fc745ab5749179a1b8b4ef">db</a>)</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af572471668d07fd887bc68d44375d8a5">client_flag</a>|= <a class="code" href="../../d6/df0/mysql__com_8h.html#a5077ddf4e9da252588645484d8e2f72f">CLIENT_CONNECT_WITH_DB</a>;</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160; </div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;  <span class="comment">/* Remove options that server doesn&#39;t support */</span></div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af572471668d07fd887bc68d44375d8a5">client_flag</a>= mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af572471668d07fd887bc68d44375d8a5">client_flag</a> &amp;</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;                       (~(<a class="code" href="../../d6/df0/mysql__com_8h.html#a69668fa642cd688ab5a3c24de87c0b9a">CLIENT_COMPRESS</a> | <a class="code" href="../../d6/df0/mysql__com_8h.html#aa7b23d0f15fbcd6f975df1d6204ea5a2">CLIENT_SSL</a> | <a class="code" href="../../d6/df0/mysql__com_8h.html#acde6ac915ca4c7bc88ae19d7dd9a04c4">CLIENT_PROTOCOL_41</a>) </div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;                       | mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab9c7460496350f7aa331c104aa54717d">server_capabilities</a>);</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160; </div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;<span class="preprocessor">#ifndef HAVE_COMPRESS</span></div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af572471668d07fd887bc68d44375d8a5">client_flag</a>&amp;= ~<a class="code" href="../../d6/df0/mysql__com_8h.html#a69668fa642cd688ab5a3c24de87c0b9a">CLIENT_COMPRESS</a>;</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160; </div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af572471668d07fd887bc68d44375d8a5">client_flag</a> &amp; <a class="code" href="../../d6/df0/mysql__com_8h.html#acde6ac915ca4c7bc88ae19d7dd9a04c4">CLIENT_PROTOCOL_41</a>)</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;  {</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;    <span class="comment">/* 4.1 server and 4.1 client has a 32 byte option flag */</span></div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;    <a class="code" href="../../d9/df6/my__global_8h.html#a229ef3470200fcf0b825e61ef9b1b6ba">int4store</a>(buff,mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af572471668d07fd887bc68d44375d8a5">client_flag</a>);</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;    <a class="code" href="../../d9/df6/my__global_8h.html#a229ef3470200fcf0b825e61ef9b1b6ba">int4store</a>(buff+4, net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a519fa13bc0447d4058c9f32b9b34a08a">max_packet_size</a>);</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;    buff[8]= (char) mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a5d128ecd21c6265f37c283824b3ad813">charset</a>-&gt;<a class="code" href="../../d9/d35/structcharset__info__st.html#a6d363ae2fe9c967882433136a400c848">number</a>;</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#ab3be5dcbbf1244672c14662b20f88b61">bzero</a>(buff+9, 32-9);</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;    end= buff+32;</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;  }</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;  {</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;    <a class="code" href="../../d9/df6/my__global_8h.html#a6f6f61d5af9109734e58655847608da7">int2store</a>(buff, mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af572471668d07fd887bc68d44375d8a5">client_flag</a>);</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;    <a class="code" href="../../d9/df6/my__global_8h.html#a604b63506b0857bf76b616883aeb1099">int3store</a>(buff+2, net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a519fa13bc0447d4058c9f32b9b34a08a">max_packet_size</a>);</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;    end= buff+5;</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;  }</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;<span class="preprocessor">#ifdef HAVE_OPENSSL</span></div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af572471668d07fd887bc68d44375d8a5">client_flag</a> &amp; <a class="code" href="../../d6/df0/mysql__com_8h.html#aa7b23d0f15fbcd6f975df1d6204ea5a2">CLIENT_SSL</a>)</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;  {</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;    <span class="comment">/* Do the SSL layering. */</span></div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d7/dc7/structst__mysql__options.html">st_mysql_options</a> *options= &amp;mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>;</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;    <span class="keyword">struct </span>st_VioSSLFd *ssl_fd;</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160; </div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;<span class="comment">      Send mysql-&gt;client_flag, max_packet_size - unencrypted otherwise</span></div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;<span class="comment">      the server does not know we want to do SSL</span></div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/df0/mysql__com_8h.html#af45505e7a6e2428e0e1690006c4fd117">my_net_write</a>(net, (<a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>*)buff, (<span class="keywordtype">size_t</span>) (end-buff)) || <a class="code" href="../../d6/df0/mysql__com_8h.html#a8b25274dbacc2f6d54ce7efffe6c4d4b">net_flush</a>(net))</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;    {</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#a38da6df00d5415a769e8a69867158b0d">set_mysql_extended_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a057dc122082ea5b47db99487107a48b6">CR_SERVER_LOST</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>,</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;                               <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(<a class="code" href="../../d8/d50/errmsg_8h.html#ab797865ea4d25f9fc537af74f610994d">CR_SERVER_LOST_EXTENDED</a>),</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;                               <span class="stringliteral">&quot;sending connection information to server&quot;</span>,</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;                               <a class="code" href="../../db/da9/my__sys_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>);</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;    }</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160; </div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;    <span class="comment">/* Create the VioSSLConnectorFd - init SSL and load certs */</span></div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;    <span class="keywordflow">if</span> (!(ssl_fd= new_VioSSLConnectorFd(options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a43176d9b1d3e5e54ac0b2c263ec4441a">ssl_key</a>,</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;                                        options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a4723de8759d3e167f5690fe2abfb98a9">ssl_cert</a>,</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;                                        options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a418b114edbc344a140c90df9d1f2cd39">ssl_ca</a>,</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;                                        options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a19477c3410299535e086c5fe482f06f4">ssl_capath</a>,</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;                                        options-&gt;<a class="code" href="../../d7/dc7/structst__mysql__options.html#a79dd7a4b9bec6d8d6fb17027dcc49c9e">ssl_cipher</a>)))</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;    {</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a1417629a0138810437b50d5b1b813658">CR_SSL_CONNECTION_ERROR</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;    }</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a88b1d70cf9bc81ce088f0a3418d6429c">connector_fd</a>= (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) ssl_fd;</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160; </div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;    <span class="comment">/* Connect to the server */</span></div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;IO layer change in progress...&quot;</span>));</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;    <span class="keywordflow">if</span> (sslconnect(ssl_fd, net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a>,</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;                   (<span class="keywordtype">long</span>) (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#aa8475fa207a033461041fbfd868fe3c6">connect_timeout</a>)))</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;    {    </div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a1417629a0138810437b50d5b1b813658">CR_SSL_CONNECTION_ERROR</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;    }    </div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;IO layer change done!&quot;</span>));</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160; </div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;    <span class="comment">/* Verify server cert */</span></div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;    <span class="keywordflow">if</span> ((mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af572471668d07fd887bc68d44375d8a5">client_flag</a> &amp; <a class="code" href="../../d6/df0/mysql__com_8h.html#a4e7c0220984fdf1e231344f450cfd51e">CLIENT_SSL_VERIFY_SERVER_CERT</a>) &amp;&amp;</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;        ssl_verify_server_cert(net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a>, mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#aa63af77ef72c5732d53d735a67d20714">host</a>))</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;    {</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a1417629a0138810437b50d5b1b813658">CR_SSL_CONNECTION_ERROR</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;    }</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;  }</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* HAVE_OPENSSL */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160; </div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>,(<span class="stringliteral">&quot;Server version = &#39;%s&#39;  capabilites: %lu  status: %u  client_flag: %lu&quot;</span>,</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;             mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a72928c42be914f8c12aa24331c542b69">server_version</a>, mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab9c7460496350f7aa331c104aa54717d">server_capabilities</a>,</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;             mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab875d849ff6f754a85986fe538408667">server_status</a>, mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af572471668d07fd887bc68d44375d8a5">client_flag</a>));</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160; </div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#ab38d7adb06b45fd1830a4d3940a6aca7">compile_time_assert</a>(<a class="code" href="../../da/dd4/plugin__auth__common_8h.html#aa9261e7b650434a33f94d75a65fa9b57">MYSQL_USERNAME_LENGTH</a> == <a class="code" href="../../d6/df0/mysql__com_8h.html#a63b42dc81a45f8f72a2cca3994c19d0e">USERNAME_LENGTH</a>);</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160; </div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;  <span class="comment">/* This needs to be changed as it&#39;s not useful with big packets */</span></div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ad5bf53f25b64492bee18c140c11081b6">user</a>[0])</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#accb13dc1bbc754b77a9ecd9c3e832595">strmake</a>(end, mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ad5bf53f25b64492bee18c140c11081b6">user</a>, <a class="code" href="../../d6/df0/mysql__com_8h.html#a63b42dc81a45f8f72a2cca3994c19d0e">USERNAME_LENGTH</a>);</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;    <a class="code" href="../../d5/dcc/client__settings_8h.html#a5d319c7af028282e30657fb51e5cfe37">read_user_name</a>(end);</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160; </div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;  <span class="comment">/* We have to handle different version of handshake here */</span></div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>,(<span class="stringliteral">&quot;user: %s&quot;</span>,end));</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;  end= <a class="code" href="../../d6/dda/m__string_8h.html#ab21c8a48b0271e2ea1f8d4616dccbf98">strend</a>(end) + 1;</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;  <span class="keywordflow">if</span> (data_len)</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;  {</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;    <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab9c7460496350f7aa331c104aa54717d">server_capabilities</a> &amp; <a class="code" href="../../d6/df0/mysql__com_8h.html#a1f0015726f2864954cbfd4e5256cc351">CLIENT_SECURE_CONNECTION</a>)</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;    {</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;      *end++= data_len;</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;      <a class="code" href="../../d6/dda/m__string_8h.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a>(end, <a class="code" href="../../df/dea/structdata.html">data</a>, data_len);</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;      end+= data_len;</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;    }</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;    {</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;      <a class="code" href="../../d0/d74/my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(data_len == <a class="code" href="../../d6/df0/mysql__com_8h.html#a302a1cb038a2bf21e7f6a90b0b51f48f">SCRAMBLE_LENGTH_323</a> + 1); <span class="comment">/* incl. \0 at the end */</span></div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;      <a class="code" href="../../d6/dda/m__string_8h.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a>(end, <a class="code" href="../../df/dea/structdata.html">data</a>, data_len);</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;      end+= data_len;</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;    }</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;  }</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;    *end++= 0;</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160; </div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;  <span class="comment">/* Add database if needed */</span></div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;  <span class="keywordflow">if</span> (mpvio-&gt;<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a922304e514fc745ab5749179a1b8b4ef">db</a> &amp;&amp; (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab9c7460496350f7aa331c104aa54717d">server_capabilities</a> &amp; <a class="code" href="../../d6/df0/mysql__com_8h.html#a5077ddf4e9da252588645484d8e2f72f">CLIENT_CONNECT_WITH_DB</a>))</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;  {</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;    end= <a class="code" href="../../d6/dda/m__string_8h.html#accb13dc1bbc754b77a9ecd9c3e832595">strmake</a>(end, mpvio-&gt;<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a922304e514fc745ab5749179a1b8b4ef">db</a>, <a class="code" href="../../d6/df0/mysql__com_8h.html#a4853f6c25c8394fd57c4d99f61d5cd89">NAME_LEN</a>) + 1;</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#add1f635a8aea354868cfe57dba0d6298">db</a>= <a class="code" href="../../db/da9/my__sys_8h.html#a4921f2b355a65b5054cb2bbd15ba22ab">my_strdup</a>(mpvio-&gt;<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a922304e514fc745ab5749179a1b8b4ef">db</a>, <a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a>));</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;  }</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160; </div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab9c7460496350f7aa331c104aa54717d">server_capabilities</a> &amp; <a class="code" href="../../d6/df0/mysql__com_8h.html#a2a6cb83350f95a382a35de3021904012">CLIENT_PLUGIN_AUTH</a>)</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;    end= <a class="code" href="../../d6/dda/m__string_8h.html#accb13dc1bbc754b77a9ecd9c3e832595">strmake</a>(end, mpvio-&gt;<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a3311388695d5b40e2cd37f2a99ac6a8d">plugin</a>-&gt;name, <a class="code" href="../../d6/df0/mysql__com_8h.html#a4853f6c25c8394fd57c4d99f61d5cd89">NAME_LEN</a>) + 1;</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160; </div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;  <span class="comment">/* Write authentication package */</span></div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/df0/mysql__com_8h.html#af45505e7a6e2428e0e1690006c4fd117">my_net_write</a>(net, (<a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>*) buff, (<span class="keywordtype">size_t</span>) (end-buff)) || <a class="code" href="../../d6/df0/mysql__com_8h.html#a8b25274dbacc2f6d54ce7efffe6c4d4b">net_flush</a>(net))</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;  {</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#a38da6df00d5415a769e8a69867158b0d">set_mysql_extended_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a057dc122082ea5b47db99487107a48b6">CR_SERVER_LOST</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>,</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;                             <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(<a class="code" href="../../d8/d50/errmsg_8h.html#ab797865ea4d25f9fc537af74f610994d">CR_SERVER_LOST_EXTENDED</a>),</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;                             <span class="stringliteral">&quot;sending authentication information&quot;</span>,</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;                             <a class="code" href="../../db/da9/my__sys_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>);</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;    <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;  }</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#afc5dd02e4d18f23a51c9db57c96a22ae">my_afree</a>(buff);</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;  </div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;<a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>:</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#afc5dd02e4d18f23a51c9db57c96a22ae">my_afree</a>(buff);</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;}</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160; </div>
<div class="line"><a name="l02594"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a3b47476245fcd6cd49a12cbd2695edc9"> 2594</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d93/client_8c.html#a3b47476245fcd6cd49a12cbd2695edc9">client_mpvio_read_packet</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/df3/structst__plugin__vio.html">st_plugin_vio</a> *mpv, <a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> **buf)</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;{</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;  <a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html">MCPVIO_EXT</a> *mpvio= (<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html">MCPVIO_EXT</a>*)mpv;</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;  <a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql= mpvio-&gt;<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#ac86a509d72ae18f54036e51f242721c8">mysql</a>;</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>  pkt_len;</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160; </div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;  <span class="comment">/* there are cached data left, feed it to a plugin */</span></div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;  <span class="keywordflow">if</span> (mpvio-&gt;<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a0df6a778566056f94e719dcb9dfd2042">cached_server_reply</a>.<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a4895b1e68fbd4507fc232bf63c5d7bbc">pkt</a>)</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;  {</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;    *buf= mpvio-&gt;<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a0df6a778566056f94e719dcb9dfd2042">cached_server_reply</a>.<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a4895b1e68fbd4507fc232bf63c5d7bbc">pkt</a>;</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;    mpvio-&gt;<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a0df6a778566056f94e719dcb9dfd2042">cached_server_reply</a>.<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a4895b1e68fbd4507fc232bf63c5d7bbc">pkt</a>= 0;</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;    mpvio-&gt;<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a49b27c78513b350c936e299061083602">packets_read</a>++;</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;    <span class="keywordflow">return</span> mpvio-&gt;<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a0df6a778566056f94e719dcb9dfd2042">cached_server_reply</a>.<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#ab21aa0e0f2a7377f93d7773a8a8a3f19">pkt_len</a>;</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;  }</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160; </div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;  <span class="keywordflow">if</span> (mpvio-&gt;<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a49b27c78513b350c936e299061083602">packets_read</a> == 0)</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;  {</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;<span class="comment">      the server handshake packet came from the wrong plugin,</span></div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;<span class="comment">      or it&#39;s mysql_change_user(). Either way, there is no data</span></div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;<span class="comment">      for a plugin to read. send a dummy packet to the server</span></div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;<span class="comment">      to initiate a dialog.</span></div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d93/client_8c.html#af42045b2aa13ba9c91140944444cfde8">client_mpvio_write_packet</a>(mpv, 0, 0))</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;      <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)<a class="code" href="../../d6/df0/mysql__com_8h.html#a08253bf6eaa0178369f3ee1055b914a0">packet_error</a>;</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;  }</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160; </div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;  <span class="comment">/* otherwise read the data */</span></div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;  pkt_len= (*mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a04129bc0cbeda076db8ba274ed93328d">methods</a>-&gt;<a class="code" href="../../d2/d94/structst__mysql__methods.html#a25ee4ba8674354fad161db765af8dd58">read_change_user_result</a>)(mysql);</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;  mpvio-&gt;<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#af05487909329576cb78c63752c8b8cdd">last_read_packet_len</a>= pkt_len;</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;  *buf= mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#af65adc7b04ff56e008c6f8ca89cc12c2">read_pos</a>;</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160; </div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;  <span class="comment">/* was it a request to change plugins ? */</span></div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;  <span class="keywordflow">if</span> (**buf == 254)</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)<a class="code" href="../../d6/df0/mysql__com_8h.html#a08253bf6eaa0178369f3ee1055b914a0">packet_error</a>; <span class="comment">/* if yes, this plugin shan&#39;t continue */</span></div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160; </div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;<span class="comment">    the server sends \1\255 or \1\254 instead of just \255 or \254 -</span></div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;<span class="comment">    for us to not confuse it with an error or &quot;change plugin&quot; packets.</span></div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;<span class="comment">    We remove this escaping \1 here.</span></div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;<span class="comment">    See also server_mpvio_write_packet() where the escaping is done.</span></div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;  <span class="keywordflow">if</span> (pkt_len &amp;&amp; **buf == 1)</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;  {</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;    (*buf)++;</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;    pkt_len--;</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;  }</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;  mpvio-&gt;<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a49b27c78513b350c936e299061083602">packets_read</a>++;</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;  <span class="keywordflow">return</span> pkt_len;</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;}</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160; </div>
<div class="line"><a name="l02655"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#af42045b2aa13ba9c91140944444cfde8"> 2655</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d93/client_8c.html#af42045b2aa13ba9c91140944444cfde8">client_mpvio_write_packet</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/df3/structst__plugin__vio.html">st_plugin_vio</a> *mpv,</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *pkt, <span class="keywordtype">int</span> pkt_len)</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;{</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;  <span class="keywordtype">int</span> res;</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;  <a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html">MCPVIO_EXT</a> *mpvio= (<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html">MCPVIO_EXT</a>*)mpv;</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160; </div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;  <span class="keywordflow">if</span> (mpvio-&gt;<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#af8338da82858dd2eb51d8ea17348c4cc">packets_written</a> == 0)</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;  {</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;    <span class="keywordflow">if</span> (mpvio-&gt;<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#af7faa2a4cafd01c91875937eb023802f">mysql_change_user</a>)</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;      res= <a class="code" href="../../dd/d93/client_8c.html#af31ac4cfbfcb9687e151a79b53911fe7">send_change_user_packet</a>(mpvio, pkt, pkt_len);</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;      res= <a class="code" href="../../dd/d93/client_8c.html#a1124f9d99ba6bcdc20200cd9782ea588">send_client_reply_packet</a>(mpvio, pkt, pkt_len);</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;  }</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;  {</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;    <a class="code" href="../../de/d2d/structst__net.html">NET</a> *net= &amp;mpvio-&gt;<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#ac86a509d72ae18f54036e51f242721c8">mysql</a>-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>;</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;    <span class="keywordflow">if</span> (mpvio-&gt;<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#ac86a509d72ae18f54036e51f242721c8">mysql</a>-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af7c6f25aed31575514966a3cdf77ebc6">thd</a>)</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;      res= 1; <span class="comment">/* no chit-chat in embedded */</span></div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;      res= <a class="code" href="../../d6/df0/mysql__com_8h.html#af45505e7a6e2428e0e1690006c4fd117">my_net_write</a>(net, pkt, pkt_len) || <a class="code" href="../../d6/df0/mysql__com_8h.html#a8b25274dbacc2f6d54ce7efffe6c4d4b">net_flush</a>(net);</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;    <span class="keywordflow">if</span> (res)</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#a38da6df00d5415a769e8a69867158b0d">set_mysql_extended_error</a>(mpvio-&gt;<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#ac86a509d72ae18f54036e51f242721c8">mysql</a>, <a class="code" href="../../d8/d50/errmsg_8h.html#a057dc122082ea5b47db99487107a48b6">CR_SERVER_LOST</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>,</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;                               <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(<a class="code" href="../../d8/d50/errmsg_8h.html#ab797865ea4d25f9fc537af74f610994d">CR_SERVER_LOST_EXTENDED</a>),</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;                               <span class="stringliteral">&quot;sending authentication information&quot;</span>,</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;                               <a class="code" href="../../db/da9/my__sys_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>);</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;  }</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;  mpvio-&gt;<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#af8338da82858dd2eb51d8ea17348c4cc">packets_written</a>++;</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;  <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;}</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160; </div>
<div class="line"><a name="l02689"></a><span class="lineno"><a class="line" href="../../d6/d2a/sql__common_8h.html#a723a29ed814b5c8159f75fea62eae1fe"> 2689</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dd/d93/client_8c.html#a509fab81bc63f43c97c55a2384c739ec">mpvio_info</a>(<a class="code" href="../../df/d29/structst__vio.html">Vio</a> *vio, <a class="code" href="../../d8/d46/structst__plugin__vio__info.html">MYSQL_PLUGIN_VIO_INFO</a> *info)</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;{</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;  <a class="code" href="../../d6/dda/m__string_8h.html#ab3be5dcbbf1244672c14662b20f88b61">bzero</a>(info, <span class="keyword">sizeof</span>(*info));</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;  <span class="keywordflow">switch</span> (vio-&gt;<a class="code" href="../../df/d29/structst__vio.html#a20c81217581afa374c9988f171956122">type</a>) {</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="../../d2/dd9/violite_8h.html#a1a38ce16d857fd45e25f81470d41158ea92665fff9b5c050ecd7b923c5aa78f46">VIO_TYPE_TCPIP</a>:</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;    info-&gt;<a class="code" href="../../d8/d46/structst__plugin__vio__info.html#a5b3f3276c52d4f1a41b16d76e5ef5ab3">protocol</a>= MYSQL_VIO_TCP;</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;    info-&gt;<a class="code" href="../../d8/d46/structst__plugin__vio__info.html#a47955b38da900b0fca9c21c7aa4c5171">socket</a>= vio-&gt;<a class="code" href="../../df/d29/structst__vio.html#af2208261c74e8ef4f28d691cab7b54cf">sd</a>;</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="../../d2/dd9/violite_8h.html#a1a38ce16d857fd45e25f81470d41158eaeea7a553641b7515fdd452a7d65a8931">VIO_TYPE_SOCKET</a>:</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;    info-&gt;<a class="code" href="../../d8/d46/structst__plugin__vio__info.html#a5b3f3276c52d4f1a41b16d76e5ef5ab3">protocol</a>= MYSQL_VIO_SOCKET;</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;    info-&gt;<a class="code" href="../../d8/d46/structst__plugin__vio__info.html#a47955b38da900b0fca9c21c7aa4c5171">socket</a>= vio-&gt;<a class="code" href="../../df/d29/structst__vio.html#af2208261c74e8ef4f28d691cab7b54cf">sd</a>;</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="../../d2/dd9/violite_8h.html#a1a38ce16d857fd45e25f81470d41158ea684a8a6fa66611329f79dcc33135c02c">VIO_TYPE_SSL</a>:</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;    {</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;      <span class="keyword">struct </span>sockaddr addr;</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;      socklen_t addrlen= <span class="keyword">sizeof</span>(addr);</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;      <span class="keywordflow">if</span> (getsockname(vio-&gt;<a class="code" href="../../df/d29/structst__vio.html#af2208261c74e8ef4f28d691cab7b54cf">sd</a>, &amp;addr, &amp;addrlen))</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;      info-&gt;<a class="code" href="../../d8/d46/structst__plugin__vio__info.html#a5b3f3276c52d4f1a41b16d76e5ef5ab3">protocol</a>= addr.sa_family == AF_UNIX ?</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;        MYSQL_VIO_SOCKET : MYSQL_VIO_TCP;</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;      info-&gt;<a class="code" href="../../d8/d46/structst__plugin__vio__info.html#a47955b38da900b0fca9c21c7aa4c5171">socket</a>= vio-&gt;<a class="code" href="../../df/d29/structst__vio.html#af2208261c74e8ef4f28d691cab7b54cf">sd</a>;</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;    }</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;<span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="../../d2/dd9/violite_8h.html#a1a38ce16d857fd45e25f81470d41158ea724e0772dfd37aedea7bc26543a2b5df">VIO_TYPE_NAMEDPIPE</a>:</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;    info-&gt;<a class="code" href="../../d8/d46/structst__plugin__vio__info.html#a5b3f3276c52d4f1a41b16d76e5ef5ab3">protocol</a>= MYSQL_VIO_PIPE;</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;    info-&gt;handle= vio-&gt;<a class="code" href="../../df/d29/structst__vio.html#aab802205939803adb10e1827c066b5b5">hPipe</a>;</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;<span class="preprocessor">#ifdef HAVE_SMEM</span></div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="../../d2/dd9/violite_8h.html#a1a38ce16d857fd45e25f81470d41158ea34315b46359594a8e0474caa3bc2df12">VIO_TYPE_SHARED_MEMORY</a>:</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;    info-&gt;<a class="code" href="../../d8/d46/structst__plugin__vio__info.html#a5b3f3276c52d4f1a41b16d76e5ef5ab3">protocol</a>= MYSQL_VIO_MEMORY;</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;    info-&gt;handle= vio-&gt;handle_file_map; <span class="comment">/* or what ? */</span></div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;  <span class="keywordflow">default</span>: <a class="code" href="../../d0/d74/my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(0);</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;  }</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;}</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160; </div>
<div class="line"><a name="l02728"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a306daa8e0d2701808c7c52e355934c0f"> 2728</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/d93/client_8c.html#a306daa8e0d2701808c7c52e355934c0f">client_mpvio_info</a>(<a class="code" href="../../d4/df3/structst__plugin__vio.html">MYSQL_PLUGIN_VIO</a> *vio,</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;                              <a class="code" href="../../d8/d46/structst__plugin__vio__info.html">MYSQL_PLUGIN_VIO_INFO</a> *info)</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;{</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;  <a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html">MCPVIO_EXT</a> *mpvio= (<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html">MCPVIO_EXT</a>*)vio;</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#a509fab81bc63f43c97c55a2384c739ec">mpvio_info</a>(mpvio-&gt;<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#ac86a509d72ae18f54036e51f242721c8">mysql</a>-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a>, info);</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;}</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160; </div>
<div class="line"><a name="l02751"></a><span class="lineno"><a class="line" href="../../d6/d2a/sql__common_8h.html#ac0dfa45f372b6656c15abe29c6046644"> 2751</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../dd/d93/client_8c.html#ac0dfa45f372b6656c15abe29c6046644">run_plugin_auth</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql, <span class="keywordtype">char</span> *<a class="code" href="../../df/dea/structdata.html">data</a>, <a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> data_len,</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">char</span> *data_plugin, <span class="keyword">const</span> <span class="keywordtype">char</span> *db)</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;{</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>    *auth_plugin_name;</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#a5947b78f1c74adc223c8d1c15338d676">auth_plugin_t</a> *auth_plugin;</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;  <a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html">MCPVIO_EXT</a>    mpvio;</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>     pkt_length;</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;  <span class="keywordtype">int</span>           res;</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160; </div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a> (<span class="stringliteral">&quot;run_plugin_auth&quot;</span>);</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;  <span class="comment">/* determine the default/initial plugin to use */</span></div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#ac16c1d9c8c28b3daeabb7222cda5e8c2">extension</a> &amp;&amp; mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#ac16c1d9c8c28b3daeabb7222cda5e8c2">extension</a>-&gt;<a class="code" href="../../d3/d8a/structst__mysql__options__extention.html#a19f9a45029a9ff67f9967a7f60c1b478">default_auth</a> &amp;&amp;</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;      mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab9c7460496350f7aa331c104aa54717d">server_capabilities</a> &amp; <a class="code" href="../../d6/df0/mysql__com_8h.html#a2a6cb83350f95a382a35de3021904012">CLIENT_PLUGIN_AUTH</a>)</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;  {</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;    auth_plugin_name= mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#ac16c1d9c8c28b3daeabb7222cda5e8c2">extension</a>-&gt;<a class="code" href="../../d3/d8a/structst__mysql__options__extention.html#a19f9a45029a9ff67f9967a7f60c1b478">default_auth</a>;</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;    <span class="keywordflow">if</span> (!(auth_plugin= (<a class="code" href="../../dd/d93/client_8c.html#a5947b78f1c74adc223c8d1c15338d676">auth_plugin_t</a>*) <a class="code" href="../../da/d2f/client__plugin_8h.html#ac331fa93e8cf7e34bf6c4077d7783da0">mysql_client_find_plugin</a>(mysql,</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;                       auth_plugin_name, <a class="code" href="../../da/d2f/client__plugin_8h.html#afb1e5ef94f39fd38147347a56c64e540">MYSQL_CLIENT_AUTHENTICATION_PLUGIN</a>)))</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a> (1); <span class="comment">/* oops, not found */</span></div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;  }</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;  {</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;    auth_plugin= mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab9c7460496350f7aa331c104aa54717d">server_capabilities</a> &amp; <a class="code" href="../../d6/df0/mysql__com_8h.html#acde6ac915ca4c7bc88ae19d7dd9a04c4">CLIENT_PROTOCOL_41</a> ?</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;      &amp;<a class="code" href="../../dd/d93/client_8c.html#a57be9588aaeb8d39f2aa571ef7c599e3">native_password_client_plugin</a> : &amp;<a class="code" href="../../dd/d93/client_8c.html#ac3966a8be18df03c9c334178305d0ecf">old_password_client_plugin</a>;</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;    auth_plugin_name= auth_plugin-&gt;name;</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;  }</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160; </div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a> (<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;using plugin %s&quot;</span>, auth_plugin_name));</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160; </div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#ad32d83e52fbb9bde714a4e91ddd4cca7">last_errno</a>= 0; <span class="comment">/* just in case */</span></div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160; </div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;  <span class="keywordflow">if</span> (data_plugin &amp;&amp; strcmp(data_plugin, auth_plugin_name))</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;  {</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;    <span class="comment">/* data was prepared for a different plugin, don&#39;t show it to this one */</span></div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;    <a class="code" href="../../df/dea/structdata.html">data</a>= 0;</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;    data_len= 0;</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;  }</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160; </div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;  mpvio.<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#af7faa2a4cafd01c91875937eb023802f">mysql_change_user</a>= data_plugin == 0;</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;  mpvio.<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a0df6a778566056f94e719dcb9dfd2042">cached_server_reply</a>.<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a4895b1e68fbd4507fc232bf63c5d7bbc">pkt</a>= (<a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>*)<a class="code" href="../../df/dea/structdata.html">data</a>;</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;  mpvio.<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a0df6a778566056f94e719dcb9dfd2042">cached_server_reply</a>.<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#ab21aa0e0f2a7377f93d7773a8a8a3f19">pkt_len</a>= data_len;</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;  mpvio.<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#aebbbe5241ddd2b349f443f45eb6250df">read_packet</a>= <a class="code" href="../../dd/d93/client_8c.html#a3b47476245fcd6cd49a12cbd2695edc9">client_mpvio_read_packet</a>;</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;  mpvio.<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a520bb858f88b811dd547f3ad7ea72ff6">write_packet</a>= <a class="code" href="../../dd/d93/client_8c.html#af42045b2aa13ba9c91140944444cfde8">client_mpvio_write_packet</a>;</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;  mpvio.<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#aa05c77f2de8794542da349fca2b363f5">info</a>= <a class="code" href="../../dd/d93/client_8c.html#a306daa8e0d2701808c7c52e355934c0f">client_mpvio_info</a>;</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;  mpvio.<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#ac86a509d72ae18f54036e51f242721c8">mysql</a>= mysql;</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;  mpvio.<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a49b27c78513b350c936e299061083602">packets_read</a>= mpvio.<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#af8338da82858dd2eb51d8ea17348c4cc">packets_written</a>= 0;</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;  mpvio.<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a922304e514fc745ab5749179a1b8b4ef">db</a>= db;</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;  mpvio.<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a3311388695d5b40e2cd37f2a99ac6a8d">plugin</a>= auth_plugin;</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160; </div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;  res= auth_plugin-&gt;authenticate_user((<span class="keyword">struct</span> <a class="code" href="../../d4/df3/structst__plugin__vio.html">st_plugin_vio</a> *)&amp;mpvio, mysql);</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a> (<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;authenticate_user returned %s&quot;</span>, </div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;                       res == <a class="code" href="../../da/dd4/plugin__auth__common_8h.html#ae5ecbb4568bb8771e7cb0d2b9d192e62">CR_OK</a> ? <span class="stringliteral">&quot;CR_OK&quot;</span> : </div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;                       res == <a class="code" href="../../da/dd4/plugin__auth__common_8h.html#a44f1794e5697229fad0750b028ddbd4d">CR_ERROR</a> ? <span class="stringliteral">&quot;CR_ERROR&quot;</span> :</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;                       res == <a class="code" href="../../da/dd4/plugin__auth__common_8h.html#a64bf95e422b0259c0705ea8585f6e8d6">CR_OK_HANDSHAKE_COMPLETE</a> ? </div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;                         <span class="stringliteral">&quot;CR_OK_HANDSHAKE_COMPLETE&quot;</span> : <span class="stringliteral">&quot;error&quot;</span>));</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160; </div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#ab38d7adb06b45fd1830a4d3940a6aca7">compile_time_assert</a>(<a class="code" href="../../da/dd4/plugin__auth__common_8h.html#ae5ecbb4568bb8771e7cb0d2b9d192e62">CR_OK</a> == -1);</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#ab38d7adb06b45fd1830a4d3940a6aca7">compile_time_assert</a>(<a class="code" href="../../da/dd4/plugin__auth__common_8h.html#a44f1794e5697229fad0750b028ddbd4d">CR_ERROR</a> == 0);</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;  <span class="keywordflow">if</span> (res &gt; <a class="code" href="../../da/dd4/plugin__auth__common_8h.html#ae5ecbb4568bb8771e7cb0d2b9d192e62">CR_OK</a> &amp;&amp; mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#af65adc7b04ff56e008c6f8ca89cc12c2">read_pos</a>[0] != 254)</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;  {</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;<span class="comment">      the plugin returned an error. write it down in mysql,</span></div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;<span class="comment">      unless the error code is CR_ERROR and mysql-&gt;net.last_errno</span></div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;<span class="comment">      is already set (the plugin has done it)</span></div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a> (<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;res=%d&quot;</span>, res));</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;    <span class="keywordflow">if</span> (res &gt; <a class="code" href="../../da/dd4/plugin__auth__common_8h.html#a44f1794e5697229fad0750b028ddbd4d">CR_ERROR</a>)</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(mysql, res, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;      <span class="keywordflow">if</span> (!mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#ad32d83e52fbb9bde714a4e91ddd4cca7">last_errno</a>)</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;        <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a4894e9c9e390f10ecfa47c12e35b300f">CR_UNKNOWN_ERROR</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a> (1);</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;  }</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160; </div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;  <span class="comment">/* read the OK packet (or use the cached value in mysql-&gt;net.read_pos */</span></div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;  <span class="keywordflow">if</span> (res == <a class="code" href="../../da/dd4/plugin__auth__common_8h.html#ae5ecbb4568bb8771e7cb0d2b9d192e62">CR_OK</a>)</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;    pkt_length= (*mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a04129bc0cbeda076db8ba274ed93328d">methods</a>-&gt;<a class="code" href="../../d2/d94/structst__mysql__methods.html#a25ee4ba8674354fad161db765af8dd58">read_change_user_result</a>)(mysql);</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;  <span class="keywordflow">else</span> <span class="comment">/* res == CR_OK_HANDSHAKE_COMPLETE */</span></div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;    pkt_length= mpvio.<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#af05487909329576cb78c63752c8b8cdd">last_read_packet_len</a>;</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160; </div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a> (<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;OK packet length=%lu&quot;</span>, pkt_length));</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;  <span class="keywordflow">if</span> (pkt_length == <a class="code" href="../../d6/df0/mysql__com_8h.html#a08253bf6eaa0178369f3ee1055b914a0">packet_error</a>)</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;  {</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;    <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#ad32d83e52fbb9bde714a4e91ddd4cca7">last_errno</a> == <a class="code" href="../../d8/d50/errmsg_8h.html#a057dc122082ea5b47db99487107a48b6">CR_SERVER_LOST</a>)</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#a38da6df00d5415a769e8a69867158b0d">set_mysql_extended_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a057dc122082ea5b47db99487107a48b6">CR_SERVER_LOST</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>,</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;                               <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(<a class="code" href="../../d8/d50/errmsg_8h.html#ab797865ea4d25f9fc537af74f610994d">CR_SERVER_LOST_EXTENDED</a>),</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;                               <span class="stringliteral">&quot;reading authorization packet&quot;</span>,</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;                               <a class="code" href="../../db/da9/my__sys_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>);</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a> (1);</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;  }</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160; </div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#af65adc7b04ff56e008c6f8ca89cc12c2">read_pos</a>[0] == 254)</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;  {</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;    <span class="comment">/* The server asked to use a different authentication plugin */</span></div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;    <span class="keywordflow">if</span> (pkt_length == 1)</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;    { </div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;      <span class="comment">/* old &quot;use short scramble&quot; packet */</span></div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a> (<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;old use short scramble packet from server&quot;</span>));</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;      auth_plugin_name= <a class="code" href="../../dd/d93/client_8c.html#a329c5a74e7eb4f20edf5b6b18c127c7c">old_password_plugin_name</a>;</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;      mpvio.<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a0df6a778566056f94e719dcb9dfd2042">cached_server_reply</a>.<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a4895b1e68fbd4507fc232bf63c5d7bbc">pkt</a>= (<a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>*)mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ae6e34dfb59ec6f6842f65a58eb6bee38">scramble</a>;</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;      mpvio.<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a0df6a778566056f94e719dcb9dfd2042">cached_server_reply</a>.<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#ab21aa0e0f2a7377f93d7773a8a8a3f19">pkt_len</a>= <a class="code" href="../../d6/df0/mysql__com_8h.html#a45f11cf97b6dec62756b92cbb96f7418">SCRAMBLE_LENGTH</a> + 1;</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;    }</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;    { </div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;      <span class="comment">/* new &quot;use different plugin&quot; packet */</span></div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;      <a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> len;</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;      auth_plugin_name= (<span class="keywordtype">char</span>*)mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#af65adc7b04ff56e008c6f8ca89cc12c2">read_pos</a> + 1;</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;      len= strlen(auth_plugin_name); <span class="comment">/* safe as my_net_read always appends \0 */</span></div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;      mpvio.<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a0df6a778566056f94e719dcb9dfd2042">cached_server_reply</a>.<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#ab21aa0e0f2a7377f93d7773a8a8a3f19">pkt_len</a>= pkt_length - len - 2;</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;      mpvio.<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a0df6a778566056f94e719dcb9dfd2042">cached_server_reply</a>.<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a4895b1e68fbd4507fc232bf63c5d7bbc">pkt</a>= mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#af65adc7b04ff56e008c6f8ca89cc12c2">read_pos</a> + len + 2;</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a> (<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;change plugin packet from server for plugin %s&quot;</span>,</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;                           auth_plugin_name));</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;    }</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160; </div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;    <span class="keywordflow">if</span> (!(auth_plugin= (<a class="code" href="../../dd/d93/client_8c.html#a5947b78f1c74adc223c8d1c15338d676">auth_plugin_t</a> *) <a class="code" href="../../da/d2f/client__plugin_8h.html#ac331fa93e8cf7e34bf6c4077d7783da0">mysql_client_find_plugin</a>(mysql,</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;                         auth_plugin_name, <a class="code" href="../../da/d2f/client__plugin_8h.html#afb1e5ef94f39fd38147347a56c64e540">MYSQL_CLIENT_AUTHENTICATION_PLUGIN</a>)))</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a> (1);</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160; </div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;    mpvio.<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a3311388695d5b40e2cd37f2a99ac6a8d">plugin</a>= auth_plugin;</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;    res= auth_plugin-&gt;authenticate_user((<span class="keyword">struct</span> <a class="code" href="../../d4/df3/structst__plugin__vio.html">st_plugin_vio</a> *)&amp;mpvio, mysql);</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160; </div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a> (<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;second authenticate_user returned %s&quot;</span>, </div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;                         res == <a class="code" href="../../da/dd4/plugin__auth__common_8h.html#ae5ecbb4568bb8771e7cb0d2b9d192e62">CR_OK</a> ? <span class="stringliteral">&quot;CR_OK&quot;</span> : </div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;                         res == <a class="code" href="../../da/dd4/plugin__auth__common_8h.html#a44f1794e5697229fad0750b028ddbd4d">CR_ERROR</a> ? <span class="stringliteral">&quot;CR_ERROR&quot;</span> :</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;                         res == <a class="code" href="../../da/dd4/plugin__auth__common_8h.html#a64bf95e422b0259c0705ea8585f6e8d6">CR_OK_HANDSHAKE_COMPLETE</a> ? </div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;                         <span class="stringliteral">&quot;CR_OK_HANDSHAKE_COMPLETE&quot;</span> : <span class="stringliteral">&quot;error&quot;</span>));</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;    <span class="keywordflow">if</span> (res &gt; <a class="code" href="../../da/dd4/plugin__auth__common_8h.html#ae5ecbb4568bb8771e7cb0d2b9d192e62">CR_OK</a>)</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;    {</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;      <span class="keywordflow">if</span> (res &gt; <a class="code" href="../../da/dd4/plugin__auth__common_8h.html#a44f1794e5697229fad0750b028ddbd4d">CR_ERROR</a>)</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;        <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(mysql, res, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;        <span class="keywordflow">if</span> (!mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#ad32d83e52fbb9bde714a4e91ddd4cca7">last_errno</a>)</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;          <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a4894e9c9e390f10ecfa47c12e35b300f">CR_UNKNOWN_ERROR</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a> (1);</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;    }</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160; </div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;    <span class="keywordflow">if</span> (res != <a class="code" href="../../da/dd4/plugin__auth__common_8h.html#a64bf95e422b0259c0705ea8585f6e8d6">CR_OK_HANDSHAKE_COMPLETE</a>)</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;    {</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;      <span class="comment">/* Read what server thinks about out new auth message report */</span></div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d93/client_8c.html#a3196ee8555d77cf23d15d3e0c096740c">cli_safe_read</a>(mysql) == <a class="code" href="../../d6/df0/mysql__com_8h.html#a08253bf6eaa0178369f3ee1055b914a0">packet_error</a>)</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;      {</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;        <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#ad32d83e52fbb9bde714a4e91ddd4cca7">last_errno</a> == <a class="code" href="../../d8/d50/errmsg_8h.html#a057dc122082ea5b47db99487107a48b6">CR_SERVER_LOST</a>)</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;          <a class="code" href="../../dd/d93/client_8c.html#a38da6df00d5415a769e8a69867158b0d">set_mysql_extended_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a057dc122082ea5b47db99487107a48b6">CR_SERVER_LOST</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>,</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;                                   <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(<a class="code" href="../../d8/d50/errmsg_8h.html#ab797865ea4d25f9fc537af74f610994d">CR_SERVER_LOST_EXTENDED</a>),</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;                                   <span class="stringliteral">&quot;reading final connect information&quot;</span>,</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;                                   <a class="code" href="../../db/da9/my__sys_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>);</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;        <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a> (1);</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;      }</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;    }</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;  }</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;<span class="comment">    net-&gt;read_pos[0] should always be 0 here if the server implements</span></div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;<span class="comment">    the protocol correctly</span></div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#af65adc7b04ff56e008c6f8ca89cc12c2">read_pos</a>[0] != 0);</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;}</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160; </div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> * <a class="code" href="../../d9/df6/my__global_8h.html#a446cf449a6234c9b177309d5ba0852c0">STDCALL</a> </div>
<div class="line"><a name="l02908"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#aea45c55d6c2864b24ebe7e78ad86d6af"> 2908</a></span>&#160;<a class="code" href="../../dd/d93/client_8c.html#a0e619126e8cbd3d34ed2f31d5af9749d">CLI_MYSQL_REAL_CONNECT</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql,<span class="keyword">const</span> <span class="keywordtype">char</span> *host, <span class="keyword">const</span> <span class="keywordtype">char</span> *user,</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;               <span class="keyword">const</span> <span class="keywordtype">char</span> *passwd, <span class="keyword">const</span> <span class="keywordtype">char</span> *db,</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;               <a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> port, <span class="keyword">const</span> <span class="keywordtype">char</span> *unix_socket,<a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> client_flag)</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;{</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;  <span class="keywordtype">char</span>      buff[<a class="code" href="../../d6/df0/mysql__com_8h.html#a4853f6c25c8394fd57c4d99f61d5cd89">NAME_LEN</a>+<a class="code" href="../../d6/df0/mysql__com_8h.html#a63b42dc81a45f8f72a2cca3994c19d0e">USERNAME_LENGTH</a>+100];</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;  <span class="keywordtype">int</span>           scramble_data_len, pkt_scramble_len= 0;</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;  <span class="keywordtype">char</span>          *end,*host_info= 0, *server_version_end, *pkt_end;</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;  <span class="keywordtype">char</span>          *scramble_data;</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>    *scramble_plugin;</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>     pkt_length;</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;  <a class="code" href="../../de/d2d/structst__net.html">NET</a>       *net= &amp;mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>;</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;<span class="preprocessor">#ifdef MYSQL_SERVER</span></div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;  <a class="code" href="../../d5/d85/thr__alarm_8h.html#a0f3d9ec5fc0aa4359ca24674a579ef22">thr_alarm_t</a>   alarmed;</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;  <a class="code" href="../../d4/d3f/structst__alarm.html">ALARM</a>     alarm_buff;</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;<span class="preprocessor">#ifdef __WIN__</span></div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;  <a class="code" href="../../d2/dd9/violite_8h.html#ab521aa5010fb1afb801a899a55569e03">HANDLE</a>    hPipe=INVALID_HANDLE_VALUE;</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;<span class="preprocessor">#ifdef HAVE_SYS_UN_H</span></div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;  <span class="keyword">struct    </span>sockaddr_un UNIXaddr;</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;mysql_real_connect&quot;</span>);</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160; </div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;enter&quot;</span>,(<span class="stringliteral">&quot;host: %s  db: %s  user: %s (client)&quot;</span>,</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;              host ? host : <span class="stringliteral">&quot;(Null)&quot;</span>,</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;              db ? db : <span class="stringliteral">&quot;(Null)&quot;</span>,</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;              user ? user : <span class="stringliteral">&quot;(Null)&quot;</span>));</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160; </div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;  <span class="comment">/* Test whether we&#39;re already connected */</span></div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;  <span class="keywordflow">if</span> (net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a>)</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;  {</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a90fe79a7b697875fb6d80217c9891140">CR_ALREADY_CONNECTED</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(0);</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;  }</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160; </div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a04129bc0cbeda076db8ba274ed93328d">methods</a>= &amp;<a class="code" href="../../dd/d93/client_8c.html#a68bcd6319765477a61243779f9ab7df3">client_methods</a>;</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;  net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a> = 0;             <span class="comment">/* If something goes wrong */</span></div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af572471668d07fd887bc68d44375d8a5">client_flag</a>=0;         <span class="comment">/* For handshake */</span></div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160; </div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;  <span class="comment">/* use default options */</span></div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a4cc1dad4e2d110efa24865a636613b6e">my_cnf_file</a> || mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a28e998c549cbbc33d7d1eba197f1d52f">my_cnf_group</a>)</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;  {</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#afe6608d49e1cd6ae1d9b5d0ba632fb98">mysql_read_default_options</a>(&amp;mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>,</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;                   (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a4cc1dad4e2d110efa24865a636613b6e">my_cnf_file</a> ?</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;                mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a4cc1dad4e2d110efa24865a636613b6e">my_cnf_file</a> : <span class="stringliteral">&quot;my&quot;</span>),</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;                   mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a28e998c549cbbc33d7d1eba197f1d52f">my_cnf_group</a>);</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a4cc1dad4e2d110efa24865a636613b6e">my_cnf_file</a>);</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a28e998c549cbbc33d7d1eba197f1d52f">my_cnf_group</a>);</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a4cc1dad4e2d110efa24865a636613b6e">my_cnf_file</a>=mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a28e998c549cbbc33d7d1eba197f1d52f">my_cnf_group</a>=0;</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;  }</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160; </div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;  <span class="comment">/* Some empty-string-tests are done because of ODBC */</span></div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;  <span class="keywordflow">if</span> (!host || !host[0])</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;    host=mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a79fc433d16a9cd4b913a6490fc612bf3">host</a>;</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;  <span class="keywordflow">if</span> (!user || !user[0])</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;  {</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;    user=mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a9889ada2bcc6e077b8ee984a9c7be6e1">user</a>;</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;    <span class="keywordflow">if</span> (!user)</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;      user= <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;  }</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;  <span class="keywordflow">if</span> (!passwd)</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;  {</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;    passwd=mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a76f9c11ae054459cabfc89d30928b786">password</a>;</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;<span class="preprocessor">#if !defined(DONT_USE_MYSQL_PWD) &amp;&amp; !defined(MYSQL_SERVER)</span></div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;    <span class="keywordflow">if</span> (!passwd)</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;      passwd=getenv(<span class="stringliteral">&quot;MYSQL_PWD&quot;</span>);       <span class="comment">/* get it from environment */</span></div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;    <span class="keywordflow">if</span> (!passwd)</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;      passwd= <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;  }</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;  <span class="keywordflow">if</span> (!db || !db[0])</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;    db=mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a82f5dcf8b83007fafa33a45583f87ce8">db</a>;</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;  <span class="keywordflow">if</span> (!port)</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;    port=mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a1403738b86df8bc7056a33b50bd8aff5">port</a>;</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;  <span class="keywordflow">if</span> (!unix_socket)</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;    unix_socket=mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a6d4f1507ec3907eda109548da49ee850">unix_socket</a>;</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160; </div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab875d849ff6f754a85986fe538408667">server_status</a>=<a class="code" href="../../d6/df0/mysql__com_8h.html#a14de32242085d5ccc469dac547c976b4">SERVER_STATUS_AUTOCOMMIT</a>;</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;Connecting&quot;</span>));</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160; </div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;<span class="comment">    Part 0: Grab a socket and connect it to the server</span></div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;<span class="preprocessor">#if defined(HAVE_SMEM)</span></div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;  <span class="keywordflow">if</span> ((!mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a85283d4471c23b3773ca0c4c01ffb1f7">protocol</a> ||</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;       mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a85283d4471c23b3773ca0c4c01ffb1f7">protocol</a> == <a class="code" href="../../de/d53/mysql_8h.html#ac42d2279c8bd9026a231418fafd9a1a9a6a905ff56459011393053d00a0407b26">MYSQL_PROTOCOL_MEMORY</a>) &amp;&amp;</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;      (!host || !strcmp(host,<a class="code" href="../../d6/df0/mysql__com_8h.html#aacebc74ef9a786231060d3a8d8b56d24">LOCAL_HOST</a>)))</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;  {</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;Using shared memory&quot;</span>));</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;    <span class="keywordflow">if</span> ((create_shared_memory(mysql,net, mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#aa8475fa207a033461041fbfd868fe3c6">connect_timeout</a>)) ==</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;    INVALID_HANDLE_VALUE)</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;    {</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;error&quot;</span>,</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;         (<span class="stringliteral">&quot;host: &#39;%s&#39;  socket: &#39;%s&#39;  shared memory: %s  have_tcpip: %d&quot;</span>,</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;          host ? host : <span class="stringliteral">&quot;&lt;null&gt;&quot;</span>,</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;          unix_socket ? unix_socket : <span class="stringliteral">&quot;&lt;null&gt;&quot;</span>,</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;          (<span class="keywordtype">int</span>) mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#abd61d3820e3904dd30ad1c4c44887d10">shared_memory_base_name</a>,</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;          (<span class="keywordtype">int</span>) have_tcpip));</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;      <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a85283d4471c23b3773ca0c4c01ffb1f7">protocol</a> == <a class="code" href="../../de/d53/mysql_8h.html#ac42d2279c8bd9026a231418fafd9a1a9a6a905ff56459011393053d00a0407b26">MYSQL_PROTOCOL_MEMORY</a>)</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;    <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160; </div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;      <span class="comment">/*</span></div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;<span class="comment">        Try also with PIPE or TCP/IP. Clear the error from</span></div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;<span class="comment">        create_shared_memory().</span></div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;<span class="comment">      */</span></div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160; </div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#a7f5bfc9aeb97ede65bdac2359e5c6325">net_clear_error</a>(net);</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;    }</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;    {</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;      mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a85283d4471c23b3773ca0c4c01ffb1f7">protocol</a>=<a class="code" href="../../de/d53/mysql_8h.html#ac42d2279c8bd9026a231418fafd9a1a9a6a905ff56459011393053d00a0407b26">MYSQL_PROTOCOL_MEMORY</a>;</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;      unix_socket = 0;</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;      host=mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#abd61d3820e3904dd30ad1c4c44887d10">shared_memory_base_name</a>;</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;      <a class="code" href="../../dc/d8d/service__my__snprintf_8h.html#ade7f1c92738a9c69d5aa585ce4b66abd">my_snprintf</a>(host_info=buff, <span class="keyword">sizeof</span>(buff)-1,</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;                  <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(<a class="code" href="../../d8/d50/errmsg_8h.html#ab72fd21dd4280e882c61b857fe2e9935">CR_SHARED_MEMORY_CONNECTION</a>), host);</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;    }</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;  }</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* HAVE_SMEM */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;<span class="preprocessor">#if defined(HAVE_SYS_UN_H)</span></div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;  <span class="keywordflow">if</span> (!net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a> &amp;&amp;</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;      (!mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a85283d4471c23b3773ca0c4c01ffb1f7">protocol</a> ||</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;       mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a85283d4471c23b3773ca0c4c01ffb1f7">protocol</a> == <a class="code" href="../../de/d53/mysql_8h.html#ac42d2279c8bd9026a231418fafd9a1a9af1416ca8f572227475c82fdf8ef2856d">MYSQL_PROTOCOL_SOCKET</a>) &amp;&amp;</div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;      (unix_socket || <a class="code" href="../../dd/d93/client_8c.html#ac53f2b5a4e5c09d4006e45c22865c279">mysql_unix_port</a>) &amp;&amp;</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;      (!host || !strcmp(host,<a class="code" href="../../d6/df0/mysql__com_8h.html#aacebc74ef9a786231060d3a8d8b56d24">LOCAL_HOST</a>)))</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;  {</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;    <a class="code" href="../../d9/df6/my__global_8h.html#aed973571b4b7eb2facd8c39e8b500bb6">my_socket</a> sock= socket(AF_UNIX, SOCK_STREAM, 0);</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;Using socket&quot;</span>));</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;    <span class="keywordflow">if</span> (sock == <a class="code" href="../../dd/d93/client_8c.html#a633b0396ff93d336a088412a190a5072">SOCKET_ERROR</a>)</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;    {</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#a38da6df00d5415a769e8a69867158b0d">set_mysql_extended_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#ac5efd8a360b9de0ba36c6dbb4ef0d2f8">CR_SOCKET_CREATE_ERROR</a>,</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;                               <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>,</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;                               <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(<a class="code" href="../../d8/d50/errmsg_8h.html#ac5efd8a360b9de0ba36c6dbb4ef0d2f8">CR_SOCKET_CREATE_ERROR</a>),</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;                               <a class="code" href="../../d9/df6/my__global_8h.html#a9e43281aa85682be01e2d77a3ee162d8">socket_errno</a>);</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;    }</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160; </div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;    net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a>= <a class="code" href="../../d2/dd9/violite_8h.html#a309ac154d6228e5ae6c7a9d8c62522cf">vio_new</a>(sock, <a class="code" href="../../d2/dd9/violite_8h.html#a1a38ce16d857fd45e25f81470d41158eaeea7a553641b7515fdd452a7d65a8931">VIO_TYPE_SOCKET</a>,</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;                      <a class="code" href="../../d2/dd9/violite_8h.html#a1d4e5bb77e1faf63d8f4ba76fe933b49">VIO_LOCALHOST</a> | <a class="code" href="../../d2/dd9/violite_8h.html#ae660ef8953b15fc65dc2dd85b66e9580">VIO_BUFFERED_READ</a>);</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;    <span class="keywordflow">if</span> (!net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a>)</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;    {</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;error&quot;</span>,(<span class="stringliteral">&quot;Unknow protocol %d &quot;</span>, mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a85283d4471c23b3773ca0c4c01ffb1f7">protocol</a>));</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#aeaa629c66168e14fa5ebaeb696f94c6a">CR_CONN_UNKNOW_PROTOCOL</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;      <a class="code" href="../../d9/df6/my__global_8h.html#a6a3986e9f140942394f1105fa1edb7e1">closesocket</a>(sock);</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;    }</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160; </div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;    host= <a class="code" href="../../d6/df0/mysql__com_8h.html#aacebc74ef9a786231060d3a8d8b56d24">LOCAL_HOST</a>;</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;    <span class="keywordflow">if</span> (!unix_socket)</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;      unix_socket= <a class="code" href="../../dd/d93/client_8c.html#ac53f2b5a4e5c09d4006e45c22865c279">mysql_unix_port</a>;</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;    host_info= (<span class="keywordtype">char</span>*) <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(<a class="code" href="../../d8/d50/errmsg_8h.html#abd90490ab1b7cbb6d64329ea416f3911">CR_LOCALHOST_CONNECTION</a>);</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;Using UNIX sock &#39;%s&#39;&quot;</span>, unix_socket));</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160; </div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#ab3be5dcbbf1244672c14662b20f88b61">bzero</a>((<span class="keywordtype">char</span>*) &amp;UNIXaddr, <span class="keyword">sizeof</span>(UNIXaddr));</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;    UNIXaddr.sun_family= AF_UNIX;</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#accb13dc1bbc754b77a9ecd9c3e832595">strmake</a>(UNIXaddr.sun_path, unix_socket, <span class="keyword">sizeof</span>(UNIXaddr.sun_path)-1);</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160; </div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d93/client_8c.html#ac75dabe29a1237ccc9212834eed642b8">my_connect</a>(sock, (<span class="keyword">struct</span> sockaddr *) &amp;UNIXaddr, <span class="keyword">sizeof</span>(UNIXaddr),</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;           mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#aa8475fa207a033461041fbfd868fe3c6">connect_timeout</a>))</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;    {</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;error&quot;</span>,(<span class="stringliteral">&quot;Got error %d on connect to local server&quot;</span>,</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;              <a class="code" href="../../d9/df6/my__global_8h.html#a9e43281aa85682be01e2d77a3ee162d8">socket_errno</a>));</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#a38da6df00d5415a769e8a69867158b0d">set_mysql_extended_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a89847e08712cd2f6e98d868d8fa646be">CR_CONNECTION_ERROR</a>,</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;                               <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>,</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;                               <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(<a class="code" href="../../d8/d50/errmsg_8h.html#a89847e08712cd2f6e98d868d8fa646be">CR_CONNECTION_ERROR</a>),</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;                               unix_socket, <a class="code" href="../../d9/df6/my__global_8h.html#a9e43281aa85682be01e2d77a3ee162d8">socket_errno</a>);</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;      <a class="code" href="../../d2/dd9/violite_8h.html#aadcc2a94246ddb59f11f253a90327ef5">vio_delete</a>(net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a>);</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;      net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a>= 0;</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;    }</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a85283d4471c23b3773ca0c4c01ffb1f7">protocol</a>=<a class="code" href="../../de/d53/mysql_8h.html#ac42d2279c8bd9026a231418fafd9a1a9af1416ca8f572227475c82fdf8ef2856d">MYSQL_PROTOCOL_SOCKET</a>;</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;  }</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;<span class="preprocessor">#elif defined(__WIN__)</span></div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;  <span class="keywordflow">if</span> (!net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a> &amp;&amp;</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;      (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a85283d4471c23b3773ca0c4c01ffb1f7">protocol</a> == <a class="code" href="../../de/d53/mysql_8h.html#ac42d2279c8bd9026a231418fafd9a1a9a8bb817c9cfe1071e5dd37e1d78954efb">MYSQL_PROTOCOL_PIPE</a> ||</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;       (host &amp;&amp; !strcmp(host,<a class="code" href="../../d6/df0/mysql__com_8h.html#a2e7ec16bc8384bd465b76d1bef082ea7">LOCAL_HOST_NAMEDPIPE</a>)) ||</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;       (! have_tcpip &amp;&amp; (unix_socket || !host &amp;&amp; is_NT()))))</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;  {</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;    <span class="keywordflow">if</span> ((hPipe= create_named_pipe(mysql, mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#aa8475fa207a033461041fbfd868fe3c6">connect_timeout</a>,</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;                                  (<span class="keywordtype">char</span>**) &amp;host, (<span class="keywordtype">char</span>**) &amp;unix_socket)) ==</div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;    INVALID_HANDLE_VALUE)</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;    {</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;error&quot;</span>,</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;         (<span class="stringliteral">&quot;host: &#39;%s&#39;  socket: &#39;%s&#39;  have_tcpip: %d&quot;</span>,</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;          host ? host : <span class="stringliteral">&quot;&lt;null&gt;&quot;</span>,</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;          unix_socket ? unix_socket : <span class="stringliteral">&quot;&lt;null&gt;&quot;</span>,</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;          (<span class="keywordtype">int</span>) have_tcpip));</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;      <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a85283d4471c23b3773ca0c4c01ffb1f7">protocol</a> == <a class="code" href="../../de/d53/mysql_8h.html#ac42d2279c8bd9026a231418fafd9a1a9a8bb817c9cfe1071e5dd37e1d78954efb">MYSQL_PROTOCOL_PIPE</a> ||</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;      (host &amp;&amp; !strcmp(host,<a class="code" href="../../d6/df0/mysql__com_8h.html#a2e7ec16bc8384bd465b76d1bef082ea7">LOCAL_HOST_NAMEDPIPE</a>)) ||</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;      (unix_socket &amp;&amp; !strcmp(unix_socket,MYSQL_NAMEDPIPE)))</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;    <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;      <span class="comment">/* Try also with TCP/IP */</span></div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;    }</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;    {</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;      net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a>= vio_new_win32pipe(hPipe);</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;      <a class="code" href="../../dc/d8d/service__my__snprintf_8h.html#ade7f1c92738a9c69d5aa585ce4b66abd">my_snprintf</a>(host_info=buff, <span class="keyword">sizeof</span>(buff)-1,</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;                  <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(<a class="code" href="../../d8/d50/errmsg_8h.html#a17ae16c479ee62f2675a7023d88c66a3">CR_NAMEDPIPE_CONNECTION</a>), unix_socket);</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;    }</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;  }</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;net-&gt;vio: %p  protocol: %d&quot;</span>,</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;                      net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a>, mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a85283d4471c23b3773ca0c4c01ffb1f7">protocol</a>));</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;  <span class="keywordflow">if</span> (!net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a> &amp;&amp;</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;      (!mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a85283d4471c23b3773ca0c4c01ffb1f7">protocol</a> ||</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;       mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a85283d4471c23b3773ca0c4c01ffb1f7">protocol</a> == <a class="code" href="../../de/d53/mysql_8h.html#ac42d2279c8bd9026a231418fafd9a1a9a061914346fab1226594f32cd21f8aa3d">MYSQL_PROTOCOL_TCP</a>))</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;  {</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;    <span class="keyword">struct </span>addrinfo *res_lst, hints, *t_res;</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;    <span class="keywordtype">int</span> gai_errno;</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;    <span class="keywordtype">char</span> port_buf[NI_MAXSERV];</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;    <a class="code" href="../../d9/df6/my__global_8h.html#aed973571b4b7eb2facd8c39e8b500bb6">my_socket</a> sock= <a class="code" href="../../dd/d93/client_8c.html#a633b0396ff93d336a088412a190a5072">SOCKET_ERROR</a>;</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;    <span class="keywordtype">int</span> saved_error= 0, status= -1;</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160; </div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;    unix_socket=0;              <span class="comment">/* This is not used */</span></div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160; </div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;    <span class="keywordflow">if</span> (!port)</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;      port= <a class="code" href="../../dd/d93/client_8c.html#a697e05087606451cfaaa979c3c160da9">mysql_port</a>;</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160; </div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;    <span class="keywordflow">if</span> (!host)</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;      host= <a class="code" href="../../d6/df0/mysql__com_8h.html#aacebc74ef9a786231060d3a8d8b56d24">LOCAL_HOST</a>;</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160; </div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;    <a class="code" href="../../dc/d8d/service__my__snprintf_8h.html#ade7f1c92738a9c69d5aa585ce4b66abd">my_snprintf</a>(host_info=buff, <span class="keyword">sizeof</span>(buff)-1, <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(<a class="code" href="../../d8/d50/errmsg_8h.html#a600dcb543ece179af5b8d7d9a5e48c73">CR_TCP_CONNECTION</a>), host);</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>,(<span class="stringliteral">&quot;Server name: &#39;%s&#39;.  TCP sock: %d&quot;</span>, host, port));</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;<span class="preprocessor">#ifdef MYSQL_SERVER</span></div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;    <a class="code" href="../../d5/d85/thr__alarm_8h.html#a41ddbe2759bc9d1d6c107674bcb88e25">thr_alarm_init</a>(&amp;alarmed);</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;    <a class="code" href="../../d5/d85/thr__alarm_8h.html#adbed654dbd2397ea54cc01c3ea919a4f">thr_alarm</a>(&amp;alarmed, mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#aa8475fa207a033461041fbfd868fe3c6">connect_timeout</a>, &amp;alarm_buff);</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160; </div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>,(<span class="stringliteral">&quot;IP &#39;%s&#39;&quot;</span>, <span class="stringliteral">&quot;client&quot;</span>));</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160; </div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;<span class="preprocessor">#ifdef MYSQL_SERVER</span></div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;    <a class="code" href="../../d5/d85/thr__alarm_8h.html#a150d7f0eb4aeea6341facd6d931475b7">thr_end_alarm</a>(&amp;alarmed);</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160; </div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(&amp;hints, 0, <span class="keyword">sizeof</span>(hints));</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;    hints.ai_socktype= SOCK_STREAM;</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;    hints.ai_protocol= IPPROTO_TCP;</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;    hints.ai_family= AF_UNSPEC;</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160; </div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>,(<span class="stringliteral">&quot;IPV6 getaddrinfo %s&quot;</span>, host));</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;    <a class="code" href="../../dc/d8d/service__my__snprintf_8h.html#ade7f1c92738a9c69d5aa585ce4b66abd">my_snprintf</a>(port_buf, NI_MAXSERV, <span class="stringliteral">&quot;%d&quot;</span>, port);</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;    gai_errno= getaddrinfo(host, port_buf, &amp;hints, &amp;res_lst);</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160; </div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;    <span class="keywordflow">if</span> (gai_errno != 0) </div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;    { </div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;      <span class="comment">/* </span></div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;<span class="comment">        For DBUG we are keeping the right message but for client we default to</span></div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;<span class="comment">        historical error message.</span></div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;<span class="comment">      */</span></div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>,(<span class="stringliteral">&quot;IPV6 getaddrinfo error %d&quot;</span>, gai_errno));</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#a38da6df00d5415a769e8a69867158b0d">set_mysql_extended_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a7016c12960e297a10d00aae59692314c">CR_UNKNOWN_HOST</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>,</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;                               <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(<a class="code" href="../../d8/d50/errmsg_8h.html#a7016c12960e297a10d00aae59692314c">CR_UNKNOWN_HOST</a>), host, <a class="code" href="../../db/da9/my__sys_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>);</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160; </div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;    }</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160; </div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;<span class="comment">      A hostname might map to multiple IP addresses (IPv4/IPv6). Go over the</span></div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;<span class="comment">      list of IP addresses until a successful connection can be established.</span></div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;Try connect on all addresses for host.&quot;</span>));</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;    <span class="keywordflow">for</span> (t_res= res_lst; t_res; t_res= t_res-&gt;ai_next)</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;    {</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;Create socket, family: %d  type: %d  proto: %d&quot;</span>,</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;                          t_res-&gt;ai_family, t_res-&gt;ai_socktype,</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;                          t_res-&gt;ai_protocol));</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;      sock= socket(t_res-&gt;ai_family, t_res-&gt;ai_socktype, t_res-&gt;ai_protocol);</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;      <span class="keywordflow">if</span> (sock == <a class="code" href="../../dd/d93/client_8c.html#a633b0396ff93d336a088412a190a5072">SOCKET_ERROR</a>)</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;      {</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;        saved_error= <a class="code" href="../../d9/df6/my__global_8h.html#a9e43281aa85682be01e2d77a3ee162d8">socket_errno</a>;</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;      }</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160; </div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;Connect socket&quot;</span>));</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;      status= <a class="code" href="../../dd/d93/client_8c.html#ac75dabe29a1237ccc9212834eed642b8">my_connect</a>(sock, t_res-&gt;ai_addr, t_res-&gt;ai_addrlen,</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;                         mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#aa8475fa207a033461041fbfd868fe3c6">connect_timeout</a>);</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;      <span class="comment">/*</span></div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;<span class="comment">        Here we rely on my_connect() to return success only if the</span></div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;<span class="comment">        connect attempt was really successful. Otherwise we would stop</span></div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;<span class="comment">        trying another address, believing we were successful.</span></div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;<span class="comment">      */</span></div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;      <span class="keywordflow">if</span> (!status)</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160; </div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;      <span class="comment">/*</span></div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;<span class="comment">        Save value as socket errno might be overwritten due to</span></div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;<span class="comment">        calling a socket function below.</span></div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;<span class="comment">      */</span></div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;      saved_error= <a class="code" href="../../d9/df6/my__global_8h.html#a9e43281aa85682be01e2d77a3ee162d8">socket_errno</a>;</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160; </div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;No success, close socket, try next address.&quot;</span>));</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;      <a class="code" href="../../d9/df6/my__global_8h.html#a6a3986e9f140942394f1105fa1edb7e1">closesocket</a>(sock);</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;    }</div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>,</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;               (<span class="stringliteral">&quot;End of connect attempts, sock: %d  status: %d  error: %d&quot;</span>,</div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;                sock, status, saved_error));</div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160; </div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;    freeaddrinfo(res_lst);</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160; </div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;    <span class="keywordflow">if</span> (sock == <a class="code" href="../../dd/d93/client_8c.html#a633b0396ff93d336a088412a190a5072">SOCKET_ERROR</a>)</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;    {</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#a38da6df00d5415a769e8a69867158b0d">set_mysql_extended_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#aafaa4c71cf8630cb2328550c6f2e9b67">CR_IPSOCK_ERROR</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>,</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;                                <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(<a class="code" href="../../d8/d50/errmsg_8h.html#aafaa4c71cf8630cb2328550c6f2e9b67">CR_IPSOCK_ERROR</a>), saved_error);</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;    }</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160; </div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;    <span class="keywordflow">if</span> (status)</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;    {</div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;error&quot;</span>,(<span class="stringliteral">&quot;Got error %d on connect to &#39;%s&#39;&quot;</span>, saved_error, host));</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#a38da6df00d5415a769e8a69867158b0d">set_mysql_extended_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#ac996b6b9b0e0399c3afb9f7bd9ddcbd3">CR_CONN_HOST_ERROR</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>,</div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;                                <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(<a class="code" href="../../d8/d50/errmsg_8h.html#ac996b6b9b0e0399c3afb9f7bd9ddcbd3">CR_CONN_HOST_ERROR</a>), host, saved_error);</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;    }</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160; </div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;    net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a>= <a class="code" href="../../d2/dd9/violite_8h.html#a309ac154d6228e5ae6c7a9d8c62522cf">vio_new</a>(sock, <a class="code" href="../../d2/dd9/violite_8h.html#a1a38ce16d857fd45e25f81470d41158ea92665fff9b5c050ecd7b923c5aa78f46">VIO_TYPE_TCPIP</a>, <a class="code" href="../../d2/dd9/violite_8h.html#ae660ef8953b15fc65dc2dd85b66e9580">VIO_BUFFERED_READ</a>);</div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;    <span class="keywordflow">if</span> (! net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a> )</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;    {</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;error&quot;</span>,(<span class="stringliteral">&quot;Unknow protocol %d &quot;</span>, mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a85283d4471c23b3773ca0c4c01ffb1f7">protocol</a>));</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#aeaa629c66168e14fa5ebaeb696f94c6a">CR_CONN_UNKNOW_PROTOCOL</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;      <a class="code" href="../../d9/df6/my__global_8h.html#a6a3986e9f140942394f1105fa1edb7e1">closesocket</a>(sock);</div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;    }</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;  }</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160; </div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;net-&gt;vio: %p&quot;</span>, net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a>));</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;  <span class="keywordflow">if</span> (!net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a>)</div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;  {</div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;error&quot;</span>,(<span class="stringliteral">&quot;Unknow protocol %d &quot;</span>,mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a85283d4471c23b3773ca0c4c01ffb1f7">protocol</a>));</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#aeaa629c66168e14fa5ebaeb696f94c6a">CR_CONN_UNKNOW_PROTOCOL</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;    <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;  }</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160; </div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/df0/mysql__com_8h.html#a8fc6e3b92b7d8742b8ff93526b919063">my_net_init</a>(net, net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a>))</div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;  {</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;    <a class="code" href="../../d2/dd9/violite_8h.html#aadcc2a94246ddb59f11f253a90327ef5">vio_delete</a>(net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a>);</div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;    net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a> = 0;</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a2ade0496d13411711dfa6a8503507d38">CR_OUT_OF_MEMORY</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;    <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;  }</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;  <a class="code" href="../../d2/dd9/violite_8h.html#a19bb776e1f97f12c68ee5e2e6be2281f">vio_keepalive</a>(net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a>,<a class="code" href="../../d8/dec/mpq-internal_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160; </div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;  <span class="comment">/* If user set read_timeout, let it override the default */</span></div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a6fbcc8e03aa4c489bfa23de7f4e0d8f8">read_timeout</a>)</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;    <a class="code" href="../../dc/d7b/net__serv_8cc.html#a813a0a36437c4c7f62b50fbb86617220">my_net_set_read_timeout</a>(net, mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a6fbcc8e03aa4c489bfa23de7f4e0d8f8">read_timeout</a>);</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160; </div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;  <span class="comment">/* If user set write_timeout, let it override the default */</span></div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a8956fca97f0263e415546f5624a614d2">write_timeout</a>)</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;    <a class="code" href="../../dc/d7b/net__serv_8cc.html#a2256fff5962624fac7e47f8aec12402c">my_net_set_write_timeout</a>(net, mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a8956fca97f0263e415546f5624a614d2">write_timeout</a>);</div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160; </div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a70de1a0467629fc3ccb1b0c12431fb41">max_allowed_packet</a>)</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;    net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a519fa13bc0447d4058c9f32b9b34a08a">max_packet_size</a>= mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a70de1a0467629fc3ccb1b0c12431fb41">max_allowed_packet</a>;</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160; </div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;  <span class="comment">/* Get version info */</span></div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a43e5c1629a6db251dc9b5d4eecceb209">protocol_version</a>= PROTOCOL_VERSION;    <span class="comment">/* Assume this */</span></div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#aa8475fa207a033461041fbfd868fe3c6">connect_timeout</a> &amp;&amp;</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;      <a class="code" href="../../d2/dd9/violite_8h.html#aa7c29622ff42a3014aa23195205602e4">vio_poll_read</a>(net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a>, mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#aa8475fa207a033461041fbfd868fe3c6">connect_timeout</a>))</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;  {</div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#a38da6df00d5415a769e8a69867158b0d">set_mysql_extended_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a057dc122082ea5b47db99487107a48b6">CR_SERVER_LOST</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>,</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;                             <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(<a class="code" href="../../d8/d50/errmsg_8h.html#ab797865ea4d25f9fc537af74f610994d">CR_SERVER_LOST_EXTENDED</a>),</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;                             <span class="stringliteral">&quot;waiting for initial communication packet&quot;</span>,</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;                             <a class="code" href="../../db/da9/my__sys_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>);</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;    <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;  }</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160; </div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;<span class="comment">    Part 1: Connection established, read and parse first packet</span></div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;Read first packet.&quot;</span>));</div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160; </div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;  <span class="keywordflow">if</span> ((pkt_length=<a class="code" href="../../dd/d93/client_8c.html#a3196ee8555d77cf23d15d3e0c096740c">cli_safe_read</a>(mysql)) == <a class="code" href="../../d6/df0/mysql__com_8h.html#a08253bf6eaa0178369f3ee1055b914a0">packet_error</a>)</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;  {</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;    <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#ad32d83e52fbb9bde714a4e91ddd4cca7">last_errno</a> == <a class="code" href="../../d8/d50/errmsg_8h.html#a057dc122082ea5b47db99487107a48b6">CR_SERVER_LOST</a>)</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#a38da6df00d5415a769e8a69867158b0d">set_mysql_extended_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a057dc122082ea5b47db99487107a48b6">CR_SERVER_LOST</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>,</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;                               <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(<a class="code" href="../../d8/d50/errmsg_8h.html#ab797865ea4d25f9fc537af74f610994d">CR_SERVER_LOST_EXTENDED</a>),</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;                               <span class="stringliteral">&quot;reading initial communication packet&quot;</span>,</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;                               <a class="code" href="../../db/da9/my__sys_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>);</div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;    <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;  }</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;  pkt_end= (<span class="keywordtype">char</span>*)net-&gt;<a class="code" href="../../de/d2d/structst__net.html#af65adc7b04ff56e008c6f8ca89cc12c2">read_pos</a> + pkt_length;</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;  <span class="comment">/* Check if version of protocol matches current one */</span></div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a43e5c1629a6db251dc9b5d4eecceb209">protocol_version</a>= net-&gt;<a class="code" href="../../de/d2d/structst__net.html#af65adc7b04ff56e008c6f8ca89cc12c2">read_pos</a>[0];</div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a986ff5ad8d1d935c5d8b0df13b6965a5">DBUG_DUMP</a>(<span class="stringliteral">&quot;packet&quot;</span>,(<a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>*) net-&gt;<a class="code" href="../../de/d2d/structst__net.html#af65adc7b04ff56e008c6f8ca89cc12c2">read_pos</a>,10);</div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>,(<span class="stringliteral">&quot;mysql protocol version %d, server=%d&quot;</span>,</div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;             PROTOCOL_VERSION, mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a43e5c1629a6db251dc9b5d4eecceb209">protocol_version</a>));</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a43e5c1629a6db251dc9b5d4eecceb209">protocol_version</a> != PROTOCOL_VERSION)</div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;  {</div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#a38da6df00d5415a769e8a69867158b0d">set_mysql_extended_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a16423b2845e53b9b46b708916dc25f41">CR_VERSION_ERROR</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>,</div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;                             <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(<a class="code" href="../../d8/d50/errmsg_8h.html#a16423b2845e53b9b46b708916dc25f41">CR_VERSION_ERROR</a>), mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a43e5c1629a6db251dc9b5d4eecceb209">protocol_version</a>,</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;                             PROTOCOL_VERSION);</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;    <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;  }</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;  server_version_end= end= <a class="code" href="../../d6/dda/m__string_8h.html#ab21c8a48b0271e2ea1f8d4616dccbf98">strend</a>((<span class="keywordtype">char</span>*) net-&gt;<a class="code" href="../../de/d2d/structst__net.html#af65adc7b04ff56e008c6f8ca89cc12c2">read_pos</a>+1);</div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a9f32d330dbd811f50b7440786febb25f">thread_id</a>=<a class="code" href="../../d9/df6/my__global_8h.html#a1b7a61d5ce08e51aa5ca0ea5542d6d34">uint4korr</a>(end+1);</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;  end+=5;</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;  <span class="comment">/* </span></div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;<span class="comment">    Scramble is split into two parts because old clients do not understand</span></div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;<span class="comment">    long scrambles; here goes the first part.</span></div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;  scramble_data= end;</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;  scramble_data_len= <a class="code" href="../../d6/df0/mysql__com_8h.html#a302a1cb038a2bf21e7f6a90b0b51f48f">SCRAMBLE_LENGTH_323</a> + 1;</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;  scramble_plugin= <a class="code" href="../../dd/d93/client_8c.html#a329c5a74e7eb4f20edf5b6b18c127c7c">old_password_plugin_name</a>;</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;  end+= scramble_data_len;</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160; </div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;  <span class="keywordflow">if</span> (pkt_end &gt;= end + 1)</div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab9c7460496350f7aa331c104aa54717d">server_capabilities</a>=<a class="code" href="../../d9/df6/my__global_8h.html#aeb775a72848a1a71494c627e392fa777">uint2korr</a>(end);</div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;  <span class="keywordflow">if</span> (pkt_end &gt;= end + 18)</div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;  {</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;    <span class="comment">/* New protocol with 16 bytes to describe server characteristics */</span></div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a855f117151afa573d46f988e2e01393a">server_language</a>=end[2];</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab875d849ff6f754a85986fe538408667">server_status</a>=<a class="code" href="../../d9/df6/my__global_8h.html#aeb775a72848a1a71494c627e392fa777">uint2korr</a>(end+3);</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab9c7460496350f7aa331c104aa54717d">server_capabilities</a>|= <a class="code" href="../../d9/df6/my__global_8h.html#aeb775a72848a1a71494c627e392fa777">uint2korr</a>(end+5) &lt;&lt; 16;</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;    pkt_scramble_len= end[7];</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;  }</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;  end+= 18;</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160; </div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a7d0ee51bd78eb9aa35e8048b1541d290">secure_auth</a> &amp;&amp; passwd[0] &amp;&amp;</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;      !(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab9c7460496350f7aa331c104aa54717d">server_capabilities</a> &amp; <a class="code" href="../../d6/df0/mysql__com_8h.html#a1f0015726f2864954cbfd4e5256cc351">CLIENT_SECURE_CONNECTION</a>))</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;  {</div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#abce4bba95259f6b19e4504352829ffd1">CR_SECURE_AUTH</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;    <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;  }</div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160; </div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d93/client_8c.html#a4f61d4e8c709e649f20b036221a5d158">mysql_init_character_set</a>(mysql))</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;    <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160; </div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;  <span class="comment">/* Save connection information */</span></div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../db/da9/my__sys_8h.html#aab4687f9c5a97339f3f037777c7636f0">my_multi_malloc</a>(<a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(0),</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;               &amp;mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#afcd1b31ab175617ee15a9c26a6258457">host_info</a>, (<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>) strlen(host_info)+1,</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;               &amp;mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#aa63af77ef72c5732d53d735a67d20714">host</a>,      (<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>) strlen(host)+1,</div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;               &amp;mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a1a1abcf3441139031de0aa767207dc6a">unix_socket</a>,unix_socket ?</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;               (<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>) strlen(unix_socket)+1 : (<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>) 1,</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;               &amp;mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a72928c42be914f8c12aa24331c542b69">server_version</a>,</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;               (<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>) (server_version_end - (<span class="keywordtype">char</span>*) net-&gt;<a class="code" href="../../de/d2d/structst__net.html#af65adc7b04ff56e008c6f8ca89cc12c2">read_pos</a> + 1),</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;               <a class="code" href="../../d9/df6/my__global_8h.html#a01a1e214486d9454ca611f01cb1cfc39">NullS</a>) ||</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;      !(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ad5bf53f25b64492bee18c140c11081b6">user</a>=<a class="code" href="../../db/da9/my__sys_8h.html#a4921f2b355a65b5054cb2bbd15ba22ab">my_strdup</a>(user,<a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(0))) ||</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;      !(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a63e75633e001c08953663a632819b285">passwd</a>=<a class="code" href="../../db/da9/my__sys_8h.html#a4921f2b355a65b5054cb2bbd15ba22ab">my_strdup</a>(passwd,<a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(0))))</div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;  {</div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a2ade0496d13411711dfa6a8503507d38">CR_OUT_OF_MEMORY</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;    <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;  }</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;  <a class="code" href="../../d6/dda/m__string_8h.html#a9dbe4cdad9c2c12aaa30e04b073884e6">strmov</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#afcd1b31ab175617ee15a9c26a6258457">host_info</a>,host_info);</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;  <a class="code" href="../../d6/dda/m__string_8h.html#a9dbe4cdad9c2c12aaa30e04b073884e6">strmov</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#aa63af77ef72c5732d53d735a67d20714">host</a>,host);</div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;  <span class="keywordflow">if</span> (unix_socket)</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#a9dbe4cdad9c2c12aaa30e04b073884e6">strmov</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a1a1abcf3441139031de0aa767207dc6a">unix_socket</a>,unix_socket);</div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a1a1abcf3441139031de0aa767207dc6a">unix_socket</a>=0;</div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;  <a class="code" href="../../d6/dda/m__string_8h.html#a9dbe4cdad9c2c12aaa30e04b073884e6">strmov</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a72928c42be914f8c12aa24331c542b69">server_version</a>,(<span class="keywordtype">char</span>*) net-&gt;<a class="code" href="../../de/d2d/structst__net.html#af65adc7b04ff56e008c6f8ca89cc12c2">read_pos</a>+1);</div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a285c6023c0903a47d4e6cdebde4c6dfe">port</a>=port;</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160; </div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;  <span class="keywordflow">if</span> (pkt_end &gt;= end + <a class="code" href="../../d6/df0/mysql__com_8h.html#a45f11cf97b6dec62756b92cbb96f7418">SCRAMBLE_LENGTH</a> - <a class="code" href="../../d6/df0/mysql__com_8h.html#a302a1cb038a2bf21e7f6a90b0b51f48f">SCRAMBLE_LENGTH_323</a> + 1)</div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;  {</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;<span class="comment">     move the first scramble part - directly in the NET buffer -</span></div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;<span class="comment">     to get a full continuous scramble. We&#39;ve read all the header,</span></div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;<span class="comment">     and can overwrite it now.</span></div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#ac3cb9e44f3dff4c913b18456669a3002">memmove</a>(end - <a class="code" href="../../d6/df0/mysql__com_8h.html#a302a1cb038a2bf21e7f6a90b0b51f48f">SCRAMBLE_LENGTH_323</a>, scramble_data,</div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;            <a class="code" href="../../d6/df0/mysql__com_8h.html#a302a1cb038a2bf21e7f6a90b0b51f48f">SCRAMBLE_LENGTH_323</a>);</div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;    scramble_data= end - <a class="code" href="../../d6/df0/mysql__com_8h.html#a302a1cb038a2bf21e7f6a90b0b51f48f">SCRAMBLE_LENGTH_323</a>;</div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;    <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab9c7460496350f7aa331c104aa54717d">server_capabilities</a> &amp; <a class="code" href="../../d6/df0/mysql__com_8h.html#a2a6cb83350f95a382a35de3021904012">CLIENT_PLUGIN_AUTH</a>)</div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;    {</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;      scramble_data_len= pkt_scramble_len;</div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;      scramble_plugin= scramble_data + scramble_data_len;</div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;      <span class="keywordflow">if</span> (scramble_data + scramble_data_len &gt; pkt_end)</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;        scramble_data_len= pkt_end - scramble_data;</div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;    }</div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;    {</div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;      scramble_data_len= pkt_end - scramble_data;</div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;      scramble_plugin= <a class="code" href="../../dd/d93/client_8c.html#ac6ae64e4a3d19ae64c79c0b7afa56f37">native_password_plugin_name</a>;</div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;    }</div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;  }</div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab9c7460496350f7aa331c104aa54717d">server_capabilities</a>&amp;= ~<a class="code" href="../../d6/df0/mysql__com_8h.html#a1f0015726f2864954cbfd4e5256cc351">CLIENT_SECURE_CONNECTION</a>;</div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160; </div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af572471668d07fd887bc68d44375d8a5">client_flag</a>= client_flag;</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160; </div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;<span class="comment">    Part 2: invoke the plugin to send the authentication data to the server</span></div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160; </div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d93/client_8c.html#ac0dfa45f372b6656c15abe29c6046644">run_plugin_auth</a>(mysql, scramble_data, scramble_data_len,</div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;                      scramble_plugin, db))</div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;    <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160; </div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;<span class="comment">    Part 3: authenticated, finish the initialization of the connection</span></div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160; </div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af572471668d07fd887bc68d44375d8a5">client_flag</a> &amp; <a class="code" href="../../d6/df0/mysql__com_8h.html#a69668fa642cd688ab5a3c24de87c0b9a">CLIENT_COMPRESS</a>)      <span class="comment">/* We will use compression */</span></div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;    net-&gt;<a class="code" href="../../de/d2d/structst__net.html#ae72db65cba31233b606eacd0a0da5769">compress</a>=1;</div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160; </div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;<span class="preprocessor">#ifdef CHECK_LICENSE </span></div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;  <span class="keywordflow">if</span> (check_license(mysql))</div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;    <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160; </div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;  <span class="keywordflow">if</span> (db &amp;&amp; !mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#add1f635a8aea354868cfe57dba0d6298">db</a> &amp;&amp; <a class="code" href="../../dd/d93/client_8c.html#a573c9edfe7701b8cb346221aa437bd88">mysql_select_db</a>(mysql, db))</div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;  {</div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;    <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#ad32d83e52fbb9bde714a4e91ddd4cca7">last_errno</a> == <a class="code" href="../../d8/d50/errmsg_8h.html#a057dc122082ea5b47db99487107a48b6">CR_SERVER_LOST</a>)</div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;        <a class="code" href="../../dd/d93/client_8c.html#a38da6df00d5415a769e8a69867158b0d">set_mysql_extended_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a057dc122082ea5b47db99487107a48b6">CR_SERVER_LOST</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>,</div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;                                 <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(<a class="code" href="../../d8/d50/errmsg_8h.html#ab797865ea4d25f9fc537af74f610994d">CR_SERVER_LOST_EXTENDED</a>),</div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;                                 <span class="stringliteral">&quot;Setting intital database&quot;</span>,</div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;                                 <a class="code" href="../../db/da9/my__sys_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>);</div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;    <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;  }</div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160; </div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;<span class="comment">     Using init_commands is not supported when connecting from within the</span></div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;<span class="comment">     server.</span></div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;<span class="preprocessor">#ifndef MYSQL_SERVER</span></div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a6f9eb2e4acb59618e0843bb3c63f58f4">init_commands</a>)</div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;  {</div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;    <a class="code" href="../../da/dfc/structst__dynamic__array.html">DYNAMIC_ARRAY</a> *init_commands= mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a6f9eb2e4acb59618e0843bb3c63f58f4">init_commands</a>;</div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;    <span class="keywordtype">char</span> **<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>= (<span class="keywordtype">char</span>**)init_commands-&gt;<a class="code" href="../../da/dfc/structst__dynamic__array.html#a46407a62e2fec7f400787f482caab0b1">buffer</a>;</div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;    <span class="keywordtype">char</span> **end_command= <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a> + init_commands-&gt;<a class="code" href="../../da/dfc/structst__dynamic__array.html#afc73a9c6a7fa8222ef8f65a795c97db7">elements</a>;</div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160; </div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;    <a class="code" href="../../d9/df6/my__global_8h.html#a74cd599039dcf29c6e6d342cf4efd0a8">my_bool</a> reconnect=mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a802266361a427c12d6cb29a27f8889b1">reconnect</a>;</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a802266361a427c12d6cb29a27f8889b1">reconnect</a>=0;</div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160; </div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;    for (; <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a> &lt; end_command; <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>++)</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;    {</div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;      <span class="keywordtype">int</span> status;</div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160; </div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d93/client_8c.html#a9120bc5859e0f5602aef4f4470665888">mysql_real_query</a>(mysql,*<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, (<a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>) strlen(*<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>)))</div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;    <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160; </div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;      <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;        <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#aa31b4c644fcef355ce347977a47be9b2">fields</a>)</div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;        {</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;          <a class="code" href="../../dc/de8/structst__mysql__res.html">MYSQL_RES</a> *res;</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;          <span class="keywordflow">if</span> (!(res= <a class="code" href="../../dd/d93/client_8c.html#a91ba7172f7c75fa4d389269e3a964291">cli_use_result</a>(mysql)))</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;          <a class="code" href="../../dd/d93/client_8c.html#ada9e5d549970fb10d2fc862739717129">mysql_free_result</a>(res);</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;        }</div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;        <span class="keywordflow">if</span> ((status= <a class="code" href="../../de/d53/mysql_8h.html#a5498795c3bb494716a0c74e27f18aeec">mysql_next_result</a>(mysql)) &gt; 0)</div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;          <span class="keywordflow">goto</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;      } <span class="keywordflow">while</span> (status == 0);</div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;    }</div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a802266361a427c12d6cb29a27f8889b1">reconnect</a>=reconnect;</div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;  }</div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160; </div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;exit&quot;</span>, (<span class="stringliteral">&quot;Mysql handler: 0x%lx&quot;</span>, (<span class="keywordtype">long</span>) mysql));</div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(mysql);</div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160; </div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;<a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>:</div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;error&quot;</span>,(<span class="stringliteral">&quot;message: %u/%s (%s)&quot;</span>,</div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;                      net-&gt;<a class="code" href="../../de/d2d/structst__net.html#ad32d83e52fbb9bde714a4e91ddd4cca7">last_errno</a>,</div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;                      net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a0f689854fdd40edbf79cc7e248ecd02f">sqlstate</a>,</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;                      net-&gt;<a class="code" href="../../de/d2d/structst__net.html#a076ac7884d3874905c0c95b6518228fc">last_error</a>));</div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;  {</div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;    <span class="comment">/* Free alloced memory */</span></div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#a189d88bfca75952cf7c3e5c1ffa59cc0">end_server</a>(mysql);</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#af9ba7bfff60df4693e88983a3adc52a9">mysql_close_free</a>(mysql);</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;    <span class="keywordflow">if</span> (!(client_flag &amp; <a class="code" href="../../d6/df0/mysql__com_8h.html#a07344a4eb8f5c74ea8875bb4e9852fb0">CLIENT_REMEMBER_OPTIONS</a>))</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#a94c049b6d785d0d20a66b56f60489367">mysql_close_free_options</a>(mysql);</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;  }</div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(0);</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;}</div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160; </div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160; </div>
<div class="line"><a name="l03470"></a><span class="lineno"><a class="line" href="../../d6/d2a/sql__common_8h.html#abdac97fb2a90f16c130964219ad46b5f"> 3470</a></span>&#160;<a class="code" href="../../d9/df6/my__global_8h.html#a74cd599039dcf29c6e6d342cf4efd0a8">my_bool</a> <a class="code" href="../../dd/d93/client_8c.html#abdac97fb2a90f16c130964219ad46b5f">mysql_reconnect</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql)</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;{</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;  <a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> tmp_mysql;</div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;mysql_reconnect&quot;</span>);</div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;  <a class="code" href="../../d0/d74/my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(mysql);</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;enter&quot;</span>, (<span class="stringliteral">&quot;mysql-&gt;reconnect: %d&quot;</span>, mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a802266361a427c12d6cb29a27f8889b1">reconnect</a>));</div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160; </div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;  <span class="keywordflow">if</span> (!mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a802266361a427c12d6cb29a27f8889b1">reconnect</a> ||</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;      (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab875d849ff6f754a85986fe538408667">server_status</a> &amp; <a class="code" href="../../d6/df0/mysql__com_8h.html#a8e4ffa42cecc3c43f30c4e1166c37bf9">SERVER_STATUS_IN_TRANS</a>) || !mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#afcd1b31ab175617ee15a9c26a6258457">host_info</a>)</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;  {</div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;    <span class="comment">/* Allow reconnect next time */</span></div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab875d849ff6f754a85986fe538408667">server_status</a>&amp;= ~<a class="code" href="../../d6/df0/mysql__com_8h.html#a8e4ffa42cecc3c43f30c4e1166c37bf9">SERVER_STATUS_IN_TRANS</a>;</div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a29c74cfa766ed8c2e06718a52b0b60ee">CR_SERVER_GONE_ERROR</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(1);</div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;  }</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#a57dd141bcf4441d66c1ef41cf1cb058b">mysql_init</a>(&amp;tmp_mysql);</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;  tmp_mysql.<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>= mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>;</div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;  tmp_mysql.<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a4cc1dad4e2d110efa24865a636613b6e">my_cnf_file</a>= tmp_mysql.<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a28e998c549cbbc33d7d1eba197f1d52f">my_cnf_group</a>= 0;</div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160; </div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../de/d53/mysql_8h.html#a613a678e4a6940b415bdc3d0a4cd6def">mysql_real_connect</a>(&amp;tmp_mysql,mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#aa63af77ef72c5732d53d735a67d20714">host</a>,mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ad5bf53f25b64492bee18c140c11081b6">user</a>,mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a63e75633e001c08953663a632819b285">passwd</a>,</div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;              mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#add1f635a8aea354868cfe57dba0d6298">db</a>, mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a285c6023c0903a47d4e6cdebde4c6dfe">port</a>, mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a1a1abcf3441139031de0aa767207dc6a">unix_socket</a>,</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;              mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af572471668d07fd887bc68d44375d8a5">client_flag</a> | <a class="code" href="../../d6/df0/mysql__com_8h.html#a07344a4eb8f5c74ea8875bb4e9852fb0">CLIENT_REMEMBER_OPTIONS</a>))</div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;  {</div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#ad32d83e52fbb9bde714a4e91ddd4cca7">last_errno</a>= tmp_mysql.<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#ad32d83e52fbb9bde714a4e91ddd4cca7">last_errno</a>;</div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#a9dbe4cdad9c2c12aaa30e04b073884e6">strmov</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#a076ac7884d3874905c0c95b6518228fc">last_error</a>, tmp_mysql.<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#a076ac7884d3874905c0c95b6518228fc">last_error</a>);</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#a9dbe4cdad9c2c12aaa30e04b073884e6">strmov</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#a0f689854fdd40edbf79cc7e248ecd02f">sqlstate</a>, tmp_mysql.<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#a0f689854fdd40edbf79cc7e248ecd02f">sqlstate</a>);</div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(1);</div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;  }</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d93/client_8c.html#a09d28115afea5bc892e63e282319d81e">mysql_set_character_set</a>(&amp;tmp_mysql, mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a5d128ecd21c6265f37c283824b3ad813">charset</a>-&gt;<a class="code" href="../../d9/d35/structcharset__info__st.html#a477a0149a9fa33885f0f3e955695b115">csname</a>))</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;  {</div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;error&quot;</span>, (<span class="stringliteral">&quot;mysql_set_character_set() failed&quot;</span>));</div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#ab3be5dcbbf1244672c14662b20f88b61">bzero</a>((<span class="keywordtype">char</span>*) &amp;tmp_mysql.<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>,<span class="keyword">sizeof</span>(tmp_mysql.<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>));</div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#a5f684d7bfd3daf3fda027de64230fd32">mysql_close</a>(&amp;tmp_mysql);</div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#ad32d83e52fbb9bde714a4e91ddd4cca7">last_errno</a>= tmp_mysql.<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#ad32d83e52fbb9bde714a4e91ddd4cca7">last_errno</a>;</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#a9dbe4cdad9c2c12aaa30e04b073884e6">strmov</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#a076ac7884d3874905c0c95b6518228fc">last_error</a>, tmp_mysql.<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#a076ac7884d3874905c0c95b6518228fc">last_error</a>);</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#a9dbe4cdad9c2c12aaa30e04b073884e6">strmov</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#a0f689854fdd40edbf79cc7e248ecd02f">sqlstate</a>, tmp_mysql.<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#a0f689854fdd40edbf79cc7e248ecd02f">sqlstate</a>);</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(1);</div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;  }</div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160; </div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;reconnect succeded&quot;</span>));</div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;  tmp_mysql.<a class="code" href="../../d8/d7e/structst__mysql.html#a802266361a427c12d6cb29a27f8889b1">reconnect</a>= 1;</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;  tmp_mysql.<a class="code" href="../../d8/d7e/structst__mysql.html#a360756ba79af768da73d528969759b64">free_me</a>= mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a360756ba79af768da73d528969759b64">free_me</a>;</div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160; </div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;  <span class="comment">/* Move prepared statements (if any) over to the new mysql object */</span></div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;  tmp_mysql.<a class="code" href="../../d8/d7e/structst__mysql.html#afe0722884084a6d3a8b9448e71ca25e2">stmts</a>= mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#afe0722884084a6d3a8b9448e71ca25e2">stmts</a>;</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#afe0722884084a6d3a8b9448e71ca25e2">stmts</a>= 0;</div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160; </div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;  <span class="comment">/* Don&#39;t free options as these are now used in tmp_mysql */</span></div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;  <a class="code" href="../../d6/dda/m__string_8h.html#ab3be5dcbbf1244672c14662b20f88b61">bzero</a>((<span class="keywordtype">char</span>*) &amp;mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>,<span class="keyword">sizeof</span>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>));</div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a360756ba79af768da73d528969759b64">free_me</a>=0;</div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#a5f684d7bfd3daf3fda027de64230fd32">mysql_close</a>(mysql);</div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;  *mysql=tmp_mysql;</div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;  <a class="code" href="../../d6/df0/mysql__com_8h.html#abd602000264b4930066da5007c8195fb">net_clear</a>(&amp;mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>, 1);</div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#acf6930c0bcb39cc19665b1a4142ba559">affected_rows</a>= ~(<a class="code" href="../../d9/df6/my__global_8h.html#ae05bd5d3e5a75578e2f14cfeb43f07aa">my_ulonglong</a>) 0;</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(0);</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;}</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160; </div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160; </div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;<span class="comment">/**************************************************************************</span></div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;<span class="comment">  Set current database</span></div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;<span class="comment">**************************************************************************/</span></div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160; </div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d9/df6/my__global_8h.html#a446cf449a6234c9b177309d5ba0852c0">STDCALL</a></div>
<div class="line"><a name="l03533"></a><span class="lineno"><a class="line" href="../../de/d53/mysql_8h.html#a573c9edfe7701b8cb346221aa437bd88"> 3533</a></span>&#160;<a class="code" href="../../dd/d93/client_8c.html#a573c9edfe7701b8cb346221aa437bd88">mysql_select_db</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql, <span class="keyword">const</span> <span class="keywordtype">char</span> *db)</div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;{</div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;mysql_select_db&quot;</span>);</div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;enter&quot;</span>,(<span class="stringliteral">&quot;db: &#39;%s&#39;&quot;</span>,db));</div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160; </div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>=<a class="code" href="../../d6/d2a/sql__common_8h.html#aa84198878fcd7ae6485dbc1f23216794">simple_command</a>(mysql,<a class="code" href="../../d6/df0/mysql__com_8h.html#ae2ff1badf13d2b8099af8b47831281e1aebf91bc694c68a0d92c3adcc1bf61a2d">COM_INIT_DB</a>, (<span class="keyword">const</span> <a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>*) db,</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;                            (<a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>) strlen(db),0)))</div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(<a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>);</div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#add1f635a8aea354868cfe57dba0d6298">db</a>);</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#add1f635a8aea354868cfe57dba0d6298">db</a>=<a class="code" href="../../db/da9/my__sys_8h.html#a4921f2b355a65b5054cb2bbd15ba22ab">my_strdup</a>(db,<a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a>));</div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(0);</div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;}</div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160; </div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160; </div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;<span class="comment">/*************************************************************************</span></div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;<span class="comment">  Send a QUIT to the server and close the connection</span></div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;<span class="comment">  If handle is alloced by mysql connect free it.</span></div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;<span class="comment">*************************************************************************/</span></div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160; </div>
<div class="line"><a name="l03553"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a94c049b6d785d0d20a66b56f60489367"> 3553</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/d93/client_8c.html#a94c049b6d785d0d20a66b56f60489367">mysql_close_free_options</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql)</div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;{</div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;mysql_close_free_options&quot;</span>);</div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160; </div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a9889ada2bcc6e077b8ee984a9c7be6e1">user</a>);</div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a79fc433d16a9cd4b913a6490fc612bf3">host</a>);</div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a76f9c11ae054459cabfc89d30928b786">password</a>);</div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a6d4f1507ec3907eda109548da49ee850">unix_socket</a>);</div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a82f5dcf8b83007fafa33a45583f87ce8">db</a>);</div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a4cc1dad4e2d110efa24865a636613b6e">my_cnf_file</a>);</div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a28e998c549cbbc33d7d1eba197f1d52f">my_cnf_group</a>);</div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a8e4ad7ebde4a8956788247faf4da20fb">charset_dir</a>);</div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a965be4c3b508a911b575fc0aa8fc3345">charset_name</a>);</div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a303edbbc594a8ccbfa3de34aa85ae509">client_ip</a>);</div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a6f9eb2e4acb59618e0843bb3c63f58f4">init_commands</a>)</div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;  {</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;    <a class="code" href="../../da/dfc/structst__dynamic__array.html">DYNAMIC_ARRAY</a> *init_commands= mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a6f9eb2e4acb59618e0843bb3c63f58f4">init_commands</a>;</div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;    <span class="keywordtype">char</span> **<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>= (<span class="keywordtype">char</span>**)init_commands-&gt;<a class="code" href="../../da/dfc/structst__dynamic__array.html#a46407a62e2fec7f400787f482caab0b1">buffer</a>;</div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;    <span class="keywordtype">char</span> **end= <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a> + init_commands-&gt;<a class="code" href="../../da/dfc/structst__dynamic__array.html#afc73a9c6a7fa8222ef8f65a795c97db7">elements</a>;</div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;    for (; <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>&lt;end; <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>++)</div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;      <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(*<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>);</div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#abd87232eee6027cb155f2dc978769bcc">delete_dynamic</a>(init_commands);</div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(init_commands);</div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;  }</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;<span class="preprocessor">#if defined(HAVE_OPENSSL) &amp;&amp; !defined(EMBEDDED_LIBRARY)</span></div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;  mysql_ssl_free(mysql);</div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* HAVE_OPENSSL &amp;&amp; !EMBEDDED_LIBRARY */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;<span class="preprocessor">#ifdef HAVE_SMEM</span></div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#abd61d3820e3904dd30ad1c4c44887d10">shared_memory_base_name</a> != def_shared_memory_base_name)</div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#abd61d3820e3904dd30ad1c4c44887d10">shared_memory_base_name</a>);</div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* HAVE_SMEM */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#ac16c1d9c8c28b3daeabb7222cda5e8c2">extension</a>)</div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;  {</div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#ac16c1d9c8c28b3daeabb7222cda5e8c2">extension</a>-&gt;<a class="code" href="../../d3/d8a/structst__mysql__options__extention.html#a96ff02b5fbb7b7b4f9684e83c2ec60db">plugin_dir</a>);</div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#ac16c1d9c8c28b3daeabb7222cda5e8c2">extension</a>-&gt;<a class="code" href="../../d3/d8a/structst__mysql__options__extention.html#a19f9a45029a9ff67f9967a7f60c1b478">default_auth</a>);</div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#ac16c1d9c8c28b3daeabb7222cda5e8c2">extension</a>);</div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;  }</div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;  <a class="code" href="../../d6/dda/m__string_8h.html#ab3be5dcbbf1244672c14662b20f88b61">bzero</a>((<span class="keywordtype">char</span>*) &amp;mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>,<span class="keyword">sizeof</span>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>));</div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a2d990f1c0bd095fcbac9c6596274be55">DBUG_VOID_RETURN</a>;</div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;}</div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160; </div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160; </div>
<div class="line"><a name="l03595"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#af9ba7bfff60df4693e88983a3adc52a9"> 3595</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/d93/client_8c.html#af9ba7bfff60df4693e88983a3adc52a9">mysql_close_free</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql)</div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;{</div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#afcd1b31ab175617ee15a9c26a6258457">host_info</a>);</div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ad5bf53f25b64492bee18c140c11081b6">user</a>);</div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a63e75633e001c08953663a632819b285">passwd</a>);</div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#add1f635a8aea354868cfe57dba0d6298">db</a>);</div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;<span class="preprocessor">#if defined(EMBEDDED_LIBRARY) || MYSQL_VERSION_ID &gt;= 50100</span></div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a135e9fa0dea39f54be633acd845634a4">info_buffer</a>);</div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a135e9fa0dea39f54be633acd845634a4">info_buffer</a>= 0;</div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;  <span class="comment">/* Clear pointers for better safety */</span></div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#afcd1b31ab175617ee15a9c26a6258457">host_info</a>= mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ad5bf53f25b64492bee18c140c11081b6">user</a>= mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a63e75633e001c08953663a632819b285">passwd</a>= mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#add1f635a8aea354868cfe57dba0d6298">db</a>= 0;</div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;}</div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160; </div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160; </div>
<div class="line"><a name="l03625"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a0fb52d22e3f1ca79728d71742788f596"> 3625</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/d93/client_8c.html#a0fb52d22e3f1ca79728d71742788f596">mysql_prune_stmt_list</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql)</div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;{</div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;  <a class="code" href="../../d8/d55/structst__list.html">LIST</a> *element= mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#afe0722884084a6d3a8b9448e71ca25e2">stmts</a>;</div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;  <a class="code" href="../../d8/d55/structst__list.html">LIST</a> *pruned_list= 0;</div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160; </div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;  <span class="keywordflow">for</span> (; element; element= element-&gt;<a class="code" href="../../d8/d55/structst__list.html#a2df21777b3d410ab0803ee9046b3764e">next</a>)</div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;  {</div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;    <a class="code" href="../../d8/d72/structst__mysql__stmt.html">MYSQL_STMT</a> *stmt= (<a class="code" href="../../d8/d72/structst__mysql__stmt.html">MYSQL_STMT</a> *) element-&gt;<a class="code" href="../../d8/d55/structst__list.html#a178fcbad1f7324818b3da52be702e8dd">data</a>;</div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;    <a class="code" href="../../dd/d68/_c_make_lists_8txt.html#a0b5da418382bdd0db6dff439e2863979">if</a> (stmt-&gt;<a class="code" href="../../d8/d72/structst__mysql__stmt.html#a30dfb09d512d7b9397f8bea13bfc319b">state</a> != <a class="code" href="../../de/d53/mysql_8h.html#a3491e6b32b8b2a22404cc3c009343b63a819cd41f5a6872a65530714a56dffc98">MYSQL_STMT_INIT_DONE</a>)</div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;    {</div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;      stmt-&gt;<a class="code" href="../../d8/d72/structst__mysql__stmt.html#a224349871acc052c72cfa86f5901c809">mysql</a>= 0;</div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;      stmt-&gt;<a class="code" href="../../d8/d72/structst__mysql__stmt.html#a58c9c8e23ee17b61de9804585fa3c9cd">last_errno</a>= <a class="code" href="../../d8/d50/errmsg_8h.html#a057dc122082ea5b47db99487107a48b6">CR_SERVER_LOST</a>;</div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;      <a class="code" href="../../d6/dda/m__string_8h.html#a9dbe4cdad9c2c12aaa30e04b073884e6">strmov</a>(stmt-&gt;<a class="code" href="../../d8/d72/structst__mysql__stmt.html#a5aa67e24109cb953e09d788756802c9a">last_error</a>, <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(<a class="code" href="../../d8/d50/errmsg_8h.html#a057dc122082ea5b47db99487107a48b6">CR_SERVER_LOST</a>));</div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;      <a class="code" href="../../d6/dda/m__string_8h.html#a9dbe4cdad9c2c12aaa30e04b073884e6">strmov</a>(stmt-&gt;<a class="code" href="../../d8/d72/structst__mysql__stmt.html#a4bc2da06a308a95a0e5af923239493b5">sqlstate</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;    }</div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;    {</div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;      pruned_list= <a class="code" href="../../d4/dd5/my__list_8h.html#aed18cad350263cec89453b7afd548c7a">list_add</a>(pruned_list, element);</div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;    }</div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;  }</div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160; </div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#afe0722884084a6d3a8b9448e71ca25e2">stmts</a>= pruned_list;</div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;}</div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160; </div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160; </div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;<span class="comment">  Clear connection pointer of every statement: this is necessary</span></div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;<span class="comment">  to give error on attempt to use a prepared statement of closed</span></div>
<div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;<span class="comment">  connection.</span></div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;<span class="comment">  SYNOPSYS</span></div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;<span class="comment">    mysql_detach_stmt_list()</span></div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;<span class="comment">      stmt_list  pointer to mysql-&gt;stmts</span></div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;<span class="comment">      func_name  name of calling function</span></div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;<span class="comment">  NOTE</span></div>
<div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;<span class="comment">    There is similar code in mysql_reconnect(), so changes here</span></div>
<div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;<span class="comment">    should also be reflected there.</span></div>
<div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160; </div>
<div class="line"><a name="l03665"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a7caf48efd7b9fab447d4a93001514915"> 3665</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dd/d93/client_8c.html#a7caf48efd7b9fab447d4a93001514915">mysql_detach_stmt_list</a>(<a class="code" href="../../d8/d55/structst__list.html">LIST</a> **stmt_list <a class="code" href="../../d4/d72/my__attribute_8h.html#a4fb2431b46656ad0908c4e0195540182">__attribute__</a>((unused)),</div>
<div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;                            <span class="keyword">const</span> <span class="keywordtype">char</span> *func_name <a class="code" href="../../d4/d72/my__attribute_8h.html#a4fb2431b46656ad0908c4e0195540182">__attribute__</a>((unused)))</div>
<div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;{</div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;<span class="preprocessor">#ifdef MYSQL_CLIENT</span></div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;  <span class="comment">/* Reset connection handle in all prepared statements. */</span></div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;  <a class="code" href="../../d8/d55/structst__list.html">LIST</a> *element= *stmt_list;</div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;  <span class="keywordtype">char</span> buff[<a class="code" href="../../d6/df0/mysql__com_8h.html#a3f5f3eab30894e1dfa8d5bd977a889be">MYSQL_ERRMSG_SIZE</a>];</div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;mysql_detach_stmt_list&quot;</span>);</div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160; </div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;  <a class="code" href="../../dc/d8d/service__my__snprintf_8h.html#ade7f1c92738a9c69d5aa585ce4b66abd">my_snprintf</a>(buff, <span class="keyword">sizeof</span>(buff)-1, <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(<a class="code" href="../../d8/d50/errmsg_8h.html#a5012c5e15c2bc7dfc1ea357bed99c7dd">CR_STMT_CLOSED</a>), func_name);</div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;  <span class="keywordflow">for</span> (; element; element= element-&gt;<a class="code" href="../../d8/d55/structst__list.html#a2df21777b3d410ab0803ee9046b3764e">next</a>)</div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;  {</div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;    <a class="code" href="../../d8/d72/structst__mysql__stmt.html">MYSQL_STMT</a> *stmt= (<a class="code" href="../../d8/d72/structst__mysql__stmt.html">MYSQL_STMT</a> *) element-&gt;<a class="code" href="../../d8/d55/structst__list.html#a178fcbad1f7324818b3da52be702e8dd">data</a>;</div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;    <a class="code" href="../../d6/d2a/sql__common_8h.html#ac4fd86a81f5d719d2072f1a456f25265">set_stmt_error</a>(stmt, <a class="code" href="../../d8/d50/errmsg_8h.html#a5012c5e15c2bc7dfc1ea357bed99c7dd">CR_STMT_CLOSED</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>, buff);</div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;    stmt-&gt;<a class="code" href="../../d8/d72/structst__mysql__stmt.html#a224349871acc052c72cfa86f5901c809">mysql</a>= 0;</div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;    <span class="comment">/* No need to call list_delete for statement here */</span></div>
<div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;  }</div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;  *stmt_list= 0;</div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a2d990f1c0bd095fcbac9c6596274be55">DBUG_VOID_RETURN</a>;</div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* MYSQL_CLIENT */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;}</div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160; </div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160; </div>
<div class="line"><a name="l03688"></a><span class="lineno"><a class="line" href="../../de/d53/mysql_8h.html#aea046bdeddad2a112a86caa97a806181"> 3688</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/df6/my__global_8h.html#a446cf449a6234c9b177309d5ba0852c0">STDCALL</a> <a class="code" href="../../dd/d93/client_8c.html#a5f684d7bfd3daf3fda027de64230fd32">mysql_close</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql)</div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;{</div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;mysql_close&quot;</span>);</div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;  <span class="keywordflow">if</span> (mysql)                    <span class="comment">/* Some simple safety */</span></div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;  {</div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;    <span class="comment">/* If connection is still up, send a QUIT message */</span></div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;    <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">vio</a> != 0)</div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;    {</div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#acd30898c417629e616d1ba9a17f91892">free_old_query</a>(mysql);</div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;      mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#abd3b5b4aa083403f1025f688731b196e">status</a>=<a class="code" href="../../de/d53/mysql_8h.html#a8c0cf7afc762670cf296e4a0067cae5da5b9a77ab649e8ee6da459016f7daa06c">MYSQL_STATUS_READY</a>; <span class="comment">/* Force command */</span></div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;      mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a802266361a427c12d6cb29a27f8889b1">reconnect</a>=0;</div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;      <a class="code" href="../../d6/d2a/sql__common_8h.html#aa84198878fcd7ae6485dbc1f23216794">simple_command</a>(mysql,<a class="code" href="../../d6/df0/mysql__com_8h.html#ae2ff1badf13d2b8099af8b47831281e1a1bbc2d425b64d5a0f32f17bbf201fbb2">COM_QUIT</a>,(<a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>*) 0,0,1);</div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#a189d88bfca75952cf7c3e5c1ffa59cc0">end_server</a>(mysql);            <span class="comment">/* Sets mysql-&gt;net.vio= 0 */</span></div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;    }</div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#a94c049b6d785d0d20a66b56f60489367">mysql_close_free_options</a>(mysql);</div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#af9ba7bfff60df4693e88983a3adc52a9">mysql_close_free</a>(mysql);</div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#a7caf48efd7b9fab447d4a93001514915">mysql_detach_stmt_list</a>(&amp;mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#afe0722884084a6d3a8b9448e71ca25e2">stmts</a>, <span class="stringliteral">&quot;mysql_close&quot;</span>);</div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;<span class="preprocessor">#ifndef MYSQL_SERVER</span></div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;    <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af7c6f25aed31575514966a3cdf77ebc6">thd</a>)</div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;      (*mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a04129bc0cbeda076db8ba274ed93328d">methods</a>-&gt;<a class="code" href="../../d2/d94/structst__mysql__methods.html#a17db5f3b5013f92e4d72e31edb97fac1">free_embedded_thd</a>)(mysql);</div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;    <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a360756ba79af768da73d528969759b64">free_me</a>)</div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;      <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql);</div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;  }</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a2d990f1c0bd095fcbac9c6596274be55">DBUG_VOID_RETURN</a>;</div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;}</div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160; </div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160; </div>
<div class="line"><a name="l03716"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a54d8ebd9ff6d0d747510b396ef03e3c0"> 3716</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../d9/df6/my__global_8h.html#a74cd599039dcf29c6e6d342cf4efd0a8">my_bool</a> <a class="code" href="../../dd/d93/client_8c.html#a54d8ebd9ff6d0d747510b396ef03e3c0">cli_read_query_result</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql)</div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;{</div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *<a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>;</div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> field_count;</div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;  <a class="code" href="../../df/dab/structst__mysql__data.html">MYSQL_DATA</a> *fields;</div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> <a class="code" href="../../df/de2/namespace_g3_d.html#a69a355f92fa3aab4f301667be00cd3eb">length</a>;</div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;cli_read_query_result&quot;</span>);</div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160; </div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="../../df/de2/namespace_g3_d.html#a69a355f92fa3aab4f301667be00cd3eb">length</a> = <a class="code" href="../../dd/d93/client_8c.html#a3196ee8555d77cf23d15d3e0c096740c">cli_safe_read</a>(mysql)) == <a class="code" href="../../d6/df0/mysql__com_8h.html#a08253bf6eaa0178369f3ee1055b914a0">packet_error</a>)</div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(1);</div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;  <a class="code" href="../../dd/d93/client_8c.html#acd30898c417629e616d1ba9a17f91892">free_old_query</a>(mysql);        <span class="comment">/* Free old result */</span></div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;<span class="preprocessor">#ifdef MYSQL_CLIENT         </span><span class="comment">/* Avoid warn of unused labels*/</span><span class="preprocessor"></span></div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;get_info:</div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;  <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>=(<a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>*) mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#af65adc7b04ff56e008c6f8ca89cc12c2">read_pos</a>;</div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;  <a class="code" href="../../dd/d68/_c_make_lists_8txt.html#a0b5da418382bdd0db6dff439e2863979">if</a> ((field_count= <a class="code" href="../../d1/d7d/pack_8c.html#a771d96cea3985e1e0efae3d50852ff1b">net_field_length</a>(&amp;<a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>)) == 0)</div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;  {</div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#acf6930c0bcb39cc19665b1a4142ba559">affected_rows</a>= <a class="code" href="../../d1/d7d/pack_8c.html#a338d46c1ef40cd9482cf212c4be1ed6a">net_field_length_ll</a>(&amp;<a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>);</div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a884df86e03be14c772cfe48511963fc1">insert_id</a>=     <a class="code" href="../../d1/d7d/pack_8c.html#a338d46c1ef40cd9482cf212c4be1ed6a">net_field_length_ll</a>(&amp;<a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>);</div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>,(<span class="stringliteral">&quot;affected_rows: %lu  insert_id: %lu&quot;</span>,</div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;               (<a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>) mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#acf6930c0bcb39cc19665b1a4142ba559">affected_rows</a>,</div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;               (<a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>) mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a884df86e03be14c772cfe48511963fc1">insert_id</a>));</div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d2a/sql__common_8h.html#a0c71b6fd3ddc3cba90d18e82f3ad86ca">protocol_41</a>(mysql))</div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;    {</div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;      mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab875d849ff6f754a85986fe538408667">server_status</a>=<a class="code" href="../../d9/df6/my__global_8h.html#aeb775a72848a1a71494c627e392fa777">uint2korr</a>(<a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>); <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>+=2;</div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;      mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a397568fcafb4431f45aaddce083d680e">warning_count</a>=<a class="code" href="../../d9/df6/my__global_8h.html#aeb775a72848a1a71494c627e392fa777">uint2korr</a>(<a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>); <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>+=2;</div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;    }</div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab9c7460496350f7aa331c104aa54717d">server_capabilities</a> &amp; <a class="code" href="../../d6/df0/mysql__com_8h.html#a536a91524dc8d56bcac63aadc8811f1d">CLIENT_TRANSACTIONS</a>)</div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;    {</div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;      <span class="comment">/* MySQL 4.0 protocol */</span></div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;      mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab875d849ff6f754a85986fe538408667">server_status</a>=<a class="code" href="../../d9/df6/my__global_8h.html#aeb775a72848a1a71494c627e392fa777">uint2korr</a>(<a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>); <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>+=2;</div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;      mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a397568fcafb4431f45aaddce083d680e">warning_count</a>= 0;</div>
<div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;    }</div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>,(<span class="stringliteral">&quot;status: %u  warning_count: %u&quot;</span>,</div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;               mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab875d849ff6f754a85986fe538408667">server_status</a>, mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a397568fcafb4431f45aaddce083d680e">warning_count</a>));</div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;    <span class="keywordflow">if</span> (pos &lt; mysql-&gt;net.<a class="code" href="../../de/d2d/structst__net.html#af65adc7b04ff56e008c6f8ca89cc12c2">read_pos</a>+<a class="code" href="../../df/de2/namespace_g3_d.html#a69a355f92fa3aab4f301667be00cd3eb">length</a> &amp;&amp; <a class="code" href="../../d1/d7d/pack_8c.html#a771d96cea3985e1e0efae3d50852ff1b">net_field_length</a>(&amp;<a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>))</div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;      mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#acd1bb786ff93e6a27ec5028864945a5a">info</a>=(<span class="keywordtype">char</span>*) <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>;</div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(0);</div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;  }</div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;<span class="preprocessor">#ifdef MYSQL_CLIENT</span></div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;  <span class="keywordflow">if</span> (field_count == <a class="code" href="../../d6/df0/mysql__com_8h.html#a68145c6add783b349707b9889d33de6c">NULL_LENGTH</a>)       <span class="comment">/* LOAD DATA LOCAL INFILE */</span></div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;  {</div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>;</div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160; </div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;    <span class="keywordflow">if</span> (!(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a92c47dfe1c8de03a65b81863a88c9355">client_flag</a> &amp; <a class="code" href="../../d6/df0/mysql__com_8h.html#a06acc4847890b7ef14a8e7c0782a679c">CLIENT_LOCAL_FILES</a>))</div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;    {</div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;      <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a2943d879c4463f77aebf37a8ef01483d">CR_MALFORMED_PACKET</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(1);</div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;    }   </div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160; </div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;    <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>= <a class="code" href="../../d5/dcc/client__settings_8h.html#a6c8eaf08bfa24ae8907b1eeebbc41c59">handle_local_infile</a>(mysql,(<span class="keywordtype">char</span>*) <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>);</div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="../../df/de2/namespace_g3_d.html#a69a355f92fa3aab4f301667be00cd3eb">length</a>= <a class="code" href="../../dd/d93/client_8c.html#a3196ee8555d77cf23d15d3e0c096740c">cli_safe_read</a>(mysql)) == <a class="code" href="../../d6/df0/mysql__com_8h.html#a08253bf6eaa0178369f3ee1055b914a0">packet_error</a> || <a class="code" href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a>)</div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(1);</div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;    <span class="keywordflow">goto</span> get_info;              <span class="comment">/* Get info packet */</span></div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;  }</div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;  <span class="keywordflow">if</span> (!(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab875d849ff6f754a85986fe538408667">server_status</a> &amp; <a class="code" href="../../d6/df0/mysql__com_8h.html#a14de32242085d5ccc469dac547c976b4">SERVER_STATUS_AUTOCOMMIT</a>))</div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab875d849ff6f754a85986fe538408667">server_status</a>|= <a class="code" href="../../d6/df0/mysql__com_8h.html#a8e4ffa42cecc3c43f30c4e1166c37bf9">SERVER_STATUS_IN_TRANS</a>;</div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160; </div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;  <span class="keywordflow">if</span> (!(fields=<a class="code" href="../../dd/d93/client_8c.html#af9572871c978640e582d2424cabc7123">cli_read_rows</a>(mysql,(<a class="code" href="../../da/da0/structst__mysql__field.html">MYSQL_FIELD</a>*)0, <a class="code" href="../../d6/d2a/sql__common_8h.html#a0c71b6fd3ddc3cba90d18e82f3ad86ca">protocol_41</a>(mysql) ? 7:5)))</div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(1);</div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;  <span class="keywordflow">if</span> (!(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#aa31b4c644fcef355ce347977a47be9b2">fields</a>=<a class="code" href="../../dd/d93/client_8c.html#a8411dddedfdb7b943f5892167421695d">unpack_fields</a>(fields,&amp;mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a170585335f5edffeaae3f5229f6c1f6b">field_alloc</a>,</div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;                    (<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>) field_count,0,</div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;                    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ab9c7460496350f7aa331c104aa54717d">server_capabilities</a>)))</div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(1);</div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#abd3b5b4aa083403f1025f688731b196e">status</a>= <a class="code" href="../../de/d53/mysql_8h.html#a8c0cf7afc762670cf296e4a0067cae5da2cef1dfe36cb944ab2744ead96cd5a5d">MYSQL_STATUS_GET_RESULT</a>;</div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a7bedc1452ea1a2b76634e92196a02991">field_count</a>= (<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>) field_count;</div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;exit&quot;</span>,(<span class="stringliteral">&quot;ok&quot;</span>));</div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(0);</div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;}</div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160; </div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160; </div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;<span class="comment">  Send the query and return so we can do something else.</span></div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;<span class="comment">  Needs to be followed by mysql_read_query_result() when we want to</span></div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;<span class="comment">  finish processing it.</span></div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160; </div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d9/df6/my__global_8h.html#a446cf449a6234c9b177309d5ba0852c0">STDCALL</a></div>
<div class="line"><a name="l03795"></a><span class="lineno"><a class="line" href="../../de/d53/mysql_8h.html#a1243de90b5a25d24bd69f7d929bf4863"> 3795</a></span>&#160;<a class="code" href="../../dd/d93/client_8c.html#a6364901f5a70d8db7722acc78e49c24f">mysql_send_query</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a>* mysql, <span class="keyword">const</span> <span class="keywordtype">char</span>* query, <a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> <a class="code" href="../../df/de2/namespace_g3_d.html#a69a355f92fa3aab4f301667be00cd3eb">length</a>)</div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;{</div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;mysql_send_query&quot;</span>);</div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(<a class="code" href="../../d6/d2a/sql__common_8h.html#aa84198878fcd7ae6485dbc1f23216794">simple_command</a>(mysql, <a class="code" href="../../d6/df0/mysql__com_8h.html#ae2ff1badf13d2b8099af8b47831281e1a753ea4f670b155bf3f6f2bdf85431fc8">COM_QUERY</a>, (<a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>*) query, <a class="code" href="../../df/de2/namespace_g3_d.html#a69a355f92fa3aab4f301667be00cd3eb">length</a>, 1));</div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;}</div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160; </div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160; </div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d9/df6/my__global_8h.html#a446cf449a6234c9b177309d5ba0852c0">STDCALL</a></div>
<div class="line"><a name="l03803"></a><span class="lineno"><a class="line" href="../../de/d53/mysql_8h.html#a20ef8a4b6bdcb0276708b85bd1edb2a6"> 3803</a></span>&#160;<a class="code" href="../../dd/d93/client_8c.html#a9120bc5859e0f5602aef4f4470665888">mysql_real_query</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql, <span class="keyword">const</span> <span class="keywordtype">char</span> *query, <a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> <a class="code" href="../../df/de2/namespace_g3_d.html#a69a355f92fa3aab4f301667be00cd3eb">length</a>)</div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;{</div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;mysql_real_query&quot;</span>);</div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;enter&quot;</span>,(<span class="stringliteral">&quot;handle: 0x%lx&quot;</span>, (<span class="keywordtype">long</span>) mysql));</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;query&quot;</span>,(<span class="stringliteral">&quot;Query = &#39;%-.4096s&#39;&quot;</span>,query));</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160; </div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d93/client_8c.html#a6364901f5a70d8db7722acc78e49c24f">mysql_send_query</a>(mysql,query,<a class="code" href="../../df/de2/namespace_g3_d.html#a69a355f92fa3aab4f301667be00cd3eb">length</a>))</div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(1);</div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>((<span class="keywordtype">int</span>) (*mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a04129bc0cbeda076db8ba274ed93328d">methods</a>-&gt;<a class="code" href="../../d2/d94/structst__mysql__methods.html#ad3b80fa1d6b41f34fafb40035bf6259f">read_query_result</a>)(mysql));</div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;}</div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160; </div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160; </div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;<span class="comment">/**************************************************************************</span></div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;<span class="comment">  Alloc result struct for buffered results. All rows are read to buffer.</span></div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;<span class="comment">  mysql_data_seek may be used.</span></div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;<span class="comment">**************************************************************************/</span></div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160; </div>
<div class="line"><a name="l03820"></a><span class="lineno"><a class="line" href="../../de/d53/mysql_8h.html#a11029d06cd3bf4fc76ce4be717146ea3"> 3820</a></span>&#160;<a class="code" href="../../dc/de8/structst__mysql__res.html">MYSQL_RES</a> * <a class="code" href="../../d9/df6/my__global_8h.html#a446cf449a6234c9b177309d5ba0852c0">STDCALL</a> <a class="code" href="../../dd/d93/client_8c.html#a11029d06cd3bf4fc76ce4be717146ea3">mysql_store_result</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql)</div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;{</div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;  <a class="code" href="../../dc/de8/structst__mysql__res.html">MYSQL_RES</a> *<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>;</div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;mysql_store_result&quot;</span>);</div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160; </div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;  <span class="keywordflow">if</span> (!mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#aa31b4c644fcef355ce347977a47be9b2">fields</a>)</div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(0);</div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#abd3b5b4aa083403f1025f688731b196e">status</a> != <a class="code" href="../../de/d53/mysql_8h.html#a8c0cf7afc762670cf296e4a0067cae5da2cef1dfe36cb944ab2744ead96cd5a5d">MYSQL_STATUS_GET_RESULT</a>)</div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;  {</div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a94c9c80cbafa6b48f5d7d5e2ef4de22e">CR_COMMANDS_OUT_OF_SYNC</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(0);</div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;  }</div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#abd3b5b4aa083403f1025f688731b196e">status</a>=<a class="code" href="../../de/d53/mysql_8h.html#a8c0cf7afc762670cf296e4a0067cae5da5b9a77ab649e8ee6da459016f7daa06c">MYSQL_STATUS_READY</a>;     <span class="comment">/* server is ready */</span></div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;  <span class="keywordflow">if</span> (!(<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>=(<a class="code" href="../../dc/de8/structst__mysql__res.html">MYSQL_RES</a>*) <a class="code" href="../../db/da9/my__sys_8h.html#a8f7b30ff5d0e10610637aa30c3e0048b">my_malloc</a>((<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>) (<span class="keyword">sizeof</span>(<a class="code" href="../../dc/de8/structst__mysql__res.html">MYSQL_RES</a>)+</div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;                          <span class="keyword">sizeof</span>(<a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>) *</div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;                          mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a7bedc1452ea1a2b76634e92196a02991">field_count</a>),</div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;                      <a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a> | <a class="code" href="../../db/da9/my__sys_8h.html#afdc3af41c5a4b3f9dd74dd523f41c34c">MY_ZEROFILL</a>))))</div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;  {</div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a2ade0496d13411711dfa6a8503507d38">CR_OUT_OF_MEMORY</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(0);</div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;  }</div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;  <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;methods= mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a04129bc0cbeda076db8ba274ed93328d">methods</a>;</div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;  <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;eof=1;                <span class="comment">/* Marker for buffered */</span></div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;  <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;lengths=(<a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>*) (<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>+1);</div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;  <span class="keywordflow">if</span> (!(<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;data=</div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;    (*mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a04129bc0cbeda076db8ba274ed93328d">methods</a>-&gt;<a class="code" href="../../d2/d94/structst__mysql__methods.html#ada90527e62274bc90c6fecbe00226663">read_rows</a>)(mysql,mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#aa31b4c644fcef355ce347977a47be9b2">fields</a>,mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a7bedc1452ea1a2b76634e92196a02991">field_count</a>)))</div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;  {</div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>);</div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(0);</div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;  }</div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#acf6930c0bcb39cc19665b1a4142ba559">affected_rows</a>= <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;row_count= <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;data-&gt;rows;</div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;  <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;data_cursor=  <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;data-&gt;data;</div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;  <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;fields=   mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#aa31b4c644fcef355ce347977a47be9b2">fields</a>;</div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;  <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;field_alloc=  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a170585335f5edffeaae3f5229f6c1f6b">field_alloc</a>;</div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;  <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;field_count=  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a7bedc1452ea1a2b76634e92196a02991">field_count</a>;</div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;  <span class="comment">/* The rest of result members is bzeroed in malloc */</span></div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#aa31b4c644fcef355ce347977a47be9b2">fields</a>=0;              <span class="comment">/* fields is now in result */</span></div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a6f105f505c1d966c36d549ed66e1a539">clear_alloc_root</a>(&amp;mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a170585335f5edffeaae3f5229f6c1f6b">field_alloc</a>);</div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;  <span class="comment">/* just in case this was mistakenly called after mysql_stmt_execute() */</span></div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a7245af2550c3858f3e2e22c55538f7e1">unbuffered_fetch_owner</a>= 0;</div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>);              <span class="comment">/* Data fetched */</span></div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;}</div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160; </div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160; </div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;<span class="comment">/**************************************************************************</span></div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;<span class="comment">  Alloc struct for use with unbuffered reads. Data is fetched by domand</span></div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;<span class="comment">  when calling to mysql_fetch_row.</span></div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;<span class="comment">  mysql_data_seek is a noop.</span></div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;<span class="comment">  No other queries may be specified with the same MYSQL handle.</span></div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;<span class="comment">  There shouldn&#39;t be much processing per row because mysql server shouldn&#39;t</span></div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;<span class="comment">  have to wait for the client (and will not wait more than 30 sec/packet).</span></div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;<span class="comment">**************************************************************************/</span></div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160; </div>
<div class="line"><a name="l03874"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a91ba7172f7c75fa4d389269e3a964291"> 3874</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../dc/de8/structst__mysql__res.html">MYSQL_RES</a> * <a class="code" href="../../dd/d93/client_8c.html#a91ba7172f7c75fa4d389269e3a964291">cli_use_result</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql)</div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;{</div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;  <a class="code" href="../../dc/de8/structst__mysql__res.html">MYSQL_RES</a> *<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>;</div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;cli_use_result&quot;</span>);</div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160; </div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;  <span class="keywordflow">if</span> (!mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#aa31b4c644fcef355ce347977a47be9b2">fields</a>)</div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(0);</div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#abd3b5b4aa083403f1025f688731b196e">status</a> != <a class="code" href="../../de/d53/mysql_8h.html#a8c0cf7afc762670cf296e4a0067cae5da2cef1dfe36cb944ab2744ead96cd5a5d">MYSQL_STATUS_GET_RESULT</a>)</div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;  {</div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a94c9c80cbafa6b48f5d7d5e2ef4de22e">CR_COMMANDS_OUT_OF_SYNC</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(0);</div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;  }</div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;  <span class="keywordflow">if</span> (!(<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>=(<a class="code" href="../../dc/de8/structst__mysql__res.html">MYSQL_RES</a>*) <a class="code" href="../../db/da9/my__sys_8h.html#a8f7b30ff5d0e10610637aa30c3e0048b">my_malloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>)+</div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;                      <span class="keyword">sizeof</span>(<a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>)*mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a7bedc1452ea1a2b76634e92196a02991">field_count</a>,</div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;                      <a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a> | <a class="code" href="../../db/da9/my__sys_8h.html#afdc3af41c5a4b3f9dd74dd523f41c34c">MY_ZEROFILL</a>))))</div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(0);</div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;  <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;lengths=(<a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>*) (<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>+1);</div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;  <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;methods= mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a04129bc0cbeda076db8ba274ed93328d">methods</a>;</div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;  <span class="keywordflow">if</span> (!(<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;row=(<a class="code" href="../../de/d53/mysql_8h.html#afae8ad264fb6a4bd740df59f19b9da71">MYSQL_ROW</a>)</div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#a8f7b30ff5d0e10610637aa30c3e0048b">my_malloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;row[0])*(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a7bedc1452ea1a2b76634e92196a02991">field_count</a>+1), <a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a>))))</div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;  {                 <span class="comment">/* Ptrs: to one row */</span></div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>);</div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(0);</div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;  }</div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;  <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;fields=   mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#aa31b4c644fcef355ce347977a47be9b2">fields</a>;</div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;  <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;field_alloc=  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a170585335f5edffeaae3f5229f6c1f6b">field_alloc</a>;</div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;  <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;field_count=  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a7bedc1452ea1a2b76634e92196a02991">field_count</a>;</div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;  <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;current_field=0;</div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;  <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;handle=   mysql;</div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;  <a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;current_row=  0;</div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#aa31b4c644fcef355ce347977a47be9b2">fields</a>=0;          <span class="comment">/* fields is now in result */</span></div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#a6f105f505c1d966c36d549ed66e1a539">clear_alloc_root</a>(&amp;mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a170585335f5edffeaae3f5229f6c1f6b">field_alloc</a>);</div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#abd3b5b4aa083403f1025f688731b196e">status</a>=<a class="code" href="../../de/d53/mysql_8h.html#a8c0cf7afc762670cf296e4a0067cae5da17782fa4f4a6c15c5f114c04ea726d7d">MYSQL_STATUS_USE_RESULT</a>;</div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;  mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a7245af2550c3858f3e2e22c55538f7e1">unbuffered_fetch_owner</a>= &amp;<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;unbuffered_fetch_cancelled;</div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(<a class="code" href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>);          <span class="comment">/* Data is read to be fetched */</span></div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;}</div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160; </div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160; </div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;<span class="comment">/**************************************************************************</span></div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;<span class="comment">  Return next row of the query results</span></div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;<span class="comment">**************************************************************************/</span></div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160; </div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;<a class="code" href="../../de/d53/mysql_8h.html#afae8ad264fb6a4bd740df59f19b9da71">MYSQL_ROW</a> <a class="code" href="../../d9/df6/my__global_8h.html#a446cf449a6234c9b177309d5ba0852c0">STDCALL</a></div>
<div class="line"><a name="l03917"></a><span class="lineno"><a class="line" href="../../de/d53/mysql_8h.html#a2b719aa756f05a972bce1eee22d701be"> 3917</a></span>&#160;<a class="code" href="../../dd/d93/client_8c.html#a7473edb62f823dddc697305fdf689952">mysql_fetch_row</a>(<a class="code" href="../../dc/de8/structst__mysql__res.html">MYSQL_RES</a> *res)</div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;{</div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;mysql_fetch_row&quot;</span>);</div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;  <span class="keywordflow">if</span> (!res-&gt;<a class="code" href="../../dc/de8/structst__mysql__res.html#a213ea8e00645396f226362cdbd2880b7">data</a>)</div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;  {                     <span class="comment">/* Unbufferred fetch */</span></div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;    <span class="keywordflow">if</span> (!res-&gt;<a class="code" href="../../dc/de8/structst__mysql__res.html#ab24839f1879e03ffa511e9bce92419e9">eof</a>)</div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;    {</div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;      <a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql= res-&gt;<a class="code" href="../../dc/de8/structst__mysql__res.html#ac67d314af96af560ea7880245ab5a710">handle</a>;</div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;      <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#abd3b5b4aa083403f1025f688731b196e">status</a> != <a class="code" href="../../de/d53/mysql_8h.html#a8c0cf7afc762670cf296e4a0067cae5da17782fa4f4a6c15c5f114c04ea726d7d">MYSQL_STATUS_USE_RESULT</a>)</div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;      {</div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;        <a class="code" href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a>(mysql,</div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;                        res-&gt;<a class="code" href="../../dc/de8/structst__mysql__res.html#a4fddbf81b6ead57fdfd384e74d918cfb">unbuffered_fetch_cancelled</a> ? </div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;                        <a class="code" href="../../d8/d50/errmsg_8h.html#a7093123b1434d11ee5a96d397838929b">CR_FETCH_CANCELED</a> : <a class="code" href="../../d8/d50/errmsg_8h.html#a94c9c80cbafa6b48f5d7d5e2ef4de22e">CR_COMMANDS_OUT_OF_SYNC</a>,</div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;                        <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>);</div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;      }</div>
<div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!(<a class="code" href="../../dd/d93/client_8c.html#afdc9b0138e97095cd25ea9dbef516fd8">read_one_row</a>(mysql, res-&gt;<a class="code" href="../../dc/de8/structst__mysql__res.html#a46ca3cf833b020e86e4d7f4ebe36f190">field_count</a>, res-&gt;<a class="code" href="../../dc/de8/structst__mysql__res.html#a12b56773449e21072694f7749086d64a">row</a>, res-&gt;<a class="code" href="../../dc/de8/structst__mysql__res.html#ac6b5b0d8456fe15d529ece8c107d7063">lengths</a>)))</div>
<div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;      {</div>
<div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;    res-&gt;<a class="code" href="../../dc/de8/structst__mysql__res.html#aeebcaa8a317200a20bbde5d9f9f73169">row_count</a>++;</div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(res-&gt;<a class="code" href="../../dc/de8/structst__mysql__res.html#ae4ba04806b79944ca5c5cd46ff8b1ef2">current_row</a>=res-&gt;<a class="code" href="../../dc/de8/structst__mysql__res.html#a12b56773449e21072694f7749086d64a">row</a>);</div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;      }</div>
<div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>,(<span class="stringliteral">&quot;end of data&quot;</span>));</div>
<div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;      res-&gt;<a class="code" href="../../dc/de8/structst__mysql__res.html#ab24839f1879e03ffa511e9bce92419e9">eof</a>=1;</div>
<div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;      mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#abd3b5b4aa083403f1025f688731b196e">status</a>=<a class="code" href="../../de/d53/mysql_8h.html#a8c0cf7afc762670cf296e4a0067cae5da5b9a77ab649e8ee6da459016f7daa06c">MYSQL_STATUS_READY</a>;</div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;      <span class="comment">/*</span></div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;<span class="comment">        Reset only if owner points to us: there is a chance that somebody</span></div>
<div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;<span class="comment">        started new query after mysql_stmt_close():</span></div>
<div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;<span class="comment">      */</span></div>
<div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;      <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a7245af2550c3858f3e2e22c55538f7e1">unbuffered_fetch_owner</a> == &amp;res-&gt;<a class="code" href="../../dc/de8/structst__mysql__res.html#a4fddbf81b6ead57fdfd384e74d918cfb">unbuffered_fetch_cancelled</a>)</div>
<div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;        mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a7245af2550c3858f3e2e22c55538f7e1">unbuffered_fetch_owner</a>= 0;</div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;      <span class="comment">/* Don&#39;t clear handle in mysql_free_result */</span></div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;      res-&gt;<a class="code" href="../../dc/de8/structst__mysql__res.html#ac67d314af96af560ea7880245ab5a710">handle</a>=0;</div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;    }</div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>((<a class="code" href="../../de/d53/mysql_8h.html#afae8ad264fb6a4bd740df59f19b9da71">MYSQL_ROW</a>) <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;  }</div>
<div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;  {</div>
<div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;    <a class="code" href="../../de/d53/mysql_8h.html#afae8ad264fb6a4bd740df59f19b9da71">MYSQL_ROW</a> tmp;</div>
<div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;    <span class="keywordflow">if</span> (!res-&gt;<a class="code" href="../../dc/de8/structst__mysql__res.html#a874a24ee537561e5dc86e5e86a9afd9d">data_cursor</a>)</div>
<div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;    {</div>
<div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>,(<span class="stringliteral">&quot;end of data&quot;</span>));</div>
<div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(res-&gt;<a class="code" href="../../dc/de8/structst__mysql__res.html#ae4ba04806b79944ca5c5cd46ff8b1ef2">current_row</a>=(<a class="code" href="../../de/d53/mysql_8h.html#afae8ad264fb6a4bd740df59f19b9da71">MYSQL_ROW</a>) <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;    }</div>
<div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;    tmp = res-&gt;<a class="code" href="../../dc/de8/structst__mysql__res.html#a874a24ee537561e5dc86e5e86a9afd9d">data_cursor</a>-&gt;<a class="code" href="../../d9/d55/structst__mysql__rows.html#a9e11c8188cb52a253df7ac713751b5e2">data</a>;</div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;    res-&gt;<a class="code" href="../../dc/de8/structst__mysql__res.html#a874a24ee537561e5dc86e5e86a9afd9d">data_cursor</a> = res-&gt;<a class="code" href="../../dc/de8/structst__mysql__res.html#a874a24ee537561e5dc86e5e86a9afd9d">data_cursor</a>-&gt;<a class="code" href="../../d9/d55/structst__mysql__rows.html#a83f438b68306724f8fd2f35758bbb2f7">next</a>;</div>
<div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(res-&gt;<a class="code" href="../../dc/de8/structst__mysql__res.html#ae4ba04806b79944ca5c5cd46ff8b1ef2">current_row</a>=tmp);</div>
<div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;  }</div>
<div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;}</div>
<div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160; </div>
<div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160; </div>
<div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;<span class="comment">/**************************************************************************</span></div>
<div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;<span class="comment">  Get column lengths of the current row</span></div>
<div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;<span class="comment">  If one uses mysql_use_result, res-&gt;lengths contains the length information,</span></div>
<div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;<span class="comment">  else the lengths are calculated from the offset between pointers.</span></div>
<div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;<span class="comment">**************************************************************************/</span></div>
<div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160; </div>
<div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;<a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> * <a class="code" href="../../d9/df6/my__global_8h.html#a446cf449a6234c9b177309d5ba0852c0">STDCALL</a></div>
<div class="line"><a name="l03972"></a><span class="lineno"><a class="line" href="../../de/d53/mysql_8h.html#ae2fd6ac97ac97a78a081e78387eeea54"> 3972</a></span>&#160;<a class="code" href="../../dd/d93/client_8c.html#acef9f1957a21403ab4798d1200b52c37">mysql_fetch_lengths</a>(<a class="code" href="../../dc/de8/structst__mysql__res.html">MYSQL_RES</a> *res)</div>
<div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;{</div>
<div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;  <a class="code" href="../../de/d53/mysql_8h.html#afae8ad264fb6a4bd740df59f19b9da71">MYSQL_ROW</a> column;</div>
<div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160; </div>
<div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;  <span class="keywordflow">if</span> (!(column=res-&gt;<a class="code" href="../../dc/de8/structst__mysql__res.html#ae4ba04806b79944ca5c5cd46ff8b1ef2">current_row</a>))</div>
<div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;    <span class="keywordflow">return</span> 0;                   <span class="comment">/* Something is wrong */</span></div>
<div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;  <span class="keywordflow">if</span> (res-&gt;<a class="code" href="../../dc/de8/structst__mysql__res.html#a213ea8e00645396f226362cdbd2880b7">data</a>)</div>
<div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;    (*res-&gt;<a class="code" href="../../dc/de8/structst__mysql__res.html#a87d087d083eb50c81b30285a7b8458b1">methods</a>-&gt;<a class="code" href="../../d2/d94/structst__mysql__methods.html#a4c22f0651ec962585a52a46b8a8b80ef">fetch_lengths</a>)(res-&gt;<a class="code" href="../../dc/de8/structst__mysql__res.html#ac6b5b0d8456fe15d529ece8c107d7063">lengths</a>, column, res-&gt;<a class="code" href="../../dc/de8/structst__mysql__res.html#a46ca3cf833b020e86e4d7f4ebe36f190">field_count</a>);</div>
<div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;  <span class="keywordflow">return</span> res-&gt;<a class="code" href="../../dc/de8/structst__mysql__res.html#ac6b5b0d8456fe15d529ece8c107d7063">lengths</a>;</div>
<div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;}</div>
<div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160; </div>
<div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160; </div>
<div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d9/df6/my__global_8h.html#a446cf449a6234c9b177309d5ba0852c0">STDCALL</a></div>
<div class="line"><a name="l03985"></a><span class="lineno"><a class="line" href="../../de/d53/mysql_8h.html#addcdda07a809daba4220a761ac390e54"> 3985</a></span>&#160;<a class="code" href="../../dd/d93/client_8c.html#addcdda07a809daba4220a761ac390e54">mysql_options</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql,<span class="keyword">enum</span> <a class="code" href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836">mysql_option</a> option, <span class="keyword">const</span> <span class="keywordtype">void</span> *<a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a2c8e80c1b1c8b7747e99b8e9a24a0429">arg</a>)</div>
<div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;{</div>
<div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;mysql_option&quot;</span>);</div>
<div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;enter&quot;</span>,(<span class="stringliteral">&quot;option: %d&quot;</span>,(<span class="keywordtype">int</span>) option));</div>
<div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;  <span class="keywordflow">switch</span> (option) {</div>
<div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836a04b7361eec201f2f90932f93bcf9f037">MYSQL_OPT_CONNECT_TIMEOUT</a>:</div>
<div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#aa8475fa207a033461041fbfd868fe3c6">connect_timeout</a>= *(<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>*) <a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a2c8e80c1b1c8b7747e99b8e9a24a0429">arg</a>;</div>
<div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836a7100a11b3f4e9cc485dcd8a64bb51fb0">MYSQL_OPT_READ_TIMEOUT</a>:</div>
<div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a6fbcc8e03aa4c489bfa23de7f4e0d8f8">read_timeout</a>= *(<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>*) <a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a2c8e80c1b1c8b7747e99b8e9a24a0429">arg</a>;</div>
<div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836a7f9865ca3978f5a1abadbaf00f93c0b9">MYSQL_OPT_WRITE_TIMEOUT</a>:</div>
<div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a8956fca97f0263e415546f5624a614d2">write_timeout</a>= *(<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>*) <a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a2c8e80c1b1c8b7747e99b8e9a24a0429">arg</a>;</div>
<div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836a0988d7276abb518e1ff4cd537e665614">MYSQL_OPT_COMPRESS</a>:</div>
<div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#ab142434a4e128b82feeebbe6e2dd5e00">compress</a>= 1;         <span class="comment">/* Remember for connect */</span></div>
<div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a92c47dfe1c8de03a65b81863a88c9355">client_flag</a>|= <a class="code" href="../../d6/df0/mysql__com_8h.html#a69668fa642cd688ab5a3c24de87c0b9a">CLIENT_COMPRESS</a>;</div>
<div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836af29e418c5e26de0b5881106953437698">MYSQL_OPT_NAMED_PIPE</a>:            <span class="comment">/* This option is depricated */</span></div>
<div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a85283d4471c23b3773ca0c4c01ffb1f7">protocol</a>=<a class="code" href="../../de/d53/mysql_8h.html#ac42d2279c8bd9026a231418fafd9a1a9a8bb817c9cfe1071e5dd37e1d78954efb">MYSQL_PROTOCOL_PIPE</a>; <span class="comment">/* Force named pipe */</span></div>
<div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836a40fd988ef9d515d8df1b605cb41d6a5b">MYSQL_OPT_LOCAL_INFILE</a>:          <span class="comment">/* Allow LOAD DATA LOCAL ?*/</span></div>
<div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a2c8e80c1b1c8b7747e99b8e9a24a0429">arg</a> || <a class="code" href="../../d9/df6/my__global_8h.html#aa6cd438f0d8653fd1e4d22046b0cb662">test</a>(*(<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>*) <a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a2c8e80c1b1c8b7747e99b8e9a24a0429">arg</a>))</div>
<div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;      mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a92c47dfe1c8de03a65b81863a88c9355">client_flag</a>|= <a class="code" href="../../d6/df0/mysql__com_8h.html#a06acc4847890b7ef14a8e7c0782a679c">CLIENT_LOCAL_FILES</a>;</div>
<div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;      mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a92c47dfe1c8de03a65b81863a88c9355">client_flag</a>&amp;= ~<a class="code" href="../../d6/df0/mysql__com_8h.html#a06acc4847890b7ef14a8e7c0782a679c">CLIENT_LOCAL_FILES</a>;</div>
<div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836af509dae920bb0afd8f8282133c51523d">MYSQL_INIT_COMMAND</a>:</div>
<div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#adee7c16f9ea2cc2ce5ab8b5b90a52481">add_init_command</a>(&amp;mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>,<a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a2c8e80c1b1c8b7747e99b8e9a24a0429">arg</a>);</div>
<div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836ab42cd277182e0c81e003c6165758e305">MYSQL_READ_DEFAULT_FILE</a>:</div>
<div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a4cc1dad4e2d110efa24865a636613b6e">my_cnf_file</a>);</div>
<div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a4cc1dad4e2d110efa24865a636613b6e">my_cnf_file</a>=<a class="code" href="../../db/da9/my__sys_8h.html#a4921f2b355a65b5054cb2bbd15ba22ab">my_strdup</a>(<a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a2c8e80c1b1c8b7747e99b8e9a24a0429">arg</a>,<a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a>));</div>
<div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836aa3fff32c09f78dd3561f62841868e82c">MYSQL_READ_DEFAULT_GROUP</a>:</div>
<div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a28e998c549cbbc33d7d1eba197f1d52f">my_cnf_group</a>);</div>
<div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a28e998c549cbbc33d7d1eba197f1d52f">my_cnf_group</a>=<a class="code" href="../../db/da9/my__sys_8h.html#a4921f2b355a65b5054cb2bbd15ba22ab">my_strdup</a>(<a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a2c8e80c1b1c8b7747e99b8e9a24a0429">arg</a>,<a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a>));</div>
<div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836a1fd59047f371393a78a0ec4b09b1a2ec">MYSQL_SET_CHARSET_DIR</a>:</div>
<div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a8e4ad7ebde4a8956788247faf4da20fb">charset_dir</a>);</div>
<div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a8e4ad7ebde4a8956788247faf4da20fb">charset_dir</a>=<a class="code" href="../../db/da9/my__sys_8h.html#a4921f2b355a65b5054cb2bbd15ba22ab">my_strdup</a>(<a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a2c8e80c1b1c8b7747e99b8e9a24a0429">arg</a>,<a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a>));</div>
<div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836a48965936f489f785236feef5f2890511">MYSQL_SET_CHARSET_NAME</a>:</div>
<div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a965be4c3b508a911b575fc0aa8fc3345">charset_name</a>);</div>
<div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a965be4c3b508a911b575fc0aa8fc3345">charset_name</a>=<a class="code" href="../../db/da9/my__sys_8h.html#a4921f2b355a65b5054cb2bbd15ba22ab">my_strdup</a>(<a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a2c8e80c1b1c8b7747e99b8e9a24a0429">arg</a>,<a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a>));</div>
<div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836a2463564004516e07cfc764e01cd88188">MYSQL_OPT_PROTOCOL</a>:</div>
<div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a85283d4471c23b3773ca0c4c01ffb1f7">protocol</a>= *(<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>*) <a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a2c8e80c1b1c8b7747e99b8e9a24a0429">arg</a>;</div>
<div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836a5a48bd0ecdd7b6996619fe37403cac03">MYSQL_SHARED_MEMORY_BASE_NAME</a>:</div>
<div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;<span class="preprocessor">#ifdef HAVE_SMEM</span></div>
<div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;    <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#abd61d3820e3904dd30ad1c4c44887d10">shared_memory_base_name</a> != def_shared_memory_base_name)</div>
<div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;      <a class="code" href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#abd61d3820e3904dd30ad1c4c44887d10">shared_memory_base_name</a>);</div>
<div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#abd61d3820e3904dd30ad1c4c44887d10">shared_memory_base_name</a>=<a class="code" href="../../db/da9/my__sys_8h.html#a4921f2b355a65b5054cb2bbd15ba22ab">my_strdup</a>(<a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a2c8e80c1b1c8b7747e99b8e9a24a0429">arg</a>,<a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a>));</div>
<div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836a461fe7e7c0a4db27856221e369d1f7b9">MYSQL_OPT_USE_REMOTE_CONNECTION</a>:</div>
<div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836aa946a5ed2cce384c3f21897adc2f02b0">MYSQL_OPT_USE_EMBEDDED_CONNECTION</a>:</div>
<div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836a21b624547ab25edba1a0beef2db05102">MYSQL_OPT_GUESS_CONNECTION</a>:</div>
<div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a76fecd9908ce3203903d987e4b3c5599">methods_to_use</a>= option;</div>
<div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836a8747191a8e80029184f4275c31a12ec9">MYSQL_SET_CLIENT_IP</a>:</div>
<div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a303edbbc594a8ccbfa3de34aa85ae509">client_ip</a>= <a class="code" href="../../db/da9/my__sys_8h.html#a4921f2b355a65b5054cb2bbd15ba22ab">my_strdup</a>(<a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a2c8e80c1b1c8b7747e99b8e9a24a0429">arg</a>, <a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(<a class="code" href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a>));</div>
<div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836a3b976fb0fe320dc1367684d94995c04b">MYSQL_SECURE_AUTH</a>:</div>
<div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a7d0ee51bd78eb9aa35e8048b1541d290">secure_auth</a>= *(<a class="code" href="../../d9/df6/my__global_8h.html#a74cd599039dcf29c6e6d342cf4efd0a8">my_bool</a> *) <a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a2c8e80c1b1c8b7747e99b8e9a24a0429">arg</a>;</div>
<div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836adb481f6c8386fcfd212bf9443fdf3dbc">MYSQL_REPORT_DATA_TRUNCATION</a>:</div>
<div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a095ec6fb5b58914a518522376a0d49ba">report_data_truncation</a>= <a class="code" href="../../d9/df6/my__global_8h.html#aa6cd438f0d8653fd1e4d22046b0cb662">test</a>(*(<a class="code" href="../../d9/df6/my__global_8h.html#a74cd599039dcf29c6e6d342cf4efd0a8">my_bool</a> *) <a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a2c8e80c1b1c8b7747e99b8e9a24a0429">arg</a>);</div>
<div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836afb25bc17a6360c310032259992672fd4">MYSQL_OPT_RECONNECT</a>:</div>
<div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a802266361a427c12d6cb29a27f8889b1">reconnect</a>= *(<a class="code" href="../../d9/df6/my__global_8h.html#a74cd599039dcf29c6e6d342cf4efd0a8">my_bool</a> *) <a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a2c8e80c1b1c8b7747e99b8e9a24a0429">arg</a>;</div>
<div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836aa7bea62884133eeafafafde9c7433cd2">MYSQL_OPT_SSL_VERIFY_SERVER_CERT</a>:</div>
<div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;    <span class="keywordflow">if</span> (*(<a class="code" href="../../d9/df6/my__global_8h.html#a74cd599039dcf29c6e6d342cf4efd0a8">my_bool</a>*) <a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a2c8e80c1b1c8b7747e99b8e9a24a0429">arg</a>)</div>
<div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;      mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a92c47dfe1c8de03a65b81863a88c9355">client_flag</a>|= <a class="code" href="../../d6/df0/mysql__com_8h.html#a4e7c0220984fdf1e231344f450cfd51e">CLIENT_SSL_VERIFY_SERVER_CERT</a>;</div>
<div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;      mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a92c47dfe1c8de03a65b81863a88c9355">client_flag</a>&amp;= ~<a class="code" href="../../d6/df0/mysql__com_8h.html#a4e7c0220984fdf1e231344f450cfd51e">CLIENT_SSL_VERIFY_SERVER_CERT</a>;</div>
<div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836ad08d23092df1b3c1c503e72160b8d4ba">MYSQL_PLUGIN_DIR</a>:</div>
<div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#ac3397a87b97cb62f0089f7961a61d630">EXTENSION_SET_STRING</a>(&amp;mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>, plugin_dir, <a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a2c8e80c1b1c8b7747e99b8e9a24a0429">arg</a>);</div>
<div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836acd043f70d139eaf25e8b4963cfc836ca">MYSQL_DEFAULT_AUTH</a>:</div>
<div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#ac3397a87b97cb62f0089f7961a61d630">EXTENSION_SET_STRING</a>(&amp;mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>, default_auth, <a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a2c8e80c1b1c8b7747e99b8e9a24a0429">arg</a>);</div>
<div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(1);</div>
<div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;  }</div>
<div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(0);</div>
<div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;}</div>
<div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160; </div>
<div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160; </div>
<div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;<span class="comment">/****************************************************************************</span></div>
<div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;<span class="comment">  Functions to get information from the MySQL structure</span></div>
<div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;<span class="comment">  These are functions to make shared libraries more usable.</span></div>
<div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;<span class="comment">****************************************************************************/</span></div>
<div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160; </div>
<div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;<span class="comment">/* MYSQL_RES */</span></div>
<div class="line"><a name="l04083"></a><span class="lineno"><a class="line" href="../../de/d53/mysql_8h.html#a0a0eddc4c9052c5d5d665d5b6ee929cd"> 4083</a></span>&#160;<a class="code" href="../../d9/df6/my__global_8h.html#ae05bd5d3e5a75578e2f14cfeb43f07aa">my_ulonglong</a> <a class="code" href="../../d9/df6/my__global_8h.html#a446cf449a6234c9b177309d5ba0852c0">STDCALL</a> <a class="code" href="../../dd/d93/client_8c.html#a0a0eddc4c9052c5d5d665d5b6ee929cd">mysql_num_rows</a>(<a class="code" href="../../dc/de8/structst__mysql__res.html">MYSQL_RES</a> *res)</div>
<div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;{</div>
<div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;  <span class="keywordflow">return</span> res-&gt;<a class="code" href="../../dc/de8/structst__mysql__res.html#aeebcaa8a317200a20bbde5d9f9f73169">row_count</a>;</div>
<div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;}</div>
<div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160; </div>
<div class="line"><a name="l04088"></a><span class="lineno"><a class="line" href="../../de/d53/mysql_8h.html#afb587699269dcf289e0452564207b7f1"> 4088</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d9/df6/my__global_8h.html#a446cf449a6234c9b177309d5ba0852c0">STDCALL</a> <a class="code" href="../../dd/d93/client_8c.html#afb587699269dcf289e0452564207b7f1">mysql_num_fields</a>(<a class="code" href="../../dc/de8/structst__mysql__res.html">MYSQL_RES</a> *res)</div>
<div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;{</div>
<div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;  <span class="keywordflow">return</span> res-&gt;<a class="code" href="../../dc/de8/structst__mysql__res.html#a46ca3cf833b020e86e4d7f4ebe36f190">field_count</a>;</div>
<div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;}</div>
<div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160; </div>
<div class="line"><a name="l04093"></a><span class="lineno"><a class="line" href="../../de/d53/mysql_8h.html#a11a4321c550a74672fe26f02996efa3f"> 4093</a></span>&#160;<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="../../d9/df6/my__global_8h.html#a446cf449a6234c9b177309d5ba0852c0">STDCALL</a> <a class="code" href="../../dd/d93/client_8c.html#acf10a03c04474aeb731856f95709c701">mysql_errno</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql)</div>
<div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;{</div>
<div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;  <span class="keywordflow">return</span> mysql ? mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#ad32d83e52fbb9bde714a4e91ddd4cca7">last_errno</a> : <a class="code" href="../../dd/d93/client_8c.html#a688d70b9cf084227b07654f90f0dffcc">mysql_server_last_errno</a>;</div>
<div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;}</div>
<div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160; </div>
<div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160; </div>
<div class="line"><a name="l04099"></a><span class="lineno"><a class="line" href="../../de/d53/mysql_8h.html#aa4f352a0ef888f350687c48d8acb6180"> 4099</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="../../d9/df6/my__global_8h.html#a446cf449a6234c9b177309d5ba0852c0">STDCALL</a> <a class="code" href="../../dd/d93/client_8c.html#aa4f352a0ef888f350687c48d8acb6180">mysql_error</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql)</div>
<div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;{</div>
<div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;  <span class="keywordflow">return</span> mysql ? mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#a076ac7884d3874905c0c95b6518228fc">last_error</a> : <a class="code" href="../../dd/d93/client_8c.html#a7d9c4a3ae017aa67bcd2f910f98a9af5">mysql_server_last_error</a>;</div>
<div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;}</div>
<div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160; </div>
<div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160; </div>
<div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;<span class="comment">  Get version number for server in a form easy to test on</span></div>
<div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;<span class="comment">  SYNOPSIS</span></div>
<div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;<span class="comment">    mysql_get_server_version()</span></div>
<div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;<span class="comment">    mysql       Connection</span></div>
<div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;<span class="comment">  EXAMPLE</span></div>
<div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;<span class="comment">    4.1.0-alfa -&gt;  40100</span></div>
<div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;<span class="comment">  </span></div>
<div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;<span class="comment">  NOTES</span></div>
<div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;<span class="comment">    We will ensure that a newer server always has a bigger number.</span></div>
<div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;<span class="comment">  RETURN</span></div>
<div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;<span class="comment">   Signed number &gt; 323000</span></div>
<div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160; </div>
<div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;<a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> <a class="code" href="../../d9/df6/my__global_8h.html#a446cf449a6234c9b177309d5ba0852c0">STDCALL</a></div>
<div class="line"><a name="l04123"></a><span class="lineno"><a class="line" href="../../de/d53/mysql_8h.html#a6075eb2aa12553e32ebacf057a5c443f"> 4123</a></span>&#160;<a class="code" href="../../dd/d93/client_8c.html#a3fc3747eddb3b9226d563169c1a8a298">mysql_get_server_version</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql)</div>
<div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;{</div>
<div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> major, minor, <a class="code" href="../../dd/dc4/namespacesetup.html#a2aa722b36a933088812b50ea79b97a5c">version</a>;</div>
<div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;  <span class="keywordtype">char</span> *<a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>= mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a72928c42be914f8c12aa24331c542b69">server_version</a>, *end_pos;</div>
<div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;  major=   (<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>) <a class="code" href="../../d6/dda/m__string_8h.html#afe6c8d292674b212d3734add2240fa97">strtoul</a>(<a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>, &amp;end_pos, 10);   <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>=end_pos+1;</div>
<div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;  minor=   (<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>) <a class="code" href="../../d6/dda/m__string_8h.html#afe6c8d292674b212d3734add2240fa97">strtoul</a>(<a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>, &amp;end_pos, 10);   <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>=end_pos+1;</div>
<div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;  <a class="code" href="../../dd/dc4/namespacesetup.html#a2aa722b36a933088812b50ea79b97a5c">version</a>= (<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>) <a class="code" href="../../d6/dda/m__string_8h.html#afe6c8d292674b212d3734add2240fa97">strtoul</a>(<a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>, &amp;end_pos, 10);</div>
<div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>) major*10000L+(<a class="code" href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>) (minor*100+<a class="code" href="../../dd/dc4/namespacesetup.html#a2aa722b36a933088812b50ea79b97a5c">version</a>);</div>
<div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;}</div>
<div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160; </div>
<div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160; </div>
<div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;<span class="comment">/* </span></div>
<div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;<span class="comment">   mysql_set_character_set function sends SET NAMES cs_name to</span></div>
<div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;<span class="comment">   the server (which changes character_set_client, character_set_result</span></div>
<div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;<span class="comment">   and character_set_connection) and updates mysql-&gt;charset so other</span></div>
<div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;<span class="comment">   functions like mysql_real_escape will work correctly.</span></div>
<div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l04140"></a><span class="lineno"><a class="line" href="../../de/d53/mysql_8h.html#a4e5edde9a55264a1b937ca6eb7bd6497"> 4140</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d9/df6/my__global_8h.html#a446cf449a6234c9b177309d5ba0852c0">STDCALL</a> <a class="code" href="../../dd/d93/client_8c.html#a09d28115afea5bc892e63e282319d81e">mysql_set_character_set</a>(<a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql, <span class="keyword">const</span> <span class="keywordtype">char</span> *cs_name)</div>
<div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;{</div>
<div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d9/d35/structcharset__info__st.html">charset_info_st</a> *cs;</div>
<div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *save_csdir= <a class="code" href="../../db/da9/my__sys_8h.html#af9cb7f78e8f902070fc0b12bb2cef074">charsets_dir</a>;</div>
<div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160; </div>
<div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a8e4ad7ebde4a8956788247faf4da20fb">charset_dir</a>)</div>
<div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#af9cb7f78e8f902070fc0b12bb2cef074">charsets_dir</a>= mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">options</a>.<a class="code" href="../../d7/dc7/structst__mysql__options.html#a8e4ad7ebde4a8956788247faf4da20fb">charset_dir</a>;</div>
<div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160; </div>
<div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;  <span class="keywordflow">if</span> (strlen(cs_name) &lt; <a class="code" href="../../d8/dd3/m__ctype_8h.html#a1dcee5221954ab149be28bbdcbc72d0f">MY_CS_NAME_SIZE</a> &amp;&amp;</div>
<div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;     (cs= <a class="code" href="../../db/da9/my__sys_8h.html#abf10515a3f1b19855e05753bd98f7fae">get_charset_by_csname</a>(cs_name, <a class="code" href="../../d8/dd3/m__ctype_8h.html#a022686dd31fec7303576d0181403e78b">MY_CS_PRIMARY</a>, <a class="code" href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(0))))</div>
<div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;  {</div>
<div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;    <span class="keywordtype">char</span> buff[<a class="code" href="../../d8/dd3/m__ctype_8h.html#a1dcee5221954ab149be28bbdcbc72d0f">MY_CS_NAME_SIZE</a> + 10];</div>
<div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#af9cb7f78e8f902070fc0b12bb2cef074">charsets_dir</a>= save_csdir;</div>
<div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;    <span class="comment">/* Skip execution of &quot;SET NAMES&quot; for pre-4.1 servers */</span></div>
<div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d93/client_8c.html#a3fc3747eddb3b9226d563169c1a8a298">mysql_get_server_version</a>(mysql) &lt; 40100)</div>
<div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;    <a class="code" href="../../d3/d6b/printf_8h.html#aa7d2e7e454d3fe606a71504a119dc894">sprintf</a>(buff, <span class="stringliteral">&quot;SET NAMES %s&quot;</span>, cs_name);</div>
<div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d93/client_8c.html#a9120bc5859e0f5602aef4f4470665888">mysql_real_query</a>(mysql, buff, (<a class="code" href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>) strlen(buff)))</div>
<div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;    {</div>
<div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;      mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a5d128ecd21c6265f37c283824b3ad813">charset</a>= cs;</div>
<div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;    }</div>
<div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;  }</div>
<div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;  {</div>
<div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;    <span class="keywordtype">char</span> cs_dir_name[<a class="code" href="../../d9/df6/my__global_8h.html#a0fd6678904889e4aeff1402c35e890da">FN_REFLEN</a>];</div>
<div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;    <a class="code" href="../../db/da9/my__sys_8h.html#ad7812723c4d0baddbd236386ba733cfb">get_charsets_dir</a>(cs_dir_name);</div>
<div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;    <a class="code" href="../../dd/d93/client_8c.html#a38da6df00d5415a769e8a69867158b0d">set_mysql_extended_error</a>(mysql, <a class="code" href="../../d8/d50/errmsg_8h.html#a41077e45f70366587bf3b209eff3196d">CR_CANT_READ_CHARSET</a>, <a class="code" href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a>,</div>
<div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;                             <a class="code" href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a>(<a class="code" href="../../d8/d50/errmsg_8h.html#a41077e45f70366587bf3b209eff3196d">CR_CANT_READ_CHARSET</a>), cs_name, cs_dir_name);</div>
<div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;  }</div>
<div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;  <a class="code" href="../../db/da9/my__sys_8h.html#af9cb7f78e8f902070fc0b12bb2cef074">charsets_dir</a>= save_csdir;</div>
<div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;  <span class="keywordflow">return</span> mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">net</a>.<a class="code" href="../../de/d2d/structst__net.html#ad32d83e52fbb9bde714a4e91ddd4cca7">last_errno</a>;</div>
<div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;}</div>
<div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160; </div>
<div class="line"><a name="l04177"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a2672ce8803f7121abe072a5bd0a6aaa2"> 4177</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d93/client_8c.html#a2672ce8803f7121abe072a5bd0a6aaa2">native_password_auth_client</a>(<a class="code" href="../../d4/df3/structst__plugin__vio.html">MYSQL_PLUGIN_VIO</a> *vio, <a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql)</div>
<div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;{</div>
<div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;  <span class="keywordtype">int</span> pkt_len;</div>
<div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *pkt;</div>
<div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160; </div>
<div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;native_password_auth_client&quot;</span>);</div>
<div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160; </div>
<div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160; </div>
<div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;  <span class="keywordflow">if</span> (((<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html">MCPVIO_EXT</a> *)vio)-&gt;<a class="code" href="../../de/d53/mysql_8h.html#ac8c7bf52f50668c268c661708acffd6a">mysql_change_user</a>)</div>
<div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;  {</div>
<div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;<span class="comment">      in mysql_change_user() the client sends the first packet.</span></div>
<div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;<span class="comment">      we use the old scramble.</span></div>
<div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;    pkt= (<a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>*)mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ae6e34dfb59ec6f6842f65a58eb6bee38">scramble</a>;</div>
<div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;    pkt_len= <a class="code" href="../../d6/df0/mysql__com_8h.html#a45f11cf97b6dec62756b92cbb96f7418">SCRAMBLE_LENGTH</a> + 1;</div>
<div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;  }</div>
<div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;  {</div>
<div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;    <span class="comment">/* read the scramble */</span></div>
<div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;    <span class="keywordflow">if</span> ((pkt_len= vio-&gt;<a class="code" href="../../d4/df3/structst__plugin__vio.html#a978709b7555b747c90ada9319decb5d8">read_packet</a>(vio, &amp;pkt)) &lt; 0)</div>
<div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(<a class="code" href="../../da/dd4/plugin__auth__common_8h.html#a44f1794e5697229fad0750b028ddbd4d">CR_ERROR</a>);</div>
<div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160; </div>
<div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;    <span class="keywordflow">if</span> (pkt_len != <a class="code" href="../../d6/df0/mysql__com_8h.html#a45f11cf97b6dec62756b92cbb96f7418">SCRAMBLE_LENGTH</a> + 1)</div>
<div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(<a class="code" href="../../d8/d50/errmsg_8h.html#a2ecadb9de0c8da7afbeec449d8817706">CR_SERVER_HANDSHAKE_ERR</a>);</div>
<div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160; </div>
<div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;    <span class="comment">/* save it in MYSQL */</span></div>
<div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ae6e34dfb59ec6f6842f65a58eb6bee38">scramble</a>, pkt, <a class="code" href="../../d6/df0/mysql__com_8h.html#a45f11cf97b6dec62756b92cbb96f7418">SCRAMBLE_LENGTH</a>);</div>
<div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ae6e34dfb59ec6f6842f65a58eb6bee38">scramble</a>[<a class="code" href="../../d6/df0/mysql__com_8h.html#a45f11cf97b6dec62756b92cbb96f7418">SCRAMBLE_LENGTH</a>] = 0;</div>
<div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;  }</div>
<div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160; </div>
<div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a63e75633e001c08953663a632819b285">passwd</a>[0])</div>
<div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;  {</div>
<div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;    <span class="keywordtype">char</span> scrambled[<a class="code" href="../../d6/df0/mysql__com_8h.html#a45f11cf97b6dec62756b92cbb96f7418">SCRAMBLE_LENGTH</a> + 1];</div>
<div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;sending scramble&quot;</span>));</div>
<div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;    <a class="code" href="../../d6/df0/mysql__com_8h.html#a2bc4c09a6ed0698c89d441028d76a648">scramble</a>(scrambled, (<span class="keywordtype">char</span>*)pkt, mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a63e75633e001c08953663a632819b285">passwd</a>);</div>
<div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;    <span class="keywordflow">if</span> (vio-&gt;<a class="code" href="../../d4/df3/structst__plugin__vio.html#a2244f66d6d88ef3f2e83a0b477daca59">write_packet</a>(vio, (<a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>*)scrambled, <a class="code" href="../../d6/df0/mysql__com_8h.html#a45f11cf97b6dec62756b92cbb96f7418">SCRAMBLE_LENGTH</a>))</div>
<div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(<a class="code" href="../../da/dd4/plugin__auth__common_8h.html#a44f1794e5697229fad0750b028ddbd4d">CR_ERROR</a>);</div>
<div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;  }</div>
<div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;  {</div>
<div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;    <a class="code" href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a>(<span class="stringliteral">&quot;info&quot;</span>, (<span class="stringliteral">&quot;no password&quot;</span>));</div>
<div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;    <span class="keywordflow">if</span> (vio-&gt;<a class="code" href="../../d4/df3/structst__plugin__vio.html#a2244f66d6d88ef3f2e83a0b477daca59">write_packet</a>(vio, 0, 0)) <span class="comment">/* no password */</span></div>
<div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(<a class="code" href="../../da/dd4/plugin__auth__common_8h.html#a44f1794e5697229fad0750b028ddbd4d">CR_ERROR</a>);</div>
<div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;  }</div>
<div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160; </div>
<div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(<a class="code" href="../../da/dd4/plugin__auth__common_8h.html#ae5ecbb4568bb8771e7cb0d2b9d192e62">CR_OK</a>);</div>
<div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;}</div>
<div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160; </div>
<div class="line"><a name="l04230"></a><span class="lineno"><a class="line" href="../../dd/d93/client_8c.html#a615316bb640747b1985a5d8e6ab3b825"> 4230</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d93/client_8c.html#a615316bb640747b1985a5d8e6ab3b825">old_password_auth_client</a>(<a class="code" href="../../d4/df3/structst__plugin__vio.html">MYSQL_PLUGIN_VIO</a> *vio, <a class="code" href="../../d8/d7e/structst__mysql.html">MYSQL</a> *mysql)</div>
<div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;{</div>
<div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;  <a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *pkt;</div>
<div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;  <span class="keywordtype">int</span> pkt_len;</div>
<div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160; </div>
<div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a>(<span class="stringliteral">&quot;old_password_auth_client&quot;</span>);</div>
<div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160; </div>
<div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;  <span class="keywordflow">if</span> (((<a class="code" href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html">MCPVIO_EXT</a> *)vio)-&gt;<a class="code" href="../../de/d53/mysql_8h.html#ac8c7bf52f50668c268c661708acffd6a">mysql_change_user</a>)</div>
<div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;  {</div>
<div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;<span class="comment">      in mysql_change_user() the client sends the first packet.</span></div>
<div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;<span class="comment">      we use the old scramble.</span></div>
<div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;    pkt= (<a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>*)mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ae6e34dfb59ec6f6842f65a58eb6bee38">scramble</a>;</div>
<div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;    pkt_len= <a class="code" href="../../d6/df0/mysql__com_8h.html#a302a1cb038a2bf21e7f6a90b0b51f48f">SCRAMBLE_LENGTH_323</a> + 1;</div>
<div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;  }</div>
<div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;  {</div>
<div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;    <span class="comment">/* read the scramble */</span></div>
<div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;    <span class="keywordflow">if</span> ((pkt_len= vio-&gt;<a class="code" href="../../d4/df3/structst__plugin__vio.html#a978709b7555b747c90ada9319decb5d8">read_packet</a>(vio, &amp;pkt)) &lt; 0)</div>
<div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(<a class="code" href="../../da/dd4/plugin__auth__common_8h.html#a44f1794e5697229fad0750b028ddbd4d">CR_ERROR</a>);</div>
<div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160; </div>
<div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;    <span class="keywordflow">if</span> (pkt_len != <a class="code" href="../../d6/df0/mysql__com_8h.html#a302a1cb038a2bf21e7f6a90b0b51f48f">SCRAMBLE_LENGTH_323</a> + 1 &amp;&amp;</div>
<div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;        pkt_len != <a class="code" href="../../d6/df0/mysql__com_8h.html#a45f11cf97b6dec62756b92cbb96f7418">SCRAMBLE_LENGTH</a> + 1)</div>
<div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;        <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(<a class="code" href="../../d8/d50/errmsg_8h.html#a2ecadb9de0c8da7afbeec449d8817706">CR_SERVER_HANDSHAKE_ERR</a>);</div>
<div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160; </div>
<div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;    <span class="comment">/* save it in MYSQL */</span></div>
<div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a>(mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ae6e34dfb59ec6f6842f65a58eb6bee38">scramble</a>, pkt, pkt_len);</div>
<div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;    mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#ae6e34dfb59ec6f6842f65a58eb6bee38">scramble</a>[pkt_len] = 0;</div>
<div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;  }</div>
<div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160; </div>
<div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;  <span class="keywordflow">if</span> (mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a63e75633e001c08953663a632819b285">passwd</a>[0])</div>
<div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;  {</div>
<div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;    <span class="keywordtype">char</span> scrambled[<a class="code" href="../../d6/df0/mysql__com_8h.html#a302a1cb038a2bf21e7f6a90b0b51f48f">SCRAMBLE_LENGTH_323</a> + 1];</div>
<div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;    <a class="code" href="../../d6/df0/mysql__com_8h.html#a25e3e67e2cfc4aca49ed6781cc9d12b5">scramble_323</a>(scrambled, (<span class="keywordtype">char</span>*)pkt, mysql-&gt;<a class="code" href="../../d8/d7e/structst__mysql.html#a63e75633e001c08953663a632819b285">passwd</a>);</div>
<div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;    <span class="keywordflow">if</span> (vio-&gt;<a class="code" href="../../d4/df3/structst__plugin__vio.html#a2244f66d6d88ef3f2e83a0b477daca59">write_packet</a>(vio, (<a class="code" href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>*)scrambled, <a class="code" href="../../d6/df0/mysql__com_8h.html#a302a1cb038a2bf21e7f6a90b0b51f48f">SCRAMBLE_LENGTH_323</a> + 1))</div>
<div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(<a class="code" href="../../da/dd4/plugin__auth__common_8h.html#a44f1794e5697229fad0750b028ddbd4d">CR_ERROR</a>);</div>
<div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;  }</div>
<div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160;    <span class="keywordflow">if</span> (vio-&gt;<a class="code" href="../../d4/df3/structst__plugin__vio.html#a2244f66d6d88ef3f2e83a0b477daca59">write_packet</a>(vio, 0, 0)) <span class="comment">/* no password */</span></div>
<div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;      <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(<a class="code" href="../../da/dd4/plugin__auth__common_8h.html#a44f1794e5697229fad0750b028ddbd4d">CR_ERROR</a>);</div>
<div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160; </div>
<div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;  <a class="code" href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a>(<a class="code" href="../../da/dd4/plugin__auth__common_8h.html#ae5ecbb4568bb8771e7cb0d2b9d192e62">CR_OK</a>);</div>
<div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;}</div>
<div class="ttc" id="a_c_make_lists_8txt_html_a0b5da418382bdd0db6dff439e2863979"><div class="ttname"><a href="../../dd/d68/_c_make_lists_8txt.html#a0b5da418382bdd0db6dff439e2863979">if</a></div><div class="ttdeci">NAME if(&quot;;${DISABLED_AC_MODULES};&quot; MATCHES &quot;;${MODULENAME};&quot;) continue() endif() if(EXISTS &quot;$</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d68/_c_make_lists_8txt_source.html#l00068">CMakeLists.txt:68</a></div></div>
<div class="ttc" id="abase64_8c_html_a5e75484d7880fa39b31f27c3d7058936"><div class="ttname"><a href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a></div><div class="ttdeci">static uint pos(unsigned char c)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d36/base64_8c_source.html#l00104">base64.c:104</a></div></div>
<div class="ttc" id="aclient_8c_html_a08d6934a1415517354e87290c3f68529"><div class="ttname"><a href="../../dd/d93/client_8c.html#a08d6934a1415517354e87290c3f68529">MY_CSET_OS_NAME</a></div><div class="ttdeci">struct str2str_st MY_CSET_OS_NAME</div></div>
<div class="ttc" id="aclient_8c_html_a09476f324c25bc6892239a354bf5a521"><div class="ttname"><a href="../../dd/d93/client_8c.html#a09476f324c25bc6892239a354bf5a521">unknown_sqlstate</a></div><div class="ttdeci">const char * unknown_sqlstate</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l00120">client.c:120</a></div></div>
<div class="ttc" id="aclient_8c_html_a09d28115afea5bc892e63e282319d81e"><div class="ttname"><a href="../../dd/d93/client_8c.html#a09d28115afea5bc892e63e282319d81e">mysql_set_character_set</a></div><div class="ttdeci">int STDCALL mysql_set_character_set(MYSQL *mysql, const char *cs_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l04140">client.c:4140</a></div></div>
<div class="ttc" id="aclient_8c_html_a0a0eddc4c9052c5d5d665d5b6ee929cd"><div class="ttname"><a href="../../dd/d93/client_8c.html#a0a0eddc4c9052c5d5d665d5b6ee929cd">mysql_num_rows</a></div><div class="ttdeci">my_ulonglong STDCALL mysql_num_rows(MYSQL_RES *res)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l04083">client.c:4083</a></div></div>
<div class="ttc" id="aclient_8c_html_a0e619126e8cbd3d34ed2f31d5af9749d"><div class="ttname"><a href="../../dd/d93/client_8c.html#a0e619126e8cbd3d34ed2f31d5af9749d">CLI_MYSQL_REAL_CONNECT</a></div><div class="ttdeci">#define CLI_MYSQL_REAL_CONNECT</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l00062">client.c:62</a></div></div>
<div class="ttc" id="aclient_8c_html_a0fb52d22e3f1ca79728d71742788f596"><div class="ttname"><a href="../../dd/d93/client_8c.html#a0fb52d22e3f1ca79728d71742788f596">mysql_prune_stmt_list</a></div><div class="ttdeci">static void mysql_prune_stmt_list(MYSQL *mysql)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l03625">client.c:3625</a></div></div>
<div class="ttc" id="aclient_8c_html_a11029d06cd3bf4fc76ce4be717146ea3"><div class="ttname"><a href="../../dd/d93/client_8c.html#a11029d06cd3bf4fc76ce4be717146ea3">mysql_store_result</a></div><div class="ttdeci">MYSQL_RES *STDCALL mysql_store_result(MYSQL *mysql)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l03820">client.c:3820</a></div></div>
<div class="ttc" id="aclient_8c_html_a1124f9d99ba6bcdc20200cd9782ea588"><div class="ttname"><a href="../../dd/d93/client_8c.html#a1124f9d99ba6bcdc20200cd9782ea588">send_client_reply_packet</a></div><div class="ttdeci">static int send_client_reply_packet(MCPVIO_EXT *mpvio, const uchar *data, int data_len)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l02425">client.c:2425</a></div></div>
<div class="ttc" id="aclient_8c_html_a147fe8672e5cd91a3a07b8f793611c2b"><div class="ttname"><a href="../../dd/d93/client_8c.html#a147fe8672e5cd91a3a07b8f793611c2b">default_options</a></div><div class="ttdeci">static const char * default_options[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01130">client.c:1130</a></div></div>
<div class="ttc" id="aclient_8c_html_a189d88bfca75952cf7c3e5c1ffa59cc0"><div class="ttname"><a href="../../dd/d93/client_8c.html#a189d88bfca75952cf7c3e5c1ffa59cc0">end_server</a></div><div class="ttdeci">void end_server(MYSQL *mysql)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01076">client.c:1076</a></div></div>
<div class="ttc" id="aclient_8c_html_a252b2cb72531cb00ecd4d4db37a5a473"><div class="ttname"><a href="../../dd/d93/client_8c.html#a252b2cb72531cb00ecd4d4db37a5a473">CONNECT_TIMEOUT</a></div><div class="ttdeci">#define CONNECT_TIMEOUT</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l00108">client.c:108</a></div></div>
<div class="ttc" id="aclient_8c_html_a2672ce8803f7121abe072a5bd0a6aaa2"><div class="ttname"><a href="../../dd/d93/client_8c.html#a2672ce8803f7121abe072a5bd0a6aaa2">native_password_auth_client</a></div><div class="ttdeci">static int native_password_auth_client(MYSQL_PLUGIN_VIO *vio, MYSQL *mysql)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l04177">client.c:4177</a></div></div>
<div class="ttc" id="aclient_8c_html_a306daa8e0d2701808c7c52e355934c0f"><div class="ttname"><a href="../../dd/d93/client_8c.html#a306daa8e0d2701808c7c52e355934c0f">client_mpvio_info</a></div><div class="ttdeci">static void client_mpvio_info(MYSQL_PLUGIN_VIO *vio, MYSQL_PLUGIN_VIO_INFO *info)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l02728">client.c:2728</a></div></div>
<div class="ttc" id="aclient_8c_html_a3196ee8555d77cf23d15d3e0c096740c"><div class="ttname"><a href="../../dd/d93/client_8c.html#a3196ee8555d77cf23d15d3e0c096740c">cli_safe_read</a></div><div class="ttdeci">ulong cli_safe_read(MYSQL *mysql)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l00729">client.c:729</a></div></div>
<div class="ttc" id="aclient_8c_html_a329c5a74e7eb4f20edf5b6b18c127c7c"><div class="ttname"><a href="../../dd/d93/client_8c.html#a329c5a74e7eb4f20edf5b6b18c127c7c">old_password_plugin_name</a></div><div class="ttdeci">#define old_password_plugin_name</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l00115">client.c:115</a></div></div>
<div class="ttc" id="aclient_8c_html_a3752b1c8eb8a754d4a240b4e76396f16"><div class="ttname"><a href="../../dd/d93/client_8c.html#a3752b1c8eb8a754d4a240b4e76396f16">mysql_set_character_set_with_default_collation</a></div><div class="ttdeci">static void mysql_set_character_set_with_default_collation(MYSQL *mysql)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l02189">client.c:2189</a></div></div>
<div class="ttc" id="aclient_8c_html_a38da6df00d5415a769e8a69867158b0d"><div class="ttname"><a href="../../dd/d93/client_8c.html#a38da6df00d5415a769e8a69867158b0d">set_mysql_extended_error</a></div><div class="ttdeci">void set_mysql_extended_error(MYSQL *mysql, int errcode, const char *sqlstate, const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l00379">client.c:379</a></div></div>
<div class="ttc" id="aclient_8c_html_a3b0e7b39c6da4eecf1793bbb390390c0"><div class="ttname"><a href="../../dd/d93/client_8c.html#a3b0e7b39c6da4eecf1793bbb390390c0">option_types</a></div><div class="ttdeci">static TYPELIB option_types</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01154">client.c:1154</a></div></div>
<div class="ttc" id="aclient_8c_html_a3b47476245fcd6cd49a12cbd2695edc9"><div class="ttname"><a href="../../dd/d93/client_8c.html#a3b47476245fcd6cd49a12cbd2695edc9">client_mpvio_read_packet</a></div><div class="ttdeci">static int client_mpvio_read_packet(struct st_plugin_vio *mpv, uchar **buf)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l02594">client.c:2594</a></div></div>
<div class="ttc" id="aclient_8c_html_a3fc3747eddb3b9226d563169c1a8a298"><div class="ttname"><a href="../../dd/d93/client_8c.html#a3fc3747eddb3b9226d563169c1a8a298">mysql_get_server_version</a></div><div class="ttdeci">ulong STDCALL mysql_get_server_version(MYSQL *mysql)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l04123">client.c:4123</a></div></div>
<div class="ttc" id="aclient_8c_html_a4f61d4e8c709e649f20b036221a5d158"><div class="ttname"><a href="../../dd/d93/client_8c.html#a4f61d4e8c709e649f20b036221a5d158">mysql_init_character_set</a></div><div class="ttdeci">C_MODE_START int mysql_init_character_set(MYSQL *mysql)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l02220">client.c:2220</a></div></div>
<div class="ttc" id="aclient_8c_html_a509fab81bc63f43c97c55a2384c739ec"><div class="ttname"><a href="../../dd/d93/client_8c.html#a509fab81bc63f43c97c55a2384c739ec">mpvio_info</a></div><div class="ttdeci">void mpvio_info(Vio *vio, MYSQL_PLUGIN_VIO_INFO *info)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l02689">client.c:2689</a></div></div>
<div class="ttc" id="aclient_8c_html_a53b65c43cd8c0df2a4bdb530af03ab06"><div class="ttname"><a href="../../dd/d93/client_8c.html#a53b65c43cd8c0df2a4bdb530af03ab06">mysql_ssl_set</a></div><div class="ttdeci">my_bool STDCALL mysql_ssl_set(MYSQL *mysql __attribute__((unused)), const char *key __attribute__((unused)), const char *cert __attribute__((unused)), const char *ca __attribute__((unused)), const char *capath __attribute__((unused)), const char *cipher __attribute__((unused)))</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01758">client.c:1758</a></div></div>
<div class="ttc" id="aclient_8c_html_a545b912b7a3382e8e54bbac89e39240e"><div class="ttname"><a href="../../dd/d93/client_8c.html#a545b912b7a3382e8e54bbac89e39240e">cli_flush_use_result</a></div><div class="ttdeci">static void cli_flush_use_result(MYSQL *mysql, my_bool flush_all_results)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l00973">client.c:973</a></div></div>
<div class="ttc" id="aclient_8c_html_a54d8ebd9ff6d0d747510b396ef03e3c0"><div class="ttname"><a href="../../dd/d93/client_8c.html#a54d8ebd9ff6d0d747510b396ef03e3c0">cli_read_query_result</a></div><div class="ttdeci">static my_bool cli_read_query_result(MYSQL *mysql)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l03716">client.c:3716</a></div></div>
<div class="ttc" id="aclient_8c_html_a573c9edfe7701b8cb346221aa437bd88"><div class="ttname"><a href="../../dd/d93/client_8c.html#a573c9edfe7701b8cb346221aa437bd88">mysql_select_db</a></div><div class="ttdeci">int STDCALL mysql_select_db(MYSQL *mysql, const char *db)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l03533">client.c:3533</a></div></div>
<div class="ttc" id="aclient_8c_html_a57be9588aaeb8d39f2aa571ef7c599e3"><div class="ttname"><a href="../../dd/d93/client_8c.html#a57be9588aaeb8d39f2aa571ef7c599e3">native_password_client_plugin</a></div><div class="ttdeci">static auth_plugin_t native_password_client_plugin</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l02265">client.c:2265</a></div></div>
<div class="ttc" id="aclient_8c_html_a57dd141bcf4441d66c1ef41cf1cb058b"><div class="ttname"><a href="../../dd/d93/client_8c.html#a57dd141bcf4441d66c1ef41cf1cb058b">mysql_init</a></div><div class="ttdeci">MYSQL *STDCALL mysql_init(MYSQL *mysql)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01694">client.c:1694</a></div></div>
<div class="ttc" id="aclient_8c_html_a57efa0c1f3343214a8f8589665678b94"><div class="ttname"><a href="../../dd/d93/client_8c.html#a57efa0c1f3343214a8f8589665678b94">wait_for_data</a></div><div class="ttdeci">static int wait_for_data(my_socket fd, uint timeout)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l00201">client.c:201</a></div></div>
<div class="ttc" id="aclient_8c_html_a5947b78f1c74adc223c8d1c15338d676"><div class="ttname"><a href="../../dd/d93/client_8c.html#a5947b78f1c74adc223c8d1c15338d676">auth_plugin_t</a></div><div class="ttdeci">typedefC_MODE_END struct st_mysql_client_plugin_AUTHENTICATION auth_plugin_t</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l02256">client.c:2260</a></div></div>
<div class="ttc" id="aclient_8c_html_a5f684d7bfd3daf3fda027de64230fd32"><div class="ttname"><a href="../../dd/d93/client_8c.html#a5f684d7bfd3daf3fda027de64230fd32">mysql_close</a></div><div class="ttdeci">void STDCALL mysql_close(MYSQL *mysql)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l03688">client.c:3688</a></div></div>
<div class="ttc" id="aclient_8c_html_a615316bb640747b1985a5d8e6ab3b825"><div class="ttname"><a href="../../dd/d93/client_8c.html#a615316bb640747b1985a5d8e6ab3b825">old_password_auth_client</a></div><div class="ttdeci">static int old_password_auth_client(MYSQL_PLUGIN_VIO *vio, MYSQL *mysql)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l04230">client.c:4230</a></div></div>
<div class="ttc" id="aclient_8c_html_a633b0396ff93d336a088412a190a5072"><div class="ttname"><a href="../../dd/d93/client_8c.html#a633b0396ff93d336a088412a190a5072">SOCKET_ERROR</a></div><div class="ttdeci">#define SOCKET_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l00102">client.c:102</a></div></div>
<div class="ttc" id="aclient_8c_html_a6364901f5a70d8db7722acc78e49c24f"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6364901f5a70d8db7722acc78e49c24f">mysql_send_query</a></div><div class="ttdeci">int STDCALL mysql_send_query(MYSQL *mysql, const char *query, ulong length)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l03795">client.c:3795</a></div></div>
<div class="ttc" id="aclient_8c_html_a688d70b9cf084227b07654f90f0dffcc"><div class="ttname"><a href="../../dd/d93/client_8c.html#a688d70b9cf084227b07654f90f0dffcc">mysql_server_last_errno</a></div><div class="ttdeci">unsigned int mysql_server_last_errno</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l00139">client.c:139</a></div></div>
<div class="ttc" id="aclient_8c_html_a68bcd6319765477a61243779f9ab7df3"><div class="ttname"><a href="../../dd/d93/client_8c.html#a68bcd6319765477a61243779f9ab7df3">client_methods</a></div><div class="ttdeci">static MYSQL_METHODS client_methods</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01921">client.c:1921</a></div></div>
<div class="ttc" id="aclient_8c_html_a697e05087606451cfaaa979c3c160da9"><div class="ttname"><a href="../../dd/d93/client_8c.html#a697e05087606451cfaaa979c3c160da9">mysql_port</a></div><div class="ttdeci">uint mysql_port</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l00118">client.c:118</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20">option_id</a></div><div class="ttdeci">option_id</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01142">client.c:1142</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20a013fabab2799f259382a7b3cfe1ce61a"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a013fabab2799f259382a7b3cfe1ce61a">OPT_plugin_dir</a></div><div class="ttdeci">@ OPT_plugin_dir</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01151">client.c:1151</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20a0d2a7e25f4e35a90faaeaa52836c426d"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a0d2a7e25f4e35a90faaeaa52836c426d">OPT_multi_statements</a></div><div class="ttdeci">@ OPT_multi_statements</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01150">client.c:1150</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20a1cc66f2d650318be442d5e321a6541c5"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a1cc66f2d650318be442d5e321a6541c5">OPT_repl_parse_query</a></div><div class="ttdeci">@ OPT_repl_parse_query</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01148">client.c:1148</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20a2b467cd9a7cb503e39646b45b2ca6369"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a2b467cd9a7cb503e39646b45b2ca6369">OPT_enable_reads_from_master</a></div><div class="ttdeci">@ OPT_enable_reads_from_master</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01148">client.c:1148</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20a2b914eacb0cb6598551dd51d9bff9dd1"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a2b914eacb0cb6598551dd51d9bff9dd1">OPT_timeout</a></div><div class="ttdeci">@ OPT_timeout</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01143">client.c:1143</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20a2d54f162e04641dddba301c518e58333"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a2d54f162e04641dddba301c518e58333">OPT_multi_queries</a></div><div class="ttdeci">@ OPT_multi_queries</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01150">client.c:1150</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20a38ae0441024db7c42f265bfd524714f1"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a38ae0441024db7c42f265bfd524714f1">OPT_ssl_cert</a></div><div class="ttdeci">@ OPT_ssl_cert</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01145">client.c:1145</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20a469d5a461df061f36fe4174d8458511a"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a469d5a461df061f36fe4174d8458511a">OPT_host</a></div><div class="ttdeci">@ OPT_host</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01144">client.c:1144</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20a4eb3c8cff14b215c36764118e9e7ad2f"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a4eb3c8cff14b215c36764118e9e7ad2f">OPT_socket</a></div><div class="ttdeci">@ OPT_socket</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01143">client.c:1143</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20a52f46fd0de878d9e5e0b5cf4fd9e1493"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a52f46fd0de878d9e5e0b5cf4fd9e1493">OPT_ssl_ca</a></div><div class="ttdeci">@ OPT_ssl_ca</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01145">client.c:1145</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20a569d4414173840c826ddbb07f1153487"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a569d4414173840c826ddbb07f1153487">OPT_compress</a></div><div class="ttdeci">@ OPT_compress</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01143">client.c:1143</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20a5a4e3da29d1962739f1ce7b82ad4cfc1"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a5a4e3da29d1962739f1ce7b82ad4cfc1">OPT_shared_memory_base_name</a></div><div class="ttdeci">@ OPT_shared_memory_base_name</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01149">client.c:1149</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20a5d316010e3f3f15373546c91f57f621e"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a5d316010e3f3f15373546c91f57f621e">OPT_secure_auth</a></div><div class="ttdeci">@ OPT_secure_auth</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01150">client.c:1150</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20a67188b36d6585deb582b012b2c5ec1e4"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a67188b36d6585deb582b012b2c5ec1e4">OPT_local_infile</a></div><div class="ttdeci">@ OPT_local_infile</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01147">client.c:1147</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20a6d3e3f7671d84f9a66346294eb253081"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a6d3e3f7671d84f9a66346294eb253081">OPT_default_character_set</a></div><div class="ttdeci">@ OPT_default_character_set</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01146">client.c:1146</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20a755741426c05237b7f7601a04520c5e6"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a755741426c05237b7f7601a04520c5e6">OPT_ssl_key</a></div><div class="ttdeci">@ OPT_ssl_key</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01145">client.c:1145</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20a7c5bfc2244f6a77c2e2d044d7b41d9f2"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a7c5bfc2244f6a77c2e2d044d7b41d9f2">OPT_report_data_truncation</a></div><div class="ttdeci">@ OPT_report_data_truncation</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01151">client.c:1151</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20a90ac1d206d7b1abeb48ed680a9e6a908"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a90ac1d206d7b1abeb48ed680a9e6a908">OPT_user</a></div><div class="ttdeci">@ OPT_user</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01143">client.c:1143</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20a919fb0406d07a5dc1335a873688e8049"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a919fb0406d07a5dc1335a873688e8049">OPT_default_auth</a></div><div class="ttdeci">@ OPT_default_auth</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01151">client.c:1151</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20a943b02074fae06a96f414f6c78df7961"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a943b02074fae06a96f414f6c78df7961">OPT_disable_local_infile</a></div><div class="ttdeci">@ OPT_disable_local_infile</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01147">client.c:1147</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20a94488e8fcdab2b669aec8d1da06fd3f2"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a94488e8fcdab2b669aec8d1da06fd3f2">OPT_character_sets_dir</a></div><div class="ttdeci">@ OPT_character_sets_dir</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01146">client.c:1146</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20a967268415dd49e0bd60ea47625732d2a"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20a967268415dd49e0bd60ea47625732d2a">OPT_max_allowed_packet</a></div><div class="ttdeci">@ OPT_max_allowed_packet</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01149">client.c:1149</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20aa7af9fe550553d7c51434e99cbb450a2"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20aa7af9fe550553d7c51434e99cbb450a2">OPT_pipe</a></div><div class="ttdeci">@ OPT_pipe</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01143">client.c:1143</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20aa85f72db0baa385a0a10ef9a95df2cb9"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20aa85f72db0baa385a0a10ef9a95df2cb9">OPT_ssl_capath</a></div><div class="ttdeci">@ OPT_ssl_capath</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01145">client.c:1145</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20aaea1a787b973e20d4b5c2b943dc8f1e5"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20aaea1a787b973e20d4b5c2b943dc8f1e5">OPT_password</a></div><div class="ttdeci">@ OPT_password</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01143">client.c:1143</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20ab18a63ca9bb334b82641b77e854e840b"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20ab18a63ca9bb334b82641b77e854e840b">OPT_multi_results</a></div><div class="ttdeci">@ OPT_multi_results</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01150">client.c:1150</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20aba2460c7abbd6d2194498658699c77f7"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20aba2460c7abbd6d2194498658699c77f7">OPT_interactive_timeout</a></div><div class="ttdeci">@ OPT_interactive_timeout</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01146">client.c:1146</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20abe5ed8efd928db5700dd50f1631ef362"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20abe5ed8efd928db5700dd50f1631ef362">OPT_init_command</a></div><div class="ttdeci">@ OPT_init_command</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01144">client.c:1144</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20ac18af9391fcb3d0274d2cc54769a201d"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20ac18af9391fcb3d0274d2cc54769a201d">OPT_debug</a></div><div class="ttdeci">@ OPT_debug</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01144">client.c:1144</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20ac4ab041aefc87ba728cfe8f494f05340"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20ac4ab041aefc87ba728cfe8f494f05340">OPT_connect_timeout</a></div><div class="ttdeci">@ OPT_connect_timeout</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01147">client.c:1147</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20acded51e7cc3a9cf51c1e66ec95e186b7"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20acded51e7cc3a9cf51c1e66ec95e186b7">OPT_return_found_rows</a></div><div class="ttdeci">@ OPT_return_found_rows</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01144">client.c:1144</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20ad8f98b0243918fe2b342429fa5d73c05"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20ad8f98b0243918fe2b342429fa5d73c05">OPT_database</a></div><div class="ttdeci">@ OPT_database</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01144">client.c:1144</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20ae27633a959d0be04b392e9ddeab47ade"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20ae27633a959d0be04b392e9ddeab47ade">OPT_protocol</a></div><div class="ttdeci">@ OPT_protocol</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01149">client.c:1149</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20ae40f5a598eec6c1b9367543b27cc0227"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20ae40f5a598eec6c1b9367543b27cc0227">OPT_replication_probe</a></div><div class="ttdeci">@ OPT_replication_probe</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01148">client.c:1148</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20ae62ffc589f2d903f3b21e68e8a09c7ee"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20ae62ffc589f2d903f3b21e68e8a09c7ee">OPT_ssl_cipher</a></div><div class="ttdeci">@ OPT_ssl_cipher</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01149">client.c:1149</a></div></div>
<div class="ttc" id="aclient_8c_html_a6c053117f3882e03c12de10d58d36e20afbdc13b7222ad2e9bbd295b69a1bcfca"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6c053117f3882e03c12de10d58d36e20afbdc13b7222ad2e9bbd295b69a1bcfca">OPT_port</a></div><div class="ttdeci">@ OPT_port</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01143">client.c:1143</a></div></div>
<div class="ttc" id="aclient_8c_html_a6da99d96559e84fe30258778274bc1b1"><div class="ttname"><a href="../../dd/d93/client_8c.html#a6da99d96559e84fe30258778274bc1b1">opt_flush_ok_packet</a></div><div class="ttdeci">my_bool opt_flush_ok_packet(MYSQL *mysql, my_bool *is_ok_packet)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l00938">client.c:938</a></div></div>
<div class="ttc" id="aclient_8c_html_a7473edb62f823dddc697305fdf689952"><div class="ttname"><a href="../../dd/d93/client_8c.html#a7473edb62f823dddc697305fdf689952">mysql_fetch_row</a></div><div class="ttdeci">MYSQL_ROW STDCALL mysql_fetch_row(MYSQL_RES *res)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l03917">client.c:3917</a></div></div>
<div class="ttc" id="aclient_8c_html_a7caf48efd7b9fab447d4a93001514915"><div class="ttname"><a href="../../dd/d93/client_8c.html#a7caf48efd7b9fab447d4a93001514915">mysql_detach_stmt_list</a></div><div class="ttdeci">void mysql_detach_stmt_list(LIST **stmt_list __attribute__((unused)), const char *func_name __attribute__((unused)))</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l03665">client.c:3665</a></div></div>
<div class="ttc" id="aclient_8c_html_a7d61b9023352dbb50b0744a8eda6ddb1"><div class="ttname"><a href="../../dd/d93/client_8c.html#a7d61b9023352dbb50b0744a8eda6ddb1">mysql_get_ssl_cipher</a></div><div class="ttdeci">const char *STDCALL mysql_get_ssl_cipher(MYSQL *mysql __attribute__((unused)))</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01821">client.c:1821</a></div></div>
<div class="ttc" id="aclient_8c_html_a7d9c4a3ae017aa67bcd2f910f98a9af5"><div class="ttname"><a href="../../dd/d93/client_8c.html#a7d9c4a3ae017aa67bcd2f910f98a9af5">mysql_server_last_error</a></div><div class="ttdeci">char mysql_server_last_error[MYSQL_ERRMSG_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l00140">client.c:140</a></div></div>
<div class="ttc" id="aclient_8c_html_a7f5bfc9aeb97ede65bdac2359e5c6325"><div class="ttname"><a href="../../dd/d93/client_8c.html#a7f5bfc9aeb97ede65bdac2359e5c6325">net_clear_error</a></div><div class="ttdeci">void net_clear_error(NET *net)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l00361">client.c:361</a></div></div>
<div class="ttc" id="aclient_8c_html_a81246260b966521cb451cae59a343c88"><div class="ttname"><a href="../../dd/d93/client_8c.html#a81246260b966521cb451cae59a343c88">cant_connect_sqlstate</a></div><div class="ttdeci">const char * cant_connect_sqlstate</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l00122">client.c:122</a></div></div>
<div class="ttc" id="aclient_8c_html_a8411dddedfdb7b943f5892167421695d"><div class="ttname"><a href="../../dd/d93/client_8c.html#a8411dddedfdb7b943f5892167421695d">unpack_fields</a></div><div class="ttdeci">MYSQL_FIELD * unpack_fields(MYSQL_DATA *data, MEM_ROOT *alloc, uint fields, my_bool default_value, uint server_capabilities)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01430">client.c:1430</a></div></div>
<div class="ttc" id="aclient_8c_html_a8a6fa3f2eda0113a03d7e992a1f61bc4"><div class="ttname"><a href="../../dd/d93/client_8c.html#a8a6fa3f2eda0113a03d7e992a1f61bc4">mysql_autodetect_character_set</a></div><div class="ttdeci">static int mysql_autodetect_character_set(MYSQL *mysql)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l02165">client.c:2165</a></div></div>
<div class="ttc" id="aclient_8c_html_a9120bc5859e0f5602aef4f4470665888"><div class="ttname"><a href="../../dd/d93/client_8c.html#a9120bc5859e0f5602aef4f4470665888">mysql_real_query</a></div><div class="ttdeci">int STDCALL mysql_real_query(MYSQL *mysql, const char *query, ulong length)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l03803">client.c:3803</a></div></div>
<div class="ttc" id="aclient_8c_html_a91ba7172f7c75fa4d389269e3a964291"><div class="ttname"><a href="../../dd/d93/client_8c.html#a91ba7172f7c75fa4d389269e3a964291">cli_use_result</a></div><div class="ttdeci">static MYSQL_RES * cli_use_result(MYSQL *mysql)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l03874">client.c:3874</a></div></div>
<div class="ttc" id="aclient_8c_html_a94c049b6d785d0d20a66b56f60489367"><div class="ttname"><a href="../../dd/d93/client_8c.html#a94c049b6d785d0d20a66b56f60489367">mysql_close_free_options</a></div><div class="ttdeci">static void mysql_close_free_options(MYSQL *mysql)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l03553">client.c:3553</a></div></div>
<div class="ttc" id="aclient_8c_html_a9cf8b513f95f7f7c168036214ffdbd0a"><div class="ttname"><a href="../../dd/d93/client_8c.html#a9cf8b513f95f7f7c168036214ffdbd0a">my_os_charset_to_mysql_charset</a></div><div class="ttdeci">static const char * my_os_charset_to_mysql_charset(const char *csname)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l02111">client.c:2111</a></div></div>
<div class="ttc" id="aclient_8c_html_aa2517e02b9c61e8e3e96a7c0c784218f"><div class="ttname"><a href="../../dd/d93/client_8c.html#aa2517e02b9c61e8e3e96a7c0c784218f">free_rows</a></div><div class="ttdeci">void free_rows(MYSQL_DATA *cur)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l00798">client.c:798</a></div></div>
<div class="ttc" id="aclient_8c_html_aa4f352a0ef888f350687c48d8acb6180"><div class="ttname"><a href="../../dd/d93/client_8c.html#aa4f352a0ef888f350687c48d8acb6180">mysql_error</a></div><div class="ttdeci">const char *STDCALL mysql_error(MYSQL *mysql)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l04099">client.c:4099</a></div></div>
<div class="ttc" id="aclient_8c_html_aa657ebd42b3ecfdae1fec6bec43865e1"><div class="ttname"><a href="../../dd/d93/client_8c.html#aa657ebd42b3ecfdae1fec6bec43865e1">sql_protocol_names_lib</a></div><div class="ttdeci">const char * sql_protocol_names_lib[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01157">client.c:1157</a></div></div>
<div class="ttc" id="aclient_8c_html_aa667e91072c23ca21739908a0005e068"><div class="ttname"><a href="../../dd/d93/client_8c.html#aa667e91072c23ca21739908a0005e068">cli_fetch_lengths</a></div><div class="ttdeci">static void cli_fetch_lengths(ulong *to, MYSQL_ROW column, unsigned int field_count)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01403">client.c:1403</a></div></div>
<div class="ttc" id="aclient_8c_html_aae95b10469763a75fb4f2e56d04c5365"><div class="ttname"><a href="../../dd/d93/client_8c.html#aae95b10469763a75fb4f2e56d04c5365">sql_protocol_typelib</a></div><div class="ttdeci">TYPELIB sql_protocol_typelib</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01159">client.c:1159</a></div></div>
<div class="ttc" id="aclient_8c_html_ab64d6a92748bbbb11c7898407dbde348"><div class="ttname"><a href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348">my_cs_match_type_enum</a></div><div class="ttdeci">my_cs_match_type_enum</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01945">client.c:1946</a></div></div>
<div class="ttc" id="aclient_8c_html_ab64d6a92748bbbb11c7898407dbde348a09af78d3de49fa8d7272832744174bb3"><div class="ttname"><a href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a09af78d3de49fa8d7272832744174bb3">my_cs_unsupp</a></div><div class="ttdeci">@ my_cs_unsupp</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01955">client.c:1954</a></div></div>
<div class="ttc" id="aclient_8c_html_ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041"><div class="ttname"><a href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a416da9d2cb3ebc7040571a7637ac1041">my_cs_exact</a></div><div class="ttdeci">@ my_cs_exact</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01948">client.c:1948</a></div></div>
<div class="ttc" id="aclient_8c_html_ab64d6a92748bbbb11c7898407dbde348a902fda10ccd8515e8b389b83fdaf3d5c"><div class="ttname"><a href="../../dd/d93/client_8c.html#ab64d6a92748bbbb11c7898407dbde348a902fda10ccd8515e8b389b83fdaf3d5c">my_cs_approx</a></div><div class="ttdeci">@ my_cs_approx</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01950">client.c:1950</a></div></div>
<div class="ttc" id="aclient_8c_html_abdac97fb2a90f16c130964219ad46b5f"><div class="ttname"><a href="../../dd/d93/client_8c.html#abdac97fb2a90f16c130964219ad46b5f">mysql_reconnect</a></div><div class="ttdeci">my_bool mysql_reconnect(MYSQL *mysql)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l03470">client.c:3470</a></div></div>
<div class="ttc" id="aclient_8c_html_ac0dfa45f372b6656c15abe29c6046644"><div class="ttname"><a href="../../dd/d93/client_8c.html#ac0dfa45f372b6656c15abe29c6046644">run_plugin_auth</a></div><div class="ttdeci">int run_plugin_auth(MYSQL *mysql, char *data, uint data_len, const char *data_plugin, const char *db)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l02751">client.c:2751</a></div></div>
<div class="ttc" id="aclient_8c_html_ac18c82c7183e6a7993ed56ae87600b2c"><div class="ttname"><a href="../../dd/d93/client_8c.html#ac18c82c7183e6a7993ed56ae87600b2c">set_mysql_error</a></div><div class="ttdeci">void set_mysql_error(MYSQL *mysql, int errcode, const char *sqlstate)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l00333">client.c:333</a></div></div>
<div class="ttc" id="aclient_8c_html_ac3397a87b97cb62f0089f7961a61d630"><div class="ttname"><a href="../../dd/d93/client_8c.html#ac3397a87b97cb62f0089f7961a61d630">EXTENSION_SET_STRING</a></div><div class="ttdeci">#define EXTENSION_SET_STRING(OPTS, X, STR)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01183">client.c:1183</a></div></div>
<div class="ttc" id="aclient_8c_html_ac3966a8be18df03c9c334178305d0ecf"><div class="ttname"><a href="../../dd/d93/client_8c.html#ac3966a8be18df03c9c334178305d0ecf">old_password_client_plugin</a></div><div class="ttdeci">static auth_plugin_t old_password_client_plugin</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l02281">client.c:2281</a></div></div>
<div class="ttc" id="aclient_8c_html_ac52bf79d90412a7dcc566b677fac6fa2"><div class="ttname"><a href="../../dd/d93/client_8c.html#ac52bf79d90412a7dcc566b677fac6fa2">my_cs_match_type</a></div><div class="ttdeci">enum my_cs_match_type_enum my_cs_match_type</div></div>
<div class="ttc" id="aclient_8c_html_ac53f2b5a4e5c09d4006e45c22865c279"><div class="ttname"><a href="../../dd/d93/client_8c.html#ac53f2b5a4e5c09d4006e45c22865c279">mysql_unix_port</a></div><div class="ttdeci">char * mysql_unix_port</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l00119">client.c:119</a></div></div>
<div class="ttc" id="aclient_8c_html_ac6ae64e4a3d19ae64c79c0b7afa56f37"><div class="ttname"><a href="../../dd/d93/client_8c.html#ac6ae64e4a3d19ae64c79c0b7afa56f37">native_password_plugin_name</a></div><div class="ttdeci">#define native_password_plugin_name</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l00114">client.c:114</a></div></div>
<div class="ttc" id="aclient_8c_html_ac75dabe29a1237ccc9212834eed642b8"><div class="ttname"><a href="../../dd/d93/client_8c.html#ac75dabe29a1237ccc9212834eed642b8">my_connect</a></div><div class="ttdeci">int my_connect(my_socket fd, const struct sockaddr *name, uint namelen, uint timeout)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l00151">client.c:151</a></div></div>
<div class="ttc" id="aclient_8c_html_ac9c363355a9d5879adf11c8a8be774f8"><div class="ttname"><a href="../../dd/d93/client_8c.html#ac9c363355a9d5879adf11c8a8be774f8">charsets</a></div><div class="ttdeci">const MY_CSET_OS_NAME charsets[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01965">client.c:1965</a></div></div>
<div class="ttc" id="aclient_8c_html_acb92ca3f8640719ce9ea6fbd078e25cd"><div class="ttname"><a href="../../dd/d93/client_8c.html#acb92ca3f8640719ce9ea6fbd078e25cd">default_client_charset_info</a></div><div class="ttdeci">CHARSET_INFO * default_client_charset_info</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l00136">client.c:136</a></div></div>
<div class="ttc" id="aclient_8c_html_acd30898c417629e616d1ba9a17f91892"><div class="ttname"><a href="../../dd/d93/client_8c.html#acd30898c417629e616d1ba9a17f91892">free_old_query</a></div><div class="ttdeci">void free_old_query(MYSQL *mysql)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l00870">client.c:870</a></div></div>
<div class="ttc" id="aclient_8c_html_acef9f1957a21403ab4798d1200b52c37"><div class="ttname"><a href="../../dd/d93/client_8c.html#acef9f1957a21403ab4798d1200b52c37">mysql_fetch_lengths</a></div><div class="ttdeci">ulong *STDCALL mysql_fetch_lengths(MYSQL_RES *res)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l03972">client.c:3972</a></div></div>
<div class="ttc" id="aclient_8c_html_acf10a03c04474aeb731856f95709c701"><div class="ttname"><a href="../../dd/d93/client_8c.html#acf10a03c04474aeb731856f95709c701">mysql_errno</a></div><div class="ttdeci">uint STDCALL mysql_errno(MYSQL *mysql)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l04093">client.c:4093</a></div></div>
<div class="ttc" id="aclient_8c_html_ad13f6b59eda853fac26e47275ab4c1d1"><div class="ttname"><a href="../../dd/d93/client_8c.html#ad13f6b59eda853fac26e47275ab4c1d1">not_error_sqlstate</a></div><div class="ttdeci">const char * not_error_sqlstate</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l00121">client.c:121</a></div></div>
<div class="ttc" id="aclient_8c_html_ada9e5d549970fb10d2fc862739717129"><div class="ttname"><a href="../../dd/d93/client_8c.html#ada9e5d549970fb10d2fc862739717129">mysql_free_result</a></div><div class="ttdeci">void STDCALL mysql_free_result(MYSQL_RES *result)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01098">client.c:1098</a></div></div>
<div class="ttc" id="aclient_8c_html_adb43e2a1ec360e404c1accbdf4d7215d"><div class="ttname"><a href="../../dd/d93/client_8c.html#adb43e2a1ec360e404c1accbdf4d7215d">strdup_if_not_null</a></div><div class="ttdeci">#define strdup_if_not_null(A)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01755">client.c:1755</a></div></div>
<div class="ttc" id="aclient_8c_html_addcdda07a809daba4220a761ac390e54"><div class="ttname"><a href="../../dd/d93/client_8c.html#addcdda07a809daba4220a761ac390e54">mysql_options</a></div><div class="ttdeci">int STDCALL mysql_options(MYSQL *mysql, enum mysql_option option, const void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l03985">client.c:3985</a></div></div>
<div class="ttc" id="aclient_8c_html_adee7c16f9ea2cc2ce5ab8b5b90a52481"><div class="ttname"><a href="../../dd/d93/client_8c.html#adee7c16f9ea2cc2ce5ab8b5b90a52481">add_init_command</a></div><div class="ttdeci">static int add_init_command(struct st_mysql_options *options, const char *cmd)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01162">client.c:1162</a></div></div>
<div class="ttc" id="aclient_8c_html_af31ac4cfbfcb9687e151a79b53911fe7"><div class="ttname"><a href="../../dd/d93/client_8c.html#af31ac4cfbfcb9687e151a79b53911fe7">send_change_user_packet</a></div><div class="ttdeci">static int send_change_user_packet(MCPVIO_EXT *mpvio, const uchar *data, int data_len)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l02343">client.c:2343</a></div></div>
<div class="ttc" id="aclient_8c_html_af42045b2aa13ba9c91140944444cfde8"><div class="ttname"><a href="../../dd/d93/client_8c.html#af42045b2aa13ba9c91140944444cfde8">client_mpvio_write_packet</a></div><div class="ttdeci">static int client_mpvio_write_packet(struct st_plugin_vio *, const uchar *, int)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l02655">client.c:2655</a></div></div>
<div class="ttc" id="aclient_8c_html_af69def6cca16cc71b1a699b7efc70d4c"><div class="ttname"><a href="../../dd/d93/client_8c.html#af69def6cca16cc71b1a699b7efc70d4c">cli_read_change_user_result</a></div><div class="ttdeci">int cli_read_change_user_result(MYSQL *mysql)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01916">client.c:1916</a></div></div>
<div class="ttc" id="aclient_8c_html_af6c31e405a4fbf7b849f6074efd6af7d"><div class="ttname"><a href="../../dd/d93/client_8c.html#af6c31e405a4fbf7b849f6074efd6af7d">cli_advanced_command</a></div><div class="ttdeci">my_bool cli_advanced_command(MYSQL *mysql, enum enum_server_command command, const uchar *header, ulong header_length, const uchar *arg, ulong arg_length, my_bool skip_check, MYSQL_STMT *stmt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l00808">client.c:808</a></div></div>
<div class="ttc" id="aclient_8c_html_af75799330238561ab6a7242913827d81"><div class="ttname"><a href="../../dd/d93/client_8c.html#af75799330238561ab6a7242913827d81">flush_one_result</a></div><div class="ttdeci">my_bool flush_one_result(MYSQL *mysql)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l00893">client.c:893</a></div></div>
<div class="ttc" id="aclient_8c_html_af9572871c978640e582d2424cabc7123"><div class="ttname"><a href="../../dd/d93/client_8c.html#af9572871c978640e582d2424cabc7123">cli_read_rows</a></div><div class="ttdeci">MYSQL_DATA * cli_read_rows(MYSQL *mysql, MYSQL_FIELD *mysql_fields, unsigned int fields)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01537">client.c:1537</a></div></div>
<div class="ttc" id="aclient_8c_html_af9ba7bfff60df4693e88983a3adc52a9"><div class="ttname"><a href="../../dd/d93/client_8c.html#af9ba7bfff60df4693e88983a3adc52a9">mysql_close_free</a></div><div class="ttdeci">static void mysql_close_free(MYSQL *mysql)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l03595">client.c:3595</a></div></div>
<div class="ttc" id="aclient_8c_html_afa083ad989cbc1302375bfaf0f1ceb16"><div class="ttname"><a href="../../dd/d93/client_8c.html#afa083ad989cbc1302375bfaf0f1ceb16">mysql_client_builtins</a></div><div class="ttdeci">struct st_mysql_client_plugin * mysql_client_builtins[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l02297">client.c:2297</a></div></div>
<div class="ttc" id="aclient_8c_html_afb587699269dcf289e0452564207b7f1"><div class="ttname"><a href="../../dd/d93/client_8c.html#afb587699269dcf289e0452564207b7f1">mysql_num_fields</a></div><div class="ttdeci">unsigned int STDCALL mysql_num_fields(MYSQL_RES *res)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l04088">client.c:4088</a></div></div>
<div class="ttc" id="aclient_8c_html_afdc9b0138e97095cd25ea9dbef516fd8"><div class="ttname"><a href="../../dd/d93/client_8c.html#afdc9b0138e97095cd25ea9dbef516fd8">read_one_row</a></div><div class="ttdeci">static int read_one_row(MYSQL *mysql, uint fields, MYSQL_ROW row, ulong *lengths)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01640">client.c:1640</a></div></div>
<div class="ttc" id="aclient_8c_html_afe6608d49e1cd6ae1d9b5d0ba632fb98"><div class="ttname"><a href="../../dd/d93/client_8c.html#afe6608d49e1cd6ae1d9b5d0ba632fb98">mysql_read_default_options</a></div><div class="ttdeci">void mysql_read_default_options(struct st_mysql_options *options, const char *filename, const char *group)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01192">client.c:1192</a></div></div>
<div class="ttc" id="aclient__plugin_8h_html"><div class="ttname"><a href="../../da/d2f/client__plugin_8h.html">client_plugin.h</a></div></div>
<div class="ttc" id="aclient__plugin_8h_html_a6bb95288c33f992893496ff7a695a1bd"><div class="ttname"><a href="../../da/d2f/client__plugin_8h.html#a6bb95288c33f992893496ff7a695a1bd">MYSQL_CLIENT_AUTHENTICATION_PLUGIN_INTERFACE_VERSION</a></div><div class="ttdeci">#define MYSQL_CLIENT_AUTHENTICATION_PLUGIN_INTERFACE_VERSION</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d2f/client__plugin_8h_source.html#l00036">client_plugin.h:36</a></div></div>
<div class="ttc" id="aclient__plugin_8h_html_ac331fa93e8cf7e34bf6c4077d7783da0"><div class="ttname"><a href="../../da/d2f/client__plugin_8h.html#ac331fa93e8cf7e34bf6c4077d7783da0">mysql_client_find_plugin</a></div><div class="ttdeci">struct st_mysql_client_plugin * mysql_client_find_plugin(struct st_mysql *mysql, const char *name, int type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d08/client__plugin_8c_source.html#l00432">client_plugin.c:432</a></div></div>
<div class="ttc" id="aclient__plugin_8h_html_afb1e5ef94f39fd38147347a56c64e540"><div class="ttname"><a href="../../da/d2f/client__plugin_8h.html#afb1e5ef94f39fd38147347a56c64e540">MYSQL_CLIENT_AUTHENTICATION_PLUGIN</a></div><div class="ttdeci">#define MYSQL_CLIENT_AUTHENTICATION_PLUGIN</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d2f/client__plugin_8h_source.html#l00034">client_plugin.h:34</a></div></div>
<div class="ttc" id="aclient__settings_8h_html"><div class="ttname"><a href="../../d5/dcc/client__settings_8h.html">client_settings.h</a></div></div>
<div class="ttc" id="aclient__settings_8h_html_a3dfea418d32a7bf304738c5dd38b8d4d"><div class="ttname"><a href="../../d5/dcc/client__settings_8h.html#a3dfea418d32a7bf304738c5dd38b8d4d">cli_read_binary_rows</a></div><div class="ttdeci">int cli_read_binary_rows(MYSQL_STMT *stmt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d0a/libmysql_8c_source.html#l04224">libmysql.c:4224</a></div></div>
<div class="ttc" id="aclient__settings_8h_html_a42b3fbd9996fcdda901bb70b12e3467e"><div class="ttname"><a href="../../d5/dcc/client__settings_8h.html#a42b3fbd9996fcdda901bb70b12e3467e">cli_stmt_execute</a></div><div class="ttdeci">int cli_stmt_execute(MYSQL_STMT *stmt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d0a/libmysql_8c_source.html#l02053">libmysql.c:2053</a></div></div>
<div class="ttc" id="aclient__settings_8h_html_a459abde5b69aed21b0141bdb8744c301"><div class="ttname"><a href="../../d5/dcc/client__settings_8h.html#a459abde5b69aed21b0141bdb8744c301">cli_list_fields</a></div><div class="ttdeci">MYSQL_FIELD * cli_list_fields(MYSQL *mysql)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d0a/libmysql_8c_source.html#l00792">libmysql.c:792</a></div></div>
<div class="ttc" id="aclient__settings_8h_html_a5d319c7af028282e30657fb51e5cfe37"><div class="ttname"><a href="../../d5/dcc/client__settings_8h.html#a5d319c7af028282e30657fb51e5cfe37">read_user_name</a></div><div class="ttdeci">void read_user_name(char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d0a/libmysql_8c_source.html#l00405">libmysql.c:405</a></div></div>
<div class="ttc" id="aclient__settings_8h_html_a6c8eaf08bfa24ae8907b1eeebbc41c59"><div class="ttname"><a href="../../d5/dcc/client__settings_8h.html#a6c8eaf08bfa24ae8907b1eeebbc41c59">handle_local_infile</a></div><div class="ttdeci">my_bool handle_local_infile(MYSQL *mysql, const char *net_filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d0a/libmysql_8c_source.html#l00443">libmysql.c:443</a></div></div>
<div class="ttc" id="aclient__settings_8h_html_a74badfdef7cc00b006ffa5ed37625593"><div class="ttname"><a href="../../d5/dcc/client__settings_8h.html#a74badfdef7cc00b006ffa5ed37625593">cli_read_prepare_result</a></div><div class="ttdeci">my_bool cli_read_prepare_result(MYSQL *mysql, MYSQL_STMT *stmt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d0a/libmysql_8c_source.html#l01394">libmysql.c:1394</a></div></div>
<div class="ttc" id="aclient__settings_8h_html_a8e11e980d6c108cda2a1473d4bf15944"><div class="ttname"><a href="../../d5/dcc/client__settings_8h.html#a8e11e980d6c108cda2a1473d4bf15944">CLIENT_CAPABILITIES</a></div><div class="ttdeci">#define CLIENT_CAPABILITIES</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dcc/client__settings_8h_source.html#l00025">client_settings.h:25</a></div></div>
<div class="ttc" id="aclient__settings_8h_html_acdb2fdac73f4800ecec1f2cdddc500d1"><div class="ttname"><a href="../../d5/dcc/client__settings_8h.html#acdb2fdac73f4800ecec1f2cdddc500d1">cli_unbuffered_fetch</a></div><div class="ttdeci">int cli_unbuffered_fetch(MYSQL *mysql, char **row)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d0a/libmysql_8c_source.html#l04125">libmysql.c:4125</a></div></div>
<div class="ttc" id="aclient__settings_8h_html_ad166f8dd58038aec54c7e137c257c17e"><div class="ttname"><a href="../../d5/dcc/client__settings_8h.html#ad166f8dd58038aec54c7e137c257c17e">cli_read_statistics</a></div><div class="ttdeci">const char * cli_read_statistics(MYSQL *mysql)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d0a/libmysql_8c_source.html#l00937">libmysql.c:937</a></div></div>
<div class="ttc" id="acolor_8h_html_a5237d5a1dab3f47a095266bf83d2b5ea"><div class="ttname"><a href="../../da/dec/color_8h.html#a5237d5a1dab3f47a095266bf83d2b5ea">format</a></div><div class="ttdeci">std::basic_string&lt; Char &gt; format(const text_style &amp;ts, const S &amp;format_str, const Args &amp;... args)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dec/color_8h_source.html#l00583">color.h:583</a></div></div>
<div class="ttc" id="adbug__long_8h_html_a2d990f1c0bd095fcbac9c6596274be55"><div class="ttname"><a href="../../d1/d35/dbug__long_8h.html#a2d990f1c0bd095fcbac9c6596274be55">DBUG_VOID_RETURN</a></div><div class="ttdeci">#define DBUG_VOID_RETURN</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d35/dbug__long_8h_source.html#l00140">dbug_long.h:140</a></div></div>
<div class="ttc" id="adbug__long_8h_html_a3770d2ff545ed3e4b714d20014e663df"><div class="ttname"><a href="../../d1/d35/dbug__long_8h.html#a3770d2ff545ed3e4b714d20014e663df">DBUG_PRINT</a></div><div class="ttdeci">#define DBUG_PRINT(keyword, arglist)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d35/dbug__long_8h_source.html#l00143">dbug_long.h:143</a></div></div>
<div class="ttc" id="adbug__long_8h_html_a56a51e0edb39d13c83021fd4e7bdc9e9"><div class="ttname"><a href="../../d1/d35/dbug__long_8h.html#a56a51e0edb39d13c83021fd4e7bdc9e9">DBUG_ENTER</a></div><div class="ttdeci">#define DBUG_ENTER(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d35/dbug__long_8h_source.html#l00131">dbug_long.h:131</a></div></div>
<div class="ttc" id="adbug__long_8h_html_a986ff5ad8d1d935c5d8b0df13b6965a5"><div class="ttname"><a href="../../d1/d35/dbug__long_8h.html#a986ff5ad8d1d935c5d8b0df13b6965a5">DBUG_DUMP</a></div><div class="ttdeci">#define DBUG_DUMP(keyword, a1, a2)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d35/dbug__long_8h_source.html#l00159">dbug_long.h:159</a></div></div>
<div class="ttc" id="adbug__long_8h_html_af63d1bddf8957387d14fe70b8db22b96"><div class="ttname"><a href="../../d1/d35/dbug__long_8h.html#af63d1bddf8957387d14fe70b8db22b96">DBUG_RETURN</a></div><div class="ttdeci">#define DBUG_RETURN(a1)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d35/dbug__long_8h_source.html#l00138">dbug_long.h:138</a></div></div>
<div class="ttc" id="aerrmsg_8h_html"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html">errmsg.h</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_a011cc28c651cfbcb413b643489e21a4a"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#a011cc28c651cfbcb413b643489e21a4a">CR_NAMEDPIPESETSTATE_ERROR</a></div><div class="ttdeci">#define CR_NAMEDPIPESETSTATE_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00060">errmsg.h:60</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_a057dc122082ea5b47db99487107a48b6"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#a057dc122082ea5b47db99487107a48b6">CR_SERVER_LOST</a></div><div class="ttdeci">#define CR_SERVER_LOST</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00055">errmsg.h:55</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_a1417629a0138810437b50d5b1b813658"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#a1417629a0138810437b50d5b1b813658">CR_SSL_CONNECTION_ERROR</a></div><div class="ttdeci">#define CR_SSL_CONNECTION_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00068">errmsg.h:68</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_a16423b2845e53b9b46b708916dc25f41"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#a16423b2845e53b9b46b708916dc25f41">CR_VERSION_ERROR</a></div><div class="ttdeci">#define CR_VERSION_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00049">errmsg.h:49</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_a17ae16c479ee62f2675a7023d88c66a3"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#a17ae16c479ee62f2675a7023d88c66a3">CR_NAMEDPIPE_CONNECTION</a></div><div class="ttdeci">#define CR_NAMEDPIPE_CONNECTION</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00057">errmsg.h:57</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_a2863b7b46205e28c468e5f4c43292219"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#a2863b7b46205e28c468e5f4c43292219">CR_WRONG_LICENSE</a></div><div class="ttdeci">#define CR_WRONG_LICENSE</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00070">errmsg.h:70</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_a2943d879c4463f77aebf37a8ef01483d"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#a2943d879c4463f77aebf37a8ef01483d">CR_MALFORMED_PACKET</a></div><div class="ttdeci">#define CR_MALFORMED_PACKET</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00069">errmsg.h:69</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_a29c74cfa766ed8c2e06718a52b0b60ee"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#a29c74cfa766ed8c2e06718a52b0b60ee">CR_SERVER_GONE_ERROR</a></div><div class="ttdeci">#define CR_SERVER_GONE_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00048">errmsg.h:48</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_a2ade0496d13411711dfa6a8503507d38"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#a2ade0496d13411711dfa6a8503507d38">CR_OUT_OF_MEMORY</a></div><div class="ttdeci">#define CR_OUT_OF_MEMORY</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00050">errmsg.h:50</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_a2ecadb9de0c8da7afbeec449d8817706"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#a2ecadb9de0c8da7afbeec449d8817706">CR_SERVER_HANDSHAKE_ERR</a></div><div class="ttdeci">#define CR_SERVER_HANDSHAKE_ERR</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00054">errmsg.h:54</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_a3938cfd7872f08ae5c443669ec5e2583"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#a3938cfd7872f08ae5c443669ec5e2583">CR_SHARED_MEMORY_EVENT_ERROR</a></div><div class="ttdeci">#define CR_SHARED_MEMORY_EVENT_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00089">errmsg.h:89</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_a41077e45f70366587bf3b209eff3196d"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#a41077e45f70366587bf3b209eff3196d">CR_CANT_READ_CHARSET</a></div><div class="ttdeci">#define CR_CANT_READ_CHARSET</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00061">errmsg.h:61</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_a4894e9c9e390f10ecfa47c12e35b300f"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#a4894e9c9e390f10ecfa47c12e35b300f">CR_UNKNOWN_ERROR</a></div><div class="ttdeci">#define CR_UNKNOWN_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00042">errmsg.h:42</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_a5012c5e15c2bc7dfc1ea357bed99c7dd"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#a5012c5e15c2bc7dfc1ea357bed99c7dd">CR_STMT_CLOSED</a></div><div class="ttdeci">#define CR_STMT_CLOSED</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00101">errmsg.h:101</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_a5d2905cb9a1e63ad8a95b707c43a5a7c"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#a5d2905cb9a1e63ad8a95b707c43a5a7c">CR_NET_PACKET_TOO_LARGE</a></div><div class="ttdeci">#define CR_NET_PACKET_TOO_LARGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00062">errmsg.h:62</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_a600dcb543ece179af5b8d7d9a5e48c73"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#a600dcb543ece179af5b8d7d9a5e48c73">CR_TCP_CONNECTION</a></div><div class="ttdeci">#define CR_TCP_CONNECTION</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00053">errmsg.h:53</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_a63dbea7801227ead1648f06f4a88479f"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#a63dbea7801227ead1648f06f4a88479f">CR_SHARED_MEMORY_MAP_ERROR</a></div><div class="ttdeci">#define CR_SHARED_MEMORY_MAP_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00088">errmsg.h:88</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_a7016c12960e297a10d00aae59692314c"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#a7016c12960e297a10d00aae59692314c">CR_UNKNOWN_HOST</a></div><div class="ttdeci">#define CR_UNKNOWN_HOST</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00047">errmsg.h:47</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_a702c2452699e97f050d9780a5c85a241"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#a702c2452699e97f050d9780a5c85a241">CR_SHARED_MEMORY_CONNECT_MAP_ERROR</a></div><div class="ttdeci">#define CR_SHARED_MEMORY_CONNECT_MAP_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00086">errmsg.h:86</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_a7093123b1434d11ee5a96d397838929b"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#a7093123b1434d11ee5a96d397838929b">CR_FETCH_CANCELED</a></div><div class="ttdeci">#define CR_FETCH_CANCELED</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00095">errmsg.h:95</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_a751da60ba507c1b1edc19a93ead569c5"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#a751da60ba507c1b1edc19a93ead569c5">CR_NAMEDPIPEWAIT_ERROR</a></div><div class="ttdeci">#define CR_NAMEDPIPEWAIT_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00058">errmsg.h:58</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_a89847e08712cd2f6e98d868d8fa646be"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#a89847e08712cd2f6e98d868d8fa646be">CR_CONNECTION_ERROR</a></div><div class="ttdeci">#define CR_CONNECTION_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00044">errmsg.h:44</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_a8a8ff690211f32ba2e54e26374933f0d"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#a8a8ff690211f32ba2e54e26374933f0d">CR_NAMEDPIPEOPEN_ERROR</a></div><div class="ttdeci">#define CR_NAMEDPIPEOPEN_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00059">errmsg.h:59</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_a90fe79a7b697875fb6d80217c9891140"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#a90fe79a7b697875fb6d80217c9891140">CR_ALREADY_CONNECTED</a></div><div class="ttdeci">#define CR_ALREADY_CONNECTED</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00103">errmsg.h:103</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_a94765c7f696f09025181d65ebd7d5f8d"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#a94765c7f696f09025181d65ebd7d5f8d">CR_SHARED_MEMORY_CONNECT_REQUEST_ERROR</a></div><div class="ttdeci">#define CR_SHARED_MEMORY_CONNECT_REQUEST_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00083">errmsg.h:83</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_a94c9c80cbafa6b48f5d7d5e2ef4de22e"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#a94c9c80cbafa6b48f5d7d5e2ef4de22e">CR_COMMANDS_OUT_OF_SYNC</a></div><div class="ttdeci">#define CR_COMMANDS_OUT_OF_SYNC</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00056">errmsg.h:56</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_a9e491584429614c1022973f3e0a3123c"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#a9e491584429614c1022973f3e0a3123c">CR_SHARED_MEMORY_CONNECT_ANSWER_ERROR</a></div><div class="ttdeci">#define CR_SHARED_MEMORY_CONNECT_ANSWER_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00084">errmsg.h:84</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_aafaa4c71cf8630cb2328550c6f2e9b67"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#aafaa4c71cf8630cb2328550c6f2e9b67">CR_IPSOCK_ERROR</a></div><div class="ttdeci">#define CR_IPSOCK_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00046">errmsg.h:46</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_ab5fe34e187eafb313120e43ac1032caf"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#ab5fe34e187eafb313120e43ac1032caf">CR_SHARED_MEMORY_FILE_MAP_ERROR</a></div><div class="ttdeci">#define CR_SHARED_MEMORY_FILE_MAP_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00087">errmsg.h:87</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_ab650249d3b11297660a204ebf6f3bc66"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#ab650249d3b11297660a204ebf6f3bc66">CR_SHARED_MEMORY_CONNECT_ABANDONED_ERROR</a></div><div class="ttdeci">#define CR_SHARED_MEMORY_CONNECT_ABANDONED_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00090">errmsg.h:90</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_ab72fd21dd4280e882c61b857fe2e9935"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#ab72fd21dd4280e882c61b857fe2e9935">CR_SHARED_MEMORY_CONNECTION</a></div><div class="ttdeci">#define CR_SHARED_MEMORY_CONNECTION</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00082">errmsg.h:82</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_ab797865ea4d25f9fc537af74f610994d"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#ab797865ea4d25f9fc537af74f610994d">CR_SERVER_LOST_EXTENDED</a></div><div class="ttdeci">#define CR_SERVER_LOST_EXTENDED</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00100">errmsg.h:100</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_abce4bba95259f6b19e4504352829ffd1"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#abce4bba95259f6b19e4504352829ffd1">CR_SECURE_AUTH</a></div><div class="ttdeci">#define CR_SECURE_AUTH</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00094">errmsg.h:94</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_abd90490ab1b7cbb6d64329ea416f3911"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#abd90490ab1b7cbb6d64329ea416f3911">CR_LOCALHOST_CONNECTION</a></div><div class="ttdeci">#define CR_LOCALHOST_CONNECTION</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00052">errmsg.h:52</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_ac5efd8a360b9de0ba36c6dbb4ef0d2f8"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#ac5efd8a360b9de0ba36c6dbb4ef0d2f8">CR_SOCKET_CREATE_ERROR</a></div><div class="ttdeci">#define CR_SOCKET_CREATE_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00043">errmsg.h:43</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_ac996b6b9b0e0399c3afb9f7bd9ddcbd3"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#ac996b6b9b0e0399c3afb9f7bd9ddcbd3">CR_CONN_HOST_ERROR</a></div><div class="ttdeci">#define CR_CONN_HOST_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00045">errmsg.h:45</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_ace925cd47958e0c5ea4cd685fafe66d4"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#ace925cd47958e0c5ea4cd685fafe66d4">CR_SHARED_MEMORY_CONNECT_FILE_MAP_ERROR</a></div><div class="ttdeci">#define CR_SHARED_MEMORY_CONNECT_FILE_MAP_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00085">errmsg.h:85</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_ae6a8e2ca4b909b9f8f908ae4cf9799ba"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#ae6a8e2ca4b909b9f8f908ae4cf9799ba">CR_SHARED_MEMORY_CONNECT_SET_ERROR</a></div><div class="ttdeci">#define CR_SHARED_MEMORY_CONNECT_SET_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00091">errmsg.h:91</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_aeaa629c66168e14fa5ebaeb696f94c6a"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#aeaa629c66168e14fa5ebaeb696f94c6a">CR_CONN_UNKNOW_PROTOCOL</a></div><div class="ttdeci">#define CR_CONN_UNKNOW_PROTOCOL</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00092">errmsg.h:92</a></div></div>
<div class="ttc" id="aerrmsg_8h_html_aebb14b75067e2136e3d73b5446b5346c"><div class="ttname"><a href="../../d8/d50/errmsg_8h.html#aebb14b75067e2136e3d73b5446b5346c">ER</a></div><div class="ttdeci">#define ER(X)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d50/errmsg_8h_source.html#l00035">errmsg.h:35</a></div></div>
<div class="ttc" id="afmt_2include_2fmt_2core_8h_html_a2c8e80c1b1c8b7747e99b8e9a24a0429"><div class="ttname"><a href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a2c8e80c1b1c8b7747e99b8e9a24a0429">arg</a></div><div class="ttdeci">auto arg(const Char *name, const T &amp;arg) -&gt; detail::named_arg&lt; Char, T &gt;</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d71/fmt_2include_2fmt_2core_8h_source.html#l01725">core.h:1725</a></div></div>
<div class="ttc" id="afmt_2include_2fmt_2format_8h_html_adb6e274f8eb0b74b2865215e1b49c535"><div class="ttname"><a href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a></div><div class="ttdeci">auto ptr(T p) -&gt; const void *</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddf/fmt_2include_2fmt_2format_8h_source.html#l02451">format.h:2451</a></div></div>
<div class="ttc" id="ajemalloc__internal_8h_html_ae89ee89f41328ac0ade1e3e26c103570"><div class="ttname"><a href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a></div><div class="ttdeci">arena_t NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">jemalloc_internal.h:624</a></div></div>
<div class="ttc" id="alocale_8h_html"><div class="ttname"><a href="../../db/d9f/locale_8h.html">locale.h</a></div></div>
<div class="ttc" id="am__ctype_8h_html"><div class="ttname"><a href="../../d8/dd3/m__ctype_8h.html">m_ctype.h</a></div></div>
<div class="ttc" id="am__ctype_8h_html_a022686dd31fec7303576d0181403e78b"><div class="ttname"><a href="../../d8/dd3/m__ctype_8h.html#a022686dd31fec7303576d0181403e78b">MY_CS_PRIMARY</a></div><div class="ttdeci">#define MY_CS_PRIMARY</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dd3/m__ctype_8h_source.html#l00100">m_ctype.h:100</a></div></div>
<div class="ttc" id="am__ctype_8h_html_a1dcee5221954ab149be28bbdcbc72d0f"><div class="ttname"><a href="../../d8/dd3/m__ctype_8h.html#a1dcee5221954ab149be28bbdcbc72d0f">MY_CS_NAME_SIZE</a></div><div class="ttdeci">#define MY_CS_NAME_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dd3/m__ctype_8h_source.html#l00030">m_ctype.h:30</a></div></div>
<div class="ttc" id="am__ctype_8h_html_a532db9bd70f331abb8f79bcab5ccc4f9"><div class="ttname"><a href="../../d8/dd3/m__ctype_8h.html#a532db9bd70f331abb8f79bcab5ccc4f9">my_strcasecmp</a></div><div class="ttdeci">#define my_strcasecmp(s, a, b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dd3/m__ctype_8h_source.html#l00628">m_ctype.h:628</a></div></div>
<div class="ttc" id="am__ctype_8h_html_aa4bc5bb4f339afec426049fee727d701"><div class="ttname"><a href="../../d8/dd3/m__ctype_8h.html#aa4bc5bb4f339afec426049fee727d701">my_charset_latin1</a></div><div class="ttdeci">MYSQL_PLUGIN_IMPORT CHARSET_INFO my_charset_latin1</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dda/ctype-latin1_8c_source.html#l00419">ctype-latin1.c:419</a></div></div>
<div class="ttc" id="am__string_8h_html"><div class="ttname"><a href="../../d6/dda/m__string_8h.html">m_string.h</a></div></div>
<div class="ttc" id="am__string_8h_html_a04b183636e9adda2d78f0b28a2dd5c2c"><div class="ttname"><a href="../../d6/dda/m__string_8h.html#a04b183636e9adda2d78f0b28a2dd5c2c">int10_to_str</a></div><div class="ttdeci">char * int10_to_str(long val, char *dst, int radix)</div></div>
<div class="ttc" id="am__string_8h_html_a9076a773976ea9ed3e6bc0e868878a70"><div class="ttname"><a href="../../d6/dda/m__string_8h.html#a9076a773976ea9ed3e6bc0e868878a70">strcend</a></div><div class="ttdeci">char * strcend(const char *, pchar)</div></div>
<div class="ttc" id="am__string_8h_html_a9dbe4cdad9c2c12aaa30e04b073884e6"><div class="ttname"><a href="../../d6/dda/m__string_8h.html#a9dbe4cdad9c2c12aaa30e04b073884e6">strmov</a></div><div class="ttdeci">char * strmov(char *dst, const char *src)</div></div>
<div class="ttc" id="am__string_8h_html_ab21c8a48b0271e2ea1f8d4616dccbf98"><div class="ttname"><a href="../../d6/dda/m__string_8h.html#ab21c8a48b0271e2ea1f8d4616dccbf98">strend</a></div><div class="ttdeci">char * strend(const char *s)</div></div>
<div class="ttc" id="am__string_8h_html_ab3be5dcbbf1244672c14662b20f88b61"><div class="ttname"><a href="../../d6/dda/m__string_8h.html#ab3be5dcbbf1244672c14662b20f88b61">bzero</a></div><div class="ttdeci">#define bzero(A, B)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dda/m__string_8h_source.html#l00063">m_string.h:63</a></div></div>
<div class="ttc" id="am__string_8h_html_ac3cb9e44f3dff4c913b18456669a3002"><div class="ttname"><a href="../../d6/dda/m__string_8h.html#ac3cb9e44f3dff4c913b18456669a3002">memmove</a></div><div class="ttdeci">#define memmove(d, s, n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dda/m__string_8h_source.html#l00052">m_string.h:52</a></div></div>
<div class="ttc" id="am__string_8h_html_ac6508b65897fdf8d270e1c86d79de36b"><div class="ttname"><a href="../../d6/dda/m__string_8h.html#ac6508b65897fdf8d270e1c86d79de36b">strxnmov</a></div><div class="ttdeci">char * strxnmov(char *dst, size_t len, const char *src,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d98/strxnmov_8c_source.html#l00042">strxnmov.c:42</a></div></div>
<div class="ttc" id="am__string_8h_html_accb13dc1bbc754b77a9ecd9c3e832595"><div class="ttname"><a href="../../d6/dda/m__string_8h.html#accb13dc1bbc754b77a9ecd9c3e832595">strmake</a></div><div class="ttdeci">char * strmake(char *dst, const char *src, size_t length)</div></div>
<div class="ttc" id="am__string_8h_html_ae7f013658472c2eb2baf1b9deb93d21c"><div class="ttname"><a href="../../d6/dda/m__string_8h.html#ae7f013658472c2eb2baf1b9deb93d21c">strxmov</a></div><div class="ttdeci">char * strxmov(char *dst, const char *src,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc0/strxmov_8c_source.html#l00037">strxmov.c:37</a></div></div>
<div class="ttc" id="am__string_8h_html_aed653b4838032a2c5ce8960421c8cfd7"><div class="ttname"><a href="../../d6/dda/m__string_8h.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a></div><div class="ttdeci">#define memcpy(d, s, n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dda/m__string_8h_source.html#l00050">m_string.h:50</a></div></div>
<div class="ttc" id="am__string_8h_html_af1756e67d46227b3333bc21a1fadd361"><div class="ttname"><a href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a></div><div class="ttdeci">#define memset(A, C, B)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dda/m__string_8h_source.html#l00051">m_string.h:51</a></div></div>
<div class="ttc" id="am__string_8h_html_afe6c8d292674b212d3734add2240fa97"><div class="ttname"><a href="../../d6/dda/m__string_8h.html#afe6c8d292674b212d3734add2240fa97">strtoul</a></div><div class="ttdeci">ulong strtoul(const char *str, char **ptr, int base)</div></div>
<div class="ttc" id="aminigzip_8c_html_aee763da2c1c9da197307bad1d009513d"><div class="ttname"><a href="../../d3/dc6/minigzip_8c.html#aee763da2c1c9da197307bad1d009513d">error</a></div><div class="ttdeci">void error(char *msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc6/minigzip_8c_source.html#l00156">minigzip.c:156</a></div></div>
<div class="ttc" id="ampq-internal_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="../../d8/dec/mpq-internal_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dec/mpq-internal_8h_source.html#l00062">mpq-internal.h:62</a></div></div>
<div class="ttc" id="ampq-internal_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="../../d8/dec/mpq-internal_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dec/mpq-internal_8h_source.html#l00059">mpq-internal.h:59</a></div></div>
<div class="ttc" id="amy__attribute_8h_html_a4fb2431b46656ad0908c4e0195540182"><div class="ttname"><a href="../../d4/d72/my__attribute_8h.html#a4fb2431b46656ad0908c4e0195540182">__attribute__</a></div><div class="ttdeci">#define __attribute__(A)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d72/my__attribute_8h_source.html#l00038">my_attribute.h:38</a></div></div>
<div class="ttc" id="amy__dbug_8h_html_af5d75f213550ec27715b65d9bdfa45ec"><div class="ttname"><a href="../../d0/d74/my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a></div><div class="ttdeci">#define DBUG_ASSERT(A)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d74/my__dbug_8h_source.html#l00096">my_dbug.h:96</a></div></div>
<div class="ttc" id="amy__global_8h_html"><div class="ttname"><a href="../../d9/df6/my__global_8h.html">my_global.h</a></div></div>
<div class="ttc" id="amy__global_8h_html_a01a1e214486d9454ca611f01cb1cfc39"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#a01a1e214486d9454ca611f01cb1cfc39">NullS</a></div><div class="ttdeci">#define NullS</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00859">my_global.h:859</a></div></div>
<div class="ttc" id="amy__global_8h_html_a0d8b1eb12b1df133027257618fa791ba"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#a0d8b1eb12b1df133027257618fa791ba">C_MODE_START</a></div><div class="ttdeci">#define C_MODE_START</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00067">my_global.h:67</a></div></div>
<div class="ttc" id="amy__global_8h_html_a0fd6678904889e4aeff1402c35e890da"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#a0fd6678904889e4aeff1402c35e890da">FN_REFLEN</a></div><div class="ttdeci">#define FN_REFLEN</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00598">my_global.h:598</a></div></div>
<div class="ttc" id="amy__global_8h_html_a16b6cf0b1e75b701a4a8d303cc4a5abd"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#a16b6cf0b1e75b701a4a8d303cc4a5abd">array_elements</a></div><div class="ttdeci">#define array_elements(A)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00484">my_global.h:484</a></div></div>
<div class="ttc" id="amy__global_8h_html_a1b7a61d5ce08e51aa5ca0ea5542d6d34"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#a1b7a61d5ce08e51aa5ca0ea5542d6d34">uint4korr</a></div><div class="ttdeci">#define uint4korr(A)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l01153">my_global.h:1153</a></div></div>
<div class="ttc" id="amy__global_8h_html_a229ef3470200fcf0b825e61ef9b1b6ba"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#a229ef3470200fcf0b825e61ef9b1b6ba">int4store</a></div><div class="ttdeci">#define int4store(T, A)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l01186">my_global.h:1186</a></div></div>
<div class="ttc" id="amy__global_8h_html_a446cf449a6234c9b177309d5ba0852c0"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#a446cf449a6234c9b177309d5ba0852c0">STDCALL</a></div><div class="ttdeci">#define STDCALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00868">my_global.h:868</a></div></div>
<div class="ttc" id="amy__global_8h_html_a604b63506b0857bf76b616883aeb1099"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#a604b63506b0857bf76b616883aeb1099">int3store</a></div><div class="ttdeci">#define int3store(T, A)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l01181">my_global.h:1181</a></div></div>
<div class="ttc" id="amy__global_8h_html_a65f85814a8290f9797005d3b28e7e5fc"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a></div><div class="ttdeci">unsigned char uchar</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00874">my_global.h:874</a></div></div>
<div class="ttc" id="amy__global_8h_html_a6a3986e9f140942394f1105fa1edb7e1"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#a6a3986e9f140942394f1105fa1edb7e1">closesocket</a></div><div class="ttdeci">#define closesocket(A)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00981">my_global.h:981</a></div></div>
<div class="ttc" id="amy__global_8h_html_a6f6f61d5af9109734e58655847608da7"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#a6f6f61d5af9109734e58655847608da7">int2store</a></div><div class="ttdeci">#define int2store(T, A)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l01177">my_global.h:1177</a></div></div>
<div class="ttc" id="amy__global_8h_html_a718b4eb2652c286f4d42dc18a8e71a1a"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a></div><div class="ttdeci">unsigned long ulong</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00908">my_global.h:908</a></div></div>
<div class="ttc" id="amy__global_8h_html_a74cd599039dcf29c6e6d342cf4efd0a8"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#a74cd599039dcf29c6e6d342cf4efd0a8">my_bool</a></div><div class="ttdeci">char my_bool</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00992">my_global.h:992</a></div></div>
<div class="ttc" id="amy__global_8h_html_a77d0cbdfc63868118cb3f9ed89fbee18"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#a77d0cbdfc63868118cb3f9ed89fbee18">STRINGIFY_ARG</a></div><div class="ttdeci">#define STRINGIFY_ARG(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00422">my_global.h:422</a></div></div>
<div class="ttc" id="amy__global_8h_html_a78ebe90e173b58f4c96bf01168b23923"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#a78ebe90e173b58f4c96bf01168b23923">C_MODE_END</a></div><div class="ttdeci">#define C_MODE_END</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00068">my_global.h:68</a></div></div>
<div class="ttc" id="amy__global_8h_html_a91ad9478d81a7aaf2593e8d9c3d06a14"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a></div><div class="ttdeci">unsigned int uint</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00475">my_global.h:475</a></div></div>
<div class="ttc" id="amy__global_8h_html_a9e43281aa85682be01e2d77a3ee162d8"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#a9e43281aa85682be01e2d77a3ee162d8">socket_errno</a></div><div class="ttdeci">#define socket_errno</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00980">my_global.h:980</a></div></div>
<div class="ttc" id="amy__global_8h_html_aa6cd438f0d8653fd1e4d22046b0cb662"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#aa6cd438f0d8653fd1e4d22046b0cb662">test</a></div><div class="ttdeci">#define test(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00480">my_global.h:480</a></div></div>
<div class="ttc" id="amy__global_8h_html_ab38d7adb06b45fd1830a4d3940a6aca7"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#ab38d7adb06b45fd1830a4d3940a6aca7">compile_time_assert</a></div><div class="ttdeci">#define compile_time_assert(X)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00391">my_global.h:391</a></div></div>
<div class="ttc" id="amy__global_8h_html_ab3b3804e3bf2734c0f4f1c72f30df1bd"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a></div><div class="ttdeci">#define MYF(v)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00995">my_global.h:995</a></div></div>
<div class="ttc" id="amy__global_8h_html_ab95f123a6c9bcfee6a343170ef8c5f69"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a></div><div class="ttdeci">unsigned short ushort</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00476">my_global.h:476</a></div></div>
<div class="ttc" id="amy__global_8h_html_ac6afabdc09a49a433ee19d8a9486056d"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a></div><div class="ttdeci">#define min(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l01387">my_global.h:1387</a></div></div>
<div class="ttc" id="amy__global_8h_html_ad3ab276cdace5803541059d436c924ca"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#ad3ab276cdace5803541059d436c924ca">SOCKOPT_OPTLEN_TYPE</a></div><div class="ttdeci">#define SOCKOPT_OPTLEN_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00556">my_global.h:556</a></div></div>
<div class="ttc" id="amy__global_8h_html_ae05bd5d3e5a75578e2f14cfeb43f07aa"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#ae05bd5d3e5a75578e2f14cfeb43f07aa">my_ulonglong</a></div><div class="ttdeci">unsigned long long my_ulonglong</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00936">my_global.h:936</a></div></div>
<div class="ttc" id="amy__global_8h_html_aeb775a72848a1a71494c627e392fa777"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#aeb775a72848a1a71494c627e392fa777">uint2korr</a></div><div class="ttdeci">#define uint2korr(A)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l01148">my_global.h:1148</a></div></div>
<div class="ttc" id="amy__global_8h_html_aed973571b4b7eb2facd8c39e8b500bb6"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#aed973571b4b7eb2facd8c39e8b500bb6">my_socket</a></div><div class="ttdeci">int my_socket</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00524">my_global.h:524</a></div></div>
<div class="ttc" id="amy__global_8h_html_aedc96aeb04ad09b859442aadfc729cc2"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#aedc96aeb04ad09b859442aadfc729cc2">uint3korr</a></div><div class="ttdeci">#define uint3korr(A)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l01150">my_global.h:1150</a></div></div>
<div class="ttc" id="amy__list_8h_html_aed18cad350263cec89453b7afd548c7a"><div class="ttname"><a href="../../d4/dd5/my__list_8h.html#aed18cad350263cec89453b7afd548c7a">list_add</a></div><div class="ttdeci">LIST * list_add(LIST *root, LIST *element)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d40/list_8c_source.html#l00027">list.c:27</a></div></div>
<div class="ttc" id="amy__pthread_8h_html"><div class="ttname"><a href="../../da/da8/my__pthread_8h.html">my_pthread.h</a></div></div>
<div class="ttc" id="amy__sys_8h_html"><div class="ttname"><a href="../../db/da9/my__sys_8h.html">my_sys.h</a></div></div>
<div class="ttc" id="amy__sys_8h_html_a076f4a00cb543aff1bc05dd0ce8d06ef"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#a076f4a00cb543aff1bc05dd0ce8d06ef">convert_dirname</a></div><div class="ttdeci">char * convert_dirname(char *to, const char *from, const char *from_end)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/daf/mf__dirname_8c_source.html#l00104">mf_dirname.c:104</a></div></div>
<div class="ttc" id="amy__sys_8h_html_a0f42799530c5143f1b79f352f2ebef27"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#a0f42799530c5143f1b79f352f2ebef27">free_root</a></div><div class="ttdeci">void free_root(MEM_ROOT *root, myf MyFLAGS)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/db7/my__alloc_8c_source.html#l00347">my_alloc.c:347</a></div></div>
<div class="ttc" id="amy__sys_8h_html_a115124c3ebcbb4542773516497bb7325"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#a115124c3ebcbb4542773516497bb7325">my_printf_error</a></div><div class="ttdeci">void my_printf_error(uint my_err, const char *format, myf MyFlags,...) ATTRIBUTE_FORMAT(printf</div></div>
<div class="ttc" id="amy__sys_8h_html_a33a73f0921a74091ef65cecb3c383d9d"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#a33a73f0921a74091ef65cecb3c383d9d">init_alloc_root</a></div><div class="ttdeci">void init_alloc_root(MEM_ROOT *mem_root, size_t block_size, size_t pre_alloc_size)</div></div>
<div class="ttc" id="amy__sys_8h_html_a3a3ddffcaadb60b7715c9889f8c56afb"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#a3a3ddffcaadb60b7715c9889f8c56afb">my_free</a></div><div class="ttdeci">void my_free(void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d7c/my__malloc_8c_source.html#l00124">my_malloc.c:124</a></div></div>
<div class="ttc" id="amy__sys_8h_html_a3f77f6ad19d5d56fcc872df4d0d4ad2f"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#a3f77f6ad19d5d56fcc872df4d0d4ad2f">MY_FAE</a></div><div class="ttdeci">#define MY_FAE</div><div class="ttdef"><b>Definition:</b> <a href="../../db/da9/my__sys_8h_source.html#l00072">my_sys.h:72</a></div></div>
<div class="ttc" id="amy__sys_8h_html_a41d5683d936fc7d39c10fca168e1fbb5"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#a41d5683d936fc7d39c10fca168e1fbb5">my_time</a></div><div class="ttdeci">time_t my_time(myf flags)</div></div>
<div class="ttc" id="amy__sys_8h_html_a4921f2b355a65b5054cb2bbd15ba22ab"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#a4921f2b355a65b5054cb2bbd15ba22ab">my_strdup</a></div><div class="ttdeci">char * my_strdup(const char *from, myf MyFlags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d7c/my__malloc_8c_source.html#l00142">my_malloc.c:142</a></div></div>
<div class="ttc" id="amy__sys_8h_html_a4f71eee830470ffe3afea85f23539538"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#a4f71eee830470ffe3afea85f23539538">init_dynamic_array</a></div><div class="ttdeci">my_bool init_dynamic_array(DYNAMIC_ARRAY *array, uint element_size, uint init_alloc, uint alloc_increment)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dcc/array_8c_source.html#l00075">array.c:75</a></div></div>
<div class="ttc" id="amy__sys_8h_html_a51ff14a08d694508df268f6eb038fff4"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#a51ff14a08d694508df268f6eb038fff4">my_charset_same</a></div><div class="ttdeci">my_bool my_charset_same(CHARSET_INFO *cs1, CHARSET_INFO *cs2)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/charset_8c_source.html#l00034">charset.c:34</a></div></div>
<div class="ttc" id="amy__sys_8h_html_a532484a8b7e33a2a835db48b6de71d32"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#a532484a8b7e33a2a835db48b6de71d32">my_alloca</a></div><div class="ttdeci">#define my_alloca(SZ)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/da9/my__sys_8h_source.html#l00196">my_sys.h:196</a></div></div>
<div class="ttc" id="amy__sys_8h_html_a5bfedd56c8109d42cf754f48848c9305"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#a5bfedd56c8109d42cf754f48848c9305">free_defaults</a></div><div class="ttdeci">void free_defaults(char **argv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d88/default_8c_source.html#l00620">default.c:620</a></div></div>
<div class="ttc" id="amy__sys_8h_html_a6f105f505c1d966c36d549ed66e1a539"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#a6f105f505c1d966c36d549ed66e1a539">clear_alloc_root</a></div><div class="ttdeci">#define clear_alloc_root(A)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/da9/my__sys_8h_source.html#l00801">my_sys.h:801</a></div></div>
<div class="ttc" id="amy__sys_8h_html_a75d0b6953e2f61c24be6f71e1c324fb9"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#a75d0b6953e2f61c24be6f71e1c324fb9">alloc_root</a></div><div class="ttdeci">void * alloc_root(MEM_ROOT *mem_root, size_t Size)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/db7/my__alloc_8c_source.html#l00148">my_alloc.c:148</a></div></div>
<div class="ttc" id="amy__sys_8h_html_a8f7b30ff5d0e10610637aa30c3e0048b"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#a8f7b30ff5d0e10610637aa30c3e0048b">my_malloc</a></div><div class="ttdeci">void * my_malloc(size_t Size, myf MyFlags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d7c/my__malloc_8c_source.html#l00028">my_malloc.c:28</a></div></div>
<div class="ttc" id="amy__sys_8h_html_a95e2a52417433d23f6b8825c52ee9197"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#a95e2a52417433d23f6b8825c52ee9197">MY_WME</a></div><div class="ttdeci">#define MY_WME</div><div class="ttdef"><b>Definition:</b> <a href="../../db/da9/my__sys_8h_source.html#l00073">my_sys.h:73</a></div></div>
<div class="ttc" id="amy__sys_8h_html_aa11d1f637e0f5b2092fd384dd592f91e"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#aa11d1f637e0f5b2092fd384dd592f91e">my_load_defaults</a></div><div class="ttdeci">int my_load_defaults(const char *conf_file, const char **groups, int *argc, char ***argv, const char ***)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d88/default_8c_source.html#l00494">default.c:494</a></div></div>
<div class="ttc" id="amy__sys_8h_html_aa9cde2cb17c7b3008c8b06016c20194a"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#aa9cde2cb17c7b3008c8b06016c20194a">strmake_root</a></div><div class="ttdeci">char * strmake_root(MEM_ROOT *root, const char *str, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/db7/my__alloc_8c_source.html#l00418">my_alloc.c:418</a></div></div>
<div class="ttc" id="amy__sys_8h_html_aab0fc8c3c77d52e14b3913399ee9beef"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#aab0fc8c3c77d52e14b3913399ee9beef">args_separator</a></div><div class="ttdeci">const char * args_separator</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d88/default_8c_source.html#l00066">default.c:66</a></div></div>
<div class="ttc" id="amy__sys_8h_html_aab4687f9c5a97339f3f037777c7636f0"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#aab4687f9c5a97339f3f037777c7636f0">my_multi_malloc</a></div><div class="ttdeci">void * my_multi_malloc(myf MyFlags,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dd0/mulalloc_8c_source.html#l00034">mulalloc.c:34</a></div></div>
<div class="ttc" id="amy__sys_8h_html_abd87232eee6027cb155f2dc978769bcc"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#abd87232eee6027cb155f2dc978769bcc">delete_dynamic</a></div><div class="ttdeci">void delete_dynamic(DYNAMIC_ARRAY *array)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dcc/array_8c_source.html#l00298">array.c:298</a></div></div>
<div class="ttc" id="amy__sys_8h_html_abf10515a3f1b19855e05753bd98f7fae"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#abf10515a3f1b19855e05753bd98f7fae">get_charset_by_csname</a></div><div class="ttdeci">CHARSET_INFO * get_charset_by_csname(const char *cs_name, uint cs_flags, myf my_flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/charset_8c_source.html#l00629">charset.c:629</a></div></div>
<div class="ttc" id="amy__sys_8h_html_acb317235c7ccfe72689b037a4ab9a40b"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#acb317235c7ccfe72689b037a4ab9a40b">insert_dynamic</a></div><div class="ttdeci">my_bool insert_dynamic(DYNAMIC_ARRAY *array, uchar *element)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dcc/array_8c_source.html#l00095">array.c:95</a></div></div>
<div class="ttc" id="amy__sys_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="amy__sys_8h_html_ad731e8b0058e071ec76b563bf4ad0e42"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#ad731e8b0058e071ec76b563bf4ad0e42">my_realpath</a></div><div class="ttdeci">int my_realpath(char *to, const char *filename, myf MyFlags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d20/my__symlink_8c_source.html#l00121">my_symlink.c:121</a></div></div>
<div class="ttc" id="amy__sys_8h_html_ad7812723c4d0baddbd236386ba733cfb"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#ad7812723c4d0baddbd236386ba733cfb">get_charsets_dir</a></div><div class="ttdeci">char * get_charsets_dir(char *buf)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/charset_8c_source.html#l00395">charset.c:395</a></div></div>
<div class="ttc" id="amy__sys_8h_html_ae2640dd0c28ca3503c2dbf7c19001e40"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#ae2640dd0c28ca3503c2dbf7c19001e40">get_charset_by_name</a></div><div class="ttdeci">CHARSET_INFO * get_charset_by_name(const char *cs_name, myf flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/charset_8c_source.html#l00609">charset.c:609</a></div></div>
<div class="ttc" id="amy__sys_8h_html_af9a1809cc617261f4e10df31ad4039b9"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#af9a1809cc617261f4e10df31ad4039b9">strdup_root</a></div><div class="ttdeci">char * strdup_root(MEM_ROOT *root, const char *str)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/db7/my__alloc_8c_source.html#l00412">my_alloc.c:412</a></div></div>
<div class="ttc" id="amy__sys_8h_html_af9cb7f78e8f902070fc0b12bb2cef074"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#af9cb7f78e8f902070fc0b12bb2cef074">charsets_dir</a></div><div class="ttdeci">const char * charsets_dir</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/charset_8c_source.html#l00354">charset.c:354</a></div></div>
<div class="ttc" id="amy__sys_8h_html_afc5dd02e4d18f23a51c9db57c96a22ae"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#afc5dd02e4d18f23a51c9db57c96a22ae">my_afree</a></div><div class="ttdeci">#define my_afree(PTR)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/da9/my__sys_8h_source.html#l00197">my_sys.h:197</a></div></div>
<div class="ttc" id="amy__sys_8h_html_afdc3af41c5a4b3f9dd74dd523f41c34c"><div class="ttname"><a href="../../db/da9/my__sys_8h.html#afdc3af41c5a4b3f9dd74dd523f41c34c">MY_ZEROFILL</a></div><div class="ttdeci">#define MY_ZEROFILL</div><div class="ttdef"><b>Definition:</b> <a href="../../db/da9/my__sys_8h_source.html#l00088">my_sys.h:88</a></div></div>
<div class="ttc" id="amysql_8h_html"><div class="ttname"><a href="../../de/d53/mysql_8h.html">mysql.h</a></div></div>
<div class="ttc" id="amysql_8h_html_a255d4e9a14d73dde30125232fefac836"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836">mysql_option</a></div><div class="ttdeci">mysql_option</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00159">mysql.h:160</a></div></div>
<div class="ttc" id="amysql_8h_html_a255d4e9a14d73dde30125232fefac836a04b7361eec201f2f90932f93bcf9f037"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836a04b7361eec201f2f90932f93bcf9f037">MYSQL_OPT_CONNECT_TIMEOUT</a></div><div class="ttdeci">@ MYSQL_OPT_CONNECT_TIMEOUT</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00161">mysql.h:161</a></div></div>
<div class="ttc" id="amysql_8h_html_a255d4e9a14d73dde30125232fefac836a0988d7276abb518e1ff4cd537e665614"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836a0988d7276abb518e1ff4cd537e665614">MYSQL_OPT_COMPRESS</a></div><div class="ttdeci">@ MYSQL_OPT_COMPRESS</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00161">mysql.h:161</a></div></div>
<div class="ttc" id="amysql_8h_html_a255d4e9a14d73dde30125232fefac836a1fd59047f371393a78a0ec4b09b1a2ec"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836a1fd59047f371393a78a0ec4b09b1a2ec">MYSQL_SET_CHARSET_DIR</a></div><div class="ttdeci">@ MYSQL_SET_CHARSET_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00163">mysql.h:163</a></div></div>
<div class="ttc" id="amysql_8h_html_a255d4e9a14d73dde30125232fefac836a21b624547ab25edba1a0beef2db05102"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836a21b624547ab25edba1a0beef2db05102">MYSQL_OPT_GUESS_CONNECTION</a></div><div class="ttdeci">@ MYSQL_OPT_GUESS_CONNECTION</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00167">mysql.h:167</a></div></div>
<div class="ttc" id="amysql_8h_html_a255d4e9a14d73dde30125232fefac836a2463564004516e07cfc764e01cd88188"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836a2463564004516e07cfc764e01cd88188">MYSQL_OPT_PROTOCOL</a></div><div class="ttdeci">@ MYSQL_OPT_PROTOCOL</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00164">mysql.h:164</a></div></div>
<div class="ttc" id="amysql_8h_html_a255d4e9a14d73dde30125232fefac836a3b976fb0fe320dc1367684d94995c04b"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836a3b976fb0fe320dc1367684d94995c04b">MYSQL_SECURE_AUTH</a></div><div class="ttdeci">@ MYSQL_SECURE_AUTH</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00167">mysql.h:167</a></div></div>
<div class="ttc" id="amysql_8h_html_a255d4e9a14d73dde30125232fefac836a40fd988ef9d515d8df1b605cb41d6a5b"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836a40fd988ef9d515d8df1b605cb41d6a5b">MYSQL_OPT_LOCAL_INFILE</a></div><div class="ttdeci">@ MYSQL_OPT_LOCAL_INFILE</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00163">mysql.h:163</a></div></div>
<div class="ttc" id="amysql_8h_html_a255d4e9a14d73dde30125232fefac836a461fe7e7c0a4db27856221e369d1f7b9"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836a461fe7e7c0a4db27856221e369d1f7b9">MYSQL_OPT_USE_REMOTE_CONNECTION</a></div><div class="ttdeci">@ MYSQL_OPT_USE_REMOTE_CONNECTION</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00166">mysql.h:166</a></div></div>
<div class="ttc" id="amysql_8h_html_a255d4e9a14d73dde30125232fefac836a48965936f489f785236feef5f2890511"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836a48965936f489f785236feef5f2890511">MYSQL_SET_CHARSET_NAME</a></div><div class="ttdeci">@ MYSQL_SET_CHARSET_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00163">mysql.h:163</a></div></div>
<div class="ttc" id="amysql_8h_html_a255d4e9a14d73dde30125232fefac836a5a48bd0ecdd7b6996619fe37403cac03"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836a5a48bd0ecdd7b6996619fe37403cac03">MYSQL_SHARED_MEMORY_BASE_NAME</a></div><div class="ttdeci">@ MYSQL_SHARED_MEMORY_BASE_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00164">mysql.h:164</a></div></div>
<div class="ttc" id="amysql_8h_html_a255d4e9a14d73dde30125232fefac836a7100a11b3f4e9cc485dcd8a64bb51fb0"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836a7100a11b3f4e9cc485dcd8a64bb51fb0">MYSQL_OPT_READ_TIMEOUT</a></div><div class="ttdeci">@ MYSQL_OPT_READ_TIMEOUT</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00164">mysql.h:164</a></div></div>
<div class="ttc" id="amysql_8h_html_a255d4e9a14d73dde30125232fefac836a7f9865ca3978f5a1abadbaf00f93c0b9"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836a7f9865ca3978f5a1abadbaf00f93c0b9">MYSQL_OPT_WRITE_TIMEOUT</a></div><div class="ttdeci">@ MYSQL_OPT_WRITE_TIMEOUT</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00165">mysql.h:165</a></div></div>
<div class="ttc" id="amysql_8h_html_a255d4e9a14d73dde30125232fefac836a8747191a8e80029184f4275c31a12ec9"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836a8747191a8e80029184f4275c31a12ec9">MYSQL_SET_CLIENT_IP</a></div><div class="ttdeci">@ MYSQL_SET_CLIENT_IP</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00167">mysql.h:167</a></div></div>
<div class="ttc" id="amysql_8h_html_a255d4e9a14d73dde30125232fefac836aa3fff32c09f78dd3561f62841868e82c"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836aa3fff32c09f78dd3561f62841868e82c">MYSQL_READ_DEFAULT_GROUP</a></div><div class="ttdeci">@ MYSQL_READ_DEFAULT_GROUP</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00162">mysql.h:162</a></div></div>
<div class="ttc" id="amysql_8h_html_a255d4e9a14d73dde30125232fefac836aa7bea62884133eeafafafde9c7433cd2"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836aa7bea62884133eeafafafde9c7433cd2">MYSQL_OPT_SSL_VERIFY_SERVER_CERT</a></div><div class="ttdeci">@ MYSQL_OPT_SSL_VERIFY_SERVER_CERT</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00169">mysql.h:169</a></div></div>
<div class="ttc" id="amysql_8h_html_a255d4e9a14d73dde30125232fefac836aa946a5ed2cce384c3f21897adc2f02b0"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836aa946a5ed2cce384c3f21897adc2f02b0">MYSQL_OPT_USE_EMBEDDED_CONNECTION</a></div><div class="ttdeci">@ MYSQL_OPT_USE_EMBEDDED_CONNECTION</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00166">mysql.h:166</a></div></div>
<div class="ttc" id="amysql_8h_html_a255d4e9a14d73dde30125232fefac836ab42cd277182e0c81e003c6165758e305"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836ab42cd277182e0c81e003c6165758e305">MYSQL_READ_DEFAULT_FILE</a></div><div class="ttdeci">@ MYSQL_READ_DEFAULT_FILE</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00162">mysql.h:162</a></div></div>
<div class="ttc" id="amysql_8h_html_a255d4e9a14d73dde30125232fefac836acd043f70d139eaf25e8b4963cfc836ca"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836acd043f70d139eaf25e8b4963cfc836ca">MYSQL_DEFAULT_AUTH</a></div><div class="ttdeci">@ MYSQL_DEFAULT_AUTH</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00170">mysql.h:169</a></div></div>
<div class="ttc" id="amysql_8h_html_a255d4e9a14d73dde30125232fefac836ad08d23092df1b3c1c503e72160b8d4ba"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836ad08d23092df1b3c1c503e72160b8d4ba">MYSQL_PLUGIN_DIR</a></div><div class="ttdeci">@ MYSQL_PLUGIN_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00169">mysql.h:169</a></div></div>
<div class="ttc" id="amysql_8h_html_a255d4e9a14d73dde30125232fefac836adb481f6c8386fcfd212bf9443fdf3dbc"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836adb481f6c8386fcfd212bf9443fdf3dbc">MYSQL_REPORT_DATA_TRUNCATION</a></div><div class="ttdeci">@ MYSQL_REPORT_DATA_TRUNCATION</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00168">mysql.h:168</a></div></div>
<div class="ttc" id="amysql_8h_html_a255d4e9a14d73dde30125232fefac836af29e418c5e26de0b5881106953437698"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836af29e418c5e26de0b5881106953437698">MYSQL_OPT_NAMED_PIPE</a></div><div class="ttdeci">@ MYSQL_OPT_NAMED_PIPE</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00161">mysql.h:161</a></div></div>
<div class="ttc" id="amysql_8h_html_a255d4e9a14d73dde30125232fefac836af509dae920bb0afd8f8282133c51523d"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836af509dae920bb0afd8f8282133c51523d">MYSQL_INIT_COMMAND</a></div><div class="ttdeci">@ MYSQL_INIT_COMMAND</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00162">mysql.h:162</a></div></div>
<div class="ttc" id="amysql_8h_html_a255d4e9a14d73dde30125232fefac836afb25bc17a6360c310032259992672fd4"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a255d4e9a14d73dde30125232fefac836afb25bc17a6360c310032259992672fd4">MYSQL_OPT_RECONNECT</a></div><div class="ttdeci">@ MYSQL_OPT_RECONNECT</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00168">mysql.h:168</a></div></div>
<div class="ttc" id="amysql_8h_html_a284854200d0591ccbacb00c32fafc602"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a284854200d0591ccbacb00c32fafc602">MYSQL_ROWS</a></div><div class="ttdeci">struct st_mysql_rows MYSQL_ROWS</div></div>
<div class="ttc" id="amysql_8h_html_a3491e6b32b8b2a22404cc3c009343b63a819cd41f5a6872a65530714a56dffc98"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a3491e6b32b8b2a22404cc3c009343b63a819cd41f5a6872a65530714a56dffc98">MYSQL_STMT_INIT_DONE</a></div><div class="ttdeci">@ MYSQL_STMT_INIT_DONE</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00480">mysql.h:480</a></div></div>
<div class="ttc" id="amysql_8h_html_a5498795c3bb494716a0c74e27f18aeec"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a5498795c3bb494716a0c74e27f18aeec">mysql_next_result</a></div><div class="ttdeci">int STDCALL mysql_next_result(MYSQL *mysql)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d0a/libmysql_8c_source.html#l04757">libmysql.c:4757</a></div></div>
<div class="ttc" id="amysql_8h_html_a613a678e4a6940b415bdc3d0a4cd6def"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a613a678e4a6940b415bdc3d0a4cd6def">mysql_real_connect</a></div><div class="ttdeci">MYSQL *STDCALL mysql_real_connect(MYSQL *mysql, const char *host, const char *user, const char *passwd, const char *db, unsigned int port, const char *unix_socket, unsigned long clientflag)</div></div>
<div class="ttc" id="amysql_8h_html_a67951903960ca1cfab10c0f3482fc18a"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a67951903960ca1cfab10c0f3482fc18a">mysql_use_result</a></div><div class="ttdeci">MYSQL_RES *STDCALL mysql_use_result(MYSQL *mysql)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d0a/libmysql_8c_source.html#l04823">libmysql.c:4823</a></div></div>
<div class="ttc" id="amysql_8h_html_a724e1c14ad46e2aac8c39643eb8a96bb"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a724e1c14ad46e2aac8c39643eb8a96bb">mysql_server_init</a></div><div class="ttdeci">int STDCALL mysql_server_init(int argc, char **argv, char **groups)</div></div>
<div class="ttc" id="amysql_8h_html_a8c0cf7afc762670cf296e4a0067cae5da17782fa4f4a6c15c5f114c04ea726d7d"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a8c0cf7afc762670cf296e4a0067cae5da17782fa4f4a6c15c5f114c04ea726d7d">MYSQL_STATUS_USE_RESULT</a></div><div class="ttdeci">@ MYSQL_STATUS_USE_RESULT</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00216">mysql.h:216</a></div></div>
<div class="ttc" id="amysql_8h_html_a8c0cf7afc762670cf296e4a0067cae5da2cef1dfe36cb944ab2744ead96cd5a5d"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a8c0cf7afc762670cf296e4a0067cae5da2cef1dfe36cb944ab2744ead96cd5a5d">MYSQL_STATUS_GET_RESULT</a></div><div class="ttdeci">@ MYSQL_STATUS_GET_RESULT</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00216">mysql.h:216</a></div></div>
<div class="ttc" id="amysql_8h_html_a8c0cf7afc762670cf296e4a0067cae5da5b9a77ab649e8ee6da459016f7daa06c"><div class="ttname"><a href="../../de/d53/mysql_8h.html#a8c0cf7afc762670cf296e4a0067cae5da5b9a77ab649e8ee6da459016f7daa06c">MYSQL_STATUS_READY</a></div><div class="ttdeci">@ MYSQL_STATUS_READY</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00216">mysql.h:216</a></div></div>
<div class="ttc" id="amysql_8h_html_ac42d2279c8bd9026a231418fafd9a1a9a061914346fab1226594f32cd21f8aa3d"><div class="ttname"><a href="../../de/d53/mysql_8h.html#ac42d2279c8bd9026a231418fafd9a1a9a061914346fab1226594f32cd21f8aa3d">MYSQL_PROTOCOL_TCP</a></div><div class="ttdeci">@ MYSQL_PROTOCOL_TCP</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00222">mysql.h:222</a></div></div>
<div class="ttc" id="amysql_8h_html_ac42d2279c8bd9026a231418fafd9a1a9a6a905ff56459011393053d00a0407b26"><div class="ttname"><a href="../../de/d53/mysql_8h.html#ac42d2279c8bd9026a231418fafd9a1a9a6a905ff56459011393053d00a0407b26">MYSQL_PROTOCOL_MEMORY</a></div><div class="ttdeci">@ MYSQL_PROTOCOL_MEMORY</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00224">mysql.h:223</a></div></div>
<div class="ttc" id="amysql_8h_html_ac42d2279c8bd9026a231418fafd9a1a9a8bb817c9cfe1071e5dd37e1d78954efb"><div class="ttname"><a href="../../de/d53/mysql_8h.html#ac42d2279c8bd9026a231418fafd9a1a9a8bb817c9cfe1071e5dd37e1d78954efb">MYSQL_PROTOCOL_PIPE</a></div><div class="ttdeci">@ MYSQL_PROTOCOL_PIPE</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00223">mysql.h:223</a></div></div>
<div class="ttc" id="amysql_8h_html_ac42d2279c8bd9026a231418fafd9a1a9af1416ca8f572227475c82fdf8ef2856d"><div class="ttname"><a href="../../de/d53/mysql_8h.html#ac42d2279c8bd9026a231418fafd9a1a9af1416ca8f572227475c82fdf8ef2856d">MYSQL_PROTOCOL_SOCKET</a></div><div class="ttdeci">@ MYSQL_PROTOCOL_SOCKET</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00222">mysql.h:222</a></div></div>
<div class="ttc" id="amysql_8h_html_ac8c7bf52f50668c268c661708acffd6a"><div class="ttname"><a href="../../de/d53/mysql_8h.html#ac8c7bf52f50668c268c661708acffd6a">mysql_change_user</a></div><div class="ttdeci">my_bool STDCALL mysql_change_user(MYSQL *mysql, const char *user, const char *passwd, const char *db)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d0a/libmysql_8c_source.html#l00343">libmysql.c:343</a></div></div>
<div class="ttc" id="amysql_8h_html_ad54318c3afe8639877a4cc628dc868a9"><div class="ttname"><a href="../../de/d53/mysql_8h.html#ad54318c3afe8639877a4cc628dc868a9">IS_NUM</a></div><div class="ttdeci">#define IS_NUM(t)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00090">mysql.h:90</a></div></div>
<div class="ttc" id="amysql_8h_html_ae0944b5ab1f99027cdfd12636f045e72"><div class="ttname"><a href="../../de/d53/mysql_8h.html#ae0944b5ab1f99027cdfd12636f045e72">mysql_debug</a></div><div class="ttdeci">void STDCALL mysql_debug(const char *debug)</div></div>
<div class="ttc" id="amysql_8h_html_afae8ad264fb6a4bd740df59f19b9da71"><div class="ttname"><a href="../../de/d53/mysql_8h.html#afae8ad264fb6a4bd740df59f19b9da71">MYSQL_ROW</a></div><div class="ttdeci">char ** MYSQL_ROW</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00118">mysql.h:118</a></div></div>
<div class="ttc" id="amysql__com_8h_html_a06acc4847890b7ef14a8e7c0782a679c"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#a06acc4847890b7ef14a8e7c0782a679c">CLIENT_LOCAL_FILES</a></div><div class="ttdeci">#define CLIENT_LOCAL_FILES</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00150">mysql_com.h:150</a></div></div>
<div class="ttc" id="amysql__com_8h_html_a07344a4eb8f5c74ea8875bb4e9852fb0"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#a07344a4eb8f5c74ea8875bb4e9852fb0">CLIENT_REMEMBER_OPTIONS</a></div><div class="ttdeci">#define CLIENT_REMEMBER_OPTIONS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00166">mysql_com.h:166</a></div></div>
<div class="ttc" id="amysql__com_8h_html_a08253bf6eaa0178369f3ee1055b914a0"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#a08253bf6eaa0178369f3ee1055b914a0">packet_error</a></div><div class="ttdeci">#define packet_error</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00334">mysql_com.h:334</a></div></div>
<div class="ttc" id="amysql__com_8h_html_a14de32242085d5ccc469dac547c976b4"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#a14de32242085d5ccc469dac547c976b4">SERVER_STATUS_AUTOCOMMIT</a></div><div class="ttdeci">#define SERVER_STATUS_AUTOCOMMIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00215">mysql_com.h:215</a></div></div>
<div class="ttc" id="amysql__com_8h_html_a169bf189d1ca9c4058637c9f139e74da"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#a169bf189d1ca9c4058637c9f139e74da">my_net_read</a></div><div class="ttdeci">unsigned long my_net_read(NET *net)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7b/net__serv_8cc_source.html#l01018">net_serv.cc:1018</a></div></div>
<div class="ttc" id="amysql__com_8h_html_a1f0015726f2864954cbfd4e5256cc351"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#a1f0015726f2864954cbfd4e5256cc351">CLIENT_SECURE_CONNECTION</a></div><div class="ttdeci">#define CLIENT_SECURE_CONNECTION</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00158">mysql_com.h:158</a></div></div>
<div class="ttc" id="amysql__com_8h_html_a25e3e67e2cfc4aca49ed6781cc9d12b5"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#a25e3e67e2cfc4aca49ed6781cc9d12b5">scramble_323</a></div><div class="ttdeci">void scramble_323(char *to, const char *message, const char *password)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfe/password_8c_source.html#l00185">password.c:185</a></div></div>
<div class="ttc" id="amysql__com_8h_html_a2a6cb83350f95a382a35de3021904012"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#a2a6cb83350f95a382a35de3021904012">CLIENT_PLUGIN_AUTH</a></div><div class="ttdeci">#define CLIENT_PLUGIN_AUTH</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00163">mysql_com.h:163</a></div></div>
<div class="ttc" id="amysql__com_8h_html_a2bc4c09a6ed0698c89d441028d76a648"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#a2bc4c09a6ed0698c89d441028d76a648">scramble</a></div><div class="ttdeci">void scramble(char *to, const char *message, const char *password)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfe/password_8c_source.html#l00468">password.c:468</a></div></div>
<div class="ttc" id="amysql__com_8h_html_a2e7ec16bc8384bd465b76d1bef082ea7"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#a2e7ec16bc8384bd465b76d1bef082ea7">LOCAL_HOST_NAMEDPIPE</a></div><div class="ttdeci">#define LOCAL_HOST_NAMEDPIPE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00052">mysql_com.h:52</a></div></div>
<div class="ttc" id="amysql__com_8h_html_a2ffea3e8918e7c9a3a2323030a2bfe0a"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#a2ffea3e8918e7c9a3a2323030a2bfe0a">CLIENT_MULTI_RESULTS</a></div><div class="ttdeci">#define CLIENT_MULTI_RESULTS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00160">mysql_com.h:160</a></div></div>
<div class="ttc" id="amysql__com_8h_html_a302a1cb038a2bf21e7f6a90b0b51f48f"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#a302a1cb038a2bf21e7f6a90b0b51f48f">SCRAMBLE_LENGTH_323</a></div><div class="ttdeci">#define SCRAMBLE_LENGTH_323</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00086">mysql_com.h:86</a></div></div>
<div class="ttc" id="amysql__com_8h_html_a33f636f6fc407d0cefcab11fc24851f6"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#a33f636f6fc407d0cefcab11fc24851f6">net_write_command</a></div><div class="ttdeci">my_bool net_write_command(NET *net, unsigned char command, const unsigned char *header, size_t head_len, const unsigned char *packet, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7b/net__serv_8cc_source.html#l00436">net_serv.cc:436</a></div></div>
<div class="ttc" id="amysql__com_8h_html_a3f5f3eab30894e1dfa8d5bd977a889be"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#a3f5f3eab30894e1dfa8d5bd977a889be">MYSQL_ERRMSG_SIZE</a></div><div class="ttdeci">#define MYSQL_ERRMSG_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00262">mysql_com.h:262</a></div></div>
<div class="ttc" id="amysql__com_8h_html_a45f11cf97b6dec62756b92cbb96f7418"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#a45f11cf97b6dec62756b92cbb96f7418">SCRAMBLE_LENGTH</a></div><div class="ttdeci">#define SCRAMBLE_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00085">mysql_com.h:85</a></div></div>
<div class="ttc" id="amysql__com_8h_html_a4853f6c25c8394fd57c4d99f61d5cd89"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#a4853f6c25c8394fd57c4d99f61d5cd89">NAME_LEN</a></div><div class="ttdeci">#define NAME_LEN</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00027">mysql_com.h:27</a></div></div>
<div class="ttc" id="amysql__com_8h_html_a4d108689643f2dfdb9d7fee3e20341af"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#a4d108689643f2dfdb9d7fee3e20341af">CLIENT_FOUND_ROWS</a></div><div class="ttdeci">#define CLIENT_FOUND_ROWS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00144">mysql_com.h:144</a></div></div>
<div class="ttc" id="amysql__com_8h_html_a4e7c0220984fdf1e231344f450cfd51e"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#a4e7c0220984fdf1e231344f450cfd51e">CLIENT_SSL_VERIFY_SERVER_CERT</a></div><div class="ttdeci">#define CLIENT_SSL_VERIFY_SERVER_CERT</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00165">mysql_com.h:165</a></div></div>
<div class="ttc" id="amysql__com_8h_html_a5077ddf4e9da252588645484d8e2f72f"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#a5077ddf4e9da252588645484d8e2f72f">CLIENT_CONNECT_WITH_DB</a></div><div class="ttdeci">#define CLIENT_CONNECT_WITH_DB</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00146">mysql_com.h:146</a></div></div>
<div class="ttc" id="amysql__com_8h_html_a536a91524dc8d56bcac63aadc8811f1d"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#a536a91524dc8d56bcac63aadc8811f1d">CLIENT_TRANSACTIONS</a></div><div class="ttdeci">#define CLIENT_TRANSACTIONS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00156">mysql_com.h:156</a></div></div>
<div class="ttc" id="amysql__com_8h_html_a5aa1db4db950d645235a4f73263ee911"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#a5aa1db4db950d645235a4f73263ee911">CLIENT_MULTI_STATEMENTS</a></div><div class="ttdeci">#define CLIENT_MULTI_STATEMENTS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00159">mysql_com.h:159</a></div></div>
<div class="ttc" id="amysql__com_8h_html_a63b42dc81a45f8f72a2cca3994c19d0e"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#a63b42dc81a45f8f72a2cca3994c19d0e">USERNAME_LENGTH</a></div><div class="ttdeci">#define USERNAME_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00028">mysql_com.h:28</a></div></div>
<div class="ttc" id="amysql__com_8h_html_a68145c6add783b349707b9889d33de6c"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#a68145c6add783b349707b9889d33de6c">NULL_LENGTH</a></div><div class="ttdeci">#define NULL_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00565">mysql_com.h:565</a></div></div>
<div class="ttc" id="amysql__com_8h_html_a69668fa642cd688ab5a3c24de87c0b9a"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#a69668fa642cd688ab5a3c24de87c0b9a">CLIENT_COMPRESS</a></div><div class="ttdeci">#define CLIENT_COMPRESS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00148">mysql_com.h:148</a></div></div>
<div class="ttc" id="amysql__com_8h_html_a69e798807026a0f7e12b1d6c72374854"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a></div><div class="ttdeci">enum_field_types</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00336">mysql_com.h:336</a></div></div>
<div class="ttc" id="amysql__com_8h_html_a76cd81964ebba4dd1dc0a354ad5f279a"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#a76cd81964ebba4dd1dc0a354ad5f279a">NUM_FLAG</a></div><div class="ttdeci">#define NUM_FLAG</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00108">mysql_com.h:108</a></div></div>
<div class="ttc" id="amysql__com_8h_html_a8b25274dbacc2f6d54ce7efffe6c4d4b"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#a8b25274dbacc2f6d54ce7efffe6c4d4b">net_flush</a></div><div class="ttdeci">my_bool net_flush(NET *net)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7b/net__serv_8cc_source.html#l00331">net_serv.cc:331</a></div></div>
<div class="ttc" id="amysql__com_8h_html_a8e152edf1a0bae8aec7f5d59cebfbea9"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#a8e152edf1a0bae8aec7f5d59cebfbea9">SQLSTATE_LENGTH</a></div><div class="ttdeci">#define SQLSTATE_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00033">mysql_com.h:33</a></div></div>
<div class="ttc" id="amysql__com_8h_html_a8e4ffa42cecc3c43f30c4e1166c37bf9"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#a8e4ffa42cecc3c43f30c4e1166c37bf9">SERVER_STATUS_IN_TRANS</a></div><div class="ttdeci">#define SERVER_STATUS_IN_TRANS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00214">mysql_com.h:214</a></div></div>
<div class="ttc" id="amysql__com_8h_html_a8fc6e3b92b7d8742b8ff93526b919063"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#a8fc6e3b92b7d8742b8ff93526b919063">my_net_init</a></div><div class="ttdeci">my_bool my_net_init(NET *net, Vio *vio)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7b/net__serv_8cc_source.html#l00111">net_serv.cc:111</a></div></div>
<div class="ttc" id="amysql__com_8h_html_aa7b23d0f15fbcd6f975df1d6204ea5a2"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#aa7b23d0f15fbcd6f975df1d6204ea5a2">CLIENT_SSL</a></div><div class="ttdeci">#define CLIENT_SSL</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00154">mysql_com.h:154</a></div></div>
<div class="ttc" id="amysql__com_8h_html_aacebc74ef9a786231060d3a8d8b56d24"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#aacebc74ef9a786231060d3a8d8b56d24">LOCAL_HOST</a></div><div class="ttdeci">#define LOCAL_HOST</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00051">mysql_com.h:51</a></div></div>
<div class="ttc" id="amysql__com_8h_html_ab71978513c49175a28c7ef3334a82250"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#ab71978513c49175a28c7ef3334a82250">net_end</a></div><div class="ttdeci">void net_end(NET *net)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7b/net__serv_8cc_source.html#l00149">net_serv.cc:149</a></div></div>
<div class="ttc" id="amysql__com_8h_html_abd602000264b4930066da5007c8195fb"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#abd602000264b4930066da5007c8195fb">net_clear</a></div><div class="ttdeci">void net_clear(NET *net, my_bool clear_buffer)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7b/net__serv_8cc_source.html#l00274">net_serv.cc:274</a></div></div>
<div class="ttc" id="amysql__com_8h_html_acb925b1d791ae381a1b411e26c72db35"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#acb925b1d791ae381a1b411e26c72db35">CLIENT_LONG_FLAG</a></div><div class="ttdeci">#define CLIENT_LONG_FLAG</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00145">mysql_com.h:145</a></div></div>
<div class="ttc" id="amysql__com_8h_html_acde6ac915ca4c7bc88ae19d7dd9a04c4"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#acde6ac915ca4c7bc88ae19d7dd9a04c4">CLIENT_PROTOCOL_41</a></div><div class="ttdeci">#define CLIENT_PROTOCOL_41</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00152">mysql_com.h:152</a></div></div>
<div class="ttc" id="amysql__com_8h_html_ad1c5060b7e9bead6739fa36f4f09acc3"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#ad1c5060b7e9bead6739fa36f4f09acc3">SERVER_MORE_RESULTS_EXISTS</a></div><div class="ttdeci">#define SERVER_MORE_RESULTS_EXISTS</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00216">mysql_com.h:216</a></div></div>
<div class="ttc" id="amysql__com_8h_html_ae2ff1badf13d2b8099af8b47831281e1"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#ae2ff1badf13d2b8099af8b47831281e1">enum_server_command</a></div><div class="ttdeci">enum_server_command</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00065">mysql_com.h:66</a></div></div>
<div class="ttc" id="amysql__com_8h_html_ae2ff1badf13d2b8099af8b47831281e1a1bbc2d425b64d5a0f32f17bbf201fbb2"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#ae2ff1badf13d2b8099af8b47831281e1a1bbc2d425b64d5a0f32f17bbf201fbb2">COM_QUIT</a></div><div class="ttdeci">@ COM_QUIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00067">mysql_com.h:67</a></div></div>
<div class="ttc" id="amysql__com_8h_html_ae2ff1badf13d2b8099af8b47831281e1a753ea4f670b155bf3f6f2bdf85431fc8"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#ae2ff1badf13d2b8099af8b47831281e1a753ea4f670b155bf3f6f2bdf85431fc8">COM_QUERY</a></div><div class="ttdeci">@ COM_QUERY</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00067">mysql_com.h:67</a></div></div>
<div class="ttc" id="amysql__com_8h_html_ae2ff1badf13d2b8099af8b47831281e1aebf91bc694c68a0d92c3adcc1bf61a2d"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#ae2ff1badf13d2b8099af8b47831281e1aebf91bc694c68a0d92c3adcc1bf61a2d">COM_INIT_DB</a></div><div class="ttdeci">@ COM_INIT_DB</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00067">mysql_com.h:67</a></div></div>
<div class="ttc" id="amysql__com_8h_html_ae2ff1badf13d2b8099af8b47831281e1af972540f80ad0ed82d0563f9966b5fcc"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#ae2ff1badf13d2b8099af8b47831281e1af972540f80ad0ed82d0563f9966b5fcc">COM_CHANGE_USER</a></div><div class="ttdeci">@ COM_CHANGE_USER</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00070">mysql_com.h:70</a></div></div>
<div class="ttc" id="amysql__com_8h_html_af45505e7a6e2428e0e1690006c4fd117"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#af45505e7a6e2428e0e1690006c4fd117">my_net_write</a></div><div class="ttdeci">my_bool my_net_write(NET *net, const unsigned char *packet, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7b/net__serv_8cc_source.html#l00363">net_serv.cc:363</a></div></div>
<div class="ttc" id="amysql__com_8h_html_af90027415d21c1a1bcc4e8ecd52ded0a"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#af90027415d21c1a1bcc4e8ecd52ded0a">MYSQL_AUTODETECT_CHARSET_NAME</a></div><div class="ttdeci">#define MYSQL_AUTODETECT_CHARSET_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00030">mysql_com.h:30</a></div></div>
<div class="ttc" id="amysql__com_8h_html_afffcba61df9880b6d17b694f1aaf912f"><div class="ttname"><a href="../../d6/df0/mysql__com_8h.html#afffcba61df9880b6d17b694f1aaf912f">CLIENT_INTERACTIVE</a></div><div class="ttdeci">#define CLIENT_INTERACTIVE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00153">mysql_com.h:153</a></div></div>
<div class="ttc" id="amysqld__error_8h_html"><div class="ttname"><a href="../../d1/d40/mysqld__error_8h.html">mysqld_error.h</a></div></div>
<div class="ttc" id="amysqld__error_8h_html_a36242e3abf5ef2e583302bfbb6eacab5"><div class="ttname"><a href="../../d1/d40/mysqld__error_8h.html#a36242e3abf5ef2e583302bfbb6eacab5">ER_NET_PACKET_TOO_LARGE</a></div><div class="ttdeci">#define ER_NET_PACKET_TOO_LARGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d40/mysqld__error_8h_source.html#l00157">mysqld_error.h:157</a></div></div>
<div class="ttc" id="amysqld__error_8h_html_a9ff6ec02fa175373c3244f6e58937794"><div class="ttname"><a href="../../d1/d40/mysqld__error_8h.html#a9ff6ec02fa175373c3244f6e58937794">ER_UNKNOWN_ERROR</a></div><div class="ttdeci">#define ER_UNKNOWN_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d40/mysqld__error_8h_source.html#l00109">mysqld_error.h:109</a></div></div>
<div class="ttc" id="amysqld__error_8h_html_ab744e329b3bad94858299951e7ba3f86"><div class="ttname"><a href="../../d1/d40/mysqld__error_8h.html#ab744e329b3bad94858299951e7ba3f86">ER_UNKNOWN_SYSTEM_VARIABLE</a></div><div class="ttdeci">#define ER_UNKNOWN_SYSTEM_VARIABLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d40/mysqld__error_8h_source.html#l00197">mysqld_error.h:197</a></div></div>
<div class="ttc" id="amysys__err_8h_html"><div class="ttname"><a href="../../d3/dcf/mysys__err_8h.html">mysys_err.h</a></div></div>
<div class="ttc" id="anamespace_g3_d_html_a69a355f92fa3aab4f301667be00cd3eb"><div class="ttname"><a href="../../df/de2/namespace_g3_d.html#a69a355f92fa3aab4f301667be00cd3eb">G3D::length</a></div><div class="ttdeci">float length(float v)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0b/vector_math_8h_source.html#l00208">vectorMath.h:208</a></div></div>
<div class="ttc" id="anamespacedetail_1_1digits_html_aad69d2373aa047bdd9e81494bf3da5ae"><div class="ttname"><a href="../../df/d60/namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">detail::digits::result</a></div><div class="ttdeci">result</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d50/format-inl_8h_source.html#l00622">format-inl.h:622</a></div></div>
<div class="ttc" id="anamespacesetup_html_a2aa722b36a933088812b50ea79b97a5c"><div class="ttname"><a href="../../dd/dc4/namespacesetup.html#a2aa722b36a933088812b50ea79b97a5c">setup.version</a></div><div class="ttdeci">version</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dab/setup_8py_source.html#l00015">setup.py:15</a></div></div>
<div class="ttc" id="anet__serv_8cc_html_a2256fff5962624fac7e47f8aec12402c"><div class="ttname"><a href="../../dc/d7b/net__serv_8cc.html#a2256fff5962624fac7e47f8aec12402c">my_net_set_write_timeout</a></div><div class="ttdeci">void my_net_set_write_timeout(NET *net, uint timeout)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7b/net__serv_8cc_source.html#l01176">net_serv.cc:1176</a></div></div>
<div class="ttc" id="anet__serv_8cc_html_a813a0a36437c4c7f62b50fbb86617220"><div class="ttname"><a href="../../dc/d7b/net__serv_8cc.html#a813a0a36437c4c7f62b50fbb86617220">my_net_set_read_timeout</a></div><div class="ttdeci">void my_net_set_read_timeout(NET *net, uint timeout)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7b/net__serv_8cc_source.html#l01163">net_serv.cc:1163</a></div></div>
<div class="ttc" id="apack_8c_html_a338d46c1ef40cd9482cf212c4be1ed6a"><div class="ttname"><a href="../../d1/d7d/pack_8c.html#a338d46c1ef40cd9482cf212c4be1ed6a">net_field_length_ll</a></div><div class="ttdeci">my_ulonglong net_field_length_ll(uchar **packet)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d7d/pack_8c_source.html#l00049">pack.c:49</a></div></div>
<div class="ttc" id="apack_8c_html_a771d96cea3985e1e0efae3d50852ff1b"><div class="ttname"><a href="../../d1/d7d/pack_8c.html#a771d96cea3985e1e0efae3d50852ff1b">net_field_length</a></div><div class="ttdeci">ulong STDCALL net_field_length(uchar **packet)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d7d/pack_8c_source.html#l00021">pack.c:21</a></div></div>
<div class="ttc" id="aplugin__auth__common_8h_html_a44f1794e5697229fad0750b028ddbd4d"><div class="ttname"><a href="../../da/dd4/plugin__auth__common_8h.html#a44f1794e5697229fad0750b028ddbd4d">CR_ERROR</a></div><div class="ttdeci">#define CR_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd4/plugin__auth__common_8h_source.html#l00042">plugin_auth_common.h:42</a></div></div>
<div class="ttc" id="aplugin__auth__common_8h_html_a64bf95e422b0259c0705ea8585f6e8d6"><div class="ttname"><a href="../../da/dd4/plugin__auth__common_8h.html#a64bf95e422b0259c0705ea8585f6e8d6">CR_OK_HANDSHAKE_COMPLETE</a></div><div class="ttdeci">#define CR_OK_HANDSHAKE_COMPLETE</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd4/plugin__auth__common_8h_source.html#l00063">plugin_auth_common.h:63</a></div></div>
<div class="ttc" id="aplugin__auth__common_8h_html_aa9261e7b650434a33f94d75a65fa9b57"><div class="ttname"><a href="../../da/dd4/plugin__auth__common_8h.html#aa9261e7b650434a33f94d75a65fa9b57">MYSQL_USERNAME_LENGTH</a></div><div class="ttdeci">#define MYSQL_USERNAME_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd4/plugin__auth__common_8h_source.html#l00026">plugin_auth_common.h:26</a></div></div>
<div class="ttc" id="aplugin__auth__common_8h_html_ae5ecbb4568bb8771e7cb0d2b9d192e62"><div class="ttname"><a href="../../da/dd4/plugin__auth__common_8h.html#ae5ecbb4568bb8771e7cb0d2b9d192e62">CR_OK</a></div><div class="ttdeci">#define CR_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd4/plugin__auth__common_8h_source.html#l00050">plugin_auth_common.h:50</a></div></div>
<div class="ttc" id="aprintf_8h_html_a9f315126362cae9675de1642105e631e"><div class="ttname"><a href="../../d3/d6b/printf_8h.html#a9f315126362cae9675de1642105e631e">fprintf</a></div><div class="ttdeci">auto fprintf(std::FILE *f, const S &amp;fmt, const T &amp;... args) -&gt; int</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/printf_8h_source.html#l00602">printf.h:602</a></div></div>
<div class="ttc" id="aprintf_8h_html_aa7d2e7e454d3fe606a71504a119dc894"><div class="ttname"><a href="../../d3/d6b/printf_8h.html#aa7d2e7e454d3fe606a71504a119dc894">sprintf</a></div><div class="ttdeci">auto sprintf(const S &amp;fmt, const T &amp;... args) -&gt; std::basic_string&lt; Char &gt;</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6b/printf_8h_source.html#l00574">printf.h:574</a></div></div>
<div class="ttc" id="aservice__my__snprintf_8h_html_a014ed05cba32df78a71854c7da5bc612"><div class="ttname"><a href="../../dc/d8d/service__my__snprintf_8h.html#a014ed05cba32df78a71854c7da5bc612">my_vsnprintf</a></div><div class="ttdeci">size_t my_vsnprintf(char *to, size_t n, const char *fmt, va_list ap)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d3b/my__vsnprintf_8c_source.html#l00666">my_vsnprintf.c:666</a></div></div>
<div class="ttc" id="aservice__my__snprintf_8h_html_ade7f1c92738a9c69d5aa585ce4b66abd"><div class="ttname"><a href="../../dc/d8d/service__my__snprintf_8h.html#ade7f1c92738a9c69d5aa585ce4b66abd">my_snprintf</a></div><div class="ttdeci">size_t my_snprintf(char *to, size_t n, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d3b/my__vsnprintf_8c_source.html#l00672">my_vsnprintf.c:672</a></div></div>
<div class="ttc" id="asql__common_8h_html"><div class="ttname"><a href="../../d6/d2a/sql__common_8h.html">sql_common.h</a></div></div>
<div class="ttc" id="asql__common_8h_html_a0c71b6fd3ddc3cba90d18e82f3ad86ca"><div class="ttname"><a href="../../d6/d2a/sql__common_8h.html#a0c71b6fd3ddc3cba90d18e82f3ad86ca">protocol_41</a></div><div class="ttdeci">#define protocol_41(A)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2a/sql__common_8h_source.html#l00111">sql_common.h:111</a></div></div>
<div class="ttc" id="asql__common_8h_html_aa84198878fcd7ae6485dbc1f23216794"><div class="ttname"><a href="../../d6/d2a/sql__common_8h.html#aa84198878fcd7ae6485dbc1f23216794">simple_command</a></div><div class="ttdeci">#define simple_command(mysql, command, arg, length, skip_check)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2a/sql__common_8h_source.html#l00067">sql_common.h:67</a></div></div>
<div class="ttc" id="asql__common_8h_html_ac4fd86a81f5d719d2072f1a456f25265"><div class="ttname"><a href="../../d6/d2a/sql__common_8h.html#ac4fd86a81f5d719d2072f1a456f25265">set_stmt_error</a></div><div class="ttdeci">void set_stmt_error(MYSQL_STMT *stmt, int errcode, const char *sqlstate, const char *err)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d0a/libmysql_8c_source.html#l01338">libmysql.c:1338</a></div></div>
<div class="ttc" id="astdsoap2_8h_html_a86c5dbf5a99358e288f573d6a1e0873f"><div class="ttname"><a href="../../db/d6c/stdsoap2_8h.html#a86c5dbf5a99358e288f573d6a1e0873f">FD_SETSIZE</a></div><div class="ttdeci">#define FD_SETSIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d6c/stdsoap2_8h_source.html#l01006">stdsoap2.h:1006</a></div></div>
<div class="ttc" id="astruct_m_c_p_v_i_o___e_x_t_html"><div class="ttname"><a href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html">MCPVIO_EXT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l02307">client.c:2307</a></div></div>
<div class="ttc" id="astruct_m_c_p_v_i_o___e_x_t_html_a0df6a778566056f94e719dcb9dfd2042"><div class="ttname"><a href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a0df6a778566056f94e719dcb9dfd2042">MCPVIO_EXT::cached_server_reply</a></div><div class="ttdeci">struct MCPVIO_EXT::@49 cached_server_reply</div></div>
<div class="ttc" id="astruct_m_c_p_v_i_o___e_x_t_html_a3311388695d5b40e2cd37f2a99ac6a8d"><div class="ttname"><a href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a3311388695d5b40e2cd37f2a99ac6a8d">MCPVIO_EXT::plugin</a></div><div class="ttdeci">auth_plugin_t * plugin</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l02313">client.c:2313</a></div></div>
<div class="ttc" id="astruct_m_c_p_v_i_o___e_x_t_html_a4895b1e68fbd4507fc232bf63c5d7bbc"><div class="ttname"><a href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a4895b1e68fbd4507fc232bf63c5d7bbc">MCPVIO_EXT::pkt</a></div><div class="ttdeci">uchar * pkt</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l02316">client.c:2316</a></div></div>
<div class="ttc" id="astruct_m_c_p_v_i_o___e_x_t_html_a49b27c78513b350c936e299061083602"><div class="ttname"><a href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a49b27c78513b350c936e299061083602">MCPVIO_EXT::packets_read</a></div><div class="ttdeci">int packets_read</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l02319">client.c:2319</a></div></div>
<div class="ttc" id="astruct_m_c_p_v_i_o___e_x_t_html_a520bb858f88b811dd547f3ad7ea72ff6"><div class="ttname"><a href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a520bb858f88b811dd547f3ad7ea72ff6">MCPVIO_EXT::write_packet</a></div><div class="ttdeci">int(* write_packet)(struct st_plugin_vio *vio, const uchar *pkt, int pkt_len)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l02309">client.c:2309</a></div></div>
<div class="ttc" id="astruct_m_c_p_v_i_o___e_x_t_html_a922304e514fc745ab5749179a1b8b4ef"><div class="ttname"><a href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#a922304e514fc745ab5749179a1b8b4ef">MCPVIO_EXT::db</a></div><div class="ttdeci">const char * db</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l02314">client.c:2314</a></div></div>
<div class="ttc" id="astruct_m_c_p_v_i_o___e_x_t_html_aa05c77f2de8794542da349fca2b363f5"><div class="ttname"><a href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#aa05c77f2de8794542da349fca2b363f5">MCPVIO_EXT::info</a></div><div class="ttdeci">void(* info)(struct st_plugin_vio *vio, struct st_plugin_vio_info *info)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l02310">client.c:2310</a></div></div>
<div class="ttc" id="astruct_m_c_p_v_i_o___e_x_t_html_ab21aa0e0f2a7377f93d7773a8a8a3f19"><div class="ttname"><a href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#ab21aa0e0f2a7377f93d7773a8a8a3f19">MCPVIO_EXT::pkt_len</a></div><div class="ttdeci">uint pkt_len</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l02317">client.c:2317</a></div></div>
<div class="ttc" id="astruct_m_c_p_v_i_o___e_x_t_html_ac86a509d72ae18f54036e51f242721c8"><div class="ttname"><a href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#ac86a509d72ae18f54036e51f242721c8">MCPVIO_EXT::mysql</a></div><div class="ttdeci">MYSQL * mysql</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l02312">client.c:2312</a></div></div>
<div class="ttc" id="astruct_m_c_p_v_i_o___e_x_t_html_aebbbe5241ddd2b349f443f45eb6250df"><div class="ttname"><a href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#aebbbe5241ddd2b349f443f45eb6250df">MCPVIO_EXT::read_packet</a></div><div class="ttdeci">int(* read_packet)(struct st_plugin_vio *vio, uchar **buf)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l02308">client.c:2308</a></div></div>
<div class="ttc" id="astruct_m_c_p_v_i_o___e_x_t_html_af05487909329576cb78c63752c8b8cdd"><div class="ttname"><a href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#af05487909329576cb78c63752c8b8cdd">MCPVIO_EXT::last_read_packet_len</a></div><div class="ttdeci">int last_read_packet_len</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l02321">client.c:2321</a></div></div>
<div class="ttc" id="astruct_m_c_p_v_i_o___e_x_t_html_af7faa2a4cafd01c91875937eb023802f"><div class="ttname"><a href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#af7faa2a4cafd01c91875937eb023802f">MCPVIO_EXT::mysql_change_user</a></div><div class="ttdeci">int mysql_change_user</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l02320">client.c:2320</a></div></div>
<div class="ttc" id="astruct_m_c_p_v_i_o___e_x_t_html_af8338da82858dd2eb51d8ea17348c4cc"><div class="ttname"><a href="../../d2/d61/struct_m_c_p_v_i_o___e_x_t.html#af8338da82858dd2eb51d8ea17348c4cc">MCPVIO_EXT::packets_written</a></div><div class="ttdeci">int packets_written</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l02319">client.c:2319</a></div></div>
<div class="ttc" id="astructcharset__info__st_html"><div class="ttname"><a href="../../d9/d35/structcharset__info__st.html">charset_info_st</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dd3/m__ctype_8h_source.html#l00275">m_ctype.h:276</a></div></div>
<div class="ttc" id="astructcharset__info__st_html_a477a0149a9fa33885f0f3e955695b115"><div class="ttname"><a href="../../d9/d35/structcharset__info__st.html#a477a0149a9fa33885f0f3e955695b115">charset_info_st::csname</a></div><div class="ttdeci">const char * csname</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dd3/m__ctype_8h_source.html#l00281">m_ctype.h:281</a></div></div>
<div class="ttc" id="astructcharset__info__st_html_a6d363ae2fe9c967882433136a400c848"><div class="ttname"><a href="../../d9/d35/structcharset__info__st.html#a6d363ae2fe9c967882433136a400c848">charset_info_st::number</a></div><div class="ttdeci">uint number</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dd3/m__ctype_8h_source.html#l00277">m_ctype.h:277</a></div></div>
<div class="ttc" id="astructdata_html"><div class="ttname"><a href="../../df/dea/structdata.html">data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddf/fmt_2include_2fmt_2format_8h_source.html#l00897">format.h:897</a></div></div>
<div class="ttc" id="astructst__alarm_html"><div class="ttname"><a href="../../d4/d3f/structst__alarm.html">st_alarm</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d85/thr__alarm_8h_source.html#l00080">thr_alarm.h:80</a></div></div>
<div class="ttc" id="astructst__dynamic__array_html"><div class="ttname"><a href="../../da/dfc/structst__dynamic__array.html">st_dynamic_array</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/da9/my__sys_8h_source.html#l00320">my_sys.h:321</a></div></div>
<div class="ttc" id="astructst__dynamic__array_html_a46407a62e2fec7f400787f482caab0b1"><div class="ttname"><a href="../../da/dfc/structst__dynamic__array.html#a46407a62e2fec7f400787f482caab0b1">st_dynamic_array::buffer</a></div><div class="ttdeci">uchar * buffer</div><div class="ttdef"><b>Definition:</b> <a href="../../db/da9/my__sys_8h_source.html#l00322">my_sys.h:322</a></div></div>
<div class="ttc" id="astructst__dynamic__array_html_afc73a9c6a7fa8222ef8f65a795c97db7"><div class="ttname"><a href="../../da/dfc/structst__dynamic__array.html#afc73a9c6a7fa8222ef8f65a795c97db7">st_dynamic_array::elements</a></div><div class="ttdeci">uint elements</div><div class="ttdef"><b>Definition:</b> <a href="../../db/da9/my__sys_8h_source.html#l00323">my_sys.h:323</a></div></div>
<div class="ttc" id="astructst__list_html"><div class="ttname"><a href="../../d8/d55/structst__list.html">st_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd5/my__list_8h_source.html#l00023">my_list.h:23</a></div></div>
<div class="ttc" id="astructst__list_html_a178fcbad1f7324818b3da52be702e8dd"><div class="ttname"><a href="../../d8/d55/structst__list.html#a178fcbad1f7324818b3da52be702e8dd">st_list::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd5/my__list_8h_source.html#l00025">my_list.h:25</a></div></div>
<div class="ttc" id="astructst__list_html_a2df21777b3d410ab0803ee9046b3764e"><div class="ttname"><a href="../../d8/d55/structst__list.html#a2df21777b3d410ab0803ee9046b3764e">st_list::next</a></div><div class="ttdeci">struct st_list * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd5/my__list_8h_source.html#l00024">my_list.h:24</a></div></div>
<div class="ttc" id="astructst__mem__root_html"><div class="ttname"><a href="../../d8/df1/structst__mem__root.html">st_mem_root</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d65/my__alloc_8h_source.html#l00038">my_alloc.h:39</a></div></div>
<div class="ttc" id="astructst__mysql__client__plugin___a_u_t_h_e_n_t_i_c_a_t_i_o_n_html"><div class="ttname"><a href="../../d9/de7/structst__mysql__client__plugin___a_u_t_h_e_n_t_i_c_a_t_i_o_n.html">st_mysql_client_plugin_AUTHENTICATION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d2f/client__plugin_8h_source.html#l00071">client_plugin.h:72</a></div></div>
<div class="ttc" id="astructst__mysql__client__plugin_html"><div class="ttname"><a href="../../d4/db7/structst__mysql__client__plugin.html">st_mysql_client_plugin</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d2f/client__plugin_8h_source.html#l00061">client_plugin.h:62</a></div></div>
<div class="ttc" id="astructst__mysql__data_html"><div class="ttname"><a href="../../df/dab/structst__mysql__data.html">st_mysql_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00149">mysql.h:149</a></div></div>
<div class="ttc" id="astructst__mysql__data_html_a177d9effffa87659af590d973ab8d955"><div class="ttname"><a href="../../df/dab/structst__mysql__data.html#a177d9effffa87659af590d973ab8d955">st_mysql_data::alloc</a></div><div class="ttdeci">MEM_ROOT alloc</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00152">mysql.h:152</a></div></div>
<div class="ttc" id="astructst__mysql__field_html"><div class="ttname"><a href="../../da/da0/structst__mysql__field.html">st_mysql_field</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00094">mysql.h:94</a></div></div>
<div class="ttc" id="astructst__mysql__field_html_a03345260f7ab6ff2aab0ee5cda2c8ba3"><div class="ttname"><a href="../../da/da0/structst__mysql__field.html#a03345260f7ab6ff2aab0ee5cda2c8ba3">st_mysql_field::org_name</a></div><div class="ttdeci">char * org_name</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00096">mysql.h:96</a></div></div>
<div class="ttc" id="astructst__mysql__field_html_a03ff1a4c1b3d3249d5ff7b1a62f152f3"><div class="ttname"><a href="../../da/da0/structst__mysql__field.html#a03ff1a4c1b3d3249d5ff7b1a62f152f3">st_mysql_field::length</a></div><div class="ttdeci">unsigned long length</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00102">mysql.h:102</a></div></div>
<div class="ttc" id="astructst__mysql__field_html_a2977653fe904c10974aeda70fdde5ba2"><div class="ttname"><a href="../../da/da0/structst__mysql__field.html#a2977653fe904c10974aeda70fdde5ba2">st_mysql_field::flags</a></div><div class="ttdeci">unsigned int flags</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00111">mysql.h:111</a></div></div>
<div class="ttc" id="astructst__mysql__field_html_a29e2e9a3a039afd113f5b01144aeadf3"><div class="ttname"><a href="../../da/da0/structst__mysql__field.html#a29e2e9a3a039afd113f5b01144aeadf3">st_mysql_field::table</a></div><div class="ttdeci">char * table</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00097">mysql.h:97</a></div></div>
<div class="ttc" id="astructst__mysql__field_html_a3b744bf19e92b619e725b45f83a78771"><div class="ttname"><a href="../../da/da0/structst__mysql__field.html#a3b744bf19e92b619e725b45f83a78771">st_mysql_field::type</a></div><div class="ttdeci">enum enum_field_types type</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00113">mysql.h:114</a></div></div>
<div class="ttc" id="astructst__mysql__field_html_a3fd823f20119f559007cc41089bec0fe"><div class="ttname"><a href="../../da/da0/structst__mysql__field.html#a3fd823f20119f559007cc41089bec0fe">st_mysql_field::table_length</a></div><div class="ttdeci">unsigned int table_length</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00106">mysql.h:106</a></div></div>
<div class="ttc" id="astructst__mysql__field_html_a5efd1f038fd402730cd69b9b0be93ac6"><div class="ttname"><a href="../../da/da0/structst__mysql__field.html#a5efd1f038fd402730cd69b9b0be93ac6">st_mysql_field::catalog</a></div><div class="ttdeci">char * catalog</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00100">mysql.h:100</a></div></div>
<div class="ttc" id="astructst__mysql__field_html_a6698d0723c7d4349a707fc2bed3641d5"><div class="ttname"><a href="../../da/da0/structst__mysql__field.html#a6698d0723c7d4349a707fc2bed3641d5">st_mysql_field::def_length</a></div><div class="ttdeci">unsigned int def_length</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00110">mysql.h:110</a></div></div>
<div class="ttc" id="astructst__mysql__field_html_a687f7df1f421ac5273adfc06b244c883"><div class="ttname"><a href="../../da/da0/structst__mysql__field.html#a687f7df1f421ac5273adfc06b244c883">st_mysql_field::charsetnr</a></div><div class="ttdeci">unsigned int charsetnr</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00113">mysql.h:113</a></div></div>
<div class="ttc" id="astructst__mysql__field_html_a707bf664b65d46c5fafcc9117d43c3d6"><div class="ttname"><a href="../../da/da0/structst__mysql__field.html#a707bf664b65d46c5fafcc9117d43c3d6">st_mysql_field::db</a></div><div class="ttdeci">char * db</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00099">mysql.h:99</a></div></div>
<div class="ttc" id="astructst__mysql__field_html_a72598be1e648074291e3d8efd1a33d76"><div class="ttname"><a href="../../da/da0/structst__mysql__field.html#a72598be1e648074291e3d8efd1a33d76">st_mysql_field::catalog_length</a></div><div class="ttdeci">unsigned int catalog_length</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00109">mysql.h:109</a></div></div>
<div class="ttc" id="astructst__mysql__field_html_a76f2446ec6439f82c2d387085498e599"><div class="ttname"><a href="../../da/da0/structst__mysql__field.html#a76f2446ec6439f82c2d387085498e599">st_mysql_field::org_name_length</a></div><div class="ttdeci">unsigned int org_name_length</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00105">mysql.h:105</a></div></div>
<div class="ttc" id="astructst__mysql__field_html_a89db90d875f6b760f147e70ac5f96dce"><div class="ttname"><a href="../../da/da0/structst__mysql__field.html#a89db90d875f6b760f147e70ac5f96dce">st_mysql_field::max_length</a></div><div class="ttdeci">unsigned long max_length</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00103">mysql.h:103</a></div></div>
<div class="ttc" id="astructst__mysql__field_html_a9aea18cced6a6cd06f9ab3dd75643675"><div class="ttname"><a href="../../da/da0/structst__mysql__field.html#a9aea18cced6a6cd06f9ab3dd75643675">st_mysql_field::name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00095">mysql.h:95</a></div></div>
<div class="ttc" id="astructst__mysql__field_html_a9f783bae03537ebb992ca091b7173d92"><div class="ttname"><a href="../../da/da0/structst__mysql__field.html#a9f783bae03537ebb992ca091b7173d92">st_mysql_field::name_length</a></div><div class="ttdeci">unsigned int name_length</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00104">mysql.h:104</a></div></div>
<div class="ttc" id="astructst__mysql__field_html_ab39f6f0fb49ba3ce21522b68f41b4337"><div class="ttname"><a href="../../da/da0/structst__mysql__field.html#ab39f6f0fb49ba3ce21522b68f41b4337">st_mysql_field::decimals</a></div><div class="ttdeci">unsigned int decimals</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00112">mysql.h:112</a></div></div>
<div class="ttc" id="astructst__mysql__field_html_abe39f84a0bf3580baefe02d1af84b176"><div class="ttname"><a href="../../da/da0/structst__mysql__field.html#abe39f84a0bf3580baefe02d1af84b176">st_mysql_field::db_length</a></div><div class="ttdeci">unsigned int db_length</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00108">mysql.h:108</a></div></div>
<div class="ttc" id="astructst__mysql__field_html_acd02783a4aa6564a73efd4234043e17b"><div class="ttname"><a href="../../da/da0/structst__mysql__field.html#acd02783a4aa6564a73efd4234043e17b">st_mysql_field::def</a></div><div class="ttdeci">char * def</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00101">mysql.h:101</a></div></div>
<div class="ttc" id="astructst__mysql__field_html_ade5ec83de3b2537fbffbad382314521f"><div class="ttname"><a href="../../da/da0/structst__mysql__field.html#ade5ec83de3b2537fbffbad382314521f">st_mysql_field::org_table</a></div><div class="ttdeci">char * org_table</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00098">mysql.h:98</a></div></div>
<div class="ttc" id="astructst__mysql__field_html_afa4e4cdb3af1c33edb72757f3fce9e7a"><div class="ttname"><a href="../../da/da0/structst__mysql__field.html#afa4e4cdb3af1c33edb72757f3fce9e7a">st_mysql_field::org_table_length</a></div><div class="ttdeci">unsigned int org_table_length</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00107">mysql.h:107</a></div></div>
<div class="ttc" id="astructst__mysql__methods_html"><div class="ttname"><a href="../../d2/d94/structst__mysql__methods.html">st_mysql_methods</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2a/sql__common_8h_source.html#l00036">sql_common.h:37</a></div></div>
<div class="ttc" id="astructst__mysql__methods_html_a17db5f3b5013f92e4d72e31edb97fac1"><div class="ttname"><a href="../../d2/d94/structst__mysql__methods.html#a17db5f3b5013f92e4d72e31edb97fac1">st_mysql_methods::free_embedded_thd</a></div><div class="ttdeci">void(* free_embedded_thd)(MYSQL *mysql)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2a/sql__common_8h_source.html#l00060">sql_common.h:60</a></div></div>
<div class="ttc" id="astructst__mysql__methods_html_a25ee4ba8674354fad161db765af8dd58"><div class="ttname"><a href="../../d2/d94/structst__mysql__methods.html#a25ee4ba8674354fad161db765af8dd58">st_mysql_methods::read_change_user_result</a></div><div class="ttdeci">int(* read_change_user_result)(MYSQL *mysql)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2a/sql__common_8h_source.html#l00053">sql_common.h:53</a></div></div>
<div class="ttc" id="astructst__mysql__methods_html_a4c22f0651ec962585a52a46b8a8b80ef"><div class="ttname"><a href="../../d2/d94/structst__mysql__methods.html#a4c22f0651ec962585a52a46b8a8b80ef">st_mysql_methods::fetch_lengths</a></div><div class="ttdeci">void(* fetch_lengths)(unsigned long *to, MYSQL_ROW column, unsigned int field_count)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2a/sql__common_8h_source.html#l00050">sql_common.h:50</a></div></div>
<div class="ttc" id="astructst__mysql__methods_html_abdb4362b2f31f79bd62d6a85d4cbba8c"><div class="ttname"><a href="../../d2/d94/structst__mysql__methods.html#abdb4362b2f31f79bd62d6a85d4cbba8c">st_mysql_methods::flush_use_result</a></div><div class="ttdeci">void(* flush_use_result)(MYSQL *mysql, my_bool flush_all_results)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2a/sql__common_8h_source.html#l00052">sql_common.h:52</a></div></div>
<div class="ttc" id="astructst__mysql__methods_html_ad3b80fa1d6b41f34fafb40035bf6259f"><div class="ttname"><a href="../../d2/d94/structst__mysql__methods.html#ad3b80fa1d6b41f34fafb40035bf6259f">st_mysql_methods::read_query_result</a></div><div class="ttdeci">my_bool(* read_query_result)(MYSQL *mysql)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2a/sql__common_8h_source.html#l00038">sql_common.h:38</a></div></div>
<div class="ttc" id="astructst__mysql__methods_html_ada90527e62274bc90c6fecbe00226663"><div class="ttname"><a href="../../d2/d94/structst__mysql__methods.html#ada90527e62274bc90c6fecbe00226663">st_mysql_methods::read_rows</a></div><div class="ttdeci">MYSQL_DATA *(* read_rows)(MYSQL *mysql, MYSQL_FIELD *mysql_fields, unsigned int fields)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2a/sql__common_8h_source.html#l00047">sql_common.h:47</a></div></div>
<div class="ttc" id="astructst__mysql__options__extention_html_a19f9a45029a9ff67f9967a7f60c1b478"><div class="ttname"><a href="../../d3/d8a/structst__mysql__options__extention.html#a19f9a45029a9ff67f9967a7f60c1b478">st_mysql_options_extention::default_auth</a></div><div class="ttdeci">char * default_auth</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2a/sql__common_8h_source.html#l00033">sql_common.h:33</a></div></div>
<div class="ttc" id="astructst__mysql__options__extention_html_a96ff02b5fbb7b7b4f9684e83c2ec60db"><div class="ttname"><a href="../../d3/d8a/structst__mysql__options__extention.html#a96ff02b5fbb7b7b4f9684e83c2ec60db">st_mysql_options_extention::plugin_dir</a></div><div class="ttdeci">char * plugin_dir</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2a/sql__common_8h_source.html#l00032">sql_common.h:32</a></div></div>
<div class="ttc" id="astructst__mysql__options_html"><div class="ttname"><a href="../../d7/dc7/structst__mysql__options.html">st_mysql_options</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00178">mysql.h:178</a></div></div>
<div class="ttc" id="astructst__mysql__options_html_a095ec6fb5b58914a518522376a0d49ba"><div class="ttname"><a href="../../d7/dc7/structst__mysql__options.html#a095ec6fb5b58914a518522376a0d49ba">st_mysql_options::report_data_truncation</a></div><div class="ttdeci">my_bool report_data_truncation</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00203">mysql.h:203</a></div></div>
<div class="ttc" id="astructst__mysql__options_html_a1403738b86df8bc7056a33b50bd8aff5"><div class="ttname"><a href="../../d7/dc7/structst__mysql__options.html#a1403738b86df8bc7056a33b50bd8aff5">st_mysql_options::port</a></div><div class="ttdeci">unsigned int port</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00180">mysql.h:180</a></div></div>
<div class="ttc" id="astructst__mysql__options_html_a19477c3410299535e086c5fe482f06f4"><div class="ttname"><a href="../../d7/dc7/structst__mysql__options.html#a19477c3410299535e086c5fe482f06f4">st_mysql_options::ssl_capath</a></div><div class="ttdeci">char * ssl_capath</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00188">mysql.h:188</a></div></div>
<div class="ttc" id="astructst__mysql__options_html_a28e998c549cbbc33d7d1eba197f1d52f"><div class="ttname"><a href="../../d7/dc7/structst__mysql__options.html#a28e998c549cbbc33d7d1eba197f1d52f">st_mysql_options::my_cnf_group</a></div><div class="ttdeci">char * my_cnf_group</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00184">mysql.h:184</a></div></div>
<div class="ttc" id="astructst__mysql__options_html_a303edbbc594a8ccbfa3de34aa85ae509"><div class="ttname"><a href="../../d7/dc7/structst__mysql__options.html#a303edbbc594a8ccbfa3de34aa85ae509">st_mysql_options::client_ip</a></div><div class="ttdeci">char * client_ip</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00199">mysql.h:199</a></div></div>
<div class="ttc" id="astructst__mysql__options_html_a418b114edbc344a140c90df9d1f2cd39"><div class="ttname"><a href="../../d7/dc7/structst__mysql__options.html#a418b114edbc344a140c90df9d1f2cd39">st_mysql_options::ssl_ca</a></div><div class="ttdeci">char * ssl_ca</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00187">mysql.h:187</a></div></div>
<div class="ttc" id="astructst__mysql__options_html_a43176d9b1d3e5e54ac0b2c263ec4441a"><div class="ttname"><a href="../../d7/dc7/structst__mysql__options.html#a43176d9b1d3e5e54ac0b2c263ec4441a">st_mysql_options::ssl_key</a></div><div class="ttdeci">char * ssl_key</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00185">mysql.h:185</a></div></div>
<div class="ttc" id="astructst__mysql__options_html_a4723de8759d3e167f5690fe2abfb98a9"><div class="ttname"><a href="../../d7/dc7/structst__mysql__options.html#a4723de8759d3e167f5690fe2abfb98a9">st_mysql_options::ssl_cert</a></div><div class="ttdeci">char * ssl_cert</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00186">mysql.h:186</a></div></div>
<div class="ttc" id="astructst__mysql__options_html_a4c429488249a27b52cbd3757e15c17c9"><div class="ttname"><a href="../../d7/dc7/structst__mysql__options.html#a4c429488249a27b52cbd3757e15c17c9">st_mysql_options::use_ssl</a></div><div class="ttdeci">my_bool use_ssl</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00192">mysql.h:192</a></div></div>
<div class="ttc" id="astructst__mysql__options_html_a4cc1dad4e2d110efa24865a636613b6e"><div class="ttname"><a href="../../d7/dc7/structst__mysql__options.html#a4cc1dad4e2d110efa24865a636613b6e">st_mysql_options::my_cnf_file</a></div><div class="ttdeci">char * my_cnf_file</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00184">mysql.h:184</a></div></div>
<div class="ttc" id="astructst__mysql__options_html_a6d4f1507ec3907eda109548da49ee850"><div class="ttname"><a href="../../d7/dc7/structst__mysql__options.html#a6d4f1507ec3907eda109548da49ee850">st_mysql_options::unix_socket</a></div><div class="ttdeci">char * unix_socket</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00182">mysql.h:182</a></div></div>
<div class="ttc" id="astructst__mysql__options_html_a6f9eb2e4acb59618e0843bb3c63f58f4"><div class="ttname"><a href="../../d7/dc7/structst__mysql__options.html#a6f9eb2e4acb59618e0843bb3c63f58f4">st_mysql_options::init_commands</a></div><div class="ttdeci">struct st_dynamic_array * init_commands</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00183">mysql.h:183</a></div></div>
<div class="ttc" id="astructst__mysql__options_html_a6fbcc8e03aa4c489bfa23de7f4e0d8f8"><div class="ttname"><a href="../../d7/dc7/structst__mysql__options.html#a6fbcc8e03aa4c489bfa23de7f4e0d8f8">st_mysql_options::read_timeout</a></div><div class="ttdeci">unsigned int read_timeout</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00179">mysql.h:179</a></div></div>
<div class="ttc" id="astructst__mysql__options_html_a70de1a0467629fc3ccb1b0c12431fb41"><div class="ttname"><a href="../../d7/dc7/structst__mysql__options.html#a70de1a0467629fc3ccb1b0c12431fb41">st_mysql_options::max_allowed_packet</a></div><div class="ttdeci">unsigned long max_allowed_packet</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00191">mysql.h:191</a></div></div>
<div class="ttc" id="astructst__mysql__options_html_a76f9c11ae054459cabfc89d30928b786"><div class="ttname"><a href="../../d7/dc7/structst__mysql__options.html#a76f9c11ae054459cabfc89d30928b786">st_mysql_options::password</a></div><div class="ttdeci">char * password</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00182">mysql.h:182</a></div></div>
<div class="ttc" id="astructst__mysql__options_html_a76fecd9908ce3203903d987e4b3c5599"><div class="ttname"><a href="../../d7/dc7/structst__mysql__options.html#a76fecd9908ce3203903d987e4b3c5599">st_mysql_options::methods_to_use</a></div><div class="ttdeci">enum mysql_option methods_to_use</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00197">mysql.h:198</a></div></div>
<div class="ttc" id="astructst__mysql__options_html_a79dd7a4b9bec6d8d6fb17027dcc49c9e"><div class="ttname"><a href="../../d7/dc7/structst__mysql__options.html#a79dd7a4b9bec6d8d6fb17027dcc49c9e">st_mysql_options::ssl_cipher</a></div><div class="ttdeci">char * ssl_cipher</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00189">mysql.h:189</a></div></div>
<div class="ttc" id="astructst__mysql__options_html_a79fc433d16a9cd4b913a6490fc612bf3"><div class="ttname"><a href="../../d7/dc7/structst__mysql__options.html#a79fc433d16a9cd4b913a6490fc612bf3">st_mysql_options::host</a></div><div class="ttdeci">char * host</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00182">mysql.h:182</a></div></div>
<div class="ttc" id="astructst__mysql__options_html_a7d0ee51bd78eb9aa35e8048b1541d290"><div class="ttname"><a href="../../d7/dc7/structst__mysql__options.html#a7d0ee51bd78eb9aa35e8048b1541d290">st_mysql_options::secure_auth</a></div><div class="ttdeci">my_bool secure_auth</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00201">mysql.h:201</a></div></div>
<div class="ttc" id="astructst__mysql__options_html_a82f5dcf8b83007fafa33a45583f87ce8"><div class="ttname"><a href="../../d7/dc7/structst__mysql__options.html#a82f5dcf8b83007fafa33a45583f87ce8">st_mysql_options::db</a></div><div class="ttdeci">char * db</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00182">mysql.h:182</a></div></div>
<div class="ttc" id="astructst__mysql__options_html_a85283d4471c23b3773ca0c4c01ffb1f7"><div class="ttname"><a href="../../d7/dc7/structst__mysql__options.html#a85283d4471c23b3773ca0c4c01ffb1f7">st_mysql_options::protocol</a></div><div class="ttdeci">unsigned int protocol</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00180">mysql.h:180</a></div></div>
<div class="ttc" id="astructst__mysql__options_html_a8956fca97f0263e415546f5624a614d2"><div class="ttname"><a href="../../d7/dc7/structst__mysql__options.html#a8956fca97f0263e415546f5624a614d2">st_mysql_options::write_timeout</a></div><div class="ttdeci">unsigned int write_timeout</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00179">mysql.h:179</a></div></div>
<div class="ttc" id="astructst__mysql__options_html_a8e4ad7ebde4a8956788247faf4da20fb"><div class="ttname"><a href="../../d7/dc7/structst__mysql__options.html#a8e4ad7ebde4a8956788247faf4da20fb">st_mysql_options::charset_dir</a></div><div class="ttdeci">char * charset_dir</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00184">mysql.h:184</a></div></div>
<div class="ttc" id="astructst__mysql__options_html_a92c47dfe1c8de03a65b81863a88c9355"><div class="ttname"><a href="../../d7/dc7/structst__mysql__options.html#a92c47dfe1c8de03a65b81863a88c9355">st_mysql_options::client_flag</a></div><div class="ttdeci">unsigned long client_flag</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00181">mysql.h:181</a></div></div>
<div class="ttc" id="astructst__mysql__options_html_a965be4c3b508a911b575fc0aa8fc3345"><div class="ttname"><a href="../../d7/dc7/structst__mysql__options.html#a965be4c3b508a911b575fc0aa8fc3345">st_mysql_options::charset_name</a></div><div class="ttdeci">char * charset_name</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00184">mysql.h:184</a></div></div>
<div class="ttc" id="astructst__mysql__options_html_a9889ada2bcc6e077b8ee984a9c7be6e1"><div class="ttname"><a href="../../d7/dc7/structst__mysql__options.html#a9889ada2bcc6e077b8ee984a9c7be6e1">st_mysql_options::user</a></div><div class="ttdeci">char * user</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00182">mysql.h:182</a></div></div>
<div class="ttc" id="astructst__mysql__options_html_aa8475fa207a033461041fbfd868fe3c6"><div class="ttname"><a href="../../d7/dc7/structst__mysql__options.html#aa8475fa207a033461041fbfd868fe3c6">st_mysql_options::connect_timeout</a></div><div class="ttdeci">unsigned int connect_timeout</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00179">mysql.h:179</a></div></div>
<div class="ttc" id="astructst__mysql__options_html_ab142434a4e128b82feeebbe6e2dd5e00"><div class="ttname"><a href="../../d7/dc7/structst__mysql__options.html#ab142434a4e128b82feeebbe6e2dd5e00">st_mysql_options::compress</a></div><div class="ttdeci">my_bool compress</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00193">mysql.h:193</a></div></div>
<div class="ttc" id="astructst__mysql__options_html_abd61d3820e3904dd30ad1c4c44887d10"><div class="ttname"><a href="../../d7/dc7/structst__mysql__options.html#abd61d3820e3904dd30ad1c4c44887d10">st_mysql_options::shared_memory_base_name</a></div><div class="ttdeci">char * shared_memory_base_name</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00190">mysql.h:190</a></div></div>
<div class="ttc" id="astructst__mysql__options_html_ac16c1d9c8c28b3daeabb7222cda5e8c2"><div class="ttname"><a href="../../d7/dc7/structst__mysql__options.html#ac16c1d9c8c28b3daeabb7222cda5e8c2">st_mysql_options::extension</a></div><div class="ttdeci">struct st_mysql_options_extention * extension</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00211">mysql.h:211</a></div></div>
<div class="ttc" id="astructst__mysql__res_html"><div class="ttname"><a href="../../dc/de8/structst__mysql__res.html">st_mysql_res</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00286">mysql.h:286</a></div></div>
<div class="ttc" id="astructst__mysql__res_html_a12b56773449e21072694f7749086d64a"><div class="ttname"><a href="../../dc/de8/structst__mysql__res.html#a12b56773449e21072694f7749086d64a">st_mysql_res::row</a></div><div class="ttdeci">MYSQL_ROW row</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00294">mysql.h:294</a></div></div>
<div class="ttc" id="astructst__mysql__res_html_a213ea8e00645396f226362cdbd2880b7"><div class="ttname"><a href="../../dc/de8/structst__mysql__res.html#a213ea8e00645396f226362cdbd2880b7">st_mysql_res::data</a></div><div class="ttdeci">MYSQL_DATA * data</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00289">mysql.h:289</a></div></div>
<div class="ttc" id="astructst__mysql__res_html_a46ca3cf833b020e86e4d7f4ebe36f190"><div class="ttname"><a href="../../dc/de8/structst__mysql__res.html#a46ca3cf833b020e86e4d7f4ebe36f190">st_mysql_res::field_count</a></div><div class="ttdeci">unsigned int field_count</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00297">mysql.h:297</a></div></div>
<div class="ttc" id="astructst__mysql__res_html_a4fddbf81b6ead57fdfd384e74d918cfb"><div class="ttname"><a href="../../dc/de8/structst__mysql__res.html#a4fddbf81b6ead57fdfd384e74d918cfb">st_mysql_res::unbuffered_fetch_cancelled</a></div><div class="ttdeci">my_bool unbuffered_fetch_cancelled</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00300">mysql.h:300</a></div></div>
<div class="ttc" id="astructst__mysql__res_html_a874a24ee537561e5dc86e5e86a9afd9d"><div class="ttname"><a href="../../dc/de8/structst__mysql__res.html#a874a24ee537561e5dc86e5e86a9afd9d">st_mysql_res::data_cursor</a></div><div class="ttdeci">MYSQL_ROWS * data_cursor</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00290">mysql.h:290</a></div></div>
<div class="ttc" id="astructst__mysql__res_html_a87d087d083eb50c81b30285a7b8458b1"><div class="ttname"><a href="../../dc/de8/structst__mysql__res.html#a87d087d083eb50c81b30285a7b8458b1">st_mysql_res::methods</a></div><div class="ttdeci">const struct st_mysql_methods * methods</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00293">mysql.h:293</a></div></div>
<div class="ttc" id="astructst__mysql__res_html_ab24839f1879e03ffa511e9bce92419e9"><div class="ttname"><a href="../../dc/de8/structst__mysql__res.html#ab24839f1879e03ffa511e9bce92419e9">st_mysql_res::eof</a></div><div class="ttdeci">my_bool eof</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00298">mysql.h:298</a></div></div>
<div class="ttc" id="astructst__mysql__res_html_ac67d314af96af560ea7880245ab5a710"><div class="ttname"><a href="../../dc/de8/structst__mysql__res.html#ac67d314af96af560ea7880245ab5a710">st_mysql_res::handle</a></div><div class="ttdeci">MYSQL * handle</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00292">mysql.h:292</a></div></div>
<div class="ttc" id="astructst__mysql__res_html_ac6b5b0d8456fe15d529ece8c107d7063"><div class="ttname"><a href="../../dc/de8/structst__mysql__res.html#ac6b5b0d8456fe15d529ece8c107d7063">st_mysql_res::lengths</a></div><div class="ttdeci">unsigned long * lengths</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00291">mysql.h:291</a></div></div>
<div class="ttc" id="astructst__mysql__res_html_ae4ba04806b79944ca5c5cd46ff8b1ef2"><div class="ttname"><a href="../../dc/de8/structst__mysql__res.html#ae4ba04806b79944ca5c5cd46ff8b1ef2">st_mysql_res::current_row</a></div><div class="ttdeci">MYSQL_ROW current_row</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00295">mysql.h:295</a></div></div>
<div class="ttc" id="astructst__mysql__res_html_aeebcaa8a317200a20bbde5d9f9f73169"><div class="ttname"><a href="../../dc/de8/structst__mysql__res.html#aeebcaa8a317200a20bbde5d9f9f73169">st_mysql_res::row_count</a></div><div class="ttdeci">my_ulonglong row_count</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00287">mysql.h:287</a></div></div>
<div class="ttc" id="astructst__mysql__rows_html"><div class="ttname"><a href="../../d9/d55/structst__mysql__rows.html">st_mysql_rows</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00138">mysql.h:138</a></div></div>
<div class="ttc" id="astructst__mysql__rows_html_a83f438b68306724f8fd2f35758bbb2f7"><div class="ttname"><a href="../../d9/d55/structst__mysql__rows.html#a83f438b68306724f8fd2f35758bbb2f7">st_mysql_rows::next</a></div><div class="ttdeci">struct st_mysql_rows * next</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00139">mysql.h:139</a></div></div>
<div class="ttc" id="astructst__mysql__rows_html_a9e11c8188cb52a253df7ac713751b5e2"><div class="ttname"><a href="../../d9/d55/structst__mysql__rows.html#a9e11c8188cb52a253df7ac713751b5e2">st_mysql_rows::data</a></div><div class="ttdeci">MYSQL_ROW data</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00140">mysql.h:140</a></div></div>
<div class="ttc" id="astructst__mysql__stmt_html"><div class="ttname"><a href="../../d8/d72/structst__mysql__stmt.html">st_mysql_stmt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00577">mysql.h:578</a></div></div>
<div class="ttc" id="astructst__mysql__stmt_html_a224349871acc052c72cfa86f5901c809"><div class="ttname"><a href="../../d8/d72/structst__mysql__stmt.html#a224349871acc052c72cfa86f5901c809">st_mysql_stmt::mysql</a></div><div class="ttdeci">MYSQL * mysql</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00581">mysql.h:581</a></div></div>
<div class="ttc" id="astructst__mysql__stmt_html_a30dfb09d512d7b9397f8bea13bfc319b"><div class="ttname"><a href="../../d8/d72/structst__mysql__stmt.html#a30dfb09d512d7b9397f8bea13bfc319b">st_mysql_stmt::state</a></div><div class="ttdeci">enum enum_mysql_stmt_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00606">mysql.h:607</a></div></div>
<div class="ttc" id="astructst__mysql__stmt_html_a4bc2da06a308a95a0e5af923239493b5"><div class="ttname"><a href="../../d8/d72/structst__mysql__stmt.html#a4bc2da06a308a95a0e5af923239493b5">st_mysql_stmt::sqlstate</a></div><div class="ttdeci">char sqlstate[SQLSTATE_LENGTH+1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00609">mysql.h:609</a></div></div>
<div class="ttc" id="astructst__mysql__stmt_html_a58c9c8e23ee17b61de9804585fa3c9cd"><div class="ttname"><a href="../../d8/d72/structst__mysql__stmt.html#a58c9c8e23ee17b61de9804585fa3c9cd">st_mysql_stmt::last_errno</a></div><div class="ttdeci">unsigned int last_errno</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00604">mysql.h:604</a></div></div>
<div class="ttc" id="astructst__mysql__stmt_html_a5aa67e24109cb953e09d788756802c9a"><div class="ttname"><a href="../../d8/d72/structst__mysql__stmt.html#a5aa67e24109cb953e09d788756802c9a">st_mysql_stmt::last_error</a></div><div class="ttdeci">char last_error[MYSQL_ERRMSG_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00608">mysql.h:608</a></div></div>
<div class="ttc" id="astructst__mysql_html"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html">st_mysql</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00241">mysql.h:242</a></div></div>
<div class="ttc" id="astructst__mysql_html_a04129bc0cbeda076db8ba274ed93328d"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#a04129bc0cbeda076db8ba274ed93328d">st_mysql::methods</a></div><div class="ttdeci">const struct st_mysql_methods * methods</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00273">mysql.h:273</a></div></div>
<div class="ttc" id="astructst__mysql_html_a135e9fa0dea39f54be633acd845634a4"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#a135e9fa0dea39f54be633acd845634a4">st_mysql::info_buffer</a></div><div class="ttdeci">char * info_buffer</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00281">mysql.h:281</a></div></div>
<div class="ttc" id="astructst__mysql_html_a170585335f5edffeaae3f5229f6c1f6b"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#a170585335f5edffeaae3f5229f6c1f6b">st_mysql::field_alloc</a></div><div class="ttdeci">MEM_ROOT field_alloc</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00249">mysql.h:249</a></div></div>
<div class="ttc" id="astructst__mysql_html_a1a1abcf3441139031de0aa767207dc6a"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#a1a1abcf3441139031de0aa767207dc6a">st_mysql::unix_socket</a></div><div class="ttdeci">char * unix_socket</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00245">mysql.h:245</a></div></div>
<div class="ttc" id="astructst__mysql_html_a285c6023c0903a47d4e6cdebde4c6dfe"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#a285c6023c0903a47d4e6cdebde4c6dfe">st_mysql::port</a></div><div class="ttdeci">unsigned int port</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00255">mysql.h:255</a></div></div>
<div class="ttc" id="astructst__mysql_html_a360756ba79af768da73d528969759b64"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#a360756ba79af768da73d528969759b64">st_mysql::free_me</a></div><div class="ttdeci">my_bool free_me</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00264">mysql.h:264</a></div></div>
<div class="ttc" id="astructst__mysql_html_a397568fcafb4431f45aaddce083d680e"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#a397568fcafb4431f45aaddce083d680e">st_mysql::warning_count</a></div><div class="ttdeci">unsigned int warning_count</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00261">mysql.h:261</a></div></div>
<div class="ttc" id="astructst__mysql_html_a43e5c1629a6db251dc9b5d4eecceb209"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#a43e5c1629a6db251dc9b5d4eecceb209">st_mysql::protocol_version</a></div><div class="ttdeci">unsigned int protocol_version</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00257">mysql.h:257</a></div></div>
<div class="ttc" id="astructst__mysql_html_a4ad66660f7b58712cb4bcaa852d4048c"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#a4ad66660f7b58712cb4bcaa852d4048c">st_mysql::net</a></div><div class="ttdeci">NET net</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00243">mysql.h:243</a></div></div>
<div class="ttc" id="astructst__mysql_html_a5d128ecd21c6265f37c283824b3ad813"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#a5d128ecd21c6265f37c283824b3ad813">st_mysql::charset</a></div><div class="ttdeci">struct charset_info_st * charset</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00247">mysql.h:247</a></div></div>
<div class="ttc" id="astructst__mysql_html_a63e75633e001c08953663a632819b285"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#a63e75633e001c08953663a632819b285">st_mysql::passwd</a></div><div class="ttdeci">char * passwd</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00245">mysql.h:245</a></div></div>
<div class="ttc" id="astructst__mysql_html_a7245af2550c3858f3e2e22c55538f7e1"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#a7245af2550c3858f3e2e22c55538f7e1">st_mysql::unbuffered_fetch_owner</a></div><div class="ttdeci">my_bool * unbuffered_fetch_owner</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00279">mysql.h:279</a></div></div>
<div class="ttc" id="astructst__mysql_html_a72928c42be914f8c12aa24331c542b69"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#a72928c42be914f8c12aa24331c542b69">st_mysql::server_version</a></div><div class="ttdeci">char * server_version</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00245">mysql.h:245</a></div></div>
<div class="ttc" id="astructst__mysql_html_a7bedc1452ea1a2b76634e92196a02991"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#a7bedc1452ea1a2b76634e92196a02991">st_mysql::field_count</a></div><div class="ttdeci">unsigned int field_count</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00258">mysql.h:258</a></div></div>
<div class="ttc" id="astructst__mysql_html_a802266361a427c12d6cb29a27f8889b1"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#a802266361a427c12d6cb29a27f8889b1">st_mysql::reconnect</a></div><div class="ttdeci">my_bool reconnect</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00265">mysql.h:265</a></div></div>
<div class="ttc" id="astructst__mysql_html_a855f117151afa573d46f988e2e01393a"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#a855f117151afa573d46f988e2e01393a">st_mysql::server_language</a></div><div class="ttdeci">unsigned int server_language</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00260">mysql.h:260</a></div></div>
<div class="ttc" id="astructst__mysql_html_a884df86e03be14c772cfe48511963fc1"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#a884df86e03be14c772cfe48511963fc1">st_mysql::insert_id</a></div><div class="ttdeci">my_ulonglong insert_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00251">mysql.h:251</a></div></div>
<div class="ttc" id="astructst__mysql_html_a88b1d70cf9bc81ce088f0a3418d6429c"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#a88b1d70cf9bc81ce088f0a3418d6429c">st_mysql::connector_fd</a></div><div class="ttdeci">unsigned char * connector_fd</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00244">mysql.h:244</a></div></div>
<div class="ttc" id="astructst__mysql_html_a9f32d330dbd811f50b7440786febb25f"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#a9f32d330dbd811f50b7440786febb25f">st_mysql::thread_id</a></div><div class="ttdeci">unsigned long thread_id</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00253">mysql.h:253</a></div></div>
<div class="ttc" id="astructst__mysql_html_aa31b4c644fcef355ce347977a47be9b2"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#aa31b4c644fcef355ce347977a47be9b2">st_mysql::fields</a></div><div class="ttdeci">MYSQL_FIELD * fields</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00248">mysql.h:248</a></div></div>
<div class="ttc" id="astructst__mysql_html_aa63af77ef72c5732d53d735a67d20714"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#aa63af77ef72c5732d53d735a67d20714">st_mysql::host</a></div><div class="ttdeci">char * host</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00245">mysql.h:245</a></div></div>
<div class="ttc" id="astructst__mysql_html_ab875d849ff6f754a85986fe538408667"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#ab875d849ff6f754a85986fe538408667">st_mysql::server_status</a></div><div class="ttdeci">unsigned int server_status</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00259">mysql.h:259</a></div></div>
<div class="ttc" id="astructst__mysql_html_ab9c7460496350f7aa331c104aa54717d"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#ab9c7460496350f7aa331c104aa54717d">st_mysql::server_capabilities</a></div><div class="ttdeci">unsigned long server_capabilities</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00256">mysql.h:256</a></div></div>
<div class="ttc" id="astructst__mysql_html_abd3b5b4aa083403f1025f688731b196e"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#abd3b5b4aa083403f1025f688731b196e">st_mysql::status</a></div><div class="ttdeci">enum mysql_status status</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00261">mysql.h:263</a></div></div>
<div class="ttc" id="astructst__mysql_html_acd1bb786ff93e6a27ec5028864945a5a"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#acd1bb786ff93e6a27ec5028864945a5a">st_mysql::info</a></div><div class="ttdeci">char * info</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00246">mysql.h:246</a></div></div>
<div class="ttc" id="astructst__mysql_html_acf6930c0bcb39cc19665b1a4142ba559"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#acf6930c0bcb39cc19665b1a4142ba559">st_mysql::affected_rows</a></div><div class="ttdeci">my_ulonglong affected_rows</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00250">mysql.h:250</a></div></div>
<div class="ttc" id="astructst__mysql_html_ad5bf53f25b64492bee18c140c11081b6"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#ad5bf53f25b64492bee18c140c11081b6">st_mysql::user</a></div><div class="ttdeci">char * user</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00245">mysql.h:245</a></div></div>
<div class="ttc" id="astructst__mysql_html_add1f635a8aea354868cfe57dba0d6298"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#add1f635a8aea354868cfe57dba0d6298">st_mysql::db</a></div><div class="ttdeci">char * db</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00246">mysql.h:246</a></div></div>
<div class="ttc" id="astructst__mysql_html_ae6e34dfb59ec6f6842f65a58eb6bee38"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#ae6e34dfb59ec6f6842f65a58eb6bee38">st_mysql::scramble</a></div><div class="ttdeci">char scramble[SCRAMBLE_LENGTH+1]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00268">mysql.h:268</a></div></div>
<div class="ttc" id="astructst__mysql_html_af572471668d07fd887bc68d44375d8a5"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#af572471668d07fd887bc68d44375d8a5">st_mysql::client_flag</a></div><div class="ttdeci">unsigned long client_flag</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00256">mysql.h:256</a></div></div>
<div class="ttc" id="astructst__mysql_html_af5b1e7032c012c17dbb967fa4ac212a9"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#af5b1e7032c012c17dbb967fa4ac212a9">st_mysql::options</a></div><div class="ttdeci">struct st_mysql_options options</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00261">mysql.h:262</a></div></div>
<div class="ttc" id="astructst__mysql_html_af7c6f25aed31575514966a3cdf77ebc6"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#af7c6f25aed31575514966a3cdf77ebc6">st_mysql::thd</a></div><div class="ttdeci">void * thd</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00274">mysql.h:274</a></div></div>
<div class="ttc" id="astructst__mysql_html_afa6ee000a88fe95750c9f1acd9711023"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#afa6ee000a88fe95750c9f1acd9711023">st_mysql::packet_length</a></div><div class="ttdeci">unsigned long packet_length</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00254">mysql.h:254</a></div></div>
<div class="ttc" id="astructst__mysql_html_afcd1b31ab175617ee15a9c26a6258457"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#afcd1b31ab175617ee15a9c26a6258457">st_mysql::host_info</a></div><div class="ttdeci">char * host_info</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00245">mysql.h:245</a></div></div>
<div class="ttc" id="astructst__mysql_html_afe0722884084a6d3a8b9448e71ca25e2"><div class="ttname"><a href="../../d8/d7e/structst__mysql.html#afe0722884084a6d3a8b9448e71ca25e2">st_mysql::stmts</a></div><div class="ttdeci">LIST * stmts</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d53/mysql_8h_source.html#l00272">mysql.h:272</a></div></div>
<div class="ttc" id="astructst__net_html"><div class="ttname"><a href="../../de/d2d/structst__net.html">st_net</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00281">mysql_com.h:281</a></div></div>
<div class="ttc" id="astructst__net_html_a04dd4cfb0c11319b3ced573c160d75d5"><div class="ttname"><a href="../../de/d2d/structst__net.html#a04dd4cfb0c11319b3ced573c160d75d5">st_net::vio</a></div><div class="ttdeci">Vio * vio</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00283">mysql_com.h:283</a></div></div>
<div class="ttc" id="astructst__net_html_a076ac7884d3874905c0c95b6518228fc"><div class="ttname"><a href="../../de/d2d/structst__net.html#a076ac7884d3874905c0c95b6518228fc">st_net::last_error</a></div><div class="ttdeci">char last_error[MYSQL_ERRMSG_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00317">mysql_com.h:317</a></div></div>
<div class="ttc" id="astructst__net_html_a0f689854fdd40edbf79cc7e248ecd02f"><div class="ttname"><a href="../../de/d2d/structst__net.html#a0f689854fdd40edbf79cc7e248ecd02f">st_net::sqlstate</a></div><div class="ttdeci">char sqlstate[SQLSTATE_LENGTH+1]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00319">mysql_com.h:319</a></div></div>
<div class="ttc" id="astructst__net_html_a519fa13bc0447d4058c9f32b9b34a08a"><div class="ttname"><a href="../../de/d2d/structst__net.html#a519fa13bc0447d4058c9f32b9b34a08a">st_net::max_packet_size</a></div><div class="ttdeci">unsigned long max_packet_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00292">mysql_com.h:292</a></div></div>
<div class="ttc" id="astructst__net_html_ad32d83e52fbb9bde714a4e91ddd4cca7"><div class="ttname"><a href="../../de/d2d/structst__net.html#ad32d83e52fbb9bde714a4e91ddd4cca7">st_net::last_errno</a></div><div class="ttdeci">unsigned int last_errno</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00312">mysql_com.h:312</a></div></div>
<div class="ttc" id="astructst__net_html_ae72db65cba31233b606eacd0a0da5769"><div class="ttname"><a href="../../de/d2d/structst__net.html#ae72db65cba31233b606eacd0a0da5769">st_net::compress</a></div><div class="ttdeci">my_bool compress</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00301">mysql_com.h:301</a></div></div>
<div class="ttc" id="astructst__net_html_af65adc7b04ff56e008c6f8ca89cc12c2"><div class="ttname"><a href="../../de/d2d/structst__net.html#af65adc7b04ff56e008c6f8ca89cc12c2">st_net::read_pos</a></div><div class="ttdeci">unsigned char * read_pos</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df0/mysql__com_8h_source.html#l00284">mysql_com.h:284</a></div></div>
<div class="ttc" id="astructst__plugin__vio__info_html"><div class="ttname"><a href="../../d8/d46/structst__plugin__vio__info.html">st_plugin_vio_info</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd4/plugin__auth__common_8h_source.html#l00065">plugin_auth_common.h:66</a></div></div>
<div class="ttc" id="astructst__plugin__vio__info_html_a47955b38da900b0fca9c21c7aa4c5171"><div class="ttname"><a href="../../d8/d46/structst__plugin__vio__info.html#a47955b38da900b0fca9c21c7aa4c5171">st_plugin_vio_info::socket</a></div><div class="ttdeci">int socket</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd4/plugin__auth__common_8h_source.html#l00069">plugin_auth_common.h:69</a></div></div>
<div class="ttc" id="astructst__plugin__vio__info_html_a5b3f3276c52d4f1a41b16d76e5ef5ab3"><div class="ttname"><a href="../../d8/d46/structst__plugin__vio__info.html#a5b3f3276c52d4f1a41b16d76e5ef5ab3">st_plugin_vio_info::protocol</a></div><div class="ttdeci">enum st_plugin_vio_info::@48 protocol</div></div>
<div class="ttc" id="astructst__plugin__vio_html"><div class="ttname"><a href="../../d4/df3/structst__plugin__vio.html">st_plugin_vio</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd4/plugin__auth__common_8h_source.html#l00078">plugin_auth_common.h:79</a></div></div>
<div class="ttc" id="astructst__plugin__vio_html_a0d40a824617256c9d36fa34affbcc795"><div class="ttname"><a href="../../d4/df3/structst__plugin__vio.html#a0d40a824617256c9d36fa34affbcc795">st_plugin_vio::info</a></div><div class="ttdeci">void(* info)(struct st_plugin_vio *vio, struct st_plugin_vio_info *info)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd4/plugin__auth__common_8h_source.html#l00100">plugin_auth_common.h:100</a></div></div>
<div class="ttc" id="astructst__plugin__vio_html_a2244f66d6d88ef3f2e83a0b477daca59"><div class="ttname"><a href="../../d4/df3/structst__plugin__vio.html#a2244f66d6d88ef3f2e83a0b477daca59">st_plugin_vio::write_packet</a></div><div class="ttdeci">int(* write_packet)(struct st_plugin_vio *vio, const unsigned char *packet, int packet_len)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd4/plugin__auth__common_8h_source.html#l00092">plugin_auth_common.h:92</a></div></div>
<div class="ttc" id="astructst__plugin__vio_html_a978709b7555b747c90ada9319decb5d8"><div class="ttname"><a href="../../d4/df3/structst__plugin__vio.html#a978709b7555b747c90ada9319decb5d8">st_plugin_vio::read_packet</a></div><div class="ttdeci">int(* read_packet)(struct st_plugin_vio *vio, unsigned char **buf)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd4/plugin__auth__common_8h_source.html#l00085">plugin_auth_common.h:85</a></div></div>
<div class="ttc" id="astructst__typelib_html"><div class="ttname"><a href="../../da/da0/structst__typelib.html">st_typelib</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de1/typelib_8h_source.html#l00022">typelib.h:22</a></div></div>
<div class="ttc" id="astructst__vio_html"><div class="ttname"><a href="../../df/d29/structst__vio.html">st_vio</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd9/violite_8h_source.html#l00188">violite.h:189</a></div></div>
<div class="ttc" id="astructst__vio_html_a20c81217581afa374c9988f171956122"><div class="ttname"><a href="../../df/d29/structst__vio.html#a20c81217581afa374c9988f171956122">st_vio::type</a></div><div class="ttdeci">enum enum_vio_type type</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd9/violite_8h_source.html#l00196">violite.h:197</a></div></div>
<div class="ttc" id="astructst__vio_html_aab802205939803adb10e1827c066b5b5"><div class="ttname"><a href="../../df/d29/structst__vio.html#aab802205939803adb10e1827c066b5b5">st_vio::hPipe</a></div><div class="ttdeci">HANDLE hPipe</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd9/violite_8h_source.html#l00191">violite.h:191</a></div></div>
<div class="ttc" id="astructst__vio_html_af2208261c74e8ef4f28d691cab7b54cf"><div class="ttname"><a href="../../df/d29/structst__vio.html#af2208261c74e8ef4f28d691cab7b54cf">st_vio::sd</a></div><div class="ttdeci">my_socket sd</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd9/violite_8h_source.html#l00190">violite.h:190</a></div></div>
<div class="ttc" id="astructstr2str__st_html"><div class="ttname"><a href="../../d3/d6c/structstr2str__st.html">str2str_st</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01958">client.c:1959</a></div></div>
<div class="ttc" id="astructstr2str__st_html_a0ee6ea36ced444a7bbc96f9a620a3e59"><div class="ttname"><a href="../../d3/d6c/structstr2str__st.html#a0ee6ea36ced444a7bbc96f9a620a3e59">str2str_st::param</a></div><div class="ttdeci">my_cs_match_type param</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01962">client.c:1962</a></div></div>
<div class="ttc" id="astructstr2str__st_html_a1109ef4f27855b7f99a01b060d3bad51"><div class="ttname"><a href="../../d3/d6c/structstr2str__st.html#a1109ef4f27855b7f99a01b060d3bad51">str2str_st::my_name</a></div><div class="ttdeci">const char * my_name</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01961">client.c:1961</a></div></div>
<div class="ttc" id="astructstr2str__st_html_a5ea7bb54da30a7945a93dc5e6caefc96"><div class="ttname"><a href="../../d3/d6c/structstr2str__st.html#a5ea7bb54da30a7945a93dc5e6caefc96">str2str_st::os_name</a></div><div class="ttdeci">const char * os_name</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01960">client.c:1960</a></div></div>
<div class="ttc" id="athr__alarm_8h_html_a0f3d9ec5fc0aa4359ca24674a579ef22"><div class="ttname"><a href="../../d5/d85/thr__alarm_8h.html#a0f3d9ec5fc0aa4359ca24674a579ef22">thr_alarm_t</a></div><div class="ttdeci">thr_alarm_entry * thr_alarm_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d85/thr__alarm_8h_source.html#l00078">thr_alarm.h:78</a></div></div>
<div class="ttc" id="athr__alarm_8h_html_a150d7f0eb4aeea6341facd6d931475b7"><div class="ttname"><a href="../../d5/d85/thr__alarm_8h.html#a150d7f0eb4aeea6341facd6d931475b7">thr_end_alarm</a></div><div class="ttdeci">void thr_end_alarm(thr_alarm_t *alarmed)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/ddb/thr__alarm_8c_source.html#l00244">thr_alarm.c:244</a></div></div>
<div class="ttc" id="athr__alarm_8h_html_a41ddbe2759bc9d1d6c107674bcb88e25"><div class="ttname"><a href="../../d5/d85/thr__alarm_8h.html#a41ddbe2759bc9d1d6c107674bcb88e25">thr_alarm_init</a></div><div class="ttdeci">#define thr_alarm_init(A)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d85/thr__alarm_8h_source.html#l00091">thr_alarm.h:91</a></div></div>
<div class="ttc" id="athr__alarm_8h_html_adbed654dbd2397ea54cc01c3ea919a4f"><div class="ttname"><a href="../../d5/d85/thr__alarm_8h.html#adbed654dbd2397ea54cc01c3ea919a4f">thr_alarm</a></div><div class="ttdeci">my_bool thr_alarm(thr_alarm_t *alarmed, uint sec, ALARM *buff)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/ddb/thr__alarm_8c_source.html#l00152">thr_alarm.c:152</a></div></div>
<div class="ttc" id="atypelib_8h_html_ae1926af7ba7fd180a6ba06c52235486f"><div class="ttname"><a href="../../d9/de1/typelib_8h.html#ae1926af7ba7fd180a6ba06c52235486f">find_type</a></div><div class="ttdeci">int find_type(char *x, const TYPELIB *typelib, unsigned int full_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d52/typelib_8c_source.html#l00071">typelib.c:71</a></div></div>
<div class="ttc" id="aviolite_8h_html"><div class="ttname"><a href="../../d2/dd9/violite_8h.html">violite.h</a></div></div>
<div class="ttc" id="aviolite_8h_html_a1088917abfda0ffa6456775b41b86875"><div class="ttname"><a href="../../d2/dd9/violite_8h.html#a1088917abfda0ffa6456775b41b86875">vio_was_interrupted</a></div><div class="ttdeci">#define vio_was_interrupted(vio)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd9/violite_8h_source.html#l00167">violite.h:167</a></div></div>
<div class="ttc" id="aviolite_8h_html_a19bb776e1f97f12c68ee5e2e6be2281f"><div class="ttname"><a href="../../d2/dd9/violite_8h.html#a19bb776e1f97f12c68ee5e2e6be2281f">vio_keepalive</a></div><div class="ttdeci">#define vio_keepalive(vio, set_keep_alive)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd9/violite_8h_source.html#l00165">violite.h:165</a></div></div>
<div class="ttc" id="aviolite_8h_html_a1a38ce16d857fd45e25f81470d41158ea34315b46359594a8e0474caa3bc2df12"><div class="ttname"><a href="../../d2/dd9/violite_8h.html#a1a38ce16d857fd45e25f81470d41158ea34315b46359594a8e0474caa3bc2df12">VIO_TYPE_SHARED_MEMORY</a></div><div class="ttdeci">@ VIO_TYPE_SHARED_MEMORY</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd9/violite_8h_source.html#l00041">violite.h:40</a></div></div>
<div class="ttc" id="aviolite_8h_html_a1a38ce16d857fd45e25f81470d41158ea684a8a6fa66611329f79dcc33135c02c"><div class="ttname"><a href="../../d2/dd9/violite_8h.html#a1a38ce16d857fd45e25f81470d41158ea684a8a6fa66611329f79dcc33135c02c">VIO_TYPE_SSL</a></div><div class="ttdeci">@ VIO_TYPE_SSL</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd9/violite_8h_source.html#l00040">violite.h:40</a></div></div>
<div class="ttc" id="aviolite_8h_html_a1a38ce16d857fd45e25f81470d41158ea724e0772dfd37aedea7bc26543a2b5df"><div class="ttname"><a href="../../d2/dd9/violite_8h.html#a1a38ce16d857fd45e25f81470d41158ea724e0772dfd37aedea7bc26543a2b5df">VIO_TYPE_NAMEDPIPE</a></div><div class="ttdeci">@ VIO_TYPE_NAMEDPIPE</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd9/violite_8h_source.html#l00039">violite.h:39</a></div></div>
<div class="ttc" id="aviolite_8h_html_a1a38ce16d857fd45e25f81470d41158ea92665fff9b5c050ecd7b923c5aa78f46"><div class="ttname"><a href="../../d2/dd9/violite_8h.html#a1a38ce16d857fd45e25f81470d41158ea92665fff9b5c050ecd7b923c5aa78f46">VIO_TYPE_TCPIP</a></div><div class="ttdeci">@ VIO_TYPE_TCPIP</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd9/violite_8h_source.html#l00039">violite.h:39</a></div></div>
<div class="ttc" id="aviolite_8h_html_a1a38ce16d857fd45e25f81470d41158eaeea7a553641b7515fdd452a7d65a8931"><div class="ttname"><a href="../../d2/dd9/violite_8h.html#a1a38ce16d857fd45e25f81470d41158eaeea7a553641b7515fdd452a7d65a8931">VIO_TYPE_SOCKET</a></div><div class="ttdeci">@ VIO_TYPE_SOCKET</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd9/violite_8h_source.html#l00039">violite.h:39</a></div></div>
<div class="ttc" id="aviolite_8h_html_a1d4e5bb77e1faf63d8f4ba76fe933b49"><div class="ttname"><a href="../../d2/dd9/violite_8h.html#a1d4e5bb77e1faf63d8f4ba76fe933b49">VIO_LOCALHOST</a></div><div class="ttdeci">#define VIO_LOCALHOST</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd9/violite_8h_source.html#l00044">violite.h:44</a></div></div>
<div class="ttc" id="aviolite_8h_html_a309ac154d6228e5ae6c7a9d8c62522cf"><div class="ttname"><a href="../../d2/dd9/violite_8h.html#a309ac154d6228e5ae6c7a9d8c62522cf">vio_new</a></div><div class="ttdeci">Vio * vio_new(my_socket sd, enum enum_vio_type type, uint flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d28/vio_8c_source.html#l00184">vio.c:184</a></div></div>
<div class="ttc" id="aviolite_8h_html_aa7c29622ff42a3014aa23195205602e4"><div class="ttname"><a href="../../d2/dd9/violite_8h.html#aa7c29622ff42a3014aa23195205602e4">vio_poll_read</a></div><div class="ttdeci">#define vio_poll_read(vio, timeout)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd9/violite_8h_source.html#l00171">violite.h:171</a></div></div>
<div class="ttc" id="aviolite_8h_html_aadcc2a94246ddb59f11f253a90327ef5"><div class="ttname"><a href="../../d2/dd9/violite_8h.html#aadcc2a94246ddb59f11f253a90327ef5">vio_delete</a></div><div class="ttdeci">#define vio_delete(vio)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd9/violite_8h_source.html#l00157">violite.h:157</a></div></div>
<div class="ttc" id="aviolite_8h_html_ab521aa5010fb1afb801a899a55569e03"><div class="ttname"><a href="../../d2/dd9/violite_8h.html#ab521aa5010fb1afb801a899a55569e03">HANDLE</a></div><div class="ttdeci">#define HANDLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd9/violite_8h_source.html#l00059">violite.h:59</a></div></div>
<div class="ttc" id="aviolite_8h_html_ab6d8347e106e64fdfcffdf0447e7e4d1"><div class="ttname"><a href="../../d2/dd9/violite_8h.html#ab6d8347e106e64fdfcffdf0447e7e4d1">vio_description</a></div><div class="ttdeci">const char * vio_description(Vio *vio)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4e/viosocket_8c_source.html#l00301">viosocket.c:301</a></div></div>
<div class="ttc" id="aviolite_8h_html_ae660ef8953b15fc65dc2dd85b66e9580"><div class="ttname"><a href="../../d2/dd9/violite_8h.html#ae660ef8953b15fc65dc2dd85b66e9580">VIO_BUFFERED_READ</a></div><div class="ttdeci">#define VIO_BUFFERED_READ</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd9/violite_8h_source.html#l00045">violite.h:45</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
