<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Azerotcore-wotlk: deps/jemalloc/include/jemalloc/internal/large_externs.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Azerotcore-wotlk
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_94a36784afa54c0b50996002372b429e.html">deps</a></li><li class="navelem"><a class="el" href="../../dir_179d929e1819901db0d59fdfce5a15ff.html">jemalloc</a></li><li class="navelem"><a class="el" href="../../dir_1c00e99ca991a9ec95ff0cb85f01a428.html">include</a></li><li class="navelem"><a class="el" href="../../dir_0b82332d08f3ac224a4482f8ec581da2.html">jemalloc</a></li><li class="navelem"><a class="el" href="../../dir_73a57e0acb4c0561bba16ba678ab0d11.html">internal</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">large_externs.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../d6/d34/hook_8h_source.html">jemalloc/internal/hook.h</a>&quot;</code><br />
</div>
<p><a href="../../dd/d35/large__externs_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aeb4d383dc57c71caf8e8e1277249bf6e"><td class="memItemLeft" align="right" valign="top">typedef void()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d35/large__externs_8h.html#aeb4d383dc57c71caf8e8e1277249bf6e">large_dalloc_junk_t</a>(void *, size_t)</td></tr>
<tr class="separator:aeb4d383dc57c71caf8e8e1277249bf6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2416ba58ca4491cb40059882490e1a2"><td class="memItemLeft" align="right" valign="top">typedef void()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d35/large__externs_8h.html#ae2416ba58ca4491cb40059882490e1a2">large_dalloc_maybe_junk_t</a>(void *, size_t)</td></tr>
<tr class="separator:ae2416ba58ca4491cb40059882490e1a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6c15d81f961e91c5fd56be5131e2baee"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d35/large__externs_8h.html#a6c15d81f961e91c5fd56be5131e2baee">large_malloc</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *tsdn, <a class="el" href="../../d8/d5e/arena__types_8h.html#a75ec58797d4c793b05def94ed85c6bdc">arena_t</a> *<a class="el" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>, size_t usize, <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> zero)</td></tr>
<tr class="separator:a6c15d81f961e91c5fd56be5131e2baee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0157fca7c57d58c83f9856e8cc9e3322"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d35/large__externs_8h.html#a0157fca7c57d58c83f9856e8cc9e3322">large_palloc</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *tsdn, <a class="el" href="../../d8/d5e/arena__types_8h.html#a75ec58797d4c793b05def94ed85c6bdc">arena_t</a> *<a class="el" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>, size_t usize, size_t alignment, <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> zero)</td></tr>
<tr class="separator:a0157fca7c57d58c83f9856e8cc9e3322"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4692b31ef748ba5ad3a0fc6f77d425a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d35/large__externs_8h.html#aa4692b31ef748ba5ad3a0fc6f77d425a">large_ralloc_no_move</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *tsdn, <a class="el" href="../../d6/df2/extent__types_8h.html#a0e8b98172620022cff2a6a03d9150a86">extent_t</a> *extent, size_t usize_min, size_t usize_max, <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> zero)</td></tr>
<tr class="separator:aa4692b31ef748ba5ad3a0fc6f77d425a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa26048930523c9132eb0c73beb11bc6"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d35/large__externs_8h.html#afa26048930523c9132eb0c73beb11bc6">large_ralloc</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *tsdn, <a class="el" href="../../d8/d5e/arena__types_8h.html#a75ec58797d4c793b05def94ed85c6bdc">arena_t</a> *<a class="el" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>, void *<a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#aa6ec2d4315570f27d9637ce3c770e787">ptr</a>, size_t usize, size_t alignment, <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> zero, <a class="el" href="../../d9/d7d/tcache__types_8h.html#a6d7a41c928468d38e45e4cb0767932e6">tcache_t</a> *tcache, <a class="el" href="../../d6/d34/hook_8h.html#aeca480b4e2ff00c366fd538a7646401f">hook_ralloc_args_t</a> *hook_args)</td></tr>
<tr class="separator:afa26048930523c9132eb0c73beb11bc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79ffe2898306afec2d192a4c083e0972"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d35/large__externs_8h.html#a79ffe2898306afec2d192a4c083e0972">large_dalloc_prep_junked_locked</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *tsdn, <a class="el" href="../../d6/df2/extent__types_8h.html#a0e8b98172620022cff2a6a03d9150a86">extent_t</a> *extent)</td></tr>
<tr class="separator:a79ffe2898306afec2d192a4c083e0972"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8c4273637089b0f79b07d1d7c06f253"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d35/large__externs_8h.html#ac8c4273637089b0f79b07d1d7c06f253">large_dalloc_finish</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *tsdn, <a class="el" href="../../d6/df2/extent__types_8h.html#a0e8b98172620022cff2a6a03d9150a86">extent_t</a> *extent)</td></tr>
<tr class="separator:ac8c4273637089b0f79b07d1d7c06f253"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08c5ffd61bf9c477a467d238c50df802"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d35/large__externs_8h.html#a08c5ffd61bf9c477a467d238c50df802">large_dalloc</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *tsdn, <a class="el" href="../../d6/df2/extent__types_8h.html#a0e8b98172620022cff2a6a03d9150a86">extent_t</a> *extent)</td></tr>
<tr class="separator:a08c5ffd61bf9c477a467d238c50df802"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae8b6fcd7c4365a1ea1e97db71600cfc"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d35/large__externs_8h.html#aae8b6fcd7c4365a1ea1e97db71600cfc">large_salloc</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *tsdn, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/df2/extent__types_8h.html#a0e8b98172620022cff2a6a03d9150a86">extent_t</a> *extent)</td></tr>
<tr class="separator:aae8b6fcd7c4365a1ea1e97db71600cfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6c5af9a001fb8ddcddec2835689da31"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d2c/prof__types_8h.html#abeea2850aa56b1f29482d3fae1e83785">prof_tctx_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d35/large__externs_8h.html#ad6c5af9a001fb8ddcddec2835689da31">large_prof_tctx_get</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *tsdn, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/df2/extent__types_8h.html#a0e8b98172620022cff2a6a03d9150a86">extent_t</a> *extent)</td></tr>
<tr class="separator:ad6c5af9a001fb8ddcddec2835689da31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aaaec50ffe1b85bfc2b0d79bf5ac284"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d35/large__externs_8h.html#a6aaaec50ffe1b85bfc2b0d79bf5ac284">large_prof_tctx_set</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *tsdn, <a class="el" href="../../d6/df2/extent__types_8h.html#a0e8b98172620022cff2a6a03d9150a86">extent_t</a> *extent, <a class="el" href="../../da/d2c/prof__types_8h.html#abeea2850aa56b1f29482d3fae1e83785">prof_tctx_t</a> *<a class="el" href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a>)</td></tr>
<tr class="separator:a6aaaec50ffe1b85bfc2b0d79bf5ac284"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab02d7042a0ef7802aa4bebe7682efcbc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d35/large__externs_8h.html#ab02d7042a0ef7802aa4bebe7682efcbc">large_prof_tctx_reset</a> (<a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *tsdn, <a class="el" href="../../d6/df2/extent__types_8h.html#a0e8b98172620022cff2a6a03d9150a86">extent_t</a> *extent)</td></tr>
<tr class="separator:ab02d7042a0ef7802aa4bebe7682efcbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5126841312582e765f12ca0348b4b4bc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d0a/structnstime__t.html">nstime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d35/large__externs_8h.html#a5126841312582e765f12ca0348b4b4bc">large_prof_alloc_time_get</a> (<a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/df2/extent__types_8h.html#a0e8b98172620022cff2a6a03d9150a86">extent_t</a> *extent)</td></tr>
<tr class="separator:a5126841312582e765f12ca0348b4b4bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7f046648f49dbc59ae124aaa5b5de2d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d35/large__externs_8h.html#ab7f046648f49dbc59ae124aaa5b5de2d">large_prof_alloc_time_set</a> (<a class="el" href="../../d6/df2/extent__types_8h.html#a0e8b98172620022cff2a6a03d9150a86">extent_t</a> *extent, <a class="el" href="../../de/d0a/structnstime__t.html">nstime_t</a> time)</td></tr>
<tr class="separator:ab7f046648f49dbc59ae124aaa5b5de2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a9acbccad4eb1c1355f7aa240e9bbdc66"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d35/large__externs_8h.html#aeb4d383dc57c71caf8e8e1277249bf6e">large_dalloc_junk_t</a> *<a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#abd5dc096d0ce9c898e3d084d9436570c">JET_MUTABLE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d35/large__externs_8h.html#a9acbccad4eb1c1355f7aa240e9bbdc66">large_dalloc_junk</a></td></tr>
<tr class="separator:a9acbccad4eb1c1355f7aa240e9bbdc66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1576e12a2d5f7634e8b17c46f2ec0cfc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d35/large__externs_8h.html#ae2416ba58ca4491cb40059882490e1a2">large_dalloc_maybe_junk_t</a> *<a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#abd5dc096d0ce9c898e3d084d9436570c">JET_MUTABLE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d35/large__externs_8h.html#a1576e12a2d5f7634e8b17c46f2ec0cfc">large_dalloc_maybe_junk</a></td></tr>
<tr class="separator:a1576e12a2d5f7634e8b17c46f2ec0cfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="aeb4d383dc57c71caf8e8e1277249bf6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb4d383dc57c71caf8e8e1277249bf6e">&#9670;&nbsp;</a></span>large_dalloc_junk_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void() large_dalloc_junk_t(void *, size_t)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d35/large__externs_8h_source.html#l00015">15</a> of file <a class="el" href="../../dd/d35/large__externs_8h_source.html">large_externs.h</a>.</p>

</div>
</div>
<a id="ae2416ba58ca4491cb40059882490e1a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2416ba58ca4491cb40059882490e1a2">&#9670;&nbsp;</a></span>large_dalloc_maybe_junk_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void() large_dalloc_maybe_junk_t(void *, size_t)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d35/large__externs_8h_source.html#l00018">18</a> of file <a class="el" href="../../dd/d35/large__externs_8h_source.html">large_externs.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a08c5ffd61bf9c477a467d238c50df802"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08c5ffd61bf9c477a467d238c50df802">&#9670;&nbsp;</a></span>large_dalloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void large_dalloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *&#160;</td>
          <td class="paramname"><em>tsdn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/df2/extent__types_8h.html#a0e8b98172620022cff2a6a03d9150a86">extent_t</a> *&#160;</td>
          <td class="paramname"><em>extent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d23/large_8c_source.html#l00360">360</a> of file <a class="el" href="../../d8/d23/large_8c_source.html">large.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                                             {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <a class="code" href="../../da/dc2/structarena__s.html">arena_t</a> *<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a> = <a class="code" href="../../d2/dde/extent__inlines_8h.html#a9a2fa41b7062d0d160b03557463a24f3">extent_arena_get</a>(extent);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <a class="code" href="../../d8/d23/large_8c.html#a68870d3d8f15fbd5131a2dac70347155">large_dalloc_prep_impl</a>(tsdn, <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>, extent, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <a class="code" href="../../d8/d23/large_8c.html#aedef3ced0a3e1499d705b29fe3e652d7">large_dalloc_finish_impl</a>(tsdn, <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>, extent);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <a class="code" href="../../d6/d23/arena__inlines__b_8h.html#ae59c65c425ebb036574a5ff7301e975d">arena_decay_tick</a>(tsdn, <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;}</div>
<div class="ttc" id="aarena__inlines__b_8h_html_ae59c65c425ebb036574a5ff7301e975d"><div class="ttname"><a href="../../d6/d23/arena__inlines__b_8h.html#ae59c65c425ebb036574a5ff7301e975d">arena_decay_tick</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE void arena_decay_tick(tsdn_t *tsdn, arena_t *arena)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d23/arena__inlines__b_8h_source.html#l00131">arena_inlines_b.h:131</a></div></div>
<div class="ttc" id="abackground__thread_8c_html_ac9323a11b5f8df8d4a1c86d8a98ac434"><div class="ttname"><a href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a></div><div class="ttdeci">bool arena_t * arena</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd3/background__thread_8c_source.html#l00057">background_thread.c:57</a></div></div>
<div class="ttc" id="aextent__inlines_8h_html_a9a2fa41b7062d0d160b03557463a24f3"><div class="ttname"><a href="../../d2/dde/extent__inlines_8h.html#a9a2fa41b7062d0d160b03557463a24f3">extent_arena_get</a></div><div class="ttdeci">static arena_t * extent_arena_get(const extent_t *extent)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dde/extent__inlines_8h_source.html#l00048">extent_inlines.h:48</a></div></div>
<div class="ttc" id="alarge_8c_html_a68870d3d8f15fbd5131a2dac70347155"><div class="ttname"><a href="../../d8/d23/large_8c.html#a68870d3d8f15fbd5131a2dac70347155">large_dalloc_prep_impl</a></div><div class="ttdeci">static void large_dalloc_prep_impl(tsdn_t *tsdn, arena_t *arena, extent_t *extent, bool junked_locked)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d23/large_8c_source.html#l00322">large.c:322</a></div></div>
<div class="ttc" id="alarge_8c_html_aedef3ced0a3e1499d705b29fe3e652d7"><div class="ttname"><a href="../../d8/d23/large_8c.html#aedef3ced0a3e1499d705b29fe3e652d7">large_dalloc_finish_impl</a></div><div class="ttdeci">static void large_dalloc_finish_impl(tsdn_t *tsdn, arena_t *arena, extent_t *extent)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d23/large_8c_source.html#l00344">large.c:344</a></div></div>
<div class="ttc" id="astructarena__s_html"><div class="ttname"><a href="../../da/dc2/structarena__s.html">arena_s</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de1/arena__structs__b_8h_source.html#l00077">arena_structs_b.h:77</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/dd3/background__thread_8c_source.html#l00057">arena</a>, <a class="el" href="../../d6/d23/arena__inlines__b_8h_source.html#l00131">arena_decay_tick()</a>, <a class="el" href="../../d2/dde/extent__inlines_8h_source.html#l00048">extent_arena_get()</a>, <a class="el" href="../../d8/d23/large_8c_source.html#l00344">large_dalloc_finish_impl()</a>, and <a class="el" href="../../d8/d23/large_8c_source.html#l00322">large_dalloc_prep_impl()</a>.</p>

</div>
</div>
<a id="ac8c4273637089b0f79b07d1d7c06f253"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8c4273637089b0f79b07d1d7c06f253">&#9670;&nbsp;</a></span>large_dalloc_finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void large_dalloc_finish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *&#160;</td>
          <td class="paramname"><em>tsdn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/df2/extent__types_8h.html#a0e8b98172620022cff2a6a03d9150a86">extent_t</a> *&#160;</td>
          <td class="paramname"><em>extent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d23/large_8c_source.html#l00355">355</a> of file <a class="el" href="../../d8/d23/large_8c_source.html">large.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                                                    {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <a class="code" href="../../d8/d23/large_8c.html#aedef3ced0a3e1499d705b29fe3e652d7">large_dalloc_finish_impl</a>(tsdn, <a class="code" href="../../d2/dde/extent__inlines_8h.html#a9a2fa41b7062d0d160b03557463a24f3">extent_arena_get</a>(extent), extent);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/dde/extent__inlines_8h_source.html#l00048">extent_arena_get()</a>, and <a class="el" href="../../d8/d23/large_8c_source.html#l00344">large_dalloc_finish_impl()</a>.</p>

</div>
</div>
<a id="a79ffe2898306afec2d192a4c083e0972"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79ffe2898306afec2d192a4c083e0972">&#9670;&nbsp;</a></span>large_dalloc_prep_junked_locked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void large_dalloc_prep_junked_locked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *&#160;</td>
          <td class="paramname"><em>tsdn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/df2/extent__types_8h.html#a0e8b98172620022cff2a6a03d9150a86">extent_t</a> *&#160;</td>
          <td class="paramname"><em>extent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d23/large_8c_source.html#l00350">350</a> of file <a class="el" href="../../d8/d23/large_8c_source.html">large.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                                                                {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <a class="code" href="../../d8/d23/large_8c.html#a68870d3d8f15fbd5131a2dac70347155">large_dalloc_prep_impl</a>(tsdn, <a class="code" href="../../d2/dde/extent__inlines_8h.html#a9a2fa41b7062d0d160b03557463a24f3">extent_arena_get</a>(extent), extent, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/dde/extent__inlines_8h_source.html#l00048">extent_arena_get()</a>, and <a class="el" href="../../d8/d23/large_8c_source.html#l00322">large_dalloc_prep_impl()</a>.</p>

</div>
</div>
<a id="a6c15d81f961e91c5fd56be5131e2baee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c15d81f961e91c5fd56be5131e2baee">&#9670;&nbsp;</a></span>large_malloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* large_malloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *&#160;</td>
          <td class="paramname"><em>tsdn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d5e/arena__types_8h.html#a75ec58797d4c793b05def94ed85c6bdc">arena_t</a> *&#160;</td>
          <td class="paramname"><em>arena</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>usize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>zero</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d23/large_8c_source.html#l00014">14</a> of file <a class="el" href="../../d8/d23/large_8c_source.html">large.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;                                                                    {</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(usize == <a class="code" href="../../db/d04/sz_8h.html#a3f43fd132f781edb0d4a1a2cbcd6f80f">sz_s2u</a>(usize));</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160; </div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d23/large_8c.html#a0157fca7c57d58c83f9856e8cc9e3322">large_palloc</a>(tsdn, <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>, usize, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#aa62717a1fae2c57f94f2a9b8ae08ec49">CACHELINE</a>, <a class="code" href="../../df/de2/namespace_g3_d.html#afe56d91f54a2ecc472b75ccf88b4c59c">zero</a>);</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;}</div>
<div class="ttc" id="aemitter_8h_html_a7f6f984a70f2a669b89e3f10c795932f"><div class="ttname"><a href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a></div><div class="ttdeci">assert(written&lt; out_size)</div></div>
<div class="ttc" id="ajemalloc__internal_8h_html_aa62717a1fae2c57f94f2a9b8ae08ec49"><div class="ttname"><a href="../../d9/d33/jemalloc__internal_8h.html#aa62717a1fae2c57f94f2a9b8ae08ec49">CACHELINE</a></div><div class="ttdeci">#define CACHELINE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/jemalloc__internal_8h_source.html#l00348">jemalloc_internal.h:348</a></div></div>
<div class="ttc" id="alarge_8c_html_a0157fca7c57d58c83f9856e8cc9e3322"><div class="ttname"><a href="../../d8/d23/large_8c.html#a0157fca7c57d58c83f9856e8cc9e3322">large_palloc</a></div><div class="ttdeci">void * large_palloc(tsdn_t *tsdn, arena_t *arena, size_t usize, size_t alignment, bool zero)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d23/large_8c_source.html#l00021">large.c:21</a></div></div>
<div class="ttc" id="anamespace_g3_d_html_afe56d91f54a2ecc472b75ccf88b4c59c"><div class="ttname"><a href="../../df/de2/namespace_g3_d.html#afe56d91f54a2ecc472b75ccf88b4c59c">G3D::zero</a></div><div class="ttdeci">static unorm16 zero()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd6/unorm16_8h_source.html#l00082">unorm16.h:82</a></div></div>
<div class="ttc" id="asz_8h_html_a3f43fd132f781edb0d4a1a2cbcd6f80f"><div class="ttname"><a href="../../db/d04/sz_8h.html#a3f43fd132f781edb0d4a1a2cbcd6f80f">sz_s2u</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE size_t sz_s2u(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d04/sz_8h_source.html#l00251">sz.h:251</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/dd3/background__thread_8c_source.html#l00057">arena</a>, <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00348">CACHELINE</a>, <a class="el" href="../../d8/d23/large_8c_source.html#l00021">large_palloc()</a>, <a class="el" href="../../db/d04/sz_8h_source.html#l00251">sz_s2u()</a>, and <a class="el" href="../../d6/dd6/unorm16_8h_source.html#l00082">G3D::zero()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d23/large_8c_source.html#l00265">large_ralloc_move_helper()</a>.</p>

</div>
</div>
<a id="a0157fca7c57d58c83f9856e8cc9e3322"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0157fca7c57d58c83f9856e8cc9e3322">&#9670;&nbsp;</a></span>large_palloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* large_palloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *&#160;</td>
          <td class="paramname"><em>tsdn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d5e/arena__types_8h.html#a75ec58797d4c793b05def94ed85c6bdc">arena_t</a> *&#160;</td>
          <td class="paramname"><em>arena</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>usize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>alignment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>zero</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d23/large_8c_source.html#l00021">21</a> of file <a class="el" href="../../d8/d23/large_8c_source.html">large.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;               {</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    <span class="keywordtype">size_t</span> ausize;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <a class="code" href="../../d5/dcb/structextent__s.html">extent_t</a> *extent;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <span class="keywordtype">bool</span> is_zeroed;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a> <span class="keywordtype">bool</span> idump <a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a000aefd29f2af655d2b9fad2fa340e32">JEMALLOC_CC_SILENCE_INIT</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160; </div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(!<a class="code" href="../../db/d1d/tsd_8h.html#a46a186c007cb1897b80f014c43f762ba">tsdn_null</a>(tsdn) || <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a> != <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>);</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    ausize = <a class="code" href="../../db/d04/sz_8h.html#a8506233457e9ceb58a016db4340d1266">sz_sa2u</a>(usize, alignment);</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(ausize == 0 || ausize &gt; <a class="code" href="../../d9/d50/sc_8h.html#ac66e2f56f4f0411ca5d5c3444ba4d491">SC_LARGE_MAXCLASS</a>)) {</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    }</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae748e1d523f2898bc177b42c1c14fa0f">config_fill</a> &amp;&amp; <a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a class="code" href="../../dd/de2/private__namespace_8h.html#a074e692247513ad83a2107695ab2fcfb">opt_zero</a>)) {</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <a class="code" href="../../df/de2/namespace_g3_d.html#afe56d91f54a2ecc472b75ccf88b4c59c">zero</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    }</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">     * Copy zero into is_zeroed and pass the copy when allocating the</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">     * extent, so that it is possible to make correct junk/zero fill</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">     * decisions below, even if is_zeroed ends up true when zero is false.</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    is_zeroed = <a class="code" href="../../df/de2/namespace_g3_d.html#afe56d91f54a2ecc472b75ccf88b4c59c">zero</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a217a0bd562b98ae8c2ffce44935351e1">likely</a>(!<a class="code" href="../../db/d1d/tsd_8h.html#a46a186c007cb1897b80f014c43f762ba">tsdn_null</a>(tsdn))) {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a> = <a class="code" href="../../d6/d23/arena__inlines__b_8h.html#a0737138397a3f55874c972e574bdb85b">arena_choose_maybe_huge</a>(<a class="code" href="../../db/d1d/tsd_8h.html#a261ce33c28d5ef1b6e80d94b18b574d0">tsdn_tsd</a>(tsdn), <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>, usize);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    }</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a> == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>) || (extent = <a class="code" href="../../dd/de2/private__namespace_8h.html#a918defdefbe3ad9e70aba42ac29cba18">arena_extent_alloc_large</a>(tsdn,</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>, usize, alignment, &amp;is_zeroed)) == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>) {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    }</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="comment">/* See comments in arena_bin_slabs_full_insert(). */</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d9/dfd/jemalloc__internal__inlines__b_8h.html#aa8f2af0fc166800101b06f7ade39a97b">arena_is_auto</a>(<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>)) {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="comment">/* Insert extent into large. */</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <a class="code" href="../../d0/df8/mutex_8h.html#a8ef3eafed2797ee477454ac0846022c5">malloc_mutex_lock</a>(tsdn, &amp;<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>-&gt;<a class="code" href="../../da/dc2/structarena__s.html#a8aa58b7464de0b651f65a568d4915088">large_mtx</a>);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <a class="code" href="../../d2/dde/extent__inlines_8h.html#ae360b693926945dc8b834ec5da137e29">extent_list_append</a>(&amp;<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>-&gt;<a class="code" href="../../da/dc2/structarena__s.html#a8ba47e7d7a65934fb0db8ee5991da60d">large</a>, extent);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <a class="code" href="../../d0/df8/mutex_8h.html#a154125aa931881a4a7f0ee6b59fe96ba">malloc_mutex_unlock</a>(tsdn, &amp;<a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>-&gt;<a class="code" href="../../da/dc2/structarena__s.html#a8aa58b7464de0b651f65a568d4915088">large_mtx</a>);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    }</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#a6bba19605480b2588c644265529447c2">config_prof</a> &amp;&amp; <a class="code" href="../../de/de3/arena__inlines__a_8h.html#a4171221343bc6d5bd0ff91a615d47aea">arena_prof_accum</a>(tsdn, <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>, usize)) {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <a class="code" href="../../dd/de2/private__namespace_8h.html#ab55284f69bbfee26ef1361f9b2c969cf">prof_idump</a>(tsdn);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    }</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/de2/namespace_g3_d.html#afe56d91f54a2ecc472b75ccf88b4c59c">zero</a>) {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(is_zeroed);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae748e1d523f2898bc177b42c1c14fa0f">config_fill</a> &amp;&amp; <a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a class="code" href="../../dd/de2/private__namespace_8h.html#a4e998eeeec176c6440803da35fd1e725">opt_junk_alloc</a>)) {</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(<a class="code" href="../../d2/dde/extent__inlines_8h.html#a9b0e1fdf6da92df7e397013712ce7140">extent_addr_get</a>(extent), <a class="code" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a826f44b10688745ba3da56a470899fae">JEMALLOC_ALLOC_JUNK</a>,</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            <a class="code" href="../../d2/dde/extent__inlines_8h.html#a727c2ff785fa54651edbadab1b36d357">extent_usize_get</a>(extent));</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <a class="code" href="../../d6/d23/arena__inlines__b_8h.html#ae59c65c425ebb036574a5ff7301e975d">arena_decay_tick</a>(tsdn, <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d2/dde/extent__inlines_8h.html#a9b0e1fdf6da92df7e397013712ce7140">extent_addr_get</a>(extent);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;}</div>
<div class="ttc" id="aarena__inlines__a_8h_html_a4171221343bc6d5bd0ff91a615d47aea"><div class="ttname"><a href="../../de/de3/arena__inlines__a_8h.html#a4171221343bc6d5bd0ff91a615d47aea">arena_prof_accum</a></div><div class="ttdeci">static bool arena_prof_accum(tsdn_t *tsdn, arena_t *arena, uint64_t accumbytes)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/arena__inlines__a_8h_source.html#l00025">arena_inlines_a.h:25</a></div></div>
<div class="ttc" id="aarena__inlines__b_8h_html_a0737138397a3f55874c972e574bdb85b"><div class="ttname"><a href="../../d6/d23/arena__inlines__b_8h.html#a0737138397a3f55874c972e574bdb85b">arena_choose_maybe_huge</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE arena_t * arena_choose_maybe_huge(tsd_t *tsd, arena_t *arena, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d23/arena__inlines__b_8h_source.html#l00017">arena_inlines_b.h:17</a></div></div>
<div class="ttc" id="adeps_2jemalloc_2include_2jemalloc_2internal_2util_8h_html_a000aefd29f2af655d2b9fad2fa340e32"><div class="ttname"><a href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a000aefd29f2af655d2b9fad2fa340e32">JEMALLOC_CC_SILENCE_INIT</a></div><div class="ttdeci">#define JEMALLOC_CC_SILENCE_INIT(v)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00029">util.h:29</a></div></div>
<div class="ttc" id="adeps_2jemalloc_2include_2jemalloc_2internal_2util_8h_html_a217a0bd562b98ae8c2ffce44935351e1"><div class="ttname"><a href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a217a0bd562b98ae8c2ffce44935351e1">likely</a></div><div class="ttdeci">#define likely(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00035">util.h:35</a></div></div>
<div class="ttc" id="adeps_2jemalloc_2include_2jemalloc_2internal_2util_8h_html_a826f44b10688745ba3da56a470899fae"><div class="ttname"><a href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#a826f44b10688745ba3da56a470899fae">JEMALLOC_ALLOC_JUNK</a></div><div class="ttdeci">#define JEMALLOC_ALLOC_JUNK</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00008">util.h:8</a></div></div>
<div class="ttc" id="adeps_2jemalloc_2include_2jemalloc_2internal_2util_8h_html_ac6c45889010c1bd68631771b64f18101"><div class="ttname"><a href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a></div><div class="ttdeci">#define unlikely(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00036">util.h:36</a></div></div>
<div class="ttc" id="aextent__inlines_8h_html_a727c2ff785fa54651edbadab1b36d357"><div class="ttname"><a href="../../d2/dde/extent__inlines_8h.html#a727c2ff785fa54651edbadab1b36d357">extent_usize_get</a></div><div class="ttdeci">static size_t extent_usize_get(const extent_t *extent)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dde/extent__inlines_8h_source.html#l00070">extent_inlines.h:70</a></div></div>
<div class="ttc" id="aextent__inlines_8h_html_a9b0e1fdf6da92df7e397013712ce7140"><div class="ttname"><a href="../../d2/dde/extent__inlines_8h.html#a9b0e1fdf6da92df7e397013712ce7140">extent_addr_get</a></div><div class="ttdeci">static void * extent_addr_get(const extent_t *extent)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dde/extent__inlines_8h_source.html#l00133">extent_inlines.h:133</a></div></div>
<div class="ttc" id="aextent__inlines_8h_html_ae360b693926945dc8b834ec5da137e29"><div class="ttname"><a href="../../d2/dde/extent__inlines_8h.html#ae360b693926945dc8b834ec5da137e29">extent_list_append</a></div><div class="ttdeci">static void extent_list_append(extent_list_t *list, extent_t *extent)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dde/extent__inlines_8h_source.html#l00422">extent_inlines.h:422</a></div></div>
<div class="ttc" id="ajemalloc__internal_8h_html_a6bba19605480b2588c644265529447c2"><div class="ttname"><a href="../../d9/d33/jemalloc__internal_8h.html#a6bba19605480b2588c644265529447c2">config_prof</a></div><div class="ttdeci">static const bool config_prof</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/jemalloc__internal_8h_source.html#l00106">jemalloc_internal.h:106</a></div></div>
<div class="ttc" id="ajemalloc__internal_8h_html_addf5ec070e9499d36b7f2009ce736076"><div class="ttname"><a href="../../d9/d33/jemalloc__internal_8h.html#addf5ec070e9499d36b7f2009ce736076">UNUSED</a></div><div class="ttdeci">#define UNUSED</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/jemalloc__internal_8h_source.html#l00075">jemalloc_internal.h:75</a></div></div>
<div class="ttc" id="ajemalloc__internal_8h_html_ae748e1d523f2898bc177b42c1c14fa0f"><div class="ttname"><a href="../../d9/d33/jemalloc__internal_8h.html#ae748e1d523f2898bc177b42c1c14fa0f">config_fill</a></div><div class="ttdeci">static const bool config_fill</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/jemalloc__internal_8h_source.html#l00092">jemalloc_internal.h:92</a></div></div>
<div class="ttc" id="ajemalloc__internal_8h_html_ae89ee89f41328ac0ade1e3e26c103570"><div class="ttname"><a href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a></div><div class="ttdeci">arena_t NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">jemalloc_internal.h:624</a></div></div>
<div class="ttc" id="ajemalloc__internal__inlines__b_8h_html_aa8f2af0fc166800101b06f7ade39a97b"><div class="ttname"><a href="../../d9/dfd/jemalloc__internal__inlines__b_8h.html#aa8f2af0fc166800101b06f7ade39a97b">arena_is_auto</a></div><div class="ttdeci">static bool arena_is_auto(arena_t *arena)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dfd/jemalloc__internal__inlines__b_8h_source.html#l00072">jemalloc_internal_inlines_b.h:72</a></div></div>
<div class="ttc" id="am__string_8h_html_af1756e67d46227b3333bc21a1fadd361"><div class="ttname"><a href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a></div><div class="ttdeci">#define memset(A, C, B)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dda/m__string_8h_source.html#l00051">m_string.h:51</a></div></div>
<div class="ttc" id="amutex_8h_html_a154125aa931881a4a7f0ee6b59fe96ba"><div class="ttname"><a href="../../d0/df8/mutex_8h.html#a154125aa931881a4a7f0ee6b59fe96ba">malloc_mutex_unlock</a></div><div class="ttdeci">static void malloc_mutex_unlock(tsdn_t *tsdn, malloc_mutex_t *mutex)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df8/mutex_8h_source.html#l00230">mutex.h:230</a></div></div>
<div class="ttc" id="amutex_8h_html_a8ef3eafed2797ee477454ac0846022c5"><div class="ttname"><a href="../../d0/df8/mutex_8h.html#a8ef3eafed2797ee477454ac0846022c5">malloc_mutex_lock</a></div><div class="ttdeci">static void malloc_mutex_lock(tsdn_t *tsdn, malloc_mutex_t *mutex)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df8/mutex_8h_source.html#l00217">mutex.h:217</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a074e692247513ad83a2107695ab2fcfb"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a074e692247513ad83a2107695ab2fcfb">opt_zero</a></div><div class="ttdeci">#define opt_zero</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00037">private_namespace.h:37</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a4e998eeeec176c6440803da35fd1e725"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a4e998eeeec176c6440803da35fd1e725">opt_junk_alloc</a></div><div class="ttdeci">#define opt_junk_alloc</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00032">private_namespace.h:32</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a918defdefbe3ad9e70aba42ac29cba18"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a918defdefbe3ad9e70aba42ac29cba18">arena_extent_alloc_large</a></div><div class="ttdeci">#define arena_extent_alloc_large</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00056">private_namespace.h:56</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_ab55284f69bbfee26ef1361f9b2c969cf"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#ab55284f69bbfee26ef1361f9b2c969cf">prof_idump</a></div><div class="ttdeci">#define prof_idump</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00323">private_namespace.h:323</a></div></div>
<div class="ttc" id="asc_8h_html_ac66e2f56f4f0411ca5d5c3444ba4d491"><div class="ttname"><a href="../../d9/d50/sc_8h.html#ac66e2f56f4f0411ca5d5c3444ba4d491">SC_LARGE_MAXCLASS</a></div><div class="ttdeci">#define SC_LARGE_MAXCLASS</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d50/sc_8h_source.html#l00265">sc.h:265</a></div></div>
<div class="ttc" id="astructarena__s_html_a8aa58b7464de0b651f65a568d4915088"><div class="ttname"><a href="../../da/dc2/structarena__s.html#a8aa58b7464de0b651f65a568d4915088">arena_s::large_mtx</a></div><div class="ttdeci">malloc_mutex_t large_mtx</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de1/arena__structs__b_8h_source.html#l00156">arena_structs_b.h:156</a></div></div>
<div class="ttc" id="astructarena__s_html_a8ba47e7d7a65934fb0db8ee5991da60d"><div class="ttname"><a href="../../da/dc2/structarena__s.html#a8ba47e7d7a65934fb0db8ee5991da60d">arena_s::large</a></div><div class="ttdeci">extent_list_t large</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de1/arena__structs__b_8h_source.html#l00154">arena_structs_b.h:154</a></div></div>
<div class="ttc" id="astructextent__s_html"><div class="ttname"><a href="../../d5/dcb/structextent__s.html">extent_s</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d71/extent__structs_8h_source.html#l00020">extent_structs.h:20</a></div></div>
<div class="ttc" id="asz_8h_html_a8506233457e9ceb58a016db4340d1266"><div class="ttname"><a href="../../db/d04/sz_8h.html#a8506233457e9ceb58a016db4340d1266">sz_sa2u</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE size_t sz_sa2u(size_t size, size_t alignment)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d04/sz_8h_source.html#l00263">sz.h:263</a></div></div>
<div class="ttc" id="atsd_8h_html_a261ce33c28d5ef1b6e80d94b18b574d0"><div class="ttname"><a href="../../db/d1d/tsd_8h.html#a261ce33c28d5ef1b6e80d94b18b574d0">tsdn_tsd</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE tsd_t * tsdn_tsd(tsdn_t *tsdn)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d1d/tsd_8h_source.html#l00234">tsd.h:234</a></div></div>
<div class="ttc" id="atsd_8h_html_a46a186c007cb1897b80f014c43f762ba"><div class="ttname"><a href="../../db/d1d/tsd_8h.html#a46a186c007cb1897b80f014c43f762ba">tsdn_null</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE bool tsdn_null(const tsdn_t *tsdn)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d1d/tsd_8h_source.html#l00229">tsd.h:229</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/dd3/background__thread_8c_source.html#l00057">arena</a>, <a class="el" href="../../d6/d23/arena__inlines__b_8h_source.html#l00017">arena_choose_maybe_huge()</a>, <a class="el" href="../../d6/d23/arena__inlines__b_8h_source.html#l00131">arena_decay_tick()</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00056">arena_extent_alloc_large</a>, <a class="el" href="../../d9/dfd/jemalloc__internal__inlines__b_8h_source.html#l00072">arena_is_auto()</a>, <a class="el" href="../../de/de3/arena__inlines__a_8h_source.html#l00025">arena_prof_accum()</a>, <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00092">config_fill</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00106">config_prof</a>, <a class="el" href="../../d2/dde/extent__inlines_8h_source.html#l00133">extent_addr_get()</a>, <a class="el" href="../../d2/dde/extent__inlines_8h_source.html#l00422">extent_list_append()</a>, <a class="el" href="../../d2/dde/extent__inlines_8h_source.html#l00070">extent_usize_get()</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00008">JEMALLOC_ALLOC_JUNK</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00029">JEMALLOC_CC_SILENCE_INIT</a>, <a class="el" href="../../dc/de1/arena__structs__b_8h_source.html#l00154">arena_s::large</a>, <a class="el" href="../../dc/de1/arena__structs__b_8h_source.html#l00156">arena_s::large_mtx</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00035">likely</a>, <a class="el" href="../../d0/df8/mutex_8h_source.html#l00217">malloc_mutex_lock()</a>, <a class="el" href="../../d0/df8/mutex_8h_source.html#l00230">malloc_mutex_unlock()</a>, <a class="el" href="../../d6/dda/m__string_8h_source.html#l00051">memset</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00032">opt_junk_alloc</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00037">opt_zero</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00323">prof_idump</a>, <a class="el" href="../../d9/d50/sc_8h_source.html#l00265">SC_LARGE_MAXCLASS</a>, <a class="el" href="../../db/d04/sz_8h_source.html#l00263">sz_sa2u()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00229">tsdn_null()</a>, <a class="el" href="../../db/d1d/tsd_8h_source.html#l00234">tsdn_tsd()</a>, <a class="el" href="../../dd/de0/deps_2jemalloc_2include_2jemalloc_2internal_2util_8h_source.html#l00036">unlikely</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00075">UNUSED</a>, and <a class="el" href="../../d6/dd6/unorm16_8h_source.html#l00082">G3D::zero()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d23/large_8c_source.html#l00014">large_malloc()</a>, and <a class="el" href="../../d8/d23/large_8c_source.html#l00265">large_ralloc_move_helper()</a>.</p>

</div>
</div>
<a id="a5126841312582e765f12ca0348b4b4bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5126841312582e765f12ca0348b4b4bc">&#9670;&nbsp;</a></span>large_prof_alloc_time_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d0a/structnstime__t.html">nstime_t</a> large_prof_alloc_time_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/df2/extent__types_8h.html#a0e8b98172620022cff2a6a03d9150a86">extent_t</a> *&#160;</td>
          <td class="paramname"><em>extent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d23/large_8c_source.html#l00388">388</a> of file <a class="el" href="../../d8/d23/large_8c_source.html">large.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                                                  {</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d2/dde/extent__inlines_8h.html#ac802a0f655f5ac52f153c71beb564783">extent_prof_alloc_time_get</a>(extent);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;}</div>
<div class="ttc" id="aextent__inlines_8h_html_ac802a0f655f5ac52f153c71beb564783"><div class="ttname"><a href="../../d2/dde/extent__inlines_8h.html#ac802a0f655f5ac52f153c71beb564783">extent_prof_alloc_time_get</a></div><div class="ttdeci">static nstime_t extent_prof_alloc_time_get(const extent_t *extent)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dde/extent__inlines_8h_source.html#l00190">extent_inlines.h:190</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/dde/extent__inlines_8h_source.html#l00190">extent_prof_alloc_time_get()</a>.</p>

</div>
</div>
<a id="ab7f046648f49dbc59ae124aaa5b5de2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7f046648f49dbc59ae124aaa5b5de2d">&#9670;&nbsp;</a></span>large_prof_alloc_time_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void large_prof_alloc_time_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/df2/extent__types_8h.html#a0e8b98172620022cff2a6a03d9150a86">extent_t</a> *&#160;</td>
          <td class="paramname"><em>extent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d0a/structnstime__t.html">nstime_t</a>&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d23/large_8c_source.html#l00393">393</a> of file <a class="el" href="../../d8/d23/large_8c_source.html">large.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                                                        {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <a class="code" href="../../d2/dde/extent__inlines_8h.html#a4d96784a52157168fc72318266bd67b4">extent_prof_alloc_time_set</a>(extent, t);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;}</div>
<div class="ttc" id="aextent__inlines_8h_html_a4d96784a52157168fc72318266bd67b4"><div class="ttname"><a href="../../d2/dde/extent__inlines_8h.html#a4d96784a52157168fc72318266bd67b4">extent_prof_alloc_time_set</a></div><div class="ttdeci">static void extent_prof_alloc_time_set(extent_t *extent, nstime_t t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dde/extent__inlines_8h_source.html#l00342">extent_inlines.h:342</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/dde/extent__inlines_8h_source.html#l00342">extent_prof_alloc_time_set()</a>.</p>

</div>
</div>
<a id="ad6c5af9a001fb8ddcddec2835689da31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6c5af9a001fb8ddcddec2835689da31">&#9670;&nbsp;</a></span>large_prof_tctx_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d2c/prof__types_8h.html#abeea2850aa56b1f29482d3fae1e83785">prof_tctx_t</a>* large_prof_tctx_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *&#160;</td>
          <td class="paramname"><em>tsdn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/df2/extent__types_8h.html#a0e8b98172620022cff2a6a03d9150a86">extent_t</a> *&#160;</td>
          <td class="paramname"><em>extent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d23/large_8c_source.html#l00373">373</a> of file <a class="el" href="../../d8/d23/large_8c_source.html">large.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                                                          {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d2/dde/extent__inlines_8h.html#aeab127f64f632c39a1442045f9271ea0">extent_prof_tctx_get</a>(extent);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;}</div>
<div class="ttc" id="aextent__inlines_8h_html_aeab127f64f632c39a1442045f9271ea0"><div class="ttname"><a href="../../d2/dde/extent__inlines_8h.html#aeab127f64f632c39a1442045f9271ea0">extent_prof_tctx_get</a></div><div class="ttdeci">static prof_tctx_t * extent_prof_tctx_get(const extent_t *extent)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dde/extent__inlines_8h_source.html#l00184">extent_inlines.h:184</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/dde/extent__inlines_8h_source.html#l00184">extent_prof_tctx_get()</a>.</p>

</div>
</div>
<a id="ab02d7042a0ef7802aa4bebe7682efcbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab02d7042a0ef7802aa4bebe7682efcbc">&#9670;&nbsp;</a></span>large_prof_tctx_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void large_prof_tctx_reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *&#160;</td>
          <td class="paramname"><em>tsdn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/df2/extent__types_8h.html#a0e8b98172620022cff2a6a03d9150a86">extent_t</a> *&#160;</td>
          <td class="paramname"><em>extent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d23/large_8c_source.html#l00383">383</a> of file <a class="el" href="../../d8/d23/large_8c_source.html">large.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                                                      {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <a class="code" href="../../d8/d23/large_8c.html#a6aaaec50ffe1b85bfc2b0d79bf5ac284">large_prof_tctx_set</a>(tsdn, extent, (<a class="code" href="../../d7/d01/structprof__tctx__s.html">prof_tctx_t</a> *)(<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)1U);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;}</div>
<div class="ttc" id="ajemalloc_2include_2msvc__compat_2_c99_2stdint_8h_html_a31b85deecb45924320becd11d3ee16ce"><div class="ttname"><a href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a></div><div class="ttdeci">_W64 unsigned int uintptr_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h_source.html#l00119">stdint.h:119</a></div></div>
<div class="ttc" id="alarge_8c_html_a6aaaec50ffe1b85bfc2b0d79bf5ac284"><div class="ttname"><a href="../../d8/d23/large_8c.html#a6aaaec50ffe1b85bfc2b0d79bf5ac284">large_prof_tctx_set</a></div><div class="ttdeci">void large_prof_tctx_set(tsdn_t *tsdn, extent_t *extent, prof_tctx_t *tctx)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d23/large_8c_source.html#l00378">large.c:378</a></div></div>
<div class="ttc" id="astructprof__tctx__s_html"><div class="ttname"><a href="../../d7/d01/structprof__tctx__s.html">prof_tctx_s</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d73/prof__structs_8h_source.html#l00047">prof_structs.h:47</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d23/large_8c_source.html#l00378">large_prof_tctx_set()</a>.</p>

</div>
</div>
<a id="a6aaaec50ffe1b85bfc2b0d79bf5ac284"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6aaaec50ffe1b85bfc2b0d79bf5ac284">&#9670;&nbsp;</a></span>large_prof_tctx_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void large_prof_tctx_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *&#160;</td>
          <td class="paramname"><em>tsdn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/df2/extent__types_8h.html#a0e8b98172620022cff2a6a03d9150a86">extent_t</a> *&#160;</td>
          <td class="paramname"><em>extent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d2c/prof__types_8h.html#abeea2850aa56b1f29482d3fae1e83785">prof_tctx_t</a> *&#160;</td>
          <td class="paramname"><em>tctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d23/large_8c_source.html#l00378">378</a> of file <a class="el" href="../../d8/d23/large_8c_source.html">large.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                                                                       {</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <a class="code" href="../../d2/dde/extent__inlines_8h.html#a3163e0c83c00150691c204b48997cb99">extent_prof_tctx_set</a>(extent, <a class="code" href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a>);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;}</div>
<div class="ttc" id="aextent__inlines_8h_html_a3163e0c83c00150691c204b48997cb99"><div class="ttname"><a href="../../d2/dde/extent__inlines_8h.html#a3163e0c83c00150691c204b48997cb99">extent_prof_tctx_set</a></div><div class="ttdeci">static void extent_prof_tctx_set(extent_t *extent, prof_tctx_t *tctx)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dde/extent__inlines_8h_source.html#l00337">extent_inlines.h:337</a></div></div>
<div class="ttc" id="aprof_8c_html_abbb25b298a4eb9395fa2f4e9f64e2400"><div class="ttname"><a href="../../df/d31/prof_8c.html#abbb25b298a4eb9395fa2f4e9f64e2400">tctx</a></div><div class="ttdeci">prof_tctx_t * tctx</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d31/prof_8c_source.html#l00313">prof.c:313</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/dde/extent__inlines_8h_source.html#l00337">extent_prof_tctx_set()</a>, and <a class="el" href="../../df/d31/prof_8c_source.html#l00313">tctx</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d23/large_8c_source.html#l00383">large_prof_tctx_reset()</a>.</p>

</div>
</div>
<a id="afa26048930523c9132eb0c73beb11bc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa26048930523c9132eb0c73beb11bc6">&#9670;&nbsp;</a></span>large_ralloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* large_ralloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *&#160;</td>
          <td class="paramname"><em>tsdn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d5e/arena__types_8h.html#a75ec58797d4c793b05def94ed85c6bdc">arena_t</a> *&#160;</td>
          <td class="paramname"><em>arena</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>usize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>alignment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>zero</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d7d/tcache__types_8h.html#a6d7a41c928468d38e45e4cb0767932e6">tcache_t</a> *&#160;</td>
          <td class="paramname"><em>tcache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d34/hook_8h.html#aeca480b4e2ff00c366fd538a7646401f">hook_ralloc_args_t</a> *&#160;</td>
          <td class="paramname"><em>hook_args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d23/large_8c_source.html#l00274">274</a> of file <a class="el" href="../../d8/d23/large_8c_source.html">large.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                                   {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="../../d5/dcb/structextent__s.html">extent_t</a> *extent = <a class="code" href="../../d9/dfd/jemalloc__internal__inlines__b_8h.html#ad524704e009cc95ccb4bc76cb958adac">iealloc</a>(tsdn, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordtype">size_t</span> oldusize = <a class="code" href="../../d2/dde/extent__inlines_8h.html#a727c2ff785fa54651edbadab1b36d357">extent_usize_get</a>(extent);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="comment">/* The following should have been caught by callers. */</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(usize &gt; 0 &amp;&amp; usize &lt;= <a class="code" href="../../d9/d50/sc_8h.html#ac66e2f56f4f0411ca5d5c3444ba4d491">SC_LARGE_MAXCLASS</a>);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="comment">/* Both allocation sizes must be large to avoid a move. */</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(oldusize &gt;= <a class="code" href="../../d9/d50/sc_8h.html#ae0e65b77903c5683f3c0ed10214937d7">SC_LARGE_MINCLASS</a></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        &amp;&amp; usize &gt;= <a class="code" href="../../d9/d50/sc_8h.html#ae0e65b77903c5683f3c0ed10214937d7">SC_LARGE_MINCLASS</a>);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="comment">/* Try to avoid moving the allocation. */</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d23/large_8c.html#aa4692b31ef748ba5ad3a0fc6f77d425a">large_ralloc_no_move</a>(tsdn, extent, usize, usize, <a class="code" href="../../df/de2/namespace_g3_d.html#afe56d91f54a2ecc472b75ccf88b4c59c">zero</a>)) {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <a class="code" href="../../dd/de2/private__namespace_8h.html#acd8fc5c082e74b23ba2795216d7be6e9">hook_invoke_expand</a>(hook_args-&gt;<a class="code" href="../../d3/db7/structhook__ralloc__args__s.html#a759e3a9885338fd07dd22d0b39f27455">is_realloc</a></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            ? <a class="code" href="../../d6/d34/hook_8h.html#a3d2732857a8a594e06a889fdd57afa80a45d138b366ee9e9519e61e1d4ac1a119">hook_expand_realloc</a> : <a class="code" href="../../d6/d34/hook_8h.html#a3d2732857a8a594e06a889fdd57afa80a4016dfffaeb44454004dee6637ddfc29">hook_expand_rallocx</a>, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, oldusize,</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            usize, (<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)<a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, hook_args-&gt;<a class="code" href="../../d3/db7/structhook__ralloc__args__s.html#a231d89dfe9dffcd7cb7e71bb449cff22">args</a>);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/dde/extent__inlines_8h.html#a9b0e1fdf6da92df7e397013712ce7140">extent_addr_get</a>(extent);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment">     * usize and old size are different enough that we need to use a</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">     * different size class.  In that case, fall back to allocating new</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">     * space and copying.</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> = <a class="code" href="../../d8/d23/large_8c.html#a9a534355b7140b57733f262714a9db51">large_ralloc_move_helper</a>(tsdn, <a class="code" href="../../d2/dd3/background__thread_8c.html#ac9323a11b5f8df8d4a1c86d8a98ac434">arena</a>, usize, alignment,</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <a class="code" href="../../df/de2/namespace_g3_d.html#afe56d91f54a2ecc472b75ccf88b4c59c">zero</a>);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a> == <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>) {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    }</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#a6f495f026f3a26ce46461b977665c7a3">hook_invoke_alloc</a>(hook_args-&gt;<a class="code" href="../../d3/db7/structhook__ralloc__args__s.html#a759e3a9885338fd07dd22d0b39f27455">is_realloc</a></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        ? <a class="code" href="../../d6/d34/hook_8h.html#a727ba44c39035431416831558a894399aa5db81f9c0db51974aa7573f3a2e34d1">hook_alloc_realloc</a> : <a class="code" href="../../d6/d34/hook_8h.html#a727ba44c39035431416831558a894399a727b075023b97f26eed3045d300a82d1">hook_alloc_rallocx</a>, <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>, (<a class="code" href="../../d1/db8/jemalloc_2include_2msvc__compat_2_c99_2stdint_8h.html#a31b85deecb45924320becd11d3ee16ce">uintptr_t</a>)<a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>,</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        hook_args-&gt;<a class="code" href="../../d3/db7/structhook__ralloc__args__s.html#a231d89dfe9dffcd7cb7e71bb449cff22">args</a>);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <a class="code" href="../../dd/de2/private__namespace_8h.html#a6abeb38bd2c0f36c48fa3ba81abaa69e">hook_invoke_dalloc</a>(hook_args-&gt;<a class="code" href="../../d3/db7/structhook__ralloc__args__s.html#a759e3a9885338fd07dd22d0b39f27455">is_realloc</a></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        ? <a class="code" href="../../d6/d34/hook_8h.html#acb15ae0a3a05274cb91b8a4882969b54a5672ae0bda79da82e68678aee4e45705">hook_dalloc_realloc</a> : <a class="code" href="../../d6/d34/hook_8h.html#acb15ae0a3a05274cb91b8a4882969b54abbe5eb4524a12cc19ffdef376df6d455">hook_dalloc_rallocx</a>, <a class="code" href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a>, hook_args-&gt;<a class="code" href="../../d3/db7/structhook__ralloc__args__s.html#a231d89dfe9dffcd7cb7e71bb449cff22">args</a>);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordtype">size_t</span> copysize = (usize &lt; oldusize) ? usize : oldusize;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a>(<a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>, <a class="code" href="../../d2/dde/extent__inlines_8h.html#a9b0e1fdf6da92df7e397013712ce7140">extent_addr_get</a>(extent), copysize);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <a class="code" href="../../df/d67/jemalloc__internal__inlines__c_8h.html#a2d574f99e56edf49b7d7b236f46f00a1">isdalloct</a>(tsdn, <a class="code" href="../../d2/dde/extent__inlines_8h.html#a9b0e1fdf6da92df7e397013712ce7140">extent_addr_get</a>(extent), oldusize, tcache, <a class="code" href="../../d9/d33/jemalloc__internal_8h.html#ae89ee89f41328ac0ade1e3e26c103570">NULL</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a>;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;}</div>
<div class="ttc" id="afmt_2include_2fmt_2format_8h_html_adb6e274f8eb0b74b2865215e1b49c535"><div class="ttname"><a href="../../d0/ddf/fmt_2include_2fmt_2format_8h.html#adb6e274f8eb0b74b2865215e1b49c535">ptr</a></div><div class="ttdeci">auto ptr(T p) -&gt; const void *</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddf/fmt_2include_2fmt_2format_8h_source.html#l02451">format.h:2451</a></div></div>
<div class="ttc" id="ahook_8h_html_a3d2732857a8a594e06a889fdd57afa80a4016dfffaeb44454004dee6637ddfc29"><div class="ttname"><a href="../../d6/d34/hook_8h.html#a3d2732857a8a594e06a889fdd57afa80a4016dfffaeb44454004dee6637ddfc29">hook_expand_rallocx</a></div><div class="ttdeci">@ hook_expand_rallocx</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/hook_8h_source.html#l00087">hook.h:87</a></div></div>
<div class="ttc" id="ahook_8h_html_a3d2732857a8a594e06a889fdd57afa80a45d138b366ee9e9519e61e1d4ac1a119"><div class="ttname"><a href="../../d6/d34/hook_8h.html#a3d2732857a8a594e06a889fdd57afa80a45d138b366ee9e9519e61e1d4ac1a119">hook_expand_realloc</a></div><div class="ttdeci">@ hook_expand_realloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/hook_8h_source.html#l00086">hook.h:86</a></div></div>
<div class="ttc" id="ahook_8h_html_a727ba44c39035431416831558a894399a727b075023b97f26eed3045d300a82d1"><div class="ttname"><a href="../../d6/d34/hook_8h.html#a727ba44c39035431416831558a894399a727b075023b97f26eed3045d300a82d1">hook_alloc_rallocx</a></div><div class="ttdeci">@ hook_alloc_rallocx</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/hook_8h_source.html#l00062">hook.h:62</a></div></div>
<div class="ttc" id="ahook_8h_html_a727ba44c39035431416831558a894399aa5db81f9c0db51974aa7573f3a2e34d1"><div class="ttname"><a href="../../d6/d34/hook_8h.html#a727ba44c39035431416831558a894399aa5db81f9c0db51974aa7573f3a2e34d1">hook_alloc_realloc</a></div><div class="ttdeci">@ hook_alloc_realloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/hook_8h_source.html#l00061">hook.h:61</a></div></div>
<div class="ttc" id="ahook_8h_html_acb15ae0a3a05274cb91b8a4882969b54a5672ae0bda79da82e68678aee4e45705"><div class="ttname"><a href="../../d6/d34/hook_8h.html#acb15ae0a3a05274cb91b8a4882969b54a5672ae0bda79da82e68678aee4e45705">hook_dalloc_realloc</a></div><div class="ttdeci">@ hook_dalloc_realloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/hook_8h_source.html#l00079">hook.h:79</a></div></div>
<div class="ttc" id="ahook_8h_html_acb15ae0a3a05274cb91b8a4882969b54abbe5eb4524a12cc19ffdef376df6d455"><div class="ttname"><a href="../../d6/d34/hook_8h.html#acb15ae0a3a05274cb91b8a4882969b54abbe5eb4524a12cc19ffdef376df6d455">hook_dalloc_rallocx</a></div><div class="ttdeci">@ hook_dalloc_rallocx</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/hook_8h_source.html#l00080">hook.h:80</a></div></div>
<div class="ttc" id="ajemalloc__internal__inlines__b_8h_html_ad524704e009cc95ccb4bc76cb958adac"><div class="ttname"><a href="../../d9/dfd/jemalloc__internal__inlines__b_8h.html#ad524704e009cc95ccb4bc76cb958adac">iealloc</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE extent_t * iealloc(tsdn_t *tsdn, const void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dfd/jemalloc__internal__inlines__b_8h_source.html#l00079">jemalloc_internal_inlines_b.h:79</a></div></div>
<div class="ttc" id="ajemalloc__internal__inlines__c_8h_html_a2d574f99e56edf49b7d7b236f46f00a1"><div class="ttname"><a href="../../df/d67/jemalloc__internal__inlines__c_8h.html#a2d574f99e56edf49b7d7b236f46f00a1">isdalloct</a></div><div class="ttdeci">JEMALLOC_ALWAYS_INLINE void isdalloct(tsdn_t *tsdn, void *ptr, size_t size, tcache_t *tcache, alloc_ctx_t *alloc_ctx, bool slow_path)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d67/jemalloc__internal__inlines__c_8h_source.html#l00127">jemalloc_internal_inlines_c.h:127</a></div></div>
<div class="ttc" id="alarge_8c_html_a9a534355b7140b57733f262714a9db51"><div class="ttname"><a href="../../d8/d23/large_8c.html#a9a534355b7140b57733f262714a9db51">large_ralloc_move_helper</a></div><div class="ttdeci">static void * large_ralloc_move_helper(tsdn_t *tsdn, arena_t *arena, size_t usize, size_t alignment, bool zero)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d23/large_8c_source.html#l00265">large.c:265</a></div></div>
<div class="ttc" id="alarge_8c_html_aa4692b31ef748ba5ad3a0fc6f77d425a"><div class="ttname"><a href="../../d8/d23/large_8c.html#aa4692b31ef748ba5ad3a0fc6f77d425a">large_ralloc_no_move</a></div><div class="ttdeci">bool large_ralloc_no_move(tsdn_t *tsdn, extent_t *extent, size_t usize_min, size_t usize_max, bool zero)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d23/large_8c_source.html#l00219">large.c:219</a></div></div>
<div class="ttc" id="am__string_8h_html_aed653b4838032a2c5ce8960421c8cfd7"><div class="ttname"><a href="../../d6/dda/m__string_8h.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a></div><div class="ttdeci">#define memcpy(d, s, n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dda/m__string_8h_source.html#l00050">m_string.h:50</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a6abeb38bd2c0f36c48fa3ba81abaa69e"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a6abeb38bd2c0f36c48fa3ba81abaa69e">hook_invoke_dalloc</a></div><div class="ttdeci">#define hook_invoke_dalloc</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00224">private_namespace.h:224</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_a6f495f026f3a26ce46461b977665c7a3"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#a6f495f026f3a26ce46461b977665c7a3">hook_invoke_alloc</a></div><div class="ttdeci">#define hook_invoke_alloc</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00223">private_namespace.h:223</a></div></div>
<div class="ttc" id="aprivate__namespace_8h_html_acd8fc5c082e74b23ba2795216d7be6e9"><div class="ttname"><a href="../../dd/de2/private__namespace_8h.html#acd8fc5c082e74b23ba2795216d7be6e9">hook_invoke_expand</a></div><div class="ttdeci">#define hook_invoke_expand</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/private__namespace_8h_source.html#l00225">private_namespace.h:225</a></div></div>
<div class="ttc" id="aprof_8c_html_a339672ff94e6199019102f50d317c3d7"><div class="ttname"><a href="../../df/d31/prof_8c.html#a339672ff94e6199019102f50d317c3d7">ret</a></div><div class="ttdeci">int ret</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d31/prof_8c_source.html#l00281">prof.c:281</a></div></div>
<div class="ttc" id="asc_8h_html_ae0e65b77903c5683f3c0ed10214937d7"><div class="ttname"><a href="../../d9/d50/sc_8h.html#ae0e65b77903c5683f3c0ed10214937d7">SC_LARGE_MINCLASS</a></div><div class="ttdeci">#define SC_LARGE_MINCLASS</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d50/sc_8h_source.html#l00257">sc.h:257</a></div></div>
<div class="ttc" id="astructhook__ralloc__args__s_html_a231d89dfe9dffcd7cb7e71bb449cff22"><div class="ttname"><a href="../../d3/db7/structhook__ralloc__args__s.html#a231d89dfe9dffcd7cb7e71bb449cff22">hook_ralloc_args_s::args</a></div><div class="ttdeci">uintptr_t args[4]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/hook_8h_source.html#l00139">hook.h:139</a></div></div>
<div class="ttc" id="astructhook__ralloc__args__s_html_a759e3a9885338fd07dd22d0b39f27455"><div class="ttname"><a href="../../d3/db7/structhook__ralloc__args__s.html#a759e3a9885338fd07dd22d0b39f27455">hook_ralloc_args_s::is_realloc</a></div><div class="ttdeci">bool is_realloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/hook_8h_source.html#l00133">hook.h:133</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/dd3/background__thread_8c_source.html#l00057">arena</a>, <a class="el" href="../../d6/d34/hook_8h_source.html#l00139">hook_ralloc_args_s::args</a>, <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../d2/dde/extent__inlines_8h_source.html#l00133">extent_addr_get()</a>, <a class="el" href="../../d2/dde/extent__inlines_8h_source.html#l00070">extent_usize_get()</a>, <a class="el" href="../../d6/d34/hook_8h_source.html#l00062">hook_alloc_rallocx</a>, <a class="el" href="../../d6/d34/hook_8h_source.html#l00061">hook_alloc_realloc</a>, <a class="el" href="../../d6/d34/hook_8h_source.html#l00080">hook_dalloc_rallocx</a>, <a class="el" href="../../d6/d34/hook_8h_source.html#l00079">hook_dalloc_realloc</a>, <a class="el" href="../../d6/d34/hook_8h_source.html#l00087">hook_expand_rallocx</a>, <a class="el" href="../../d6/d34/hook_8h_source.html#l00086">hook_expand_realloc</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00223">hook_invoke_alloc</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00224">hook_invoke_dalloc</a>, <a class="el" href="../../dd/de2/private__namespace_8h_source.html#l00225">hook_invoke_expand</a>, <a class="el" href="../../d9/dfd/jemalloc__internal__inlines__b_8h_source.html#l00079">iealloc()</a>, <a class="el" href="../../d6/d34/hook_8h_source.html#l00133">hook_ralloc_args_s::is_realloc</a>, <a class="el" href="../../df/d67/jemalloc__internal__inlines__c_8h_source.html#l00127">isdalloct()</a>, <a class="el" href="../../d8/d23/large_8c_source.html#l00265">large_ralloc_move_helper()</a>, <a class="el" href="../../d8/d23/large_8c_source.html#l00219">large_ralloc_no_move()</a>, <a class="el" href="../../d6/dda/m__string_8h_source.html#l00050">memcpy</a>, <a class="el" href="../../d9/d33/jemalloc__internal_8h_source.html#l00624">NULL</a>, <a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h_source.html#l02451">ptr()</a>, <a class="el" href="../../df/d31/prof_8c_source.html#l00281">ret</a>, <a class="el" href="../../d9/d50/sc_8h_source.html#l00265">SC_LARGE_MAXCLASS</a>, <a class="el" href="../../d9/d50/sc_8h_source.html#l00257">SC_LARGE_MINCLASS</a>, and <a class="el" href="../../d6/dd6/unorm16_8h_source.html#l00082">G3D::zero()</a>.</p>

</div>
</div>
<a id="aa4692b31ef748ba5ad3a0fc6f77d425a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4692b31ef748ba5ad3a0fc6f77d425a">&#9670;&nbsp;</a></span>large_ralloc_no_move()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> large_ralloc_no_move </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *&#160;</td>
          <td class="paramname"><em>tsdn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/df2/extent__types_8h.html#a0e8b98172620022cff2a6a03d9150a86">extent_t</a> *&#160;</td>
          <td class="paramname"><em>extent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>usize_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>usize_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>zero</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d23/large_8c_source.html#l00219">219</a> of file <a class="el" href="../../d8/d23/large_8c_source.html">large.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                                 {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordtype">size_t</span> oldusize = <a class="code" href="../../d2/dde/extent__inlines_8h.html#a727c2ff785fa54651edbadab1b36d357">extent_usize_get</a>(extent);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="comment">/* The following should have been caught by callers. */</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(usize_min &gt; 0 &amp;&amp; usize_max &lt;= <a class="code" href="../../d9/d50/sc_8h.html#ac66e2f56f4f0411ca5d5c3444ba4d491">SC_LARGE_MAXCLASS</a>);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="comment">/* Both allocation sizes must be large to avoid a move. */</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <a class="code" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert</a>(oldusize &gt;= <a class="code" href="../../d9/d50/sc_8h.html#ae0e65b77903c5683f3c0ed10214937d7">SC_LARGE_MINCLASS</a></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        &amp;&amp; usize_max &gt;= <a class="code" href="../../d9/d50/sc_8h.html#ae0e65b77903c5683f3c0ed10214937d7">SC_LARGE_MINCLASS</a>);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">if</span> (usize_max &gt; oldusize) {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="comment">/* Attempt to expand the allocation in-place. */</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d23/large_8c.html#a20be2d27e1322f4982dc535fb3678d16">large_ralloc_no_move_expand</a>(tsdn, extent, usize_max,</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            <a class="code" href="../../df/de2/namespace_g3_d.html#afe56d91f54a2ecc472b75ccf88b4c59c">zero</a>)) {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <a class="code" href="../../d6/d23/arena__inlines__b_8h.html#ae59c65c425ebb036574a5ff7301e975d">arena_decay_tick</a>(tsdn, <a class="code" href="../../d2/dde/extent__inlines_8h.html#a9a2fa41b7062d0d160b03557463a24f3">extent_arena_get</a>(extent));</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        }</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="comment">/* Try again, this time with usize_min. */</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="keywordflow">if</span> (usize_min &lt; usize_max &amp;&amp; usize_min &gt; oldusize &amp;&amp;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            <a class="code" href="../../d8/d23/large_8c.html#a20be2d27e1322f4982dc535fb3678d16">large_ralloc_no_move_expand</a>(tsdn, extent, usize_min,</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <a class="code" href="../../df/de2/namespace_g3_d.html#afe56d91f54a2ecc472b75ccf88b4c59c">zero</a>)) {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            <a class="code" href="../../d6/d23/arena__inlines__b_8h.html#ae59c65c425ebb036574a5ff7301e975d">arena_decay_tick</a>(tsdn, <a class="code" href="../../d2/dde/extent__inlines_8h.html#a9a2fa41b7062d0d160b03557463a24f3">extent_arena_get</a>(extent));</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        }</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">     * Avoid moving the allocation if the existing extent size accommodates</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">     * the new size.</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">if</span> (oldusize &gt;= usize_min &amp;&amp; oldusize &lt;= usize_max) {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <a class="code" href="../../d6/d23/arena__inlines__b_8h.html#ae59c65c425ebb036574a5ff7301e975d">arena_decay_tick</a>(tsdn, <a class="code" href="../../d2/dde/extent__inlines_8h.html#a9a2fa41b7062d0d160b03557463a24f3">extent_arena_get</a>(extent));</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="comment">/* Attempt to shrink the allocation in-place. */</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">if</span> (oldusize &gt; usize_max) {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d23/large_8c.html#ac0333bb54062e6519744dfb1c5239602">large_ralloc_no_move_shrink</a>(tsdn, extent, usize_max)) {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            <a class="code" href="../../d6/d23/arena__inlines__b_8h.html#ae59c65c425ebb036574a5ff7301e975d">arena_decay_tick</a>(tsdn, <a class="code" href="../../d2/dde/extent__inlines_8h.html#a9a2fa41b7062d0d160b03557463a24f3">extent_arena_get</a>(extent));</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;}</div>
<div class="ttc" id="alarge_8c_html_a20be2d27e1322f4982dc535fb3678d16"><div class="ttname"><a href="../../d8/d23/large_8c.html#a20be2d27e1322f4982dc535fb3678d16">large_ralloc_no_move_expand</a></div><div class="ttdeci">static bool large_ralloc_no_move_expand(tsdn_t *tsdn, extent_t *extent, size_t usize, bool zero)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d23/large_8c_source.html#l00131">large.c:131</a></div></div>
<div class="ttc" id="alarge_8c_html_ac0333bb54062e6519744dfb1c5239602"><div class="ttname"><a href="../../d8/d23/large_8c.html#ac0333bb54062e6519744dfb1c5239602">large_ralloc_no_move_shrink</a></div><div class="ttdeci">static bool large_ralloc_no_move_shrink(tsdn_t *tsdn, extent_t *extent, size_t usize)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d23/large_8c_source.html#l00096">large.c:96</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d23/arena__inlines__b_8h_source.html#l00131">arena_decay_tick()</a>, <a class="el" href="../../dd/d7f/emitter_8h.html#a7f6f984a70f2a669b89e3f10c795932f">assert()</a>, <a class="el" href="../../d2/dde/extent__inlines_8h_source.html#l00048">extent_arena_get()</a>, <a class="el" href="../../d2/dde/extent__inlines_8h_source.html#l00070">extent_usize_get()</a>, <a class="el" href="../../d8/d23/large_8c_source.html#l00131">large_ralloc_no_move_expand()</a>, <a class="el" href="../../d8/d23/large_8c_source.html#l00096">large_ralloc_no_move_shrink()</a>, <a class="el" href="../../d9/d50/sc_8h_source.html#l00265">SC_LARGE_MAXCLASS</a>, <a class="el" href="../../d9/d50/sc_8h_source.html#l00257">SC_LARGE_MINCLASS</a>, and <a class="el" href="../../d6/dd6/unorm16_8h_source.html#l00082">G3D::zero()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d23/large_8c_source.html#l00274">large_ralloc()</a>.</p>

</div>
</div>
<a id="aae8b6fcd7c4365a1ea1e97db71600cfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae8b6fcd7c4365a1ea1e97db71600cfc">&#9670;&nbsp;</a></span>large_salloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t large_salloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d07/tsd__types_8h.html#a5d042700fd8573c1b1e9e16ba9914868">tsdn_t</a> *&#160;</td>
          <td class="paramname"><em>tsdn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/df2/extent__types_8h.html#a0e8b98172620022cff2a6a03d9150a86">extent_t</a> *&#160;</td>
          <td class="paramname"><em>extent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d23/large_8c_source.html#l00368">368</a> of file <a class="el" href="../../d8/d23/large_8c_source.html">large.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                                                   {</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d2/dde/extent__inlines_8h.html#a727c2ff785fa54651edbadab1b36d357">extent_usize_get</a>(extent);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/dde/extent__inlines_8h_source.html#l00070">extent_usize_get()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a9acbccad4eb1c1355f7aa240e9bbdc66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9acbccad4eb1c1355f7aa240e9bbdc66">&#9670;&nbsp;</a></span>large_dalloc_junk</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d35/large__externs_8h.html#aeb4d383dc57c71caf8e8e1277249bf6e">large_dalloc_junk_t</a>* <a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#abd5dc096d0ce9c898e3d084d9436570c">JET_MUTABLE</a> large_dalloc_junk</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d23/large_8c_source.html#l00078">78</a> of file <a class="el" href="../../d8/d23/large_8c_source.html">large.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d23/large_8c_source.html#l00081">large_dalloc_maybe_junk_impl()</a>.</p>

</div>
</div>
<a id="a1576e12a2d5f7634e8b17c46f2ec0cfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1576e12a2d5f7634e8b17c46f2ec0cfc">&#9670;&nbsp;</a></span>large_dalloc_maybe_junk</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d35/large__externs_8h.html#ae2416ba58ca4491cb40059882490e1a2">large_dalloc_maybe_junk_t</a>* <a class="el" href="../../db/d61/jemalloc__internal__macros_8h.html#abd5dc096d0ce9c898e3d084d9436570c">JET_MUTABLE</a> large_dalloc_maybe_junk</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d23/large_8c_source.html#l00092">92</a> of file <a class="el" href="../../d8/d23/large_8c_source.html">large.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d23/large_8c_source.html#l00322">large_dalloc_prep_impl()</a>, and <a class="el" href="../../d8/d23/large_8c_source.html#l00096">large_ralloc_no_move_shrink()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
