<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Azerotcore-wotlk: src/server/game/Entities/Player/PlayerQuest.cpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Azerotcore-wotlk
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_075bb3ff235063c77951cd176d15a741.html">server</a></li><li class="navelem"><a class="el" href="../../dir_6f9eed72e6ac35fa9b9946c34be827b2.html">game</a></li><li class="navelem"><a class="el" href="../../dir_ef5a2a8c88ba4298ea6498713c5f8f32.html">Entities</a></li><li class="navelem"><a class="el" href="../../dir_f3bd1c46f8b01b31a11b6187b59f6126.html">Player</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">PlayerQuest.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d9/d82/_player_quest_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * This file is part of the AzerothCore Project. See AUTHORS file for Copyright information</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * This program is free software; you can redistribute it and/or modify it</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * under the terms of the GNU Affero General Public License as published by the</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * Free Software Foundation; either version 3 of the License, or (at your</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * option) any later version.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * This program is distributed in the hope that it will be useful, but WITHOUT</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * more details.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License along</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; </div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d43/_creature_a_i_8h.html">CreatureAI.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/d01/_disable_mgr_8h.html">DisableMgr.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/dcc/_game_object_a_i_8h.html">GameObjectAI.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/dc4/_group_8h.html">Group.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/dca/_map_mgr_8h.html">MapMgr.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d39/_player_8h.html">Player.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/dc6/_pool_mgr_8h.html">PoolMgr.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d7d/_reputation_mgr_8h.html">ReputationMgr.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/d00/_git_revision_8h.html">GitRevision.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/d7d/_script_mgr_8h.html">ScriptMgr.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/d82/_spell_aura_effects_8h.html">SpellAuraEffects.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#ifdef ELUNA</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;LuaEngine.h&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">/*********************************************************/</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">/***                    QUEST SYSTEM                   ***/</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">/*********************************************************/</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#aa352798726d935f9e76f97137e47ee33">   38</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#aa352798726d935f9e76f97137e47ee33">Player::PrepareQuestMenu</a>(<a class="code" href="../../d8/d03/class_object_guid.html">ObjectGuid</a> guid)</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;{</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <a class="code" href="../../d9/d77/_object_mgr_8h.html#a4d2e936df987ca3457dc1cff99fd3394">QuestRelationBounds</a> objectQR;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <a class="code" href="../../d9/d77/_object_mgr_8h.html#a4d2e936df987ca3457dc1cff99fd3394">QuestRelationBounds</a> objectQIR;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="comment">// pets also can have quests</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <a class="code" href="../../d1/dac/class_creature.html">Creature</a>* creature = <a class="code" href="../../d4/d27/namespace_object_accessor.html#abe7c8995443541417f52b00973dbde6f">ObjectAccessor::GetCreatureOrPetOrVehicle</a>(*<span class="keyword">this</span>, guid);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordflow">if</span> (creature)</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        objectQR  = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetCreatureQuestRelationBounds(creature-&gt;<a class="code" href="../../d8/d83/class_object.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>());</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        objectQIR = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetCreatureQuestInvolvedRelationBounds(creature-&gt;<a class="code" href="../../d8/d83/class_object.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>());</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    }</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <span class="comment">//we should obtain map pointer from GetMap() in 99% of cases. Special case</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <span class="comment">//only for quests which cast teleport spells on player</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <a class="code" href="../../dd/d11/class_map.html">Map</a>* _map = <a class="code" href="../../d8/d83/class_object.html#a3aeab7def818ba6c50249f197ad2f9ca">IsInWorld</a>() ? <a class="code" href="../../db/df7/class_world_object.html#a76c507a1b3adcebf2732572bc6b67fe0">GetMap</a>() : <a class="code" href="../../dd/dca/_map_mgr_8h.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a>-&gt;FindMap(<a class="code" href="../../d6/d64/class_world_location.html#a2682e56ae4f0ce4b517a8ba3cd2798b1">GetMapId</a>(), <a class="code" href="../../db/df7/class_world_object.html#a664e99edd35c98e8eb7f67476aa8082d">GetInstanceId</a>());</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <a class="code" href="../../db/d16/_errors_8h.html#af343b20373ba49a92fce523e948f2ab3">ASSERT</a>(_map);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <a class="code" href="../../d0/dd1/class_game_object.html">GameObject</a>* pGameObject = _map-&gt;<a class="code" href="../../dd/d11/class_map.html#a92001d81940cdfec678ec714248052a5">GetGameObject</a>(guid);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <span class="keywordflow">if</span> (pGameObject)</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            objectQR  = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetGOQuestRelationBounds(pGameObject-&gt;<a class="code" href="../../d8/d83/class_object.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>());</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            objectQIR = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetGOQuestInvolvedRelationBounds(pGameObject-&gt;<a class="code" href="../../d8/d83/class_object.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>());</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        }</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    }</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="code" href="../../da/de0/class_quest_menu.html">QuestMenu</a>&amp; qm = <a class="code" href="../../d8/d53/class_player.html#af9651858db4302e3dff8ec5bff131f72">PlayerTalkClass</a>-&gt;<a class="code" href="../../d1/d29/class_player_menu.html#ab880e05572d5243fe122048573e07ce3">GetQuestMenu</a>();</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    qm.<a class="code" href="../../da/de0/class_quest_menu.html#ab3d3881aabe000694acab37a3774507e">ClearMenu</a>();</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">for</span> (QuestRelations::const_iterator i = objectQIR.first; i != objectQIR.second; ++i)</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id = i-&gt;second;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8">QuestStatus</a> status = <a class="code" href="../../d8/d53/class_player.html#ab98c62b0161d702e4219c8277f8f5349">GetQuestStatus</a>(quest_id);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <span class="keywordflow">if</span> (status == <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8ae1b2fe2d9de28cc70b59a4bdd5f0abed">QUEST_STATUS_COMPLETE</a>)</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            qm.<a class="code" href="../../da/de0/class_quest_menu.html#ac8735756bbf9f2fa799c505bd740e070">AddMenuItem</a>(quest_id, 4);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (status == <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a>)</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            qm.<a class="code" href="../../da/de0/class_quest_menu.html#ac8735756bbf9f2fa799c505bd740e070">AddMenuItem</a>(quest_id, 4);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="comment">//else if (status == QUEST_STATUS_AVAILABLE)</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="comment">//    qm.AddMenuItem(quest_id, 2);</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordflow">for</span> (QuestRelations::const_iterator i = objectQR.first; i != objectQR.second; ++i)</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id = i-&gt;second;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* quest = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(quest_id);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="keywordflow">if</span> (!quest)</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d53/class_player.html#a4119b83fa78e608d8d946b1821c57fdf">CanTakeQuest</a>(quest, <span class="keyword">false</span>))</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a7c067ea4d0fbf622a17eec3ad7414594">IsAutoComplete</a>())</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            qm.<a class="code" href="../../da/de0/class_quest_menu.html#ac8735756bbf9f2fa799c505bd740e070">AddMenuItem</a>(quest_id, 4);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#ab98c62b0161d702e4219c8277f8f5349">GetQuestStatus</a>(quest_id) == <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8abefdf5f7417012e5d2adedf1dc155f28">QUEST_STATUS_NONE</a>)</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            qm.<a class="code" href="../../da/de0/class_quest_menu.html#ac8735756bbf9f2fa799c505bd740e070">AddMenuItem</a>(quest_id, 2);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    }</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;}</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a84b252bdcb4e0538c1043926773f153f">   98</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#a84b252bdcb4e0538c1043926773f153f">Player::HasQuest</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId)<span class="keyword"> const</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>; ++i)</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questid = <a class="code" href="../../d8/d53/class_player.html#a78498168eaeb91ca88e76f9e38867213">GetQuestSlotQuestId</a>(i);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <span class="keywordflow">if</span> (questid == questId)</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;}</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a558ae516e2abd8e8be169518d7209053">  112</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a558ae516e2abd8e8be169518d7209053">Player::SendPreparedQuest</a>(<a class="code" href="../../d8/d03/class_object_guid.html">ObjectGuid</a> guid)</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;{</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <a class="code" href="../../da/de0/class_quest_menu.html">QuestMenu</a>&amp; questMenu = <a class="code" href="../../d8/d53/class_player.html#af9651858db4302e3dff8ec5bff131f72">PlayerTalkClass</a>-&gt;<a class="code" href="../../d1/d29/class_player_menu.html#ab880e05572d5243fe122048573e07ce3">GetQuestMenu</a>();</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">if</span> (questMenu.<a class="code" href="../../da/de0/class_quest_menu.html#a1a850cb70956f299ea91cb0d732ad202">Empty</a>())</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="comment">// single element case</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">if</span> (questMenu.<a class="code" href="../../da/de0/class_quest_menu.html#a2338a6fb88c32bfb66fe524a8ffaa0d7">GetMenuItemCount</a>() == 1)</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <a class="code" href="../../d0/d13/struct_quest_menu_item.html">QuestMenuItem</a> <span class="keyword">const</span>&amp; qmi0 = questMenu.<a class="code" href="../../da/de0/class_quest_menu.html#ae7f44e4bf210e6d82ba5304d73de7783">GetItem</a>(0);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId = qmi0.<a class="code" href="../../d0/d13/struct_quest_menu_item.html#a522a4fcb28daec3e1a620b6f02c3d8fe">QuestId</a>;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="comment">// Auto open -- maybe also should verify there is no greeting</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* quest = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questId))</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            <span class="keywordflow">if</span> (qmi0.<a class="code" href="../../d0/d13/struct_quest_menu_item.html#ad8bbfe08780eaa68a8205e2634d211b8">QuestIcon</a> == 4)</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                <a class="code" href="../../d8/d53/class_player.html#af9651858db4302e3dff8ec5bff131f72">PlayerTalkClass</a>-&gt;<a class="code" href="../../d1/d29/class_player_menu.html#a61a5f8d9b8b9c4baa511028884011f89">SendQuestGiverRequestItems</a>(quest, guid, <a class="code" href="../../d8/d53/class_player.html#a541838bee904b263239f051505a1498b">CanRewardQuest</a>(quest, <span class="keyword">false</span>), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                <span class="comment">// Send completable on repeatable and autoCompletable quest if player don&#39;t have quest</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment"></span>            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                <a class="code" href="../../d8/d83/class_object.html">Object</a>* <span class="keywordtype">object</span> = <a class="code" href="../../d4/d27/namespace_object_accessor.html#a0bfd3fb4a5f43a4159bbd0b176186e19">ObjectAccessor::GetObjectByTypeMask</a>(*<span class="keyword">this</span>, guid, <a class="code" href="../../d9/d83/_object_guid_8h.html#acfe503ba26d8a881f16958aaafd431e1a611a6f19a7f885d824ea5be71ffca2de">TYPEMASK_UNIT</a> | <a class="code" href="../../d9/d83/_object_guid_8h.html#acfe503ba26d8a881f16958aaafd431e1ab64731f0031a7f58c1a56cbf45d6f2f4">TYPEMASK_GAMEOBJECT</a> | <a class="code" href="../../d9/d83/_object_guid_8h.html#acfe503ba26d8a881f16958aaafd431e1a213c6f64ff343595c13d0e808b75297d">TYPEMASK_ITEM</a>);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                <span class="keywordflow">if</span> (!<span class="keywordtype">object</span> || (!object-&gt;<a class="code" href="../../d8/d83/class_object.html#a5a39e4cde00448cc3a6eaeaee139c749">hasQuest</a>(questId) &amp;&amp; !object-&gt;<a class="code" href="../../d8/d83/class_object.html#ada61cb59931e3c02624a63161997bf20">hasInvolvedQuest</a>(questId)))</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                    <a class="code" href="../../d8/d53/class_player.html#af9651858db4302e3dff8ec5bff131f72">PlayerTalkClass</a>-&gt;<a class="code" href="../../d1/d29/class_player_menu.html#afeef80b2f959a17fd2d5288dc12cf9d5">SendCloseGossip</a>();</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                <span class="keywordflow">if</span> (quest-&gt;IsAutoAccept() &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#a5ced1d54771a4c7654620f1768436806">CanAddQuest</a>(quest, <span class="keyword">true</span>) &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#a4119b83fa78e608d8d946b1821c57fdf">CanTakeQuest</a>(quest, <span class="keyword">true</span>))</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                    <a class="code" href="../../d8/d53/class_player.html#aa59bc437abf78479ccb2a10800f202d3">AddQuestAndCheckCompletion</a>(quest, <span class="keywordtype">object</span>);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                <span class="keywordflow">if</span> (quest-&gt;IsAutoComplete() || !quest-&gt;GetQuestMethod())</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                    <a class="code" href="../../d8/d53/class_player.html#af9651858db4302e3dff8ec5bff131f72">PlayerTalkClass</a>-&gt;<a class="code" href="../../d1/d29/class_player_menu.html#a61a5f8d9b8b9c4baa511028884011f89">SendQuestGiverRequestItems</a>(quest, guid, <a class="code" href="../../d8/d53/class_player.html#abbdc64fe74e2935052b57d3072dee33e">CanCompleteRepeatableQuest</a>(quest), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                    <a class="code" href="../../d8/d53/class_player.html#af9651858db4302e3dff8ec5bff131f72">PlayerTalkClass</a>-&gt;<a class="code" href="../../d1/d29/class_player_menu.html#a3961687838852446af0db40d6458fb41">SendQuestGiverQuestDetails</a>(quest, guid, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            }</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        }</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="comment">// multiple entries</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <a class="code" href="../../d5/d85/struct_q_emote.html">QEmote</a> qe;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        qe.<a class="code" href="../../d5/d85/struct_q_emote.html#a8c4024f5818f327f29b44a26892b89a1">_Delay</a> = 0;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        qe.<a class="code" href="../../d5/d85/struct_q_emote.html#a701c902af6f7f472511727bcc88ceeef">_Emote</a> = 0;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        std::string title = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="comment">// need pet case for some quests</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <a class="code" href="../../d1/dac/class_creature.html">Creature</a>* creature = <a class="code" href="../../d4/d27/namespace_object_accessor.html#abe7c8995443541417f52b00973dbde6f">ObjectAccessor::GetCreatureOrPetOrVehicle</a>(*<span class="keyword">this</span>, guid);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <span class="keywordflow">if</span> (creature)</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> textid = <a class="code" href="../../d8/d53/class_player.html#ae22a64659346d2a5017d4b47e796146c">GetGossipTextId</a>(creature);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            <a class="code" href="../../d1/d3e/struct_gossip_text.html">GossipText</a> <span class="keyword">const</span>* gossiptext = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetGossipText(textid);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            <span class="keywordflow">if</span> (!gossiptext)</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                qe.<a class="code" href="../../d5/d85/struct_q_emote.html#a8c4024f5818f327f29b44a26892b89a1">_Delay</a> = 0;                              <span class="comment">//TEXTEMOTE_MESSAGE;              //zyg: player emote</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                qe.<a class="code" href="../../d5/d85/struct_q_emote.html#a701c902af6f7f472511727bcc88ceeef">_Emote</a> = 0;                              <span class="comment">//TEXTEMOTE_HELLO;                //zyg: NPC emote</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                title = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                qe = gossiptext-&gt;<a class="code" href="../../d1/d3e/struct_gossip_text.html#a30882f3f0415185ec12ef4d316a0b428">Options</a>[0].<a class="code" href="../../d1/d25/struct_gossip_text_option.html#a0f67a651fdb3f3217279015c9e3fb292">Emotes</a>[0];</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                <span class="keywordflow">if</span> (!gossiptext-&gt;<a class="code" href="../../d1/d3e/struct_gossip_text.html#a30882f3f0415185ec12ef4d316a0b428">Options</a>[0].<a class="code" href="../../d1/d25/struct_gossip_text_option.html#a046d637b91807db067c6e7050184322d">Text_0</a>.empty())</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                    title = gossiptext-&gt;<a class="code" href="../../d1/d3e/struct_gossip_text.html#a30882f3f0415185ec12ef4d316a0b428">Options</a>[0].<a class="code" href="../../d1/d25/struct_gossip_text_option.html#a046d637b91807db067c6e7050184322d">Text_0</a>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                    <span class="keywordtype">int</span> loc_idx = <a class="code" href="../../d8/d53/class_player.html#a1c212b8f9ae8b1a38a41f9c7db005dca">GetSession</a>()-&gt;<a class="code" href="../../d1/d47/class_world_session.html#a38ff97828c0efe89c092f5772c543564">GetSessionDbLocaleIndex</a>();</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                    <span class="keywordflow">if</span> (loc_idx &gt;= 0)</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../d9/dfc/struct_npc_text_locale.html">NpcTextLocale</a> <span class="keyword">const</span>* nl = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetNpcTextLocale(textid))</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                            <a class="code" href="../../d5/dbd/class_object_mgr.html#a92a2d9fe378030122340f34a7cb79ef9">ObjectMgr::GetLocaleString</a>(nl-&gt;Text_0[0], loc_idx, title);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                    title = gossiptext-&gt;<a class="code" href="../../d1/d3e/struct_gossip_text.html#a30882f3f0415185ec12ef4d316a0b428">Options</a>[0].<a class="code" href="../../d1/d25/struct_gossip_text_option.html#a8d64d7b8fcdbd995cc11e22adde8c0de">Text_1</a>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                    <span class="keywordtype">int</span> loc_idx = <a class="code" href="../../d8/d53/class_player.html#a1c212b8f9ae8b1a38a41f9c7db005dca">GetSession</a>()-&gt;<a class="code" href="../../d1/d47/class_world_session.html#a38ff97828c0efe89c092f5772c543564">GetSessionDbLocaleIndex</a>();</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                    <span class="keywordflow">if</span> (loc_idx &gt;= 0)</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../d9/dfc/struct_npc_text_locale.html">NpcTextLocale</a> <span class="keyword">const</span>* nl = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetNpcTextLocale(textid))</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                            <a class="code" href="../../d5/dbd/class_object_mgr.html#a92a2d9fe378030122340f34a7cb79ef9">ObjectMgr::GetLocaleString</a>(nl-&gt;Text_1[0], loc_idx, title);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#af9651858db4302e3dff8ec5bff131f72">PlayerTalkClass</a>-&gt;<a class="code" href="../../d1/d29/class_player_menu.html#ac3e4a82eab914ede51edd72ae89ad694">SendQuestGiverQuestList</a>(qe, title, guid);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;}</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a9940e82568c515c239c821d6fffdfb9b">  198</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#a9940e82568c515c239c821d6fffdfb9b">Player::IsActiveQuest</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id)<span class="keyword"> const</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d53/class_player.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.find(quest_id) != <a class="code" href="../../d8/d53/class_player.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.end();</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;}</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#ac35099dc1c5c4340d450db90a5d143ca">  203</a></span>&#160;<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* <a class="code" href="../../d8/d53/class_player.html#ac35099dc1c5c4340d450db90a5d143ca">Player::GetNextQuest</a>(<a class="code" href="../../d8/d03/class_object_guid.html">ObjectGuid</a> guid, <a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* quest)</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;{</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="../../d9/d77/_object_mgr_8h.html#a4d2e936df987ca3457dc1cff99fd3394">QuestRelationBounds</a> objectQR;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="../../d1/dac/class_creature.html">Creature</a>* creature = <a class="code" href="../../d4/d27/namespace_object_accessor.html#abe7c8995443541417f52b00973dbde6f">ObjectAccessor::GetCreatureOrPetOrVehicle</a>(*<span class="keyword">this</span>, guid);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">if</span> (creature)</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        objectQR  = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetCreatureQuestRelationBounds(creature-&gt;<a class="code" href="../../d8/d83/class_object.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>());</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="comment">//we should obtain map pointer from GetMap() in 99% of cases. Special case</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="comment">//only for quests which cast teleport spells on player</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <a class="code" href="../../dd/d11/class_map.html">Map</a>* _map = <a class="code" href="../../d8/d83/class_object.html#a3aeab7def818ba6c50249f197ad2f9ca">IsInWorld</a>() ? <a class="code" href="../../db/df7/class_world_object.html#a76c507a1b3adcebf2732572bc6b67fe0">GetMap</a>() : <a class="code" href="../../dd/dca/_map_mgr_8h.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a>-&gt;FindMap(<a class="code" href="../../d6/d64/class_world_location.html#a2682e56ae4f0ce4b517a8ba3cd2798b1">GetMapId</a>(), <a class="code" href="../../db/df7/class_world_object.html#a664e99edd35c98e8eb7f67476aa8082d">GetInstanceId</a>());</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <a class="code" href="../../db/d16/_errors_8h.html#af343b20373ba49a92fce523e948f2ab3">ASSERT</a>(_map);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <a class="code" href="../../d0/dd1/class_game_object.html">GameObject</a>* pGameObject = _map-&gt;<a class="code" href="../../dd/d11/class_map.html#a92001d81940cdfec678ec714248052a5">GetGameObject</a>(guid);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="keywordflow">if</span> (pGameObject)</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            objectQR  = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetGOQuestRelationBounds(pGameObject-&gt;<a class="code" href="../../d8/d83/class_object.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>());</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> nextQuestID = quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#afd21789d43617d2a7d48e0479b247fde">GetNextQuestInChain</a>();</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">for</span> (QuestRelations::const_iterator itr = objectQR.first; itr != objectQR.second; ++itr)</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="keywordflow">if</span> (itr-&gt;second == nextQuestID)</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(nextQuestID);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    }</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;}</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a743bfca834aded4409212d6fb43d8f4f">  233</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#a743bfca834aded4409212d6fb43d8f4f">Player::CanSeeStartQuest</a>(<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* quest)</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;{</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d42/namespace_disable_mgr.html#a6673bbc719c96febfc86a4220a988ed0">DisableMgr::IsDisabledFor</a>(<a class="code" href="../../d6/d01/_disable_mgr_8h.html#affa2a0d7ee61f6e1bc7c6cb7d2c1b64ca53c0091b82a6fc9bc32393f75af1e49e">DISABLE_TYPE_QUEST</a>, quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>(), <span class="keyword">this</span>) &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#a8d5b1b54960d39e389dcfa8c71dc54f4">SatisfyQuestClass</a>(quest, <span class="keyword">false</span>) &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#a8b94a5119e583d66540638942e19f431">SatisfyQuestRace</a>(quest, <span class="keyword">false</span>) &amp;&amp;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#abd1902419170116dee3064afbd492f0f">SatisfyQuestSkill</a>(quest, <span class="keyword">false</span>) &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#a3eff2504b3182e587f5861966fc819e6">SatisfyQuestExclusiveGroup</a>(quest, <span class="keyword">false</span>) &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#a8e0d6d5481aa496aa943b546e82b8911">SatisfyQuestReputation</a>(quest, <span class="keyword">false</span>) &amp;&amp;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#ab38d56b364dfd74d7b6a88d08ecdf072">SatisfyQuestPreviousQuest</a>(quest, <span class="keyword">false</span>) &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#a20f4b508f43c0250a376be46cb31ffa6">SatisfyQuestNextChain</a>(quest, <span class="keyword">false</span>) &amp;&amp;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#ade36479ca18bfad804c3b5306d856ddf">SatisfyQuestPrevChain</a>(quest, <span class="keyword">false</span>) &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#a518389d20cdf628f73a4ca8db9b5d2fd">SatisfyQuestDay</a>(quest, <span class="keyword">false</span>) &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#aca05d62bd5f150ae2426747d8e1a3a36">SatisfyQuestWeek</a>(quest, <span class="keyword">false</span>) &amp;&amp;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a7b45b9e11b333d56baf6b02cc523d70a">SatisfyQuestMonth</a>(quest, <span class="keyword">false</span>) &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#a897e236601ec88039eb9d16652233ce5">SatisfyQuestSeasonal</a>(quest, <span class="keyword">false</span>))</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../da/db7/class_unit.html#adc6d98745d565970b4a89088ec5b5a42">getLevel</a>() + <a class="code" href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code" href="../../d2/d80/_i_world_8h.html#a17aac4c166ebe43e3b8fdccf9e012e41a35be86ac21dd2db36961628f5be2279f">CONFIG_QUEST_HIGH_LEVEL_HIDE_DIFF</a>) &gt;= quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a4355a8343017eb1059657dbd2bd13694">GetMinLevel</a>();</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    }</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160; </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;}</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a4119b83fa78e608d8d946b1821c57fdf">  247</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#a4119b83fa78e608d8d946b1821c57fdf">Player::CanTakeQuest</a>(<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* quest, <span class="keywordtype">bool</span> msg)</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;{</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="../../dd/d42/namespace_disable_mgr.html#a6673bbc719c96febfc86a4220a988ed0">DisableMgr::IsDisabledFor</a>(<a class="code" href="../../d6/d01/_disable_mgr_8h.html#affa2a0d7ee61f6e1bc7c6cb7d2c1b64ca53c0091b82a6fc9bc32393f75af1e49e">DISABLE_TYPE_QUEST</a>, quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>(), <span class="keyword">this</span>)</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;           &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#acf0f9d07a0043d6fdbd8a4cbde03ab53">SatisfyQuestStatus</a>(quest, msg) &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#a3eff2504b3182e587f5861966fc819e6">SatisfyQuestExclusiveGroup</a>(quest, msg)</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;           &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#a8d5b1b54960d39e389dcfa8c71dc54f4">SatisfyQuestClass</a>(quest, msg) &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#a8b94a5119e583d66540638942e19f431">SatisfyQuestRace</a>(quest, msg) &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#aa741d2df6cdf7e02b63b46d2a58f609a">SatisfyQuestLevel</a>(quest, msg)</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;           &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#abd1902419170116dee3064afbd492f0f">SatisfyQuestSkill</a>(quest, msg) &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#a8e0d6d5481aa496aa943b546e82b8911">SatisfyQuestReputation</a>(quest, msg)</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;           &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#ab38d56b364dfd74d7b6a88d08ecdf072">SatisfyQuestPreviousQuest</a>(quest, msg) &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#a981ca241668a35c4d44f885769f59f7a">SatisfyQuestTimed</a>(quest, msg)</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;           &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#a20f4b508f43c0250a376be46cb31ffa6">SatisfyQuestNextChain</a>(quest, msg) &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#ade36479ca18bfad804c3b5306d856ddf">SatisfyQuestPrevChain</a>(quest, msg)</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;           &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#a518389d20cdf628f73a4ca8db9b5d2fd">SatisfyQuestDay</a>(quest, msg) &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#aca05d62bd5f150ae2426747d8e1a3a36">SatisfyQuestWeek</a>(quest, msg)</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;           &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#a7b45b9e11b333d56baf6b02cc523d70a">SatisfyQuestMonth</a>(quest, msg) &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#a897e236601ec88039eb9d16652233ce5">SatisfyQuestSeasonal</a>(quest, msg)</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;           &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#a5713cd88450fc91ded78904209521176">SatisfyQuestConditions</a>(quest, msg);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;}</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a5ced1d54771a4c7654620f1768436806">  260</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#a5ced1d54771a4c7654620f1768436806">Player::CanAddQuest</a>(<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* quest, <span class="keywordtype">bool</span> msg)</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;{</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d53/class_player.html#a9db7bf014aa6b541253cef245cc34948">SatisfyQuestLog</a>(msg))</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> srcitem = quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#ad4362cc4900c53c7bf010ea8fe0eabff">GetSrcItemId</a>();</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">if</span> (srcitem &gt; 0)</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a624f094e3f33c2bf5eb30dd9d208a058">GetSrcItemCount</a>();</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <a class="code" href="../../d1/d39/_player_8h.html#a06f492a0a20f5264c8395684220fec84">ItemPosCountVec</a> dest;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <a class="code" href="../../da/d43/_item_8h.html#a73617af2b3e5e935646638fa13678391">InventoryResult</a> msg2 = <a class="code" href="../../d8/d53/class_player.html#af059a10625d50ca7674771ea1c1c4c4c">CanStoreNewItem</a>(<a class="code" href="../../d5/d32/_unit_8h.html#aadcc1e3338f8cbbe511ad060db42dfb5a843659af0a40139bfa505d7e7982477b">NULL_BAG</a>, <a class="code" href="../../d5/d32/_unit_8h.html#aadcc1e3338f8cbbe511ad060db42dfb5aeb5cbd7990d2f5e679ec4ecc65e83130">NULL_SLOT</a>, dest, srcitem, count);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="comment">// player already have max number (in most case 1) source item, no additional item needed and quest can be added.</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordflow">if</span> (msg2 == <a class="code" href="../../da/d43/_item_8h.html#a73617af2b3e5e935646638fa13678391ac38e8d6381e5ed7855a06a1b34163dca">EQUIP_ERR_CANT_CARRY_MORE_OF_THIS</a>)</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msg2 != <a class="code" href="../../da/d43/_item_8h.html#a73617af2b3e5e935646638fa13678391a939b6661cd19d6c18274906abb28021c">EQUIP_ERR_OK</a>)</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#ade216a89981dfce501f02f38cec9ad3f">SendEquipError</a>(msg2, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, srcitem);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        }</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    }</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;}</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#aa620106c0c7396e8264a4d8e0e4dc4d9">  284</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#aa620106c0c7396e8264a4d8e0e4dc4d9">Player::CanCompleteQuest</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id, <span class="keyword">const</span> <a class="code" href="../../de/d05/struct_quest_status_data.html">QuestStatusData</a>* q_savedStatus)</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;{</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">if</span> (quest_id)</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qInfo = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(quest_id);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="keywordflow">if</span> (!qInfo)</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="comment">// Xinef: take seasonals into account</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <span class="keywordflow">if</span>(!qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a725d9e26041dbb223470b8f96094b084">IsRepeatable</a>() &amp;&amp; !qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#adaa19295bcbbc791d0ed2e70d641e4e9">IsSeasonal</a>() &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#af6f5e7fa735e3d31f3558410184d08be">IsQuestRewarded</a>(quest_id))</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;                                   <span class="comment">// not allow re-complete quest</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="comment">// auto complete quest</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keywordflow">if</span> ((qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a7c067ea4d0fbf622a17eec3ad7414594">IsAutoComplete</a>() || !qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#af1e10dfc30ded6ceadd623ab382ef10f">GetQuestMethod</a>()) &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#a4119b83fa78e608d8d946b1821c57fdf">CanTakeQuest</a>(qInfo, <span class="keyword">false</span>))</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <a class="code" href="../../de/d05/struct_quest_status_data.html">QuestStatusData</a> q_status;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="keywordflow">if</span> (q_savedStatus)</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            q_status = *q_savedStatus;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            QuestStatusMap::const_iterator itr = <a class="code" href="../../d8/d53/class_player.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.find(quest_id);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <span class="keywordflow">if</span> (itr == <a class="code" href="../../d8/d53/class_player.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.end())</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            q_status = itr-&gt;second;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        }</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="keywordflow">if</span> (q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> == <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a>)</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            <span class="keywordflow">if</span> (qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7ada3e7201a507f2f10de112891952cc9a4f">QUEST_SPECIAL_FLAGS_DELIVER</a>))</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a5b538720bd7de8c4468dc6d21b412f10">QUEST_ITEM_OBJECTIVES_COUNT</a>; i++)</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                    <span class="keywordflow">if</span> (qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#aaacce83fe56a29eee3663836d784c4bb">RequiredItemCount</a>[i] != 0 &amp;&amp; q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#a466999cea52f65bf58916bc34750bf95">ItemCount</a>[i] &lt; qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#aaacce83fe56a29eee3663836d784c4bb">RequiredItemCount</a>[i])</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            <span class="keywordflow">if</span> (qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7ada733d4cbb745e91f0d9b144facca67b27">QUEST_SPECIAL_FLAGS_KILL</a> | <a class="code" href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7ada271648005ec2e602447056fbb91593ce">QUEST_SPECIAL_FLAGS_CAST</a> | <a class="code" href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7adaae331a9f2b83cc198f7bdd130fc3c8d8">QUEST_SPECIAL_FLAGS_SPEAKTO</a>))</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a7dab6182ee1bbabf205ed30f9c2d6c8b">QUEST_OBJECTIVES_COUNT</a>; i++)</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                    <span class="keywordflow">if</span> (qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a136c35d22865c4d7a8199f754977c768">RequiredNpcOrGo</a>[i] == 0)</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                    <span class="keywordflow">if</span> (qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a26795fa9c5daf20043c08171c75672c9">RequiredNpcOrGoCount</a>[i] != 0 &amp;&amp; q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#aa5892dc0744a41ac565568307f12ad35">CreatureOrGOCount</a>[i] &lt; qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a26795fa9c5daf20043c08171c75672c9">RequiredNpcOrGoCount</a>[i])</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                }</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            }</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            <span class="keywordflow">if</span> (qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7adaf684e0d6b4efab2cf6a32452b9bba335">QUEST_SPECIAL_FLAGS_PLAYER_KILL</a>))</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                <span class="keywordflow">if</span> (qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a910f66ebd4b91d594dab6e6227ad2917">GetPlayersSlain</a>() != 0 &amp;&amp; q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#a170a1e54fe45b7fd0c7934f1309f7969">PlayerCount</a> &lt; qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a910f66ebd4b91d594dab6e6227ad2917">GetPlayersSlain</a>())</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            <span class="keywordflow">if</span> (qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7ada7cdb9968510dd711ea90b4b1f1275413">QUEST_SPECIAL_FLAGS_EXPLORATION_OR_EVENT</a>) &amp;&amp; !q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#a734f6a61aa35c77689d33031e88f0c0b">Explored</a>)</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            <span class="keywordflow">if</span> (qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7ada3babe1bfcae1e2c0c0f4b399eabcdaab">QUEST_SPECIAL_FLAGS_TIMED</a>) &amp;&amp; q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#a16343f7a162e5b7b6a1a18345420c77a">Timer</a> == 0)</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            <span class="keywordflow">if</span> (qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a31e2d6f7391effd1a8c3a28ee81dec62">GetRewOrReqMoney</a>() &lt; 0)</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            {</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d53/class_player.html#a77b52bf6fc7a0ac6ad37bf836aaf5c7b">HasEnoughMoney</a>(-qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a31e2d6f7391effd1a8c3a28ee81dec62">GetRewOrReqMoney</a>()))</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            }</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> repFacId = qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a1c6aee64c4ebe888060dfc4a3b0ae974">GetRepObjectiveFaction</a>();</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            <span class="keywordflow">if</span> (repFacId &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#a06adafbf0eb3a828dfc0049cc81ca31c">GetReputationMgr</a>().<a class="code" href="../../d8/d53/class_player.html#ab0dd4a3587adde29c041c1d403d676e3">GetReputation</a>(repFacId) &lt; qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a06c88a17affc1a13a06be5b5404e3b8f">GetRepObjectiveValue</a>())</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    }</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;}</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#abbdc64fe74e2935052b57d3072dee33e">  361</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#abbdc64fe74e2935052b57d3072dee33e">Player::CanCompleteRepeatableQuest</a>(<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* quest)</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;{</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="comment">// Solve problem that player don&#39;t have the quest and try complete it.</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="comment">// if repeatable she must be able to complete event if player don&#39;t have it.</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="comment">// Seem that all repeatable quest are DELIVER Flag so, no need to add more.</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d53/class_player.html#a4119b83fa78e608d8d946b1821c57fdf">CanTakeQuest</a>(quest, <span class="keyword">false</span>))</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160; </div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7ada3e7201a507f2f10de112891952cc9a4f">QUEST_SPECIAL_FLAGS_DELIVER</a>))</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a5b538720bd7de8c4468dc6d21b412f10">QUEST_ITEM_OBJECTIVES_COUNT</a>; i++)</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#abff147587981d28f9e8034031696a91d">RequiredItemId</a>[i] &amp;&amp; quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#aaacce83fe56a29eee3663836d784c4bb">RequiredItemCount</a>[i] &amp;&amp; !<a class="code" href="../../d8/d53/class_player.html#a3b6b7692a9496e07088b96315decc78c">HasItemCount</a>(quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#abff147587981d28f9e8034031696a91d">RequiredItemId</a>[i], quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#aaacce83fe56a29eee3663836d784c4bb">RequiredItemCount</a>[i]))</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d53/class_player.html#a541838bee904b263239f051505a1498b">CanRewardQuest</a>(quest, <span class="keyword">false</span>))</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160; </div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;}</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160; </div>
<div class="line"><a name="l00380"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a541838bee904b263239f051505a1498b">  380</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#a541838bee904b263239f051505a1498b">Player::CanRewardQuest</a>(<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* quest, <span class="keywordtype">bool</span> msg)</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;{</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="comment">// not auto complete quest and not completed quest (only cheating case, then ignore without message)</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">if</span> (!quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a62deb059ae37d23ad11c985b8a8ed792">IsDFQuest</a>() &amp;&amp; !quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a7c067ea4d0fbf622a17eec3ad7414594">IsAutoComplete</a>() &amp;&amp; quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#af1e10dfc30ded6ceadd623ab382ef10f">GetQuestMethod</a>() &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#ab98c62b0161d702e4219c8277f8f5349">GetQuestStatus</a>(quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>()) != <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8ae1b2fe2d9de28cc70b59a4bdd5f0abed">QUEST_STATUS_COMPLETE</a>)</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160; </div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="comment">// daily quest can&#39;t be rewarded (25 daily quest already completed)</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d53/class_player.html#a518389d20cdf628f73a4ca8db9b5d2fd">SatisfyQuestDay</a>(quest, <span class="keyword">true</span>) || !<a class="code" href="../../d8/d53/class_player.html#aca05d62bd5f150ae2426747d8e1a3a36">SatisfyQuestWeek</a>(quest, <span class="keyword">true</span>) || !<a class="code" href="../../d8/d53/class_player.html#a7b45b9e11b333d56baf6b02cc523d70a">SatisfyQuestMonth</a>(quest, <span class="keyword">true</span>) || !<a class="code" href="../../d8/d53/class_player.html#a897e236601ec88039eb9d16652233ce5">SatisfyQuestSeasonal</a>(quest, <span class="keyword">true</span>))</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="comment">// rewarded and not repeatable quest (only cheating case, then ignore without message)</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#a2f780cf8d581075515965d1de74cf789">GetQuestRewardStatus</a>(quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>()))</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160; </div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="comment">// prevent receive reward with quest items in bank</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7ada3e7201a507f2f10de112891952cc9a4f">QUEST_SPECIAL_FLAGS_DELIVER</a>))</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a5b538720bd7de8c4468dc6d21b412f10">QUEST_ITEM_OBJECTIVES_COUNT</a>; i++)</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#aaacce83fe56a29eee3663836d784c4bb">RequiredItemCount</a>[i] != 0 &amp;&amp;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                <a class="code" href="../../d8/d53/class_player.html#a5aa219a691b0c5212fda9de12dfd72e9">GetItemCount</a>(quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#abff147587981d28f9e8034031696a91d">RequiredItemId</a>[i]) &lt; quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#aaacce83fe56a29eee3663836d784c4bb">RequiredItemCount</a>[i])</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                    <a class="code" href="../../d8/d53/class_player.html#ade216a89981dfce501f02f38cec9ad3f">SendEquipError</a>(<a class="code" href="../../da/d43/_item_8h.html#a73617af2b3e5e935646638fa13678391a8b1b5966ea1ccbf5ee6d1d4a244b272e">EQUIP_ERR_ITEM_NOT_FOUND</a>, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#abff147587981d28f9e8034031696a91d">RequiredItemId</a>[i]);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            }</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        }</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="comment">// prevent receive reward with low money and GetRewOrReqMoney() &lt; 0</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a31e2d6f7391effd1a8c3a28ee81dec62">GetRewOrReqMoney</a>() &lt; 0 &amp;&amp; !<a class="code" href="../../d8/d53/class_player.html#a77b52bf6fc7a0ac6ad37bf836aaf5c7b">HasEnoughMoney</a>(-quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a31e2d6f7391effd1a8c3a28ee81dec62">GetRewOrReqMoney</a>()))</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160; </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;}</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#aa59bc437abf78479ccb2a10800f202d3">  416</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#aa59bc437abf78479ccb2a10800f202d3">Player::AddQuestAndCheckCompletion</a>(<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* quest, <a class="code" href="../../d8/d83/class_object.html">Object</a>* questGiver)</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;{</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a583c1a4763502f74b9aa69f5b43fc9a6">AddQuest</a>(quest, questGiver);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#aa620106c0c7396e8264a4d8e0e4dc4d9">CanCompleteQuest</a>(quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>()))</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a67b53af432006bf83e80cb6991b6e146">CompleteQuest</a>(quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>());</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160; </div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">if</span> (!questGiver)</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160; </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordflow">switch</span> (questGiver-&gt;<a class="code" href="../../d8/d83/class_object.html#a621a345fc34deed6d3a4e1e498a652da">GetTypeId</a>())</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d9/d83/_object_guid_8h.html#a183c40b2ba67065929d70b3987da4cc2a93dfa528ffc48db4993fb7ac62696db9">TYPEID_UNIT</a>:</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="preprocessor">#ifdef ELUNA</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            sEluna-&gt;OnQuestAccept(<span class="keyword">this</span>, questGiver-&gt;<a class="code" href="../../d8/d83/class_object.html#a4a4bdac0d151f9193aa3581bda31193c">ToCreature</a>(), quest);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            <a class="code" href="../../d0/d7d/_script_mgr_8h.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnQuestAccept(<span class="keyword">this</span>, (questGiver-&gt;<a class="code" href="../../d8/d83/class_object.html#a4a4bdac0d151f9193aa3581bda31193c">ToCreature</a>()), quest);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            questGiver-&gt;<a class="code" href="../../d8/d83/class_object.html#a4a4bdac0d151f9193aa3581bda31193c">ToCreature</a>()-&gt;<a class="code" href="../../d1/dac/class_creature.html#ac96507fb393d3410b6fe27bebf31e20d">AI</a>()-&gt;<a class="code" href="../../dd/d9c/class_unit_a_i.html#a03076e2d142052af78e6d9e85f390fd1">sQuestAccept</a>(<span class="keyword">this</span>, quest);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d9/d83/_object_guid_8h.html#a183c40b2ba67065929d70b3987da4cc2ab2bcf0ba3fcc0090223bf840eda90b28">TYPEID_ITEM</a>:</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d9/d83/_object_guid_8h.html#a183c40b2ba67065929d70b3987da4cc2afebf490e56b6f11276b1523008afa107">TYPEID_CONTAINER</a>:</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            <a class="code" href="../../dc/d32/class_item.html">Item</a>* item = (<a class="code" href="../../dc/d32/class_item.html">Item</a>*)questGiver;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            <a class="code" href="../../d0/d7d/_script_mgr_8h.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnQuestAccept(<span class="keyword">this</span>, item, quest);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160; </div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            <span class="comment">// destroy not required for quest finish quest starting item</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            <span class="keywordtype">bool</span> destroyItem = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a5b538720bd7de8c4468dc6d21b412f10">QUEST_ITEM_OBJECTIVES_COUNT</a>; ++i)</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#abff147587981d28f9e8034031696a91d">RequiredItemId</a>[i] == item-&gt;<a class="code" href="../../d8/d83/class_object.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>() &amp;&amp; item-&gt;<a class="code" href="../../dc/d32/class_item.html#a55223032f2942a6f46b10053afe8c73c">GetTemplate</a>()-&gt;<a class="code" href="../../da/d61/struct_item_template.html#a2c13c4c1edbd3add9c6e0e2263f6c717">MaxCount</a> &gt; 0)</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                {</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                    destroyItem = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                }</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            }</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160; </div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            <span class="keywordflow">if</span> (destroyItem)</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                <a class="code" href="../../d8/d53/class_player.html#a79e24bb7856e3631a8e3d1fd16fc744e">DestroyItem</a>(item-&gt;<a class="code" href="../../dc/d32/class_item.html#adfcfd40507681d503b6115ac3fc11a79">GetBagSlot</a>(), item-&gt;<a class="code" href="../../dc/d32/class_item.html#a04019a011a5f4df849f39b413df68295">GetSlot</a>(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        }</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d9/d83/_object_guid_8h.html#a183c40b2ba67065929d70b3987da4cc2a91b74ac7ebfe7909332a6eec5054c60d">TYPEID_GAMEOBJECT</a>:</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="preprocessor">#ifdef ELUNA</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            sEluna-&gt;OnQuestAccept(<span class="keyword">this</span>, questGiver-&gt;<a class="code" href="../../d8/d83/class_object.html#ac29133995854ac3bf59c164a91d6efaa">ToGameObject</a>(), quest);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            <a class="code" href="../../d0/d7d/_script_mgr_8h.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnQuestAccept(<span class="keyword">this</span>, questGiver-&gt;<a class="code" href="../../d8/d83/class_object.html#ac29133995854ac3bf59c164a91d6efaa">ToGameObject</a>(), quest);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            questGiver-&gt;<a class="code" href="../../d8/d83/class_object.html#ac29133995854ac3bf59c164a91d6efaa">ToGameObject</a>()-&gt;<a class="code" href="../../d0/dd1/class_game_object.html#a781f04602ca600af3419c51843009aba">AI</a>()-&gt;<a class="code" href="../../d7/db8/class_game_object_a_i.html#a8459d37ce69b9a02c1ecd047ec704089">QuestAccept</a>(<span class="keyword">this</span>, quest);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    }</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;}</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a0a4dc5dbc656abdc90695b8dd643f1c7">  469</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#a541838bee904b263239f051505a1498b">Player::CanRewardQuest</a>(<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* quest, <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reward, <span class="keywordtype">bool</span> msg)</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;{</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="comment">// prevent receive reward with quest items in bank or for not completed quest</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d53/class_player.html#a541838bee904b263239f051505a1498b">CanRewardQuest</a>(quest, msg))</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160; </div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <a class="code" href="../../d1/d39/_player_8h.html#a06f492a0a20f5264c8395684220fec84">ItemPosCountVec</a> dest;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#ad0ccd9dbb5209c6e5a8b4f88703d1b24">GetRewChoiceItemsCount</a>() &gt; 0)</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    {</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a57886dc304657391b76080b4ca7c3176">RewardChoiceItemId</a>[reward])</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            <a class="code" href="../../da/d43/_item_8h.html#a73617af2b3e5e935646638fa13678391">InventoryResult</a> res = <a class="code" href="../../d8/d53/class_player.html#af059a10625d50ca7674771ea1c1c4c4c">CanStoreNewItem</a>(<a class="code" href="../../d5/d32/_unit_8h.html#aadcc1e3338f8cbbe511ad060db42dfb5a843659af0a40139bfa505d7e7982477b">NULL_BAG</a>, <a class="code" href="../../d5/d32/_unit_8h.html#aadcc1e3338f8cbbe511ad060db42dfb5aeb5cbd7990d2f5e679ec4ecc65e83130">NULL_SLOT</a>, dest, quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a57886dc304657391b76080b4ca7c3176">RewardChoiceItemId</a>[reward], quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a822276910bf774ea9190c34b9a30fe5d">RewardChoiceItemCount</a>[reward]);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            <span class="keywordflow">if</span> (res != <a class="code" href="../../da/d43/_item_8h.html#a73617af2b3e5e935646638fa13678391a939b6661cd19d6c18274906abb28021c">EQUIP_ERR_OK</a>)</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            {</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                <a class="code" href="../../d8/d53/class_player.html#ade216a89981dfce501f02f38cec9ad3f">SendEquipError</a>(res, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a57886dc304657391b76080b4ca7c3176">RewardChoiceItemId</a>[reward]);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            }</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        }</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160; </div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#acedf7709925beca7cfa576950ea952bf">GetRewItemsCount</a>() &gt; 0)</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    {</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#acedf7709925beca7cfa576950ea952bf">GetRewItemsCount</a>(); ++i)</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        {</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;            <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#aede7794218b0181207be14b07cda2b64">RewardItemId</a>[i])</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;            {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                <a class="code" href="../../da/d43/_item_8h.html#a73617af2b3e5e935646638fa13678391">InventoryResult</a> res = <a class="code" href="../../d8/d53/class_player.html#af059a10625d50ca7674771ea1c1c4c4c">CanStoreNewItem</a>(<a class="code" href="../../d5/d32/_unit_8h.html#aadcc1e3338f8cbbe511ad060db42dfb5a843659af0a40139bfa505d7e7982477b">NULL_BAG</a>, <a class="code" href="../../d5/d32/_unit_8h.html#aadcc1e3338f8cbbe511ad060db42dfb5aeb5cbd7990d2f5e679ec4ecc65e83130">NULL_SLOT</a>, dest, quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#aede7794218b0181207be14b07cda2b64">RewardItemId</a>[i], quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a3fe2654312995eeeb8940d7d2c70d6f3">RewardItemIdCount</a>[i]);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                <span class="keywordflow">if</span> (res != <a class="code" href="../../da/d43/_item_8h.html#a73617af2b3e5e935646638fa13678391a939b6661cd19d6c18274906abb28021c">EQUIP_ERR_OK</a>)</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                    <a class="code" href="../../d8/d53/class_player.html#ade216a89981dfce501f02f38cec9ad3f">SendEquipError</a>(res, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#aede7794218b0181207be14b07cda2b64">RewardItemId</a>[i]);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                }</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            }</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        }</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    }</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160; </div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;}</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160; </div>
<div class="line"><a name="l00508"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a583c1a4763502f74b9aa69f5b43fc9a6">  508</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a583c1a4763502f74b9aa69f5b43fc9a6">Player::AddQuest</a>(<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* quest, <a class="code" href="../../d8/d83/class_object.html">Object</a>* questGiver)</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;{</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> log_slot = <a class="code" href="../../d8/d53/class_player.html#a3454be68dff7bb9d8ee581591cac3c95">FindQuestSlot</a>(0);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160; </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keywordflow">if</span> (log_slot &gt;= <a class="code" href="../../d2/dc8/_quest_def_8h.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>) <span class="comment">// Player does not have any free slot in the quest log</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160; </div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id = quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>();</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="comment">// if not exist then created with set uState == NEW and rewarded=false</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <a class="code" href="../../de/d05/struct_quest_status_data.html">QuestStatusData</a>&amp; questStatusData = <a class="code" href="../../d8/d53/class_player.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>[quest_id];</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="comment">// check for repeatable quests status reset</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    questStatusData.<a class="code" href="../../de/d05/struct_quest_status_data.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> = <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a>;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    questStatusData.<a class="code" href="../../de/d05/struct_quest_status_data.html#a734f6a61aa35c77689d33031e88f0c0b">Explored</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160; </div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7ada3e7201a507f2f10de112891952cc9a4f">QUEST_SPECIAL_FLAGS_DELIVER</a>))</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a5b538720bd7de8c4468dc6d21b412f10">QUEST_ITEM_OBJECTIVES_COUNT</a>; ++i)</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            questStatusData.<a class="code" href="../../de/d05/struct_quest_status_data.html#a466999cea52f65bf58916bc34750bf95">ItemCount</a>[i] = 0;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    }</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160; </div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7ada733d4cbb745e91f0d9b144facca67b27">QUEST_SPECIAL_FLAGS_KILL</a> | <a class="code" href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7ada271648005ec2e602447056fbb91593ce">QUEST_SPECIAL_FLAGS_CAST</a> | <a class="code" href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7adaae331a9f2b83cc198f7bdd130fc3c8d8">QUEST_SPECIAL_FLAGS_SPEAKTO</a>))</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    {</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a7dab6182ee1bbabf205ed30f9c2d6c8b">QUEST_OBJECTIVES_COUNT</a>; ++i)</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            questStatusData.<a class="code" href="../../de/d05/struct_quest_status_data.html#aa5892dc0744a41ac565568307f12ad35">CreatureOrGOCount</a>[i] = 0;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    }</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7adaf684e0d6b4efab2cf6a32452b9bba335">QUEST_SPECIAL_FLAGS_PLAYER_KILL</a>))</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        questStatusData.<a class="code" href="../../de/d05/struct_quest_status_data.html#a170a1e54fe45b7fd0c7934f1309f7969">PlayerCount</a> = 0;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160; </div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#acaa7aab48332b249ff546d123a9af85d">GiveQuestSourceItem</a>(quest);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a887ee39fb5179132913f3907d504ca77">AdjustQuestReqItemCount</a>(quest, questStatusData);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160; </div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a1c6aee64c4ebe888060dfc4a3b0ae974">GetRepObjectiveFaction</a>())</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/d40/struct_faction_entry.html">FactionEntry</a> <span class="keyword">const</span>* factionEntry = <a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#a6f79a9658f29641b0ae27738de47d03f">sFactionStore</a>.LookupEntry(quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a1c6aee64c4ebe888060dfc4a3b0ae974">GetRepObjectiveFaction</a>()))</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#a06adafbf0eb3a828dfc0049cc81ca31c">GetReputationMgr</a>().<a class="code" href="../../df/dee/class_reputation_mgr.html#a1c217a2d0b1f4f1079f9353294a37170">SetVisible</a>(factionEntry);</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160; </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a31378cd54fb5bbe7cccbd47cdd06ac3b">GetRepObjectiveFaction2</a>())</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/d40/struct_faction_entry.html">FactionEntry</a> <span class="keyword">const</span>* factionEntry = <a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#a6f79a9658f29641b0ae27738de47d03f">sFactionStore</a>.LookupEntry(quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a31378cd54fb5bbe7cccbd47cdd06ac3b">GetRepObjectiveFaction2</a>()))</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#a06adafbf0eb3a828dfc0049cc81ca31c">GetReputationMgr</a>().<a class="code" href="../../df/dee/class_reputation_mgr.html#a1c217a2d0b1f4f1079f9353294a37170">SetVisible</a>(factionEntry);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160; </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> qtime = 0;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7ada3babe1bfcae1e2c0c0f4b399eabcdaab">QUEST_SPECIAL_FLAGS_TIMED</a>))</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    {</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> timeAllowed = quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#af6c06e652199b8685e1d1688a3c8f33f">GetTimeAllowed</a>();</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160; </div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="comment">// shared timed quest</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <span class="keywordflow">if</span> (questGiver &amp;&amp; questGiver-&gt;<a class="code" href="../../d8/d83/class_object.html#a621a345fc34deed6d3a4e1e498a652da">GetTypeId</a>() == <a class="code" href="../../d9/d83/_object_guid_8h.html#a183c40b2ba67065929d70b3987da4cc2aca37d750899c40a5743285ccda2bba9c">TYPEID_PLAYER</a>)</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            timeAllowed = questGiver-&gt;<a class="code" href="../../d8/d83/class_object.html#ae635434021784608b659501867538c87">ToPlayer</a>()-&gt;<a class="code" href="../../d8/d53/class_player.html#a2993e8a7570b49ded926f2fd8306a9f3">getQuestStatusMap</a>()[quest_id].Timer / <a class="code" href="../../db/d1f/_common_8h.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a>;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160; </div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#af37c2193907bc6a6860b7e25954531e0">AddTimedQuest</a>(quest_id);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        questStatusData.<a class="code" href="../../de/d05/struct_quest_status_data.html#a16343f7a162e5b7b6a1a18345420c77a">Timer</a> = timeAllowed * <a class="code" href="../../db/d1f/_common_8h.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a>;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        qtime = <span class="keyword">static_cast&lt;</span><a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a><span class="keyword">&gt;</span>(time(<span class="keyword">nullptr</span>)) + timeAllowed;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    }</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        questStatusData.<a class="code" href="../../de/d05/struct_quest_status_data.html#a16343f7a162e5b7b6a1a18345420c77a">Timer</a> = 0;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160; </div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a071cf4919b90266595fef826351f2d2a">HasFlag</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#a881ebe30fbf0f088d54bfa959cefe47ca16e6bbf1bd0e4cc59521b0e5e4ed670e">QUEST_FLAGS_FLAGS_PVP</a>))</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    {</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#aa1b93687507f29637f2e42574ddd02ed">pvpInfo</a>.<a class="code" href="../../d6/db0/struct_pv_p_info.html#a22a1c8f0e8c51f4a27cb8ab362028d61">IsHostile</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a583d3a68188487a3952dc9e6bd1a1c76">UpdatePvPState</a>();</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160; </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a92675cf0a2e48ee6d04764081743b8ea">SetQuestSlot</a>(log_slot, quest_id, qtime);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#af1535e4d884448d3ee3ceb81c5b5feee">m_QuestStatusSave</a>[quest_id] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160; </div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a10c732bc343e1f9b0de50865bb2ba577">StartTimedAchievement</a>(<a class="code" href="../../dc/d6e/_d_b_c_enums_8h.html#a282f094fb8ee80177dd57d2086ddd35bade60c4178807ba9725dbc89de211259d">ACHIEVEMENT_TIMED_TYPE_QUEST</a>, quest_id);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160; </div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a71e5ab0c8c5ba33eb6c36a2300065823">SendQuestUpdate</a>(quest_id);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160; </div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="comment">// check if Quest Tracker is enabled</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getBoolConfig(<a class="code" href="../../d2/d80/_i_world_8h.html#a1b4b88c03b7d0124998b4c22e957baf0adb4253fa69e835b574c8407d084c38a3">CONFIG_QUEST_ENABLE_QUEST_TRACKER</a>))</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    {</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <span class="comment">// prepare Quest Tracker datas</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <span class="keyword">auto</span> stmt = <a class="code" href="../../d6/d2e/_database_env_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code" href="../../d7/d54/_character_database_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7ac9ebca48fcfc7fd698951925c55a36fe">CHAR_INS_QUEST_TRACK</a>);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        stmt-&gt;setUInt32(0, quest_id);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        stmt-&gt;setUInt32(1, <a class="code" href="../../d8/d83/class_object.html#ae65fbd7720a9aa448516f6cf494bda67">GetGUID</a>().GetCounter());</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        stmt-&gt;setString(2, <a class="code" href="../../da/d2d/namespace_git_revision.html#addcf1401768f04ea13a6e868d9580605">GitRevision::GetHash</a>());</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        stmt-&gt;setString(3, <a class="code" href="../../da/d2d/namespace_git_revision.html#a10817e6a26ea352c0f79233d2ef552a8">GitRevision::GetDate</a>());</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160; </div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <span class="comment">// add to Quest Tracker</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        <a class="code" href="../../d6/d2e/_database_env_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Execute(stmt);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    }</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160; </div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="comment">// Xinef: area auras may change on quest accept!</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#ab3a73c835c52cd903ab0112a5bc4e7f0">UpdateZoneDependentAuras</a>(<a class="code" href="../../db/df7/class_world_object.html#ad498d690fbe69bb99a8a2ffdcb2f5169">GetZoneId</a>());</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a6dea805c714a08cb8972769c3f343bb9">UpdateAreaDependentAuras</a>(<a class="code" href="../../db/df7/class_world_object.html#acdd585ef58eb876c506389ff96a4fbd9">GetAreaId</a>());</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;}</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160; </div>
<div class="line"><a name="l00599"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a67b53af432006bf83e80cb6991b6e146">  599</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a67b53af432006bf83e80cb6991b6e146">Player::CompleteQuest</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id)</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;{</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordflow">if</span> (!quest_id)</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    }</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160; </div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#ad32f3a3ec1be51826e04097db7a69620">SetQuestStatus</a>(quest_id, <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8ae1b2fe2d9de28cc70b59a4bdd5f0abed">QUEST_STATUS_COMPLETE</a>);</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160; </div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="keyword">auto</span> log_slot = <a class="code" href="../../d8/d53/class_player.html#a3454be68dff7bb9d8ee581591cac3c95">FindQuestSlot</a>(quest_id);</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="keywordflow">if</span> (log_slot &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>)</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a9a1e2b927ca66d8bc57d3c009a192397">SetQuestSlotState</a>(log_slot, <a class="code" href="../../d1/d39/_player_8h.html#a2d079af58ae5bf704ea2b958307a5196a61b0594f1dd162d5a1dcff7103cecfc2">QUEST_STATE_COMPLETE</a>);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    }</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160; </div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qInfo = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(quest_id);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordflow">if</span> (qInfo &amp;&amp; qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a071cf4919b90266595fef826351f2d2a">HasFlag</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#a881ebe30fbf0f088d54bfa959cefe47ca00e51fd29f4182b118050cb8863b02bb">QUEST_FLAGS_TRACKING</a>))</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    {</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a0b02fb6b66f622faf8af68ebbd33b719">RewardQuest</a>(qInfo, 0, <span class="keyword">this</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    }</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160; </div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="comment">// Xinef: area auras may change on quest completion!</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#ab3a73c835c52cd903ab0112a5bc4e7f0">UpdateZoneDependentAuras</a>(<a class="code" href="../../db/df7/class_world_object.html#ad498d690fbe69bb99a8a2ffdcb2f5169">GetZoneId</a>());</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a6dea805c714a08cb8972769c3f343bb9">UpdateAreaDependentAuras</a>(<a class="code" href="../../db/df7/class_world_object.html#acdd585ef58eb876c506389ff96a4fbd9">GetAreaId</a>());</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#aa5393bf276b4b3429e7d12263408a90b">AdditionalSavingAddMask</a>(<a class="code" href="../../d1/d39/_player_8h.html#abb6c0419a027f09fbb5016deede34755a0e79848772fb35db024b1d9cfd8a55b2">ADDITIONAL_SAVING_INVENTORY_AND_GOLD</a> | <a class="code" href="../../d1/d39/_player_8h.html#abb6c0419a027f09fbb5016deede34755ae07ddeb5ee480f16943f43b31e53ebba">ADDITIONAL_SAVING_QUEST_STATUS</a>);</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160; </div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="comment">// check if Quest Tracker is enabled</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getBoolConfig(<a class="code" href="../../d2/d80/_i_world_8h.html#a1b4b88c03b7d0124998b4c22e957baf0adb4253fa69e835b574c8407d084c38a3">CONFIG_QUEST_ENABLE_QUEST_TRACKER</a>))</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    {</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <span class="comment">// prepare Quest Tracker datas</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        <span class="keyword">auto</span> stmt = <a class="code" href="../../d6/d2e/_database_env_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code" href="../../d7/d54/_character_database_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7a1d30572a7f06c2e359c143d8e8fc6c7a">CHAR_UPD_QUEST_TRACK_COMPLETE_TIME</a>);</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        stmt-&gt;setUInt32(0, quest_id);</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        stmt-&gt;setUInt32(1, <a class="code" href="../../d8/d83/class_object.html#ae65fbd7720a9aa448516f6cf494bda67">GetGUID</a>().GetCounter());</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160; </div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <span class="comment">// add to Quest Tracker</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <a class="code" href="../../d6/d2e/_database_env_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Execute(stmt);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    }</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;}</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160; </div>
<div class="line"><a name="l00638"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a23321f70f6954313a691f35ce93d2794">  638</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a23321f70f6954313a691f35ce93d2794">Player::IncompleteQuest</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id)</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;{</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="keywordflow">if</span> (quest_id)</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    {</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#ad32f3a3ec1be51826e04097db7a69620">SetQuestStatus</a>(quest_id, <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a>);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160; </div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> log_slot = <a class="code" href="../../d8/d53/class_player.html#a3454be68dff7bb9d8ee581591cac3c95">FindQuestSlot</a>(quest_id);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        <span class="keywordflow">if</span> (log_slot &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>)</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#a7003bb11837e1583fbd9aa0606e3c22f">RemoveQuestSlotState</a>(log_slot, <a class="code" href="../../d1/d39/_player_8h.html#a2d079af58ae5bf704ea2b958307a5196a61b0594f1dd162d5a1dcff7103cecfc2">QUEST_STATE_COMPLETE</a>);</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160; </div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        <span class="comment">// Xinef: area auras may change on quest completion!</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#ab3a73c835c52cd903ab0112a5bc4e7f0">UpdateZoneDependentAuras</a>(<a class="code" href="../../db/df7/class_world_object.html#ad498d690fbe69bb99a8a2ffdcb2f5169">GetZoneId</a>());</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a6dea805c714a08cb8972769c3f343bb9">UpdateAreaDependentAuras</a>(<a class="code" href="../../db/df7/class_world_object.html#acdd585ef58eb876c506389ff96a4fbd9">GetAreaId</a>());</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#aa5393bf276b4b3429e7d12263408a90b">AdditionalSavingAddMask</a>(<a class="code" href="../../d1/d39/_player_8h.html#abb6c0419a027f09fbb5016deede34755ae07ddeb5ee480f16943f43b31e53ebba">ADDITIONAL_SAVING_QUEST_STATUS</a>);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    }</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;}</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160; </div>
<div class="line"><a name="l00655"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a0b02fb6b66f622faf8af68ebbd33b719">  655</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a0b02fb6b66f622faf8af68ebbd33b719">Player::RewardQuest</a>(<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* quest, <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reward, <a class="code" href="../../d8/d83/class_object.html">Object</a>* questGiver, <span class="keywordtype">bool</span> announce)</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;{</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="comment">//this THING should be here to protect code from quest, which cast on player far teleport as a reward</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="comment">//should work fine, cause far teleport will be executed in Player::Update()</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#aec4b723fc85478c4fec8f468a130d9c0">SetMustDelayTeleport</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160; </div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id = quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>();</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160; </div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a5b538720bd7de8c4468dc6d21b412f10">QUEST_ITEM_OBJECTIVES_COUNT</a>; ++i)</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    {</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplate(quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#abff147587981d28f9e8034031696a91d">RequiredItemId</a>[i]))</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        {</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#ab30f677764d8fe694f27ee4253601033">DestroyItemCount</a>(quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#abff147587981d28f9e8034031696a91d">RequiredItemId</a>[i], quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#aaacce83fe56a29eee3663836d784c4bb">RequiredItemCount</a>[i], <span class="keyword">true</span>);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        }</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    }</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#acf2c83159c7b7d9270380dafa7ab8d11">QUEST_SOURCE_ITEM_IDS_COUNT</a>; ++i)</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    {</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplate(quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a5f22941fdb30fd269c0cf7ddab97e918">ItemDrop</a>[i]))</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        {</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#ab30f677764d8fe694f27ee4253601033">DestroyItemCount</a>(quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a5f22941fdb30fd269c0cf7ddab97e918">ItemDrop</a>[i], quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a05de2206c2a4c7761851f87c81842ace">ItemDropQuantity</a>[i], <span class="keyword">true</span>);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        }</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    }</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160; </div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#aca986a0702330f87627116816b5c0a92">RemoveTimedQuest</a>(quest_id);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160; </div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    std::vector&lt;std::pair&lt;uint32, uint32&gt;&gt; problematicItems;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160; </div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#ad0ccd9dbb5209c6e5a8b4f88703d1b24">GetRewChoiceItemsCount</a>())</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    {</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> itemId = quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a57886dc304657391b76080b4ca7c3176">RewardChoiceItemId</a>[reward])</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        {</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            <a class="code" href="../../d1/d39/_player_8h.html#a06f492a0a20f5264c8395684220fec84">ItemPosCountVec</a> dest;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#af059a10625d50ca7674771ea1c1c4c4c">CanStoreNewItem</a>(<a class="code" href="../../d5/d32/_unit_8h.html#aadcc1e3338f8cbbe511ad060db42dfb5a843659af0a40139bfa505d7e7982477b">NULL_BAG</a>, <a class="code" href="../../d5/d32/_unit_8h.html#aadcc1e3338f8cbbe511ad060db42dfb5aeb5cbd7990d2f5e679ec4ecc65e83130">NULL_SLOT</a>, dest, itemId, quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a822276910bf774ea9190c34b9a30fe5d">RewardChoiceItemCount</a>[reward]) == <a class="code" href="../../da/d43/_item_8h.html#a73617af2b3e5e935646638fa13678391a939b6661cd19d6c18274906abb28021c">EQUIP_ERR_OK</a>)</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;            {</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                <a class="code" href="../../dc/d32/class_item.html">Item</a>* item = <a class="code" href="../../d8/d53/class_player.html#ac996a41fc3f89d8683de8695bb7db13c">StoreNewItem</a>(dest, itemId, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                <a class="code" href="../../d8/d53/class_player.html#a9b1ad78b229913ff669912d2fb80c6e0">SendNewItem</a>(item, quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a822276910bf774ea9190c34b9a30fe5d">RewardChoiceItemCount</a>[reward], <span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160; </div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                <a class="code" href="../../d0/d7d/_script_mgr_8h.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnQuestRewardItem(<span class="keyword">this</span>, item, quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a822276910bf774ea9190c34b9a30fe5d">RewardChoiceItemCount</a>[reward]);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            }</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            {</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                problematicItems.emplace_back(itemId, quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a822276910bf774ea9190c34b9a30fe5d">RewardChoiceItemCount</a>[reward]);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;            }</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        }</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    }</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160; </div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#acedf7709925beca7cfa576950ea952bf">GetRewItemsCount</a>())</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    {</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#acedf7709925beca7cfa576950ea952bf">GetRewItemsCount</a>(); ++i)</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        {</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> itemId = quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#aede7794218b0181207be14b07cda2b64">RewardItemId</a>[i])</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;            {</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                <a class="code" href="../../d1/d39/_player_8h.html#a06f492a0a20f5264c8395684220fec84">ItemPosCountVec</a> dest;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#af059a10625d50ca7674771ea1c1c4c4c">CanStoreNewItem</a>(<a class="code" href="../../d5/d32/_unit_8h.html#aadcc1e3338f8cbbe511ad060db42dfb5a843659af0a40139bfa505d7e7982477b">NULL_BAG</a>, <a class="code" href="../../d5/d32/_unit_8h.html#aadcc1e3338f8cbbe511ad060db42dfb5aeb5cbd7990d2f5e679ec4ecc65e83130">NULL_SLOT</a>, dest, itemId, quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a3fe2654312995eeeb8940d7d2c70d6f3">RewardItemIdCount</a>[i]) == <a class="code" href="../../da/d43/_item_8h.html#a73617af2b3e5e935646638fa13678391a939b6661cd19d6c18274906abb28021c">EQUIP_ERR_OK</a>)</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                {</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                    <a class="code" href="../../dc/d32/class_item.html">Item</a>* item = <a class="code" href="../../d8/d53/class_player.html#ac996a41fc3f89d8683de8695bb7db13c">StoreNewItem</a>(dest, itemId, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                    <a class="code" href="../../d8/d53/class_player.html#a9b1ad78b229913ff669912d2fb80c6e0">SendNewItem</a>(item, quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a3fe2654312995eeeb8940d7d2c70d6f3">RewardItemIdCount</a>[i], <span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160; </div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                    <a class="code" href="../../d0/d7d/_script_mgr_8h.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnQuestRewardItem(<span class="keyword">this</span>, item, quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a3fe2654312995eeeb8940d7d2c70d6f3">RewardItemIdCount</a>[i]);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                }</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                    problematicItems.emplace_back(itemId, quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a3fe2654312995eeeb8940d7d2c70d6f3">RewardItemIdCount</a>[i]);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;            }</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        }</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    }</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160; </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="comment">// Xinef: send items that couldn&#39;t be added properly by mail</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="keywordflow">if</span> (!problematicItems.empty())</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    {</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a5287085841b4a0e311f7dd0ea20f61af">SendItemRetrievalMail</a>(problematicItems);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    }</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160; </div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#acb2677536aca2865da4e6ceea0d3f3bf">RewardReputation</a>(quest);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160; </div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> log_slot = <a class="code" href="../../d8/d53/class_player.html#a3454be68dff7bb9d8ee581591cac3c95">FindQuestSlot</a>(quest_id);</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="keywordflow">if</span> (log_slot &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>)</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a92675cf0a2e48ee6d04764081743b8ea">SetQuestSlot</a>(log_slot, 0);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160; </div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="keywordtype">bool</span> rewarded = <a class="code" href="../../d8/d53/class_player.html#af6f5e7fa735e3d31f3558410184d08be">IsQuestRewarded</a>(quest_id) &amp;&amp; !quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a62deb059ae37d23ad11c985b8a8ed792">IsDFQuest</a>();</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160; </div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="comment">// Not give XP in case already completed once repeatable quest</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> XP = rewarded ? 0 : <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a3e9fc9babe4e55d35f0e38ae003fc940">XPValue</a>(<span class="keyword">this</span>) * <a class="code" href="../../d8/d53/class_player.html#a08da230a223bbe1f410d6e89e334823f">GetQuestRate</a>());</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160; </div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="comment">// handle SPELL_AURA_MOD_XP_QUEST_PCT auras</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <a class="code" href="../../da/db7/class_unit.html#adcdd87d0c137619dfc869536c1315dd7">Unit::AuraEffectList</a> <span class="keyword">const</span>&amp; ModXPPctAuras = <a class="code" href="../../da/db7/class_unit.html#af00ac6c4dc7e639ac646fdafef336e85">GetAuraEffectsByType</a>(<a class="code" href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a572e146e74f47d8f6f5c45b2a8163559">SPELL_AURA_MOD_XP_QUEST_PCT</a>);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="keywordflow">for</span> (Unit::AuraEffectList::const_iterator i = ModXPPctAuras.begin(); i != ModXPPctAuras.end(); ++i)</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <a class="code" href="../../dd/d90/_util_8h.html#a53176b459b4462b058b2a1be47ef82ee">AddPct</a>(XP, (*i)-&gt;GetAmount());</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160; </div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> moneyRew = 0;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/db7/class_unit.html#adc6d98745d565970b4a89088ec5b5a42">getLevel</a>() &gt;= <a class="code" href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code" href="../../d2/d80/_i_world_8h.html#a17aac4c166ebe43e3b8fdccf9e012e41a6684273cdd36b9b8215844fc51358ae1">CONFIG_MAX_PLAYER_LEVEL</a>) || <a class="code" href="../../d0/d7d/_script_mgr_8h.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;ShouldBeRewardedWithMoneyInsteadOfExp(<span class="keyword">this</span>))</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    {</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        moneyRew = quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a0ce0eac987fc5e0d7424d05d3e36ceca">GetRewMoneyMaxLevel</a>();</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    }</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    {</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a47feaacc28495f3cf9612f908838ba0a">GiveXP</a>(XP, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    }</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160; </div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <span class="comment">// Give player extra money if GetRewOrReqMoney &gt; 0 and get ReqMoney if negative</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> rewOrReqMoney = quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a31e2d6f7391effd1a8c3a28ee81dec62">GetRewOrReqMoney</a>(<span class="keyword">this</span>))</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    {</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        moneyRew += rewOrReqMoney;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    }</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160; </div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="keywordflow">if</span> (moneyRew)</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    {</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a46351fb555db3b97fc531f215d2d2338">ModifyMoney</a>(moneyRew);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160; </div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        <span class="keywordflow">if</span> (moneyRew &gt; 0)</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#a04bc54fb5b9161aa37fc07524af92634">UpdateAchievementCriteria</a>(<a class="code" href="../../dc/d6e/_d_b_c_enums_8h.html#a796cde2fc6e2eaed4c657203ed43cd19a7a228f44074f44bec4ca6be425933516">ACHIEVEMENT_CRITERIA_TYPE_MONEY_FROM_QUEST_REWARD</a>, <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(moneyRew));</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    }</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160; </div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="comment">// honor reward</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> honor = quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a93e369e74db8a06214df0ded5731e925">CalculateHonorGain</a>(<a class="code" href="../../da/db7/class_unit.html#adc6d98745d565970b4a89088ec5b5a42">getLevel</a>()))</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a030b9e0a5adc82692f438c8a7109da6c">RewardHonor</a>(<span class="keyword">nullptr</span>, 0, honor);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160; </div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="comment">// title reward</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a38e904dcfcbdca8aa66b61c3eb1f5846">GetCharTitleId</a>())</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    {</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/dd8/struct_char_titles_entry.html">CharTitlesEntry</a> <span class="keyword">const</span>* titleEntry = <a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#a2997cbe20d462fdb8cee8e14230725e2">sCharTitlesStore</a>.LookupEntry(quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a38e904dcfcbdca8aa66b61c3eb1f5846">GetCharTitleId</a>()))</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#aab6ea43cb3184a4503f019f7f518c7aa">SetTitle</a>(titleEntry);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    }</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160; </div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#aefa1e253b25eb7e6a0239f14dda98ffc">GetBonusTalents</a>())</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    {</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#ac960994f0346b8ca89cc61aa6b74cf53">m_questRewardTalentCount</a> += quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#aefa1e253b25eb7e6a0239f14dda98ffc">GetBonusTalents</a>();</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a1b2ca1d80df0e35eb06c77844ff6cf49">InitTalentForLevel</a>();</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    }</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160; </div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a040b23aa9d248980540640a5dcac3cf5">GetRewArenaPoints</a>())</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#ac10984e94763eda3478a22aa8e6dd8b3">ModifyArenaPoints</a>(quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a040b23aa9d248980540640a5dcac3cf5">GetRewArenaPoints</a>());</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160; </div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="comment">// Send reward mail</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> mail_template_id = quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a2689be1a4799b2e9f1e456d2f4a1ec5b">GetRewMailTemplateId</a>())</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    {</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        <span class="comment">//- TODO: Poor design of mail system</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        <a class="code" href="../../db/d04/_database_env_fwd_8h.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a> trans = <a class="code" href="../../d6/d2e/_database_env_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.BeginTransaction();</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a123c8907addf478087674d1108e8c290">GetRewMailSenderEntry</a>() != 0)</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;            <a class="code" href="../../dd/dc0/class_mail_draft.html">MailDraft</a>(mail_template_id).<a class="code" href="../../dd/dc0/class_mail_draft.html#a54d7c515fcbf1523dc840657e28ecc2c">SendMailTo</a>(trans, <span class="keyword">this</span>, quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a123c8907addf478087674d1108e8c290">GetRewMailSenderEntry</a>(), <a class="code" href="../../d8/d23/_mail_8h.html#a0409511b5ca7192d457a7e550a1c6e26a348c2227a2767173436f2f88dfe37716">MAIL_CHECK_MASK_HAS_BODY</a>, quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#aaaa75cd3de5c25120c3d710bbf52154c">GetRewMailDelaySecs</a>());</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;            <a class="code" href="../../dd/dc0/class_mail_draft.html">MailDraft</a>(mail_template_id).<a class="code" href="../../dd/dc0/class_mail_draft.html#a54d7c515fcbf1523dc840657e28ecc2c">SendMailTo</a>(trans, <span class="keyword">this</span>, questGiver, <a class="code" href="../../d8/d23/_mail_8h.html#a0409511b5ca7192d457a7e550a1c6e26a348c2227a2767173436f2f88dfe37716">MAIL_CHECK_MASK_HAS_BODY</a>, quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#aaaa75cd3de5c25120c3d710bbf52154c">GetRewMailDelaySecs</a>());</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        <a class="code" href="../../d6/d2e/_database_env_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.CommitTransaction(trans);</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    }</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160; </div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#aab14227810deb46be3e04f3fb43eab05">IsDaily</a>() || quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a62deb059ae37d23ad11c985b8a8ed792">IsDFQuest</a>())</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    {</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a8bac7edc1e6c0ebcbd3b75090c434cd3">SetDailyQuestStatus</a>(quest_id);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#aab14227810deb46be3e04f3fb43eab05">IsDaily</a>())</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        {</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#a04bc54fb5b9161aa37fc07524af92634">UpdateAchievementCriteria</a>(<a class="code" href="../../dc/d6e/_d_b_c_enums_8h.html#a796cde2fc6e2eaed4c657203ed43cd19a3bdab46e91e8fb2c068ce0042617f0c3">ACHIEVEMENT_CRITERIA_TYPE_COMPLETE_DAILY_QUEST</a>, quest_id);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#a04bc54fb5b9161aa37fc07524af92634">UpdateAchievementCriteria</a>(<a class="code" href="../../dc/d6e/_d_b_c_enums_8h.html#a796cde2fc6e2eaed4c657203ed43cd19a0f567a2ca32349130eaddba38ff93636">ACHIEVEMENT_CRITERIA_TYPE_COMPLETE_DAILY_QUEST_DAILY</a>, quest_id);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        }</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    }</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#ad655d2ab2988cbc70c17a53f27aa84dc">IsWeekly</a>())</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#aadc3aa4a32a272c806b46ae077e13951">SetWeeklyQuestStatus</a>(quest_id);</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#aec34a6498bb385e4ee734fa54d0d9643">IsMonthly</a>())</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a4c5c78979c1df40929dc1ce44c5f6daf">SetMonthlyQuestStatus</a>(quest_id);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#adaa19295bcbbc791d0ed2e70d641e4e9">IsSeasonal</a>())</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a51452c4c6e6c2f8eb13dc66dfb5e8ba4">SetSeasonalQuestStatus</a>(quest_id);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160; </div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#ab702c2acc0393baed9ac829435a10b03">RemoveActiveQuest</a>(quest_id, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a904aeb6ca88d6996e7c3f3ba96b9d274">m_RewardedQuests</a>.insert(quest_id);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#af3bfe54e63e3e08602f01e187ccedb7a">m_RewardedQuestsSave</a>[quest_id] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160; </div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="keywordflow">if</span> (announce)</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a722631a3f64dd62b5f8db9114051e4cf">SendQuestReward</a>(quest, XP);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160; </div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <span class="comment">// cast spells after mark quest complete (some spells have quest completed state requirements in spell_area data)</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#ae8a2cf843cd8c423ed4116d53a5bd098">GetRewSpellCast</a>() &gt; 0)</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    {</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a>-&gt;GetSpellInfo(quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#ae8a2cf843cd8c423ed4116d53a5bd098">GetRewSpellCast</a>());</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        <span class="keywordflow">if</span> (questGiver-&gt;<a class="code" href="../../d8/d83/class_object.html#a7253dbcbed15f5f1190c5cc56d141610">isType</a>(<a class="code" href="../../d9/d83/_object_guid_8h.html#acfe503ba26d8a881f16958aaafd431e1a611a6f19a7f885d824ea5be71ffca2de">TYPEMASK_UNIT</a>) &amp;&amp; !spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#ad66dd61ba67ee1626e7e8393f0c27498">HasEffect</a>(<a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97acef490c9f3480852d33dbbec7727fa7f">SPELL_EFFECT_LEARN_SPELL</a>) &amp;&amp; !spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#ad66dd61ba67ee1626e7e8393f0c27498">HasEffect</a>(<a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97af5abf258b008fbff818ad32ac7a95fbb">SPELL_EFFECT_CREATE_ITEM</a>) &amp;&amp; !spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a6af41c5dfe2fc8a6e18d010bcb924dc9">IsSelfCast</a>())</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        {</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dac/class_creature.html">Creature</a>* creature = <a class="code" href="../../db/df7/class_world_object.html#a76c507a1b3adcebf2732572bc6b67fe0">GetMap</a>()-&gt;<a class="code" href="../../d4/d27/namespace_object_accessor.html#ae42e503fe79bbeaea1aaa665418c43f8">GetCreature</a>(questGiver-&gt;<a class="code" href="../../d8/d83/class_object.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>()))</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                creature-&gt;CastSpell(<span class="keyword">this</span>, quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#ae8a2cf843cd8c423ed4116d53a5bd098">GetRewSpellCast</a>(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;        }</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;            <a class="code" href="../../da/db7/class_unit.html#aa3ca95f7a14041f562ed69c3994afdfc">CastSpell</a>(<span class="keyword">this</span>, quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#ae8a2cf843cd8c423ed4116d53a5bd098">GetRewSpellCast</a>(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    }</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a0a844c9747f60175e1395b63a01e324c">GetRewSpell</a>() &gt; 0)</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    {</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        <a class="code" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a>-&gt;GetSpellInfo(quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a0a844c9747f60175e1395b63a01e324c">GetRewSpell</a>());</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        <span class="keywordflow">if</span> (questGiver-&gt;<a class="code" href="../../d8/d83/class_object.html#a7253dbcbed15f5f1190c5cc56d141610">isType</a>(<a class="code" href="../../d9/d83/_object_guid_8h.html#acfe503ba26d8a881f16958aaafd431e1a611a6f19a7f885d824ea5be71ffca2de">TYPEMASK_UNIT</a>) &amp;&amp; !spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#ad66dd61ba67ee1626e7e8393f0c27498">HasEffect</a>(<a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97acef490c9f3480852d33dbbec7727fa7f">SPELL_EFFECT_LEARN_SPELL</a>) &amp;&amp; !spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#ad66dd61ba67ee1626e7e8393f0c27498">HasEffect</a>(<a class="code" href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97af5abf258b008fbff818ad32ac7a95fbb">SPELL_EFFECT_CREATE_ITEM</a>) &amp;&amp; !spellInfo-&gt;<a class="code" href="../../d4/d7d/class_spell_info.html#a6af41c5dfe2fc8a6e18d010bcb924dc9">IsSelfCast</a>())</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        {</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/dac/class_creature.html">Creature</a>* creature = <a class="code" href="../../db/df7/class_world_object.html#a76c507a1b3adcebf2732572bc6b67fe0">GetMap</a>()-&gt;<a class="code" href="../../d4/d27/namespace_object_accessor.html#ae42e503fe79bbeaea1aaa665418c43f8">GetCreature</a>(questGiver-&gt;<a class="code" href="../../d8/d83/class_object.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>()))</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                creature-&gt;CastSpell(<span class="keyword">this</span>, quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a0a844c9747f60175e1395b63a01e324c">GetRewSpell</a>(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        }</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;            <a class="code" href="../../da/db7/class_unit.html#aa3ca95f7a14041f562ed69c3994afdfc">CastSpell</a>(<span class="keyword">this</span>, quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a0a844c9747f60175e1395b63a01e324c">GetRewSpell</a>(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    }</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160; </div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a72ab8dd7b90b7aaf183a11e9da4cdcaf">GetZoneOrSort</a>() &gt; 0)</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a04bc54fb5b9161aa37fc07524af92634">UpdateAchievementCriteria</a>(<a class="code" href="../../dc/d6e/_d_b_c_enums_8h.html#a796cde2fc6e2eaed4c657203ed43cd19a07c4265f9d6dea6c3f0c432a22079860">ACHIEVEMENT_CRITERIA_TYPE_COMPLETE_QUESTS_IN_ZONE</a>, quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a72ab8dd7b90b7aaf183a11e9da4cdcaf">GetZoneOrSort</a>());</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a04bc54fb5b9161aa37fc07524af92634">UpdateAchievementCriteria</a>(<a class="code" href="../../dc/d6e/_d_b_c_enums_8h.html#a796cde2fc6e2eaed4c657203ed43cd19a160b2b4466f5bd5f7df6afc9115cf1f6">ACHIEVEMENT_CRITERIA_TYPE_COMPLETE_QUEST_COUNT</a>);</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a04bc54fb5b9161aa37fc07524af92634">UpdateAchievementCriteria</a>(<a class="code" href="../../dc/d6e/_d_b_c_enums_8h.html#a796cde2fc6e2eaed4c657203ed43cd19aab6b86cbbba4147c7278f97bc49c21e4">ACHIEVEMENT_CRITERIA_TYPE_COMPLETE_QUEST</a>, quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>());</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160; </div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="comment">// pussywizard: replaced partial save with full save</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a017c8a9f126945990cedc63b5567af0b">SaveToDB</a>(<span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160; </div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a071cf4919b90266595fef826351f2d2a">HasFlag</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#a881ebe30fbf0f088d54bfa959cefe47ca16e6bbf1bd0e4cc59521b0e5e4ed670e">QUEST_FLAGS_FLAGS_PVP</a>))</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    {</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#aa1b93687507f29637f2e42574ddd02ed">pvpInfo</a>.<a class="code" href="../../d6/db0/struct_pv_p_info.html#a22a1c8f0e8c51f4a27cb8ab362028d61">IsHostile</a> = <a class="code" href="../../d8/d53/class_player.html#aa1b93687507f29637f2e42574ddd02ed">pvpInfo</a>.<a class="code" href="../../d6/db0/struct_pv_p_info.html#a92d3c8991f7e3c5d683b414d18cbbd64">IsInHostileArea</a> || <a class="code" href="../../d8/d53/class_player.html#a144a3a724d55073438501522b396bc44">HasPvPForcingQuest</a>();</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a583d3a68188487a3952dc9e6bd1a1c76">UpdatePvPState</a>();</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    }</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160; </div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a71e5ab0c8c5ba33eb6c36a2300065823">SendQuestUpdate</a>(quest_id);</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160; </div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#ae9eca1b0ef6f9a14e65d8a167cdf8e66">SendQuestGiverStatusMultiple</a>();</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160; </div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="comment">//lets remove flag for delayed teleports</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#aec4b723fc85478c4fec8f468a130d9c0">SetMustDelayTeleport</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160; </div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <span class="comment">// Xinef: area auras may change on quest completion!</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#ab3a73c835c52cd903ab0112a5bc4e7f0">UpdateZoneDependentAuras</a>(<a class="code" href="../../db/df7/class_world_object.html#ad498d690fbe69bb99a8a2ffdcb2f5169">GetZoneId</a>());</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a6dea805c714a08cb8972769c3f343bb9">UpdateAreaDependentAuras</a>(<a class="code" href="../../db/df7/class_world_object.html#acdd585ef58eb876c506389ff96a4fbd9">GetAreaId</a>());</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160; </div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <a class="code" href="../../d0/d7d/_script_mgr_8h.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnPlayerCompleteQuest(<span class="keyword">this</span>, quest);</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;}</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160; </div>
<div class="line"><a name="l00874"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#ac66aea564f92c5f3c38d5819a0a0b4e4">  874</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#ac66aea564f92c5f3c38d5819a0a0b4e4">Player::FailQuest</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId)</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;{</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* quest = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questId))</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    {</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;        <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8">QuestStatus</a> qStatus = <a class="code" href="../../d8/d53/class_player.html#ab98c62b0161d702e4219c8277f8f5349">GetQuestStatus</a>(questId);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        <span class="comment">// xinef: if quest is marked as failed, dont do it again</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        <span class="keywordflow">if</span> (qStatus != <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a>)</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160; </div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#ad32f3a3ec1be51826e04097db7a69620">SetQuestStatus</a>(questId, <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8a8e2ffb80a87da63793e4122d9b73cf8b">QUEST_STATUS_FAILED</a>);</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160; </div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> log_slot = <a class="code" href="../../d8/d53/class_player.html#a3454be68dff7bb9d8ee581591cac3c95">FindQuestSlot</a>(questId);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160; </div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        <span class="keywordflow">if</span> (log_slot &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>)</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        {</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#aa0e09138bf609a7cf32ada4026aab833">SetQuestSlotTimer</a>(log_slot, 1);</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#a9a1e2b927ca66d8bc57d3c009a192397">SetQuestSlotState</a>(log_slot, <a class="code" href="../../d1/d39/_player_8h.html#a2d079af58ae5bf704ea2b958307a5196a94e8ba97d7ae5f33b87bab4d23ffb39f">QUEST_STATE_FAIL</a>);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        }</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160; </div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        <span class="keywordflow">if</span> (quest-&gt;HasSpecialFlag(<a class="code" href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7ada3babe1bfcae1e2c0c0f4b399eabcdaab">QUEST_SPECIAL_FLAGS_TIMED</a>))</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        {</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;            <a class="code" href="../../de/d05/struct_quest_status_data.html">QuestStatusData</a>&amp; q_status = <a class="code" href="../../d8/d53/class_player.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>[questId];</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160; </div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#aca986a0702330f87627116816b5c0a92">RemoveTimedQuest</a>(questId);</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;            q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#a16343f7a162e5b7b6a1a18345420c77a">Timer</a> = 0;</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160; </div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#a572b6465151408484c3bf84bb3f946a3">SendQuestTimerFailed</a>(questId);</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        }</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#a6b0668bfae62da5119dbc080d2c3c7f5">SendQuestFailed</a>(questId);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160; </div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        <span class="comment">// Destroy quest items on quest failure.</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a5b538720bd7de8c4468dc6d21b412f10">QUEST_ITEM_OBJECTIVES_COUNT</a>; ++i)</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/d61/struct_item_template.html">ItemTemplate</a> <span class="keyword">const</span>* itemTemplate = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplate(quest-&gt;RequiredItemId[i]))</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                <span class="keywordflow">if</span> (quest-&gt;RequiredItemCount[i] &gt; 0 &amp;&amp; itemTemplate-&gt;Bonding == <a class="code" href="../../d1/d9e/_item_template_8h.html#aa0030a232217e66520a465dea9ac6358a7fdb729ded630c908f447d2ad0e54cb3">BIND_QUEST_ITEM</a>)</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                    <a class="code" href="../../d8/d53/class_player.html#ab30f677764d8fe694f27ee4253601033">DestroyItemCount</a>(quest-&gt;RequiredItemId[i], quest-&gt;RequiredItemCount[i], <span class="keyword">true</span>);</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160; </div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#acf2c83159c7b7d9270380dafa7ab8d11">QUEST_SOURCE_ITEM_IDS_COUNT</a>; ++i)</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/d61/struct_item_template.html">ItemTemplate</a> <span class="keyword">const</span>* itemTemplate = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplate(quest-&gt;ItemDrop[i]))</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                <span class="keywordflow">if</span> (quest-&gt;ItemDropQuantity[i] &gt; 0 &amp;&amp; itemTemplate-&gt;Bonding == <a class="code" href="../../d1/d9e/_item_template_8h.html#aa0030a232217e66520a465dea9ac6358a7fdb729ded630c908f447d2ad0e54cb3">BIND_QUEST_ITEM</a>)</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                    <a class="code" href="../../d8/d53/class_player.html#ab30f677764d8fe694f27ee4253601033">DestroyItemCount</a>(quest-&gt;ItemDrop[i], quest-&gt;ItemDropQuantity[i], <span class="keyword">true</span>);</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    }</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;}</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160; </div>
<div class="line"><a name="l00918"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#ad7da6786f5e1327b2c1e7614c9a5b1be">  918</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#ad7da6786f5e1327b2c1e7614c9a5b1be">Player::AbandonQuest</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId)</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;{</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* quest = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questId))</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    {</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        <span class="comment">// It will Destroy quest items on quests abandons.</span></div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a5b538720bd7de8c4468dc6d21b412f10">QUEST_ITEM_OBJECTIVES_COUNT</a>; ++i)</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/d61/struct_item_template.html">ItemTemplate</a> <span class="keyword">const</span>* itemTemplate = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplate(quest-&gt;RequiredItemId[i]))</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                <span class="keywordflow">if</span> (quest-&gt;RequiredItemCount[i] &gt; 0 &amp;&amp; itemTemplate-&gt;Bonding == <a class="code" href="../../d1/d9e/_item_template_8h.html#aa0030a232217e66520a465dea9ac6358a7fdb729ded630c908f447d2ad0e54cb3">BIND_QUEST_ITEM</a>)</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                    <a class="code" href="../../d8/d53/class_player.html#ab30f677764d8fe694f27ee4253601033">DestroyItemCount</a>(quest-&gt;RequiredItemId[i], quest-&gt;RequiredItemCount[i], <span class="keyword">true</span>);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160; </div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#acf2c83159c7b7d9270380dafa7ab8d11">QUEST_SOURCE_ITEM_IDS_COUNT</a>; ++i)</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/d61/struct_item_template.html">ItemTemplate</a> <span class="keyword">const</span>* itemTemplate = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplate(quest-&gt;ItemDrop[i]))</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                <span class="keywordflow">if</span> (quest-&gt;ItemDropQuantity[i] &gt; 0 &amp;&amp; itemTemplate-&gt;Bonding == <a class="code" href="../../d1/d9e/_item_template_8h.html#aa0030a232217e66520a465dea9ac6358a7fdb729ded630c908f447d2ad0e54cb3">BIND_QUEST_ITEM</a>)</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                    <a class="code" href="../../d8/d53/class_player.html#ab30f677764d8fe694f27ee4253601033">DestroyItemCount</a>(quest-&gt;ItemDrop[i], quest-&gt;ItemDropQuantity[i], <span class="keyword">true</span>);</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    }</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;}</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160; </div>
<div class="line"><a name="l00935"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#abd1902419170116dee3064afbd492f0f">  935</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#abd1902419170116dee3064afbd492f0f">Player::SatisfyQuestSkill</a>(<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> msg)<span class="keyword"> const</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> skill = qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#acff09432e075b85f9e9618a695ab952a">GetRequiredSkill</a>();</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160; </div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <span class="comment">// skip 0 case RequiredSkill</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <span class="keywordflow">if</span> (skill == 0)</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160; </div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <span class="comment">// check skill value</span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#a2b7579cb973f79b2886702c96721f594">GetSkillValue</a>(skill) &lt; qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a9acac091142788ff249f56b7e1020f03">GetRequiredSkillValue</a>())</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    {</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252">INVALIDREASON_DONT_HAVE_REQ</a>);</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160; </div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    }</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160; </div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;}</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160; </div>
<div class="line"><a name="l00955"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#aa741d2df6cdf7e02b63b46d2a58f609a">  955</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#aa741d2df6cdf7e02b63b46d2a58f609a">Player::SatisfyQuestLevel</a>(<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> msg)<span class="keyword"> const</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/db7/class_unit.html#adc6d98745d565970b4a89088ec5b5a42">getLevel</a>() &lt; qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a4355a8343017eb1059657dbd2bd13694">GetMinLevel</a>())</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    {</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#a198acf8afc6a434e2a7f2d574520e18fa8c7847cc142b47d740a77d44a9a359f2">INVALIDREASON_QUEST_FAILED_LOW_LEVEL</a>);</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    }</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a3aa437e753c20123a86b29d12f2f05e2">GetMaxLevel</a>() &gt; 0 &amp;&amp; <a class="code" href="../../da/db7/class_unit.html#adc6d98745d565970b4a89088ec5b5a42">getLevel</a>() &gt; qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a3aa437e753c20123a86b29d12f2f05e2">GetMaxLevel</a>())</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    {</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252">INVALIDREASON_DONT_HAVE_REQ</a>); <span class="comment">// There doesn&#39;t seem to be a specific response for too high player level</span></div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    }</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;}</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160; </div>
<div class="line"><a name="l00972"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a9db7bf014aa6b541253cef245cc34948">  972</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#a9db7bf014aa6b541253cef245cc34948">Player::SatisfyQuestLog</a>(<span class="keywordtype">bool</span> msg)</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;{</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="comment">// exist free slot</span></div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#a3454be68dff7bb9d8ee581591cac3c95">FindQuestSlot</a>(0) &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>)</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160; </div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    {</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        <a class="code" href="../../d6/d1a/class_world_packet.html">WorldPacket</a> data(<a class="code" href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9ba30c98574a0018ff7c9728bf1cfe66554">SMSG_QUESTLOG_FULL</a>, 0);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a1c212b8f9ae8b1a38a41f9c7db005dca">GetSession</a>()-&gt;<a class="code" href="../../d1/d47/class_world_session.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;network&quot;</span>, <span class="stringliteral">&quot;WORLD: Sent SMSG_QUESTLOG_FULL&quot;</span>);</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    }</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;}</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160; </div>
<div class="line"><a name="l00987"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#ab38d56b364dfd74d7b6a88d08ecdf072">  987</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#ab38d56b364dfd74d7b6a88d08ecdf072">Player::SatisfyQuestPreviousQuest</a>(<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> msg)<span class="keyword"> const</span></div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <span class="comment">// No previous quest (might be first quest in a series)</span></div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    <span class="keywordflow">if</span> (qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#ab73acadcd0a76dd4470c4796aa04a8e9">prevQuests</a>.empty())</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160; </div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <span class="keywordflow">for</span> (Quest::PrevQuests::const_iterator iter = qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#ab73acadcd0a76dd4470c4796aa04a8e9">prevQuests</a>.begin(); iter != qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#ab73acadcd0a76dd4470c4796aa04a8e9">prevQuests</a>.end(); ++iter)</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    {</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> prevId = abs(*iter);</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160; </div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;        <a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qPrevInfo = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(prevId);</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160; </div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        <span class="keywordflow">if</span> (qPrevInfo)</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        {</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;            <span class="comment">// If any of the positive previous quests completed, return true</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;            <span class="keywordflow">if</span> (*iter &gt; 0 &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#af6f5e7fa735e3d31f3558410184d08be">IsQuestRewarded</a>(prevId) &amp;&amp; (!qPrevInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#adaa19295bcbbc791d0ed2e70d641e4e9">IsSeasonal</a>() || !<a class="code" href="../../d8/d53/class_player.html#a897e236601ec88039eb9d16652233ce5">SatisfyQuestSeasonal</a>(qPrevInfo, <span class="keyword">false</span>)))</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;            {</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                <span class="comment">// skip one-from-all exclusive group</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;                <span class="keywordflow">if</span> (qPrevInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#aac8b19de3f9cc6d5b6b2a294d6ef8f21">GetExclusiveGroup</a>() &gt;= 0)</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160; </div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;                <span class="comment">// each-from-all exclusive group (&lt; 0)</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                <span class="comment">// can be start if only all quests in prev quest exclusive group completed and rewarded</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                <a class="code" href="../../d5/dbd/class_object_mgr.html#a4143a2afd52e788bd0bd82193ef41701">ObjectMgr::ExclusiveQuestGroupsBounds</a> range(<a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;mExclusiveQuestGroups.equal_range(qPrevInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#aac8b19de3f9cc6d5b6b2a294d6ef8f21">GetExclusiveGroup</a>()));</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160; </div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;                <span class="keywordflow">for</span> (; range.first != range.second; ++range.first)</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;                {</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> exclude_Id = range.first-&gt;second;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160; </div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;                    <span class="comment">// skip checked quest id, only state of other quests in group is interesting</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;                    <span class="keywordflow">if</span> (exclude_Id == prevId)</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160; </div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                    <span class="comment">// alternative quest from group also must be completed and rewarded(reported)</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160; </div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;                    <a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qExcludeInfo = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(exclude_Id);</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;                    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d53/class_player.html#af6f5e7fa735e3d31f3558410184d08be">IsQuestRewarded</a>(exclude_Id) || (qExcludeInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#adaa19295bcbbc791d0ed2e70d641e4e9">IsSeasonal</a>() &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#a897e236601ec88039eb9d16652233ce5">SatisfyQuestSeasonal</a>(qExcludeInfo, <span class="keyword">false</span>)))</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;                    {</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                            <a class="code" href="../../d8/d53/class_player.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252">INVALIDREASON_DONT_HAVE_REQ</a>);</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;                    }</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                }</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;            }</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160; </div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;            <span class="comment">// If any of the negative previous quests active, return true</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;            <span class="keywordflow">if</span> (*iter &lt; 0 &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#ab98c62b0161d702e4219c8277f8f5349">GetQuestStatus</a>(prevId) != <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8abefdf5f7417012e5d2adedf1dc155f28">QUEST_STATUS_NONE</a>)</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;            {</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                <span class="comment">// skip one-from-all exclusive group</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;                <span class="keywordflow">if</span> (qPrevInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#aac8b19de3f9cc6d5b6b2a294d6ef8f21">GetExclusiveGroup</a>() &gt;= 0)</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160; </div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                <span class="comment">// each-from-all exclusive group (&lt; 0)</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                <span class="comment">// can be start if only all quests in prev quest exclusive group active</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                <a class="code" href="../../d5/dbd/class_object_mgr.html#a4143a2afd52e788bd0bd82193ef41701">ObjectMgr::ExclusiveQuestGroupsBounds</a> range(<a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;mExclusiveQuestGroups.equal_range(qPrevInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#aac8b19de3f9cc6d5b6b2a294d6ef8f21">GetExclusiveGroup</a>()));</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160; </div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                <span class="keywordflow">for</span> (; range.first != range.second; ++range.first)</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                {</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;                    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> exclude_Id = range.first-&gt;second;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160; </div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;                    <span class="comment">// skip checked quest id, only state of other quests in group is interesting</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                    <span class="keywordflow">if</span> (exclude_Id == prevId)</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160; </div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                    <span class="comment">// alternative quest from group also must be active</span></div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#ab98c62b0161d702e4219c8277f8f5349">GetQuestStatus</a>(exclude_Id) != <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8abefdf5f7417012e5d2adedf1dc155f28">QUEST_STATUS_NONE</a>)</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                    {</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                            <a class="code" href="../../d8/d53/class_player.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252">INVALIDREASON_DONT_HAVE_REQ</a>);</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                    }</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                }</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;            }</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;        }</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    }</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160; </div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    <span class="comment">// Has only positive prev. quests in non-rewarded state</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <span class="comment">// and negative prev. quests in non-active state</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252">INVALIDREASON_DONT_HAVE_REQ</a>);</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160; </div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;}</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160; </div>
<div class="line"><a name="l01073"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a8d5b1b54960d39e389dcfa8c71dc54f4"> 1073</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#a8d5b1b54960d39e389dcfa8c71dc54f4">Player::SatisfyQuestClass</a>(<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> msg)<span class="keyword"> const</span></div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reqClass = qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a69a404c71347a99ebb006a8091f84493">GetRequiredClasses</a>();</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160; </div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <span class="keywordflow">if</span> (reqClass == 0)</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160; </div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="keywordflow">if</span> ((reqClass &amp; <a class="code" href="../../da/db7/class_unit.html#abbbd9cc147469bc7f35075539bdf55a0">getClassMask</a>()) == 0)</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    {</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252">INVALIDREASON_DONT_HAVE_REQ</a>);</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160; </div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    }</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160; </div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;}</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160; </div>
<div class="line"><a name="l01091"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a8b94a5119e583d66540638942e19f431"> 1091</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#a8b94a5119e583d66540638942e19f431">Player::SatisfyQuestRace</a>(<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> msg)<span class="keyword"> const</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reqraces = qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a6ff12c6f23e1c67482e61700b33d9f0a">GetAllowableRaces</a>();</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="keywordflow">if</span> (reqraces == 0)</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="keywordflow">if</span> ((reqraces &amp; <a class="code" href="../../da/db7/class_unit.html#a9819c2f13647afe6ac172fb5313cfd83">getRaceMask</a>()) == 0)</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    {</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#a198acf8afc6a434e2a7f2d574520e18fa6ccfc01ce1d8978fd6ff245df456842d">INVALIDREASON_QUEST_FAILED_WRONG_RACE</a>);</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    }</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;}</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160; </div>
<div class="line"><a name="l01105"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a8e0d6d5481aa496aa943b546e82b8911"> 1105</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#a8e0d6d5481aa496aa943b546e82b8911">Player::SatisfyQuestReputation</a>(<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> msg)<span class="keyword"> const</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> fIdMin = qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a85b398c765cd61093e9c99aa5c4dab50">GetRequiredMinRepFaction</a>();      <span class="comment">//Min required rep</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <span class="keywordflow">if</span> (fIdMin &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#a06adafbf0eb3a828dfc0049cc81ca31c">GetReputationMgr</a>().<a class="code" href="../../d8/d53/class_player.html#ab0dd4a3587adde29c041c1d403d676e3">GetReputation</a>(fIdMin) &lt; qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a432388b929011995705ba2d7967ba3c9">GetRequiredMinRepValue</a>())</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    {</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252">INVALIDREASON_DONT_HAVE_REQ</a>);</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    }</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160; </div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> fIdMax = qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#afcb07099ad8e2ed8fa6c87ca7993aac3">GetRequiredMaxRepFaction</a>();      <span class="comment">//Max required rep</span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <span class="keywordflow">if</span> (fIdMax &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#a06adafbf0eb3a828dfc0049cc81ca31c">GetReputationMgr</a>().<a class="code" href="../../d8/d53/class_player.html#ab0dd4a3587adde29c041c1d403d676e3">GetReputation</a>(fIdMax) &gt;= qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a3c9f29edfe7730926a6c291867b946c8">GetRequiredMaxRepValue</a>())</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    {</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252">INVALIDREASON_DONT_HAVE_REQ</a>);</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    }</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160; </div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <span class="comment">// ReputationObjective2 does not seem to be an objective requirement but a requirement</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <span class="comment">// to be able to accept the quest</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> fIdObj = qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a31378cd54fb5bbe7cccbd47cdd06ac3b">GetRepObjectiveFaction2</a>();</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <span class="keywordflow">if</span> (fIdObj &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#a06adafbf0eb3a828dfc0049cc81ca31c">GetReputationMgr</a>().<a class="code" href="../../d8/d53/class_player.html#ab0dd4a3587adde29c041c1d403d676e3">GetReputation</a>(fIdObj) &gt;= qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a15e22f8cce4ac1bec8294d952d0d39e2">GetRepObjectiveValue2</a>())</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    {</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252">INVALIDREASON_DONT_HAVE_REQ</a>);</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    }</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160; </div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;}</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160; </div>
<div class="line"><a name="l01136"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#acf0f9d07a0043d6fdbd8a4cbde03ab53"> 1136</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#acf0f9d07a0043d6fdbd8a4cbde03ab53">Player::SatisfyQuestStatus</a>(<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> msg)<span class="keyword"> const</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#ab98c62b0161d702e4219c8277f8f5349">GetQuestStatus</a>(qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>()) != <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8abefdf5f7417012e5d2adedf1dc155f28">QUEST_STATUS_NONE</a>)</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    {</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#a198acf8afc6a434e2a7f2d574520e18fa43ddb2705d2b8b1dadf2129725eb8e67">INVALIDREASON_QUEST_ALREADY_ON</a>);</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    }</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;}</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160; </div>
<div class="line"><a name="l01147"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a5713cd88450fc91ded78904209521176"> 1147</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#a5713cd88450fc91ded78904209521176">Player::SatisfyQuestConditions</a>(<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> msg)</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;{</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <a class="code" href="../../d0/d62/_condition_mgr_8h.html#ae942a8e25dc24ce42e62625bb583c0dd">ConditionList</a> conditions = <a class="code" href="../../d0/d62/_condition_mgr_8h.html#a5ab0412c3dc24dbd690ba6d7f01657f8">sConditionMgr</a>-&gt;GetConditionsForNotGroupedEntry(<a class="code" href="../../d0/d62/_condition_mgr_8h.html#a5ba040e3c1f6efbefb512efb9bd69a7faff018c19627d2a3c3767b8c3665cd1eb">CONDITION_SOURCE_TYPE_QUEST_AVAILABLE</a>, qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>());</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d62/_condition_mgr_8h.html#a5ab0412c3dc24dbd690ba6d7f01657f8">sConditionMgr</a>-&gt;IsObjectMeetToConditions(<span class="keyword">this</span>, conditions))</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    {</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252">INVALIDREASON_DONT_HAVE_REQ</a>);</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;condition&quot;</span>, <span class="stringliteral">&quot;Player::SatisfyQuestConditions: conditions not met for quest %u&quot;</span>, qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>());</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    }</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;}</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160; </div>
<div class="line"><a name="l01160"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a981ca241668a35c4d44f885769f59f7a"> 1160</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#a981ca241668a35c4d44f885769f59f7a">Player::SatisfyQuestTimed</a>(<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> msg)<span class="keyword"> const</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d53/class_player.html#a4b8c18a582b0aab0f3dee61d76ec93a6">m_timedquests</a>.empty() &amp;&amp; qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7ada3babe1bfcae1e2c0c0f4b399eabcdaab">QUEST_SPECIAL_FLAGS_TIMED</a>))</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    {</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#a198acf8afc6a434e2a7f2d574520e18fa89932eb633b107826e9dbd9a01b20d87">INVALIDREASON_QUEST_ONLY_ONE_TIMED</a>);</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    }</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;}</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160; </div>
<div class="line"><a name="l01171"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a3eff2504b3182e587f5861966fc819e6"> 1171</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#a3eff2504b3182e587f5861966fc819e6">Player::SatisfyQuestExclusiveGroup</a>(<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> msg)<span class="keyword"> const</span></div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <span class="comment">// non positive exclusive group, if &gt; 0 then can be start if any other quest in exclusive group already started/completed</span></div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    <span class="keywordflow">if</span> (qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#aac8b19de3f9cc6d5b6b2a294d6ef8f21">GetExclusiveGroup</a>() &lt;= 0)</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160; </div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <a class="code" href="../../d5/dbd/class_object_mgr.html#a4143a2afd52e788bd0bd82193ef41701">ObjectMgr::ExclusiveQuestGroupsBounds</a> range(<a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;mExclusiveQuestGroups.equal_range(qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#aac8b19de3f9cc6d5b6b2a294d6ef8f21">GetExclusiveGroup</a>()));</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160; </div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <span class="keywordflow">for</span> (; range.first != range.second; ++range.first)</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    {</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> exclude_Id = range.first-&gt;second;</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160; </div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        <span class="comment">// skip checked quest id, only state of other quests in group is interesting</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;        <span class="keywordflow">if</span> (exclude_Id == qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>())</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160; </div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;        <span class="comment">// not allow have daily quest if daily quest from exclusive group already recently completed</span></div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;        <a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* Nquest = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(exclude_Id);</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d53/class_player.html#a518389d20cdf628f73a4ca8db9b5d2fd">SatisfyQuestDay</a>(Nquest, <span class="keyword">false</span>) || !<a class="code" href="../../d8/d53/class_player.html#aca05d62bd5f150ae2426747d8e1a3a36">SatisfyQuestWeek</a>(Nquest, <span class="keyword">false</span>) || !<a class="code" href="../../d8/d53/class_player.html#a897e236601ec88039eb9d16652233ce5">SatisfyQuestSeasonal</a>(Nquest, <span class="keyword">false</span>))</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;        {</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;            <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;                <a class="code" href="../../d8/d53/class_player.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252">INVALIDREASON_DONT_HAVE_REQ</a>);</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160; </div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        }</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160; </div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        <span class="comment">// alternative quest already started or completed - but don&#39;t check rewarded states if both are repeatable</span></div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#ab98c62b0161d702e4219c8277f8f5349">GetQuestStatus</a>(exclude_Id) != <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8abefdf5f7417012e5d2adedf1dc155f28">QUEST_STATUS_NONE</a> || (!(qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a725d9e26041dbb223470b8f96094b084">IsRepeatable</a>() &amp;&amp; Nquest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a725d9e26041dbb223470b8f96094b084">IsRepeatable</a>()) &amp;&amp; !Nquest-&gt;<a class="code" href="../../d8/d63/class_quest.html#adaa19295bcbbc791d0ed2e70d641e4e9">IsSeasonal</a>() &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#af6f5e7fa735e3d31f3558410184d08be">IsQuestRewarded</a>(exclude_Id))) <span class="comment">// pussywizard: added !Nquest-&gt;IsSeasonal() because seasonal quests are considered rewarded only if finished this year, this is checked above in SatisfyQuestSeasonal</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;        {</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;            <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;                <a class="code" href="../../d8/d53/class_player.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252">INVALIDREASON_DONT_HAVE_REQ</a>);</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;        }</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    }</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;}</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160; </div>
<div class="line"><a name="l01208"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a20f4b508f43c0250a376be46cb31ffa6"> 1208</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#a20f4b508f43c0250a376be46cb31ffa6">Player::SatisfyQuestNextChain</a>(<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> msg)<span class="keyword"> const</span></div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> nextQuest = qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#afd21789d43617d2a7d48e0479b247fde">GetNextQuestInChain</a>();</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="keywordflow">if</span> (!nextQuest)</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160; </div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <span class="comment">// next quest in chain already started or completed</span></div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#ab98c62b0161d702e4219c8277f8f5349">GetQuestStatus</a>(nextQuest) != <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8abefdf5f7417012e5d2adedf1dc155f28">QUEST_STATUS_NONE</a>) <span class="comment">// GetQuestStatus returns QUEST_STATUS_COMPLETED for rewarded quests</span></div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    {</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252">INVALIDREASON_DONT_HAVE_REQ</a>);</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    }</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160; </div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <span class="comment">// check for all quests further up the chain</span></div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    <span class="comment">// only necessary if there are quest chains with more than one quest that can be skipped</span></div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <span class="comment">//return SatisfyQuestNextChain(qInfo-&gt;GetNextQuestInChain(), msg);</span></div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;}</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160; </div>
<div class="line"><a name="l01228"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#ade36479ca18bfad804c3b5306d856ddf"> 1228</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#ade36479ca18bfad804c3b5306d856ddf">Player::SatisfyQuestPrevChain</a>(<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> msg)<span class="keyword"> const</span></div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <span class="comment">// No previous quest in chain</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <span class="keywordflow">if</span> (qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#af8f473ce55790d197715fef652c2edc1">prevChainQuests</a>.empty())</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160; </div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    <span class="keywordflow">for</span> (Quest::PrevChainQuests::const_iterator iter = qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#af8f473ce55790d197715fef652c2edc1">prevChainQuests</a>.begin(); iter != qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#af8f473ce55790d197715fef652c2edc1">prevChainQuests</a>.end(); ++iter)</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    {</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        QuestStatusMap::const_iterator itr = <a class="code" href="../../d8/d53/class_player.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.find(*iter);</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160; </div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        <span class="comment">// If any of the previous quests in chain active, return false</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        <span class="keywordflow">if</span> (itr != <a class="code" href="../../d8/d53/class_player.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.end() &amp;&amp; itr-&gt;second.Status != <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8abefdf5f7417012e5d2adedf1dc155f28">QUEST_STATUS_NONE</a>)</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        {</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;            <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;                <a class="code" href="../../d8/d53/class_player.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252">INVALIDREASON_DONT_HAVE_REQ</a>);</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;        }</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160; </div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;        <span class="comment">// check for all quests further down the chain</span></div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;        <span class="comment">// only necessary if there are quest chains with more than one quest that can be skipped</span></div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;        <span class="comment">//if (!SatisfyQuestPrevChain(prevId, msg))</span></div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        <span class="comment">//    return false;</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    }</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160; </div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    <span class="comment">// No previous quest in chain active</span></div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;}</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160; </div>
<div class="line"><a name="l01256"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a518389d20cdf628f73a4ca8db9b5d2fd"> 1256</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#a518389d20cdf628f73a4ca8db9b5d2fd">Player::SatisfyQuestDay</a>(<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> msg)<span class="keyword"> const</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    <span class="keywordflow">if</span> (!qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#aab14227810deb46be3e04f3fb43eab05">IsDaily</a>() &amp;&amp; !qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a62deb059ae37d23ad11c985b8a8ed792">IsDFQuest</a>())</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160; </div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    <span class="keywordflow">if</span> (qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a62deb059ae37d23ad11c985b8a8ed792">IsDFQuest</a>())</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    {</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d53/class_player.html#a3f71a19d954e153b2fb790f176d7e69e">m_DFQuests</a>.empty())</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160; </div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    }</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160; </div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <span class="keywordtype">bool</span> have_slot = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_daily_idx = 0; quest_daily_idx &lt; <a class="code" href="../../d1/d39/_player_8h.html#a9b615cd8e69bf1f12cbee0c8ce784feb">PLAYER_MAX_DAILY_QUESTS</a>; ++quest_daily_idx)</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    {</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <span class="keywordtype">id</span> = <a class="code" href="../../d8/d83/class_object.html#a3264388b9f92da9de7641477b3dc77f9">GetUInt32Value</a>(<a class="code" href="../../dd/d65/_update_fields_8h.html#a0e42dc606678c9df7884e1aad621e881a1839e5053ba2ed57303c92683b483745">PLAYER_FIELD_DAILY_QUESTS_1</a> + quest_daily_idx);</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;        <span class="keywordflow">if</span> (qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>() == <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160; </div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;        <span class="keywordflow">if</span> (!<span class="keywordtype">id</span>)</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;            have_slot = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    }</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160; </div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    <span class="keywordflow">if</span> (!have_slot)</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    {</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#a92f5f639ef225763dba03e9308054f39">SendCanTakeQuestResponse</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#a198acf8afc6a434e2a7f2d574520e18fab1743dc9f2777d67b8bbfaa440940d94">INVALIDREASON_DAILY_QUESTS_REMAINING</a>);</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    }</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160; </div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;}</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160; </div>
<div class="line"><a name="l01290"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#aca05d62bd5f150ae2426747d8e1a3a36"> 1290</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#aca05d62bd5f150ae2426747d8e1a3a36">Player::SatisfyQuestWeek</a>(<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> <span class="comment">/*msg*/</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    <span class="keywordflow">if</span> (!qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#ad655d2ab2988cbc70c17a53f27aa84dc">IsWeekly</a>() || <a class="code" href="../../d8/d53/class_player.html#a4f79955d3a09a3ba998350d584546717">m_weeklyquests</a>.empty())</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160; </div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    <span class="comment">// if not found in cooldown list</span></div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d53/class_player.html#a4f79955d3a09a3ba998350d584546717">m_weeklyquests</a>.find(qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>()) == <a class="code" href="../../d8/d53/class_player.html#a4f79955d3a09a3ba998350d584546717">m_weeklyquests</a>.end();</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;}</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160; </div>
<div class="line"><a name="l01299"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a897e236601ec88039eb9d16652233ce5"> 1299</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#a897e236601ec88039eb9d16652233ce5">Player::SatisfyQuestSeasonal</a>(<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> <span class="comment">/*msg*/</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <span class="keywordflow">if</span> (!qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#adaa19295bcbbc791d0ed2e70d641e4e9">IsSeasonal</a>() || <a class="code" href="../../d8/d53/class_player.html#ae9b5335b821af51bcfa01e994f3387f8">m_seasonalquests</a>.empty())</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160; </div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    Player::SeasonalEventQuestMap::iterator itr = ((<a class="code" href="../../d8/d53/class_player.html">Player</a>*)<span class="keyword">this</span>)-&gt;m_seasonalquests.find(qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a0c6ec21639c30c5fad76225ec9dbca43">GetEventIdForQuest</a>());</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160; </div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <span class="keywordflow">if</span> (itr == <a class="code" href="../../d8/d53/class_player.html#ae9b5335b821af51bcfa01e994f3387f8">m_seasonalquests</a>.end() || itr-&gt;second.empty())</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160; </div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    <span class="comment">// if not found in cooldown list</span></div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    <span class="keywordflow">return</span> itr-&gt;second.find(qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>()) == itr-&gt;second.end();</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;}</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160; </div>
<div class="line"><a name="l01313"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a7b45b9e11b333d56baf6b02cc523d70a"> 1313</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#a7b45b9e11b333d56baf6b02cc523d70a">Player::SatisfyQuestMonth</a>(<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qInfo, <span class="keywordtype">bool</span> <span class="comment">/*msg*/</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    <span class="keywordflow">if</span> (!qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#aec34a6498bb385e4ee734fa54d0d9643">IsMonthly</a>() || <a class="code" href="../../d8/d53/class_player.html#a56420e8977008b8f8a3399058b8a432f">m_monthlyquests</a>.empty())</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160; </div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <span class="comment">// if not found in cooldown list</span></div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d53/class_player.html#a56420e8977008b8f8a3399058b8a432f">m_monthlyquests</a>.find(qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>()) == <a class="code" href="../../d8/d53/class_player.html#a56420e8977008b8f8a3399058b8a432f">m_monthlyquests</a>.end();</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;}</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160; </div>
<div class="line"><a name="l01322"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#acaa7aab48332b249ff546d123a9af85d"> 1322</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#acaa7aab48332b249ff546d123a9af85d">Player::GiveQuestSourceItem</a>(<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* quest)</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;{</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> srcitem = quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#ad4362cc4900c53c7bf010ea8fe0eabff">GetSrcItemId</a>();</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    <span class="keywordflow">if</span> (srcitem &gt; 0)</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    {</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a624f094e3f33c2bf5eb30dd9d208a058">GetSrcItemCount</a>();</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;        <span class="keywordflow">if</span> (count &lt;= 0)</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;            count = 1;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160; </div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        <a class="code" href="../../d1/d39/_player_8h.html#a06f492a0a20f5264c8395684220fec84">ItemPosCountVec</a> dest;</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;        <a class="code" href="../../da/d43/_item_8h.html#a73617af2b3e5e935646638fa13678391">InventoryResult</a> msg = <a class="code" href="../../d8/d53/class_player.html#af059a10625d50ca7674771ea1c1c4c4c">CanStoreNewItem</a>(<a class="code" href="../../d5/d32/_unit_8h.html#aadcc1e3338f8cbbe511ad060db42dfb5a843659af0a40139bfa505d7e7982477b">NULL_BAG</a>, <a class="code" href="../../d5/d32/_unit_8h.html#aadcc1e3338f8cbbe511ad060db42dfb5aeb5cbd7990d2f5e679ec4ecc65e83130">NULL_SLOT</a>, dest, srcitem, count);</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;        <span class="keywordflow">if</span> (msg == <a class="code" href="../../da/d43/_item_8h.html#a73617af2b3e5e935646638fa13678391a939b6661cd19d6c18274906abb28021c">EQUIP_ERR_OK</a>)</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;        {</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;            <a class="code" href="../../dc/d32/class_item.html">Item</a>* item = <a class="code" href="../../d8/d53/class_player.html#ac996a41fc3f89d8683de8695bb7db13c">StoreNewItem</a>(dest, srcitem, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#a9b1ad78b229913ff669912d2fb80c6e0">SendNewItem</a>(item, count, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;        }</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;            <span class="comment">// player already have max amount required item, just report success</span></div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msg == <a class="code" href="../../da/d43/_item_8h.html#a73617af2b3e5e935646638fa13678391ac38e8d6381e5ed7855a06a1b34163dca">EQUIP_ERR_CANT_CARRY_MORE_OF_THIS</a>)</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#ade216a89981dfce501f02f38cec9ad3f">SendEquipError</a>(msg, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, srcitem);</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    }</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160; </div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;}</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160; </div>
<div class="line"><a name="l01350"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#ab5a791e5b6f12cdf6eff3bab46449b5d"> 1350</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#ab5a791e5b6f12cdf6eff3bab46449b5d">Player::TakeQuestSourceItem</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId, <span class="keywordtype">bool</span> msg)</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;{</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    <a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* quest = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questId);</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <span class="keywordflow">if</span> (quest)</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    {</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> srcItemId = quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#ad4362cc4900c53c7bf010ea8fe0eabff">GetSrcItemId</a>();</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;        <a class="code" href="../../da/d61/struct_item_template.html">ItemTemplate</a> <span class="keyword">const</span>* item = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplate(srcItemId);</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160; </div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;        <span class="keywordflow">if</span> (srcItemId &gt; 0)</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;        {</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;            <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a624f094e3f33c2bf5eb30dd9d208a058">GetSrcItemCount</a>();</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;            <span class="keywordflow">if</span> (count &lt;= 0)</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;                count = 1;</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160; </div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;            <span class="comment">// exist two cases when destroy source quest item not possible:</span></div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;            <span class="comment">// a) non un-equippable item (equipped non-empty bag, for example)</span></div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;            <span class="comment">// b) when quest is started from an item and item also is needed in</span></div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;            <span class="comment">// the end as RequiredItemId</span></div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;            <a class="code" href="../../da/d43/_item_8h.html#a73617af2b3e5e935646638fa13678391">InventoryResult</a> res = <a class="code" href="../../d8/d53/class_player.html#ac6ee8565680d6696c0804fa40d47ba73">CanUnequipItems</a>(srcItemId, count);</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;            <span class="keywordflow">if</span> (res != <a class="code" href="../../da/d43/_item_8h.html#a73617af2b3e5e935646638fa13678391a939b6661cd19d6c18274906abb28021c">EQUIP_ERR_OK</a>)</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;            {</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;                <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;                    <a class="code" href="../../d8/d53/class_player.html#ade216a89981dfce501f02f38cec9ad3f">SendEquipError</a>(res, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, srcItemId);</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;            }</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160; </div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;            <span class="keywordtype">bool</span> destroyItem = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> n = 0; n &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a5b538720bd7de8c4468dc6d21b412f10">QUEST_ITEM_OBJECTIVES_COUNT</a>; ++n)</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;                <span class="keywordflow">if</span> (item-&gt;<a class="code" href="../../da/d61/struct_item_template.html#aef5389c8385f5729a2471d7ef144f05a">StartQuest</a> == questId &amp;&amp; srcItemId == quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#abff147587981d28f9e8034031696a91d">RequiredItemId</a>[n])</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;                    destroyItem = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160; </div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;            <span class="keywordflow">if</span> (destroyItem)</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;                <a class="code" href="../../d8/d53/class_player.html#ab30f677764d8fe694f27ee4253601033">DestroyItemCount</a>(srcItemId, count, <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;        }</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    }</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160; </div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;}</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160; </div>
<div class="line"><a name="l01389"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a2f780cf8d581075515965d1de74cf789"> 1389</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#a2f780cf8d581075515965d1de74cf789">Player::GetQuestRewardStatus</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id)<span class="keyword"> const</span></div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    <a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qInfo = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(quest_id);</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    <span class="keywordflow">if</span> (qInfo)</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    {</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;        <span class="keywordflow">if</span> (qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#adaa19295bcbbc791d0ed2e70d641e4e9">IsSeasonal</a>())</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;            <span class="keywordflow">return</span> !<a class="code" href="../../d8/d53/class_player.html#a897e236601ec88039eb9d16652233ce5">SatisfyQuestSeasonal</a>(qInfo, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160; </div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;        <span class="comment">// for repeatable quests: rewarded field is set after first reward only to prevent getting XP more than once</span></div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;        <span class="keywordflow">if</span> (!qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a725d9e26041dbb223470b8f96094b084">IsRepeatable</a>())</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d8/d53/class_player.html#af6f5e7fa735e3d31f3558410184d08be">IsQuestRewarded</a>(quest_id);</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    }</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;}</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160; </div>
<div class="line"><a name="l01404"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#ab98c62b0161d702e4219c8277f8f5349"> 1404</a></span>&#160;<a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8">QuestStatus</a> <a class="code" href="../../d8/d53/class_player.html#ab98c62b0161d702e4219c8277f8f5349">Player::GetQuestStatus</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id)<span class="keyword"> const</span></div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    <span class="keywordflow">if</span> (quest_id)</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    {</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;        QuestStatusMap::const_iterator itr = <a class="code" href="../../d8/d53/class_player.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.find(quest_id);</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;        <span class="keywordflow">if</span> (itr != <a class="code" href="../../d8/d53/class_player.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.end())</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;            <span class="keywordflow">return</span> itr-&gt;second.Status;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160; </div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qInfo = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(quest_id))</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        {</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;            <span class="keywordflow">if</span> (qInfo-&gt;IsSeasonal())</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d8/d53/class_player.html#a897e236601ec88039eb9d16652233ce5">SatisfyQuestSeasonal</a>(qInfo, <span class="keyword">false</span>) ? <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8abefdf5f7417012e5d2adedf1dc155f28">QUEST_STATUS_NONE</a> : <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8a8aa7be8f8f2585bb49ad2e1d33a65d3c">QUEST_STATUS_REWARDED</a>;</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160; </div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;            <span class="keywordflow">if</span> (!qInfo-&gt;IsRepeatable() &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#af6f5e7fa735e3d31f3558410184d08be">IsQuestRewarded</a>(quest_id))</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8a8aa7be8f8f2585bb49ad2e1d33a65d3c">QUEST_STATUS_REWARDED</a>;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;        }</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    }</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8abefdf5f7417012e5d2adedf1dc155f28">QUEST_STATUS_NONE</a>;</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;}</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160; </div>
<div class="line"><a name="l01424"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#ac62aa687e837226933cf563955f39f76"> 1424</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#ac62aa687e837226933cf563955f39f76">Player::CanShareQuest</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id)<span class="keyword"> const</span></div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qInfo = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(quest_id);</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    <span class="keywordflow">if</span> (qInfo &amp;&amp; qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a071cf4919b90266595fef826351f2d2a">HasFlag</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#a881ebe30fbf0f088d54bfa959cefe47caad03215b00fda5ef5b3a3b55d0181582">QUEST_FLAGS_SHARABLE</a>))</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    {</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;        QuestStatusMap::const_iterator itr = <a class="code" href="../../d8/d53/class_player.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.find(quest_id);</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;        <span class="keywordflow">if</span> (itr != <a class="code" href="../../d8/d53/class_player.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.end())</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;        {</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;            <span class="comment">// in pool and not currently available (wintergrasp weekly, dalaran weekly) - can&#39;t share</span></div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d2/dc6/_pool_mgr_8h.html#a9189dd9c6265b9e6d57104dd61a5fe85">sPoolMgr</a>-&gt;IsPartOfAPool&lt;<a class="code" href="../../d8/d63/class_quest.html">Quest</a>&gt;(quest_id) &amp;&amp; !<a class="code" href="../../d2/dc6/_pool_mgr_8h.html#a9189dd9c6265b9e6d57104dd61a5fe85">sPoolMgr</a>-&gt;IsSpawnedObject&lt;<a class="code" href="../../d8/d63/class_quest.html">Quest</a>&gt;(quest_id))</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;            {</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;                <a class="code" href="../../d8/d53/class_player.html#a912005a1a9058c11996bbbd8b6a0152c">SendPushToPartyResponse</a>(<span class="keyword">this</span>, <a class="code" href="../../d2/dc8/_quest_def_8h.html#ac0edcb86ea5fca813b3c69e348fe74c0aa8f02823dd955bf0b8ba1409f982feaa">QUEST_PARTY_MSG_CANT_BE_SHARED_TODAY</a>);</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;            }</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160; </div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;        }</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    }</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;}</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160; </div>
<div class="line"><a name="l01445"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#ad32f3a3ec1be51826e04097db7a69620"> 1445</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#ad32f3a3ec1be51826e04097db7a69620">Player::SetQuestStatus</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId, <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8">QuestStatus</a> status, <span class="keywordtype">bool</span> update <span class="comment">/*= true*/</span>)</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;{</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questId))</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    {</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>[questId].Status = status;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#af1535e4d884448d3ee3ceb81c5b5feee">m_QuestStatusSave</a>[questId] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    }</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160; </div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    <span class="keywordflow">if</span> (update)</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a71e5ab0c8c5ba33eb6c36a2300065823">SendQuestUpdate</a>(questId);</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;}</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160; </div>
<div class="line"><a name="l01457"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#ab702c2acc0393baed9ac829435a10b03"> 1457</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#ab702c2acc0393baed9ac829435a10b03">Player::RemoveActiveQuest</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId, <span class="keywordtype">bool</span> update <span class="comment">/*= true*/</span>)</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;{</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    QuestStatusMap::iterator itr = <a class="code" href="../../d8/d53/class_player.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.find(questId);</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    <span class="keywordflow">if</span> (itr != <a class="code" href="../../d8/d53/class_player.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.end())</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    {</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.erase(itr);</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#af1535e4d884448d3ee3ceb81c5b5feee">m_QuestStatusSave</a>[questId] = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    }</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160; </div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    <span class="keywordflow">if</span> (update)</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a71e5ab0c8c5ba33eb6c36a2300065823">SendQuestUpdate</a>(questId);</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160; </div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    <span class="comment">// Xinef: area auras may change on quest remove!</span></div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#ab3a73c835c52cd903ab0112a5bc4e7f0">UpdateZoneDependentAuras</a>(<a class="code" href="../../db/df7/class_world_object.html#ad498d690fbe69bb99a8a2ffdcb2f5169">GetZoneId</a>());</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a6dea805c714a08cb8972769c3f343bb9">UpdateAreaDependentAuras</a>(<a class="code" href="../../db/df7/class_world_object.html#acdd585ef58eb876c506389ff96a4fbd9">GetAreaId</a>());</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#aa5393bf276b4b3429e7d12263408a90b">AdditionalSavingAddMask</a>(<a class="code" href="../../d1/d39/_player_8h.html#abb6c0419a027f09fbb5016deede34755ae07ddeb5ee480f16943f43b31e53ebba">ADDITIONAL_SAVING_QUEST_STATUS</a>);</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;}</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160; </div>
<div class="line"><a name="l01475"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#ad7e77cd57824c0ca08d2c88a8b1c3aec"> 1475</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#ad7e77cd57824c0ca08d2c88a8b1c3aec">Player::RemoveRewardedQuest</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId, <span class="keywordtype">bool</span> update <span class="comment">/*= true*/</span>)</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;{</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    RewardedQuestSet::iterator rewItr = <a class="code" href="../../d8/d53/class_player.html#a904aeb6ca88d6996e7c3f3ba96b9d274">m_RewardedQuests</a>.find(questId);</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <span class="keywordflow">if</span> (rewItr != <a class="code" href="../../d8/d53/class_player.html#a904aeb6ca88d6996e7c3f3ba96b9d274">m_RewardedQuests</a>.end())</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    {</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a904aeb6ca88d6996e7c3f3ba96b9d274">m_RewardedQuests</a>.erase(rewItr);</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#af3bfe54e63e3e08602f01e187ccedb7a">m_RewardedQuestsSave</a>[questId] = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    }</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160; </div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    <span class="keywordflow">if</span> (update)</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a71e5ab0c8c5ba33eb6c36a2300065823">SendQuestUpdate</a>(questId);</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;}</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160; </div>
<div class="line"><a name="l01488"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a71e5ab0c8c5ba33eb6c36a2300065823"> 1488</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a71e5ab0c8c5ba33eb6c36a2300065823">Player::SendQuestUpdate</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId)</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;{</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> zone = 0, area = 0;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    <span class="comment">// xinef: shittness fixup</span></div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldSpellId = 0;</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160; </div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    <a class="code" href="../../d3/d75/_spell_mgr_8h.html#aebca17b4bc1b0129c26a7c769d90159b">SpellAreaForQuestMapBounds</a> saBounds = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a>-&gt;GetSpellAreaForQuestMapBounds(questId);</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    <span class="keywordflow">if</span> (saBounds.first != saBounds.second)</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    {</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;        <a class="code" href="../../db/df7/class_world_object.html#ae1a8efe701e885f0ed1eaeb93bbece8e">GetZoneAndAreaId</a>(zone, area);</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160; </div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;        <span class="keywordflow">for</span> (SpellAreaForAreaMap::const_iterator itr = saBounds.first; itr != saBounds.second; ++itr)</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;        {</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;            <span class="comment">// xinef: spell was already casted, skip different areas with same spell</span></div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;            <span class="keywordflow">if</span> (itr-&gt;second-&gt;spellId == oldSpellId)</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;            <span class="keywordflow">if</span> (itr-&gt;second-&gt;autocast &amp;&amp; itr-&gt;second-&gt;IsFitToRequirements(<span class="keyword">this</span>, zone, area))</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="../../da/db7/class_unit.html#a69c5ac45b65cf0dede6e0ee837361f61">HasAura</a>(itr-&gt;second-&gt;spellId))</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;                {</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;                    <a class="code" href="../../da/db7/class_unit.html#aa3ca95f7a14041f562ed69c3994afdfc">CastSpell</a>(<span class="keyword">this</span>, itr-&gt;second-&gt;spellId, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;                    oldSpellId = itr-&gt;second-&gt;spellId;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;                }</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;        }</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    }</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160; </div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    saBounds = <a class="code" href="../../d3/d75/_spell_mgr_8h.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a>-&gt;GetSpellAreaForQuestEndMapBounds(questId);</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160; </div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    <span class="comment">// xinef: shittness fixup</span></div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> skipSpellId = 0;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    oldSpellId = 0;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    <span class="keywordflow">if</span> (saBounds.first != saBounds.second)</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    {</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;        <span class="keywordflow">if</span> (!zone || !area)</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;            <a class="code" href="../../db/df7/class_world_object.html#ae1a8efe701e885f0ed1eaeb93bbece8e">GetZoneAndAreaId</a>(zone, area);</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160; </div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;        <span class="keywordflow">for</span> (SpellAreaForAreaMap::const_iterator itr = saBounds.first; itr != saBounds.second; ++itr)</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;        {</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;            <span class="comment">// xinef: skip spell for which condition is already fulfilled</span></div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;            <span class="keywordflow">if</span> (itr-&gt;second-&gt;spellId == skipSpellId)</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;            skipSpellId = 0;</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160; </div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;            <span class="comment">// xinef: spells are sorted, if no condition is fulfilled remove aura</span></div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;            <span class="keywordflow">if</span> (oldSpellId &amp;&amp; oldSpellId != itr-&gt;second-&gt;spellId)</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;            {</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;                <a class="code" href="../../da/db7/class_unit.html#aac612f06e84142d92dcfc432b5feb4ac">RemoveAurasDueToSpell</a>(oldSpellId);</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;                oldSpellId = 0;</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;            }</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160; </div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;            <span class="keywordflow">if</span> (!itr-&gt;second-&gt;IsFitToRequirements(<span class="keyword">this</span>, zone, area))</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;            {</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;                <span class="comment">//RemoveAurasDueToSpell(itr-&gt;second-&gt;spellId);</span></div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;                oldSpellId = itr-&gt;second-&gt;spellId;</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;            }</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;            {</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;                skipSpellId = itr-&gt;second-&gt;spellId;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;                oldSpellId = 0;</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;            }</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;        }</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160; </div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;        <span class="comment">// xinef: check if we have something to remove yet</span></div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;        <span class="keywordflow">if</span> (oldSpellId)</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;            <a class="code" href="../../da/db7/class_unit.html#aac612f06e84142d92dcfc432b5feb4ac">RemoveAurasDueToSpell</a>(oldSpellId);</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    }</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160; </div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a4ed4f2a833a55c6cb2ffc91fb43eb066">UpdateForQuestWorldObjects</a>();</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;}</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160; </div>
<div class="line"><a name="l01557"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a4f934c08237609db274d492c0323b744"> 1557</a></span>&#160;<a class="code" href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542b">QuestGiverStatus</a> <a class="code" href="../../d8/d53/class_player.html#a4f934c08237609db274d492c0323b744">Player::GetQuestDialogStatus</a>(<a class="code" href="../../d8/d83/class_object.html">Object</a>* questgiver)</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;{</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    <a class="code" href="../../d9/d77/_object_mgr_8h.html#a4d2e936df987ca3457dc1cff99fd3394">QuestRelationBounds</a> qr;</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    <a class="code" href="../../d9/d77/_object_mgr_8h.html#a4d2e936df987ca3457dc1cff99fd3394">QuestRelationBounds</a> qir;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160; </div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    <span class="keywordflow">switch</span> (questgiver-&gt;<a class="code" href="../../d8/d83/class_object.html#a621a345fc34deed6d3a4e1e498a652da">GetTypeId</a>())</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    {</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d9/d83/_object_guid_8h.html#a183c40b2ba67065929d70b3987da4cc2a91b74ac7ebfe7909332a6eec5054c60d">TYPEID_GAMEOBJECT</a>:</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;        {</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;<span class="preprocessor">#ifdef ELUNA</span></div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;            sEluna-&gt;GetDialogStatus(<span class="keyword">this</span>, questgiver-&gt;<a class="code" href="../../d8/d83/class_object.html#ac29133995854ac3bf59c164a91d6efaa">ToGameObject</a>());</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;            <a class="code" href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542b">QuestGiverStatus</a> questStatus = <a class="code" href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542b">QuestGiverStatus</a>(<a class="code" href="../../d0/d7d/_script_mgr_8h.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;GetDialogStatus(<span class="keyword">this</span>, questgiver-&gt;<a class="code" href="../../d8/d83/class_object.html#ac29133995854ac3bf59c164a91d6efaa">ToGameObject</a>()));</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;            <span class="keywordflow">if</span> (questStatus != <a class="code" href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542ba3d77f1cc50b7e48f2f16aa7d383601a3">DIALOG_STATUS_SCRIPTED_NO_STATUS</a>)</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;                <span class="keywordflow">return</span> questStatus;</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;            qr = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetGOQuestRelationBounds(questgiver-&gt;<a class="code" href="../../d8/d83/class_object.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>());</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;            qir = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetGOQuestInvolvedRelationBounds(questgiver-&gt;<a class="code" href="../../d8/d83/class_object.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>());</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;        }</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d9/d83/_object_guid_8h.html#a183c40b2ba67065929d70b3987da4cc2a93dfa528ffc48db4993fb7ac62696db9">TYPEID_UNIT</a>:</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;        {</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;<span class="preprocessor">#ifdef ELUNA</span></div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;            sEluna-&gt;GetDialogStatus(<span class="keyword">this</span>, questgiver-&gt;<a class="code" href="../../d8/d83/class_object.html#a4a4bdac0d151f9193aa3581bda31193c">ToCreature</a>());</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;            <a class="code" href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542b">QuestGiverStatus</a> questStatus = <a class="code" href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542b">QuestGiverStatus</a>(<a class="code" href="../../d0/d7d/_script_mgr_8h.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;GetDialogStatus(<span class="keyword">this</span>, questgiver-&gt;<a class="code" href="../../d8/d83/class_object.html#a4a4bdac0d151f9193aa3581bda31193c">ToCreature</a>()));</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;            <span class="keywordflow">if</span> (questStatus != <a class="code" href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542ba3d77f1cc50b7e48f2f16aa7d383601a3">DIALOG_STATUS_SCRIPTED_NO_STATUS</a>)</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;                <span class="keywordflow">return</span> questStatus;</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;            qr = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetCreatureQuestRelationBounds(questgiver-&gt;<a class="code" href="../../d8/d83/class_object.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>());</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;            qir = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetCreatureQuestInvolvedRelationBounds(questgiver-&gt;<a class="code" href="../../d8/d83/class_object.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>());</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;        }</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;            <span class="comment">// it&#39;s impossible, but check</span></div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;            <span class="comment">//TC_LOG_ERROR(&quot;entities.player.quest&quot;, &quot;GetQuestDialogStatus called for unexpected type %u&quot;, questgiver-&gt;GetTypeId());</span></div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542ba26affdf7d4a232a13a2e85bcfec3acac">DIALOG_STATUS_NONE</a>;</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    }</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160; </div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <a class="code" href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542b">QuestGiverStatus</a> result = <a class="code" href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542ba26affdf7d4a232a13a2e85bcfec3acac">DIALOG_STATUS_NONE</a>;</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160; </div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    <span class="keywordflow">for</span> (QuestRelations::const_iterator i = qir.first; i != qir.second; ++i)</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    {</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;        <a class="code" href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542b">QuestGiverStatus</a> result2 = <a class="code" href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542ba26affdf7d4a232a13a2e85bcfec3acac">DIALOG_STATUS_NONE</a>;</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId = i-&gt;second;</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;        <a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* quest = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questId);</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;        <span class="keywordflow">if</span> (!quest)</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160; </div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;        <a class="code" href="../../d0/d62/_condition_mgr_8h.html#ae942a8e25dc24ce42e62625bb583c0dd">ConditionList</a> conditions = <a class="code" href="../../d0/d62/_condition_mgr_8h.html#a5ab0412c3dc24dbd690ba6d7f01657f8">sConditionMgr</a>-&gt;GetConditionsForNotGroupedEntry(<a class="code" href="../../d0/d62/_condition_mgr_8h.html#a5ba040e3c1f6efbefb512efb9bd69a7faff018c19627d2a3c3767b8c3665cd1eb">CONDITION_SOURCE_TYPE_QUEST_AVAILABLE</a>, quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>());</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d62/_condition_mgr_8h.html#a5ab0412c3dc24dbd690ba6d7f01657f8">sConditionMgr</a>-&gt;IsObjectMeetToConditions(<span class="keyword">this</span>, conditions))</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160; </div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;        <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8">QuestStatus</a> status = <a class="code" href="../../d8/d53/class_player.html#ab98c62b0161d702e4219c8277f8f5349">GetQuestStatus</a>(questId);</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;        <span class="keywordflow">if</span> ((status == <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8ae1b2fe2d9de28cc70b59a4bdd5f0abed">QUEST_STATUS_COMPLETE</a> &amp;&amp; !<a class="code" href="../../d8/d53/class_player.html#a2f780cf8d581075515965d1de74cf789">GetQuestRewardStatus</a>(questId)) || (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a7c067ea4d0fbf622a17eec3ad7414594">IsAutoComplete</a>() &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#a4119b83fa78e608d8d946b1821c57fdf">CanTakeQuest</a>(quest, <span class="keyword">false</span>)))</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;        {</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;            <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a725d9e26041dbb223470b8f96094b084">IsRepeatable</a>() &amp;&amp; quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#adb84c508be7586def5faee4c286dd463">IsDailyOrWeekly</a>())</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;            {</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;                <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a7c067ea4d0fbf622a17eec3ad7414594">IsAutoComplete</a>())</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;                {</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;                    result2 = <a class="code" href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542baeb1be76328219029c8b20345c76e9dd7">DIALOG_STATUS_AVAILABLE_REP</a>;</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;                }</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;                {</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;                    result2 = <a class="code" href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542ba8c007c4cb4d3909e264b15da0c678415">DIALOG_STATUS_REWARD_REP</a>;</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;                }</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;            }</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a7c067ea4d0fbf622a17eec3ad7414594">IsAutoComplete</a>())</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;            {</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;                result2 = <a class="code" href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542ba332bbf12a9f624eaf8304facf64520c2">DIALOG_STATUS_AVAILABLE</a>;</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;            }</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;            {</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;                result2 = <a class="code" href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542ba75135989445a2947df016dddb20dcf24">DIALOG_STATUS_REWARD</a>;</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;            }</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;        }</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (status == <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a>)</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;        {</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;            result2 = <a class="code" href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542baa4ccf7e90f00237c4edb4de98162be3a">DIALOG_STATUS_INCOMPLETE</a>;</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;        }</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160; </div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;        <span class="keywordflow">if</span> (result2 &gt; result)</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;            result = result2;</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    }</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160; </div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    <span class="keywordflow">for</span> (QuestRelations::const_iterator i = qr.first; i != qr.second; ++i)</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;    {</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;        <a class="code" href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542b">QuestGiverStatus</a> result2 = <a class="code" href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542ba26affdf7d4a232a13a2e85bcfec3acac">DIALOG_STATUS_NONE</a>;</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId = i-&gt;second;</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;        <a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* quest = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questId);</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;        <span class="keywordflow">if</span> (!quest)</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160; </div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;        <a class="code" href="../../d0/d62/_condition_mgr_8h.html#ae942a8e25dc24ce42e62625bb583c0dd">ConditionList</a> conditions = <a class="code" href="../../d0/d62/_condition_mgr_8h.html#a5ab0412c3dc24dbd690ba6d7f01657f8">sConditionMgr</a>-&gt;GetConditionsForNotGroupedEntry(<a class="code" href="../../d0/d62/_condition_mgr_8h.html#a5ba040e3c1f6efbefb512efb9bd69a7faff018c19627d2a3c3767b8c3665cd1eb">CONDITION_SOURCE_TYPE_QUEST_AVAILABLE</a>, quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>());</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d62/_condition_mgr_8h.html#a5ab0412c3dc24dbd690ba6d7f01657f8">sConditionMgr</a>-&gt;IsObjectMeetToConditions(<span class="keyword">this</span>, conditions))</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160; </div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;        <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8">QuestStatus</a> status = <a class="code" href="../../d8/d53/class_player.html#ab98c62b0161d702e4219c8277f8f5349">GetQuestStatus</a>(questId);</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;        <span class="keywordflow">if</span> (status == <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8abefdf5f7417012e5d2adedf1dc155f28">QUEST_STATUS_NONE</a>)</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;        {</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#a743bfca834aded4409212d6fb43d8f4f">CanSeeStartQuest</a>(quest))</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;            {</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#aa741d2df6cdf7e02b63b46d2a58f609a">SatisfyQuestLevel</a>(quest, <span class="keyword">false</span>))</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;                {</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;                    <span class="keywordtype">bool</span> isLowLevel = (<a class="code" href="../../da/db7/class_unit.html#adc6d98745d565970b4a89088ec5b5a42">getLevel</a>() &gt; (<a class="code" href="../../d8/d53/class_player.html#a12c144fe6e00820ed8929e0547ab04f3">GetQuestLevel</a>(quest) + <a class="code" href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code" href="../../d2/d80/_i_world_8h.html#a17aac4c166ebe43e3b8fdccf9e012e41a1e7d0052850c3e4d941b52d7a453c1a7">CONFIG_QUEST_LOW_LEVEL_HIDE_DIFF</a>)));</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160; </div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;                    <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a7c067ea4d0fbf622a17eec3ad7414594">IsAutoComplete</a>())</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;                    {</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;                        <span class="keywordflow">if</span> (isLowLevel)</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;                            result2 = <a class="code" href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542ba44bd5ba1866b6195d1fdbcfc88e4429d">DIALOG_STATUS_LOW_LEVEL_REWARD_REP</a>;</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;                            result2 = <a class="code" href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542ba8c007c4cb4d3909e264b15da0c678415">DIALOG_STATUS_REWARD_REP</a>;</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;                    }</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;                    {</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;                        <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#aab14227810deb46be3e04f3fb43eab05">IsDaily</a>())</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;                        {</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;                            <span class="keywordflow">if</span> (isLowLevel)</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;                                result2 = <a class="code" href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542bad0b9e3d049c7df9b0ca9c2d0d461a25d">DIALOG_STATUS_LOW_LEVEL_AVAILABLE_REP</a>;</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;                            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;                                result2 = <a class="code" href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542baeb1be76328219029c8b20345c76e9dd7">DIALOG_STATUS_AVAILABLE_REP</a>;</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;                        }</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;                        {</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;                            <span class="keywordflow">if</span> (isLowLevel)</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;                                result2 = <a class="code" href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542ba867ef0a1e8243d47039936338db4e0d2">DIALOG_STATUS_LOW_LEVEL_AVAILABLE</a>;</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;                            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;                                result2 = <a class="code" href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542ba332bbf12a9f624eaf8304facf64520c2">DIALOG_STATUS_AVAILABLE</a>;</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;                        }</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;                    }</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;                }</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;                    result2 = <a class="code" href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542ba23c6b78237061dac38ddfb39d974a3db">DIALOG_STATUS_UNAVAILABLE</a>;</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;            }</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;        }</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160; </div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;        <span class="keywordflow">if</span> (result2 &gt; result)</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;            result = result2;</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;    }</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160; </div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;}</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160; </div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;<span class="comment">// not used in Trinity, but used in scripting code</span></div>
<div class="line"><a name="l01699"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a6313d888ff224476aa988bd1f0f2ea3c"> 1699</a></span>&#160;<a class="code" href="../../db/d35/_define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> <a class="code" href="../../d8/d53/class_player.html#a6313d888ff224476aa988bd1f0f2ea3c">Player::GetReqKillOrCastCurrentCount</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id, <a class="code" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> entry)</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;{</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    <a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qInfo = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(quest_id);</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    <span class="keywordflow">if</span> (!qInfo)</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160; </div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a7dab6182ee1bbabf205ed30f9c2d6c8b">QUEST_OBJECTIVES_COUNT</a>; ++j)</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;        <span class="keywordflow">if</span> (qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a136c35d22865c4d7a8199f754977c768">RequiredNpcOrGo</a>[j] == entry)</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d8/d53/class_player.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>[quest_id].CreatureOrGOCount[j];</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160; </div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;}</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160; </div>
<div class="line"><a name="l01712"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a887ee39fb5179132913f3907d504ca77"> 1712</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a887ee39fb5179132913f3907d504ca77">Player::AdjustQuestReqItemCount</a>(<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* quest, <a class="code" href="../../de/d05/struct_quest_status_data.html">QuestStatusData</a>&amp; questStatusData)</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;{</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7ada3e7201a507f2f10de112891952cc9a4f">QUEST_SPECIAL_FLAGS_DELIVER</a>))</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    {</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a5b538720bd7de8c4468dc6d21b412f10">QUEST_ITEM_OBJECTIVES_COUNT</a>; ++i)</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;        {</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;            <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reqitemcount = quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#aaacce83fe56a29eee3663836d784c4bb">RequiredItemCount</a>[i];</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;            <span class="keywordflow">if</span> (reqitemcount != 0)</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;            {</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;                <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> curitemcount = <a class="code" href="../../d8/d53/class_player.html#a5aa219a691b0c5212fda9de12dfd72e9">GetItemCount</a>(quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#abff147587981d28f9e8034031696a91d">RequiredItemId</a>[i], <span class="keyword">true</span>);</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160; </div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;                questStatusData.<a class="code" href="../../de/d05/struct_quest_status_data.html#a466999cea52f65bf58916bc34750bf95">ItemCount</a>[i] = std::min(curitemcount, reqitemcount);</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;                <a class="code" href="../../d8/d53/class_player.html#af1535e4d884448d3ee3ceb81c5b5feee">m_QuestStatusSave</a>[quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>()] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;            }</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;        }</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    }</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;}</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160; </div>
<div class="line"><a name="l01730"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a3454be68dff7bb9d8ee581591cac3c95"> 1730</a></span>&#160;<a class="code" href="../../db/d35/_define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> <a class="code" href="../../d8/d53/class_player.html#a3454be68dff7bb9d8ee581591cac3c95">Player::FindQuestSlot</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id)<span class="keyword"> const</span></div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> i = 0; i &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>; ++i)</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#a78498168eaeb91ca88e76f9e38867213">GetQuestSlotQuestId</a>(i) == quest_id)</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;            <span class="keywordflow">return</span> i;</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160; </div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d2/dc8/_quest_def_8h.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>;</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;}</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160; </div>
<div class="line"><a name="l01739"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#ab3b4eddc001341bfc294817c8b23d824"> 1739</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#ab3b4eddc001341bfc294817c8b23d824">Player::AreaExploredOrEventHappens</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId)</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;{</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    <span class="keywordflow">if</span> (questId)</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    {</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> log_slot = <a class="code" href="../../d8/d53/class_player.html#a3454be68dff7bb9d8ee581591cac3c95">FindQuestSlot</a>(questId);</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;        <a class="code" href="../../de/d05/struct_quest_status_data.html">QuestStatusData</a>* q_status = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;        <span class="keywordflow">if</span> (log_slot &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>)</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;        {</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;            q_status = &amp;<a class="code" href="../../d8/d53/class_player.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>[questId];</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160; </div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;            <span class="comment">// xinef: added failed check</span></div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;            <span class="keywordflow">if</span> (!q_status-&gt;<a class="code" href="../../de/d05/struct_quest_status_data.html#a734f6a61aa35c77689d33031e88f0c0b">Explored</a> &amp;&amp; q_status-&gt;<a class="code" href="../../de/d05/struct_quest_status_data.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> != <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8a8e2ffb80a87da63793e4122d9b73cf8b">QUEST_STATUS_FAILED</a>)</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;            {</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;                q_status-&gt;<a class="code" href="../../de/d05/struct_quest_status_data.html#a734f6a61aa35c77689d33031e88f0c0b">Explored</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;                <a class="code" href="../../d8/d53/class_player.html#af1535e4d884448d3ee3ceb81c5b5feee">m_QuestStatusSave</a>[questId] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160; </div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;                <a class="code" href="../../d8/d53/class_player.html#a9e99ee8e3d5603c86e5ed99bb1d233ee">SendQuestComplete</a>(questId);</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;            }</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;        }</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#aa620106c0c7396e8264a4d8e0e4dc4d9">CanCompleteQuest</a>(questId, q_status))</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#a67b53af432006bf83e80cb6991b6e146">CompleteQuest</a>(questId);</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#aa5393bf276b4b3429e7d12263408a90b">AdditionalSavingAddMask</a>(<a class="code" href="../../d1/d39/_player_8h.html#abb6c0419a027f09fbb5016deede34755ae07ddeb5ee480f16943f43b31e53ebba">ADDITIONAL_SAVING_QUEST_STATUS</a>);</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    }</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;}</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160; </div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;<span class="comment">//not used in Trinityd, function for external script library</span></div>
<div class="line"><a name="l01766"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a5407b30447c557eb4bcb441d0e4df355"> 1766</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a5407b30447c557eb4bcb441d0e4df355">Player::GroupEventHappens</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId, <a class="code" href="../../db/df7/class_world_object.html">WorldObject</a> <span class="keyword">const</span>* pEventObject)</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;{</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/d50/class_group.html">Group</a>* group = <a class="code" href="../../d8/d53/class_player.html#a3acf7eadb0ec1ae686858ea11ee87302">GetGroup</a>())</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    {</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../de/dc3/class_group_reference.html">GroupReference</a>* itr = group-&gt;GetFirstMember(); itr != <span class="keyword">nullptr</span>; itr = itr-&gt;<a class="code" href="../../de/dc3/class_group_reference.html#a05b946c0952db094a696093283308cb1">next</a>())</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;        {</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;            <a class="code" href="../../d8/d53/class_player.html">Player</a>* player = itr-&gt;GetSource();</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160; </div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;            <span class="comment">// for any leave or dead (with not released body) group member at appropriate distance</span></div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;            <span class="keywordflow">if</span> (player &amp;&amp; player-&gt;<a class="code" href="../../d8/d53/class_player.html#a60c16e65f7375a886b133d5e8738c798">IsAtGroupRewardDistance</a>(pEventObject) &amp;&amp; !player-&gt;<a class="code" href="../../d8/d53/class_player.html#a8c1208da22d449910537b53d26308fa3">GetCorpse</a>())</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;                player-&gt;<a class="code" href="../../d8/d53/class_player.html#ab3b4eddc001341bfc294817c8b23d824">AreaExploredOrEventHappens</a>(questId);</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;        }</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    }</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#ab3b4eddc001341bfc294817c8b23d824">AreaExploredOrEventHappens</a>(questId);</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;}</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160; </div>
<div class="line"><a name="l01783"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#ac84736fec697d49391a3325b99e3e039"> 1783</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#ac84736fec697d49391a3325b99e3e039">Player::ItemAddedQuestCheck</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> entry, <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count)</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;{</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>; ++i)</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    {</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questid = <a class="code" href="../../d8/d53/class_player.html#a78498168eaeb91ca88e76f9e38867213">GetQuestSlotQuestId</a>(i);</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;        <span class="keywordflow">if</span> (questid == 0)</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160; </div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;        <a class="code" href="../../de/d05/struct_quest_status_data.html">QuestStatusData</a>&amp; q_status = <a class="code" href="../../d8/d53/class_player.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>[questid];</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160; </div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;        <span class="keywordflow">if</span> (q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> != <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a>)</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160; </div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;        <a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qInfo = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questid);</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;        <span class="keywordflow">if</span> (!qInfo || !qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7ada3e7201a507f2f10de112891952cc9a4f">QUEST_SPECIAL_FLAGS_DELIVER</a>))</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160; </div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a5b538720bd7de8c4468dc6d21b412f10">QUEST_ITEM_OBJECTIVES_COUNT</a>; ++j)</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;        {</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;            <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reqitem = qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#abff147587981d28f9e8034031696a91d">RequiredItemId</a>[j];</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;            <span class="keywordflow">if</span> (reqitem == entry)</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;            {</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;                <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reqitemcount = qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#aaacce83fe56a29eee3663836d784c4bb">RequiredItemCount</a>[j];</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;                <a class="code" href="../../db/d35/_define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> curitemcount = q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#a466999cea52f65bf58916bc34750bf95">ItemCount</a>[j];</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;                <span class="keywordflow">if</span> (curitemcount &lt; reqitemcount)</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;                {</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;                    q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#a466999cea52f65bf58916bc34750bf95">ItemCount</a>[j] = std::min&lt;uint16&gt;(q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#a466999cea52f65bf58916bc34750bf95">ItemCount</a>[j] + count, reqitemcount);</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;                    <a class="code" href="../../d8/d53/class_player.html#af1535e4d884448d3ee3ceb81c5b5feee">m_QuestStatusSave</a>[questid] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;                }</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#aa620106c0c7396e8264a4d8e0e4dc4d9">CanCompleteQuest</a>(questid))</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;                    <a class="code" href="../../d8/d53/class_player.html#a67b53af432006bf83e80cb6991b6e146">CompleteQuest</a>(questid);</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;                    <a class="code" href="../../d8/d53/class_player.html#aa5393bf276b4b3429e7d12263408a90b">AdditionalSavingAddMask</a>(<a class="code" href="../../d1/d39/_player_8h.html#abb6c0419a027f09fbb5016deede34755a0e79848772fb35db024b1d9cfd8a55b2">ADDITIONAL_SAVING_INVENTORY_AND_GOLD</a> | <a class="code" href="../../d1/d39/_player_8h.html#abb6c0419a027f09fbb5016deede34755ae07ddeb5ee480f16943f43b31e53ebba">ADDITIONAL_SAVING_QUEST_STATUS</a>);</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;            }</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;        }</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    }</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a4ed4f2a833a55c6cb2ffc91fb43eb066">UpdateForQuestWorldObjects</a>();</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;}</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160; </div>
<div class="line"><a name="l01822"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a0927f8027a80bf9d43291d73c2556a04"> 1822</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a0927f8027a80bf9d43291d73c2556a04">Player::ItemRemovedQuestCheck</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> entry, <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count)</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;{</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>; ++i)</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    {</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questid = <a class="code" href="../../d8/d53/class_player.html#a78498168eaeb91ca88e76f9e38867213">GetQuestSlotQuestId</a>(i);</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;        <span class="keywordflow">if</span> (!questid)</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160; </div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;        <a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qInfo = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questid);</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;        <span class="keywordflow">if</span> (!qInfo)</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160; </div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;        <span class="keywordflow">if</span> (!qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7ada3e7201a507f2f10de112891952cc9a4f">QUEST_SPECIAL_FLAGS_DELIVER</a>))</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160; </div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a5b538720bd7de8c4468dc6d21b412f10">QUEST_ITEM_OBJECTIVES_COUNT</a>; ++j)</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;        {</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;            <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reqitem = qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#abff147587981d28f9e8034031696a91d">RequiredItemId</a>[j];</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;            <span class="keywordflow">if</span> (reqitem == entry)</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;            {</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;                <a class="code" href="../../de/d05/struct_quest_status_data.html">QuestStatusData</a>&amp; q_status = <a class="code" href="../../d8/d53/class_player.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>[questid];</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;                <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reqitemcount = qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#aaacce83fe56a29eee3663836d784c4bb">RequiredItemCount</a>[j];</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;                <a class="code" href="../../db/d35/_define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> curitemcount = q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#a466999cea52f65bf58916bc34750bf95">ItemCount</a>[j];</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160; </div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;                <span class="keywordflow">if</span> (q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#a466999cea52f65bf58916bc34750bf95">ItemCount</a>[j] &gt;= reqitemcount) <span class="comment">// we may have more than what the status shows</span></div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;                    curitemcount = <a class="code" href="../../d8/d53/class_player.html#a5aa219a691b0c5212fda9de12dfd72e9">GetItemCount</a>(entry, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160; </div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;                <a class="code" href="../../db/d35/_define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> newItemCount = (count &gt; curitemcount) ? 0 : curitemcount - count;</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;                newItemCount = std::min&lt;uint16&gt;(newItemCount, reqitemcount);</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;                <span class="keywordflow">if</span> (newItemCount != q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#a466999cea52f65bf58916bc34750bf95">ItemCount</a>[j])</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;                {</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;                    q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#a466999cea52f65bf58916bc34750bf95">ItemCount</a>[j] = newItemCount;</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;                    <a class="code" href="../../d8/d53/class_player.html#af1535e4d884448d3ee3ceb81c5b5feee">m_QuestStatusSave</a>[questid] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;                    <a class="code" href="../../d8/d53/class_player.html#a23321f70f6954313a691f35ce93d2794">IncompleteQuest</a>(questid);</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;                }</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;            }</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;        }</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;    }</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a4ed4f2a833a55c6cb2ffc91fb43eb066">UpdateForQuestWorldObjects</a>();</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;}</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160; </div>
<div class="line"><a name="l01863"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a60ef0de3403e8c16c065fe12f5f856e5"> 1863</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a60ef0de3403e8c16c065fe12f5f856e5">Player::KilledMonster</a>(<a class="code" href="../../d2/d0b/struct_creature_template.html">CreatureTemplate</a> <span class="keyword">const</span>* cInfo, <a class="code" href="../../d8/d03/class_object_guid.html">ObjectGuid</a> guid)</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;{</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;    <a class="code" href="../../db/d16/_errors_8h.html#af343b20373ba49a92fce523e948f2ab3">ASSERT</a>(cInfo);</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160; </div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    <span class="keywordflow">if</span> (cInfo-&gt;<a class="code" href="../../d2/d0b/struct_creature_template.html#a3f6f92f27a268bc4e3f4d349c633c9f8">Entry</a>)</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a05924f5e9df8d5f06ba422e159a4fd8a">KilledMonsterCredit</a>(cInfo-&gt;<a class="code" href="../../d2/d0b/struct_creature_template.html#a3f6f92f27a268bc4e3f4d349c633c9f8">Entry</a>, guid);</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160; </div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="../../dd/de2/_creature_data_8h.html#a3f331d9e202385f679104cc20ef74c3d">MAX_KILL_CREDIT</a>; ++i)</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;        <span class="keywordflow">if</span> (cInfo-&gt;<a class="code" href="../../d2/d0b/struct_creature_template.html#a8f1f7c9c67532ec302ebeb41b340e287">KillCredit</a>[i])</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#a05924f5e9df8d5f06ba422e159a4fd8a">KilledMonsterCredit</a>(cInfo-&gt;<a class="code" href="../../d2/d0b/struct_creature_template.html#a8f1f7c9c67532ec302ebeb41b340e287">KillCredit</a>[i]);</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;}</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160; </div>
<div class="line"><a name="l01875"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a05924f5e9df8d5f06ba422e159a4fd8a"> 1875</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a05924f5e9df8d5f06ba422e159a4fd8a">Player::KilledMonsterCredit</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> entry, <a class="code" href="../../d8/d03/class_object_guid.html">ObjectGuid</a> guid)</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;{</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> addkillcount = 1;</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> real_entry = entry;</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;    <span class="keywordflow">if</span> (guid)</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    {</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;        <a class="code" href="../../d1/dac/class_creature.html">Creature</a>* killed = <a class="code" href="../../db/df7/class_world_object.html#a76c507a1b3adcebf2732572bc6b67fe0">GetMap</a>()-&gt;<a class="code" href="../../dd/d11/class_map.html#a9c20f696cb8109183fbd81b13848b050">GetCreature</a>(guid);</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;        <span class="keywordflow">if</span> (killed &amp;&amp; killed-&gt;<a class="code" href="../../d8/d83/class_object.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>())</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;            real_entry = killed-&gt;<a class="code" href="../../d8/d83/class_object.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>();</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    }</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160; </div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a10c732bc343e1f9b0de50865bb2ba577">StartTimedAchievement</a>(<a class="code" href="../../dc/d6e/_d_b_c_enums_8h.html#a282f094fb8ee80177dd57d2086ddd35ba62265ea91045a63323e2cb65f78e88c1">ACHIEVEMENT_TIMED_TYPE_CREATURE</a>, real_entry);   <span class="comment">// MUST BE CALLED FIRST</span></div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a04bc54fb5b9161aa37fc07524af92634">UpdateAchievementCriteria</a>(<a class="code" href="../../dc/d6e/_d_b_c_enums_8h.html#a796cde2fc6e2eaed4c657203ed43cd19ac4c7bccbf435b49105604debea36e251">ACHIEVEMENT_CRITERIA_TYPE_KILL_CREATURE</a>, real_entry, addkillcount, guid ? <a class="code" href="../../db/df7/class_world_object.html#a76c507a1b3adcebf2732572bc6b67fe0">GetMap</a>()-&gt;<a class="code" href="../../d4/d27/namespace_object_accessor.html#ae42e503fe79bbeaea1aaa665418c43f8">GetCreature</a>(guid) : <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160; </div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>; ++i)</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;    {</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questid = <a class="code" href="../../d8/d53/class_player.html#a78498168eaeb91ca88e76f9e38867213">GetQuestSlotQuestId</a>(i);</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;        <span class="keywordflow">if</span> (!questid)</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160; </div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;        <a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qInfo = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questid);</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;        <span class="keywordflow">if</span> (!qInfo)</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;        <span class="comment">// just if !ingroup || !noraidgroup || raidgroup</span></div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;        <span class="comment">// xinef: or is pvp quest, and player in BG/BF group</span></div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;        <a class="code" href="../../de/d05/struct_quest_status_data.html">QuestStatusData</a>&amp; q_status = <a class="code" href="../../d8/d53/class_player.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>[questid];</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;        <span class="keywordflow">if</span> (q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> == <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a> &amp;&amp; (!<a class="code" href="../../d8/d53/class_player.html#a3acf7eadb0ec1ae686858ea11ee87302">GetGroup</a>() || !<a class="code" href="../../d8/d53/class_player.html#a3acf7eadb0ec1ae686858ea11ee87302">GetGroup</a>()-&gt;isRaidGroup() || qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#ad0a6cd3d42bc80ab0a3f5472cbf24b8b">IsAllowedInRaid</a>(<a class="code" href="../../db/df7/class_world_object.html#a76c507a1b3adcebf2732572bc6b67fe0">GetMap</a>()-&gt;<a class="code" href="../../d8/d53/class_player.html#a4e146717e02e530b473d147e6c650ff4">GetDifficulty</a>()) ||</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;                                                           (qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#af7ac2e2789dc06f793ee19f7cbae4a41">IsPVPQuest</a>() &amp;&amp; (<a class="code" href="../../d8/d53/class_player.html#a3acf7eadb0ec1ae686858ea11ee87302">GetGroup</a>()-&gt;isBFGroup() || <a class="code" href="../../d8/d53/class_player.html#a3acf7eadb0ec1ae686858ea11ee87302">GetGroup</a>()-&gt;isBGGroup()))))</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;        {</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d7d/_script_mgr_8h.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;PassedQuestKilledMonsterCredit(<span class="keyword">this</span>, qInfo, entry, real_entry, guid))</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160; </div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;            <span class="keywordflow">if</span> (qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7ada733d4cbb745e91f0d9b144facca67b27">QUEST_SPECIAL_FLAGS_KILL</a>) <span class="comment">/*&amp;&amp; !qInfo-&gt;HasSpecialFlag(QUEST_SPECIAL_FLAGS_CAST)*/</span>)</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;            {</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a7dab6182ee1bbabf205ed30f9c2d6c8b">QUEST_OBJECTIVES_COUNT</a>; ++j)</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;                {</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;                    <span class="comment">// skip GO activate objective or none</span></div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;                    <span class="keywordflow">if</span> (qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a136c35d22865c4d7a8199f754977c768">RequiredNpcOrGo</a>[j] &lt;= 0)</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160; </div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;                    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reqkill = qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a136c35d22865c4d7a8199f754977c768">RequiredNpcOrGo</a>[j];</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160; </div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;                    <span class="keywordflow">if</span> (reqkill == real_entry)</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;                    {</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;                        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reqkillcount = qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a26795fa9c5daf20043c08171c75672c9">RequiredNpcOrGoCount</a>[j];</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;                        <a class="code" href="../../db/d35/_define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> curkillcount = q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#aa5892dc0744a41ac565568307f12ad35">CreatureOrGOCount</a>[j];</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;                        <span class="keywordflow">if</span> (curkillcount &lt; reqkillcount)</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;                        {</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;                            q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#aa5892dc0744a41ac565568307f12ad35">CreatureOrGOCount</a>[j] = curkillcount + addkillcount;</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160; </div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;                            <a class="code" href="../../d8/d53/class_player.html#af1535e4d884448d3ee3ceb81c5b5feee">m_QuestStatusSave</a>[questid] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160; </div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;                            <a class="code" href="../../d8/d53/class_player.html#a3d425ac6fd9142a4e2bade0d6db6c254">SendQuestUpdateAddCreatureOrGo</a>(qInfo, guid, j, curkillcount, addkillcount);</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;                        }</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#aa620106c0c7396e8264a4d8e0e4dc4d9">CanCompleteQuest</a>(questid))</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;                            <a class="code" href="../../d8/d53/class_player.html#a67b53af432006bf83e80cb6991b6e146">CompleteQuest</a>(questid);</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;                            <a class="code" href="../../d8/d53/class_player.html#aa5393bf276b4b3429e7d12263408a90b">AdditionalSavingAddMask</a>(<a class="code" href="../../d1/d39/_player_8h.html#abb6c0419a027f09fbb5016deede34755ae07ddeb5ee480f16943f43b31e53ebba">ADDITIONAL_SAVING_QUEST_STATUS</a>);</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160; </div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;                        <span class="comment">// same objective target can be in many active quests, but not in 2 objectives for single quest (code optimization).</span></div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;                    }</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;                }</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;            }</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;        }</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;    }</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;}</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160; </div>
<div class="line"><a name="l01943"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a803dcde80afc11ca53fbee4d4e0d22f7"> 1943</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a803dcde80afc11ca53fbee4d4e0d22f7">Player::KilledPlayerCredit</a>()</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;{</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> addkillcount = 1;</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160; </div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>; ++i)</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;    {</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questid = <a class="code" href="../../d8/d53/class_player.html#a78498168eaeb91ca88e76f9e38867213">GetQuestSlotQuestId</a>(i);</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;        <span class="keywordflow">if</span> (!questid)</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160; </div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;        <a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qInfo = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questid);</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;        <span class="keywordflow">if</span> (!qInfo)</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;        <span class="comment">// just if !ingroup || !noraidgroup || raidgroup</span></div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;        <a class="code" href="../../de/d05/struct_quest_status_data.html">QuestStatusData</a>&amp; q_status = <a class="code" href="../../d8/d53/class_player.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>[questid];</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;        <span class="keywordflow">if</span> (q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> == <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a> &amp;&amp; (!<a class="code" href="../../d8/d53/class_player.html#a3acf7eadb0ec1ae686858ea11ee87302">GetGroup</a>() || !<a class="code" href="../../d8/d53/class_player.html#a3acf7eadb0ec1ae686858ea11ee87302">GetGroup</a>()-&gt;isRaidGroup() || qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#ad0a6cd3d42bc80ab0a3f5472cbf24b8b">IsAllowedInRaid</a>(<a class="code" href="../../db/df7/class_world_object.html#a76c507a1b3adcebf2732572bc6b67fe0">GetMap</a>()-&gt;<a class="code" href="../../d8/d53/class_player.html#a4e146717e02e530b473d147e6c650ff4">GetDifficulty</a>())))</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;        {</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;            <span class="comment">// Xinef: PvP Killing quest require player to be in same zone as quest zone (only 2 quests so no doubt, can be extended to conditions in cata ;s)</span></div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;            <span class="keywordflow">if</span> (qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7adaf684e0d6b4efab2cf6a32452b9bba335">QUEST_SPECIAL_FLAGS_PLAYER_KILL</a>) &amp;&amp; (qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a72ab8dd7b90b7aaf183a11e9da4cdcaf">GetZoneOrSort</a>() &gt;= 0 &amp;&amp; <a class="code" href="../../db/df7/class_world_object.html#ad498d690fbe69bb99a8a2ffdcb2f5169">GetZoneId</a>() == <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a72ab8dd7b90b7aaf183a11e9da4cdcaf">GetZoneOrSort</a>())))</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;            {</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;                <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reqkill = qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a910f66ebd4b91d594dab6e6227ad2917">GetPlayersSlain</a>();</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;                <a class="code" href="../../db/d35/_define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> curkill = q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#a170a1e54fe45b7fd0c7934f1309f7969">PlayerCount</a>;</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160; </div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;                <span class="keywordflow">if</span> (curkill &lt; reqkill)</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;                {</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;                    q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#a170a1e54fe45b7fd0c7934f1309f7969">PlayerCount</a> = curkill + addkillcount;</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160; </div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;                    <a class="code" href="../../d8/d53/class_player.html#af1535e4d884448d3ee3ceb81c5b5feee">m_QuestStatusSave</a>[questid] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160; </div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;                    <a class="code" href="../../d8/d53/class_player.html#aea4d1caa45ca6a98450bf7c9032cf35b">SendQuestUpdateAddPlayer</a>(qInfo, curkill, addkillcount);</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;                }</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160; </div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#aa620106c0c7396e8264a4d8e0e4dc4d9">CanCompleteQuest</a>(questid))</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;                    <a class="code" href="../../d8/d53/class_player.html#a67b53af432006bf83e80cb6991b6e146">CompleteQuest</a>(questid);</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160; </div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;            }</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;        }</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;    }</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;}</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160; </div>
<div class="line"><a name="l01984"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#ac1e9eaf17709fa3fec00fc2356ead46b"> 1984</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#ac1e9eaf17709fa3fec00fc2356ead46b">Player::KillCreditGO</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> entry, <a class="code" href="../../d8/d03/class_object_guid.html">ObjectGuid</a> guid)</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;{</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> addCastCount = 1;</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>; ++i)</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    {</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questid = <a class="code" href="../../d8/d53/class_player.html#a78498168eaeb91ca88e76f9e38867213">GetQuestSlotQuestId</a>(i);</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;        <span class="keywordflow">if</span> (!questid)</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160; </div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;        <a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qInfo = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questid);</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;        <span class="keywordflow">if</span> (!qInfo)</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160; </div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;        <a class="code" href="../../de/d05/struct_quest_status_data.html">QuestStatusData</a>&amp; q_status = <a class="code" href="../../d8/d53/class_player.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>[questid];</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160; </div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;        <span class="keywordflow">if</span> (q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> == <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a>)</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;        {</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;            <span class="keywordflow">if</span> (qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7ada271648005ec2e602447056fbb91593ce">QUEST_SPECIAL_FLAGS_CAST</a>) <span class="comment">/*&amp;&amp; !qInfo-&gt;HasSpecialFlag(QUEST_SPECIAL_FLAGS_KILL)*/</span>)</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;            {</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a7dab6182ee1bbabf205ed30f9c2d6c8b">QUEST_OBJECTIVES_COUNT</a>; ++j)</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;                {</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;                    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reqTarget = 0;</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160; </div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;                    <span class="comment">// GO activate objective</span></div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;                    <span class="keywordflow">if</span> (qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a136c35d22865c4d7a8199f754977c768">RequiredNpcOrGo</a>[j] &lt; 0)</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;                        <span class="comment">// checked at quest_template loading</span></div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;                        reqTarget = - qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a136c35d22865c4d7a8199f754977c768">RequiredNpcOrGo</a>[j];</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160; </div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;                    <span class="comment">// other not this creature/GO related objectives</span></div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;                    <span class="keywordflow">if</span> (reqTarget != entry)</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160; </div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;                    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reqCastCount = qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a26795fa9c5daf20043c08171c75672c9">RequiredNpcOrGoCount</a>[j];</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;                    <a class="code" href="../../db/d35/_define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> curCastCount = q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#aa5892dc0744a41ac565568307f12ad35">CreatureOrGOCount</a>[j];</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;                    <span class="keywordflow">if</span> (curCastCount &lt; reqCastCount)</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;                    {</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;                        q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#aa5892dc0744a41ac565568307f12ad35">CreatureOrGOCount</a>[j] = curCastCount + addCastCount;</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160; </div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;                        <a class="code" href="../../d8/d53/class_player.html#af1535e4d884448d3ee3ceb81c5b5feee">m_QuestStatusSave</a>[questid] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160; </div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;                        <a class="code" href="../../d8/d53/class_player.html#a3d425ac6fd9142a4e2bade0d6db6c254">SendQuestUpdateAddCreatureOrGo</a>(qInfo, guid, j, curCastCount, addCastCount);</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;                    }</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160; </div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#aa620106c0c7396e8264a4d8e0e4dc4d9">CanCompleteQuest</a>(questid))</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;                        <a class="code" href="../../d8/d53/class_player.html#a67b53af432006bf83e80cb6991b6e146">CompleteQuest</a>(questid);</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;                        <a class="code" href="../../d8/d53/class_player.html#aa5393bf276b4b3429e7d12263408a90b">AdditionalSavingAddMask</a>(<a class="code" href="../../d1/d39/_player_8h.html#abb6c0419a027f09fbb5016deede34755ae07ddeb5ee480f16943f43b31e53ebba">ADDITIONAL_SAVING_QUEST_STATUS</a>);</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160; </div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;                    <span class="comment">// same objective target can be in many active quests, but not in 2 objectives for single quest (code optimization).</span></div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;                }</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;            }</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;        }</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;    }</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;}</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160; </div>
<div class="line"><a name="l02040"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a4c174e400f1b0df0ec02141d92ab87b2"> 2040</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a4c174e400f1b0df0ec02141d92ab87b2">Player::TalkedToCreature</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> entry, <a class="code" href="../../d8/d03/class_object_guid.html">ObjectGuid</a> guid)</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;{</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> addTalkCount = 1;</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>; ++i)</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;    {</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questid = <a class="code" href="../../d8/d53/class_player.html#a78498168eaeb91ca88e76f9e38867213">GetQuestSlotQuestId</a>(i);</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;        <span class="keywordflow">if</span> (!questid)</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160; </div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;        <a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qInfo = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questid);</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;        <span class="keywordflow">if</span> (!qInfo)</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160; </div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;        <a class="code" href="../../de/d05/struct_quest_status_data.html">QuestStatusData</a>&amp; q_status = <a class="code" href="../../d8/d53/class_player.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>[questid];</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160; </div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;        <span class="keywordflow">if</span> (q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> == <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a>)</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;        {</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;            <span class="keywordflow">if</span> (qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a05ddbc59016a0b68fd2fea8a694bbc99">HasSpecialFlag</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7ada733d4cbb745e91f0d9b144facca67b27">QUEST_SPECIAL_FLAGS_KILL</a> | <a class="code" href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7ada271648005ec2e602447056fbb91593ce">QUEST_SPECIAL_FLAGS_CAST</a> | <a class="code" href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7adaae331a9f2b83cc198f7bdd130fc3c8d8">QUEST_SPECIAL_FLAGS_SPEAKTO</a>))</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;            {</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a7dab6182ee1bbabf205ed30f9c2d6c8b">QUEST_OBJECTIVES_COUNT</a>; ++j)</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;                {</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;                    <span class="comment">// skip Gameobject objectives</span></div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;                    <span class="keywordflow">if</span> (qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a136c35d22865c4d7a8199f754977c768">RequiredNpcOrGo</a>[j] &lt; 0)</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160; </div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;                    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reqTarget = 0;</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160; </div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;                    <span class="keywordflow">if</span> (qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a136c35d22865c4d7a8199f754977c768">RequiredNpcOrGo</a>[j] &gt; 0)    <span class="comment">// creature activate objectives</span></div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;                        <span class="comment">// checked at quest_template loading</span></div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;                        reqTarget = qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a136c35d22865c4d7a8199f754977c768">RequiredNpcOrGo</a>[j];</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160; </div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;                    <span class="keywordflow">if</span> (reqTarget == entry)</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;                    {</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;                        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reqTalkCount = qInfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a26795fa9c5daf20043c08171c75672c9">RequiredNpcOrGoCount</a>[j];</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;                        <a class="code" href="../../db/d35/_define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> curTalkCount = q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#aa5892dc0744a41ac565568307f12ad35">CreatureOrGOCount</a>[j];</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;                        <span class="keywordflow">if</span> (curTalkCount &lt; reqTalkCount)</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;                        {</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;                            q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#aa5892dc0744a41ac565568307f12ad35">CreatureOrGOCount</a>[j] = curTalkCount + addTalkCount;</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160; </div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;                            <a class="code" href="../../d8/d53/class_player.html#af1535e4d884448d3ee3ceb81c5b5feee">m_QuestStatusSave</a>[questid] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160; </div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;                            <a class="code" href="../../d8/d53/class_player.html#a3d425ac6fd9142a4e2bade0d6db6c254">SendQuestUpdateAddCreatureOrGo</a>(qInfo, guid, j, curTalkCount, addTalkCount);</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;                        }</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#aa620106c0c7396e8264a4d8e0e4dc4d9">CanCompleteQuest</a>(questid))</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;                            <a class="code" href="../../d8/d53/class_player.html#a67b53af432006bf83e80cb6991b6e146">CompleteQuest</a>(questid);</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;                            <a class="code" href="../../d8/d53/class_player.html#aa5393bf276b4b3429e7d12263408a90b">AdditionalSavingAddMask</a>(<a class="code" href="../../d1/d39/_player_8h.html#abb6c0419a027f09fbb5016deede34755ae07ddeb5ee480f16943f43b31e53ebba">ADDITIONAL_SAVING_QUEST_STATUS</a>);</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160; </div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;                        <span class="comment">// same objective target can be in many active quests, but not in 2 objectives for single quest (code optimization).</span></div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;                    }</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;                }</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;            }</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;        }</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;    }</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;}</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160; </div>
<div class="line"><a name="l02099"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#ab941b16982ef92a3ce3f62b7b861ea61"> 2099</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#ab941b16982ef92a3ce3f62b7b861ea61">Player::MoneyChanged</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count)</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;{</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>; ++i)</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;    {</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questid = <a class="code" href="../../d8/d53/class_player.html#a78498168eaeb91ca88e76f9e38867213">GetQuestSlotQuestId</a>(i);</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;        <span class="keywordflow">if</span> (!questid)</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160; </div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qInfo = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questid))</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;        {</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;            <a class="code" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> rewOrReqMoney = qInfo-&gt;GetRewOrReqMoney();</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;            <span class="keywordflow">if</span> (rewOrReqMoney &lt; 0)</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;            {</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;                <a class="code" href="../../de/d05/struct_quest_status_data.html">QuestStatusData</a>&amp; q_status = <a class="code" href="../../d8/d53/class_player.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>[questid];</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160; </div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;                <span class="keywordflow">if</span> (q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> == <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a>)</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;                {</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(count) &gt;= -rewOrReqMoney)</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;                    {</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#aa620106c0c7396e8264a4d8e0e4dc4d9">CanCompleteQuest</a>(questid))</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;                        {</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;                            <a class="code" href="../../d8/d53/class_player.html#a67b53af432006bf83e80cb6991b6e146">CompleteQuest</a>(questid);</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;                        }</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;                    }</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;                }</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> == <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8ae1b2fe2d9de28cc70b59a4bdd5f0abed">QUEST_STATUS_COMPLETE</a>)</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;                {</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(count) &lt; -rewOrReqMoney)</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;                    {</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;                        <a class="code" href="../../d8/d53/class_player.html#a23321f70f6954313a691f35ce93d2794">IncompleteQuest</a>(questid);</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;                    }</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;                }</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;            }</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;        }</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;    }</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;}</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160; </div>
<div class="line"><a name="l02136"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a027311c87a87395ab2c6950d17cbf5cb"> 2136</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a027311c87a87395ab2c6950d17cbf5cb">Player::ReputationChanged</a>(<a class="code" href="../../d0/d40/struct_faction_entry.html">FactionEntry</a> <span class="keyword">const</span>* factionEntry)</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;{</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>; ++i)</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;    {</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questid = <a class="code" href="../../d8/d53/class_player.html#a78498168eaeb91ca88e76f9e38867213">GetQuestSlotQuestId</a>(i))</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;        {</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qInfo = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questid))</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;            {</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;                <span class="keywordflow">if</span> (qInfo-&gt;GetRepObjectiveFaction() == factionEntry-&gt;<a class="code" href="../../d0/d40/struct_faction_entry.html#a1953f7a343201113dae80cdd97e1ac90">ID</a>)</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;                {</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;                    <a class="code" href="../../de/d05/struct_quest_status_data.html">QuestStatusData</a>&amp; q_status = <a class="code" href="../../d8/d53/class_player.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>[questid];</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;                    <span class="keywordflow">if</span> (q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> == <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a>)</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;                    {</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#a06adafbf0eb3a828dfc0049cc81ca31c">GetReputationMgr</a>().<a class="code" href="../../d8/d53/class_player.html#ab0dd4a3587adde29c041c1d403d676e3">GetReputation</a>(factionEntry) &gt;= qInfo-&gt;GetRepObjectiveValue())</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;                            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#aa620106c0c7396e8264a4d8e0e4dc4d9">CanCompleteQuest</a>(questid))</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;                                <a class="code" href="../../d8/d53/class_player.html#a67b53af432006bf83e80cb6991b6e146">CompleteQuest</a>(questid);</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;                    }</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> == <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8ae1b2fe2d9de28cc70b59a4bdd5f0abed">QUEST_STATUS_COMPLETE</a>)</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;                    {</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#a06adafbf0eb3a828dfc0049cc81ca31c">GetReputationMgr</a>().<a class="code" href="../../d8/d53/class_player.html#ab0dd4a3587adde29c041c1d403d676e3">GetReputation</a>(factionEntry) &lt; qInfo-&gt;GetRepObjectiveValue())</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;                            <a class="code" href="../../d8/d53/class_player.html#a23321f70f6954313a691f35ce93d2794">IncompleteQuest</a>(questid);</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;                    }</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;                }</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;            }</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;        }</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;    }</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;}</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160; </div>
<div class="line"><a name="l02164"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a3aaa65265268e0e56812f64009d8b5cd"> 2164</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a3aaa65265268e0e56812f64009d8b5cd">Player::ReputationChanged2</a>(<a class="code" href="../../d0/d40/struct_faction_entry.html">FactionEntry</a> <span class="keyword">const</span>* factionEntry)</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;{</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>; ++i)</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;    {</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questid = <a class="code" href="../../d8/d53/class_player.html#a78498168eaeb91ca88e76f9e38867213">GetQuestSlotQuestId</a>(i))</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;        {</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qInfo = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questid))</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;            {</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;                <span class="keywordflow">if</span> (qInfo-&gt;GetRepObjectiveFaction2() == factionEntry-&gt;<a class="code" href="../../d0/d40/struct_faction_entry.html#a1953f7a343201113dae80cdd97e1ac90">ID</a>)</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;                {</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;                    <a class="code" href="../../de/d05/struct_quest_status_data.html">QuestStatusData</a>&amp; q_status = <a class="code" href="../../d8/d53/class_player.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>[questid];</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;                    <span class="keywordflow">if</span> (q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> == <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a>)</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;                    {</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#a06adafbf0eb3a828dfc0049cc81ca31c">GetReputationMgr</a>().<a class="code" href="../../d8/d53/class_player.html#ab0dd4a3587adde29c041c1d403d676e3">GetReputation</a>(factionEntry) &gt;= qInfo-&gt;GetRepObjectiveValue2())</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;                            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#aa620106c0c7396e8264a4d8e0e4dc4d9">CanCompleteQuest</a>(questid))</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;                                <a class="code" href="../../d8/d53/class_player.html#a67b53af432006bf83e80cb6991b6e146">CompleteQuest</a>(questid);</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;                    }</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> == <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8ae1b2fe2d9de28cc70b59a4bdd5f0abed">QUEST_STATUS_COMPLETE</a>)</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;                    {</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#a06adafbf0eb3a828dfc0049cc81ca31c">GetReputationMgr</a>().<a class="code" href="../../d8/d53/class_player.html#ab0dd4a3587adde29c041c1d403d676e3">GetReputation</a>(factionEntry) &lt; qInfo-&gt;GetRepObjectiveValue2())</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;                            <a class="code" href="../../d8/d53/class_player.html#a23321f70f6954313a691f35ce93d2794">IncompleteQuest</a>(questid);</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;                    }</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;                }</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;            }</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;        }</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;    }</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;}</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160; </div>
<div class="line"><a name="l02192"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a154dcd260829c16a4881fc9c5e8e9629"> 2192</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#a154dcd260829c16a4881fc9c5e8e9629">Player::HasQuestForItem</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> itemid, <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> excludeQuestId <span class="comment">/* 0 */</span>, <span class="keywordtype">bool</span> turnIn <span class="comment">/* false */</span>, <span class="keywordtype">bool</span>* showInLoot <span class="comment">/*= nullptr*/</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>; ++i)</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;    {</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questid = <a class="code" href="../../d8/d53/class_player.html#a78498168eaeb91ca88e76f9e38867213">GetQuestSlotQuestId</a>(i);</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;        <span class="keywordflow">if</span> (questid == 0 || questid == excludeQuestId)</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160; </div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;        QuestStatusMap::const_iterator qs_itr = <a class="code" href="../../d8/d53/class_player.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.find(questid);</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;        <span class="keywordflow">if</span> (qs_itr == <a class="code" href="../../d8/d53/class_player.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">m_QuestStatus</a>.end())</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160; </div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;        <a class="code" href="../../de/d05/struct_quest_status_data.html">QuestStatusData</a> <span class="keyword">const</span>&amp; q_status = qs_itr-&gt;second;</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160; </div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;        <span class="keywordflow">if</span> ((q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> == <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a>) || (turnIn &amp;&amp; q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#a4ce7af3a64737d7961b6dfa19189c932">Status</a> == <a class="code" href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8ae1b2fe2d9de28cc70b59a4bdd5f0abed">QUEST_STATUS_COMPLETE</a>))</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;        {</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;            <a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* qinfo = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questid);</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;            <span class="keywordflow">if</span> (!qinfo)</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160; </div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;            <span class="comment">// hide quest if player is in raid-group and quest is no raid quest</span></div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#a3acf7eadb0ec1ae686858ea11ee87302">GetGroup</a>() &amp;&amp; <a class="code" href="../../d8/d53/class_player.html#a3acf7eadb0ec1ae686858ea11ee87302">GetGroup</a>()-&gt;isRaidGroup() &amp;&amp; !qinfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#ad0a6cd3d42bc80ab0a3f5472cbf24b8b">IsAllowedInRaid</a>(<a class="code" href="../../db/df7/class_world_object.html#a76c507a1b3adcebf2732572bc6b67fe0">GetMap</a>()-&gt;<a class="code" href="../../d8/d53/class_player.html#a4e146717e02e530b473d147e6c650ff4">GetDifficulty</a>()))</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d53/class_player.html#a467189aea8a8fb26ef8482254e6f2b34">InBattleground</a>()) <span class="comment">//there are two ways.. we can make every bg-quest a raidquest, or add this code here.. i don&#39;t know if this can be exploited by other quests, but i think all other quests depend on a specific area.. but keep this in mind, if something strange happens later</span></div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160; </div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;            <span class="comment">// There should be no mixed ReqItem/ReqSource drop</span></div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;            <span class="comment">// This part for ReqItem drop</span></div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a5b538720bd7de8c4468dc6d21b412f10">QUEST_ITEM_OBJECTIVES_COUNT</a>; ++j)</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;            {</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;                <span class="keywordflow">if</span> (itemid == qinfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#abff147587981d28f9e8034031696a91d">RequiredItemId</a>[j] &amp;&amp; q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#a466999cea52f65bf58916bc34750bf95">ItemCount</a>[j] &lt; qinfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#aaacce83fe56a29eee3663836d784c4bb">RequiredItemCount</a>[j])</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;                {</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;                    <span class="keywordflow">if</span> (showInLoot)</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;                    {</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#a5aa219a691b0c5212fda9de12dfd72e9">GetItemCount</a>(itemid, <span class="keyword">true</span>) &lt; qinfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#aaacce83fe56a29eee3663836d784c4bb">RequiredItemCount</a>[j])</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;                        {</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;                            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;                        }</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160; </div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;                        *showInLoot = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;                    }</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;                    {</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;                    }</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;                }</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160; </div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;                <span class="keywordflow">if</span> (turnIn &amp;&amp; q_status.<a class="code" href="../../de/d05/struct_quest_status_data.html#a466999cea52f65bf58916bc34750bf95">ItemCount</a>[j] &gt;= qinfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#aaacce83fe56a29eee3663836d784c4bb">RequiredItemCount</a>[j])</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;                {</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;                }</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;            }</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;            <span class="comment">// This part - for ReqSource</span></div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#acf2c83159c7b7d9270380dafa7ab8d11">QUEST_SOURCE_ITEM_IDS_COUNT</a>; ++j)</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;            {</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;                <span class="comment">// examined item is a source item</span></div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;                <span class="keywordflow">if</span> (qinfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a5f22941fdb30fd269c0cf7ddab97e918">ItemDrop</a>[j] == itemid)</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;                {</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;                    <a class="code" href="../../da/d61/struct_item_template.html">ItemTemplate</a> <span class="keyword">const</span>* pProto = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplate(itemid);</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;                    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> ownedCount = <a class="code" href="../../d8/d53/class_player.html#a5aa219a691b0c5212fda9de12dfd72e9">GetItemCount</a>(itemid, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;                    <span class="comment">// &#39;unique&#39; item</span></div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;                    <span class="keywordflow">if</span> ((pProto-&gt;<a class="code" href="../../da/d61/struct_item_template.html#a2c13c4c1edbd3add9c6e0e2263f6c717">MaxCount</a> &amp;&amp; <a class="code" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(ownedCount) &lt; pProto-&gt;<a class="code" href="../../da/d61/struct_item_template.html#a2c13c4c1edbd3add9c6e0e2263f6c717">MaxCount</a>) || (turnIn &amp;&amp; <a class="code" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(ownedCount) &gt;= pProto-&gt;<a class="code" href="../../da/d61/struct_item_template.html#a2c13c4c1edbd3add9c6e0e2263f6c717">MaxCount</a>))</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160; </div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;                    <span class="comment">// allows custom amount drop when not 0</span></div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;                    <span class="keywordflow">if</span> (qinfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a05de2206c2a4c7761851f87c81842ace">ItemDropQuantity</a>[j])</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;                    {</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;                        <span class="keywordflow">if</span> ((ownedCount &lt; qinfo-&gt;ItemDropQuantity[j]) || (turnIn &amp;&amp; ownedCount &gt;= qinfo-&gt;<a class="code" href="../../d8/d63/class_quest.html#a05de2206c2a4c7761851f87c81842ace">ItemDropQuantity</a>[j]))</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;                            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;                    }</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ownedCount &lt; pProto-&gt;GetMaxStackSize())</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;                }</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;            }</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;        }</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;    }</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;}</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160; </div>
<div class="line"><a name="l02270"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a9e99ee8e3d5603c86e5ed99bb1d233ee"> 2270</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a9e99ee8e3d5603c86e5ed99bb1d233ee">Player::SendQuestComplete</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id)</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;{</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;    <span class="keywordflow">if</span> (quest_id)</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;    {</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;        <a class="code" href="../../d6/d1a/class_world_packet.html">WorldPacket</a> data(<a class="code" href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9bad966b4945954bdffc0b71a71ebb4b4c3">SMSG_QUESTUPDATE_COMPLETE</a>, 4);</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;        data &lt;&lt; <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest_id);</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a1c212b8f9ae8b1a38a41f9c7db005dca">GetSession</a>()-&gt;<a class="code" href="../../d1/d47/class_world_session.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;network&quot;</span>, <span class="stringliteral">&quot;WORLD: Sent SMSG_QUESTUPDATE_COMPLETE quest = %u&quot;</span>, quest_id);</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;    }</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;}</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160; </div>
<div class="line"><a name="l02281"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a722631a3f64dd62b5f8db9114051e4cf"> 2281</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a722631a3f64dd62b5f8db9114051e4cf">Player::SendQuestReward</a>(<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* quest, <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> XP)</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;{</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questid = quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>();</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;network&quot;</span>, <span class="stringliteral">&quot;WORLD: Sent SMSG_QUESTGIVER_QUEST_COMPLETE quest = %u&quot;</span>, questid);</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;    <a class="code" href="../../d8/d13/_game_event_mgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a>-&gt;HandleQuestComplete(questid);</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;    <a class="code" href="../../d6/d1a/class_world_packet.html">WorldPacket</a> data(<a class="code" href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9baf86976d74ca377eacfd672c0ee2d3e45">SMSG_QUESTGIVER_QUEST_COMPLETE</a>, (4 + 4 + 4 + 4 + 4));</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;    data &lt;&lt; <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(questid);</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160; </div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/db7/class_unit.html#adc6d98745d565970b4a89088ec5b5a42">getLevel</a>() &lt; <a class="code" href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code" href="../../d2/d80/_i_world_8h.html#a17aac4c166ebe43e3b8fdccf9e012e41a6684273cdd36b9b8215844fc51358ae1">CONFIG_MAX_PLAYER_LEVEL</a>))</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;    {</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;        data &lt;&lt; <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(XP);</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;        data &lt;&lt; <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a31e2d6f7391effd1a8c3a28ee81dec62">GetRewOrReqMoney</a>(<span class="keyword">this</span>));</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;    }</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;    {</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;        data &lt;&lt; <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;        data &lt;&lt; <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a31e2d6f7391effd1a8c3a28ee81dec62">GetRewOrReqMoney</a>(<span class="keyword">this</span>) + quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a0ce0eac987fc5e0d7424d05d3e36ceca">GetRewMoneyMaxLevel</a>());</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;    }</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160; </div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;    data &lt;&lt; <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(10 * quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a93e369e74db8a06214df0ded5731e925">CalculateHonorGain</a>(<a class="code" href="../../d8/d53/class_player.html#a12c144fe6e00820ed8929e0547ab04f3">GetQuestLevel</a>(quest)));</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;    data &lt;&lt; <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#aefa1e253b25eb7e6a0239f14dda98ffc">GetBonusTalents</a>());              <span class="comment">// bonus talents</span></div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;    data &lt;&lt; <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a040b23aa9d248980540640a5dcac3cf5">GetRewArenaPoints</a>());</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a1c212b8f9ae8b1a38a41f9c7db005dca">GetSession</a>()-&gt;<a class="code" href="../../d1/d47/class_world_session.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;}</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160; </div>
<div class="line"><a name="l02306"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a6b0668bfae62da5119dbc080d2c3c7f5"> 2306</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a6b0668bfae62da5119dbc080d2c3c7f5">Player::SendQuestFailed</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId, <a class="code" href="../../da/d43/_item_8h.html#a73617af2b3e5e935646638fa13678391">InventoryResult</a> reason)</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;{</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;    <span class="keywordflow">if</span> (questId)</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;    {</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;        <a class="code" href="../../d6/d1a/class_world_packet.html">WorldPacket</a> data(<a class="code" href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9ba4857f7dedd8750bcf0de224609705ac7">SMSG_QUESTGIVER_QUEST_FAILED</a>, 4 + 4);</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;        data &lt;&lt; <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(questId);</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;        data &lt;&lt; <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(reason);                             <span class="comment">// failed reason (valid reasons: 4, 16, 50, 17, 74, other values show default message)</span></div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a1c212b8f9ae8b1a38a41f9c7db005dca">GetSession</a>()-&gt;<a class="code" href="../../d1/d47/class_world_session.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;network&quot;</span>, <span class="stringliteral">&quot;WORLD: Sent SMSG_QUESTGIVER_QUEST_FAILED&quot;</span>);</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;    }</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;}</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160; </div>
<div class="line"><a name="l02318"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a572b6465151408484c3bf84bb3f946a3"> 2318</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a572b6465151408484c3bf84bb3f946a3">Player::SendQuestTimerFailed</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id)</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;{</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;    <span class="keywordflow">if</span> (quest_id)</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;    {</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;        <a class="code" href="../../d6/d1a/class_world_packet.html">WorldPacket</a> data(<a class="code" href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9bae94543520cb50237ff53ca89a622fe28">SMSG_QUESTUPDATE_FAILEDTIMER</a>, 4);</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;        data &lt;&lt; <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest_id);</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a1c212b8f9ae8b1a38a41f9c7db005dca">GetSession</a>()-&gt;<a class="code" href="../../d1/d47/class_world_session.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;network&quot;</span>, <span class="stringliteral">&quot;WORLD: Sent SMSG_QUESTUPDATE_FAILEDTIMER&quot;</span>);</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;    }</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;}</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160; </div>
<div class="line"><a name="l02329"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a92f5f639ef225763dba03e9308054f39"> 2329</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a92f5f639ef225763dba03e9308054f39">Player::SendCanTakeQuestResponse</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> msg)<span class="keyword"> const</span></div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;    <a class="code" href="../../d6/d1a/class_world_packet.html">WorldPacket</a> data(<a class="code" href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9ba7a952d47f9cef9c114ef64e1e854eecc">SMSG_QUESTGIVER_QUEST_INVALID</a>, 4);</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;    data &lt;&lt; <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(msg);</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a1c212b8f9ae8b1a38a41f9c7db005dca">GetSession</a>()-&gt;<a class="code" href="../../d1/d47/class_world_session.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;network&quot;</span>, <span class="stringliteral">&quot;WORLD: Sent SMSG_QUESTGIVER_QUEST_INVALID&quot;</span>);</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;}</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160; </div>
<div class="line"><a name="l02337"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a4421205f8ff8c57dd0c7aa2eae0ba4a2"> 2337</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a4421205f8ff8c57dd0c7aa2eae0ba4a2">Player::SendQuestConfirmAccept</a>(<span class="keyword">const</span> <a class="code" href="../../d8/d63/class_quest.html">Quest</a>* quest, <a class="code" href="../../d8/d53/class_player.html">Player</a>* pReceiver)</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;{</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;    <span class="keywordflow">if</span> (pReceiver)</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;    {</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;        <span class="comment">//load locale from db</span></div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;        std::string strTitle = quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a9fc533ca32224a7b1bbe1ba67fa086de">GetTitle</a>();</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160; </div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;        <span class="keywordtype">int</span> loc_idx = pReceiver-&gt;<a class="code" href="../../d8/d53/class_player.html#a1c212b8f9ae8b1a38a41f9c7db005dca">GetSession</a>()-&gt;<a class="code" href="../../d1/d47/class_world_session.html#a38ff97828c0efe89c092f5772c543564">GetSessionDbLocaleIndex</a>();</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;        <span class="keywordflow">if</span> (loc_idx &gt;= 0)</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;            <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="../../dc/d81/struct_quest_locale.html">QuestLocale</a>* pLocale = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestLocale(quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>()))</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;                <a class="code" href="../../d5/dbd/class_object_mgr.html#a92a2d9fe378030122340f34a7cb79ef9">ObjectMgr::GetLocaleString</a>(pLocale-&gt;Title, loc_idx, strTitle);</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160; </div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;        <a class="code" href="../../d6/d1a/class_world_packet.html">WorldPacket</a> data(<a class="code" href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9baf375f927018f994e6c6092dc151c858e">SMSG_QUEST_CONFIRM_ACCEPT</a>, (4 + quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a9fc533ca32224a7b1bbe1ba67fa086de">GetTitle</a>().size() + 8));</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;        data &lt;&lt; <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>());</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;        data &lt;&lt; quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a9fc533ca32224a7b1bbe1ba67fa086de">GetTitle</a>();</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;        data &lt;&lt; <a class="code" href="../../d8/d83/class_object.html#ae65fbd7720a9aa448516f6cf494bda67">GetGUID</a>();</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;        pReceiver-&gt;<a class="code" href="../../d8/d53/class_player.html#a1c212b8f9ae8b1a38a41f9c7db005dca">GetSession</a>()-&gt;<a class="code" href="../../d1/d47/class_world_session.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160; </div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;network&quot;</span>, <span class="stringliteral">&quot;WORLD: Sent SMSG_QUEST_CONFIRM_ACCEPT&quot;</span>);</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;    }</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;}</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160; </div>
<div class="line"><a name="l02359"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a912005a1a9058c11996bbbd8b6a0152c"> 2359</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a912005a1a9058c11996bbbd8b6a0152c">Player::SendPushToPartyResponse</a>(<a class="code" href="../../d8/d53/class_player.html">Player</a> <span class="keyword">const</span>* player, <a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> msg)<span class="keyword"> const</span></div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;    <span class="keywordflow">if</span> (player)</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;    {</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;        <a class="code" href="../../d6/d1a/class_world_packet.html">WorldPacket</a> data(<a class="code" href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9ba74baedb07a0701b4ce635b21591bd3b0">MSG_QUEST_PUSH_RESULT</a>, (8 + 1));</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;        data &lt;&lt; player-&gt;<a class="code" href="../../d8/d83/class_object.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>();</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;        data &lt;&lt; <a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(msg);                                 <span class="comment">// valid values: 0-8</span></div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a1c212b8f9ae8b1a38a41f9c7db005dca">GetSession</a>()-&gt;<a class="code" href="../../d1/d47/class_world_session.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;        <a class="code" href="../../da/df4/_log_8h.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;network&quot;</span>, <span class="stringliteral">&quot;WORLD: Sent MSG_QUEST_PUSH_RESULT&quot;</span>);</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;    }</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;}</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160; </div>
<div class="line"><a name="l02371"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a8d4c78dff4096eff3cd1bf34f1b91768"> 2371</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a8d4c78dff4096eff3cd1bf34f1b91768">Player::SendQuestUpdateAddItem</a>(<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* <span class="comment">/*quest*/</span>, <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <span class="comment">/*item_idx*/</span>, <a class="code" href="../../db/d35/_define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> <span class="comment">/*count*/</span>)</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;{</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;    <a class="code" href="../../d6/d1a/class_world_packet.html">WorldPacket</a> data(<a class="code" href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9baaa689b8ec7c14d2fb2a79c8650722df5">SMSG_QUESTUPDATE_ADD_ITEM</a>, 0);</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;network&quot;</span>, <span class="stringliteral">&quot;WORLD: Sent SMSG_QUESTUPDATE_ADD_ITEM&quot;</span>);</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;    <span class="comment">//data &lt;&lt; quest-&gt;RequiredItemId[item_idx];</span></div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;    <span class="comment">//data &lt;&lt; count;</span></div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a1c212b8f9ae8b1a38a41f9c7db005dca">GetSession</a>()-&gt;<a class="code" href="../../d1/d47/class_world_session.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;}</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160; </div>
<div class="line"><a name="l02380"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a3d425ac6fd9142a4e2bade0d6db6c254"> 2380</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a3d425ac6fd9142a4e2bade0d6db6c254">Player::SendQuestUpdateAddCreatureOrGo</a>(<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* quest, <a class="code" href="../../d8/d03/class_object_guid.html">ObjectGuid</a> guid, <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> creatureOrGO_idx, <a class="code" href="../../db/d35/_define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> old_count, <a class="code" href="../../db/d35/_define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> add_count)</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;{</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;    <a class="code" href="../../db/d16/_errors_8h.html#af343b20373ba49a92fce523e948f2ab3">ASSERT</a>(old_count + add_count &lt; 65536 &amp;&amp; <span class="stringliteral">&quot;mob/GO count store in 16 bits 2^16 = 65536 (0..65536)&quot;</span>);</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160; </div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> entry = quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a136c35d22865c4d7a8199f754977c768">RequiredNpcOrGo</a>[ creatureOrGO_idx ];</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;    <span class="keywordflow">if</span> (entry &lt; 0)</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;        <span class="comment">// client expected gameobject template id in form (id|0x80000000)</span></div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;        entry = (-entry) | 0x80000000;</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160; </div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;    <a class="code" href="../../d6/d1a/class_world_packet.html">WorldPacket</a> data(<a class="code" href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9ba5d2eb06053041c2a960482f43020c855">SMSG_QUESTUPDATE_ADD_KILL</a>, (4 * 4 + 8));</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;network&quot;</span>, <span class="stringliteral">&quot;WORLD: Sent SMSG_QUESTUPDATE_ADD_KILL&quot;</span>);</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;    data &lt;&lt; <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>());</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    data &lt;&lt; <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(entry);</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;    data &lt;&lt; <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(old_count + add_count);</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;    data &lt;&lt; <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a26795fa9c5daf20043c08171c75672c9">RequiredNpcOrGoCount</a>[ creatureOrGO_idx ]);</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;    data &lt;&lt; guid;</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a1c212b8f9ae8b1a38a41f9c7db005dca">GetSession</a>()-&gt;<a class="code" href="../../d1/d47/class_world_session.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160; </div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> log_slot = <a class="code" href="../../d8/d53/class_player.html#a3454be68dff7bb9d8ee581591cac3c95">FindQuestSlot</a>(quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>());</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;    <span class="keywordflow">if</span> (log_slot &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>)</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a7fd041ba881e95856b8520252b0327a6">SetQuestSlotCounter</a>(log_slot, creatureOrGO_idx, <a class="code" href="../../d8/d53/class_player.html#a1dff33f9fec35951365e2ee54eac20b8">GetQuestSlotCounter</a>(log_slot, creatureOrGO_idx) + add_count);</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;}</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160; </div>
<div class="line"><a name="l02403"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#aea4d1caa45ca6a98450bf7c9032cf35b"> 2403</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#aea4d1caa45ca6a98450bf7c9032cf35b">Player::SendQuestUpdateAddPlayer</a>(<a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* quest, <a class="code" href="../../db/d35/_define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> old_count, <a class="code" href="../../db/d35/_define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> add_count)</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;{</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;    <a class="code" href="../../db/d16/_errors_8h.html#af343b20373ba49a92fce523e948f2ab3">ASSERT</a>(old_count + add_count &lt; 65536 &amp;&amp; <span class="stringliteral">&quot;player count store in 16 bits&quot;</span>);</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160; </div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;    <a class="code" href="../../d6/d1a/class_world_packet.html">WorldPacket</a> data(<a class="code" href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9ba2ea19a4baee312f6efe15e1aaaae0db3">SMSG_QUESTUPDATE_ADD_PVP_KILL</a>, (3 * 4));</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;    <a class="code" href="../../da/df4/_log_8h.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;network&quot;</span>, <span class="stringliteral">&quot;WORLD: Sent SMSG_QUESTUPDATE_ADD_PVP_KILL&quot;</span>);</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;    data &lt;&lt; <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>());</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;    data &lt;&lt; <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(old_count + add_count);</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;    data &lt;&lt; <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a910f66ebd4b91d594dab6e6227ad2917">GetPlayersSlain</a>());</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a1c212b8f9ae8b1a38a41f9c7db005dca">GetSession</a>()-&gt;<a class="code" href="../../d1/d47/class_world_session.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160; </div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> log_slot = <a class="code" href="../../d8/d53/class_player.html#a3454be68dff7bb9d8ee581591cac3c95">FindQuestSlot</a>(quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a992449032653d9405898a3419f8c28c0">GetQuestId</a>());</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;    <span class="keywordflow">if</span> (log_slot &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>)</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a7fd041ba881e95856b8520252b0327a6">SetQuestSlotCounter</a>(log_slot, <a class="code" href="../../d2/dc8/_quest_def_8h.html#aae8e69a2d2eb5235b7868221a2c8aa65">QUEST_PVP_KILL_SLOT</a>, <a class="code" href="../../d8/d53/class_player.html#a1dff33f9fec35951365e2ee54eac20b8">GetQuestSlotCounter</a>(log_slot, <a class="code" href="../../d2/dc8/_quest_def_8h.html#aae8e69a2d2eb5235b7868221a2c8aa65">QUEST_PVP_KILL_SLOT</a>) + add_count);</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;}</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160; </div>
<div class="line"><a name="l02419"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a144a3a724d55073438501522b396bc44"> 2419</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#a144a3a724d55073438501522b396bc44">Player::HasPvPForcingQuest</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code" href="../../d2/dc8/_quest_def_8h.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a>; ++i)</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;    {</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questId = <a class="code" href="../../d8/d53/class_player.html#a78498168eaeb91ca88e76f9e38867213">GetQuestSlotQuestId</a>(i);</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;        <span class="keywordflow">if</span> (questId == 0)</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160; </div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;        <a class="code" href="../../d8/d63/class_quest.html">Quest</a> <span class="keyword">const</span>* quest = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questId);</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;        <span class="keywordflow">if</span> (!quest)</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160; </div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;        <span class="keywordflow">if</span> (quest-&gt;<a class="code" href="../../d8/d63/class_quest.html#a071cf4919b90266595fef826351f2d2a">HasFlag</a>(<a class="code" href="../../d2/dc8/_quest_def_8h.html#a881ebe30fbf0f088d54bfa959cefe47ca16e6bbf1bd0e4cc59521b0e5e4ed670e">QUEST_FLAGS_FLAGS_PVP</a>))</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;    }</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160; </div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;}</div>
<div class="ttc" id="a_character_database_8h_html_a76116b4fa282d8e35bf8f8e940b5cba7a1d30572a7f06c2e359c143d8e8fc6c7a"><div class="ttname"><a href="../../d7/d54/_character_database_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7a1d30572a7f06c2e359c143d8e8fc6c7a">CHAR_UPD_QUEST_TRACK_COMPLETE_TIME</a></div><div class="ttdeci">@ CHAR_UPD_QUEST_TRACK_COMPLETE_TIME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d54/_character_database_8h_source.html#l00503">CharacterDatabase.h:503</a></div></div>
<div class="ttc" id="a_character_database_8h_html_a76116b4fa282d8e35bf8f8e940b5cba7ac9ebca48fcfc7fd698951925c55a36fe"><div class="ttname"><a href="../../d7/d54/_character_database_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7ac9ebca48fcfc7fd698951925c55a36fe">CHAR_INS_QUEST_TRACK</a></div><div class="ttdeci">@ CHAR_INS_QUEST_TRACK</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d54/_character_database_8h_source.html#l00501">CharacterDatabase.h:501</a></div></div>
<div class="ttc" id="a_common_8h_html_a84190f79c8167211609f67284e066c58"><div class="ttname"><a href="../../db/d1f/_common_8h.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a></div><div class="ttdeci">constexpr auto IN_MILLISECONDS</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d1f/_common_8h_source.html#l00062">Common.h:62</a></div></div>
<div class="ttc" id="a_condition_mgr_8h_html_a5ab0412c3dc24dbd690ba6d7f01657f8"><div class="ttname"><a href="../../d0/d62/_condition_mgr_8h.html#a5ab0412c3dc24dbd690ba6d7f01657f8">sConditionMgr</a></div><div class="ttdeci">#define sConditionMgr</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d62/_condition_mgr_8h_source.html#l00286">ConditionMgr.h:286</a></div></div>
<div class="ttc" id="a_condition_mgr_8h_html_a5ba040e3c1f6efbefb512efb9bd69a7faff018c19627d2a3c3767b8c3665cd1eb"><div class="ttname"><a href="../../d0/d62/_condition_mgr_8h.html#a5ba040e3c1f6efbefb512efb9bd69a7faff018c19627d2a3c3767b8c3665cd1eb">CONDITION_SOURCE_TYPE_QUEST_AVAILABLE</a></div><div class="ttdeci">@ CONDITION_SOURCE_TYPE_QUEST_AVAILABLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d62/_condition_mgr_8h_source.html#l00141">ConditionMgr.h:141</a></div></div>
<div class="ttc" id="a_condition_mgr_8h_html_ae942a8e25dc24ce42e62625bb583c0dd"><div class="ttname"><a href="../../d0/d62/_condition_mgr_8h.html#ae942a8e25dc24ce42e62625bb583c0dd">ConditionList</a></div><div class="ttdeci">std::list&lt; Condition * &gt; ConditionList</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d62/_condition_mgr_8h_source.html#l00233">ConditionMgr.h:233</a></div></div>
<div class="ttc" id="a_creature_a_i_8h_html"><div class="ttname"><a href="../../d7/d43/_creature_a_i_8h.html">CreatureAI.h</a></div></div>
<div class="ttc" id="a_creature_data_8h_html_a3f331d9e202385f679104cc20ef74c3d"><div class="ttname"><a href="../../dd/de2/_creature_data_8h.html#a3f331d9e202385f679104cc20ef74c3d">MAX_KILL_CREDIT</a></div><div class="ttdeci">#define MAX_KILL_CREDIT</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/_creature_data_8h_source.html#l00034">CreatureData.h:34</a></div></div>
<div class="ttc" id="a_d_b_c_enums_8h_html_a282f094fb8ee80177dd57d2086ddd35ba62265ea91045a63323e2cb65f78e88c1"><div class="ttname"><a href="../../dc/d6e/_d_b_c_enums_8h.html#a282f094fb8ee80177dd57d2086ddd35ba62265ea91045a63323e2cb65f78e88c1">ACHIEVEMENT_TIMED_TYPE_CREATURE</a></div><div class="ttdeci">@ ACHIEVEMENT_TIMED_TYPE_CREATURE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6e/_d_b_c_enums_8h_source.html#l00103">DBCEnums.h:103</a></div></div>
<div class="ttc" id="a_d_b_c_enums_8h_html_a282f094fb8ee80177dd57d2086ddd35bade60c4178807ba9725dbc89de211259d"><div class="ttname"><a href="../../dc/d6e/_d_b_c_enums_8h.html#a282f094fb8ee80177dd57d2086ddd35bade60c4178807ba9725dbc89de211259d">ACHIEVEMENT_TIMED_TYPE_QUEST</a></div><div class="ttdeci">@ ACHIEVEMENT_TIMED_TYPE_QUEST</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6e/_d_b_c_enums_8h_source.html#l00100">DBCEnums.h:100</a></div></div>
<div class="ttc" id="a_d_b_c_enums_8h_html_a796cde2fc6e2eaed4c657203ed43cd19a07c4265f9d6dea6c3f0c432a22079860"><div class="ttname"><a href="../../dc/d6e/_d_b_c_enums_8h.html#a796cde2fc6e2eaed4c657203ed43cd19a07c4265f9d6dea6c3f0c432a22079860">ACHIEVEMENT_CRITERIA_TYPE_COMPLETE_QUESTS_IN_ZONE</a></div><div class="ttdeci">@ ACHIEVEMENT_CRITERIA_TYPE_COMPLETE_QUESTS_IN_ZONE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6e/_d_b_c_enums_8h_source.html#l00118">DBCEnums.h:118</a></div></div>
<div class="ttc" id="a_d_b_c_enums_8h_html_a796cde2fc6e2eaed4c657203ed43cd19a0f567a2ca32349130eaddba38ff93636"><div class="ttname"><a href="../../dc/d6e/_d_b_c_enums_8h.html#a796cde2fc6e2eaed4c657203ed43cd19a0f567a2ca32349130eaddba38ff93636">ACHIEVEMENT_CRITERIA_TYPE_COMPLETE_DAILY_QUEST_DAILY</a></div><div class="ttdeci">@ ACHIEVEMENT_CRITERIA_TYPE_COMPLETE_DAILY_QUEST_DAILY</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6e/_d_b_c_enums_8h_source.html#l00117">DBCEnums.h:117</a></div></div>
<div class="ttc" id="a_d_b_c_enums_8h_html_a796cde2fc6e2eaed4c657203ed43cd19a160b2b4466f5bd5f7df6afc9115cf1f6"><div class="ttname"><a href="../../dc/d6e/_d_b_c_enums_8h.html#a796cde2fc6e2eaed4c657203ed43cd19a160b2b4466f5bd5f7df6afc9115cf1f6">ACHIEVEMENT_CRITERIA_TYPE_COMPLETE_QUEST_COUNT</a></div><div class="ttdeci">@ ACHIEVEMENT_CRITERIA_TYPE_COMPLETE_QUEST_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6e/_d_b_c_enums_8h_source.html#l00116">DBCEnums.h:116</a></div></div>
<div class="ttc" id="a_d_b_c_enums_8h_html_a796cde2fc6e2eaed4c657203ed43cd19a3bdab46e91e8fb2c068ce0042617f0c3"><div class="ttname"><a href="../../dc/d6e/_d_b_c_enums_8h.html#a796cde2fc6e2eaed4c657203ed43cd19a3bdab46e91e8fb2c068ce0042617f0c3">ACHIEVEMENT_CRITERIA_TYPE_COMPLETE_DAILY_QUEST</a></div><div class="ttdeci">@ ACHIEVEMENT_CRITERIA_TYPE_COMPLETE_DAILY_QUEST</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6e/_d_b_c_enums_8h_source.html#l00120">DBCEnums.h:120</a></div></div>
<div class="ttc" id="a_d_b_c_enums_8h_html_a796cde2fc6e2eaed4c657203ed43cd19a7a228f44074f44bec4ca6be425933516"><div class="ttname"><a href="../../dc/d6e/_d_b_c_enums_8h.html#a796cde2fc6e2eaed4c657203ed43cd19a7a228f44074f44bec4ca6be425933516">ACHIEVEMENT_CRITERIA_TYPE_MONEY_FROM_QUEST_REWARD</a></div><div class="ttdeci">@ ACHIEVEMENT_CRITERIA_TYPE_MONEY_FROM_QUEST_REWARD</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6e/_d_b_c_enums_8h_source.html#l00164">DBCEnums.h:164</a></div></div>
<div class="ttc" id="a_d_b_c_enums_8h_html_a796cde2fc6e2eaed4c657203ed43cd19aab6b86cbbba4147c7278f97bc49c21e4"><div class="ttname"><a href="../../dc/d6e/_d_b_c_enums_8h.html#a796cde2fc6e2eaed4c657203ed43cd19aab6b86cbbba4147c7278f97bc49c21e4">ACHIEVEMENT_CRITERIA_TYPE_COMPLETE_QUEST</a></div><div class="ttdeci">@ ACHIEVEMENT_CRITERIA_TYPE_COMPLETE_QUEST</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6e/_d_b_c_enums_8h_source.html#l00130">DBCEnums.h:130</a></div></div>
<div class="ttc" id="a_d_b_c_enums_8h_html_a796cde2fc6e2eaed4c657203ed43cd19ac4c7bccbf435b49105604debea36e251"><div class="ttname"><a href="../../dc/d6e/_d_b_c_enums_8h.html#a796cde2fc6e2eaed4c657203ed43cd19ac4c7bccbf435b49105604debea36e251">ACHIEVEMENT_CRITERIA_TYPE_KILL_CREATURE</a></div><div class="ttdeci">@ ACHIEVEMENT_CRITERIA_TYPE_KILL_CREATURE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6e/_d_b_c_enums_8h_source.html#l00111">DBCEnums.h:111</a></div></div>
<div class="ttc" id="a_d_b_c_stores_8cpp_html_a2997cbe20d462fdb8cee8e14230725e2"><div class="ttname"><a href="../../dd/d17/_d_b_c_stores_8cpp.html#a2997cbe20d462fdb8cee8e14230725e2">sCharTitlesStore</a></div><div class="ttdeci">DBCStorage&lt; CharTitlesEntry &gt; sCharTitlesStore(CharTitlesEntryfmt)</div></div>
<div class="ttc" id="a_d_b_c_stores_8cpp_html_a6f79a9658f29641b0ae27738de47d03f"><div class="ttname"><a href="../../dd/d17/_d_b_c_stores_8cpp.html#a6f79a9658f29641b0ae27738de47d03f">sFactionStore</a></div><div class="ttdeci">DBCStorage&lt; FactionEntry &gt; sFactionStore(FactionEntryfmt)</div></div>
<div class="ttc" id="a_database_env_8cpp_html_a7e7534bc66d79434bd280b77cb124eec"><div class="ttname"><a href="../../d6/d2e/_database_env_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a></div><div class="ttdeci">DatabaseWorkerPool&lt; CharacterDatabaseConnection &gt; CharacterDatabase</div><div class="ttdoc">Accessor to the character database.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2e/_database_env_8cpp_source.html#l00021">DatabaseEnv.cpp:21</a></div></div>
<div class="ttc" id="a_database_env_fwd_8h_html_a96bac9a371212c6bab7a9448214666c0"><div class="ttname"><a href="../../db/d04/_database_env_fwd_8h.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a></div><div class="ttdeci">SQLTransaction&lt; CharacterDatabaseConnection &gt; CharacterDatabaseTransaction</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d04/_database_env_fwd_8h_source.html#l00070">DatabaseEnvFwd.h:70</a></div></div>
<div class="ttc" id="a_define_8h_html_a0bf9964a3ce962c07ad3d8b5432bbbcd"><div class="ttname"><a href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a></div><div class="ttdeci">std::int32_t int32</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d35/_define_8h_source.html#l00110">Define.h:110</a></div></div>
<div class="ttc" id="a_define_8h_html_a15a8d014fadf85c99a2268d8cbd00767"><div class="ttname"><a href="../../db/d35/_define_8h.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a></div><div class="ttdeci">std::uint8_t uint8</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d35/_define_8h_source.html#l00116">Define.h:116</a></div></div>
<div class="ttc" id="a_define_8h_html_a22f78cc9780bf32aff91ae17c3101c8d"><div class="ttname"><a href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a></div><div class="ttdeci">std::uint32_t uint32</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d35/_define_8h_source.html#l00114">Define.h:114</a></div></div>
<div class="ttc" id="a_define_8h_html_ad9c79638db63f1dfe2b085743b5cbf7b"><div class="ttname"><a href="../../db/d35/_define_8h.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a></div><div class="ttdeci">std::uint16_t uint16</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d35/_define_8h_source.html#l00115">Define.h:115</a></div></div>
<div class="ttc" id="a_disable_mgr_8h_html"><div class="ttname"><a href="../../d6/d01/_disable_mgr_8h.html">DisableMgr.h</a></div></div>
<div class="ttc" id="a_disable_mgr_8h_html_affa2a0d7ee61f6e1bc7c6cb7d2c1b64ca53c0091b82a6fc9bc32393f75af1e49e"><div class="ttname"><a href="../../d6/d01/_disable_mgr_8h.html#affa2a0d7ee61f6e1bc7c6cb7d2c1b64ca53c0091b82a6fc9bc32393f75af1e49e">DISABLE_TYPE_QUEST</a></div><div class="ttdeci">@ DISABLE_TYPE_QUEST</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d01/_disable_mgr_8h_source.html#l00030">DisableMgr.h:30</a></div></div>
<div class="ttc" id="a_errors_8h_html_af343b20373ba49a92fce523e948f2ab3"><div class="ttname"><a href="../../db/d16/_errors_8h.html#af343b20373ba49a92fce523e948f2ab3">ASSERT</a></div><div class="ttdeci">#define ASSERT</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/_errors_8h_source.html#l00058">Errors.h:58</a></div></div>
<div class="ttc" id="a_game_event_mgr_8h_html_a3c1c916d94272dfe845b9cc5e8fc292a"><div class="ttname"><a href="../../d8/d13/_game_event_mgr_8h.html#a3c1c916d94272dfe845b9cc5e8fc292a">sGameEventMgr</a></div><div class="ttdeci">#define sGameEventMgr</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d13/_game_event_mgr_8h_source.html#l00183">GameEventMgr.h:183</a></div></div>
<div class="ttc" id="a_game_object_a_i_8h_html"><div class="ttname"><a href="../../d5/dcc/_game_object_a_i_8h.html">GameObjectAI.h</a></div></div>
<div class="ttc" id="a_git_revision_8h_html"><div class="ttname"><a href="../../d6/d00/_git_revision_8h.html">GitRevision.h</a></div></div>
<div class="ttc" id="a_group_8h_html"><div class="ttname"><a href="../../d7/dc4/_group_8h.html">Group.h</a></div></div>
<div class="ttc" id="a_i_world_8h_html_a17aac4c166ebe43e3b8fdccf9e012e41a1e7d0052850c3e4d941b52d7a453c1a7"><div class="ttname"><a href="../../d2/d80/_i_world_8h.html#a17aac4c166ebe43e3b8fdccf9e012e41a1e7d0052850c3e4d941b52d7a453c1a7">CONFIG_QUEST_LOW_LEVEL_HIDE_DIFF</a></div><div class="ttdeci">@ CONFIG_QUEST_LOW_LEVEL_HIDE_DIFF</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/_i_world_8h_source.html#l00269">IWorld.h:269</a></div></div>
<div class="ttc" id="a_i_world_8h_html_a17aac4c166ebe43e3b8fdccf9e012e41a35be86ac21dd2db36961628f5be2279f"><div class="ttname"><a href="../../d2/d80/_i_world_8h.html#a17aac4c166ebe43e3b8fdccf9e012e41a35be86ac21dd2db36961628f5be2279f">CONFIG_QUEST_HIGH_LEVEL_HIDE_DIFF</a></div><div class="ttdeci">@ CONFIG_QUEST_HIGH_LEVEL_HIDE_DIFF</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/_i_world_8h_source.html#l00270">IWorld.h:270</a></div></div>
<div class="ttc" id="a_i_world_8h_html_a17aac4c166ebe43e3b8fdccf9e012e41a6684273cdd36b9b8215844fc51358ae1"><div class="ttname"><a href="../../d2/d80/_i_world_8h.html#a17aac4c166ebe43e3b8fdccf9e012e41a6684273cdd36b9b8215844fc51358ae1">CONFIG_MAX_PLAYER_LEVEL</a></div><div class="ttdeci">@ CONFIG_MAX_PLAYER_LEVEL</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/_i_world_8h_source.html#l00222">IWorld.h:222</a></div></div>
<div class="ttc" id="a_i_world_8h_html_a1b4b88c03b7d0124998b4c22e957baf0adb4253fa69e835b574c8407d084c38a3"><div class="ttname"><a href="../../d2/d80/_i_world_8h.html#a1b4b88c03b7d0124998b4c22e957baf0adb4253fa69e835b574c8407d084c38a3">CONFIG_QUEST_ENABLE_QUEST_TRACKER</a></div><div class="ttdeci">@ CONFIG_QUEST_ENABLE_QUEST_TRACKER</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/_i_world_8h_source.html#l00150">IWorld.h:150</a></div></div>
<div class="ttc" id="a_item_8h_html_a73617af2b3e5e935646638fa13678391"><div class="ttname"><a href="../../da/d43/_item_8h.html#a73617af2b3e5e935646638fa13678391">InventoryResult</a></div><div class="ttdeci">InventoryResult</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d43/_item_8h_source.html#l00039">Item.h:40</a></div></div>
<div class="ttc" id="a_item_8h_html_a73617af2b3e5e935646638fa13678391a8b1b5966ea1ccbf5ee6d1d4a244b272e"><div class="ttname"><a href="../../da/d43/_item_8h.html#a73617af2b3e5e935646638fa13678391a8b1b5966ea1ccbf5ee6d1d4a244b272e">EQUIP_ERR_ITEM_NOT_FOUND</a></div><div class="ttdeci">@ EQUIP_ERR_ITEM_NOT_FOUND</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d43/_item_8h_source.html#l00064">Item.h:64</a></div></div>
<div class="ttc" id="a_item_8h_html_a73617af2b3e5e935646638fa13678391a939b6661cd19d6c18274906abb28021c"><div class="ttname"><a href="../../da/d43/_item_8h.html#a73617af2b3e5e935646638fa13678391a939b6661cd19d6c18274906abb28021c">EQUIP_ERR_OK</a></div><div class="ttdeci">@ EQUIP_ERR_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d43/_item_8h_source.html#l00041">Item.h:41</a></div></div>
<div class="ttc" id="a_item_8h_html_a73617af2b3e5e935646638fa13678391ac38e8d6381e5ed7855a06a1b34163dca"><div class="ttname"><a href="../../da/d43/_item_8h.html#a73617af2b3e5e935646638fa13678391ac38e8d6381e5ed7855a06a1b34163dca">EQUIP_ERR_CANT_CARRY_MORE_OF_THIS</a></div><div class="ttdeci">@ EQUIP_ERR_CANT_CARRY_MORE_OF_THIS</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d43/_item_8h_source.html#l00058">Item.h:58</a></div></div>
<div class="ttc" id="a_item_template_8h_html_aa0030a232217e66520a465dea9ac6358a7fdb729ded630c908f447d2ad0e54cb3"><div class="ttname"><a href="../../d1/d9e/_item_template_8h.html#aa0030a232217e66520a465dea9ac6358a7fdb729ded630c908f447d2ad0e54cb3">BIND_QUEST_ITEM</a></div><div class="ttdeci">@ BIND_QUEST_ITEM</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d9e/_item_template_8h_source.html#l00100">ItemTemplate.h:100</a></div></div>
<div class="ttc" id="a_log_8h_html_a47ac782b14a7531c6232777165a1a161"><div class="ttname"><a href="../../da/df4/_log_8h.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a></div><div class="ttdeci">#define LOG_DEBUG(filterType__,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df4/_log_8h_source.html#l00273">Log.h:273</a></div></div>
<div class="ttc" id="a_mail_8h_html_a0409511b5ca7192d457a7e550a1c6e26a348c2227a2767173436f2f88dfe37716"><div class="ttname"><a href="../../d8/d23/_mail_8h.html#a0409511b5ca7192d457a7e550a1c6e26a348c2227a2767173436f2f88dfe37716">MAIL_CHECK_MASK_HAS_BODY</a></div><div class="ttdeci">@ MAIL_CHECK_MASK_HAS_BODY</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d23/_mail_8h_source.html#l00050">Mail.h:50</a></div></div>
<div class="ttc" id="a_map_mgr_8h_html"><div class="ttname"><a href="../../dd/dca/_map_mgr_8h.html">MapMgr.h</a></div></div>
<div class="ttc" id="a_map_mgr_8h_html_a9132749f8376c48b0ca7212eb3293905"><div class="ttname"><a href="../../dd/dca/_map_mgr_8h.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a></div><div class="ttdeci">#define sMapMgr</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dca/_map_mgr_8h_source.html#l00212">MapMgr.h:212</a></div></div>
<div class="ttc" id="a_object_guid_8h_html_a183c40b2ba67065929d70b3987da4cc2a91b74ac7ebfe7909332a6eec5054c60d"><div class="ttname"><a href="../../d9/d83/_object_guid_8h.html#a183c40b2ba67065929d70b3987da4cc2a91b74ac7ebfe7909332a6eec5054c60d">TYPEID_GAMEOBJECT</a></div><div class="ttdeci">@ TYPEID_GAMEOBJECT</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d83/_object_guid_8h_source.html#l00039">ObjectGuid.h:39</a></div></div>
<div class="ttc" id="a_object_guid_8h_html_a183c40b2ba67065929d70b3987da4cc2a93dfa528ffc48db4993fb7ac62696db9"><div class="ttname"><a href="../../d9/d83/_object_guid_8h.html#a183c40b2ba67065929d70b3987da4cc2a93dfa528ffc48db4993fb7ac62696db9">TYPEID_UNIT</a></div><div class="ttdeci">@ TYPEID_UNIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d83/_object_guid_8h_source.html#l00037">ObjectGuid.h:37</a></div></div>
<div class="ttc" id="a_object_guid_8h_html_a183c40b2ba67065929d70b3987da4cc2ab2bcf0ba3fcc0090223bf840eda90b28"><div class="ttname"><a href="../../d9/d83/_object_guid_8h.html#a183c40b2ba67065929d70b3987da4cc2ab2bcf0ba3fcc0090223bf840eda90b28">TYPEID_ITEM</a></div><div class="ttdeci">@ TYPEID_ITEM</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d83/_object_guid_8h_source.html#l00035">ObjectGuid.h:35</a></div></div>
<div class="ttc" id="a_object_guid_8h_html_a183c40b2ba67065929d70b3987da4cc2aca37d750899c40a5743285ccda2bba9c"><div class="ttname"><a href="../../d9/d83/_object_guid_8h.html#a183c40b2ba67065929d70b3987da4cc2aca37d750899c40a5743285ccda2bba9c">TYPEID_PLAYER</a></div><div class="ttdeci">@ TYPEID_PLAYER</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d83/_object_guid_8h_source.html#l00038">ObjectGuid.h:38</a></div></div>
<div class="ttc" id="a_object_guid_8h_html_a183c40b2ba67065929d70b3987da4cc2afebf490e56b6f11276b1523008afa107"><div class="ttname"><a href="../../d9/d83/_object_guid_8h.html#a183c40b2ba67065929d70b3987da4cc2afebf490e56b6f11276b1523008afa107">TYPEID_CONTAINER</a></div><div class="ttdeci">@ TYPEID_CONTAINER</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d83/_object_guid_8h_source.html#l00036">ObjectGuid.h:36</a></div></div>
<div class="ttc" id="a_object_guid_8h_html_acfe503ba26d8a881f16958aaafd431e1a213c6f64ff343595c13d0e808b75297d"><div class="ttname"><a href="../../d9/d83/_object_guid_8h.html#acfe503ba26d8a881f16958aaafd431e1a213c6f64ff343595c13d0e808b75297d">TYPEMASK_ITEM</a></div><div class="ttdeci">@ TYPEMASK_ITEM</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d83/_object_guid_8h_source.html#l00049">ObjectGuid.h:49</a></div></div>
<div class="ttc" id="a_object_guid_8h_html_acfe503ba26d8a881f16958aaafd431e1a611a6f19a7f885d824ea5be71ffca2de"><div class="ttname"><a href="../../d9/d83/_object_guid_8h.html#acfe503ba26d8a881f16958aaafd431e1a611a6f19a7f885d824ea5be71ffca2de">TYPEMASK_UNIT</a></div><div class="ttdeci">@ TYPEMASK_UNIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d83/_object_guid_8h_source.html#l00051">ObjectGuid.h:51</a></div></div>
<div class="ttc" id="a_object_guid_8h_html_acfe503ba26d8a881f16958aaafd431e1ab64731f0031a7f58c1a56cbf45d6f2f4"><div class="ttname"><a href="../../d9/d83/_object_guid_8h.html#acfe503ba26d8a881f16958aaafd431e1ab64731f0031a7f58c1a56cbf45d6f2f4">TYPEMASK_GAMEOBJECT</a></div><div class="ttdeci">@ TYPEMASK_GAMEOBJECT</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d83/_object_guid_8h_source.html#l00053">ObjectGuid.h:53</a></div></div>
<div class="ttc" id="a_object_mgr_8h_html_a4d2e936df987ca3457dc1cff99fd3394"><div class="ttname"><a href="../../d9/d77/_object_mgr_8h.html#a4d2e936df987ca3457dc1cff99fd3394">QuestRelationBounds</a></div><div class="ttdeci">std::pair&lt; QuestRelations::const_iterator, QuestRelations::const_iterator &gt; QuestRelationBounds</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d77/_object_mgr_8h_source.html#l00518">ObjectMgr.h:518</a></div></div>
<div class="ttc" id="a_object_mgr_8h_html_a736e30da2b5261060ac6cdbb5de3b787"><div class="ttname"><a href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a></div><div class="ttdeci">#define sObjectMgr</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d77/_object_mgr_8h_source.html#l01546">ObjectMgr.h:1546</a></div></div>
<div class="ttc" id="a_player_8h_html"><div class="ttname"><a href="../../d1/d39/_player_8h.html">Player.h</a></div></div>
<div class="ttc" id="a_player_8h_html_a06f492a0a20f5264c8395684220fec84"><div class="ttname"><a href="../../d1/d39/_player_8h.html#a06f492a0a20f5264c8395684220fec84">ItemPosCountVec</a></div><div class="ttdeci">std::vector&lt; ItemPosCount &gt; ItemPosCountVec</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l00752">Player.h:752</a></div></div>
<div class="ttc" id="a_player_8h_html_a2d079af58ae5bf704ea2b958307a5196a61b0594f1dd162d5a1dcff7103cecfc2"><div class="ttname"><a href="../../d1/d39/_player_8h.html#a2d079af58ae5bf704ea2b958307a5196a61b0594f1dd162d5a1dcff7103cecfc2">QUEST_STATE_COMPLETE</a></div><div class="ttdeci">@ QUEST_STATE_COMPLETE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l00614">Player.h:614</a></div></div>
<div class="ttc" id="a_player_8h_html_a2d079af58ae5bf704ea2b958307a5196a94e8ba97d7ae5f33b87bab4d23ffb39f"><div class="ttname"><a href="../../d1/d39/_player_8h.html#a2d079af58ae5bf704ea2b958307a5196a94e8ba97d7ae5f33b87bab4d23ffb39f">QUEST_STATE_FAIL</a></div><div class="ttdeci">@ QUEST_STATE_FAIL</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l00616">Player.h:615</a></div></div>
<div class="ttc" id="a_player_8h_html_a9b615cd8e69bf1f12cbee0c8ce784feb"><div class="ttname"><a href="../../d1/d39/_player_8h.html#a9b615cd8e69bf1f12cbee0c8ce784feb">PLAYER_MAX_DAILY_QUESTS</a></div><div class="ttdeci">#define PLAYER_MAX_DAILY_QUESTS</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l00066">Player.h:66</a></div></div>
<div class="ttc" id="a_player_8h_html_abb6c0419a027f09fbb5016deede34755a0e79848772fb35db024b1d9cfd8a55b2"><div class="ttname"><a href="../../d1/d39/_player_8h.html#abb6c0419a027f09fbb5016deede34755a0e79848772fb35db024b1d9cfd8a55b2">ADDITIONAL_SAVING_INVENTORY_AND_GOLD</a></div><div class="ttdeci">@ ADDITIONAL_SAVING_INVENTORY_AND_GOLD</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l00962">Player.h:962</a></div></div>
<div class="ttc" id="a_player_8h_html_abb6c0419a027f09fbb5016deede34755ae07ddeb5ee480f16943f43b31e53ebba"><div class="ttname"><a href="../../d1/d39/_player_8h.html#abb6c0419a027f09fbb5016deede34755ae07ddeb5ee480f16943f43b31e53ebba">ADDITIONAL_SAVING_QUEST_STATUS</a></div><div class="ttdeci">@ ADDITIONAL_SAVING_QUEST_STATUS</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l00963">Player.h:963</a></div></div>
<div class="ttc" id="a_pool_mgr_8h_html"><div class="ttname"><a href="../../d2/dc6/_pool_mgr_8h.html">PoolMgr.h</a></div></div>
<div class="ttc" id="a_pool_mgr_8h_html_a9189dd9c6265b9e6d57104dd61a5fe85"><div class="ttname"><a href="../../d2/dc6/_pool_mgr_8h.html#a9189dd9c6265b9e6d57104dd61a5fe85">sPoolMgr</a></div><div class="ttdeci">#define sPoolMgr</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc6/_pool_mgr_8h_source.html#l00163">PoolMgr.h:163</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#a198acf8afc6a434e2a7f2d574520e18fa067d8fff87d25ae4640a460349211252">INVALIDREASON_DONT_HAVE_REQ</a></div><div class="ttdeci">@ INVALIDREASON_DONT_HAVE_REQ</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00048">QuestDef.h:48</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_a198acf8afc6a434e2a7f2d574520e18fa43ddb2705d2b8b1dadf2129725eb8e67"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#a198acf8afc6a434e2a7f2d574520e18fa43ddb2705d2b8b1dadf2129725eb8e67">INVALIDREASON_QUEST_ALREADY_ON</a></div><div class="ttdeci">@ INVALIDREASON_QUEST_ALREADY_ON</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00053">QuestDef.h:53</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_a198acf8afc6a434e2a7f2d574520e18fa6ccfc01ce1d8978fd6ff245df456842d"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#a198acf8afc6a434e2a7f2d574520e18fa6ccfc01ce1d8978fd6ff245df456842d">INVALIDREASON_QUEST_FAILED_WRONG_RACE</a></div><div class="ttdeci">@ INVALIDREASON_QUEST_FAILED_WRONG_RACE</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00050">QuestDef.h:50</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_a198acf8afc6a434e2a7f2d574520e18fa89932eb633b107826e9dbd9a01b20d87"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#a198acf8afc6a434e2a7f2d574520e18fa89932eb633b107826e9dbd9a01b20d87">INVALIDREASON_QUEST_ONLY_ONE_TIMED</a></div><div class="ttdeci">@ INVALIDREASON_QUEST_ONLY_ONE_TIMED</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00052">QuestDef.h:52</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_a198acf8afc6a434e2a7f2d574520e18fa8c7847cc142b47d740a77d44a9a359f2"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#a198acf8afc6a434e2a7f2d574520e18fa8c7847cc142b47d740a77d44a9a359f2">INVALIDREASON_QUEST_FAILED_LOW_LEVEL</a></div><div class="ttdeci">@ INVALIDREASON_QUEST_FAILED_LOW_LEVEL</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00049">QuestDef.h:49</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_a198acf8afc6a434e2a7f2d574520e18fab1743dc9f2777d67b8bbfaa440940d94"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#a198acf8afc6a434e2a7f2d574520e18fab1743dc9f2777d67b8bbfaa440940d94">INVALIDREASON_DAILY_QUESTS_REMAINING</a></div><div class="ttdeci">@ INVALIDREASON_DAILY_QUESTS_REMAINING</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00058">QuestDef.h:58</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_a5b538720bd7de8c4468dc6d21b412f10"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#a5b538720bd7de8c4468dc6d21b412f10">QUEST_ITEM_OBJECTIVES_COUNT</a></div><div class="ttdeci">#define QUEST_ITEM_OBJECTIVES_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00036">QuestDef.h:36</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_a7dab6182ee1bbabf205ed30f9c2d6c8b"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#a7dab6182ee1bbabf205ed30f9c2d6c8b">QUEST_OBJECTIVES_COUNT</a></div><div class="ttdeci">#define QUEST_OBJECTIVES_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00035">QuestDef.h:35</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_a881ebe30fbf0f088d54bfa959cefe47ca00e51fd29f4182b118050cb8863b02bb"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#a881ebe30fbf0f088d54bfa959cefe47ca00e51fd29f4182b118050cb8863b02bb">QUEST_FLAGS_TRACKING</a></div><div class="ttdeci">@ QUEST_FLAGS_TRACKING</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00142">QuestDef.h:142</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_a881ebe30fbf0f088d54bfa959cefe47ca16e6bbf1bd0e4cc59521b0e5e4ed670e"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#a881ebe30fbf0f088d54bfa959cefe47ca16e6bbf1bd0e4cc59521b0e5e4ed670e">QUEST_FLAGS_FLAGS_PVP</a></div><div class="ttdeci">@ QUEST_FLAGS_FLAGS_PVP</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00145">QuestDef.h:145</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_a881ebe30fbf0f088d54bfa959cefe47caad03215b00fda5ef5b3a3b55d0181582"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#a881ebe30fbf0f088d54bfa959cefe47caad03215b00fda5ef5b3a3b55d0181582">QUEST_FLAGS_SHARABLE</a></div><div class="ttdeci">@ QUEST_FLAGS_SHARABLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00135">QuestDef.h:135</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_a95d52fc66ae096a6bcac03b3cdccf3b8"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#a95d52fc66ae096a6bcac03b3cdccf3b8">MAX_QUEST_LOG_SIZE</a></div><div class="ttdeci">#define MAX_QUEST_LOG_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00033">QuestDef.h:33</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_aae8e69a2d2eb5235b7868221a2c8aa65"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#aae8e69a2d2eb5235b7868221a2c8aa65">QUEST_PVP_KILL_SLOT</a></div><div class="ttdeci">#define QUEST_PVP_KILL_SLOT</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00043">QuestDef.h:43</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_abfc87d39d69176ad25e800fb4aa6f0d8"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8">QuestStatus</a></div><div class="ttdeci">QuestStatus</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00098">QuestDef.h:99</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_abfc87d39d69176ad25e800fb4aa6f0d8a8aa7be8f8f2585bb49ad2e1d33a65d3c"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8a8aa7be8f8f2585bb49ad2e1d33a65d3c">QUEST_STATUS_REWARDED</a></div><div class="ttdeci">@ QUEST_STATUS_REWARDED</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00106">QuestDef.h:106</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_abfc87d39d69176ad25e800fb4aa6f0d8a8e2ffb80a87da63793e4122d9b73cf8b"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8a8e2ffb80a87da63793e4122d9b73cf8b">QUEST_STATUS_FAILED</a></div><div class="ttdeci">@ QUEST_STATUS_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00105">QuestDef.h:105</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a></div><div class="ttdeci">@ QUEST_STATUS_INCOMPLETE</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00103">QuestDef.h:103</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_abfc87d39d69176ad25e800fb4aa6f0d8abefdf5f7417012e5d2adedf1dc155f28"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8abefdf5f7417012e5d2adedf1dc155f28">QUEST_STATUS_NONE</a></div><div class="ttdeci">@ QUEST_STATUS_NONE</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00100">QuestDef.h:100</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_abfc87d39d69176ad25e800fb4aa6f0d8ae1b2fe2d9de28cc70b59a4bdd5f0abed"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#abfc87d39d69176ad25e800fb4aa6f0d8ae1b2fe2d9de28cc70b59a4bdd5f0abed">QUEST_STATUS_COMPLETE</a></div><div class="ttdeci">@ QUEST_STATUS_COMPLETE</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00101">QuestDef.h:101</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_ac0edcb86ea5fca813b3c69e348fe74c0aa8f02823dd955bf0b8ba1409f982feaa"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#ac0edcb86ea5fca813b3c69e348fe74c0aa8f02823dd955bf0b8ba1409f982feaa">QUEST_PARTY_MSG_CANT_BE_SHARED_TODAY</a></div><div class="ttdeci">@ QUEST_PARTY_MSG_CANT_BE_SHARED_TODAY</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00074">QuestDef.h:74</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_acf2c83159c7b7d9270380dafa7ab8d11"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#acf2c83159c7b7d9270380dafa7ab8d11">QUEST_SOURCE_ITEM_IDS_COUNT</a></div><div class="ttdeci">#define QUEST_SOURCE_ITEM_IDS_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00037">QuestDef.h:37</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_ae9f831aa9bc01956d21389654989542b"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542b">QuestGiverStatus</a></div><div class="ttdeci">QuestGiverStatus</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00110">QuestDef.h:111</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_ae9f831aa9bc01956d21389654989542ba23c6b78237061dac38ddfb39d974a3db"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542ba23c6b78237061dac38ddfb39d974a3db">DIALOG_STATUS_UNAVAILABLE</a></div><div class="ttdeci">@ DIALOG_STATUS_UNAVAILABLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00113">QuestDef.h:113</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_ae9f831aa9bc01956d21389654989542ba26affdf7d4a232a13a2e85bcfec3acac"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542ba26affdf7d4a232a13a2e85bcfec3acac">DIALOG_STATUS_NONE</a></div><div class="ttdeci">@ DIALOG_STATUS_NONE</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00112">QuestDef.h:112</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_ae9f831aa9bc01956d21389654989542ba332bbf12a9f624eaf8304facf64520c2"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542ba332bbf12a9f624eaf8304facf64520c2">DIALOG_STATUS_AVAILABLE</a></div><div class="ttdeci">@ DIALOG_STATUS_AVAILABLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00120">QuestDef.h:120</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_ae9f831aa9bc01956d21389654989542ba3d77f1cc50b7e48f2f16aa7d383601a3"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542ba3d77f1cc50b7e48f2f16aa7d383601a3">DIALOG_STATUS_SCRIPTED_NO_STATUS</a></div><div class="ttdeci">@ DIALOG_STATUS_SCRIPTED_NO_STATUS</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00125">QuestDef.h:125</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_ae9f831aa9bc01956d21389654989542ba44bd5ba1866b6195d1fdbcfc88e4429d"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542ba44bd5ba1866b6195d1fdbcfc88e4429d">DIALOG_STATUS_LOW_LEVEL_REWARD_REP</a></div><div class="ttdeci">@ DIALOG_STATUS_LOW_LEVEL_REWARD_REP</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00115">QuestDef.h:115</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_ae9f831aa9bc01956d21389654989542ba75135989445a2947df016dddb20dcf24"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542ba75135989445a2947df016dddb20dcf24">DIALOG_STATUS_REWARD</a></div><div class="ttdeci">@ DIALOG_STATUS_REWARD</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00122">QuestDef.h:122</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_ae9f831aa9bc01956d21389654989542ba867ef0a1e8243d47039936338db4e0d2"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542ba867ef0a1e8243d47039936338db4e0d2">DIALOG_STATUS_LOW_LEVEL_AVAILABLE</a></div><div class="ttdeci">@ DIALOG_STATUS_LOW_LEVEL_AVAILABLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00114">QuestDef.h:114</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_ae9f831aa9bc01956d21389654989542ba8c007c4cb4d3909e264b15da0c678415"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542ba8c007c4cb4d3909e264b15da0c678415">DIALOG_STATUS_REWARD_REP</a></div><div class="ttdeci">@ DIALOG_STATUS_REWARD_REP</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00118">QuestDef.h:118</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_ae9f831aa9bc01956d21389654989542baa4ccf7e90f00237c4edb4de98162be3a"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542baa4ccf7e90f00237c4edb4de98162be3a">DIALOG_STATUS_INCOMPLETE</a></div><div class="ttdeci">@ DIALOG_STATUS_INCOMPLETE</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00117">QuestDef.h:117</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_ae9f831aa9bc01956d21389654989542bad0b9e3d049c7df9b0ca9c2d0d461a25d"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542bad0b9e3d049c7df9b0ca9c2d0d461a25d">DIALOG_STATUS_LOW_LEVEL_AVAILABLE_REP</a></div><div class="ttdeci">@ DIALOG_STATUS_LOW_LEVEL_AVAILABLE_REP</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00116">QuestDef.h:116</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_ae9f831aa9bc01956d21389654989542baeb1be76328219029c8b20345c76e9dd7"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#ae9f831aa9bc01956d21389654989542baeb1be76328219029c8b20345c76e9dd7">DIALOG_STATUS_AVAILABLE_REP</a></div><div class="ttdeci">@ DIALOG_STATUS_AVAILABLE_REP</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00119">QuestDef.h:119</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_afa444be95c64570168d2ecd6732aa7ada271648005ec2e602447056fbb91593ce"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7ada271648005ec2e602447056fbb91593ce">QUEST_SPECIAL_FLAGS_CAST</a></div><div class="ttdeci">@ QUEST_SPECIAL_FLAGS_CAST</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00165">QuestDef.h:165</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_afa444be95c64570168d2ecd6732aa7ada3babe1bfcae1e2c0c0f4b399eabcdaab"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7ada3babe1bfcae1e2c0c0f4b399eabcdaab">QUEST_SPECIAL_FLAGS_TIMED</a></div><div class="ttdeci">@ QUEST_SPECIAL_FLAGS_TIMED</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00173">QuestDef.h:173</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_afa444be95c64570168d2ecd6732aa7ada3e7201a507f2f10de112891952cc9a4f"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7ada3e7201a507f2f10de112891952cc9a4f">QUEST_SPECIAL_FLAGS_DELIVER</a></div><div class="ttdeci">@ QUEST_SPECIAL_FLAGS_DELIVER</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00170">QuestDef.h:170</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_afa444be95c64570168d2ecd6732aa7ada733d4cbb745e91f0d9b144facca67b27"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7ada733d4cbb745e91f0d9b144facca67b27">QUEST_SPECIAL_FLAGS_KILL</a></div><div class="ttdeci">@ QUEST_SPECIAL_FLAGS_KILL</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00172">QuestDef.h:172</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_afa444be95c64570168d2ecd6732aa7ada7cdb9968510dd711ea90b4b1f1275413"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7ada7cdb9968510dd711ea90b4b1f1275413">QUEST_SPECIAL_FLAGS_EXPLORATION_OR_EVENT</a></div><div class="ttdeci">@ QUEST_SPECIAL_FLAGS_EXPLORATION_OR_EVENT</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00161">QuestDef.h:161</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_afa444be95c64570168d2ecd6732aa7adaae331a9f2b83cc198f7bdd130fc3c8d8"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7adaae331a9f2b83cc198f7bdd130fc3c8d8">QUEST_SPECIAL_FLAGS_SPEAKTO</a></div><div class="ttdeci">@ QUEST_SPECIAL_FLAGS_SPEAKTO</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00171">QuestDef.h:171</a></div></div>
<div class="ttc" id="a_quest_def_8h_html_afa444be95c64570168d2ecd6732aa7adaf684e0d6b4efab2cf6a32452b9bba335"><div class="ttname"><a href="../../d2/dc8/_quest_def_8h.html#afa444be95c64570168d2ecd6732aa7adaf684e0d6b4efab2cf6a32452b9bba335">QUEST_SPECIAL_FLAGS_PLAYER_KILL</a></div><div class="ttdeci">@ QUEST_SPECIAL_FLAGS_PLAYER_KILL</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00175">QuestDef.h:174</a></div></div>
<div class="ttc" id="a_reputation_mgr_8h_html"><div class="ttname"><a href="../../dd/d7d/_reputation_mgr_8h.html">ReputationMgr.h</a></div></div>
<div class="ttc" id="a_script_mgr_8h_html"><div class="ttname"><a href="../../d0/d7d/_script_mgr_8h.html">ScriptMgr.h</a></div></div>
<div class="ttc" id="a_script_mgr_8h_html_ae8161e629869974bc49b1cbfc73c1087"><div class="ttname"><a href="../../d0/d7d/_script_mgr_8h.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a></div><div class="ttdeci">#define sScriptMgr</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d7d/_script_mgr_8h_source.html#l02048">ScriptMgr.h:2048</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97acef490c9f3480852d33dbbec7727fa7f"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97acef490c9f3480852d33dbbec7727fa7f">SPELL_EFFECT_LEARN_SPELL</a></div><div class="ttdeci">@ SPELL_EFFECT_LEARN_SPELL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00786">SharedDefines.h:786</a></div></div>
<div class="ttc" id="a_shared_defines_8h_html_a292c893150c454dd75628b719db1fe97af5abf258b008fbff818ad32ac7a95fbb"><div class="ttname"><a href="../../df/d0b/_shared_defines_8h.html#a292c893150c454dd75628b719db1fe97af5abf258b008fbff818ad32ac7a95fbb">SPELL_EFFECT_CREATE_ITEM</a></div><div class="ttdeci">@ SPELL_EFFECT_CREATE_ITEM</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0b/_shared_defines_8h_source.html#l00774">SharedDefines.h:774</a></div></div>
<div class="ttc" id="a_spell_aura_defines_8h_html_a538cdc259460b365f406fe0b3a981799a572e146e74f47d8f6f5c45b2a8163559"><div class="ttname"><a href="../../d7/d5a/_spell_aura_defines_8h.html#a538cdc259460b365f406fe0b3a981799a572e146e74f47d8f6f5c45b2a8163559">SPELL_AURA_MOD_XP_QUEST_PCT</a></div><div class="ttdeci">@ SPELL_AURA_MOD_XP_QUEST_PCT</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_spell_aura_defines_8h_source.html#l00354">SpellAuraDefines.h:354</a></div></div>
<div class="ttc" id="a_spell_aura_effects_8h_html"><div class="ttname"><a href="../../db/d82/_spell_aura_effects_8h.html">SpellAuraEffects.h</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_aa21e14d8e1145507b746a69b5487109d"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a></div><div class="ttdeci">#define sSpellMgr</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00794">SpellMgr.h:794</a></div></div>
<div class="ttc" id="a_spell_mgr_8h_html_aebca17b4bc1b0129c26a7c769d90159b"><div class="ttname"><a href="../../d3/d75/_spell_mgr_8h.html#aebca17b4bc1b0129c26a7c769d90159b">SpellAreaForQuestMapBounds</a></div><div class="ttdeci">std::pair&lt; SpellAreaForQuestMap::const_iterator, SpellAreaForQuestMap::const_iterator &gt; SpellAreaForQuestMapBounds</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d75/_spell_mgr_8h_source.html#l00532">SpellMgr.h:532</a></div></div>
<div class="ttc" id="a_unit_8h_html_aadcc1e3338f8cbbe511ad060db42dfb5a843659af0a40139bfa505d7e7982477b"><div class="ttname"><a href="../../d5/d32/_unit_8h.html#aadcc1e3338f8cbbe511ad060db42dfb5a843659af0a40139bfa505d7e7982477b">NULL_BAG</a></div><div class="ttdeci">@ NULL_BAG</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l00319">Unit.h:319</a></div></div>
<div class="ttc" id="a_unit_8h_html_aadcc1e3338f8cbbe511ad060db42dfb5aeb5cbd7990d2f5e679ec4ecc65e83130"><div class="ttname"><a href="../../d5/d32/_unit_8h.html#aadcc1e3338f8cbbe511ad060db42dfb5aeb5cbd7990d2f5e679ec4ecc65e83130">NULL_SLOT</a></div><div class="ttdeci">@ NULL_SLOT</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l00321">Unit.h:320</a></div></div>
<div class="ttc" id="a_update_fields_8h_html_a0e42dc606678c9df7884e1aad621e881a1839e5053ba2ed57303c92683b483745"><div class="ttname"><a href="../../dd/d65/_update_fields_8h.html#a0e42dc606678c9df7884e1aad621e881a1839e5053ba2ed57303c92683b483745">PLAYER_FIELD_DAILY_QUESTS_1</a></div><div class="ttdeci">@ PLAYER_FIELD_DAILY_QUESTS_1</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d65/_update_fields_8h_source.html#l00385">UpdateFields.h:385</a></div></div>
<div class="ttc" id="a_util_8h_html_a53176b459b4462b058b2a1be47ef82ee"><div class="ttname"><a href="../../dd/d90/_util_8h.html#a53176b459b4462b058b2a1be47ef82ee">AddPct</a></div><div class="ttdeci">T AddPct(T &amp;base, U pct)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d90/_util_8h_source.html#l00104">Util.h:104</a></div></div>
<div class="ttc" id="aclass_creature_html"><div class="ttname"><a href="../../d1/dac/class_creature.html">Creature</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/_creature_8h_source.html#l00045">Creature.h:46</a></div></div>
<div class="ttc" id="aclass_creature_html_ac96507fb393d3410b6fe27bebf31e20d"><div class="ttname"><a href="../../d1/dac/class_creature.html#ac96507fb393d3410b6fe27bebf31e20d">Creature::AI</a></div><div class="ttdeci">CreatureAI * AI() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d93/_creature_8h_source.html#l00129">Creature.h:129</a></div></div>
<div class="ttc" id="aclass_game_object_a_i_html_a8459d37ce69b9a02c1ecd047ec704089"><div class="ttname"><a href="../../d7/db8/class_game_object_a_i.html#a8459d37ce69b9a02c1ecd047ec704089">GameObjectAI::QuestAccept</a></div><div class="ttdeci">virtual bool QuestAccept(Player *, Quest const *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dcc/_game_object_a_i_8h_source.html#l00057">GameObjectAI.h:57</a></div></div>
<div class="ttc" id="aclass_game_object_html"><div class="ttname"><a href="../../d0/dd1/class_game_object.html">GameObject</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/_game_object_8h_source.html#l00743">GameObject.h:744</a></div></div>
<div class="ttc" id="aclass_game_object_html_a781f04602ca600af3419c51843009aba"><div class="ttname"><a href="../../d0/dd1/class_game_object.html#a781f04602ca600af3419c51843009aba">GameObject::AI</a></div><div class="ttdeci">GameObjectAI * AI() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/_game_object_8h_source.html#l00938">GameObject.h:938</a></div></div>
<div class="ttc" id="aclass_group_html"><div class="ttname"><a href="../../da/d50/class_group.html">Group</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc4/_group_8h_source.html#l00166">Group.h:167</a></div></div>
<div class="ttc" id="aclass_group_reference_html"><div class="ttname"><a href="../../de/dc3/class_group_reference.html">GroupReference</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dea/_group_reference_8h_source.html#l00026">GroupReference.h:27</a></div></div>
<div class="ttc" id="aclass_group_reference_html_a05b946c0952db094a696093283308cb1"><div class="ttname"><a href="../../de/dc3/class_group_reference.html#a05b946c0952db094a696093283308cb1">GroupReference::next</a></div><div class="ttdeci">GroupReference * next()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dea/_group_reference_8h_source.html#l00036">GroupReference.h:36</a></div></div>
<div class="ttc" id="aclass_item_html"><div class="ttname"><a href="../../dc/d32/class_item.html">Item</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d43/_item_8h_source.html#l00213">Item.h:214</a></div></div>
<div class="ttc" id="aclass_item_html_a04019a011a5f4df849f39b413df68295"><div class="ttname"><a href="../../dc/d32/class_item.html#a04019a011a5f4df849f39b413df68295">Item::GetSlot</a></div><div class="ttdeci">uint8 GetSlot() const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d43/_item_8h_source.html#l00272">Item.h:272</a></div></div>
<div class="ttc" id="aclass_item_html_a55223032f2942a6f46b10053afe8c73c"><div class="ttname"><a href="../../dc/d32/class_item.html#a55223032f2942a6f46b10053afe8c73c">Item::GetTemplate</a></div><div class="ttdeci">ItemTemplate const  * GetTemplate() const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/_item_8cpp_source.html#l00507">Item.cpp:507</a></div></div>
<div class="ttc" id="aclass_item_html_adfcfd40507681d503b6115ac3fc11a79"><div class="ttname"><a href="../../dc/d32/class_item.html#adfcfd40507681d503b6115ac3fc11a79">Item::GetBagSlot</a></div><div class="ttdeci">uint8 GetBagSlot() const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/_item_8cpp_source.html#l00747">Item.cpp:747</a></div></div>
<div class="ttc" id="aclass_mail_draft_html"><div class="ttname"><a href="../../dd/dc0/class_mail_draft.html">MailDraft</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d23/_mail_8h_source.html#l00117">Mail.h:118</a></div></div>
<div class="ttc" id="aclass_mail_draft_html_a54d7c515fcbf1523dc840657e28ecc2c"><div class="ttname"><a href="../../dd/dc0/class_mail_draft.html#a54d7c515fcbf1523dc840657e28ecc2c">MailDraft::SendMailTo</a></div><div class="ttdeci">void SendMailTo(CharacterDatabaseTransaction trans, MailReceiver const &amp;receiver, MailSender const &amp;sender, MailCheckMask checked=MAIL_CHECK_MASK_NONE, uint32 deliver_delay=0, uint32 custom_expiration=0, bool deleteMailItemsFromDB=false, bool sendMail=true, int32 auctionId=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db8/_mail_8cpp_source.html#l00181">Mail.cpp:181</a></div></div>
<div class="ttc" id="aclass_map_html"><div class="ttname"><a href="../../dd/d11/class_map.html">Map</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d63/_map_8h_source.html#l00298">Map.h:299</a></div></div>
<div class="ttc" id="aclass_map_html_a92001d81940cdfec678ec714248052a5"><div class="ttname"><a href="../../dd/d11/class_map.html#a92001d81940cdfec678ec714248052a5">Map::GetGameObject</a></div><div class="ttdeci">GameObject * GetGameObject(ObjectGuid const guid)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df4/_map_8cpp_source.html#l03258">Map.cpp:3258</a></div></div>
<div class="ttc" id="aclass_map_html_a9c20f696cb8109183fbd81b13848b050"><div class="ttname"><a href="../../dd/d11/class_map.html#a9c20f696cb8109183fbd81b13848b050">Map::GetCreature</a></div><div class="ttdeci">Creature * GetCreature(ObjectGuid const guid)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df4/_map_8cpp_source.html#l03253">Map.cpp:3253</a></div></div>
<div class="ttc" id="aclass_object_guid_html"><div class="ttname"><a href="../../d8/d03/class_object_guid.html">ObjectGuid</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d83/_object_guid_8h_source.html#l00119">ObjectGuid.h:120</a></div></div>
<div class="ttc" id="aclass_object_html"><div class="ttname"><a href="../../d8/d83/class_object.html">Object</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/_object_8h_source.html#l00088">Object.h:89</a></div></div>
<div class="ttc" id="aclass_object_html_a3264388b9f92da9de7641477b3dc77f9"><div class="ttname"><a href="../../d8/d83/class_object.html#a3264388b9f92da9de7641477b3dc77f9">Object::GetUInt32Value</a></div><div class="ttdeci">uint32 GetUInt32Value(uint16 index) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/ded/_object_8cpp_source.html#l00300">Object.cpp:300</a></div></div>
<div class="ttc" id="aclass_object_html_a3aeab7def818ba6c50249f197ad2f9ca"><div class="ttname"><a href="../../d8/d83/class_object.html#a3aeab7def818ba6c50249f197ad2f9ca">Object::IsInWorld</a></div><div class="ttdeci">bool IsInWorld() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/_object_8h_source.html#l00093">Object.h:93</a></div></div>
<div class="ttc" id="aclass_object_html_a4a4bdac0d151f9193aa3581bda31193c"><div class="ttname"><a href="../../d8/d83/class_object.html#a4a4bdac0d151f9193aa3581bda31193c">Object::ToCreature</a></div><div class="ttdeci">Creature * ToCreature()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/_object_8h_source.html#l00183">Object.h:183</a></div></div>
<div class="ttc" id="aclass_object_html_a5a39e4cde00448cc3a6eaeaee139c749"><div class="ttname"><a href="../../d8/d83/class_object.html#a5a39e4cde00448cc3a6eaeaee139c749">Object::hasQuest</a></div><div class="ttdeci">virtual bool hasQuest(uint32) const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/_object_8h_source.html#l00169">Object.h:169</a></div></div>
<div class="ttc" id="aclass_object_html_a621a345fc34deed6d3a4e1e498a652da"><div class="ttname"><a href="../../d8/d83/class_object.html#a621a345fc34deed6d3a4e1e498a652da">Object::GetTypeId</a></div><div class="ttdeci">TypeID GetTypeId() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/_object_8h_source.html#l00107">Object.h:107</a></div></div>
<div class="ttc" id="aclass_object_html_a7253dbcbed15f5f1190c5cc56d141610"><div class="ttname"><a href="../../d8/d83/class_object.html#a7253dbcbed15f5f1190c5cc56d141610">Object::isType</a></div><div class="ttdeci">bool isType(uint16 mask) const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/_object_8h_source.html#l00108">Object.h:108</a></div></div>
<div class="ttc" id="aclass_object_html_aa627fe2967ed0e0ed1d8aeeb4365a961"><div class="ttname"><a href="../../d8/d83/class_object.html#aa627fe2967ed0e0ed1d8aeeb4365a961">Object::GetEntry</a></div><div class="ttdeci">uint32 GetEntry() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/_object_8h_source.html#l00101">Object.h:101</a></div></div>
<div class="ttc" id="aclass_object_html_ac29133995854ac3bf59c164a91d6efaa"><div class="ttname"><a href="../../d8/d83/class_object.html#ac29133995854ac3bf59c164a91d6efaa">Object::ToGameObject</a></div><div class="ttdeci">GameObject * ToGameObject()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/_object_8h_source.html#l00188">Object.h:188</a></div></div>
<div class="ttc" id="aclass_object_html_ad23b997e2442fa6a6228ba73a7ecc138"><div class="ttname"><a href="../../d8/d83/class_object.html#ad23b997e2442fa6a6228ba73a7ecc138">Object::GetGUID</a></div><div class="ttdeci">static ObjectGuid GetGUID(Object const *o)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/_object_8h_source.html#l00098">Object.h:98</a></div></div>
<div class="ttc" id="aclass_object_html_ada61cb59931e3c02624a63161997bf20"><div class="ttname"><a href="../../d8/d83/class_object.html#ada61cb59931e3c02624a63161997bf20">Object::hasInvolvedQuest</a></div><div class="ttdeci">virtual bool hasInvolvedQuest(uint32) const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/_object_8h_source.html#l00170">Object.h:170</a></div></div>
<div class="ttc" id="aclass_object_html_ae635434021784608b659501867538c87"><div class="ttname"><a href="../../d8/d83/class_object.html#ae635434021784608b659501867538c87">Object::ToPlayer</a></div><div class="ttdeci">Player * ToPlayer()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/_object_8h_source.html#l00181">Object.h:181</a></div></div>
<div class="ttc" id="aclass_object_html_ae65fbd7720a9aa448516f6cf494bda67"><div class="ttname"><a href="../../d8/d83/class_object.html#ae65fbd7720a9aa448516f6cf494bda67">Object::GetGUID</a></div><div class="ttdeci">ObjectGuid GetGUID() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/_object_8h_source.html#l00099">Object.h:99</a></div></div>
<div class="ttc" id="aclass_object_mgr_html_a4143a2afd52e788bd0bd82193ef41701"><div class="ttname"><a href="../../d5/dbd/class_object_mgr.html#a4143a2afd52e788bd0bd82193ef41701">ObjectMgr::ExclusiveQuestGroupsBounds</a></div><div class="ttdeci">std::pair&lt; ExclusiveQuestGroups::const_iterator, ExclusiveQuestGroups::const_iterator &gt; ExclusiveQuestGroupsBounds</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d77/_object_mgr_8h_source.html#l01097">ObjectMgr.h:1097</a></div></div>
<div class="ttc" id="aclass_object_mgr_html_a92a2d9fe378030122340f34a7cb79ef9"><div class="ttname"><a href="../../d5/dbd/class_object_mgr.html#a92a2d9fe378030122340f34a7cb79ef9">ObjectMgr::GetLocaleString</a></div><div class="ttdeci">static std::string_view GetLocaleString(std::vector&lt; std::string &gt; const &amp;data, size_t locale)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d77/_object_mgr_8h_source.html#l01349">ObjectMgr.h:1349</a></div></div>
<div class="ttc" id="aclass_player_html"><div class="ttname"><a href="../../d8/d53/class_player.html">Player</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l01023">Player.h:1024</a></div></div>
<div class="ttc" id="aclass_player_html_a017c8a9f126945990cedc63b5567af0b"><div class="ttname"><a href="../../d8/d53/class_player.html#a017c8a9f126945990cedc63b5567af0b">Player::SaveToDB</a></div><div class="ttdeci">void SaveToDB(bool create, bool logout)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d16/_player_storage_8cpp_source.html#l07117">PlayerStorage.cpp:7117</a></div></div>
<div class="ttc" id="aclass_player_html_a027311c87a87395ab2c6950d17cbf5cb"><div class="ttname"><a href="../../d8/d53/class_player.html#a027311c87a87395ab2c6950d17cbf5cb">Player::ReputationChanged</a></div><div class="ttdeci">void ReputationChanged(FactionEntry const *factionEntry)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l02136">PlayerQuest.cpp:2136</a></div></div>
<div class="ttc" id="aclass_player_html_a030b9e0a5adc82692f438c8a7109da6c"><div class="ttname"><a href="../../d8/d53/class_player.html#a030b9e0a5adc82692f438c8a7109da6c">Player::RewardHonor</a></div><div class="ttdeci">bool RewardHonor(Unit *victim, uint32 groupsize, int32 honor=-1, bool awardXP=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d82/_player_8cpp_source.html#l05866">Player.cpp:5866</a></div></div>
<div class="ttc" id="aclass_player_html_a04bc54fb5b9161aa37fc07524af92634"><div class="ttname"><a href="../../d8/d53/class_player.html#a04bc54fb5b9161aa37fc07524af92634">Player::UpdateAchievementCriteria</a></div><div class="ttdeci">void UpdateAchievementCriteria(AchievementCriteriaTypes type, uint32 miscValue1=0, uint32 miscValue2=0, Unit *unit=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d38/_player_updates_8cpp_source.html#l02203">PlayerUpdates.cpp:2203</a></div></div>
<div class="ttc" id="aclass_player_html_a05924f5e9df8d5f06ba422e159a4fd8a"><div class="ttname"><a href="../../d8/d53/class_player.html#a05924f5e9df8d5f06ba422e159a4fd8a">Player::KilledMonsterCredit</a></div><div class="ttdeci">void KilledMonsterCredit(uint32 entry, ObjectGuid guid=ObjectGuid::Empty)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01875">PlayerQuest.cpp:1875</a></div></div>
<div class="ttc" id="aclass_player_html_a06adafbf0eb3a828dfc0049cc81ca31c"><div class="ttname"><a href="../../d8/d53/class_player.html#a06adafbf0eb3a828dfc0049cc81ca31c">Player::GetReputationMgr</a></div><div class="ttdeci">ReputationMgr &amp; GetReputationMgr()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l02067">Player.h:2067</a></div></div>
<div class="ttc" id="aclass_player_html_a08da230a223bbe1f410d6e89e334823f"><div class="ttname"><a href="../../d8/d53/class_player.html#a08da230a223bbe1f410d6e89e334823f">Player::GetQuestRate</a></div><div class="ttdeci">float GetQuestRate()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d82/_player_8cpp_source.html#l15359">Player.cpp:15359</a></div></div>
<div class="ttc" id="aclass_player_html_a0927f8027a80bf9d43291d73c2556a04"><div class="ttname"><a href="../../d8/d53/class_player.html#a0927f8027a80bf9d43291d73c2556a04">Player::ItemRemovedQuestCheck</a></div><div class="ttdeci">void ItemRemovedQuestCheck(uint32 entry, uint32 count)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01822">PlayerQuest.cpp:1822</a></div></div>
<div class="ttc" id="aclass_player_html_a0b02fb6b66f622faf8af68ebbd33b719"><div class="ttname"><a href="../../d8/d53/class_player.html#a0b02fb6b66f622faf8af68ebbd33b719">Player::RewardQuest</a></div><div class="ttdeci">void RewardQuest(Quest const *quest, uint32 reward, Object *questGiver, bool announce=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l00655">PlayerQuest.cpp:655</a></div></div>
<div class="ttc" id="aclass_player_html_a0cb45f8c742f6455c5fa34fdecdc6d0d"><div class="ttname"><a href="../../d8/d53/class_player.html#a0cb45f8c742f6455c5fa34fdecdc6d0d">Player::m_QuestStatus</a></div><div class="ttdeci">QuestStatusMap m_QuestStatus</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l02741">Player.h:2741</a></div></div>
<div class="ttc" id="aclass_player_html_a10c732bc343e1f9b0de50865bb2ba577"><div class="ttname"><a href="../../d8/d53/class_player.html#a10c732bc343e1f9b0de50865bb2ba577">Player::StartTimedAchievement</a></div><div class="ttdeci">void StartTimedAchievement(AchievementCriteriaTimedTypes type, uint32 entry, uint32 timeLost=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d82/_player_8cpp_source.html#l13091">Player.cpp:13091</a></div></div>
<div class="ttc" id="aclass_player_html_a12c144fe6e00820ed8929e0547ab04f3"><div class="ttname"><a href="../../d8/d53/class_player.html#a12c144fe6e00820ed8929e0547ab04f3">Player::GetQuestLevel</a></div><div class="ttdeci">int32 GetQuestLevel(Quest const *quest) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l01359">Player.h:1359</a></div></div>
<div class="ttc" id="aclass_player_html_a144a3a724d55073438501522b396bc44"><div class="ttname"><a href="../../d8/d53/class_player.html#a144a3a724d55073438501522b396bc44">Player::HasPvPForcingQuest</a></div><div class="ttdeci">bool HasPvPForcingQuest() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l02419">PlayerQuest.cpp:2419</a></div></div>
<div class="ttc" id="aclass_player_html_a154dcd260829c16a4881fc9c5e8e9629"><div class="ttname"><a href="../../d8/d53/class_player.html#a154dcd260829c16a4881fc9c5e8e9629">Player::HasQuestForItem</a></div><div class="ttdeci">bool HasQuestForItem(uint32 itemId, uint32 excludeQuestId=0, bool turnIn=false, bool *showInLoot=nullptr) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l02192">PlayerQuest.cpp:2192</a></div></div>
<div class="ttc" id="aclass_player_html_a1b2ca1d80df0e35eb06c77844ff6cf49"><div class="ttname"><a href="../../d8/d53/class_player.html#a1b2ca1d80df0e35eb06c77844ff6cf49">Player::InitTalentForLevel</a></div><div class="ttdeci">void InitTalentForLevel()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d82/_player_8cpp_source.html#l02477">Player.cpp:2477</a></div></div>
<div class="ttc" id="aclass_player_html_a1c212b8f9ae8b1a38a41f9c7db005dca"><div class="ttname"><a href="../../d8/d53/class_player.html#a1c212b8f9ae8b1a38a41f9c7db005dca">Player::GetSession</a></div><div class="ttdeci">WorldSession * GetSession() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l01940">Player.h:1940</a></div></div>
<div class="ttc" id="aclass_player_html_a1dff33f9fec35951365e2ee54eac20b8"><div class="ttname"><a href="../../d8/d53/class_player.html#a1dff33f9fec35951365e2ee54eac20b8">Player::GetQuestSlotCounter</a></div><div class="ttdeci">uint16 GetQuestSlotCounter(uint16 slot, uint8 counter) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l01419">Player.h:1419</a></div></div>
<div class="ttc" id="aclass_player_html_a20f4b508f43c0250a376be46cb31ffa6"><div class="ttname"><a href="../../d8/d53/class_player.html#a20f4b508f43c0250a376be46cb31ffa6">Player::SatisfyQuestNextChain</a></div><div class="ttdeci">bool SatisfyQuestNextChain(Quest const *qInfo, bool msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01208">PlayerQuest.cpp:1208</a></div></div>
<div class="ttc" id="aclass_player_html_a23321f70f6954313a691f35ce93d2794"><div class="ttname"><a href="../../d8/d53/class_player.html#a23321f70f6954313a691f35ce93d2794">Player::IncompleteQuest</a></div><div class="ttdeci">void IncompleteQuest(uint32 quest_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l00638">PlayerQuest.cpp:638</a></div></div>
<div class="ttc" id="aclass_player_html_a2993e8a7570b49ded926f2fd8306a9f3"><div class="ttname"><a href="../../d8/d53/class_player.html#a2993e8a7570b49ded926f2fd8306a9f3">Player::getQuestStatusMap</a></div><div class="ttdeci">QuestStatusMap &amp; getQuestStatusMap()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l01557">Player.h:1557</a></div></div>
<div class="ttc" id="aclass_player_html_a2b7579cb973f79b2886702c96721f594"><div class="ttname"><a href="../../d8/d53/class_player.html#a2b7579cb973f79b2886702c96721f594">Player::GetSkillValue</a></div><div class="ttdeci">uint16 GetSkillValue(uint32 skill) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d82/_player_8cpp_source.html#l05287">Player.cpp:5287</a></div></div>
<div class="ttc" id="aclass_player_html_a2f780cf8d581075515965d1de74cf789"><div class="ttname"><a href="../../d8/d53/class_player.html#a2f780cf8d581075515965d1de74cf789">Player::GetQuestRewardStatus</a></div><div class="ttdeci">bool GetQuestRewardStatus(uint32 quest_id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01389">PlayerQuest.cpp:1389</a></div></div>
<div class="ttc" id="aclass_player_html_a3454be68dff7bb9d8ee581591cac3c95"><div class="ttname"><a href="../../d8/d53/class_player.html#a3454be68dff7bb9d8ee581591cac3c95">Player::FindQuestSlot</a></div><div class="ttdeci">uint16 FindQuestSlot(uint32 quest_id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01730">PlayerQuest.cpp:1730</a></div></div>
<div class="ttc" id="aclass_player_html_a3aaa65265268e0e56812f64009d8b5cd"><div class="ttname"><a href="../../d8/d53/class_player.html#a3aaa65265268e0e56812f64009d8b5cd">Player::ReputationChanged2</a></div><div class="ttdeci">void ReputationChanged2(FactionEntry const *factionEntry)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l02164">PlayerQuest.cpp:2164</a></div></div>
<div class="ttc" id="aclass_player_html_a3acf7eadb0ec1ae686858ea11ee87302"><div class="ttname"><a href="../../d8/d53/class_player.html#a3acf7eadb0ec1ae686858ea11ee87302">Player::GetGroup</a></div><div class="ttdeci">Group * GetGroup()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l02431">Player.h:2431</a></div></div>
<div class="ttc" id="aclass_player_html_a3b6b7692a9496e07088b96315decc78c"><div class="ttname"><a href="../../d8/d53/class_player.html#a3b6b7692a9496e07088b96315decc78c">Player::HasItemCount</a></div><div class="ttdeci">bool HasItemCount(uint32 item, uint32 count=1, bool inBankAlso=false) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d16/_player_storage_8cpp_source.html#l00683">PlayerStorage.cpp:683</a></div></div>
<div class="ttc" id="aclass_player_html_a3d425ac6fd9142a4e2bade0d6db6c254"><div class="ttname"><a href="../../d8/d53/class_player.html#a3d425ac6fd9142a4e2bade0d6db6c254">Player::SendQuestUpdateAddCreatureOrGo</a></div><div class="ttdeci">void SendQuestUpdateAddCreatureOrGo(Quest const *quest, ObjectGuid guid, uint32 creatureOrGO_idx, uint16 old_count, uint16 add_count)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l02380">PlayerQuest.cpp:2380</a></div></div>
<div class="ttc" id="aclass_player_html_a3eff2504b3182e587f5861966fc819e6"><div class="ttname"><a href="../../d8/d53/class_player.html#a3eff2504b3182e587f5861966fc819e6">Player::SatisfyQuestExclusiveGroup</a></div><div class="ttdeci">bool SatisfyQuestExclusiveGroup(Quest const *qInfo, bool msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01171">PlayerQuest.cpp:1171</a></div></div>
<div class="ttc" id="aclass_player_html_a3f71a19d954e153b2fb790f176d7e69e"><div class="ttname"><a href="../../d8/d53/class_player.html#a3f71a19d954e153b2fb790f176d7e69e">Player::m_DFQuests</a></div><div class="ttdeci">DFQuestsDoneList m_DFQuests</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l02375">Player.h:2375</a></div></div>
<div class="ttc" id="aclass_player_html_a4119b83fa78e608d8d946b1821c57fdf"><div class="ttname"><a href="../../d8/d53/class_player.html#a4119b83fa78e608d8d946b1821c57fdf">Player::CanTakeQuest</a></div><div class="ttdeci">bool CanTakeQuest(Quest const *quest, bool msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l00247">PlayerQuest.cpp:247</a></div></div>
<div class="ttc" id="aclass_player_html_a4421205f8ff8c57dd0c7aa2eae0ba4a2"><div class="ttname"><a href="../../d8/d53/class_player.html#a4421205f8ff8c57dd0c7aa2eae0ba4a2">Player::SendQuestConfirmAccept</a></div><div class="ttdeci">void SendQuestConfirmAccept(Quest const *quest, Player *pReceiver)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l02337">PlayerQuest.cpp:2337</a></div></div>
<div class="ttc" id="aclass_player_html_a46351fb555db3b97fc531f215d2d2338"><div class="ttname"><a href="../../d8/d53/class_player.html#a46351fb555db3b97fc531f215d2d2338">Player::ModifyMoney</a></div><div class="ttdeci">bool ModifyMoney(int32 amount, bool sendError=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d82/_player_8cpp_source.html#l10733">Player.cpp:10733</a></div></div>
<div class="ttc" id="aclass_player_html_a467189aea8a8fb26ef8482254e6f2b34"><div class="ttname"><a href="../../d8/d53/class_player.html#a467189aea8a8fb26ef8482254e6f2b34">Player::InBattleground</a></div><div class="ttdeci">bool InBattleground() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l02190">Player.h:2190</a></div></div>
<div class="ttc" id="aclass_player_html_a47feaacc28495f3cf9612f908838ba0a"><div class="ttname"><a href="../../d8/d53/class_player.html#a47feaacc28495f3cf9612f908838ba0a">Player::GiveXP</a></div><div class="ttdeci">void GiveXP(uint32 xp, Unit *victim, float group_rate=1.0f)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d82/_player_8cpp_source.html#l02306">Player.cpp:2306</a></div></div>
<div class="ttc" id="aclass_player_html_a4b8c18a582b0aab0f3dee61d76ec93a6"><div class="ttname"><a href="../../d8/d53/class_player.html#a4b8c18a582b0aab0f3dee61d76ec93a6">Player::m_timedquests</a></div><div class="ttdeci">QuestSet m_timedquests</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l02638">Player.h:2638</a></div></div>
<div class="ttc" id="aclass_player_html_a4c174e400f1b0df0ec02141d92ab87b2"><div class="ttname"><a href="../../d8/d53/class_player.html#a4c174e400f1b0df0ec02141d92ab87b2">Player::TalkedToCreature</a></div><div class="ttdeci">void TalkedToCreature(uint32 entry, ObjectGuid guid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l02040">PlayerQuest.cpp:2040</a></div></div>
<div class="ttc" id="aclass_player_html_a4c5c78979c1df40929dc1ce44c5f6daf"><div class="ttname"><a href="../../d8/d53/class_player.html#a4c5c78979c1df40929dc1ce44c5f6daf">Player::SetMonthlyQuestStatus</a></div><div class="ttdeci">void SetMonthlyQuestStatus(uint32 quest_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d82/_player_8cpp_source.html#l11441">Player.cpp:11441</a></div></div>
<div class="ttc" id="aclass_player_html_a4e146717e02e530b473d147e6c650ff4"><div class="ttname"><a href="../../d8/d53/class_player.html#a4e146717e02e530b473d147e6c650ff4">Player::GetDifficulty</a></div><div class="ttdeci">Difficulty GetDifficulty(bool isRaid) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l01862">Player.h:1862</a></div></div>
<div class="ttc" id="aclass_player_html_a4ed4f2a833a55c6cb2ffc91fb43eb066"><div class="ttname"><a href="../../d8/d53/class_player.html#a4ed4f2a833a55c6cb2ffc91fb43eb066">Player::UpdateForQuestWorldObjects</a></div><div class="ttdeci">void UpdateForQuestWorldObjects()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d38/_player_updates_8cpp_source.html#l01823">PlayerUpdates.cpp:1823</a></div></div>
<div class="ttc" id="aclass_player_html_a4f79955d3a09a3ba998350d584546717"><div class="ttname"><a href="../../d8/d53/class_player.html#a4f79955d3a09a3ba998350d584546717">Player::m_weeklyquests</a></div><div class="ttdeci">QuestSet m_weeklyquests</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l02639">Player.h:2639</a></div></div>
<div class="ttc" id="aclass_player_html_a4f934c08237609db274d492c0323b744"><div class="ttname"><a href="../../d8/d53/class_player.html#a4f934c08237609db274d492c0323b744">Player::GetQuestDialogStatus</a></div><div class="ttdeci">QuestGiverStatus GetQuestDialogStatus(Object *questGiver)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01557">PlayerQuest.cpp:1557</a></div></div>
<div class="ttc" id="aclass_player_html_a51452c4c6e6c2f8eb13dc66dfb5e8ba4"><div class="ttname"><a href="../../d8/d53/class_player.html#a51452c4c6e6c2f8eb13dc66dfb5e8ba4">Player::SetSeasonalQuestStatus</a></div><div class="ttdeci">void SetSeasonalQuestStatus(uint32 quest_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d82/_player_8cpp_source.html#l11431">Player.cpp:11431</a></div></div>
<div class="ttc" id="aclass_player_html_a518389d20cdf628f73a4ca8db9b5d2fd"><div class="ttname"><a href="../../d8/d53/class_player.html#a518389d20cdf628f73a4ca8db9b5d2fd">Player::SatisfyQuestDay</a></div><div class="ttdeci">bool SatisfyQuestDay(Quest const *qInfo, bool msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01256">PlayerQuest.cpp:1256</a></div></div>
<div class="ttc" id="aclass_player_html_a5287085841b4a0e311f7dd0ea20f61af"><div class="ttname"><a href="../../d8/d53/class_player.html#a5287085841b4a0e311f7dd0ea20f61af">Player::SendItemRetrievalMail</a></div><div class="ttdeci">void SendItemRetrievalMail(uint32 itemEntry, uint32 count)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7b/_player_misc_8cpp_source.html#l00420">PlayerMisc.cpp:420</a></div></div>
<div class="ttc" id="aclass_player_html_a5407b30447c557eb4bcb441d0e4df355"><div class="ttname"><a href="../../d8/d53/class_player.html#a5407b30447c557eb4bcb441d0e4df355">Player::GroupEventHappens</a></div><div class="ttdeci">void GroupEventHappens(uint32 questId, WorldObject const *pEventObject)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01766">PlayerQuest.cpp:1766</a></div></div>
<div class="ttc" id="aclass_player_html_a541838bee904b263239f051505a1498b"><div class="ttname"><a href="../../d8/d53/class_player.html#a541838bee904b263239f051505a1498b">Player::CanRewardQuest</a></div><div class="ttdeci">bool CanRewardQuest(Quest const *quest, bool msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l00380">PlayerQuest.cpp:380</a></div></div>
<div class="ttc" id="aclass_player_html_a558ae516e2abd8e8be169518d7209053"><div class="ttname"><a href="../../d8/d53/class_player.html#a558ae516e2abd8e8be169518d7209053">Player::SendPreparedQuest</a></div><div class="ttdeci">void SendPreparedQuest(ObjectGuid guid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l00112">PlayerQuest.cpp:112</a></div></div>
<div class="ttc" id="aclass_player_html_a56420e8977008b8f8a3399058b8a432f"><div class="ttname"><a href="../../d8/d53/class_player.html#a56420e8977008b8f8a3399058b8a432f">Player::m_monthlyquests</a></div><div class="ttdeci">QuestSet m_monthlyquests</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l02640">Player.h:2640</a></div></div>
<div class="ttc" id="aclass_player_html_a5713cd88450fc91ded78904209521176"><div class="ttname"><a href="../../d8/d53/class_player.html#a5713cd88450fc91ded78904209521176">Player::SatisfyQuestConditions</a></div><div class="ttdeci">bool SatisfyQuestConditions(Quest const *qInfo, bool msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01147">PlayerQuest.cpp:1147</a></div></div>
<div class="ttc" id="aclass_player_html_a572b6465151408484c3bf84bb3f946a3"><div class="ttname"><a href="../../d8/d53/class_player.html#a572b6465151408484c3bf84bb3f946a3">Player::SendQuestTimerFailed</a></div><div class="ttdeci">void SendQuestTimerFailed(uint32 quest_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l02318">PlayerQuest.cpp:2318</a></div></div>
<div class="ttc" id="aclass_player_html_a583c1a4763502f74b9aa69f5b43fc9a6"><div class="ttname"><a href="../../d8/d53/class_player.html#a583c1a4763502f74b9aa69f5b43fc9a6">Player::AddQuest</a></div><div class="ttdeci">void AddQuest(Quest const *quest, Object *questGiver)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l00508">PlayerQuest.cpp:508</a></div></div>
<div class="ttc" id="aclass_player_html_a583d3a68188487a3952dc9e6bd1a1c76"><div class="ttname"><a href="../../d8/d53/class_player.html#a583d3a68188487a3952dc9e6bd1a1c76">Player::UpdatePvPState</a></div><div class="ttdeci">void UpdatePvPState()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d38/_player_updates_8cpp_source.html#l01377">PlayerUpdates.cpp:1377</a></div></div>
<div class="ttc" id="aclass_player_html_a5aa219a691b0c5212fda9de12dfd72e9"><div class="ttname"><a href="../../d8/d53/class_player.html#a5aa219a691b0c5212fda9de12dfd72e9">Player::GetItemCount</a></div><div class="ttdeci">uint32 GetItemCount(uint32 item, bool inBankAlso=false, Item *skipItem=nullptr) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d16/_player_storage_8cpp_source.html#l00355">PlayerStorage.cpp:355</a></div></div>
<div class="ttc" id="aclass_player_html_a5ced1d54771a4c7654620f1768436806"><div class="ttname"><a href="../../d8/d53/class_player.html#a5ced1d54771a4c7654620f1768436806">Player::CanAddQuest</a></div><div class="ttdeci">bool CanAddQuest(Quest const *quest, bool msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l00260">PlayerQuest.cpp:260</a></div></div>
<div class="ttc" id="aclass_player_html_a60c16e65f7375a886b133d5e8738c798"><div class="ttname"><a href="../../d8/d53/class_player.html#a60c16e65f7375a886b133d5e8738c798">Player::IsAtGroupRewardDistance</a></div><div class="ttdeci">bool IsAtGroupRewardDistance(WorldObject const *pRewardSource) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d82/_player_8cpp_source.html#l11957">Player.cpp:11957</a></div></div>
<div class="ttc" id="aclass_player_html_a60ef0de3403e8c16c065fe12f5f856e5"><div class="ttname"><a href="../../d8/d53/class_player.html#a60ef0de3403e8c16c065fe12f5f856e5">Player::KilledMonster</a></div><div class="ttdeci">void KilledMonster(CreatureTemplate const *cInfo, ObjectGuid guid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01863">PlayerQuest.cpp:1863</a></div></div>
<div class="ttc" id="aclass_player_html_a6313d888ff224476aa988bd1f0f2ea3c"><div class="ttname"><a href="../../d8/d53/class_player.html#a6313d888ff224476aa988bd1f0f2ea3c">Player::GetReqKillOrCastCurrentCount</a></div><div class="ttdeci">uint16 GetReqKillOrCastCurrentCount(uint32 quest_id, int32 entry)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01699">PlayerQuest.cpp:1699</a></div></div>
<div class="ttc" id="aclass_player_html_a67b53af432006bf83e80cb6991b6e146"><div class="ttname"><a href="../../d8/d53/class_player.html#a67b53af432006bf83e80cb6991b6e146">Player::CompleteQuest</a></div><div class="ttdeci">void CompleteQuest(uint32 quest_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l00599">PlayerQuest.cpp:599</a></div></div>
<div class="ttc" id="aclass_player_html_a6b0668bfae62da5119dbc080d2c3c7f5"><div class="ttname"><a href="../../d8/d53/class_player.html#a6b0668bfae62da5119dbc080d2c3c7f5">Player::SendQuestFailed</a></div><div class="ttdeci">void SendQuestFailed(uint32 questId, InventoryResult reason=EQUIP_ERR_OK)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l02306">PlayerQuest.cpp:2306</a></div></div>
<div class="ttc" id="aclass_player_html_a6dea805c714a08cb8972769c3f343bb9"><div class="ttname"><a href="../../d8/d53/class_player.html#a6dea805c714a08cb8972769c3f343bb9">Player::UpdateAreaDependentAuras</a></div><div class="ttdeci">void UpdateAreaDependentAuras(uint32 area_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d38/_player_updates_8cpp_source.html#l01893">PlayerUpdates.cpp:1893</a></div></div>
<div class="ttc" id="aclass_player_html_a7003bb11837e1583fbd9aa0606e3c22f"><div class="ttname"><a href="../../d8/d53/class_player.html#a7003bb11837e1583fbd9aa0606e3c22f">Player::RemoveQuestSlotState</a></div><div class="ttdeci">void RemoveQuestSlotState(uint16 slot, uint32 state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l01437">Player.h:1437</a></div></div>
<div class="ttc" id="aclass_player_html_a71e5ab0c8c5ba33eb6c36a2300065823"><div class="ttname"><a href="../../d8/d53/class_player.html#a71e5ab0c8c5ba33eb6c36a2300065823">Player::SendQuestUpdate</a></div><div class="ttdeci">void SendQuestUpdate(uint32 questId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01488">PlayerQuest.cpp:1488</a></div></div>
<div class="ttc" id="aclass_player_html_a722631a3f64dd62b5f8db9114051e4cf"><div class="ttname"><a href="../../d8/d53/class_player.html#a722631a3f64dd62b5f8db9114051e4cf">Player::SendQuestReward</a></div><div class="ttdeci">void SendQuestReward(Quest const *quest, uint32 XP)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l02281">PlayerQuest.cpp:2281</a></div></div>
<div class="ttc" id="aclass_player_html_a743bfca834aded4409212d6fb43d8f4f"><div class="ttname"><a href="../../d8/d53/class_player.html#a743bfca834aded4409212d6fb43d8f4f">Player::CanSeeStartQuest</a></div><div class="ttdeci">bool CanSeeStartQuest(Quest const *quest)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l00233">PlayerQuest.cpp:233</a></div></div>
<div class="ttc" id="aclass_player_html_a77b52bf6fc7a0ac6ad37bf836aaf5c7b"><div class="ttname"><a href="../../d8/d53/class_player.html#a77b52bf6fc7a0ac6ad37bf836aaf5c7b">Player::HasEnoughMoney</a></div><div class="ttdeci">bool HasEnoughMoney(uint32 amount) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l01541">Player.h:1541</a></div></div>
<div class="ttc" id="aclass_player_html_a78498168eaeb91ca88e76f9e38867213"><div class="ttname"><a href="../../d8/d53/class_player.html#a78498168eaeb91ca88e76f9e38867213">Player::GetQuestSlotQuestId</a></div><div class="ttdeci">uint32 GetQuestSlotQuestId(uint16 slot) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l01417">Player.h:1417</a></div></div>
<div class="ttc" id="aclass_player_html_a79e24bb7856e3631a8e3d1fd16fc744e"><div class="ttname"><a href="../../d8/d53/class_player.html#a79e24bb7856e3631a8e3d1fd16fc744e">Player::DestroyItem</a></div><div class="ttdeci">void DestroyItem(uint8 bag, uint8 slot, bool update)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d16/_player_storage_8cpp_source.html#l03062">PlayerStorage.cpp:3062</a></div></div>
<div class="ttc" id="aclass_player_html_a7b45b9e11b333d56baf6b02cc523d70a"><div class="ttname"><a href="../../d8/d53/class_player.html#a7b45b9e11b333d56baf6b02cc523d70a">Player::SatisfyQuestMonth</a></div><div class="ttdeci">bool SatisfyQuestMonth(Quest const *qInfo, bool msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01313">PlayerQuest.cpp:1313</a></div></div>
<div class="ttc" id="aclass_player_html_a7fd041ba881e95856b8520252b0327a6"><div class="ttname"><a href="../../d8/d53/class_player.html#a7fd041ba881e95856b8520252b0327a6">Player::SetQuestSlotCounter</a></div><div class="ttdeci">void SetQuestSlotCounter(uint16 slot, uint8 counter, uint16 count)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l01429">Player.h:1429</a></div></div>
<div class="ttc" id="aclass_player_html_a803dcde80afc11ca53fbee4d4e0d22f7"><div class="ttname"><a href="../../d8/d53/class_player.html#a803dcde80afc11ca53fbee4d4e0d22f7">Player::KilledPlayerCredit</a></div><div class="ttdeci">void KilledPlayerCredit()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01943">PlayerQuest.cpp:1943</a></div></div>
<div class="ttc" id="aclass_player_html_a84b252bdcb4e0538c1043926773f153f"><div class="ttname"><a href="../../d8/d53/class_player.html#a84b252bdcb4e0538c1043926773f153f">Player::HasQuest</a></div><div class="ttdeci">bool HasQuest(uint32 questId) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l00098">PlayerQuest.cpp:98</a></div></div>
<div class="ttc" id="aclass_player_html_a887ee39fb5179132913f3907d504ca77"><div class="ttname"><a href="../../d8/d53/class_player.html#a887ee39fb5179132913f3907d504ca77">Player::AdjustQuestReqItemCount</a></div><div class="ttdeci">void AdjustQuestReqItemCount(Quest const *quest, QuestStatusData &amp;questStatusData)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01712">PlayerQuest.cpp:1712</a></div></div>
<div class="ttc" id="aclass_player_html_a897e236601ec88039eb9d16652233ce5"><div class="ttname"><a href="../../d8/d53/class_player.html#a897e236601ec88039eb9d16652233ce5">Player::SatisfyQuestSeasonal</a></div><div class="ttdeci">bool SatisfyQuestSeasonal(Quest const *qInfo, bool msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01299">PlayerQuest.cpp:1299</a></div></div>
<div class="ttc" id="aclass_player_html_a8b94a5119e583d66540638942e19f431"><div class="ttname"><a href="../../d8/d53/class_player.html#a8b94a5119e583d66540638942e19f431">Player::SatisfyQuestRace</a></div><div class="ttdeci">bool SatisfyQuestRace(Quest const *qInfo, bool msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01091">PlayerQuest.cpp:1091</a></div></div>
<div class="ttc" id="aclass_player_html_a8bac7edc1e6c0ebcbd3b75090c434cd3"><div class="ttname"><a href="../../d8/d53/class_player.html#a8bac7edc1e6c0ebcbd3b75090c434cd3">Player::SetDailyQuestStatus</a></div><div class="ttdeci">void SetDailyQuestStatus(uint32 quest_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d82/_player_8cpp_source.html#l11383">Player.cpp:11383</a></div></div>
<div class="ttc" id="aclass_player_html_a8c1208da22d449910537b53d26308fa3"><div class="ttname"><a href="../../d8/d53/class_player.html#a8c1208da22d449910537b53d26308fa3">Player::GetCorpse</a></div><div class="ttdeci">Corpse * GetCorpse() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d82/_player_8cpp_source.html#l04545">Player.cpp:4545</a></div></div>
<div class="ttc" id="aclass_player_html_a8d4c78dff4096eff3cd1bf34f1b91768"><div class="ttname"><a href="../../d8/d53/class_player.html#a8d4c78dff4096eff3cd1bf34f1b91768">Player::SendQuestUpdateAddItem</a></div><div class="ttdeci">void SendQuestUpdateAddItem(Quest const *quest, uint32 item_idx, uint16 count)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l02371">PlayerQuest.cpp:2371</a></div></div>
<div class="ttc" id="aclass_player_html_a8d5b1b54960d39e389dcfa8c71dc54f4"><div class="ttname"><a href="../../d8/d53/class_player.html#a8d5b1b54960d39e389dcfa8c71dc54f4">Player::SatisfyQuestClass</a></div><div class="ttdeci">bool SatisfyQuestClass(Quest const *qInfo, bool msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01073">PlayerQuest.cpp:1073</a></div></div>
<div class="ttc" id="aclass_player_html_a8e0d6d5481aa496aa943b546e82b8911"><div class="ttname"><a href="../../d8/d53/class_player.html#a8e0d6d5481aa496aa943b546e82b8911">Player::SatisfyQuestReputation</a></div><div class="ttdeci">bool SatisfyQuestReputation(Quest const *qInfo, bool msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01105">PlayerQuest.cpp:1105</a></div></div>
<div class="ttc" id="aclass_player_html_a904aeb6ca88d6996e7c3f3ba96b9d274"><div class="ttname"><a href="../../d8/d53/class_player.html#a904aeb6ca88d6996e7c3f3ba96b9d274">Player::m_RewardedQuests</a></div><div class="ttdeci">RewardedQuestSet m_RewardedQuests</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l02744">Player.h:2744</a></div></div>
<div class="ttc" id="aclass_player_html_a912005a1a9058c11996bbbd8b6a0152c"><div class="ttname"><a href="../../d8/d53/class_player.html#a912005a1a9058c11996bbbd8b6a0152c">Player::SendPushToPartyResponse</a></div><div class="ttdeci">void SendPushToPartyResponse(Player const *player, uint8 msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l02359">PlayerQuest.cpp:2359</a></div></div>
<div class="ttc" id="aclass_player_html_a92675cf0a2e48ee6d04764081743b8ea"><div class="ttname"><a href="../../d8/d53/class_player.html#a92675cf0a2e48ee6d04764081743b8ea">Player::SetQuestSlot</a></div><div class="ttdeci">void SetQuestSlot(uint16 slot, uint32 quest_id, uint32 timer=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l01421">Player.h:1421</a></div></div>
<div class="ttc" id="aclass_player_html_a92f5f639ef225763dba03e9308054f39"><div class="ttname"><a href="../../d8/d53/class_player.html#a92f5f639ef225763dba03e9308054f39">Player::SendCanTakeQuestResponse</a></div><div class="ttdeci">void SendCanTakeQuestResponse(uint32 msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l02329">PlayerQuest.cpp:2329</a></div></div>
<div class="ttc" id="aclass_player_html_a981ca241668a35c4d44f885769f59f7a"><div class="ttname"><a href="../../d8/d53/class_player.html#a981ca241668a35c4d44f885769f59f7a">Player::SatisfyQuestTimed</a></div><div class="ttdeci">bool SatisfyQuestTimed(Quest const *qInfo, bool msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01160">PlayerQuest.cpp:1160</a></div></div>
<div class="ttc" id="aclass_player_html_a9940e82568c515c239c821d6fffdfb9b"><div class="ttname"><a href="../../d8/d53/class_player.html#a9940e82568c515c239c821d6fffdfb9b">Player::IsActiveQuest</a></div><div class="ttdeci">bool IsActiveQuest(uint32 quest_id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l00198">PlayerQuest.cpp:198</a></div></div>
<div class="ttc" id="aclass_player_html_a9a1e2b927ca66d8bc57d3c009a192397"><div class="ttname"><a href="../../d8/d53/class_player.html#a9a1e2b927ca66d8bc57d3c009a192397">Player::SetQuestSlotState</a></div><div class="ttdeci">void SetQuestSlotState(uint16 slot, uint32 state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l01436">Player.h:1436</a></div></div>
<div class="ttc" id="aclass_player_html_a9b1ad78b229913ff669912d2fb80c6e0"><div class="ttname"><a href="../../d8/d53/class_player.html#a9b1ad78b229913ff669912d2fb80c6e0">Player::SendNewItem</a></div><div class="ttdeci">void SendNewItem(Item *item, uint32 count, bool received, bool created, bool broadcast=false, bool sendChatMessage=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d16/_player_storage_8cpp_source.html#l04782">PlayerStorage.cpp:4782</a></div></div>
<div class="ttc" id="aclass_player_html_a9db7bf014aa6b541253cef245cc34948"><div class="ttname"><a href="../../d8/d53/class_player.html#a9db7bf014aa6b541253cef245cc34948">Player::SatisfyQuestLog</a></div><div class="ttdeci">bool SatisfyQuestLog(bool msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l00972">PlayerQuest.cpp:972</a></div></div>
<div class="ttc" id="aclass_player_html_a9e99ee8e3d5603c86e5ed99bb1d233ee"><div class="ttname"><a href="../../d8/d53/class_player.html#a9e99ee8e3d5603c86e5ed99bb1d233ee">Player::SendQuestComplete</a></div><div class="ttdeci">void SendQuestComplete(uint32 quest_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l02270">PlayerQuest.cpp:2270</a></div></div>
<div class="ttc" id="aclass_player_html_aa0e09138bf609a7cf32ada4026aab833"><div class="ttname"><a href="../../d8/d53/class_player.html#aa0e09138bf609a7cf32ada4026aab833">Player::SetQuestSlotTimer</a></div><div class="ttdeci">void SetQuestSlotTimer(uint16 slot, uint32 timer)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l01438">Player.h:1438</a></div></div>
<div class="ttc" id="aclass_player_html_aa1b93687507f29637f2e42574ddd02ed"><div class="ttname"><a href="../../d8/d53/class_player.html#aa1b93687507f29637f2e42574ddd02ed">Player::pvpInfo</a></div><div class="ttdeci">PvPInfo pvpInfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l01787">Player.h:1787</a></div></div>
<div class="ttc" id="aclass_player_html_aa352798726d935f9e76f97137e47ee33"><div class="ttname"><a href="../../d8/d53/class_player.html#aa352798726d935f9e76f97137e47ee33">Player::PrepareQuestMenu</a></div><div class="ttdeci">void PrepareQuestMenu(ObjectGuid guid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l00038">PlayerQuest.cpp:38</a></div></div>
<div class="ttc" id="aclass_player_html_aa5393bf276b4b3429e7d12263408a90b"><div class="ttname"><a href="../../d8/d53/class_player.html#aa5393bf276b4b3429e7d12263408a90b">Player::AdditionalSavingAddMask</a></div><div class="ttdeci">void AdditionalSavingAddMask(uint8 mask)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l02527">Player.h:2527</a></div></div>
<div class="ttc" id="aclass_player_html_aa59bc437abf78479ccb2a10800f202d3"><div class="ttname"><a href="../../d8/d53/class_player.html#aa59bc437abf78479ccb2a10800f202d3">Player::AddQuestAndCheckCompletion</a></div><div class="ttdeci">void AddQuestAndCheckCompletion(Quest const *quest, Object *questGiver)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l00416">PlayerQuest.cpp:416</a></div></div>
<div class="ttc" id="aclass_player_html_aa620106c0c7396e8264a4d8e0e4dc4d9"><div class="ttname"><a href="../../d8/d53/class_player.html#aa620106c0c7396e8264a4d8e0e4dc4d9">Player::CanCompleteQuest</a></div><div class="ttdeci">bool CanCompleteQuest(uint32 quest_id, const QuestStatusData *q_savedStatus=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l00284">PlayerQuest.cpp:284</a></div></div>
<div class="ttc" id="aclass_player_html_aa741d2df6cdf7e02b63b46d2a58f609a"><div class="ttname"><a href="../../d8/d53/class_player.html#aa741d2df6cdf7e02b63b46d2a58f609a">Player::SatisfyQuestLevel</a></div><div class="ttdeci">bool SatisfyQuestLevel(Quest const *qInfo, bool msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l00955">PlayerQuest.cpp:955</a></div></div>
<div class="ttc" id="aclass_player_html_aab6ea43cb3184a4503f019f7f518c7aa"><div class="ttname"><a href="../../d8/d53/class_player.html#aab6ea43cb3184a4503f019f7f518c7aa">Player::SetTitle</a></div><div class="ttdeci">void SetTitle(CharTitlesEntry const *title, bool lost=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d82/_player_8cpp_source.html#l12525">Player.cpp:12525</a></div></div>
<div class="ttc" id="aclass_player_html_aadc3aa4a32a272c806b46ae077e13951"><div class="ttname"><a href="../../d8/d53/class_player.html#aadc3aa4a32a272c806b46ae077e13951">Player::SetWeeklyQuestStatus</a></div><div class="ttdeci">void SetWeeklyQuestStatus(uint32 quest_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d82/_player_8cpp_source.html#l11425">Player.cpp:11425</a></div></div>
<div class="ttc" id="aclass_player_html_ab0dd4a3587adde29c041c1d403d676e3"><div class="ttname"><a href="../../d8/d53/class_player.html#ab0dd4a3587adde29c041c1d403d676e3">Player::GetReputation</a></div><div class="ttdeci">uint32 GetReputation(uint32 factionentry) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d82/_player_8cpp_source.html#l14473">Player.cpp:14473</a></div></div>
<div class="ttc" id="aclass_player_html_ab30f677764d8fe694f27ee4253601033"><div class="ttname"><a href="../../d8/d53/class_player.html#ab30f677764d8fe694f27ee4253601033">Player::DestroyItemCount</a></div><div class="ttdeci">void DestroyItemCount(uint32 item, uint32 count, bool update, bool unequip_check=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d16/_player_storage_8cpp_source.html#l03160">PlayerStorage.cpp:3160</a></div></div>
<div class="ttc" id="aclass_player_html_ab38d56b364dfd74d7b6a88d08ecdf072"><div class="ttname"><a href="../../d8/d53/class_player.html#ab38d56b364dfd74d7b6a88d08ecdf072">Player::SatisfyQuestPreviousQuest</a></div><div class="ttdeci">bool SatisfyQuestPreviousQuest(Quest const *qInfo, bool msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l00987">PlayerQuest.cpp:987</a></div></div>
<div class="ttc" id="aclass_player_html_ab3a73c835c52cd903ab0112a5bc4e7f0"><div class="ttname"><a href="../../d8/d53/class_player.html#ab3a73c835c52cd903ab0112a5bc4e7f0">Player::UpdateZoneDependentAuras</a></div><div class="ttdeci">void UpdateZoneDependentAuras(uint32 zone_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d38/_player_updates_8cpp_source.html#l01879">PlayerUpdates.cpp:1879</a></div></div>
<div class="ttc" id="aclass_player_html_ab3b4eddc001341bfc294817c8b23d824"><div class="ttname"><a href="../../d8/d53/class_player.html#ab3b4eddc001341bfc294817c8b23d824">Player::AreaExploredOrEventHappens</a></div><div class="ttdeci">void AreaExploredOrEventHappens(uint32 questId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01739">PlayerQuest.cpp:1739</a></div></div>
<div class="ttc" id="aclass_player_html_ab5a791e5b6f12cdf6eff3bab46449b5d"><div class="ttname"><a href="../../d8/d53/class_player.html#ab5a791e5b6f12cdf6eff3bab46449b5d">Player::TakeQuestSourceItem</a></div><div class="ttdeci">bool TakeQuestSourceItem(uint32 questId, bool msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01350">PlayerQuest.cpp:1350</a></div></div>
<div class="ttc" id="aclass_player_html_ab702c2acc0393baed9ac829435a10b03"><div class="ttname"><a href="../../d8/d53/class_player.html#ab702c2acc0393baed9ac829435a10b03">Player::RemoveActiveQuest</a></div><div class="ttdeci">void RemoveActiveQuest(uint32 questId, bool update=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01457">PlayerQuest.cpp:1457</a></div></div>
<div class="ttc" id="aclass_player_html_ab941b16982ef92a3ce3f62b7b861ea61"><div class="ttname"><a href="../../d8/d53/class_player.html#ab941b16982ef92a3ce3f62b7b861ea61">Player::MoneyChanged</a></div><div class="ttdeci">void MoneyChanged(uint32 value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l02099">PlayerQuest.cpp:2099</a></div></div>
<div class="ttc" id="aclass_player_html_ab98c62b0161d702e4219c8277f8f5349"><div class="ttname"><a href="../../d8/d53/class_player.html#ab98c62b0161d702e4219c8277f8f5349">Player::GetQuestStatus</a></div><div class="ttdeci">QuestStatus GetQuestStatus(uint32 quest_id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01404">PlayerQuest.cpp:1404</a></div></div>
<div class="ttc" id="aclass_player_html_abbdc64fe74e2935052b57d3072dee33e"><div class="ttname"><a href="../../d8/d53/class_player.html#abbdc64fe74e2935052b57d3072dee33e">Player::CanCompleteRepeatableQuest</a></div><div class="ttdeci">bool CanCompleteRepeatableQuest(Quest const *quest)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l00361">PlayerQuest.cpp:361</a></div></div>
<div class="ttc" id="aclass_player_html_abd1902419170116dee3064afbd492f0f"><div class="ttname"><a href="../../d8/d53/class_player.html#abd1902419170116dee3064afbd492f0f">Player::SatisfyQuestSkill</a></div><div class="ttdeci">bool SatisfyQuestSkill(Quest const *qInfo, bool msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l00935">PlayerQuest.cpp:935</a></div></div>
<div class="ttc" id="aclass_player_html_ac10984e94763eda3478a22aa8e6dd8b3"><div class="ttname"><a href="../../d8/d53/class_player.html#ac10984e94763eda3478a22aa8e6dd8b3">Player::ModifyArenaPoints</a></div><div class="ttdeci">void ModifyArenaPoints(int32 value, CharacterDatabaseTransaction trans=CharacterDatabaseTransaction(nullptr))</div><div class="ttdoc">If trans is specified, honor save query will be added to trans.</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d82/_player_8cpp_source.html#l06073">Player.cpp:6073</a></div></div>
<div class="ttc" id="aclass_player_html_ac1e9eaf17709fa3fec00fc2356ead46b"><div class="ttname"><a href="../../d8/d53/class_player.html#ac1e9eaf17709fa3fec00fc2356ead46b">Player::KillCreditGO</a></div><div class="ttdeci">void KillCreditGO(uint32 entry, ObjectGuid guid=ObjectGuid::Empty)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01984">PlayerQuest.cpp:1984</a></div></div>
<div class="ttc" id="aclass_player_html_ac35099dc1c5c4340d450db90a5d143ca"><div class="ttname"><a href="../../d8/d53/class_player.html#ac35099dc1c5c4340d450db90a5d143ca">Player::GetNextQuest</a></div><div class="ttdeci">Quest const  * GetNextQuest(ObjectGuid guid, Quest const *quest)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l00203">PlayerQuest.cpp:203</a></div></div>
<div class="ttc" id="aclass_player_html_ac62aa687e837226933cf563955f39f76"><div class="ttname"><a href="../../d8/d53/class_player.html#ac62aa687e837226933cf563955f39f76">Player::CanShareQuest</a></div><div class="ttdeci">bool CanShareQuest(uint32 quest_id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01424">PlayerQuest.cpp:1424</a></div></div>
<div class="ttc" id="aclass_player_html_ac66aea564f92c5f3c38d5819a0a0b4e4"><div class="ttname"><a href="../../d8/d53/class_player.html#ac66aea564f92c5f3c38d5819a0a0b4e4">Player::FailQuest</a></div><div class="ttdeci">void FailQuest(uint32 quest_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l00874">PlayerQuest.cpp:874</a></div></div>
<div class="ttc" id="aclass_player_html_ac6ee8565680d6696c0804fa40d47ba73"><div class="ttname"><a href="../../d8/d53/class_player.html#ac6ee8565680d6696c0804fa40d47ba73">Player::CanUnequipItems</a></div><div class="ttdeci">InventoryResult CanUnequipItems(uint32 item, uint32 count) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d16/_player_storage_8cpp_source.html#l00301">PlayerStorage.cpp:301</a></div></div>
<div class="ttc" id="aclass_player_html_ac84736fec697d49391a3325b99e3e039"><div class="ttname"><a href="../../d8/d53/class_player.html#ac84736fec697d49391a3325b99e3e039">Player::ItemAddedQuestCheck</a></div><div class="ttdeci">void ItemAddedQuestCheck(uint32 entry, uint32 count)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01783">PlayerQuest.cpp:1783</a></div></div>
<div class="ttc" id="aclass_player_html_ac960994f0346b8ca89cc61aa6b74cf53"><div class="ttname"><a href="../../d8/d53/class_player.html#ac960994f0346b8ca89cc61aa6b74cf53">Player::m_questRewardTalentCount</a></div><div class="ttdeci">uint32 m_questRewardTalentCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l02831">Player.h:2831</a></div></div>
<div class="ttc" id="aclass_player_html_ac996a41fc3f89d8683de8695bb7db13c"><div class="ttname"><a href="../../d8/d53/class_player.html#ac996a41fc3f89d8683de8695bb7db13c">Player::StoreNewItem</a></div><div class="ttdeci">Item * StoreNewItem(ItemPosCountVec const &amp;pos, uint32 item, bool update, int32 randomPropertyId=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d16/_player_storage_8cpp_source.html#l02557">PlayerStorage.cpp:2557</a></div></div>
<div class="ttc" id="aclass_player_html_aca05d62bd5f150ae2426747d8e1a3a36"><div class="ttname"><a href="../../d8/d53/class_player.html#aca05d62bd5f150ae2426747d8e1a3a36">Player::SatisfyQuestWeek</a></div><div class="ttdeci">bool SatisfyQuestWeek(Quest const *qInfo, bool msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01290">PlayerQuest.cpp:1290</a></div></div>
<div class="ttc" id="aclass_player_html_aca986a0702330f87627116816b5c0a92"><div class="ttname"><a href="../../d8/d53/class_player.html#aca986a0702330f87627116816b5c0a92">Player::RemoveTimedQuest</a></div><div class="ttdeci">void RemoveTimedQuest(uint32 quest_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l01488">Player.h:1488</a></div></div>
<div class="ttc" id="aclass_player_html_acaa7aab48332b249ff546d123a9af85d"><div class="ttname"><a href="../../d8/d53/class_player.html#acaa7aab48332b249ff546d123a9af85d">Player::GiveQuestSourceItem</a></div><div class="ttdeci">bool GiveQuestSourceItem(Quest const *quest)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01322">PlayerQuest.cpp:1322</a></div></div>
<div class="ttc" id="aclass_player_html_acb2677536aca2865da4e6ceea0d3f3bf"><div class="ttname"><a href="../../d8/d53/class_player.html#acb2677536aca2865da4e6ceea0d3f3bf">Player::RewardReputation</a></div><div class="ttdeci">void RewardReputation(Unit *victim, float rate)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d82/_player_8cpp_source.html#l05753">Player.cpp:5753</a></div></div>
<div class="ttc" id="aclass_player_html_acf0f9d07a0043d6fdbd8a4cbde03ab53"><div class="ttname"><a href="../../d8/d53/class_player.html#acf0f9d07a0043d6fdbd8a4cbde03ab53">Player::SatisfyQuestStatus</a></div><div class="ttdeci">bool SatisfyQuestStatus(Quest const *qInfo, bool msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01136">PlayerQuest.cpp:1136</a></div></div>
<div class="ttc" id="aclass_player_html_ad32f3a3ec1be51826e04097db7a69620"><div class="ttname"><a href="../../d8/d53/class_player.html#ad32f3a3ec1be51826e04097db7a69620">Player::SetQuestStatus</a></div><div class="ttdeci">void SetQuestStatus(uint32 questId, QuestStatus status, bool update=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01445">PlayerQuest.cpp:1445</a></div></div>
<div class="ttc" id="aclass_player_html_ad7da6786f5e1327b2c1e7614c9a5b1be"><div class="ttname"><a href="../../d8/d53/class_player.html#ad7da6786f5e1327b2c1e7614c9a5b1be">Player::AbandonQuest</a></div><div class="ttdeci">void AbandonQuest(uint32 quest_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l00918">PlayerQuest.cpp:918</a></div></div>
<div class="ttc" id="aclass_player_html_ad7e77cd57824c0ca08d2c88a8b1c3aec"><div class="ttname"><a href="../../d8/d53/class_player.html#ad7e77cd57824c0ca08d2c88a8b1c3aec">Player::RemoveRewardedQuest</a></div><div class="ttdeci">void RemoveRewardedQuest(uint32 questId, bool update=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01475">PlayerQuest.cpp:1475</a></div></div>
<div class="ttc" id="aclass_player_html_ade216a89981dfce501f02f38cec9ad3f"><div class="ttname"><a href="../../d8/d53/class_player.html#ade216a89981dfce501f02f38cec9ad3f">Player::SendEquipError</a></div><div class="ttdeci">void SendEquipError(InventoryResult msg, Item *pItem, Item *pItem2=nullptr, uint32 itemid=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d16/_player_storage_8cpp_source.html#l04063">PlayerStorage.cpp:4063</a></div></div>
<div class="ttc" id="aclass_player_html_ade36479ca18bfad804c3b5306d856ddf"><div class="ttname"><a href="../../d8/d53/class_player.html#ade36479ca18bfad804c3b5306d856ddf">Player::SatisfyQuestPrevChain</a></div><div class="ttdeci">bool SatisfyQuestPrevChain(Quest const *qInfo, bool msg) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l01228">PlayerQuest.cpp:1228</a></div></div>
<div class="ttc" id="aclass_player_html_ae22a64659346d2a5017d4b47e796146c"><div class="ttname"><a href="../../d8/d53/class_player.html#ae22a64659346d2a5017d4b47e796146c">Player::GetGossipTextId</a></div><div class="ttdeci">uint32 GetGossipTextId(uint32 menuId, WorldObject *source)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d91/_player_gossip_8cpp_source.html#l00402">PlayerGossip.cpp:402</a></div></div>
<div class="ttc" id="aclass_player_html_ae9b5335b821af51bcfa01e994f3387f8"><div class="ttname"><a href="../../d8/d53/class_player.html#ae9b5335b821af51bcfa01e994f3387f8">Player::m_seasonalquests</a></div><div class="ttdeci">SeasonalEventQuestMap m_seasonalquests</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l02641">Player.h:2641</a></div></div>
<div class="ttc" id="aclass_player_html_ae9eca1b0ef6f9a14e65d8a167cdf8e66"><div class="ttname"><a href="../../d8/d53/class_player.html#ae9eca1b0ef6f9a14e65d8a167cdf8e66">Player::SendQuestGiverStatusMultiple</a></div><div class="ttdeci">void SendQuestGiverStatusMultiple()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d82/_player_8cpp_source.html#l07442">Player.cpp:7442</a></div></div>
<div class="ttc" id="aclass_player_html_aea4d1caa45ca6a98450bf7c9032cf35b"><div class="ttname"><a href="../../d8/d53/class_player.html#aea4d1caa45ca6a98450bf7c9032cf35b">Player::SendQuestUpdateAddPlayer</a></div><div class="ttdeci">void SendQuestUpdateAddPlayer(Quest const *quest, uint16 old_count, uint16 add_count)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d82/_player_quest_8cpp_source.html#l02403">PlayerQuest.cpp:2403</a></div></div>
<div class="ttc" id="aclass_player_html_aec4b723fc85478c4fec8f468a130d9c0"><div class="ttname"><a href="../../d8/d53/class_player.html#aec4b723fc85478c4fec8f468a130d9c0">Player::SetMustDelayTeleport</a></div><div class="ttdeci">void SetMustDelayTeleport(bool setting)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l02887">Player.h:2887</a></div></div>
<div class="ttc" id="aclass_player_html_af059a10625d50ca7674771ea1c1c4c4c"><div class="ttname"><a href="../../d8/d53/class_player.html#af059a10625d50ca7674771ea1c1c4c4c">Player::CanStoreNewItem</a></div><div class="ttdeci">InventoryResult CanStoreNewItem(uint8 bag, uint8 slot, ItemPosCountVec &amp;dest, uint32 item, uint32 count, uint32 *no_space_count=nullptr) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l01218">Player.h:1218</a></div></div>
<div class="ttc" id="aclass_player_html_af1535e4d884448d3ee3ceb81c5b5feee"><div class="ttname"><a href="../../d8/d53/class_player.html#af1535e4d884448d3ee3ceb81c5b5feee">Player::m_QuestStatusSave</a></div><div class="ttdeci">QuestStatusSaveMap m_QuestStatusSave</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l02742">Player.h:2742</a></div></div>
<div class="ttc" id="aclass_player_html_af37c2193907bc6a6860b7e25954531e0"><div class="ttname"><a href="../../d8/d53/class_player.html#af37c2193907bc6a6860b7e25954531e0">Player::AddTimedQuest</a></div><div class="ttdeci">void AddTimedQuest(uint32 quest_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l01487">Player.h:1487</a></div></div>
<div class="ttc" id="aclass_player_html_af3bfe54e63e3e08602f01e187ccedb7a"><div class="ttname"><a href="../../d8/d53/class_player.html#af3bfe54e63e3e08602f01e187ccedb7a">Player::m_RewardedQuestsSave</a></div><div class="ttdeci">QuestStatusSaveMap m_RewardedQuestsSave</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l02745">Player.h:2745</a></div></div>
<div class="ttc" id="aclass_player_html_af6f5e7fa735e3d31f3558410184d08be"><div class="ttname"><a href="../../d8/d53/class_player.html#af6f5e7fa735e3d31f3558410184d08be">Player::IsQuestRewarded</a></div><div class="ttdeci">bool IsQuestRewarded(uint32 quest_id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l01561">Player.h:1561</a></div></div>
<div class="ttc" id="aclass_player_html_af9651858db4302e3dff8ec5bff131f72"><div class="ttname"><a href="../../d8/d53/class_player.html#af9651858db4302e3dff8ec5bff131f72">Player::PlayerTalkClass</a></div><div class="ttdeci">PlayerMenu * PlayerTalkClass</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l02177">Player.h:2177</a></div></div>
<div class="ttc" id="aclass_player_menu_html_a3961687838852446af0db40d6458fb41"><div class="ttname"><a href="../../d1/d29/class_player_menu.html#a3961687838852446af0db40d6458fb41">PlayerMenu::SendQuestGiverQuestDetails</a></div><div class="ttdeci">void SendQuestGiverQuestDetails(Quest const *quest, ObjectGuid npcGUID, bool activateAccept) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dcb/_gossip_def_8cpp_source.html#l00359">GossipDef.cpp:359</a></div></div>
<div class="ttc" id="aclass_player_menu_html_a61a5f8d9b8b9c4baa511028884011f89"><div class="ttname"><a href="../../d1/d29/class_player_menu.html#a61a5f8d9b8b9c4baa511028884011f89">PlayerMenu::SendQuestGiverRequestItems</a></div><div class="ttdeci">void SendQuestGiverRequestItems(Quest const *quest, ObjectGuid npcGUID, bool canComplete, bool closeOnCancel) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dcb/_gossip_def_8cpp_source.html#l00680">GossipDef.cpp:680</a></div></div>
<div class="ttc" id="aclass_player_menu_html_ab880e05572d5243fe122048573e07ce3"><div class="ttname"><a href="../../d1/d29/class_player_menu.html#ab880e05572d5243fe122048573e07ce3">PlayerMenu::GetQuestMenu</a></div><div class="ttdeci">QuestMenu &amp; GetQuestMenu()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d79/_gossip_def_8h_source.html#l00259">GossipDef.h:259</a></div></div>
<div class="ttc" id="aclass_player_menu_html_ac3e4a82eab914ede51edd72ae89ad694"><div class="ttname"><a href="../../d1/d29/class_player_menu.html#ac3e4a82eab914ede51edd72ae89ad694">PlayerMenu::SendQuestGiverQuestList</a></div><div class="ttdeci">void SendQuestGiverQuestList(QEmote const &amp;eEmote, const std::string &amp;Title, ObjectGuid npcGUID)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dcb/_gossip_def_8cpp_source.html#l00309">GossipDef.cpp:309</a></div></div>
<div class="ttc" id="aclass_player_menu_html_afeef80b2f959a17fd2d5288dc12cf9d5"><div class="ttname"><a href="../../d1/d29/class_player_menu.html#afeef80b2f959a17fd2d5288dc12cf9d5">PlayerMenu::SendCloseGossip</a></div><div class="ttdeci">void SendCloseGossip() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dcb/_gossip_def_8cpp_source.html#l00235">GossipDef.cpp:235</a></div></div>
<div class="ttc" id="aclass_quest_html"><div class="ttname"><a href="../../d8/d63/class_quest.html">Quest</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00204">QuestDef.h:205</a></div></div>
<div class="ttc" id="aclass_quest_html_a040b23aa9d248980540640a5dcac3cf5"><div class="ttname"><a href="../../d8/d63/class_quest.html#a040b23aa9d248980540640a5dcac3cf5">Quest::GetRewArenaPoints</a></div><div class="ttdeci">int32 GetRewArenaPoints() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00251">QuestDef.h:251</a></div></div>
<div class="ttc" id="aclass_quest_html_a05ddbc59016a0b68fd2fea8a694bbc99"><div class="ttname"><a href="../../d8/d63/class_quest.html#a05ddbc59016a0b68fd2fea8a694bbc99">Quest::HasSpecialFlag</a></div><div class="ttdeci">bool HasSpecialFlag(uint32 flag) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00219">QuestDef.h:219</a></div></div>
<div class="ttc" id="aclass_quest_html_a05de2206c2a4c7761851f87c81842ace"><div class="ttname"><a href="../../d8/d63/class_quest.html#a05de2206c2a4c7761851f87c81842ace">Quest::ItemDropQuantity</a></div><div class="ttdeci">uint32 ItemDropQuantity[QUEST_SOURCE_ITEM_IDS_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00298">QuestDef.h:298</a></div></div>
<div class="ttc" id="aclass_quest_html_a06c88a17affc1a13a06be5b5404e3b8f"><div class="ttname"><a href="../../d8/d63/class_quest.html#a06c88a17affc1a13a06be5b5404e3b8f">Quest::GetRepObjectiveValue</a></div><div class="ttdeci">int32 GetRepObjectiveValue() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00235">QuestDef.h:235</a></div></div>
<div class="ttc" id="aclass_quest_html_a071cf4919b90266595fef826351f2d2a"><div class="ttname"><a href="../../d8/d63/class_quest.html#a071cf4919b90266595fef826351f2d2a">Quest::HasFlag</a></div><div class="ttdeci">bool HasFlag(uint32 flag) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00216">QuestDef.h:216</a></div></div>
<div class="ttc" id="aclass_quest_html_a0a844c9747f60175e1395b63a01e324c"><div class="ttname"><a href="../../d8/d63/class_quest.html#a0a844c9747f60175e1395b63a01e324c">Quest::GetRewSpell</a></div><div class="ttdeci">uint32 GetRewSpell() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00267">QuestDef.h:267</a></div></div>
<div class="ttc" id="aclass_quest_html_a0c6ec21639c30c5fad76225ec9dbca43"><div class="ttname"><a href="../../d8/d63/class_quest.html#a0c6ec21639c30c5fad76225ec9dbca43">Quest::GetEventIdForQuest</a></div><div class="ttdeci">uint16 GetEventIdForQuest() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00327">QuestDef.h:327</a></div></div>
<div class="ttc" id="aclass_quest_html_a0ce0eac987fc5e0d7424d05d3e36ceca"><div class="ttname"><a href="../../d8/d63/class_quest.html#a0ce0eac987fc5e0d7424d05d3e36ceca">Quest::GetRewMoneyMaxLevel</a></div><div class="ttdeci">uint32 GetRewMoneyMaxLevel() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/ddd/_quest_def_8cpp_source.html#l00237">QuestDef.cpp:237</a></div></div>
<div class="ttc" id="aclass_quest_html_a123c8907addf478087674d1108e8c290"><div class="ttname"><a href="../../d8/d63/class_quest.html#a123c8907addf478087674d1108e8c290">Quest::GetRewMailSenderEntry</a></div><div class="ttdeci">uint32 GetRewMailSenderEntry() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00271">QuestDef.h:271</a></div></div>
<div class="ttc" id="aclass_quest_html_a136c35d22865c4d7a8199f754977c768"><div class="ttname"><a href="../../d8/d63/class_quest.html#a136c35d22865c4d7a8199f754977c768">Quest::RequiredNpcOrGo</a></div><div class="ttdeci">int32 RequiredNpcOrGo[QUEST_OBJECTIVES_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00299">QuestDef.h:299</a></div></div>
<div class="ttc" id="aclass_quest_html_a15e22f8cce4ac1bec8294d952d0d39e2"><div class="ttname"><a href="../../d8/d63/class_quest.html#a15e22f8cce4ac1bec8294d952d0d39e2">Quest::GetRepObjectiveValue2</a></div><div class="ttdeci">int32 GetRepObjectiveValue2() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00237">QuestDef.h:237</a></div></div>
<div class="ttc" id="aclass_quest_html_a1c6aee64c4ebe888060dfc4a3b0ae974"><div class="ttname"><a href="../../d8/d63/class_quest.html#a1c6aee64c4ebe888060dfc4a3b0ae974">Quest::GetRepObjectiveFaction</a></div><div class="ttdeci">uint32 GetRepObjectiveFaction() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00234">QuestDef.h:234</a></div></div>
<div class="ttc" id="aclass_quest_html_a26795fa9c5daf20043c08171c75672c9"><div class="ttname"><a href="../../d8/d63/class_quest.html#a26795fa9c5daf20043c08171c75672c9">Quest::RequiredNpcOrGoCount</a></div><div class="ttdeci">uint32 RequiredNpcOrGoCount[QUEST_OBJECTIVES_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00300">QuestDef.h:300</a></div></div>
<div class="ttc" id="aclass_quest_html_a2689be1a4799b2e9f1e456d2f4a1ec5b"><div class="ttname"><a href="../../d8/d63/class_quest.html#a2689be1a4799b2e9f1e456d2f4a1ec5b">Quest::GetRewMailTemplateId</a></div><div class="ttdeci">uint32 GetRewMailTemplateId() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00269">QuestDef.h:269</a></div></div>
<div class="ttc" id="aclass_quest_html_a31378cd54fb5bbe7cccbd47cdd06ac3b"><div class="ttname"><a href="../../d8/d63/class_quest.html#a31378cd54fb5bbe7cccbd47cdd06ac3b">Quest::GetRepObjectiveFaction2</a></div><div class="ttdeci">uint32 GetRepObjectiveFaction2() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00236">QuestDef.h:236</a></div></div>
<div class="ttc" id="aclass_quest_html_a31e2d6f7391effd1a8c3a28ee81dec62"><div class="ttname"><a href="../../d8/d63/class_quest.html#a31e2d6f7391effd1a8c3a28ee81dec62">Quest::GetRewOrReqMoney</a></div><div class="ttdeci">int32 GetRewOrReqMoney(Player *player=nullptr) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/ddd/_quest_def_8cpp_source.html#l00218">QuestDef.cpp:218</a></div></div>
<div class="ttc" id="aclass_quest_html_a38e904dcfcbdca8aa66b61c3eb1f5846"><div class="ttname"><a href="../../d8/d63/class_quest.html#a38e904dcfcbdca8aa66b61c3eb1f5846">Quest::GetCharTitleId</a></div><div class="ttdeci">uint32 GetCharTitleId() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00248">QuestDef.h:248</a></div></div>
<div class="ttc" id="aclass_quest_html_a3aa437e753c20123a86b29d12f2f05e2"><div class="ttname"><a href="../../d8/d63/class_quest.html#a3aa437e753c20123a86b29d12f2f05e2">Quest::GetMaxLevel</a></div><div class="ttdeci">uint32 GetMaxLevel() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00227">QuestDef.h:227</a></div></div>
<div class="ttc" id="aclass_quest_html_a3c9f29edfe7730926a6c291867b946c8"><div class="ttname"><a href="../../d8/d63/class_quest.html#a3c9f29edfe7730926a6c291867b946c8">Quest::GetRequiredMaxRepValue</a></div><div class="ttdeci">int32 GetRequiredMaxRepValue() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00241">QuestDef.h:241</a></div></div>
<div class="ttc" id="aclass_quest_html_a3e9fc9babe4e55d35f0e38ae003fc940"><div class="ttname"><a href="../../d8/d63/class_quest.html#a3e9fc9babe4e55d35f0e38ae003fc940">Quest::XPValue</a></div><div class="ttdeci">uint32 XPValue(Player *player) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/ddd/_quest_def_8cpp_source.html#l00187">QuestDef.cpp:187</a></div></div>
<div class="ttc" id="aclass_quest_html_a3fe2654312995eeeb8940d7d2c70d6f3"><div class="ttname"><a href="../../d8/d63/class_quest.html#a3fe2654312995eeeb8940d7d2c70d6f3">Quest::RewardItemIdCount</a></div><div class="ttdeci">uint32 RewardItemIdCount[QUEST_REWARDS_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00304">QuestDef.h:304</a></div></div>
<div class="ttc" id="aclass_quest_html_a432388b929011995705ba2d7967ba3c9"><div class="ttname"><a href="../../d8/d63/class_quest.html#a432388b929011995705ba2d7967ba3c9">Quest::GetRequiredMinRepValue</a></div><div class="ttdeci">int32 GetRequiredMinRepValue() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00239">QuestDef.h:239</a></div></div>
<div class="ttc" id="aclass_quest_html_a4355a8343017eb1059657dbd2bd13694"><div class="ttname"><a href="../../d8/d63/class_quest.html#a4355a8343017eb1059657dbd2bd13694">Quest::GetMinLevel</a></div><div class="ttdeci">uint32 GetMinLevel() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00226">QuestDef.h:226</a></div></div>
<div class="ttc" id="aclass_quest_html_a57886dc304657391b76080b4ca7c3176"><div class="ttname"><a href="../../d8/d63/class_quest.html#a57886dc304657391b76080b4ca7c3176">Quest::RewardChoiceItemId</a></div><div class="ttdeci">uint32 RewardChoiceItemId[QUEST_REWARD_CHOICES_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00301">QuestDef.h:301</a></div></div>
<div class="ttc" id="aclass_quest_html_a5f22941fdb30fd269c0cf7ddab97e918"><div class="ttname"><a href="../../d8/d63/class_quest.html#a5f22941fdb30fd269c0cf7ddab97e918">Quest::ItemDrop</a></div><div class="ttdeci">uint32 ItemDrop[QUEST_SOURCE_ITEM_IDS_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00297">QuestDef.h:297</a></div></div>
<div class="ttc" id="aclass_quest_html_a624f094e3f33c2bf5eb30dd9d208a058"><div class="ttname"><a href="../../d8/d63/class_quest.html#a624f094e3f33c2bf5eb30dd9d208a058">Quest::GetSrcItemCount</a></div><div class="ttdeci">uint32 GetSrcItemCount() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00254">QuestDef.h:254</a></div></div>
<div class="ttc" id="aclass_quest_html_a62deb059ae37d23ad11c985b8a8ed792"><div class="ttname"><a href="../../d8/d63/class_quest.html#a62deb059ae37d23ad11c985b8a8ed792">Quest::IsDFQuest</a></div><div class="ttdeci">bool IsDFQuest() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00289">QuestDef.h:289</a></div></div>
<div class="ttc" id="aclass_quest_html_a69a404c71347a99ebb006a8091f84493"><div class="ttname"><a href="../../d8/d63/class_quest.html#a69a404c71347a99ebb006a8091f84493">Quest::GetRequiredClasses</a></div><div class="ttdeci">uint32 GetRequiredClasses() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00230">QuestDef.h:230</a></div></div>
<div class="ttc" id="aclass_quest_html_a6ff12c6f23e1c67482e61700b33d9f0a"><div class="ttname"><a href="../../d8/d63/class_quest.html#a6ff12c6f23e1c67482e61700b33d9f0a">Quest::GetAllowableRaces</a></div><div class="ttdeci">uint32 GetAllowableRaces() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00231">QuestDef.h:231</a></div></div>
<div class="ttc" id="aclass_quest_html_a725d9e26041dbb223470b8f96094b084"><div class="ttname"><a href="../../d8/d63/class_quest.html#a725d9e26041dbb223470b8f96094b084">Quest::IsRepeatable</a></div><div class="ttdeci">bool IsRepeatable() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00278">QuestDef.h:278</a></div></div>
<div class="ttc" id="aclass_quest_html_a72ab8dd7b90b7aaf183a11e9da4cdcaf"><div class="ttname"><a href="../../d8/d63/class_quest.html#a72ab8dd7b90b7aaf183a11e9da4cdcaf">Quest::GetZoneOrSort</a></div><div class="ttdeci">int32 GetZoneOrSort() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00225">QuestDef.h:225</a></div></div>
<div class="ttc" id="aclass_quest_html_a7c067ea4d0fbf622a17eec3ad7414594"><div class="ttname"><a href="../../d8/d63/class_quest.html#a7c067ea4d0fbf622a17eec3ad7414594">Quest::IsAutoComplete</a></div><div class="ttdeci">bool IsAutoComplete() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/ddd/_quest_def_8cpp_source.html#l00250">QuestDef.cpp:250</a></div></div>
<div class="ttc" id="aclass_quest_html_a822276910bf774ea9190c34b9a30fe5d"><div class="ttname"><a href="../../d8/d63/class_quest.html#a822276910bf774ea9190c34b9a30fe5d">Quest::RewardChoiceItemCount</a></div><div class="ttdeci">uint32 RewardChoiceItemCount[QUEST_REWARD_CHOICES_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00302">QuestDef.h:302</a></div></div>
<div class="ttc" id="aclass_quest_html_a85b398c765cd61093e9c99aa5c4dab50"><div class="ttname"><a href="../../d8/d63/class_quest.html#a85b398c765cd61093e9c99aa5c4dab50">Quest::GetRequiredMinRepFaction</a></div><div class="ttdeci">uint32 GetRequiredMinRepFaction() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00238">QuestDef.h:238</a></div></div>
<div class="ttc" id="aclass_quest_html_a910f66ebd4b91d594dab6e6227ad2917"><div class="ttname"><a href="../../d8/d63/class_quest.html#a910f66ebd4b91d594dab6e6227ad2917">Quest::GetPlayersSlain</a></div><div class="ttdeci">uint32 GetPlayersSlain() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00249">QuestDef.h:249</a></div></div>
<div class="ttc" id="aclass_quest_html_a93e369e74db8a06214df0ded5731e925"><div class="ttname"><a href="../../d8/d63/class_quest.html#a93e369e74db8a06214df0ded5731e925">Quest::CalculateHonorGain</a></div><div class="ttdeci">uint32 CalculateHonorGain(uint8 level) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/ddd/_quest_def_8cpp_source.html#l00280">QuestDef.cpp:280</a></div></div>
<div class="ttc" id="aclass_quest_html_a992449032653d9405898a3419f8c28c0"><div class="ttname"><a href="../../d8/d63/class_quest.html#a992449032653d9405898a3419f8c28c0">Quest::GetQuestId</a></div><div class="ttdeci">uint32 GetQuestId() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00223">QuestDef.h:223</a></div></div>
<div class="ttc" id="aclass_quest_html_a9acac091142788ff249f56b7e1020f03"><div class="ttname"><a href="../../d8/d63/class_quest.html#a9acac091142788ff249f56b7e1020f03">Quest::GetRequiredSkillValue</a></div><div class="ttdeci">uint32 GetRequiredSkillValue() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00233">QuestDef.h:233</a></div></div>
<div class="ttc" id="aclass_quest_html_a9fc533ca32224a7b1bbe1ba67fa086de"><div class="ttname"><a href="../../d8/d63/class_quest.html#a9fc533ca32224a7b1bbe1ba67fa086de">Quest::GetTitle</a></div><div class="ttdeci">std::string const  &amp; GetTitle() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00256">QuestDef.h:256</a></div></div>
<div class="ttc" id="aclass_quest_html_aaaa75cd3de5c25120c3d710bbf52154c"><div class="ttname"><a href="../../d8/d63/class_quest.html#aaaa75cd3de5c25120c3d710bbf52154c">Quest::GetRewMailDelaySecs</a></div><div class="ttdeci">uint32 GetRewMailDelaySecs() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00270">QuestDef.h:270</a></div></div>
<div class="ttc" id="aclass_quest_html_aaacce83fe56a29eee3663836d784c4bb"><div class="ttname"><a href="../../d8/d63/class_quest.html#aaacce83fe56a29eee3663836d784c4bb">Quest::RequiredItemCount</a></div><div class="ttdeci">uint32 RequiredItemCount[QUEST_ITEM_OBJECTIVES_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00296">QuestDef.h:296</a></div></div>
<div class="ttc" id="aclass_quest_html_aab14227810deb46be3e04f3fb43eab05"><div class="ttname"><a href="../../d8/d63/class_quest.html#aab14227810deb46be3e04f3fb43eab05">Quest::IsDaily</a></div><div class="ttdeci">bool IsDaily() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00282">QuestDef.h:282</a></div></div>
<div class="ttc" id="aclass_quest_html_aac8b19de3f9cc6d5b6b2a294d6ef8f21"><div class="ttname"><a href="../../d8/d63/class_quest.html#aac8b19de3f9cc6d5b6b2a294d6ef8f21">Quest::GetExclusiveGroup</a></div><div class="ttdeci">int32 GetExclusiveGroup() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00246">QuestDef.h:246</a></div></div>
<div class="ttc" id="aclass_quest_html_ab73acadcd0a76dd4470c4796aa04a8e9"><div class="ttname"><a href="../../d8/d63/class_quest.html#ab73acadcd0a76dd4470c4796aa04a8e9">Quest::prevQuests</a></div><div class="ttdeci">PrevQuests prevQuests</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00319">QuestDef.h:319</a></div></div>
<div class="ttc" id="aclass_quest_html_abff147587981d28f9e8034031696a91d"><div class="ttname"><a href="../../d8/d63/class_quest.html#abff147587981d28f9e8034031696a91d">Quest::RequiredItemId</a></div><div class="ttdeci">uint32 RequiredItemId[QUEST_ITEM_OBJECTIVES_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00295">QuestDef.h:295</a></div></div>
<div class="ttc" id="aclass_quest_html_acedf7709925beca7cfa576950ea952bf"><div class="ttname"><a href="../../d8/d63/class_quest.html#acedf7709925beca7cfa576950ea952bf">Quest::GetRewItemsCount</a></div><div class="ttdeci">uint32 GetRewItemsCount() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00316">QuestDef.h:316</a></div></div>
<div class="ttc" id="aclass_quest_html_acff09432e075b85f9e9618a695ab952a"><div class="ttname"><a href="../../d8/d63/class_quest.html#acff09432e075b85f9e9618a695ab952a">Quest::GetRequiredSkill</a></div><div class="ttdeci">uint32 GetRequiredSkill() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00232">QuestDef.h:232</a></div></div>
<div class="ttc" id="aclass_quest_html_ad0a6cd3d42bc80ab0a3f5472cbf24b8b"><div class="ttname"><a href="../../d8/d63/class_quest.html#ad0a6cd3d42bc80ab0a3f5472cbf24b8b">Quest::IsAllowedInRaid</a></div><div class="ttdeci">bool IsAllowedInRaid(Difficulty difficulty) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/ddd/_quest_def_8cpp_source.html#l00272">QuestDef.cpp:272</a></div></div>
<div class="ttc" id="aclass_quest_html_ad0ccd9dbb5209c6e5a8b4f88703d1b24"><div class="ttname"><a href="../../d8/d63/class_quest.html#ad0ccd9dbb5209c6e5a8b4f88703d1b24">Quest::GetRewChoiceItemsCount</a></div><div class="ttdeci">uint32 GetRewChoiceItemsCount() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00315">QuestDef.h:315</a></div></div>
<div class="ttc" id="aclass_quest_html_ad4362cc4900c53c7bf010ea8fe0eabff"><div class="ttname"><a href="../../d8/d63/class_quest.html#ad4362cc4900c53c7bf010ea8fe0eabff">Quest::GetSrcItemId</a></div><div class="ttdeci">uint32 GetSrcItemId() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00253">QuestDef.h:253</a></div></div>
<div class="ttc" id="aclass_quest_html_ad655d2ab2988cbc70c17a53f27aa84dc"><div class="ttname"><a href="../../d8/d63/class_quest.html#ad655d2ab2988cbc70c17a53f27aa84dc">Quest::IsWeekly</a></div><div class="ttdeci">bool IsWeekly() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00283">QuestDef.h:283</a></div></div>
<div class="ttc" id="aclass_quest_html_adaa19295bcbbc791d0ed2e70d641e4e9"><div class="ttname"><a href="../../d8/d63/class_quest.html#adaa19295bcbbc791d0ed2e70d641e4e9">Quest::IsSeasonal</a></div><div class="ttdeci">bool IsSeasonal() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00285">QuestDef.h:285</a></div></div>
<div class="ttc" id="aclass_quest_html_adb84c508be7586def5faee4c286dd463"><div class="ttname"><a href="../../d8/d63/class_quest.html#adb84c508be7586def5faee4c286dd463">Quest::IsDailyOrWeekly</a></div><div class="ttdeci">bool IsDailyOrWeekly() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00286">QuestDef.h:286</a></div></div>
<div class="ttc" id="aclass_quest_html_ae8a2cf843cd8c423ed4116d53a5bd098"><div class="ttname"><a href="../../d8/d63/class_quest.html#ae8a2cf843cd8c423ed4116d53a5bd098">Quest::GetRewSpellCast</a></div><div class="ttdeci">int32 GetRewSpellCast() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00268">QuestDef.h:268</a></div></div>
<div class="ttc" id="aclass_quest_html_aec34a6498bb385e4ee734fa54d0d9643"><div class="ttname"><a href="../../d8/d63/class_quest.html#aec34a6498bb385e4ee734fa54d0d9643">Quest::IsMonthly</a></div><div class="ttdeci">bool IsMonthly() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00284">QuestDef.h:284</a></div></div>
<div class="ttc" id="aclass_quest_html_aede7794218b0181207be14b07cda2b64"><div class="ttname"><a href="../../d8/d63/class_quest.html#aede7794218b0181207be14b07cda2b64">Quest::RewardItemId</a></div><div class="ttdeci">uint32 RewardItemId[QUEST_REWARDS_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00303">QuestDef.h:303</a></div></div>
<div class="ttc" id="aclass_quest_html_aefa1e253b25eb7e6a0239f14dda98ffc"><div class="ttname"><a href="../../d8/d63/class_quest.html#aefa1e253b25eb7e6a0239f14dda98ffc">Quest::GetBonusTalents</a></div><div class="ttdeci">uint32 GetBonusTalents() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00250">QuestDef.h:250</a></div></div>
<div class="ttc" id="aclass_quest_html_af1e10dfc30ded6ceadd623ab382ef10f"><div class="ttname"><a href="../../d8/d63/class_quest.html#af1e10dfc30ded6ceadd623ab382ef10f">Quest::GetQuestMethod</a></div><div class="ttdeci">uint32 GetQuestMethod() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00224">QuestDef.h:224</a></div></div>
<div class="ttc" id="aclass_quest_html_af6c06e652199b8685e1d1688a3c8f33f"><div class="ttname"><a href="../../d8/d63/class_quest.html#af6c06e652199b8685e1d1688a3c8f33f">Quest::GetTimeAllowed</a></div><div class="ttdeci">uint32 GetTimeAllowed() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00243">QuestDef.h:243</a></div></div>
<div class="ttc" id="aclass_quest_html_af7ac2e2789dc06f793ee19f7cbae4a41"><div class="ttname"><a href="../../d8/d63/class_quest.html#af7ac2e2789dc06f793ee19f7cbae4a41">Quest::IsPVPQuest</a></div><div class="ttdeci">bool IsPVPQuest() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00290">QuestDef.h:290</a></div></div>
<div class="ttc" id="aclass_quest_html_af8f473ce55790d197715fef652c2edc1"><div class="ttname"><a href="../../d8/d63/class_quest.html#af8f473ce55790d197715fef652c2edc1">Quest::prevChainQuests</a></div><div class="ttdeci">PrevChainQuests prevChainQuests</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00321">QuestDef.h:321</a></div></div>
<div class="ttc" id="aclass_quest_html_afcb07099ad8e2ed8fa6c87ca7993aac3"><div class="ttname"><a href="../../d8/d63/class_quest.html#afcb07099ad8e2ed8fa6c87ca7993aac3">Quest::GetRequiredMaxRepFaction</a></div><div class="ttdeci">uint32 GetRequiredMaxRepFaction() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00240">QuestDef.h:240</a></div></div>
<div class="ttc" id="aclass_quest_html_afd21789d43617d2a7d48e0479b247fde"><div class="ttname"><a href="../../d8/d63/class_quest.html#afd21789d43617d2a7d48e0479b247fde">Quest::GetNextQuestInChain</a></div><div class="ttdeci">uint32 GetNextQuestInChain() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00247">QuestDef.h:247</a></div></div>
<div class="ttc" id="aclass_quest_menu_html"><div class="ttname"><a href="../../da/de0/class_quest_menu.html">QuestMenu</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d79/_gossip_def_8h_source.html#l00222">GossipDef.h:223</a></div></div>
<div class="ttc" id="aclass_quest_menu_html_a1a850cb70956f299ea91cb0d732ad202"><div class="ttname"><a href="../../da/de0/class_quest_menu.html#a1a850cb70956f299ea91cb0d732ad202">QuestMenu::Empty</a></div><div class="ttdeci">bool Empty() const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d79/_gossip_def_8h_source.html#l00236">GossipDef.h:236</a></div></div>
<div class="ttc" id="aclass_quest_menu_html_a2338a6fb88c32bfb66fe524a8ffaa0d7"><div class="ttname"><a href="../../da/de0/class_quest_menu.html#a2338a6fb88c32bfb66fe524a8ffaa0d7">QuestMenu::GetMenuItemCount</a></div><div class="ttdeci">uint8 GetMenuItemCount() const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d79/_gossip_def_8h_source.html#l00231">GossipDef.h:231</a></div></div>
<div class="ttc" id="aclass_quest_menu_html_ab3d3881aabe000694acab37a3774507e"><div class="ttname"><a href="../../da/de0/class_quest_menu.html#ab3d3881aabe000694acab37a3774507e">QuestMenu::ClearMenu</a></div><div class="ttdeci">void ClearMenu()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dcb/_gossip_def_8cpp_source.html#l00304">GossipDef.cpp:304</a></div></div>
<div class="ttc" id="aclass_quest_menu_html_ac8735756bbf9f2fa799c505bd740e070"><div class="ttname"><a href="../../da/de0/class_quest_menu.html#ac8735756bbf9f2fa799c505bd740e070">QuestMenu::AddMenuItem</a></div><div class="ttdeci">void AddMenuItem(uint32 QuestId, uint8 Icon)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dcb/_gossip_def_8cpp_source.html#l00280">GossipDef.cpp:280</a></div></div>
<div class="ttc" id="aclass_quest_menu_html_ae7f44e4bf210e6d82ba5304d73de7783"><div class="ttname"><a href="../../da/de0/class_quest_menu.html#ae7f44e4bf210e6d82ba5304d73de7783">QuestMenu::GetItem</a></div><div class="ttdeci">QuestMenuItem const  &amp; GetItem(uint16 index) const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d79/_gossip_def_8h_source.html#l00243">GossipDef.h:243</a></div></div>
<div class="ttc" id="aclass_reputation_mgr_html_a1c217a2d0b1f4f1079f9353294a37170"><div class="ttname"><a href="../../df/dee/class_reputation_mgr.html#a1c217a2d0b1f4f1079f9353294a37170">ReputationMgr::SetVisible</a></div><div class="ttdeci">void SetVisible(FactionTemplateEntry const *factionTemplateEntry)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/ded/_reputation_mgr_8cpp_source.html#l00410">ReputationMgr.cpp:410</a></div></div>
<div class="ttc" id="aclass_spell_info_html"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html">SpellInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/_spell_info_8h_source.html#l00312">SpellInfo.h:313</a></div></div>
<div class="ttc" id="aclass_spell_info_html_a6af41c5dfe2fc8a6e18d010bcb924dc9"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#a6af41c5dfe2fc8a6e18d010bcb924dc9">SpellInfo::IsSelfCast</a></div><div class="ttdeci">bool IsSelfCast() const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/_spell_info_8cpp_source.html#l01073">SpellInfo.cpp:1073</a></div></div>
<div class="ttc" id="aclass_spell_info_html_ad66dd61ba67ee1626e7e8393f0c27498"><div class="ttname"><a href="../../d4/d7d/class_spell_info.html#ad66dd61ba67ee1626e7e8393f0c27498">SpellInfo::HasEffect</a></div><div class="ttdeci">bool HasEffect(SpellEffects effect) const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/_spell_info_8cpp_source.html#l00868">SpellInfo.cpp:868</a></div></div>
<div class="ttc" id="aclass_unit_a_i_html_a03076e2d142052af78e6d9e85f390fd1"><div class="ttname"><a href="../../dd/d9c/class_unit_a_i.html#a03076e2d142052af78e6d9e85f390fd1">UnitAI::sQuestAccept</a></div><div class="ttdeci">virtual void sQuestAccept(Player *, Quest const *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d71/_unit_a_i_8h_source.html#l00316">UnitAI.h:316</a></div></div>
<div class="ttc" id="aclass_unit_html_a69c5ac45b65cf0dede6e0ee837361f61"><div class="ttname"><a href="../../da/db7/class_unit.html#a69c5ac45b65cf0dede6e0ee837361f61">Unit::HasAura</a></div><div class="ttdeci">bool HasAura(uint32 spellId, ObjectGuid casterGUID=ObjectGuid::Empty, ObjectGuid itemCasterGUID=ObjectGuid::Empty, uint8 reqEffMask=0) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d2e/_unit_8cpp_source.html#l05187">Unit.cpp:5187</a></div></div>
<div class="ttc" id="aclass_unit_html_a9819c2f13647afe6ac172fb5313cfd83"><div class="ttname"><a href="../../da/db7/class_unit.html#a9819c2f13647afe6ac172fb5313cfd83">Unit::getRaceMask</a></div><div class="ttdeci">uint32 getRaceMask() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l01544">Unit.h:1544</a></div></div>
<div class="ttc" id="aclass_unit_html_aa3ca95f7a14041f562ed69c3994afdfc"><div class="ttname"><a href="../../da/db7/class_unit.html#aa3ca95f7a14041f562ed69c3994afdfc">Unit::CastSpell</a></div><div class="ttdeci">SpellCastResult CastSpell(SpellCastTargets const &amp;targets, SpellInfo const *spellInfo, CustomSpellValues const *value, TriggerCastFlags triggerFlags=TRIGGERED_NONE, Item *castItem=nullptr, AuraEffect const *triggeredByAura=nullptr, ObjectGuid originalCaster=ObjectGuid::Empty)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d2e/_unit_8cpp_source.html#l01087">Unit.cpp:1087</a></div></div>
<div class="ttc" id="aclass_unit_html_aac612f06e84142d92dcfc432b5feb4ac"><div class="ttname"><a href="../../da/db7/class_unit.html#aac612f06e84142d92dcfc432b5feb4ac">Unit::RemoveAurasDueToSpell</a></div><div class="ttdeci">void RemoveAurasDueToSpell(uint32 spellId, ObjectGuid casterGUID=ObjectGuid::Empty, uint8 reqEffMask=0, AuraRemoveMode removeMode=AURA_REMOVE_BY_DEFAULT)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d2e/_unit_8cpp_source.html#l04420">Unit.cpp:4420</a></div></div>
<div class="ttc" id="aclass_unit_html_abbbd9cc147469bc7f35075539bdf55a0"><div class="ttname"><a href="../../da/db7/class_unit.html#abbbd9cc147469bc7f35075539bdf55a0">Unit::getClassMask</a></div><div class="ttdeci">uint32 getClassMask() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l01546">Unit.h:1546</a></div></div>
<div class="ttc" id="aclass_unit_html_adc6d98745d565970b4a89088ec5b5a42"><div class="ttname"><a href="../../da/db7/class_unit.html#adc6d98745d565970b4a89088ec5b5a42">Unit::getLevel</a></div><div class="ttdeci">uint8 getLevel() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l01539">Unit.h:1539</a></div></div>
<div class="ttc" id="aclass_unit_html_adcdd87d0c137619dfc869536c1315dd7"><div class="ttname"><a href="../../da/db7/class_unit.html#adcdd87d0c137619dfc869536c1315dd7">Unit::AuraEffectList</a></div><div class="ttdeci">std::list&lt; AuraEffect * &gt; AuraEffectList</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l01435">Unit.h:1435</a></div></div>
<div class="ttc" id="aclass_unit_html_af00ac6c4dc7e639ac646fdafef336e85"><div class="ttname"><a href="../../da/db7/class_unit.html#af00ac6c4dc7e639ac646fdafef336e85">Unit::GetAuraEffectsByType</a></div><div class="ttdeci">AuraEffectList const  &amp; GetAuraEffectsByType(AuraType type) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l02047">Unit.h:2047</a></div></div>
<div class="ttc" id="aclass_world_location_html_a2682e56ae4f0ce4b517a8ba3cd2798b1"><div class="ttname"><a href="../../d6/d64/class_world_location.html#a2682e56ae4f0ce4b517a8ba3cd2798b1">WorldLocation::GetMapId</a></div><div class="ttdeci">uint32 GetMapId() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/_object_8h_source.html#l00486">Object.h:486</a></div></div>
<div class="ttc" id="aclass_world_object_html"><div class="ttname"><a href="../../db/df7/class_world_object.html">WorldObject</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/_object_8h_source.html#l00668">Object.h:669</a></div></div>
<div class="ttc" id="aclass_world_object_html_a664e99edd35c98e8eb7f67476aa8082d"><div class="ttname"><a href="../../db/df7/class_world_object.html#a664e99edd35c98e8eb7f67476aa8082d">WorldObject::GetInstanceId</a></div><div class="ttdeci">uint32 GetInstanceId() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/_object_8h_source.html#l00714">Object.h:714</a></div></div>
<div class="ttc" id="aclass_world_object_html_a76c507a1b3adcebf2732572bc6b67fe0"><div class="ttname"><a href="../../db/df7/class_world_object.html#a76c507a1b3adcebf2732572bc6b67fe0">WorldObject::GetMap</a></div><div class="ttdeci">Map * GetMap() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/_object_8h_source.html#l00800">Object.h:800</a></div></div>
<div class="ttc" id="aclass_world_object_html_acdd585ef58eb876c506389ff96a4fbd9"><div class="ttname"><a href="../../db/df7/class_world_object.html#acdd585ef58eb876c506389ff96a4fbd9">WorldObject::GetAreaId</a></div><div class="ttdeci">uint32 GetAreaId() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/ded/_object_8cpp_source.html#l03199">Object.cpp:3199</a></div></div>
<div class="ttc" id="aclass_world_object_html_ad498d690fbe69bb99a8a2ffdcb2f5169"><div class="ttname"><a href="../../db/df7/class_world_object.html#ad498d690fbe69bb99a8a2ffdcb2f5169">WorldObject::GetZoneId</a></div><div class="ttdeci">uint32 GetZoneId() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/ded/_object_8cpp_source.html#l03191">Object.cpp:3191</a></div></div>
<div class="ttc" id="aclass_world_object_html_ae1a8efe701e885f0ed1eaeb93bbece8e"><div class="ttname"><a href="../../db/df7/class_world_object.html#ae1a8efe701e885f0ed1eaeb93bbece8e">WorldObject::GetZoneAndAreaId</a></div><div class="ttdeci">void GetZoneAndAreaId(uint32 &amp;zoneid, uint32 &amp;areaid) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/ded/_object_8cpp_source.html#l03207">Object.cpp:3207</a></div></div>
<div class="ttc" id="aclass_world_packet_html"><div class="ttname"><a href="../../d6/d1a/class_world_packet.html">WorldPacket</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d66/_world_packet_8h_source.html#l00026">WorldPacket.h:27</a></div></div>
<div class="ttc" id="aclass_world_session_html_a2c74b80ca9b81765049e315813b29269"><div class="ttname"><a href="../../d1/d47/class_world_session.html#a2c74b80ca9b81765049e315813b29269">WorldSession::SendPacket</a></div><div class="ttdeci">void SendPacket(WorldPacket const *packet)</div><div class="ttdoc">Send a packet to the client.</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcc/_world_session_8cpp_source.html#l00210">WorldSession.cpp:210</a></div></div>
<div class="ttc" id="aclass_world_session_html_a38ff97828c0efe89c092f5772c543564"><div class="ttname"><a href="../../d1/d47/class_world_session.html#a38ff97828c0efe89c092f5772c543564">WorldSession::GetSessionDbLocaleIndex</a></div><div class="ttdeci">LocaleConstant GetSessionDbLocaleIndex() const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc6/_world_session_8h_source.html#l00408">WorldSession.h:408</a></div></div>
<div class="ttc" id="agroup__u2w_html_gga1073b6abb3a749f18bf1633020879e9ba2ea19a4baee312f6efe15e1aaaae0db3"><div class="ttname"><a href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9ba2ea19a4baee312f6efe15e1aaaae0db3">SMSG_QUESTUPDATE_ADD_PVP_KILL</a></div><div class="ttdeci">@ SMSG_QUESTUPDATE_ADD_PVP_KILL</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/_opcodes_8h_source.html#l01165">Opcodes.h:1165</a></div></div>
<div class="ttc" id="agroup__u2w_html_gga1073b6abb3a749f18bf1633020879e9ba30c98574a0018ff7c9728bf1cfe66554"><div class="ttname"><a href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9ba30c98574a0018ff7c9728bf1cfe66554">SMSG_QUESTLOG_FULL</a></div><div class="ttdeci">@ SMSG_QUESTLOG_FULL</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/_opcodes_8h_source.html#l00435">Opcodes.h:435</a></div></div>
<div class="ttc" id="agroup__u2w_html_gga1073b6abb3a749f18bf1633020879e9ba4857f7dedd8750bcf0de224609705ac7"><div class="ttname"><a href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9ba4857f7dedd8750bcf0de224609705ac7">SMSG_QUESTGIVER_QUEST_FAILED</a></div><div class="ttdeci">@ SMSG_QUESTGIVER_QUEST_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/_opcodes_8h_source.html#l00432">Opcodes.h:432</a></div></div>
<div class="ttc" id="agroup__u2w_html_gga1073b6abb3a749f18bf1633020879e9ba5d2eb06053041c2a960482f43020c855"><div class="ttname"><a href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9ba5d2eb06053041c2a960482f43020c855">SMSG_QUESTUPDATE_ADD_KILL</a></div><div class="ttdeci">@ SMSG_QUESTUPDATE_ADD_KILL</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/_opcodes_8h_source.html#l00439">Opcodes.h:439</a></div></div>
<div class="ttc" id="agroup__u2w_html_gga1073b6abb3a749f18bf1633020879e9ba74baedb07a0701b4ce635b21591bd3b0"><div class="ttname"><a href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9ba74baedb07a0701b4ce635b21591bd3b0">MSG_QUEST_PUSH_RESULT</a></div><div class="ttdeci">@ MSG_QUEST_PUSH_RESULT</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/_opcodes_8h_source.html#l00660">Opcodes.h:660</a></div></div>
<div class="ttc" id="agroup__u2w_html_gga1073b6abb3a749f18bf1633020879e9ba7a952d47f9cef9c114ef64e1e854eecc"><div class="ttname"><a href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9ba7a952d47f9cef9c114ef64e1e854eecc">SMSG_QUESTGIVER_QUEST_INVALID</a></div><div class="ttdeci">@ SMSG_QUESTGIVER_QUEST_INVALID</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/_opcodes_8h_source.html#l00429">Opcodes.h:429</a></div></div>
<div class="ttc" id="agroup__u2w_html_gga1073b6abb3a749f18bf1633020879e9baaa689b8ec7c14d2fb2a79c8650722df5"><div class="ttname"><a href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9baaa689b8ec7c14d2fb2a79c8650722df5">SMSG_QUESTUPDATE_ADD_ITEM</a></div><div class="ttdeci">@ SMSG_QUESTUPDATE_ADD_ITEM</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/_opcodes_8h_source.html#l00440">Opcodes.h:440</a></div></div>
<div class="ttc" id="agroup__u2w_html_gga1073b6abb3a749f18bf1633020879e9bad966b4945954bdffc0b71a71ebb4b4c3"><div class="ttname"><a href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9bad966b4945954bdffc0b71a71ebb4b4c3">SMSG_QUESTUPDATE_COMPLETE</a></div><div class="ttdeci">@ SMSG_QUESTUPDATE_COMPLETE</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/_opcodes_8h_source.html#l00438">Opcodes.h:438</a></div></div>
<div class="ttc" id="agroup__u2w_html_gga1073b6abb3a749f18bf1633020879e9bae94543520cb50237ff53ca89a622fe28"><div class="ttname"><a href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9bae94543520cb50237ff53ca89a622fe28">SMSG_QUESTUPDATE_FAILEDTIMER</a></div><div class="ttdeci">@ SMSG_QUESTUPDATE_FAILEDTIMER</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/_opcodes_8h_source.html#l00437">Opcodes.h:437</a></div></div>
<div class="ttc" id="agroup__u2w_html_gga1073b6abb3a749f18bf1633020879e9baf375f927018f994e6c6092dc151c858e"><div class="ttname"><a href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9baf375f927018f994e6c6092dc151c858e">SMSG_QUEST_CONFIRM_ACCEPT</a></div><div class="ttdeci">@ SMSG_QUEST_CONFIRM_ACCEPT</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/_opcodes_8h_source.html#l00442">Opcodes.h:442</a></div></div>
<div class="ttc" id="agroup__u2w_html_gga1073b6abb3a749f18bf1633020879e9baf86976d74ca377eacfd672c0ee2d3e45"><div class="ttname"><a href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9baf86976d74ca377eacfd672c0ee2d3e45">SMSG_QUESTGIVER_QUEST_COMPLETE</a></div><div class="ttdeci">@ SMSG_QUESTGIVER_QUEST_COMPLETE</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/_opcodes_8h_source.html#l00431">Opcodes.h:431</a></div></div>
<div class="ttc" id="agroup__world_html_ga05dfb35c344e5b947a19e4284e7f5fa7"><div class="ttname"><a href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a></div><div class="ttdeci">#define sWorld</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d86/_world_8h_source.html#l00511">World.h:511</a></div></div>
<div class="ttc" id="anamespace_disable_mgr_html_a6673bbc719c96febfc86a4220a988ed0"><div class="ttname"><a href="../../dd/d42/namespace_disable_mgr.html#a6673bbc719c96febfc86a4220a988ed0">DisableMgr::IsDisabledFor</a></div><div class="ttdeci">bool IsDisabledFor(DisableType type, uint32 entry, Unit const *unit, uint8 flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d23/_disable_mgr_8cpp_source.html#l00294">DisableMgr.cpp:294</a></div></div>
<div class="ttc" id="anamespace_git_revision_html_a10817e6a26ea352c0f79233d2ef552a8"><div class="ttname"><a href="../../da/d2d/namespace_git_revision.html#a10817e6a26ea352c0f79233d2ef552a8">GitRevision::GetDate</a></div><div class="ttdeci">AC_COMMON_API char const  * GetDate()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d26/_git_revision_8cpp_source.html#l00014">GitRevision.cpp:14</a></div></div>
<div class="ttc" id="anamespace_git_revision_html_addcf1401768f04ea13a6e868d9580605"><div class="ttname"><a href="../../da/d2d/namespace_git_revision.html#addcf1401768f04ea13a6e868d9580605">GitRevision::GetHash</a></div><div class="ttdeci">AC_COMMON_API char const  * GetHash()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d26/_git_revision_8cpp_source.html#l00009">GitRevision.cpp:9</a></div></div>
<div class="ttc" id="anamespace_object_accessor_html_a0bfd3fb4a5f43a4159bbd0b176186e19"><div class="ttname"><a href="../../d4/d27/namespace_object_accessor.html#a0bfd3fb4a5f43a4159bbd0b176186e19">ObjectAccessor::GetObjectByTypeMask</a></div><div class="ttdeci">Object * GetObjectByTypeMask(WorldObject const &amp;, ObjectGuid const guid, uint32 typemask)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5d/_object_accessor_8cpp_source.html#l00141">ObjectAccessor.cpp:141</a></div></div>
<div class="ttc" id="anamespace_object_accessor_html_abe7c8995443541417f52b00973dbde6f"><div class="ttname"><a href="../../d4/d27/namespace_object_accessor.html#abe7c8995443541417f52b00973dbde6f">ObjectAccessor::GetCreatureOrPetOrVehicle</a></div><div class="ttdeci">Creature * GetCreatureOrPetOrVehicle(WorldObject const &amp;, ObjectGuid const)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5d/_object_accessor_8cpp_source.html#l00234">ObjectAccessor.cpp:234</a></div></div>
<div class="ttc" id="anamespace_object_accessor_html_ae42e503fe79bbeaea1aaa665418c43f8"><div class="ttname"><a href="../../d4/d27/namespace_object_accessor.html#ae42e503fe79bbeaea1aaa665418c43f8">ObjectAccessor::GetCreature</a></div><div class="ttdeci">Creature * GetCreature(WorldObject const &amp;u, ObjectGuid const guid)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5d/_object_accessor_8cpp_source.html#l00210">ObjectAccessor.cpp:210</a></div></div>
<div class="ttc" id="astruct_char_titles_entry_html"><div class="ttname"><a href="../../db/dd8/struct_char_titles_entry.html">CharTitlesEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l00630">DBCStructure.h:631</a></div></div>
<div class="ttc" id="astruct_creature_template_html"><div class="ttname"><a href="../../d2/d0b/struct_creature_template.html">CreatureTemplate</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/_creature_data_8h_source.html#l00087">CreatureData.h:88</a></div></div>
<div class="ttc" id="astruct_creature_template_html_a3f6f92f27a268bc4e3f4d349c633c9f8"><div class="ttname"><a href="../../d2/d0b/struct_creature_template.html#a3f6f92f27a268bc4e3f4d349c633c9f8">CreatureTemplate::Entry</a></div><div class="ttdeci">uint32 Entry</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/_creature_data_8h_source.html#l00089">CreatureData.h:89</a></div></div>
<div class="ttc" id="astruct_creature_template_html_a8f1f7c9c67532ec302ebeb41b340e287"><div class="ttname"><a href="../../d2/d0b/struct_creature_template.html#a8f1f7c9c67532ec302ebeb41b340e287">CreatureTemplate::KillCredit</a></div><div class="ttdeci">uint32 KillCredit[MAX_KILL_CREDIT]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de2/_creature_data_8h_source.html#l00091">CreatureData.h:91</a></div></div>
<div class="ttc" id="astruct_faction_entry_html"><div class="ttname"><a href="../../d0/d40/struct_faction_entry.html">FactionEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l00867">DBCStructure.h:868</a></div></div>
<div class="ttc" id="astruct_faction_entry_html_a1953f7a343201113dae80cdd97e1ac90"><div class="ttname"><a href="../../d0/d40/struct_faction_entry.html#a1953f7a343201113dae80cdd97e1ac90">FactionEntry::ID</a></div><div class="ttdeci">uint32 ID</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l00869">DBCStructure.h:869</a></div></div>
<div class="ttc" id="astruct_gossip_text_html"><div class="ttname"><a href="../../d1/d3e/struct_gossip_text.html">GossipText</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d55/_n_p_c_handler_8h_source.html#l00044">NPCHandler.h:45</a></div></div>
<div class="ttc" id="astruct_gossip_text_html_a30882f3f0415185ec12ef4d316a0b428"><div class="ttname"><a href="../../d1/d3e/struct_gossip_text.html#a30882f3f0415185ec12ef4d316a0b428">GossipText::Options</a></div><div class="ttdeci">GossipTextOption Options[MAX_GOSSIP_TEXT_OPTIONS]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d55/_n_p_c_handler_8h_source.html#l00046">NPCHandler.h:46</a></div></div>
<div class="ttc" id="astruct_gossip_text_option_html_a046d637b91807db067c6e7050184322d"><div class="ttname"><a href="../../d1/d25/struct_gossip_text_option.html#a046d637b91807db067c6e7050184322d">GossipTextOption::Text_0</a></div><div class="ttdeci">std::string Text_0</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d55/_n_p_c_handler_8h_source.html#l00034">NPCHandler.h:34</a></div></div>
<div class="ttc" id="astruct_gossip_text_option_html_a0f67a651fdb3f3217279015c9e3fb292"><div class="ttname"><a href="../../d1/d25/struct_gossip_text_option.html#a0f67a651fdb3f3217279015c9e3fb292">GossipTextOption::Emotes</a></div><div class="ttdeci">QEmote Emotes[MAX_GOSSIP_TEXT_EMOTES]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d55/_n_p_c_handler_8h_source.html#l00039">NPCHandler.h:39</a></div></div>
<div class="ttc" id="astruct_gossip_text_option_html_a8d64d7b8fcdbd995cc11e22adde8c0de"><div class="ttname"><a href="../../d1/d25/struct_gossip_text_option.html#a8d64d7b8fcdbd995cc11e22adde8c0de">GossipTextOption::Text_1</a></div><div class="ttdeci">std::string Text_1</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d55/_n_p_c_handler_8h_source.html#l00035">NPCHandler.h:35</a></div></div>
<div class="ttc" id="astruct_item_template_html"><div class="ttname"><a href="../../da/d61/struct_item_template.html">ItemTemplate</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d9e/_item_template_8h_source.html#l00627">ItemTemplate.h:628</a></div></div>
<div class="ttc" id="astruct_item_template_html_a2c13c4c1edbd3add9c6e0e2263f6c717"><div class="ttname"><a href="../../da/d61/struct_item_template.html#a2c13c4c1edbd3add9c6e0e2263f6c717">ItemTemplate::MaxCount</a></div><div class="ttdeci">int32 MaxCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d9e/_item_template_8h_source.html#l00653">ItemTemplate.h:653</a></div></div>
<div class="ttc" id="astruct_item_template_html_aef5389c8385f5729a2471d7ef144f05a"><div class="ttname"><a href="../../da/d61/struct_item_template.html#aef5389c8385f5729a2471d7ef144f05a">ItemTemplate::StartQuest</a></div><div class="ttdeci">uint32 StartQuest</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d9e/_item_template_8h_source.html#l00677">ItemTemplate.h:677</a></div></div>
<div class="ttc" id="astruct_npc_text_locale_html"><div class="ttname"><a href="../../d9/dfc/struct_npc_text_locale.html">NpcTextLocale</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d55/_n_p_c_handler_8h_source.html#l00054">NPCHandler.h:55</a></div></div>
<div class="ttc" id="astruct_pv_p_info_html_a22a1c8f0e8c51f4a27cb8ab362028d61"><div class="ttname"><a href="../../d6/db0/struct_pv_p_info.html#a22a1c8f0e8c51f4a27cb8ab362028d61">PvPInfo::IsHostile</a></div><div class="ttdeci">bool IsHostile</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l00351">Player.h:351</a></div></div>
<div class="ttc" id="astruct_pv_p_info_html_a92d3c8991f7e3c5d683b414d18cbbd64"><div class="ttname"><a href="../../d6/db0/struct_pv_p_info.html#a92d3c8991f7e3c5d683b414d18cbbd64">PvPInfo::IsInHostileArea</a></div><div class="ttdeci">bool IsInHostileArea</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l00352">Player.h:352</a></div></div>
<div class="ttc" id="astruct_q_emote_html"><div class="ttname"><a href="../../d5/d85/struct_q_emote.html">QEmote</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d55/_n_p_c_handler_8h_source.html#l00024">NPCHandler.h:25</a></div></div>
<div class="ttc" id="astruct_q_emote_html_a701c902af6f7f472511727bcc88ceeef"><div class="ttname"><a href="../../d5/d85/struct_q_emote.html#a701c902af6f7f472511727bcc88ceeef">QEmote::_Emote</a></div><div class="ttdeci">uint32 _Emote</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d55/_n_p_c_handler_8h_source.html#l00026">NPCHandler.h:26</a></div></div>
<div class="ttc" id="astruct_q_emote_html_a8c4024f5818f327f29b44a26892b89a1"><div class="ttname"><a href="../../d5/d85/struct_q_emote.html#a8c4024f5818f327f29b44a26892b89a1">QEmote::_Delay</a></div><div class="ttdeci">uint32 _Delay</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d55/_n_p_c_handler_8h_source.html#l00027">NPCHandler.h:27</a></div></div>
<div class="ttc" id="astruct_quest_locale_html"><div class="ttname"><a href="../../dc/d81/struct_quest_locale.html">QuestLocale</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00177">QuestDef.h:178</a></div></div>
<div class="ttc" id="astruct_quest_menu_item_html"><div class="ttname"><a href="../../d0/d13/struct_quest_menu_item.html">QuestMenuItem</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d79/_gossip_def_8h_source.html#l00152">GossipDef.h:153</a></div></div>
<div class="ttc" id="astruct_quest_menu_item_html_a522a4fcb28daec3e1a620b6f02c3d8fe"><div class="ttname"><a href="../../d0/d13/struct_quest_menu_item.html#a522a4fcb28daec3e1a620b6f02c3d8fe">QuestMenuItem::QuestId</a></div><div class="ttdeci">uint32 QuestId</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d79/_gossip_def_8h_source.html#l00154">GossipDef.h:154</a></div></div>
<div class="ttc" id="astruct_quest_menu_item_html_ad8bbfe08780eaa68a8205e2634d211b8"><div class="ttname"><a href="../../d0/d13/struct_quest_menu_item.html#ad8bbfe08780eaa68a8205e2634d211b8">QuestMenuItem::QuestIcon</a></div><div class="ttdeci">uint8 QuestIcon</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d79/_gossip_def_8h_source.html#l00155">GossipDef.h:155</a></div></div>
<div class="ttc" id="astruct_quest_status_data_html"><div class="ttname"><a href="../../de/d05/struct_quest_status_data.html">QuestStatusData</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00402">QuestDef.h:403</a></div></div>
<div class="ttc" id="astruct_quest_status_data_html_a16343f7a162e5b7b6a1a18345420c77a"><div class="ttname"><a href="../../de/d05/struct_quest_status_data.html#a16343f7a162e5b7b6a1a18345420c77a">QuestStatusData::Timer</a></div><div class="ttdeci">uint32 Timer</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00411">QuestDef.h:411</a></div></div>
<div class="ttc" id="astruct_quest_status_data_html_a170a1e54fe45b7fd0c7934f1309f7969"><div class="ttname"><a href="../../de/d05/struct_quest_status_data.html#a170a1e54fe45b7fd0c7934f1309f7969">QuestStatusData::PlayerCount</a></div><div class="ttdeci">uint16 PlayerCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00414">QuestDef.h:414</a></div></div>
<div class="ttc" id="astruct_quest_status_data_html_a466999cea52f65bf58916bc34750bf95"><div class="ttname"><a href="../../de/d05/struct_quest_status_data.html#a466999cea52f65bf58916bc34750bf95">QuestStatusData::ItemCount</a></div><div class="ttdeci">uint16 ItemCount[QUEST_ITEM_OBJECTIVES_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00412">QuestDef.h:412</a></div></div>
<div class="ttc" id="astruct_quest_status_data_html_a4ce7af3a64737d7961b6dfa19189c932"><div class="ttname"><a href="../../de/d05/struct_quest_status_data.html#a4ce7af3a64737d7961b6dfa19189c932">QuestStatusData::Status</a></div><div class="ttdeci">QuestStatus Status</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00410">QuestDef.h:410</a></div></div>
<div class="ttc" id="astruct_quest_status_data_html_a734f6a61aa35c77689d33031e88f0c0b"><div class="ttname"><a href="../../de/d05/struct_quest_status_data.html#a734f6a61aa35c77689d33031e88f0c0b">QuestStatusData::Explored</a></div><div class="ttdeci">bool Explored</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00415">QuestDef.h:415</a></div></div>
<div class="ttc" id="astruct_quest_status_data_html_aa5892dc0744a41ac565568307f12ad35"><div class="ttname"><a href="../../de/d05/struct_quest_status_data.html#aa5892dc0744a41ac565568307f12ad35">QuestStatusData::CreatureOrGOCount</a></div><div class="ttdeci">uint16 CreatureOrGOCount[QUEST_OBJECTIVES_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/_quest_def_8h_source.html#l00413">QuestDef.h:413</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
