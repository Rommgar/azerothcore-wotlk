<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Azerotcore-wotlk: ThreatMgr Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Azerotcore-wotlk
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="../../d7/d1c/class_threat_mgr-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ThreatMgr Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html">ThreatMgr.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae724e04e02f6c35a062bd25786bbc73b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#ae724e04e02f6c35a062bd25786bbc73b">ThreatMgr</a> (<a class="el" href="../../da/db7/class_unit.html">Unit</a> *owner)</td></tr>
<tr class="separator:ae724e04e02f6c35a062bd25786bbc73b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af76e930bfd291f63fe2f7984cd0f7aff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#af76e930bfd291f63fe2f7984cd0f7aff">~ThreatMgr</a> ()</td></tr>
<tr class="separator:af76e930bfd291f63fe2f7984cd0f7aff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e937749207c225d2fb0b2fa4c9519e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#a3e937749207c225d2fb0b2fa4c9519e2">clearReferences</a> ()</td></tr>
<tr class="separator:a3e937749207c225d2fb0b2fa4c9519e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a589c008393572b51f3e7cfb69e5d1392"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#a589c008393572b51f3e7cfb69e5d1392">addThreat</a> (<a class="el" href="../../da/db7/class_unit.html">Unit</a> *victim, float threat, <a class="el" href="../../df/d0b/_shared_defines_8h.html#aff6913cfd69489c107a071be9ec2ec8f">SpellSchoolMask</a> schoolMask=<a class="el" href="../../df/d0b/_shared_defines_8h.html#aff6913cfd69489c107a071be9ec2ec8fa12667dd3f55738c93e1ddb1351779b42">SPELL_SCHOOL_MASK_NORMAL</a>, <a class="el" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> *threatSpell=nullptr)</td></tr>
<tr class="separator:a589c008393572b51f3e7cfb69e5d1392"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5ee6e61f43ce1683da8728b630b48d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#ae5ee6e61f43ce1683da8728b630b48d2">doAddThreat</a> (<a class="el" href="../../da/db7/class_unit.html">Unit</a> *victim, float threat)</td></tr>
<tr class="separator:ae5ee6e61f43ce1683da8728b630b48d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a772faa10ad4ff655e65f57bfe86e8836"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#a772faa10ad4ff655e65f57bfe86e8836">modifyThreatPercent</a> (<a class="el" href="../../da/db7/class_unit.html">Unit</a> *victim, <a class="el" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> percent)</td></tr>
<tr class="separator:a772faa10ad4ff655e65f57bfe86e8836"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82c3983cc5bcc545a6ea2fa1da9a27e4"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#a82c3983cc5bcc545a6ea2fa1da9a27e4">getThreat</a> (<a class="el" href="../../da/db7/class_unit.html">Unit</a> *victim, <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> alsoSearchOfflineList=<a class="el" href="../../d9/d5e/stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>)</td></tr>
<tr class="separator:a82c3983cc5bcc545a6ea2fa1da9a27e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e55da20f90fbee22a6bc89cfabd6479"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#a2e55da20f90fbee22a6bc89cfabd6479">getThreatWithoutTemp</a> (<a class="el" href="../../da/db7/class_unit.html">Unit</a> *victim, <a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> alsoSearchOfflineList=<a class="el" href="../../d9/d5e/stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>)</td></tr>
<tr class="separator:a2e55da20f90fbee22a6bc89cfabd6479"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcf06946662ccb10e22b53844871ebbe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#adcf06946662ccb10e22b53844871ebbe">isThreatListEmpty</a> () <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:adcf06946662ccb10e22b53844871ebbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65ba80f06e855798fabdc58e831b0791"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#a65ba80f06e855798fabdc58e831b0791">areThreatListsEmpty</a> () <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a65ba80f06e855798fabdc58e831b0791"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1aaab217053df0fc670b3f2a86d87589"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#a1aaab217053df0fc670b3f2a86d87589">processThreatEvent</a> (<a class="el" href="../../d3/dcd/class_threat_ref_status_change_event.html">ThreatRefStatusChangeEvent</a> *threatRefStatusChangeEvent)</td></tr>
<tr class="separator:a1aaab217053df0fc670b3f2a86d87589"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fdf017a6219469e9966a2ffe4e536fc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#a2fdf017a6219469e9966a2ffe4e536fc">isNeedUpdateToClient</a> (<a class="el" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> time)</td></tr>
<tr class="separator:a2fdf017a6219469e9966a2ffe4e536fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6c5604b44b79f3ed8ad31c4b75f63d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d28/class_hostile_reference.html">HostileReference</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#ad6c5604b44b79f3ed8ad31c4b75f63d1">getCurrentVictim</a> () <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:ad6c5604b44b79f3ed8ad31c4b75f63d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8af7568291f04250454ebfbdad97be7f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/db7/class_unit.html">Unit</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#a8af7568291f04250454ebfbdad97be7f">GetOwner</a> () <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a8af7568291f04250454ebfbdad97be7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a384c23cf271b0478904ecc61b9dc7a8e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/db7/class_unit.html">Unit</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#a384c23cf271b0478904ecc61b9dc7a8e">getHostilTarget</a> ()</td></tr>
<tr class="separator:a384c23cf271b0478904ecc61b9dc7a8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bb07f6da7a18565a9f34f66b5ec0c74"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#a2bb07f6da7a18565a9f34f66b5ec0c74">tauntApply</a> (<a class="el" href="../../da/db7/class_unit.html">Unit</a> *taunter)</td></tr>
<tr class="separator:a2bb07f6da7a18565a9f34f66b5ec0c74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32c81fd4088678a3ffd8590fcd3cbb6e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#a32c81fd4088678a3ffd8590fcd3cbb6e">tauntFadeOut</a> (<a class="el" href="../../da/db7/class_unit.html">Unit</a> *taunter)</td></tr>
<tr class="separator:a32c81fd4088678a3ffd8590fcd3cbb6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0675c1295245c0418bd4021557fbacc4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#a0675c1295245c0418bd4021557fbacc4">setCurrentVictim</a> (<a class="el" href="../../d1/d28/class_hostile_reference.html">HostileReference</a> *hostileRef)</td></tr>
<tr class="separator:a0675c1295245c0418bd4021557fbacc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3af45b133035760e8af979e132fa5d16"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#a3af45b133035760e8af979e132fa5d16">setDirty</a> (<a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> isDirty)</td></tr>
<tr class="separator:a3af45b133035760e8af979e132fa5d16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14ad14e71ba14dadc89e766e10c33bec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#a14ad14e71ba14dadc89e766e10c33bec">resetAllAggro</a> ()</td></tr>
<tr class="separator:a14ad14e71ba14dadc89e766e10c33bec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c62c861a4fce0e44e9fe37d7feeb31d"><td class="memTemplParams" colspan="2">template&lt;class PREDICATE &gt; </td></tr>
<tr class="memitem:a5c62c861a4fce0e44e9fe37d7feeb31d"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#a5c62c861a4fce0e44e9fe37d7feeb31d">resetAggro</a> (PREDICATE predicate)</td></tr>
<tr class="separator:a5c62c861a4fce0e44e9fe37d7feeb31d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71f6cfb8c6a3896eda706db610ed5535"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d50/class_threat_container.html#aa54b741c510fc6a3d0bac802e8ba8299">ThreatContainer::StorageType</a> <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a>  &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#a71f6cfb8c6a3896eda706db610ed5535">getThreatList</a> () <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a71f6cfb8c6a3896eda706db610ed5535"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72791905f71eb8de07f33b4763a2add2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d50/class_threat_container.html#aa54b741c510fc6a3d0bac802e8ba8299">ThreatContainer::StorageType</a> <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a>  &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#a72791905f71eb8de07f33b4763a2add2">getOfflineThreatList</a> () <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a72791905f71eb8de07f33b4763a2add2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af460644c4e7d661b8e4cad3d5079a2c2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d50/class_threat_container.html">ThreatContainer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#af460644c4e7d661b8e4cad3d5079a2c2">getOnlineContainer</a> ()</td></tr>
<tr class="separator:af460644c4e7d661b8e4cad3d5079a2c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae740e976b3a5169139fb4bfe6157dc5a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d50/class_threat_container.html">ThreatContainer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#ae740e976b3a5169139fb4bfe6157dc5a">getOfflineContainer</a> ()</td></tr>
<tr class="separator:ae740e976b3a5169139fb4bfe6157dc5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a1ef6a4761e9254b61ab9fe266d68f132"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#a1ef6a4761e9254b61ab9fe266d68f132">_addThreat</a> (<a class="el" href="../../da/db7/class_unit.html">Unit</a> *victim, float threat)</td></tr>
<tr class="separator:a1ef6a4761e9254b61ab9fe266d68f132"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a08ae7f6d2914dca1698ae518f0133a7b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d28/class_hostile_reference.html">HostileReference</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#a08ae7f6d2914dca1698ae518f0133a7b">iCurrentVictim</a></td></tr>
<tr class="separator:a08ae7f6d2914dca1698ae518f0133a7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44cb20b0e46f9932d951218b63e77b38"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/db7/class_unit.html">Unit</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#a44cb20b0e46f9932d951218b63e77b38">iOwner</a></td></tr>
<tr class="separator:a44cb20b0e46f9932d951218b63e77b38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6302f3d039e18c7d9c74b26288491825"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#a6302f3d039e18c7d9c74b26288491825">iUpdateTimer</a></td></tr>
<tr class="separator:a6302f3d039e18c7d9c74b26288491825"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a915dba2303936ef06cdd65d0e8d99b9d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d50/class_threat_container.html">ThreatContainer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#a915dba2303936ef06cdd65d0e8d99b9d">iThreatContainer</a></td></tr>
<tr class="separator:a915dba2303936ef06cdd65d0e8d99b9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21f182f89eedb87dc73fbbaa4c52c2be"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d50/class_threat_container.html">ThreatContainer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#a21f182f89eedb87dc73fbbaa4c52c2be">iThreatOfflineContainer</a></td></tr>
<tr class="separator:a21f182f89eedb87dc73fbbaa4c52c2be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:ad2986bf4d69d9d5c9223c0f44e6b4554"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db1/class_threat_mgr.html#ad2986bf4d69d9d5c9223c0f44e6b4554">HostileReference</a></td></tr>
<tr class="separator:ad2986bf4d69d9d5c9223c0f44e6b4554"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00191">191</a> of file <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html">ThreatMgr.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae724e04e02f6c35a062bd25786bbc73b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae724e04e02f6c35a062bd25786bbc73b">&#9670;&nbsp;</a></span>ThreatMgr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ThreatMgr::ThreatMgr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/db7/class_unit.html">Unit</a> *&#160;</td>
          <td class="paramname"><em>owner</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00405">405</a> of file <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html">ThreatMgr.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                                : <a class="code" href="../../d0/db1/class_threat_mgr.html#a08ae7f6d2914dca1698ae518f0133a7b">iCurrentVictim</a>(<span class="keyword">nullptr</span>), <a class="code" href="../../d0/db1/class_threat_mgr.html#a44cb20b0e46f9932d951218b63e77b38">iOwner</a>(owner), <a class="code" href="../../d0/db1/class_threat_mgr.html#a6302f3d039e18c7d9c74b26288491825">iUpdateTimer</a>(<a class="code" href="../../d8/d5e/_threat_mgr_8h.html#a7173807ed06286e3a91f0497a3588f6b">THREAT_UPDATE_INTERVAL</a>)</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;{</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;}</div>
<div class="ttc" id="a_threat_mgr_8h_html_a7173807ed06286e3a91f0497a3588f6b"><div class="ttname"><a href="../../d8/d5e/_threat_mgr_8h.html#a7173807ed06286e3a91f0497a3588f6b">THREAT_UPDATE_INTERVAL</a></div><div class="ttdeci">#define THREAT_UPDATE_INTERVAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00034">ThreatMgr.h:34</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a08ae7f6d2914dca1698ae518f0133a7b"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a08ae7f6d2914dca1698ae518f0133a7b">ThreatMgr::iCurrentVictim</a></div><div class="ttdeci">HostileReference * iCurrentVictim</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00261">ThreatMgr.h:261</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a44cb20b0e46f9932d951218b63e77b38"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a44cb20b0e46f9932d951218b63e77b38">ThreatMgr::iOwner</a></div><div class="ttdeci">Unit * iOwner</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00262">ThreatMgr.h:262</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a6302f3d039e18c7d9c74b26288491825"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a6302f3d039e18c7d9c74b26288491825">ThreatMgr::iUpdateTimer</a></div><div class="ttdeci">uint32 iUpdateTimer</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00263">ThreatMgr.h:263</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af76e930bfd291f63fe2f7984cd0f7aff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af76e930bfd291f63fe2f7984cd0f7aff">&#9670;&nbsp;</a></span>~ThreatMgr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ThreatMgr::~ThreatMgr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00198">198</a> of file <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html">ThreatMgr.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;{ <a class="code" href="../../d0/db1/class_threat_mgr.html#a3e937749207c225d2fb0b2fa4c9519e2">clearReferences</a>(); }</div>
<div class="ttc" id="aclass_threat_mgr_html_a3e937749207c225d2fb0b2fa4c9519e2"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a3e937749207c225d2fb0b2fa4c9519e2">ThreatMgr::clearReferences</a></div><div class="ttdeci">void clearReferences()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00411">ThreatMgr.cpp:411</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00411">clearReferences()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1ef6a4761e9254b61ab9fe266d68f132"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ef6a4761e9254b61ab9fe266d68f132">&#9670;&nbsp;</a></span>_addThreat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ThreatMgr::_addThreat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/db7/class_unit.html">Unit</a> *&#160;</td>
          <td class="paramname"><em>victim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>threat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00448">448</a> of file <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html">ThreatMgr.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;{</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <a class="code" href="../../d1/d28/class_hostile_reference.html">HostileReference</a>* ref = <a class="code" href="../../d0/db1/class_threat_mgr.html#a915dba2303936ef06cdd65d0e8d99b9d">iThreatContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#a0bd08f78ade33458ed4897bef00559b8">addThreat</a>(victim, threat);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="comment">// Ref is not in the online refs, search the offline refs next</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordflow">if</span> (!ref)</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        ref = <a class="code" href="../../d0/db1/class_threat_mgr.html#a21f182f89eedb87dc73fbbaa4c52c2be">iThreatOfflineContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#a0bd08f78ade33458ed4897bef00559b8">addThreat</a>(victim, threat);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordflow">if</span> (!ref) <span class="comment">// there was no ref =&gt; create a new one</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <span class="comment">// threat has to be 0 here</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <a class="code" href="../../d1/d28/class_hostile_reference.html">HostileReference</a>* hostileRef = <span class="keyword">new</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#ad2986bf4d69d9d5c9223c0f44e6b4554">HostileReference</a>(victim, <span class="keyword">this</span>, 0);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <a class="code" href="../../d0/db1/class_threat_mgr.html#a915dba2303936ef06cdd65d0e8d99b9d">iThreatContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#ad3d6d6b13e9b761174f9bfbb6e0c2899">addReference</a>(hostileRef);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        hostileRef-&gt;<a class="code" href="../../d1/d28/class_hostile_reference.html#ac4820cdf2dffd0f7def1497263e0ea88">addThreat</a>(threat); <span class="comment">// now we add the real threat</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <span class="keywordflow">if</span> (victim-&gt;<a class="code" href="../../d8/d83/class_object.html#a621a345fc34deed6d3a4e1e498a652da">GetTypeId</a>() == <a class="code" href="../../d9/d83/_object_guid_8h.html#a183c40b2ba67065929d70b3987da4cc2aca37d750899c40a5743285ccda2bba9c">TYPEID_PLAYER</a> &amp;&amp; victim-&gt;<a class="code" href="../../d8/d83/class_object.html#ae635434021784608b659501867538c87">ToPlayer</a>()-&gt;<a class="code" href="../../d8/d53/class_player.html#a9f23cae8a3da0345a05c2a2bfedc2fe2">IsGameMaster</a>())</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            hostileRef-&gt;<a class="code" href="../../d1/d28/class_hostile_reference.html#a546a126cb2a9d9d27ed61b15c24d4417">setOnlineOfflineState</a>(<span class="keyword">false</span>); <span class="comment">// GM is always offline</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    }</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;}</div>
<div class="ttc" id="a_object_guid_8h_html_a183c40b2ba67065929d70b3987da4cc2aca37d750899c40a5743285ccda2bba9c"><div class="ttname"><a href="../../d9/d83/_object_guid_8h.html#a183c40b2ba67065929d70b3987da4cc2aca37d750899c40a5743285ccda2bba9c">TYPEID_PLAYER</a></div><div class="ttdeci">@ TYPEID_PLAYER</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d83/_object_guid_8h_source.html#l00038">ObjectGuid.h:38</a></div></div>
<div class="ttc" id="aclass_hostile_reference_html"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html">HostileReference</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00046">ThreatMgr.h:47</a></div></div>
<div class="ttc" id="aclass_hostile_reference_html_a546a126cb2a9d9d27ed61b15c24d4417"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#a546a126cb2a9d9d27ed61b15c24d4417">HostileReference::setOnlineOfflineState</a></div><div class="ttdeci">void setOnlineOfflineState(bool isOnline)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00212">ThreatMgr.cpp:212</a></div></div>
<div class="ttc" id="aclass_hostile_reference_html_ac4820cdf2dffd0f7def1497263e0ea88"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#ac4820cdf2dffd0f7def1497263e0ea88">HostileReference::addThreat</a></div><div class="ttdeci">void addThreat(float modThreat)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00136">ThreatMgr.cpp:136</a></div></div>
<div class="ttc" id="aclass_object_html_a621a345fc34deed6d3a4e1e498a652da"><div class="ttname"><a href="../../d8/d83/class_object.html#a621a345fc34deed6d3a4e1e498a652da">Object::GetTypeId</a></div><div class="ttdeci">TypeID GetTypeId() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/_object_8h_source.html#l00107">Object.h:107</a></div></div>
<div class="ttc" id="aclass_object_html_ae635434021784608b659501867538c87"><div class="ttname"><a href="../../d8/d83/class_object.html#ae635434021784608b659501867538c87">Object::ToPlayer</a></div><div class="ttdeci">Player * ToPlayer()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/_object_8h_source.html#l00181">Object.h:181</a></div></div>
<div class="ttc" id="aclass_player_html_a9f23cae8a3da0345a05c2a2bfedc2fe2"><div class="ttname"><a href="../../d8/d53/class_player.html#a9f23cae8a3da0345a05c2a2bfedc2fe2">Player::IsGameMaster</a></div><div class="ttdeci">bool IsGameMaster() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l01114">Player.h:1114</a></div></div>
<div class="ttc" id="aclass_threat_container_html_a0bd08f78ade33458ed4897bef00559b8"><div class="ttname"><a href="../../de/d50/class_threat_container.html#a0bd08f78ade33458ed4897bef00559b8">ThreatContainer::addThreat</a></div><div class="ttdeci">HostileReference * addThreat(Unit *victim, float threat)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00278">ThreatMgr.cpp:278</a></div></div>
<div class="ttc" id="aclass_threat_container_html_ad3d6d6b13e9b761174f9bfbb6e0c2899"><div class="ttname"><a href="../../de/d50/class_threat_container.html#ad3d6d6b13e9b761174f9bfbb6e0c2899">ThreatContainer::addReference</a></div><div class="ttdeci">void addReference(HostileReference *hostileRef)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00175">ThreatMgr.h:175</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a21f182f89eedb87dc73fbbaa4c52c2be"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a21f182f89eedb87dc73fbbaa4c52c2be">ThreatMgr::iThreatOfflineContainer</a></div><div class="ttdeci">ThreatContainer iThreatOfflineContainer</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00265">ThreatMgr.h:265</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a915dba2303936ef06cdd65d0e8d99b9d"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a915dba2303936ef06cdd65d0e8d99b9d">ThreatMgr::iThreatContainer</a></div><div class="ttdeci">ThreatContainer iThreatContainer</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00264">ThreatMgr.h:264</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_ad2986bf4d69d9d5c9223c0f44e6b4554"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#ad2986bf4d69d9d5c9223c0f44e6b4554">ThreatMgr::HostileReference</a></div><div class="ttdeci">friend class HostileReference</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00194">ThreatMgr.h:194</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00175">ThreatContainer::addReference()</a>, <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00136">HostileReference::addThreat()</a>, <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00278">ThreatContainer::addThreat()</a>, <a class="el" href="../../df/d30/_object_8h_source.html#l00107">Object::GetTypeId()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00194">HostileReference</a>, <a class="el" href="../../d1/d39/_player_8h_source.html#l01114">Player::IsGameMaster()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00264">iThreatContainer</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00265">iThreatOfflineContainer</a>, <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00212">HostileReference::setOnlineOfflineState()</a>, <a class="el" href="../../df/d30/_object_8h_source.html#l00181">Object::ToPlayer()</a>, and <a class="el" href="../../d9/d83/_object_guid_8h_source.html#l00038">TYPEID_PLAYER</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00429">doAddThreat()</a>.</p>

</div>
</div>
<a id="a589c008393572b51f3e7cfb69e5d1392"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a589c008393572b51f3e7cfb69e5d1392">&#9670;&nbsp;</a></span>addThreat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ThreatMgr::addThreat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/db7/class_unit.html">Unit</a> *&#160;</td>
          <td class="paramname"><em>victim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>threat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d0b/_shared_defines_8h.html#aff6913cfd69489c107a071be9ec2ec8f">SpellSchoolMask</a>&#160;</td>
          <td class="paramname"><em>schoolMask</em> = <code><a class="el" href="../../df/d0b/_shared_defines_8h.html#aff6913cfd69489c107a071be9ec2ec8fa12667dd3f55738c93e1ddb1351779b42">SPELL_SCHOOL_MASK_NORMAL</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d7d/class_spell_info.html">SpellInfo</a> <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> *&#160;</td>
          <td class="paramname"><em>threatSpell</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00421">421</a> of file <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html">ThreatMgr.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;{</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d7/dc4/struct_threat_calc_helper.html#a86dca4bc12138bef3dd53d4b3356f5d2">ThreatCalcHelper::isValidProcess</a>(victim, <a class="code" href="../../d0/db1/class_threat_mgr.html#a8af7568291f04250454ebfbdad97be7f">GetOwner</a>(), threatSpell))</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160; </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <a class="code" href="../../d0/db1/class_threat_mgr.html#ae5ee6e61f43ce1683da8728b630b48d2">doAddThreat</a>(victim, <a class="code" href="../../d7/dc4/struct_threat_calc_helper.html#a8dff67b978f95d5ccf20f4f61f5f079b">ThreatCalcHelper::calcThreat</a>(victim, <a class="code" href="../../d0/db1/class_threat_mgr.html#a44cb20b0e46f9932d951218b63e77b38">iOwner</a>, threat, schoolMask, threatSpell));</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;}</div>
<div class="ttc" id="aclass_threat_mgr_html_a8af7568291f04250454ebfbdad97be7f"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a8af7568291f04250454ebfbdad97be7f">ThreatMgr::GetOwner</a></div><div class="ttdeci">Unit * GetOwner() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00221">ThreatMgr.h:221</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_ae5ee6e61f43ce1683da8728b630b48d2"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#ae5ee6e61f43ce1683da8728b630b48d2">ThreatMgr::doAddThreat</a></div><div class="ttdeci">void doAddThreat(Unit *victim, float threat)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00429">ThreatMgr.cpp:429</a></div></div>
<div class="ttc" id="astruct_threat_calc_helper_html_a86dca4bc12138bef3dd53d4b3356f5d2"><div class="ttname"><a href="../../d7/dc4/struct_threat_calc_helper.html#a86dca4bc12138bef3dd53d4b3356f5d2">ThreatCalcHelper::isValidProcess</a></div><div class="ttdeci">static bool isValidProcess(Unit *hatedUnit, Unit *hatingUnit, SpellInfo const *threatSpell=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00055">ThreatMgr.cpp:55</a></div></div>
<div class="ttc" id="astruct_threat_calc_helper_html_a8dff67b978f95d5ccf20f4f61f5f079b"><div class="ttname"><a href="../../d7/dc4/struct_threat_calc_helper.html#a8dff67b978f95d5ccf20f4f61f5f079b">ThreatCalcHelper::calcThreat</a></div><div class="ttdeci">static float calcThreat(Unit *hatedUnit, Unit *hatingUnit, float threat, SpellSchoolMask schoolMask=SPELL_SCHOOL_MASK_NORMAL, SpellInfo const *threatSpell=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00035">ThreatMgr.cpp:35</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00035">ThreatCalcHelper::calcThreat()</a>, <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00429">doAddThreat()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00221">GetOwner()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00262">iOwner</a>, and <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00055">ThreatCalcHelper::isValidProcess()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00136">HostileReference::addThreat()</a>, <a class="el" href="../../d2/d2e/_unit_8cpp_source.html#l13814">Unit::AddThreat()</a>, <a class="el" href="../../db/dd3/icecrown__citadel_8cpp_source.html#l01769">npc_frostwing_vrykul::npc_frostwing_vrykulAI::SpellHitTarget()</a>, <a class="el" href="../../d8/db8/boss__gothik_8cpp_source.html#l00411">boss_gothik::boss_gothikAI::UpdateAI()</a>, and <a class="el" href="../../de/d87/boss__netherspite_8cpp_source.html#l00162">boss_netherspite::boss_netherspiteAI::UpdatePortals()</a>.</p>

</div>
</div>
<a id="a65ba80f06e855798fabdc58e831b0791"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65ba80f06e855798fabdc58e831b0791">&#9670;&nbsp;</a></span>areThreatListsEmpty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> ThreatMgr::areThreatListsEmpty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00213">213</a> of file <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html">ThreatMgr.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#a915dba2303936ef06cdd65d0e8d99b9d">iThreatContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#ad3ca339afd9a79d3f2f925a4229159b6">empty</a>() &amp;&amp; <a class="code" href="../../d0/db1/class_threat_mgr.html#a21f182f89eedb87dc73fbbaa4c52c2be">iThreatOfflineContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#ad3ca339afd9a79d3f2f925a4229159b6">empty</a>(); }</div>
<div class="ttc" id="aclass_threat_container_html_ad3ca339afd9a79d3f2f925a4229159b6"><div class="ttname"><a href="../../de/d50/class_threat_container.html#ad3ca339afd9a79d3f2f925a4229159b6">ThreatContainer::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00155">ThreatMgr.h:155</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00155">ThreatContainer::empty()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00264">iThreatContainer</a>, and <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00265">iThreatOfflineContainer</a>.</p>

</div>
</div>
<a id="a3e937749207c225d2fb0b2fa4c9519e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e937749207c225d2fb0b2fa4c9519e2">&#9670;&nbsp;</a></span>clearReferences()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ThreatMgr::clearReferences </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00411">411</a> of file <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html">ThreatMgr.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;{</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <a class="code" href="../../d0/db1/class_threat_mgr.html#a915dba2303936ef06cdd65d0e8d99b9d">iThreatContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#a0e2eb46b0743ef0f9f2243a716374c2e">clearReferences</a>();</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <a class="code" href="../../d0/db1/class_threat_mgr.html#a21f182f89eedb87dc73fbbaa4c52c2be">iThreatOfflineContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#a0e2eb46b0743ef0f9f2243a716374c2e">clearReferences</a>();</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <a class="code" href="../../d0/db1/class_threat_mgr.html#a08ae7f6d2914dca1698ae518f0133a7b">iCurrentVictim</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <a class="code" href="../../d0/db1/class_threat_mgr.html#a6302f3d039e18c7d9c74b26288491825">iUpdateTimer</a> = <a class="code" href="../../d8/d5e/_threat_mgr_8h.html#a7173807ed06286e3a91f0497a3588f6b">THREAT_UPDATE_INTERVAL</a>;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;}</div>
<div class="ttc" id="aclass_threat_container_html_a0e2eb46b0743ef0f9f2243a716374c2e"><div class="ttname"><a href="../../de/d50/class_threat_container.html#a0e2eb46b0743ef0f9f2243a716374c2e">ThreatContainer::clearReferences</a></div><div class="ttdeci">void clearReferences()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00246">ThreatMgr.cpp:246</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00246">ThreatContainer::clearReferences()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00261">iCurrentVictim</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00264">iThreatContainer</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00265">iThreatOfflineContainer</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00263">iUpdateTimer</a>, and <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00034">THREAT_UPDATE_INTERVAL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dbb/boss__argent__challenge_8cpp_source.html#l00146">boss_eadric::boss_eadricAI::DamageTaken()</a>, <a class="el" href="../../d5/dbb/boss__argent__challenge_8cpp_source.html#l00290">boss_paletress::boss_paletressAI::DamageTaken()</a>, <a class="el" href="../../d2/d2e/_unit_8cpp_source.html#l13825">Unit::DeleteThreatList()</a>, <a class="el" href="../../dd/dd6/boss__halion_8cpp_source.html#l01155">spell_halion_twilight_phasing::spell_halion_twilight_phasing_AuraScript::OnApply()</a>, <a class="el" href="../../dd/dd6/boss__halion_8cpp_source.html#l01165">spell_halion_twilight_phasing::spell_halion_twilight_phasing_AuraScript::OnRemove()</a>, and <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00198">~ThreatMgr()</a>.</p>

</div>
</div>
<a id="ae5ee6e61f43ce1683da8728b630b48d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5ee6e61f43ce1683da8728b630b48d2">&#9670;&nbsp;</a></span>doAddThreat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ThreatMgr::doAddThreat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/db7/class_unit.html">Unit</a> *&#160;</td>
          <td class="paramname"><em>victim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>threat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00429">429</a> of file <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html">ThreatMgr.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;{</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> redirectThreadPct = victim-&gt;<a class="code" href="../../da/db7/class_unit.html#a9d20d8c1802521cd8a47cc9e305f0e2c">GetRedirectThreatPercent</a>();</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160; </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="comment">// must check &gt; 0.0f, otherwise dead loop</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordflow">if</span> (threat &gt; 0.0f &amp;&amp; redirectThreadPct)</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    {</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../da/db7/class_unit.html">Unit</a>* redirectTarget = victim-&gt;<a class="code" href="../../da/db7/class_unit.html#a16df36b93a02cc6fe7f8fa9613d11eb9">GetRedirectThreatTarget</a>())</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            <span class="keywordtype">float</span> redirectThreat = <a class="code" href="../../d9/de9/src_2common_2_utilities_2util_8h.html#ae00607f8188c59ffcea5a3997c0120b0">CalculatePct</a>(threat, redirectThreadPct);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            threat -= redirectThreat;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/dc4/struct_threat_calc_helper.html#a86dca4bc12138bef3dd53d4b3356f5d2">ThreatCalcHelper::isValidProcess</a>(redirectTarget, <a class="code" href="../../d0/db1/class_threat_mgr.html#a8af7568291f04250454ebfbdad97be7f">GetOwner</a>()))</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                <a class="code" href="../../d0/db1/class_threat_mgr.html#a1ef6a4761e9254b61ab9fe266d68f132">_addThreat</a>(redirectTarget, redirectThreat);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        }</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    }</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160; </div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <a class="code" href="../../d0/db1/class_threat_mgr.html#a1ef6a4761e9254b61ab9fe266d68f132">_addThreat</a>(victim, threat);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;}</div>
<div class="ttc" id="a_define_8h_html_a22f78cc9780bf32aff91ae17c3101c8d"><div class="ttname"><a href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a></div><div class="ttdeci">std::uint32_t uint32</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d35/_define_8h_source.html#l00114">Define.h:114</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a1ef6a4761e9254b61ab9fe266d68f132"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a1ef6a4761e9254b61ab9fe266d68f132">ThreatMgr::_addThreat</a></div><div class="ttdeci">void _addThreat(Unit *victim, float threat)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00448">ThreatMgr.cpp:448</a></div></div>
<div class="ttc" id="aclass_unit_html"><div class="ttname"><a href="../../da/db7/class_unit.html">Unit</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l01418">Unit.h:1419</a></div></div>
<div class="ttc" id="aclass_unit_html_a16df36b93a02cc6fe7f8fa9613d11eb9"><div class="ttname"><a href="../../da/db7/class_unit.html#a16df36b93a02cc6fe7f8fa9613d11eb9">Unit::GetRedirectThreatTarget</a></div><div class="ttdeci">Unit * GetRedirectThreatTarget() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d2e/_unit_8cpp_source.html#l18597">Unit.cpp:18597</a></div></div>
<div class="ttc" id="aclass_unit_html_a9d20d8c1802521cd8a47cc9e305f0e2c"><div class="ttname"><a href="../../da/db7/class_unit.html#a9d20d8c1802521cd8a47cc9e305f0e2c">Unit::GetRedirectThreatPercent</a></div><div class="ttdeci">uint32 GetRedirectThreatPercent()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l02416">Unit.h:2416</a></div></div>
<div class="ttc" id="asrc_2common_2_utilities_2util_8h_html_ae00607f8188c59ffcea5a3997c0120b0"><div class="ttname"><a href="../../d9/de9/src_2common_2_utilities_2util_8h.html#ae00607f8188c59ffcea5a3997c0120b0">CalculatePct</a></div><div class="ttdeci">T CalculatePct(T base, U pct)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de9/src_2common_2_utilities_2util_8h_source.html#l00098">Util.h:98</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00448">_addThreat()</a>, <a class="el" href="../../d9/de9/src_2common_2_utilities_2util_8h_source.html#l00098">CalculatePct()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00221">GetOwner()</a>, <a class="el" href="../../d5/d32/_unit_8h_source.html#l02416">Unit::GetRedirectThreatPercent()</a>, <a class="el" href="../../d2/d2e/_unit_8cpp_source.html#l18597">Unit::GetRedirectThreatTarget()</a>, and <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00055">ThreatCalcHelper::isValidProcess()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00421">addThreat()</a>, <a class="el" href="../../d1/d40/_spell_effects_8cpp_source.html#l03287">Spell::EffectTaunt()</a>, and <a class="el" href="../../d1/d30/_hostile_ref_mgr_8cpp_source.html#l00035">HostileRefMgr::threatAssist()</a>.</p>

</div>
</div>
<a id="ad6c5604b44b79f3ed8ad31c4b75f63d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6c5604b44b79f3ed8ad31c4b75f63d1">&#9670;&nbsp;</a></span>getCurrentVictim()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d28/class_hostile_reference.html">HostileReference</a>* ThreatMgr::getCurrentVictim </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00219">219</a> of file <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html">ThreatMgr.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#a08ae7f6d2914dca1698ae518f0133a7b">iCurrentVictim</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00261">iCurrentVictim</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00475">getHostilTarget()</a>, <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00545">processThreatEvent()</a>, and <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00511">tauntApply()</a>.</p>

</div>
</div>
<a id="a384c23cf271b0478904ecc61b9dc7a8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a384c23cf271b0478904ecc61b9dc7a8e">&#9670;&nbsp;</a></span>getHostilTarget()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/db7/class_unit.html">Unit</a> * ThreatMgr::getHostilTarget </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00475">475</a> of file <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html">ThreatMgr.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;{</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <a class="code" href="../../d0/db1/class_threat_mgr.html#a915dba2303936ef06cdd65d0e8d99b9d">iThreatContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#a01b426d0575bb2ff010b05d8f6c47bac">update</a>();</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <a class="code" href="../../d1/d28/class_hostile_reference.html">HostileReference</a>* nextVictim = <a class="code" href="../../d0/db1/class_threat_mgr.html#a915dba2303936ef06cdd65d0e8d99b9d">iThreatContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#adba62669c0f04003e557ed2a65ea2295">selectNextVictim</a>(<a class="code" href="../../d0/db1/class_threat_mgr.html#a8af7568291f04250454ebfbdad97be7f">GetOwner</a>()-&gt;ToCreature(), <a class="code" href="../../d0/db1/class_threat_mgr.html#ad6c5604b44b79f3ed8ad31c4b75f63d1">getCurrentVictim</a>());</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <a class="code" href="../../d0/db1/class_threat_mgr.html#a0675c1295245c0418bd4021557fbacc4">setCurrentVictim</a>(nextVictim);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#ad6c5604b44b79f3ed8ad31c4b75f63d1">getCurrentVictim</a>() != <span class="keyword">nullptr</span> ? <a class="code" href="../../d0/db1/class_threat_mgr.html#ad6c5604b44b79f3ed8ad31c4b75f63d1">getCurrentVictim</a>()-&gt;<a class="code" href="../../de/dd2/class_reference.html#a3c63c1eb7c3c5ba78c2aca1502fb2be9">getTarget</a>() : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;}</div>
<div class="ttc" id="aclass_reference_html_a3c63c1eb7c3c5ba78c2aca1502fb2be9"><div class="ttname"><a href="../../de/dd2/class_reference.html#a3c63c1eb7c3c5ba78c2aca1502fb2be9">Reference::getTarget</a></div><div class="ttdeci">TO * getTarget() const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d38/_reference_8h_source.html#l00095">Reference.h:95</a></div></div>
<div class="ttc" id="aclass_threat_container_html_a01b426d0575bb2ff010b05d8f6c47bac"><div class="ttname"><a href="../../de/d50/class_threat_container.html#a01b426d0575bb2ff010b05d8f6c47bac">ThreatContainer::update</a></div><div class="ttdeci">void update()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00297">ThreatMgr.cpp:297</a></div></div>
<div class="ttc" id="aclass_threat_container_html_adba62669c0f04003e557ed2a65ea2295"><div class="ttname"><a href="../../de/d50/class_threat_container.html#adba62669c0f04003e557ed2a65ea2295">ThreatContainer::selectNextVictim</a></div><div class="ttdeci">HostileReference * selectNextVictim(Creature *attacker, HostileReference *currentVictim) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00309">ThreatMgr.cpp:309</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a0675c1295245c0418bd4021557fbacc4"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a0675c1295245c0418bd4021557fbacc4">ThreatMgr::setCurrentVictim</a></div><div class="ttdeci">void setCurrentVictim(HostileReference *hostileRef)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00532">ThreatMgr.cpp:532</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_ad6c5604b44b79f3ed8ad31c4b75f63d1"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#ad6c5604b44b79f3ed8ad31c4b75f63d1">ThreatMgr::getCurrentVictim</a></div><div class="ttdeci">HostileReference * getCurrentVictim() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00219">ThreatMgr.h:219</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00219">getCurrentVictim()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00221">GetOwner()</a>, <a class="el" href="../../da/d38/_reference_8h_source.html#l00095">Reference&lt; TO, FROM &gt;::getTarget()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00264">iThreatContainer</a>, <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00309">ThreatContainer::selectNextVictim()</a>, <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00532">setCurrentVictim()</a>, and <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00297">ThreatContainer::update()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d58/boss__twinemperors_8cpp_source.html#l00415">boss_veknilash::boss_veknilashAI::CastSpellOnBug()</a>, and <a class="el" href="../../d2/d2e/_unit_8cpp_source.html#l13900">Creature::SelectVictim()</a>.</p>

</div>
</div>
<a id="ae740e976b3a5169139fb4bfe6157dc5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae740e976b3a5169139fb4bfe6157dc5a">&#9670;&nbsp;</a></span>getOfflineContainer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d50/class_threat_container.html">ThreatContainer</a>&amp; ThreatMgr::getOfflineContainer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00257">257</a> of file <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html">ThreatMgr.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#a21f182f89eedb87dc73fbbaa4c52c2be">iThreatOfflineContainer</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00265">iThreatOfflineContainer</a>.</p>

</div>
</div>
<a id="a72791905f71eb8de07f33b4763a2add2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72791905f71eb8de07f33b4763a2add2">&#9670;&nbsp;</a></span>getOfflineThreatList()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d50/class_threat_container.html#aa54b741c510fc6a3d0bac802e8ba8299">ThreatContainer::StorageType</a> <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a>&amp; ThreatMgr::getOfflineThreatList </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00255">255</a> of file <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html">ThreatMgr.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#a21f182f89eedb87dc73fbbaa4c52c2be">iThreatOfflineContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#a93feae13b535b190042e92e9ef3fd01a">getThreatList</a>(); }</div>
<div class="ttc" id="aclass_threat_container_html_a93feae13b535b190042e92e9ef3fd01a"><div class="ttname"><a href="../../de/d50/class_threat_container.html#a93feae13b535b190042e92e9ef3fd01a">ThreatContainer::getThreatList</a></div><div class="ttdeci">StorageType const  &amp; getThreatList() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00167">ThreatMgr.h:167</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00167">ThreatContainer::getThreatList()</a>, and <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00265">iThreatOfflineContainer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d77/cs__debug_8cpp_source.html#l00781">debug_commandscript::HandleDebugThreatListCommand()</a>, and <a class="el" href="../../d2/d2e/_unit_8cpp_source.html#l18163">Unit::SetPhaseMask()</a>.</p>

</div>
</div>
<a id="af460644c4e7d661b8e4cad3d5079a2c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af460644c4e7d661b8e4cad3d5079a2c2">&#9670;&nbsp;</a></span>getOnlineContainer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d50/class_threat_container.html">ThreatContainer</a>&amp; ThreatMgr::getOnlineContainer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00256">256</a> of file <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html">ThreatMgr.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#a915dba2303936ef06cdd65d0e8d99b9d">iThreatContainer</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00264">iThreatContainer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d40/_spell_effects_8cpp_source.html#l03287">Spell::EffectTaunt()</a>, <a class="el" href="../../d4/d5b/boss__priestess__delrissa_8cpp_source.html#l00300">boss_priestess_lackey_commonAI::RecalculateThreat()</a>, <a class="el" href="../../d4/d81/boss__faction__champions_8cpp_source.html#l00103">boss_faction_championsAI::RecalculateThreat()</a>, and <a class="el" href="../../da/da4/zone__shadowmoon__valley_8cpp_source.html#l00473">npc_enslaved_netherwing_drake::npc_enslaved_netherwing_drakeAI::SpellHit()</a>.</p>

</div>
</div>
<a id="a8af7568291f04250454ebfbdad97be7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8af7568291f04250454ebfbdad97be7f">&#9670;&nbsp;</a></span>GetOwner()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/db7/class_unit.html">Unit</a>* ThreatMgr::GetOwner </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00221">221</a> of file <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html">ThreatMgr.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#a44cb20b0e46f9932d951218b63e77b38">iOwner</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00262">iOwner</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00421">addThreat()</a>, <a class="el" href="../../d1/d30/_hostile_ref_mgr_8cpp_source.html#l00169">HostileRefMgr::deleteReference()</a>, <a class="el" href="../../d1/d30/_hostile_ref_mgr_8cpp_source.html#l00151">HostileRefMgr::deleteReferencesForFaction()</a>, <a class="el" href="../../d1/d30/_hostile_ref_mgr_8cpp_source.html#l00188">HostileRefMgr::deleteReferencesOutOfRange()</a>, <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00429">doAddThreat()</a>, <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00475">getHostilTarget()</a>, <a class="el" href="../../dd/d77/cs__debug_8cpp_source.html#l00823">debug_commandscript::HandleDebugHostileRefListCommand()</a>, <a class="el" href="../../d1/d8e/pet__mage_8cpp_source.html#l00065">npc_pet_mage_mirror_image::InitializeAI()</a>, <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00545">processThreatEvent()</a>, <a class="el" href="../../d1/d30/_hostile_ref_mgr_8cpp_source.html#l00208">HostileRefMgr::setOnlineOfflineState()</a>, <a class="el" href="../../d2/d2e/_unit_8cpp_source.html#l18163">Unit::SetPhaseMask()</a>, <a class="el" href="../../d1/d30/_hostile_ref_mgr_8cpp_source.html#l00035">HostileRefMgr::threatAssist()</a>, and <a class="el" href="../../db/df4/_map_8cpp_source.html#l00730">Map::Update()</a>.</p>

</div>
</div>
<a id="a82c3983cc5bcc545a6ea2fa1da9a27e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82c3983cc5bcc545a6ea2fa1da9a27e4">&#9670;&nbsp;</a></span>getThreat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float ThreatMgr::getThreat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/db7/class_unit.html">Unit</a> *&#160;</td>
          <td class="paramname"><em>victim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>alsoSearchOfflineList</em> = <code><a class="el" href="../../d9/d5e/stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00485">485</a> of file <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html">ThreatMgr.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;{</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordtype">float</span> threat = 0.0f;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <a class="code" href="../../d1/d28/class_hostile_reference.html">HostileReference</a>* ref = <a class="code" href="../../d0/db1/class_threat_mgr.html#a915dba2303936ef06cdd65d0e8d99b9d">iThreatContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#a0145e1afdd2a20fba527c6e4b3ca3c89">getReferenceByTarget</a>(victim);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keywordflow">if</span> (!ref &amp;&amp; alsoSearchOfflineList)</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        ref = <a class="code" href="../../d0/db1/class_threat_mgr.html#a21f182f89eedb87dc73fbbaa4c52c2be">iThreatOfflineContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#a0145e1afdd2a20fba527c6e4b3ca3c89">getReferenceByTarget</a>(victim);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">if</span> (ref)</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        threat = ref-&gt;<a class="code" href="../../d1/d28/class_hostile_reference.html#ad2c43f7b67ead66c0b9ba4bea7763142">getThreat</a>();</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordflow">return</span> threat;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;}</div>
<div class="ttc" id="aclass_hostile_reference_html_ad2c43f7b67ead66c0b9ba4bea7763142"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#ad2c43f7b67ead66c0b9ba4bea7763142">HostileReference::getThreat</a></div><div class="ttdeci">float getThreat() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00058">ThreatMgr.h:58</a></div></div>
<div class="ttc" id="aclass_threat_container_html_a0145e1afdd2a20fba527c6e4b3ca3c89"><div class="ttname"><a href="../../de/d50/class_threat_container.html#a0145e1afdd2a20fba527c6e4b3ca3c89">ThreatContainer::getReferenceByTarget</a></div><div class="ttdeci">HostileReference * getReferenceByTarget(Unit *victim) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00259">ThreatMgr.cpp:259</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00259">ThreatContainer::getReferenceByTarget()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00058">HostileReference::getThreat()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00264">iThreatContainer</a>, and <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00265">iThreatOfflineContainer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d43/_scripted_creature_8cpp_source.html#l00381">ScriptedAI::DoGetThreat()</a>, <a class="el" href="../../d1/d40/_spell_effects_8cpp_source.html#l03287">Spell::EffectTaunt()</a>, <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00545">processThreatEvent()</a>, <a class="el" href="../../d4/d5b/boss__priestess__delrissa_8cpp_source.html#l00300">boss_priestess_lackey_commonAI::RecalculateThreat()</a>, <a class="el" href="../../d4/d81/boss__faction__champions_8cpp_source.html#l00103">boss_faction_championsAI::RecalculateThreat()</a>, <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00511">tauntApply()</a>, and <a class="el" href="../../da/db3/boss__thaddius_8cpp_source.html#l00504">boss_thaddius_summon::boss_thaddius_summonAI::UpdateAI()</a>.</p>

</div>
</div>
<a id="a71f6cfb8c6a3896eda706db610ed5535"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71f6cfb8c6a3896eda706db610ed5535">&#9670;&nbsp;</a></span>getThreatList()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d50/class_threat_container.html#aa54b741c510fc6a3d0bac802e8ba8299">ThreatContainer::StorageType</a> <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a>&amp; ThreatMgr::getThreatList </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00254">254</a> of file <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html">ThreatMgr.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#a915dba2303936ef06cdd65d0e8d99b9d">iThreatContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#a93feae13b535b190042e92e9ef3fd01a">getThreatList</a>(); }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00167">ThreatContainer::getThreatList()</a>, and <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00264">iThreatContainer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/db3/boss__archimonde_8cpp_source.html#l00420">boss_archimonde::boss_archimondeAI::CanUseFingerOfDeath()</a>, <a class="el" href="../../d3/df6/boss__lady__deathwhisper_8cpp_source.html#l00297">boss_lady_deathwhisper::boss_lady_deathwhisperAI::DamageTaken()</a>, <a class="el" href="../../dd/d36/_unit_a_i_8cpp_source.html#l00109">UnitAI::DoAddAuraToAllHostilePlayers()</a>, <a class="el" href="../../dc/db3/boss__archimonde_8cpp_source.html#l00319">boss_archimonde::boss_archimondeAI::DoCastProtection()</a>, <a class="el" href="../../dd/d36/_unit_a_i_8cpp_source.html#l00123">UnitAI::DoCastToAllHostilePlayers()</a>, <a class="el" href="../../d4/d81/boss__faction__champions_8cpp_source.html#l00178">boss_faction_championsAI::EnemiesInRange()</a>, <a class="el" href="../../de/da6/boss__prince__malchezaar_8cpp_source.html#l00248">boss_malchezaar::boss_malchezaarAI::EnfeebleHealthEffect()</a>, <a class="el" href="../../da/d65/boss__supremus_8cpp_source.html#l00126">boss_supremus::boss_supremusAI::FindHatefulStrikeTarget()</a>, <a class="el" href="../../db/dde/boss__shade__of__aran_8cpp_source.html#l00162">boss_shade_of_aran::boss_aranAI::FlameWreathEffect()</a>, <a class="el" href="../../d0/d3e/_smart_script_8cpp_source.html#l03405">SmartScript::GetTargets()</a>, <a class="el" href="../../dd/d77/cs__debug_8cpp_source.html#l00781">debug_commandscript::HandleDebugThreatListCommand()</a>, <a class="el" href="../../d2/d2e/_unit_8cpp_source.html#l20048">Unit::IsInCombatWith()</a>, <a class="el" href="../../d3/de1/boss__kologarn_8cpp_source.html#l00656">StoneGripTargetSelector::operator()()</a>, <a class="el" href="../../d0/d3e/_smart_script_8cpp_source.html#l00119">SmartScript::ProcessAction()</a>, <a class="el" href="../../d4/d5b/boss__priestess__delrissa_8cpp_source.html#l00300">boss_priestess_lackey_commonAI::RecalculateThreat()</a>, <a class="el" href="../../d4/d81/boss__faction__champions_8cpp_source.html#l00103">boss_faction_championsAI::RecalculateThreat()</a>, <a class="el" href="../../d4/d81/boss__faction__champions_8cpp_source.html#l00192">boss_faction_championsAI::SelectEnemyCaster()</a>, <a class="el" href="../../d9/d71/_unit_a_i_8h_source.html#l00205">UnitAI::SelectTarget()</a>, <a class="el" href="../../d9/d71/_unit_a_i_8h_source.html#l00255">UnitAI::SelectTargetList()</a>, <a class="el" href="../../d5/d8b/instance__scholomance_8cpp_source.html#l00380">npc_scholomance_occultist::npc_scholomance_occultistAI::SelectUnitCasting()</a>, <a class="el" href="../../d2/d2e/_unit_8cpp_source.html#l19153">Unit::SendChangeCurrentVictimOpcode()</a>, <a class="el" href="../../d2/d2e/_unit_8cpp_source.html#l19133">Unit::SendThreatListUpdate()</a>, <a class="el" href="../../d2/d2e/_unit_8cpp_source.html#l18163">Unit::SetPhaseMask()</a>, <a class="el" href="../../db/dd3/icecrown__citadel_8cpp_source.html#l01769">npc_frostwing_vrykul::npc_frostwing_vrykulAI::SpellHitTarget()</a>, <a class="el" href="../../d4/d43/_scripted_creature_8cpp_source.html#l00576">BossAI::TeleportCheaters()</a>, <a class="el" href="../../d4/d5b/boss__priestess__delrissa_8cpp_source.html#l00702">boss_yazzai::boss_yazzaiAI::UpdateAI()</a>, <a class="el" href="../../d8/dd0/boss__azuregos_8cpp_source.html#l00083">boss_azuregos::boss_azuregosAI::UpdateAI()</a>, <a class="el" href="../../d4/d5d/boss__moam_8cpp_source.html#l00108">boss_moam::boss_moamAI::UpdateAI()</a>, <a class="el" href="../../da/d47/boss__cthun_8cpp_source.html#l00580">boss_cthun::cthunAI::UpdateAI()</a>, <a class="el" href="../../db/d53/boss__prince__taldaram_8cpp_source.html#l00381">boss_taldaram::boss_taldaramAI::UpdateAI()</a>, <a class="el" href="../../d6/d1a/boss__valithria__dreamwalker_8cpp_source.html#l00584">npc_green_dragon_combat_trigger::npc_green_dragon_combat_triggerAI::UpdateAI()</a>, <a class="el" href="../../d5/d50/boss__kelthuzad_8cpp_source.html#l00341">boss_kelthuzad::boss_kelthuzadAI::UpdateAI()</a>, <a class="el" href="../../d3/de8/boss__patchwerk_8cpp_source.html#l00114">boss_patchwerk::boss_patchwerkAI::UpdateAI()</a>, <a class="el" href="../../dc/d49/boss__sapphiron_8cpp_source.html#l00229">boss_sapphiron::boss_sapphironAI::UpdateAI()</a>, <a class="el" href="../../d2/deb/boss__blackheart__the__inciter_8cpp_source.html#l00104">boss_blackheart_the_inciter::boss_blackheart_the_inciterAI::UpdateAI()</a>, <a class="el" href="../../db/d3f/boss__murmur_8cpp_source.html#l00101">boss_murmur::boss_murmurAI::UpdateAI()</a>, <a class="el" href="../../d2/d3d/boss__lurker__below_8cpp_source.html#l00127">boss_the_lurker_below::boss_the_lurker_belowAI::UpdateAI()</a>, <a class="el" href="../../d2/df4/boss__alar_8cpp_source.html#l00192">boss_alar::boss_alarAI::UpdateAI()</a>, <a class="el" href="../../dd/dd3/zone__netherstorm_8cpp_source.html#l01736">npc_phase_hunter::npc_phase_hunterAI::UpdateAI()</a>, and <a class="el" href="../../d1/d30/_hostile_ref_mgr_8cpp_source.html#l00225">HostileRefMgr::UpdateVisibility()</a>.</p>

</div>
</div>
<a id="a2e55da20f90fbee22a6bc89cfabd6479"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e55da20f90fbee22a6bc89cfabd6479">&#9670;&nbsp;</a></span>getThreatWithoutTemp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float ThreatMgr::getThreatWithoutTemp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/db7/class_unit.html">Unit</a> *&#160;</td>
          <td class="paramname"><em>victim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>alsoSearchOfflineList</em> = <code><a class="el" href="../../d9/d5e/stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00498">498</a> of file <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html">ThreatMgr.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;{</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordtype">float</span> threat = 0.0f;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <a class="code" href="../../d1/d28/class_hostile_reference.html">HostileReference</a>* ref = <a class="code" href="../../d0/db1/class_threat_mgr.html#a915dba2303936ef06cdd65d0e8d99b9d">iThreatContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#a0145e1afdd2a20fba527c6e4b3ca3c89">getReferenceByTarget</a>(victim);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">if</span> (!ref &amp;&amp; alsoSearchOfflineList)</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        ref = <a class="code" href="../../d0/db1/class_threat_mgr.html#a21f182f89eedb87dc73fbbaa4c52c2be">iThreatOfflineContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#a0145e1afdd2a20fba527c6e4b3ca3c89">getReferenceByTarget</a>(victim);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="keywordflow">if</span> (ref)</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        threat = ref-&gt;<a class="code" href="../../d1/d28/class_hostile_reference.html#ad2c43f7b67ead66c0b9ba4bea7763142">getThreat</a>() - ref-&gt;<a class="code" href="../../d1/d28/class_hostile_reference.html#a672b7160f3bf4c0475d0232025b89e81">getTempThreatModifier</a>();</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordflow">return</span> threat;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;}</div>
<div class="ttc" id="aclass_hostile_reference_html_a672b7160f3bf4c0475d0232025b89e81"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#a672b7160f3bf4c0475d0232025b89e81">HostileReference::getTempThreatModifier</a></div><div class="ttdeci">float getTempThreatModifier()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00085">ThreatMgr.h:85</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00259">ThreatContainer::getReferenceByTarget()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00085">HostileReference::getTempThreatModifier()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00058">HostileReference::getThreat()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00264">iThreatContainer</a>, and <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00265">iThreatOfflineContainer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/df3/boss__blood__queen__lana__thel_8cpp_source.html#l00312">boss_blood_queen_lana_thel::boss_blood_queen_lana_thelAI::UpdateAI()</a>.</p>

</div>
</div>
<a id="a2fdf017a6219469e9966a2ffe4e536fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fdf017a6219469e9966a2ffe4e536fc">&#9670;&nbsp;</a></span>isNeedUpdateToClient()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> ThreatMgr::isNeedUpdateToClient </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00596">596</a> of file <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html">ThreatMgr.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;{</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/db1/class_threat_mgr.html#adcf06946662ccb10e22b53844871ebbe">isThreatListEmpty</a>())</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160; </div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordflow">if</span> (time &gt;= <a class="code" href="../../d0/db1/class_threat_mgr.html#a6302f3d039e18c7d9c74b26288491825">iUpdateTimer</a>)</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <a class="code" href="../../d0/db1/class_threat_mgr.html#a6302f3d039e18c7d9c74b26288491825">iUpdateTimer</a> = <a class="code" href="../../d8/d5e/_threat_mgr_8h.html#a7173807ed06286e3a91f0497a3588f6b">THREAT_UPDATE_INTERVAL</a>;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    }</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <a class="code" href="../../d0/db1/class_threat_mgr.html#a6302f3d039e18c7d9c74b26288491825">iUpdateTimer</a> -= time;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;}</div>
<div class="ttc" id="aclass_threat_mgr_html_adcf06946662ccb10e22b53844871ebbe"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#adcf06946662ccb10e22b53844871ebbe">ThreatMgr::isThreatListEmpty</a></div><div class="ttdeci">bool isThreatListEmpty() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00212">ThreatMgr.h:212</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00212">isThreatListEmpty()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00263">iUpdateTimer</a>, and <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00034">THREAT_UPDATE_INTERVAL</a>.</p>

</div>
</div>
<a id="adcf06946662ccb10e22b53844871ebbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcf06946662ccb10e22b53844871ebbe">&#9670;&nbsp;</a></span>isThreatListEmpty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> ThreatMgr::isThreatListEmpty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00212">212</a> of file <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html">ThreatMgr.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d0/db1/class_threat_mgr.html#a915dba2303936ef06cdd65d0e8d99b9d">iThreatContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#ad3ca339afd9a79d3f2f925a4229159b6">empty</a>(); }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00155">ThreatContainer::empty()</a>, and <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00264">iThreatContainer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d2e/_unit_8cpp_source.html#l13825">Unit::DeleteThreatList()</a>, <a class="el" href="../../d4/d43/_scripted_creature_8cpp_source.html#l00370">ScriptedAI::DoResetThreat()</a>, <a class="el" href="../../da/d78/boss__the__lich__king_8cpp_source.html#l00498">StartMovementEvent::Execute()</a>, <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00596">isNeedUpdateToClient()</a>, <a class="el" href="../../d2/d2e/_unit_8cpp_source.html#l13900">Creature::SelectVictim()</a>, <a class="el" href="../../d2/d2e/_unit_8cpp_source.html#l13862">Unit::TauntFadeOut()</a>, <a class="el" href="../../da/d78/boss__the__lich__king_8cpp_source.html#l02367">npc_raging_spirit::npc_raging_spiritAI::UpdateAI()</a>, and <a class="el" href="../../df/d1b/_creature_a_i_8cpp_source.html#l00270">CreatureAI::UpdateVictim()</a>.</p>

</div>
</div>
<a id="a772faa10ad4ff655e65f57bfe86e8836"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a772faa10ad4ff655e65f57bfe86e8836">&#9670;&nbsp;</a></span>modifyThreatPercent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ThreatMgr::modifyThreatPercent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/db7/class_unit.html">Unit</a> *&#160;</td>
          <td class="paramname"><em>victim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>&#160;</td>
          <td class="paramname"><em>percent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00468">468</a> of file <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html">ThreatMgr.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;{</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <a class="code" href="../../d0/db1/class_threat_mgr.html#a915dba2303936ef06cdd65d0e8d99b9d">iThreatContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#a9d66d4cd9cefcd4d84927c35a404aa83">modifyThreatPercent</a>(victim, percent);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;}</div>
<div class="ttc" id="aclass_threat_container_html_a9d66d4cd9cefcd4d84927c35a404aa83"><div class="ttname"><a href="../../de/d50/class_threat_container.html#a9d66d4cd9cefcd4d84927c35a404aa83">ThreatContainer::modifyThreatPercent</a></div><div class="ttdeci">void modifyThreatPercent(Unit *victim, int32 percent)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00288">ThreatMgr.cpp:288</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00264">iThreatContainer</a>, and <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00288">ThreatContainer::modifyThreatPercent()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d43/_scripted_creature_8cpp_source.html#l00388">ScriptedAI::DoModifyThreatPercent()</a>, <a class="el" href="../../d1/d40/_spell_effects_8cpp_source.html#l05531">Spell::EffectModifyThreatPercent()</a>, <a class="el" href="../../d2/d2e/_unit_8cpp_source.html#l08377">Unit::HandleProcTriggerSpell()</a>, <a class="el" href="../../d0/d40/boss__bloodboil_8cpp_source.html#l00245">spell_gurtogg_eject::spell_gurtogg_eject_SpellScript::HandleScriptEffect()</a>, <a class="el" href="../../d0/d3e/_smart_script_8cpp_source.html#l00119">SmartScript::ProcessAction()</a>, <a class="el" href="../../d4/d5b/boss__priestess__delrissa_8cpp_source.html#l00300">boss_priestess_lackey_commonAI::RecalculateThreat()</a>, <a class="el" href="../../d4/d81/boss__faction__champions_8cpp_source.html#l00103">boss_faction_championsAI::RecalculateThreat()</a>, and <a class="el" href="../../da/db3/boss__thaddius_8cpp_source.html#l00504">boss_thaddius_summon::boss_thaddius_summonAI::UpdateAI()</a>.</p>

</div>
</div>
<a id="a1aaab217053df0fc670b3f2a86d87589"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1aaab217053df0fc670b3f2a86d87589">&#9670;&nbsp;</a></span>processThreatEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ThreatMgr::processThreatEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/dcd/class_threat_ref_status_change_event.html">ThreatRefStatusChangeEvent</a> *&#160;</td>
          <td class="paramname"><em>threatRefStatusChangeEvent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00545">545</a> of file <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html">ThreatMgr.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;{</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    threatRefStatusChangeEvent-&gt;<a class="code" href="../../d3/dcd/class_threat_ref_status_change_event.html#ad423b39368df27a046d7c450ec13e4e8">setThreatMgr</a>(<span class="keyword">this</span>);     <span class="comment">// now we can set the threat manager</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160; </div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <a class="code" href="../../d1/d28/class_hostile_reference.html">HostileReference</a>* hostilRef = threatRefStatusChangeEvent-&gt;<a class="code" href="../../d3/dcd/class_threat_ref_status_change_event.html#abee0e0ebf55554342f55191cf20a726a">getReference</a>();</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160; </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordflow">switch</span> (threatRefStatusChangeEvent-&gt;<a class="code" href="../../d1/d08/class_unit_base_event.html#a7619b09043a8a729df77502786216aff">getType</a>())</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    {</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d87/_unit_events_8h.html#a5207de6e2fb421d2579a9baf4c471e97a5c74b5ccc46cdc399916b41b6d97bfb0">UEV_THREAT_REF_THREAT_CHANGE</a>:</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="../../d0/db1/class_threat_mgr.html#ad6c5604b44b79f3ed8ad31c4b75f63d1">getCurrentVictim</a>() == hostilRef &amp;&amp; threatRefStatusChangeEvent-&gt;<a class="code" href="../../d3/dcd/class_threat_ref_status_change_event.html#a660c6f8258ebb7c6abd81d51c7ff3399">getFValue</a>() &lt; 0.0f) ||</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                    (<a class="code" href="../../d0/db1/class_threat_mgr.html#ad6c5604b44b79f3ed8ad31c4b75f63d1">getCurrentVictim</a>() != hostilRef &amp;&amp; threatRefStatusChangeEvent-&gt;<a class="code" href="../../d3/dcd/class_threat_ref_status_change_event.html#a660c6f8258ebb7c6abd81d51c7ff3399">getFValue</a>() &gt; 0.0f))</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                <a class="code" href="../../d0/db1/class_threat_mgr.html#a3af45b133035760e8af979e132fa5d16">setDirty</a>(<span class="keyword">true</span>);                             <span class="comment">// the order in the threat list might have changed</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d87/_unit_events_8h.html#a5207de6e2fb421d2579a9baf4c471e97a77f8da111f54455d20c58ae0fd4156f9">UEV_THREAT_REF_ONLINE_STATUS</a>:</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            <span class="keywordflow">if</span> (!hostilRef-&gt;<a class="code" href="../../d1/d28/class_hostile_reference.html#a041f8627b7e4f1bdc703effe67f59609">isOnline</a>())</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            {</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                <span class="keywordflow">if</span> (hostilRef == <a class="code" href="../../d0/db1/class_threat_mgr.html#ad6c5604b44b79f3ed8ad31c4b75f63d1">getCurrentVictim</a>())</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                    <a class="code" href="../../d0/db1/class_threat_mgr.html#a0675c1295245c0418bd4021557fbacc4">setCurrentVictim</a>(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                    <a class="code" href="../../d0/db1/class_threat_mgr.html#a3af45b133035760e8af979e132fa5d16">setDirty</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                }</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d0/db1/class_threat_mgr.html#a8af7568291f04250454ebfbdad97be7f">GetOwner</a>() &amp;&amp; <a class="code" href="../../d0/db1/class_threat_mgr.html#a8af7568291f04250454ebfbdad97be7f">GetOwner</a>()-&gt;IsInWorld())</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../da/db7/class_unit.html">Unit</a>* target = <a class="code" href="../../d4/d27/namespace_object_accessor.html#a02c2dfb59db7d7e2501dcc9a4f9baf07">ObjectAccessor::GetUnit</a>(*<a class="code" href="../../d0/db1/class_threat_mgr.html#a8af7568291f04250454ebfbdad97be7f">GetOwner</a>(), hostilRef-&gt;<a class="code" href="../../d1/d28/class_hostile_reference.html#a0588a24578dfe8351b8c3bd62a0c1324">getUnitGuid</a>()))</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../d0/db1/class_threat_mgr.html#a8af7568291f04250454ebfbdad97be7f">GetOwner</a>()-&gt;IsInMap(target))</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                            <a class="code" href="../../d0/db1/class_threat_mgr.html#a8af7568291f04250454ebfbdad97be7f">GetOwner</a>()-&gt;<a class="code" href="../../da/db7/class_unit.html#a92376967a69e62f089a0afa1febb4d5a">SendRemoveFromThreatListOpcode</a>(hostilRef);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                <a class="code" href="../../d0/db1/class_threat_mgr.html#a915dba2303936ef06cdd65d0e8d99b9d">iThreatContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#af6122a07b7d59900a54352bbb85cde4e">remove</a>(hostilRef);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                <a class="code" href="../../d0/db1/class_threat_mgr.html#a21f182f89eedb87dc73fbbaa4c52c2be">iThreatOfflineContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#ad3d6d6b13e9b761174f9bfbb6e0c2899">addReference</a>(hostilRef);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            }</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d0/db1/class_threat_mgr.html#ad6c5604b44b79f3ed8ad31c4b75f63d1">getCurrentVictim</a>() &amp;&amp; hostilRef-&gt;<a class="code" href="../../d1/d28/class_hostile_reference.html#ad2c43f7b67ead66c0b9ba4bea7763142">getThreat</a>() &gt; (1.1f * <a class="code" href="../../d0/db1/class_threat_mgr.html#ad6c5604b44b79f3ed8ad31c4b75f63d1">getCurrentVictim</a>()-&gt;<a class="code" href="../../d0/db1/class_threat_mgr.html#a82c3983cc5bcc545a6ea2fa1da9a27e4">getThreat</a>()))</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                    <a class="code" href="../../d0/db1/class_threat_mgr.html#a3af45b133035760e8af979e132fa5d16">setDirty</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                <a class="code" href="../../d0/db1/class_threat_mgr.html#a915dba2303936ef06cdd65d0e8d99b9d">iThreatContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#ad3d6d6b13e9b761174f9bfbb6e0c2899">addReference</a>(hostilRef);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                <a class="code" href="../../d0/db1/class_threat_mgr.html#a21f182f89eedb87dc73fbbaa4c52c2be">iThreatOfflineContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#af6122a07b7d59900a54352bbb85cde4e">remove</a>(hostilRef);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            }</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d87/_unit_events_8h.html#a5207de6e2fb421d2579a9baf4c471e97aa8b5a9d97c235e1f56e98ff4103b08d0">UEV_THREAT_REF_REMOVE_FROM_LIST</a>:</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            <span class="keywordflow">if</span> (hostilRef == <a class="code" href="../../d0/db1/class_threat_mgr.html#ad6c5604b44b79f3ed8ad31c4b75f63d1">getCurrentVictim</a>())</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                <a class="code" href="../../d0/db1/class_threat_mgr.html#a0675c1295245c0418bd4021557fbacc4">setCurrentVictim</a>(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                <a class="code" href="../../d0/db1/class_threat_mgr.html#a3af45b133035760e8af979e132fa5d16">setDirty</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            }</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            <a class="code" href="../../d0/db1/class_threat_mgr.html#a44cb20b0e46f9932d951218b63e77b38">iOwner</a>-&gt;<a class="code" href="../../da/db7/class_unit.html#a92376967a69e62f089a0afa1febb4d5a">SendRemoveFromThreatListOpcode</a>(hostilRef);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            <span class="keywordflow">if</span> (hostilRef-&gt;<a class="code" href="../../d1/d28/class_hostile_reference.html#a041f8627b7e4f1bdc703effe67f59609">isOnline</a>())</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                <a class="code" href="../../d0/db1/class_threat_mgr.html#a915dba2303936ef06cdd65d0e8d99b9d">iThreatContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#af6122a07b7d59900a54352bbb85cde4e">remove</a>(hostilRef);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                <a class="code" href="../../d0/db1/class_threat_mgr.html#a21f182f89eedb87dc73fbbaa4c52c2be">iThreatOfflineContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#af6122a07b7d59900a54352bbb85cde4e">remove</a>(hostilRef);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    }</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;}</div>
<div class="ttc" id="a_unit_events_8h_html_a5207de6e2fb421d2579a9baf4c471e97a5c74b5ccc46cdc399916b41b6d97bfb0"><div class="ttname"><a href="../../d7/d87/_unit_events_8h.html#a5207de6e2fb421d2579a9baf4c471e97a5c74b5ccc46cdc399916b41b6d97bfb0">UEV_THREAT_REF_THREAT_CHANGE</a></div><div class="ttdeci">@ UEV_THREAT_REF_THREAT_CHANGE</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_unit_events_8h_source.html#l00036">UnitEvents.h:36</a></div></div>
<div class="ttc" id="a_unit_events_8h_html_a5207de6e2fb421d2579a9baf4c471e97a77f8da111f54455d20c58ae0fd4156f9"><div class="ttname"><a href="../../d7/d87/_unit_events_8h.html#a5207de6e2fb421d2579a9baf4c471e97a77f8da111f54455d20c58ae0fd4156f9">UEV_THREAT_REF_ONLINE_STATUS</a></div><div class="ttdeci">@ UEV_THREAT_REF_ONLINE_STATUS</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_unit_events_8h_source.html#l00033">UnitEvents.h:33</a></div></div>
<div class="ttc" id="a_unit_events_8h_html_a5207de6e2fb421d2579a9baf4c471e97aa8b5a9d97c235e1f56e98ff4103b08d0"><div class="ttname"><a href="../../d7/d87/_unit_events_8h.html#a5207de6e2fb421d2579a9baf4c471e97aa8b5a9d97c235e1f56e98ff4103b08d0">UEV_THREAT_REF_REMOVE_FROM_LIST</a></div><div class="ttdeci">@ UEV_THREAT_REF_REMOVE_FROM_LIST</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_unit_events_8h_source.html#l00039">UnitEvents.h:39</a></div></div>
<div class="ttc" id="aclass_hostile_reference_html_a041f8627b7e4f1bdc703effe67f59609"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#a041f8627b7e4f1bdc703effe67f59609">HostileReference::isOnline</a></div><div class="ttdeci">bool isOnline() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00060">ThreatMgr.h:60</a></div></div>
<div class="ttc" id="aclass_hostile_reference_html_a0588a24578dfe8351b8c3bd62a0c1324"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#a0588a24578dfe8351b8c3bd62a0c1324">HostileReference::getUnitGuid</a></div><div class="ttdeci">ObjectGuid getUnitGuid() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00098">ThreatMgr.h:98</a></div></div>
<div class="ttc" id="aclass_threat_container_html_af6122a07b7d59900a54352bbb85cde4e"><div class="ttname"><a href="../../de/d50/class_threat_container.html#af6122a07b7d59900a54352bbb85cde4e">ThreatContainer::remove</a></div><div class="ttdeci">void remove(HostileReference *hostileRef)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00170">ThreatMgr.h:170</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a3af45b133035760e8af979e132fa5d16"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a3af45b133035760e8af979e132fa5d16">ThreatMgr::setDirty</a></div><div class="ttdeci">void setDirty(bool isDirty)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00230">ThreatMgr.h:230</a></div></div>
<div class="ttc" id="aclass_threat_mgr_html_a82c3983cc5bcc545a6ea2fa1da9a27e4"><div class="ttname"><a href="../../d0/db1/class_threat_mgr.html#a82c3983cc5bcc545a6ea2fa1da9a27e4">ThreatMgr::getThreat</a></div><div class="ttdeci">float getThreat(Unit *victim, bool alsoSearchOfflineList=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00485">ThreatMgr.cpp:485</a></div></div>
<div class="ttc" id="aclass_threat_ref_status_change_event_html_a660c6f8258ebb7c6abd81d51c7ff3399"><div class="ttname"><a href="../../d3/dcd/class_threat_ref_status_change_event.html#a660c6f8258ebb7c6abd81d51c7ff3399">ThreatRefStatusChangeEvent::getFValue</a></div><div class="ttdeci">float getFValue() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_unit_events_8h_source.html#l00105">UnitEvents.h:105</a></div></div>
<div class="ttc" id="aclass_threat_ref_status_change_event_html_abee0e0ebf55554342f55191cf20a726a"><div class="ttname"><a href="../../d3/dcd/class_threat_ref_status_change_event.html#abee0e0ebf55554342f55191cf20a726a">ThreatRefStatusChangeEvent::getReference</a></div><div class="ttdeci">HostileReference * getReference() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_unit_events_8h_source.html#l00111">UnitEvents.h:111</a></div></div>
<div class="ttc" id="aclass_threat_ref_status_change_event_html_ad423b39368df27a046d7c450ec13e4e8"><div class="ttname"><a href="../../d3/dcd/class_threat_ref_status_change_event.html#ad423b39368df27a046d7c450ec13e4e8">ThreatRefStatusChangeEvent::setThreatMgr</a></div><div class="ttdeci">void setThreatMgr(ThreatMgr *pThreatMgr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_unit_events_8h_source.html#l00113">UnitEvents.h:113</a></div></div>
<div class="ttc" id="aclass_unit_base_event_html_a7619b09043a8a729df77502786216aff"><div class="ttname"><a href="../../d1/d08/class_unit_base_event.html#a7619b09043a8a729df77502786216aff">UnitBaseEvent::getType</a></div><div class="ttdeci">uint32 getType() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d87/_unit_events_8h_source.html#l00075">UnitEvents.h:75</a></div></div>
<div class="ttc" id="aclass_unit_html_a92376967a69e62f089a0afa1febb4d5a"><div class="ttname"><a href="../../da/db7/class_unit.html#a92376967a69e62f089a0afa1febb4d5a">Unit::SendRemoveFromThreatListOpcode</a></div><div class="ttdeci">void SendRemoveFromThreatListOpcode(HostileReference *pHostileReference)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d2e/_unit_8cpp_source.html#l19182">Unit.cpp:19182</a></div></div>
<div class="ttc" id="anamespace_object_accessor_html_a02c2dfb59db7d7e2501dcc9a4f9baf07"><div class="ttname"><a href="../../d4/d27/namespace_object_accessor.html#a02c2dfb59db7d7e2501dcc9a4f9baf07">ObjectAccessor::GetUnit</a></div><div class="ttdeci">Unit * GetUnit(WorldObject const &amp;, ObjectGuid const guid)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5d/_object_accessor_8cpp_source.html#l00199">ObjectAccessor.cpp:199</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00175">ThreatContainer::addReference()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00219">getCurrentVictim()</a>, <a class="el" href="../../d7/d87/_unit_events_8h_source.html#l00105">ThreatRefStatusChangeEvent::getFValue()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00221">GetOwner()</a>, <a class="el" href="../../d7/d87/_unit_events_8h_source.html#l00111">ThreatRefStatusChangeEvent::getReference()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00058">HostileReference::getThreat()</a>, <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00485">getThreat()</a>, <a class="el" href="../../d7/d87/_unit_events_8h_source.html#l00075">UnitBaseEvent::getType()</a>, <a class="el" href="../../df/d5d/_object_accessor_8cpp_source.html#l00199">ObjectAccessor::GetUnit()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00098">HostileReference::getUnitGuid()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00262">iOwner</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00060">HostileReference::isOnline()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00264">iThreatContainer</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00265">iThreatOfflineContainer</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00170">ThreatContainer::remove()</a>, <a class="el" href="../../d2/d2e/_unit_8cpp_source.html#l19182">Unit::SendRemoveFromThreatListOpcode()</a>, <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00532">setCurrentVictim()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00230">setDirty()</a>, <a class="el" href="../../d7/d87/_unit_events_8h_source.html#l00113">ThreatRefStatusChangeEvent::setThreatMgr()</a>, <a class="el" href="../../d7/d87/_unit_events_8h_source.html#l00033">UEV_THREAT_REF_ONLINE_STATUS</a>, <a class="el" href="../../d7/d87/_unit_events_8h_source.html#l00039">UEV_THREAT_REF_REMOVE_FROM_LIST</a>, and <a class="el" href="../../d7/d87/_unit_events_8h_source.html#l00036">UEV_THREAT_REF_THREAT_CHANGE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00128">HostileReference::fireStatusChanged()</a>.</p>

</div>
</div>
<a id="a5c62c861a4fce0e44e9fe37d7feeb31d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c62c861a4fce0e44e9fe37d7feeb31d">&#9670;&nbsp;</a></span>resetAggro()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class PREDICATE &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ThreatMgr::resetAggro </td>
          <td>(</td>
          <td class="paramtype">PREDICATE&#160;</td>
          <td class="paramname"><em>predicate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00236">236</a> of file <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html">ThreatMgr.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <a class="code" href="../../de/d50/class_threat_container.html#aa54b741c510fc6a3d0bac802e8ba8299">ThreatContainer::StorageType</a>&amp; threatList = <a class="code" href="../../d0/db1/class_threat_mgr.html#a915dba2303936ef06cdd65d0e8d99b9d">iThreatContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#a81f66d85664dd65b06aa8412bca69db2">iThreatList</a>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="keywordflow">if</span> (threatList.empty())</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> ref : threatList)</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            <span class="keywordflow">if</span> (predicate(ref-&gt;getTarget()))</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                ref-&gt;setThreat(0);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                <a class="code" href="../../d0/db1/class_threat_mgr.html#a3af45b133035760e8af979e132fa5d16">setDirty</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            }</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    }</div>
<div class="ttc" id="aclass_threat_container_html_a81f66d85664dd65b06aa8412bca69db2"><div class="ttname"><a href="../../de/d50/class_threat_container.html#a81f66d85664dd65b06aa8412bca69db2">ThreatContainer::iThreatList</a></div><div class="ttdeci">StorageType iThreatList</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00185">ThreatMgr.h:185</a></div></div>
<div class="ttc" id="aclass_threat_container_html_aa54b741c510fc6a3d0bac802e8ba8299"><div class="ttname"><a href="../../de/d50/class_threat_container.html#aa54b741c510fc6a3d0bac802e8ba8299">ThreatContainer::StorageType</a></div><div class="ttdeci">std::list&lt; HostileReference * &gt; StorageType</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00139">ThreatMgr.h:139</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00264">iThreatContainer</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00185">ThreatContainer::iThreatList</a>, and <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00230">setDirty()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/db8/boss__gothik_8cpp_source.html#l00411">boss_gothik::boss_gothikAI::UpdateAI()</a>.</p>

</div>
</div>
<a id="a14ad14e71ba14dadc89e766e10c33bec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14ad14e71ba14dadc89e766e10c33bec">&#9670;&nbsp;</a></span>resetAllAggro()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ThreatMgr::resetAllAggro </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00611">611</a> of file <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html">ThreatMgr.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;{</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <a class="code" href="../../de/d50/class_threat_container.html#aa54b741c510fc6a3d0bac802e8ba8299">ThreatContainer::StorageType</a>&amp; threatList = <a class="code" href="../../d0/db1/class_threat_mgr.html#a915dba2303936ef06cdd65d0e8d99b9d">iThreatContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#a81f66d85664dd65b06aa8412bca69db2">iThreatList</a>;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="keywordflow">if</span> (threatList.empty())</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160; </div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="keywordflow">for</span> (ThreatContainer::StorageType::iterator itr = threatList.begin(); itr != threatList.end(); ++itr)</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        (*itr)-&gt;setThreat(0);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160; </div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <a class="code" href="../../d0/db1/class_threat_mgr.html#a3af45b133035760e8af979e132fa5d16">setDirty</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00264">iThreatContainer</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00185">ThreatContainer::iThreatList</a>, and <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00230">setDirty()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/df6/boss__lady__deathwhisper_8cpp_source.html#l00926">npc_vengeful_shade::npc_vengeful_shadeAI::AttackStart()</a>, <a class="el" href="../../d0/d89/boss__thorim_8cpp_source.html#l01144">boss_thorim_start_npcs::boss_thorim_start_npcsAI::DamageTaken()</a>, <a class="el" href="../../d4/d43/_scripted_creature_8cpp_source.html#l00370">ScriptedAI::DoResetThreat()</a>, <a class="el" href="../../d2/d9d/instance__karazhan_8cpp_source.html#l00393">spell_karazhan_blink::spell_karazhan_blink_SpellScript::HandleDummy()</a>, <a class="el" href="../../d1/d88/boss__flame__leviathan_8cpp_source.html#l01664">spell_pursue::spell_pursue_SpellScript::HandleScript()</a>, <a class="el" href="../../df/de3/boss__leotheras__the__blind_8cpp_source.html#l00355">spell_leotheras_whirlwind::spell_leotheras_whirlwind_SpellScript::HandleScriptEffect()</a>, <a class="el" href="../../d1/d8e/pet__mage_8cpp_source.html#l00151">npc_pet_mage_mirror_image::MySelectNextTarget()</a>, <a class="el" href="../../d4/da9/boss__ignis_8cpp_source.html#l00123">npc_ulduar_iron_construct::npc_ulduar_iron_constructAI::SpellHit()</a>, <a class="el" href="../../d6/d1b/boss__grand__champions_8cpp_source.html#l00255">npc_toc5_grand_champion_minion::npc_toc5_grand_champion_minionAI::UpdateAI()</a>, <a class="el" href="../../d6/d1b/boss__grand__champions_8cpp_source.html#l00659">boss_grand_champion::boss_grand_championAI::UpdateAI()</a>, <a class="el" href="../../d0/d36/boss__tharon__ja_8cpp_source.html#l00135">boss_tharon_ja::boss_tharon_jaAI::UpdateAI()</a>, <a class="el" href="../../db/d52/boss__eck_8cpp_source.html#l00093">boss_eck::boss_eckAI::UpdateAI()</a>, <a class="el" href="../../d1/da9/boss__toravon_8cpp_source.html#l00188">npc_frozen_orb::npc_frozen_orbAI::UpdateAI()</a>, and <a class="el" href="../../d9/d02/boss__illidan_8cpp_source.html#l00405">boss_illidan_stormrage::boss_illidan_stormrageAI::UpdateAI()</a>.</p>

</div>
</div>
<a id="a0675c1295245c0418bd4021557fbacc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0675c1295245c0418bd4021557fbacc4">&#9670;&nbsp;</a></span>setCurrentVictim()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ThreatMgr::setCurrentVictim </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d28/class_hostile_reference.html">HostileReference</a> *&#160;</td>
          <td class="paramname"><em>hostileRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00532">532</a> of file <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html">ThreatMgr.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;{</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordflow">if</span> (pHostileReference &amp;&amp; pHostileReference != <a class="code" href="../../d0/db1/class_threat_mgr.html#a08ae7f6d2914dca1698ae518f0133a7b">iCurrentVictim</a>)</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    {</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        <a class="code" href="../../d0/db1/class_threat_mgr.html#a44cb20b0e46f9932d951218b63e77b38">iOwner</a>-&gt;<a class="code" href="../../da/db7/class_unit.html#ada4f806b88fb7d104b3cbaa9e1cc7807">SendChangeCurrentVictimOpcode</a>(pHostileReference);</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    }</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <a class="code" href="../../d0/db1/class_threat_mgr.html#a08ae7f6d2914dca1698ae518f0133a7b">iCurrentVictim</a> = pHostileReference;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;}</div>
<div class="ttc" id="aclass_unit_html_ada4f806b88fb7d104b3cbaa9e1cc7807"><div class="ttname"><a href="../../da/db7/class_unit.html#ada4f806b88fb7d104b3cbaa9e1cc7807">Unit::SendChangeCurrentVictimOpcode</a></div><div class="ttdeci">void SendChangeCurrentVictimOpcode(HostileReference *pHostileReference)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d2e/_unit_8cpp_source.html#l19153">Unit.cpp:19153</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00261">iCurrentVictim</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00262">iOwner</a>, and <a class="el" href="../../d2/d2e/_unit_8cpp_source.html#l19153">Unit::SendChangeCurrentVictimOpcode()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d40/_spell_effects_8cpp_source.html#l03287">Spell::EffectTaunt()</a>, <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00475">getHostilTarget()</a>, and <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00545">processThreatEvent()</a>.</p>

</div>
</div>
<a id="a3af45b133035760e8af979e132fa5d16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3af45b133035760e8af979e132fa5d16">&#9670;&nbsp;</a></span>setDirty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ThreatMgr::setDirty </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>isDirty</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00230">230</a> of file <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html">ThreatMgr.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;{ <a class="code" href="../../d0/db1/class_threat_mgr.html#a915dba2303936ef06cdd65d0e8d99b9d">iThreatContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#a097b94f1de5825c738cd312674e16751">setDirty</a>(isDirty); }</div>
<div class="ttc" id="aclass_threat_container_html_a097b94f1de5825c738cd312674e16751"><div class="ttname"><a href="../../de/d50/class_threat_container.html#a097b94f1de5825c738cd312674e16751">ThreatContainer::setDirty</a></div><div class="ttdeci">void setDirty(bool isDirty)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00151">ThreatMgr.h:151</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00264">iThreatContainer</a>, and <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00151">ThreatContainer::setDirty()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00545">processThreatEvent()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00236">resetAggro()</a>, and <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00611">resetAllAggro()</a>.</p>

</div>
</div>
<a id="a2bb07f6da7a18565a9f34f66b5ec0c74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bb07f6da7a18565a9f34f66b5ec0c74">&#9670;&nbsp;</a></span>tauntApply()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ThreatMgr::tauntApply </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/db7/class_unit.html">Unit</a> *&#160;</td>
          <td class="paramname"><em>taunter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00511">511</a> of file <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html">ThreatMgr.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;{</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <a class="code" href="../../d1/d28/class_hostile_reference.html">HostileReference</a>* ref = <a class="code" href="../../d0/db1/class_threat_mgr.html#a915dba2303936ef06cdd65d0e8d99b9d">iThreatContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#a0145e1afdd2a20fba527c6e4b3ca3c89">getReferenceByTarget</a>(taunter);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/db1/class_threat_mgr.html#ad6c5604b44b79f3ed8ad31c4b75f63d1">getCurrentVictim</a>() &amp;&amp; ref &amp;&amp; (ref-&gt;<a class="code" href="../../d1/d28/class_hostile_reference.html#ad2c43f7b67ead66c0b9ba4bea7763142">getThreat</a>() &lt; <a class="code" href="../../d0/db1/class_threat_mgr.html#ad6c5604b44b79f3ed8ad31c4b75f63d1">getCurrentVictim</a>()-&gt;<a class="code" href="../../d0/db1/class_threat_mgr.html#a82c3983cc5bcc545a6ea2fa1da9a27e4">getThreat</a>()))</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    {</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <span class="keywordflow">if</span> (ref-&gt;<a class="code" href="../../d1/d28/class_hostile_reference.html#a672b7160f3bf4c0475d0232025b89e81">getTempThreatModifier</a>() == 0.0f) <span class="comment">// Ok, temp threat is unused</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;            ref-&gt;<a class="code" href="../../d1/d28/class_hostile_reference.html#ab559a9c9994a6ca830a0a76f5a6507e6">setTempThreat</a>(<a class="code" href="../../d0/db1/class_threat_mgr.html#ad6c5604b44b79f3ed8ad31c4b75f63d1">getCurrentVictim</a>()-&gt;<a class="code" href="../../d0/db1/class_threat_mgr.html#a82c3983cc5bcc545a6ea2fa1da9a27e4">getThreat</a>());</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    }</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;}</div>
<div class="ttc" id="aclass_hostile_reference_html_ab559a9c9994a6ca830a0a76f5a6507e6"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#ab559a9c9994a6ca830a0a76f5a6507e6">HostileReference::setTempThreat</a></div><div class="ttdeci">void setTempThreat(float threat)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00064">ThreatMgr.h:64</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00219">getCurrentVictim()</a>, <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00259">ThreatContainer::getReferenceByTarget()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00085">HostileReference::getTempThreatModifier()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00058">HostileReference::getThreat()</a>, <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00485">getThreat()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00264">iThreatContainer</a>, and <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00064">HostileReference::setTempThreat()</a>.</p>

</div>
</div>
<a id="a32c81fd4088678a3ffd8590fcd3cbb6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32c81fd4088678a3ffd8590fcd3cbb6e">&#9670;&nbsp;</a></span>tauntFadeOut()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ThreatMgr::tauntFadeOut </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/db7/class_unit.html">Unit</a> *&#160;</td>
          <td class="paramname"><em>taunter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00523">523</a> of file <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html">ThreatMgr.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;{</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <a class="code" href="../../d1/d28/class_hostile_reference.html">HostileReference</a>* ref = <a class="code" href="../../d0/db1/class_threat_mgr.html#a915dba2303936ef06cdd65d0e8d99b9d">iThreatContainer</a>.<a class="code" href="../../de/d50/class_threat_container.html#a0145e1afdd2a20fba527c6e4b3ca3c89">getReferenceByTarget</a>(taunter);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keywordflow">if</span> (ref)</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        ref-&gt;<a class="code" href="../../d1/d28/class_hostile_reference.html#af52027732c37abc084c7ae1b7c7ce162">resetTempThreat</a>();</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;}</div>
<div class="ttc" id="aclass_hostile_reference_html_af52027732c37abc084c7ae1b7c7ce162"><div class="ttname"><a href="../../d1/d28/class_hostile_reference.html#af52027732c37abc084c7ae1b7c7ce162">HostileReference::resetTempThreat</a></div><div class="ttdeci">void resetTempThreat()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d5e/_threat_mgr_8h_source.html#l00076">ThreatMgr.h:76</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00259">ThreatContainer::getReferenceByTarget()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00264">iThreatContainer</a>, and <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00076">HostileReference::resetTempThreat()</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="ad2986bf4d69d9d5c9223c0f44e6b4554"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2986bf4d69d9d5c9223c0f44e6b4554">&#9670;&nbsp;</a></span>HostileReference</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="../../d1/d28/class_hostile_reference.html">HostileReference</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00194">194</a> of file <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html">ThreatMgr.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00448">_addThreat()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a08ae7f6d2914dca1698ae518f0133a7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08ae7f6d2914dca1698ae518f0133a7b">&#9670;&nbsp;</a></span>iCurrentVictim</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d28/class_hostile_reference.html">HostileReference</a>* ThreatMgr::iCurrentVictim</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00261">261</a> of file <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html">ThreatMgr.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00411">clearReferences()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00219">getCurrentVictim()</a>, and <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00532">setCurrentVictim()</a>.</p>

</div>
</div>
<a id="a44cb20b0e46f9932d951218b63e77b38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44cb20b0e46f9932d951218b63e77b38">&#9670;&nbsp;</a></span>iOwner</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/db7/class_unit.html">Unit</a>* ThreatMgr::iOwner</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00262">262</a> of file <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html">ThreatMgr.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00421">addThreat()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00221">GetOwner()</a>, <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00545">processThreatEvent()</a>, and <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00532">setCurrentVictim()</a>.</p>

</div>
</div>
<a id="a915dba2303936ef06cdd65d0e8d99b9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a915dba2303936ef06cdd65d0e8d99b9d">&#9670;&nbsp;</a></span>iThreatContainer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d50/class_threat_container.html">ThreatContainer</a> ThreatMgr::iThreatContainer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00264">264</a> of file <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html">ThreatMgr.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00448">_addThreat()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00213">areThreatListsEmpty()</a>, <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00411">clearReferences()</a>, <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00475">getHostilTarget()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00256">getOnlineContainer()</a>, <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00485">getThreat()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00254">getThreatList()</a>, <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00498">getThreatWithoutTemp()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00212">isThreatListEmpty()</a>, <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00468">modifyThreatPercent()</a>, <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00545">processThreatEvent()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00236">resetAggro()</a>, <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00611">resetAllAggro()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00230">setDirty()</a>, <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00511">tauntApply()</a>, and <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00523">tauntFadeOut()</a>.</p>

</div>
</div>
<a id="a21f182f89eedb87dc73fbbaa4c52c2be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21f182f89eedb87dc73fbbaa4c52c2be">&#9670;&nbsp;</a></span>iThreatOfflineContainer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d50/class_threat_container.html">ThreatContainer</a> ThreatMgr::iThreatOfflineContainer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00265">265</a> of file <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html">ThreatMgr.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00448">_addThreat()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00213">areThreatListsEmpty()</a>, <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00411">clearReferences()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00257">getOfflineContainer()</a>, <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00255">getOfflineThreatList()</a>, <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00485">getThreat()</a>, <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00498">getThreatWithoutTemp()</a>, and <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00545">processThreatEvent()</a>.</p>

</div>
</div>
<a id="a6302f3d039e18c7d9c74b26288491825"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6302f3d039e18c7d9c74b26288491825">&#9670;&nbsp;</a></span>iUpdateTimer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> ThreatMgr::iUpdateTimer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html#l00263">263</a> of file <a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html">ThreatMgr.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00411">clearReferences()</a>, and <a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html#l00596">isNeedUpdateToClient()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/server/game/Combat/<a class="el" href="../../d8/d5e/_threat_mgr_8h_source.html">ThreatMgr.h</a></li>
<li>src/server/game/Combat/<a class="el" href="../../d5/dbd/_threat_mgr_8cpp_source.html">ThreatMgr.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
