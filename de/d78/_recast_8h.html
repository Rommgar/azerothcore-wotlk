<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Azerotcore-wotlk: deps/recastnavigation/Recast/Include/Recast.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Azerotcore-wotlk
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_94a36784afa54c0b50996002372b429e.html">deps</a></li><li class="navelem"><a class="el" href="../../dir_7dd20dcc6a73f006b6e316a6ff9ef4f8.html">recastnavigation</a></li><li class="navelem"><a class="el" href="../../dir_42d6220f0f0d33243ad9bbd2d8d1d1aa.html">Recast</a></li><li class="navelem"><a class="el" href="../../dir_204419fb7cd04065d1a5f457ec5da2b3.html">Include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Recast.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="../../de/d78/_recast_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d07/classrc_context.html">rcContext</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d52/structrc_config.html">rcConfig</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d1d/structrc_span.html">rcSpan</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d77/structrc_span_pool.html">rcSpanPool</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dff/structrc_compact_cell.html">rcCompactCell</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides information on the content of a cell column in a compact heightfield.  <a href="../../d6/dff/structrc_compact_cell.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dce/structrc_compact_span.html">rcCompactSpan</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a span of unobstructed space within a compact heightfield.  <a href="../../de/dce/structrc_compact_span.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d37/structrc_heightfield_layer.html">rcHeightfieldLayer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d3c/structrc_heightfield_layer_set.html">rcHeightfieldLayerSet</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d2c/structrc_contour.html">rcContour</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a simple, non-overlapping contour in field space.  <a href="../../df/d2c/structrc_contour.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d9f/structrc_contour_set.html">rcContourSet</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d75/structrc_poly_mesh.html">rcPolyMesh</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d70/structrc_poly_mesh_detail.html">rcPolyMeshDetail</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a82cf824a1948a8442785a7ea184f410b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410b">rcLogCategory</a> { <a class="el" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba4489590461db6062a1d83986297a1bcd">RC_LOG_PROGRESS</a> = 1
, <a class="el" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba05dd323a1feaf0c125be248057cc40a5">RC_LOG_WARNING</a>
, <a class="el" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>
 }</td></tr>
<tr class="separator:a82cf824a1948a8442785a7ea184f410b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d44e82cf0c9a0df344aaff8654ea18d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18d">rcTimerLabel</a> { <br />
&#160;&#160;<a class="el" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18dade020216459ee686aac7c19d7ee2729a">RC_TIMER_TOTAL</a>
, <a class="el" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da92968e4f7d7e891393de01a5554f4b8c">RC_TIMER_TEMP</a>
, <a class="el" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da3fa1b3fe84fd4f3624887a1fa38944e6">RC_TIMER_RASTERIZE_TRIANGLES</a>
, <a class="el" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da303c06e25bf4609eb21ba3b668f10bba">RC_TIMER_BUILD_COMPACTHEIGHTFIELD</a>
, <br />
&#160;&#160;<a class="el" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da5bfad3b856c9ff5f3d94231adc363437">RC_TIMER_BUILD_CONTOURS</a>
, <a class="el" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da7780e2f5b2726d76169f8c0a38cfc12b">RC_TIMER_BUILD_CONTOURS_TRACE</a>
, <a class="el" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18daac93d9ba18d8dedee3b584ef9131fdba">RC_TIMER_BUILD_CONTOURS_SIMPLIFY</a>
, <a class="el" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da438af561b3f22c44dd9a4672ab7efa09">RC_TIMER_FILTER_BORDER</a>
, <br />
&#160;&#160;<a class="el" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18dae2cf8a1eed8d008417af66448900d120">RC_TIMER_FILTER_WALKABLE</a>
, <a class="el" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18daff9bd2eec4ca8457b601f3d8186824bf">RC_TIMER_MEDIAN_AREA</a>
, <a class="el" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18dafd77d72ef738a5bb20b2bfc2753ed3c2">RC_TIMER_FILTER_LOW_OBSTACLES</a>
, <a class="el" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da2db68b2ee0e88bd48f687d8912be2b87">RC_TIMER_BUILD_POLYMESH</a>
, <br />
&#160;&#160;<a class="el" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da20a8bc8f7341a3ea1af2b7581b67de6c">RC_TIMER_MERGE_POLYMESH</a>
, <a class="el" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18dad109da926d20816d0fd7b16001b6e463">RC_TIMER_ERODE_AREA</a>
, <a class="el" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da3ba77f8aaeff3f0ea1c0703144701789">RC_TIMER_MARK_BOX_AREA</a>
, <a class="el" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18daade33c6e1f1b1037e63546ca863d9690">RC_TIMER_MARK_CYLINDER_AREA</a>
, <br />
&#160;&#160;<a class="el" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18dac76c8eea599c3cf1c7f76a7a90a245b1">RC_TIMER_MARK_CONVEXPOLY_AREA</a>
, <a class="el" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da2d9eae7de0473e03695f147c3b0ed4fe">RC_TIMER_BUILD_DISTANCEFIELD</a>
, <a class="el" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da95ae391397574299fa86757572dadf78">RC_TIMER_BUILD_DISTANCEFIELD_DIST</a>
, <a class="el" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da9452d6a2c2be5c1bb92a20440a42509c">RC_TIMER_BUILD_DISTANCEFIELD_BLUR</a>
, <br />
&#160;&#160;<a class="el" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18daeac9f250cd8a04c3d14f8fa548d4b31f">RC_TIMER_BUILD_REGIONS</a>
, <a class="el" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da7c9d166e9be3c76d444908348fccde9c">RC_TIMER_BUILD_REGIONS_WATERSHED</a>
, <a class="el" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da92d9f71f85b57488a09a3d6d0cec04d2">RC_TIMER_BUILD_REGIONS_EXPAND</a>
, <a class="el" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da51802900abb3935de5b7dbc2423e2d62">RC_TIMER_BUILD_REGIONS_FLOOD</a>
, <br />
&#160;&#160;<a class="el" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da14403d6ce136beb776b9004e73dde436">RC_TIMER_BUILD_REGIONS_FILTER</a>
, <a class="el" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18daa13252ec42af278ed8b511ef2573efba">RC_TIMER_BUILD_LAYERS</a>
, <a class="el" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da154109a5c78860b81ce9370a6a8debfd">RC_TIMER_BUILD_POLYMESHDETAIL</a>
, <a class="el" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da24182cce77d41ba2d42db93b65dc7535">RC_TIMER_MERGE_POLYMESHDETAIL</a>
, <br />
&#160;&#160;<a class="el" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da3597bcc0a74259286ba7e06ec236b405">RC_MAX_TIMERS</a>
<br />
 }</td></tr>
<tr class="separator:a0d44e82cf0c9a0df344aaff8654ea18d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63345b5052e97366027aa92b54c7786f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a63345b5052e97366027aa92b54c7786f">rcBuildContoursFlags</a> { <a class="el" href="../../de/d78/_recast_8h.html#a63345b5052e97366027aa92b54c7786fa895b8adb44c79179f5e22f8f65abe5ed">RC_CONTOUR_TESS_WALL_EDGES</a> = 0x01
, <a class="el" href="../../de/d78/_recast_8h.html#a63345b5052e97366027aa92b54c7786faf433dd3fd4cf358173e454a145233810">RC_CONTOUR_TESS_AREA_EDGES</a> = 0x02
 }</td></tr>
<tr class="separator:a63345b5052e97366027aa92b54c7786f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Allocation Functions</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Functions used to allocate and de-allocate Recast objects. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d5/d42/_recast_alloc_8cpp.html#ae3f9da3566ad0877b9e4c9e92f8e1a15">rcAllocSetCustom</a> </dd></dl>
</div></td></tr>
<tr class="memitem:a3e717cb2fa2ef5d123f0fa218f0630a9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a3e717cb2fa2ef5d123f0fa218f0630a9">rcAllocHeightfield</a> ()</td></tr>
<tr class="separator:a3e717cb2fa2ef5d123f0fa218f0630a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a370dc7ef848ed74b7660d70a3972557c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a370dc7ef848ed74b7660d70a3972557c">rcFreeHeightField</a> (<a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a> *hf)</td></tr>
<tr class="separator:a370dc7ef848ed74b7660d70a3972557c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63ec2ca68dc897018b8b013507b9714d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a63ec2ca68dc897018b8b013507b9714d">rcAllocCompactHeightfield</a> ()</td></tr>
<tr class="separator:a63ec2ca68dc897018b8b013507b9714d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67311a62f4476274e58bfd4fc1897c2b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a67311a62f4476274e58bfd4fc1897c2b">rcFreeCompactHeightfield</a> (<a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a> *chf)</td></tr>
<tr class="separator:a67311a62f4476274e58bfd4fc1897c2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc45406abb9ac9d1efddee04054207f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d3c/structrc_heightfield_layer_set.html">rcHeightfieldLayerSet</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#adc45406abb9ac9d1efddee04054207f5">rcAllocHeightfieldLayerSet</a> ()</td></tr>
<tr class="separator:adc45406abb9ac9d1efddee04054207f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a664e8773ae1776108fb220ddcf6349c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a664e8773ae1776108fb220ddcf6349c1">rcFreeHeightfieldLayerSet</a> (<a class="el" href="../../dc/d3c/structrc_heightfield_layer_set.html">rcHeightfieldLayerSet</a> *lset)</td></tr>
<tr class="separator:a664e8773ae1776108fb220ddcf6349c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b1a22ec58d51570e352c19cb2cb22a2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d9f/structrc_contour_set.html">rcContourSet</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a2b1a22ec58d51570e352c19cb2cb22a2">rcAllocContourSet</a> ()</td></tr>
<tr class="separator:a2b1a22ec58d51570e352c19cb2cb22a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fb91095dd65acee1c4dfad8f61449b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a2fb91095dd65acee1c4dfad8f61449b2">rcFreeContourSet</a> (<a class="el" href="../../db/d9f/structrc_contour_set.html">rcContourSet</a> *cset)</td></tr>
<tr class="separator:a2fb91095dd65acee1c4dfad8f61449b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b6942363f019860984263c0f8f62b9d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d75/structrc_poly_mesh.html">rcPolyMesh</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a1b6942363f019860984263c0f8f62b9d">rcAllocPolyMesh</a> ()</td></tr>
<tr class="separator:a1b6942363f019860984263c0f8f62b9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06d2af90959be1bc0090a7fd3bca4af3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a06d2af90959be1bc0090a7fd3bca4af3">rcFreePolyMesh</a> (<a class="el" href="../../df/d75/structrc_poly_mesh.html">rcPolyMesh</a> *pmesh)</td></tr>
<tr class="separator:a06d2af90959be1bc0090a7fd3bca4af3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a617834c1759867250e21569c204f1410"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d70/structrc_poly_mesh_detail.html">rcPolyMeshDetail</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a617834c1759867250e21569c204f1410">rcAllocPolyMeshDetail</a> ()</td></tr>
<tr class="separator:a617834c1759867250e21569c204f1410"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d34c07695552e9fbd277809581af8c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a4d34c07695552e9fbd277809581af8c6">rcFreePolyMeshDetail</a> (<a class="el" href="../../d6/d70/structrc_poly_mesh_detail.html">rcPolyMeshDetail</a> *dmesh)</td></tr>
<tr class="separator:a4d34c07695552e9fbd277809581af8c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">General helper functions</div></td></tr>
<tr class="memitem:a590be6fed00e1ed747939ee51b0b433c"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a590be6fed00e1ed747939ee51b0b433c"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a590be6fed00e1ed747939ee51b0b433c">rcIgnoreUnused</a> (<a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> T &amp;)</td></tr>
<tr class="separator:a590be6fed00e1ed747939ee51b0b433c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b7d8e54f72e8918a8b19c73eedf2d46"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a2b7d8e54f72e8918a8b19c73eedf2d46"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a2b7d8e54f72e8918a8b19c73eedf2d46">rcSwap</a> (T &amp;a, T &amp;<a class="el" href="../../df/d31/prof_8c.html#a3fca4d23183335e3d46f507d28e94e8b">b</a>)</td></tr>
<tr class="separator:a2b7d8e54f72e8918a8b19c73eedf2d46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac83e8b749d8fed2164e00e7e0f43687"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:aac83e8b749d8fed2164e00e7e0f43687"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a> (T a, T <a class="el" href="../../df/d31/prof_8c.html#a3fca4d23183335e3d46f507d28e94e8b">b</a>)</td></tr>
<tr class="separator:aac83e8b749d8fed2164e00e7e0f43687"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accb921a8353da3a74aa90a491aff74c8"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:accb921a8353da3a74aa90a491aff74c8"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#accb921a8353da3a74aa90a491aff74c8">rcMax</a> (T a, T <a class="el" href="../../df/d31/prof_8c.html#a3fca4d23183335e3d46f507d28e94e8b">b</a>)</td></tr>
<tr class="separator:accb921a8353da3a74aa90a491aff74c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa1623d0ed253473ef26cd7717f8bf2f"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:afa1623d0ed253473ef26cd7717f8bf2f"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#afa1623d0ed253473ef26cd7717f8bf2f">rcAbs</a> (T a)</td></tr>
<tr class="separator:afa1623d0ed253473ef26cd7717f8bf2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c26528d4e9f1c67f9a44c37462fd8fd"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a9c26528d4e9f1c67f9a44c37462fd8fd"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a9c26528d4e9f1c67f9a44c37462fd8fd">rcSqr</a> (T a)</td></tr>
<tr class="separator:a9c26528d4e9f1c67f9a44c37462fd8fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f9c3de8c3f30a442a541cb2254a9246"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a2f9c3de8c3f30a442a541cb2254a9246"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a2f9c3de8c3f30a442a541cb2254a9246">rcClamp</a> (T v, T mn, T mx)</td></tr>
<tr class="separator:a2f9c3de8c3f30a442a541cb2254a9246"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27c978b5bf2b857ec501ebd86c4e5981"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a27c978b5bf2b857ec501ebd86c4e5981">rcSqrt</a> (float x)</td></tr>
<tr class="separator:a27c978b5bf2b857ec501ebd86c4e5981"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Vector helper functions.</div></td></tr>
<tr class="memitem:a374fcf43c2ade76f195d3089b6964833"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a374fcf43c2ade76f195d3089b6964833">rcVcross</a> (float *dest, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *v1, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *v2)</td></tr>
<tr class="separator:a374fcf43c2ade76f195d3089b6964833"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c946b3f2523d0dfb776fc393387279f"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a0c946b3f2523d0dfb776fc393387279f">rcVdot</a> (<a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *v1, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *v2)</td></tr>
<tr class="separator:a0c946b3f2523d0dfb776fc393387279f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a400b0467856a9ab0cbcd8a695484e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a1a400b0467856a9ab0cbcd8a695484e0">rcVmad</a> (float *dest, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *v1, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *v2, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float s)</td></tr>
<tr class="separator:a1a400b0467856a9ab0cbcd8a695484e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac291c13507720ed59b046c7730d1cee7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#ac291c13507720ed59b046c7730d1cee7">rcVadd</a> (float *dest, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *v1, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *v2)</td></tr>
<tr class="separator:ac291c13507720ed59b046c7730d1cee7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d171a02fc4cda0b829b6ff7a4793376"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a5d171a02fc4cda0b829b6ff7a4793376">rcVsub</a> (float *dest, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *v1, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *v2)</td></tr>
<tr class="separator:a5d171a02fc4cda0b829b6ff7a4793376"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab49a84d90945782df879b0c7e84239db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#ab49a84d90945782df879b0c7e84239db">rcVmin</a> (float *mn, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *v)</td></tr>
<tr class="separator:ab49a84d90945782df879b0c7e84239db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5033980308619575a48cef8f497af3cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a5033980308619575a48cef8f497af3cf">rcVmax</a> (float *mx, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *v)</td></tr>
<tr class="separator:a5033980308619575a48cef8f497af3cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cbb34310e47a6def133a4b533d073ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a9cbb34310e47a6def133a4b533d073ea">rcVcopy</a> (float *dest, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *v)</td></tr>
<tr class="separator:a9cbb34310e47a6def133a4b533d073ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d790d74c5ca7363ba1c0cddc9d2d896"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a0d790d74c5ca7363ba1c0cddc9d2d896">rcVdist</a> (<a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *v1, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *v2)</td></tr>
<tr class="separator:a0d790d74c5ca7363ba1c0cddc9d2d896"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa30870674c29a9777390a289bf862163"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#aa30870674c29a9777390a289bf862163">rcVdistSqr</a> (<a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *v1, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *v2)</td></tr>
<tr class="separator:aa30870674c29a9777390a289bf862163"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adad36d3a913091d1288e386192c3c6ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#adad36d3a913091d1288e386192c3c6ab">rcVnormalize</a> (float *v)</td></tr>
<tr class="separator:adad36d3a913091d1288e386192c3c6ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Heightfield Functions</div></td></tr>
<tr><td colspan="2"><div class="groupText"><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a> </dd></dl>
</div></td></tr>
<tr class="memitem:af5247365fb1db9f26a9153d984a98c82"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#af5247365fb1db9f26a9153d984a98c82">rcCalcBounds</a> (<a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *verts, int nv, float *bmin, float *bmax)</td></tr>
<tr class="separator:af5247365fb1db9f26a9153d984a98c82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2c5a39eb34164e35b8ebc2001c3a0e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#ae2c5a39eb34164e35b8ebc2001c3a0e5">rcCalcGridSize</a> (<a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *bmin, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *bmax, float cs, int *w, int *h)</td></tr>
<tr class="separator:ae2c5a39eb34164e35b8ebc2001c3a0e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa09281f4f1ec87fed5b8bc2b35331793"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#aa09281f4f1ec87fed5b8bc2b35331793">rcCreateHeightfield</a> (<a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *ctx, <a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a> &amp;hf, int <a class="el" href="../../dd/d7f/emitter_8h.html#af64ddd66ec847040624d5cf51214e807">width</a>, int height, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *bmin, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *bmax, float cs, float ch)</td></tr>
<tr class="separator:aa09281f4f1ec87fed5b8bc2b35331793"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1346288993c8ab565bee3e212e9c9890"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a1346288993c8ab565bee3e212e9c9890">rcMarkWalkableTriangles</a> (<a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *ctx, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float walkableSlopeAngle, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *verts, int nv, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int *tris, int nt, unsigned char *areas)</td></tr>
<tr class="separator:a1346288993c8ab565bee3e212e9c9890"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60059d7c34162cdf9b4c735672739012"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a60059d7c34162cdf9b4c735672739012">rcClearUnwalkableTriangles</a> (<a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *ctx, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float walkableSlopeAngle, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *verts, int nv, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int *tris, int nt, unsigned char *areas)</td></tr>
<tr class="separator:a60059d7c34162cdf9b4c735672739012"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a824788a617f8879acb6d997b363c1fa8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a824788a617f8879acb6d997b363c1fa8">rcAddSpan</a> (<a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *ctx, <a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a> &amp;hf, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int x, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int y, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> unsigned short smin, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> unsigned short smax, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> unsigned char area, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int flagMergeThr)</td></tr>
<tr class="separator:a824788a617f8879acb6d997b363c1fa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7c6fdfd6d6d22da3b1e9229e745454d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#ab7c6fdfd6d6d22da3b1e9229e745454d">rcRasterizeTriangle</a> (<a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *ctx, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *v0, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *v1, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *v2, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> unsigned char area, <a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a> &amp;solid, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int flagMergeThr=1)</td></tr>
<tr class="separator:ab7c6fdfd6d6d22da3b1e9229e745454d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47a48413c347ca0d127939ceb92b9e8b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a47a48413c347ca0d127939ceb92b9e8b">rcRasterizeTriangles</a> (<a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *ctx, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *verts, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int nv, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int *tris, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> unsigned char *areas, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int nt, <a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a> &amp;solid, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int flagMergeThr=1)</td></tr>
<tr class="separator:a47a48413c347ca0d127939ceb92b9e8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14cda2ed89768f84b73ea4339c36baaf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a14cda2ed89768f84b73ea4339c36baaf">rcRasterizeTriangles</a> (<a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *ctx, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *verts, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int nv, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> unsigned short *tris, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> unsigned char *areas, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int nt, <a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a> &amp;solid, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int flagMergeThr=1)</td></tr>
<tr class="separator:a14cda2ed89768f84b73ea4339c36baaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac71006f719ddd462076d5a2ee3d447e4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#ac71006f719ddd462076d5a2ee3d447e4">rcRasterizeTriangles</a> (<a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *ctx, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *verts, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> unsigned char *areas, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int nt, <a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a> &amp;solid, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int flagMergeThr=1)</td></tr>
<tr class="separator:ac71006f719ddd462076d5a2ee3d447e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67689871aaa190bc6489bae1b04301a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a67689871aaa190bc6489bae1b04301a8">rcFilterLowHangingWalkableObstacles</a> (<a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *ctx, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int walkableClimb, <a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a> &amp;solid)</td></tr>
<tr class="separator:a67689871aaa190bc6489bae1b04301a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a655160ad0aa9425305d0bdb69ede3f37"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a655160ad0aa9425305d0bdb69ede3f37">rcFilterLedgeSpans</a> (<a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *ctx, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int walkableHeight, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int walkableClimb, <a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a> &amp;solid)</td></tr>
<tr class="separator:a655160ad0aa9425305d0bdb69ede3f37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a26d036fcf4c83438c31a2f01ec4d83"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a3a26d036fcf4c83438c31a2f01ec4d83">rcFilterWalkableLowHeightSpans</a> (<a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *ctx, int walkableHeight, <a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a> &amp;solid)</td></tr>
<tr class="separator:a3a26d036fcf4c83438c31a2f01ec4d83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b744a3ee804e46503348f5f7c98d6eb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a3b744a3ee804e46503348f5f7c98d6eb">rcGetHeightFieldSpanCount</a> (<a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *ctx, <a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a> &amp;hf)</td></tr>
<tr class="separator:a3b744a3ee804e46503348f5f7c98d6eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Compact Heightfield Functions</div></td></tr>
<tr><td colspan="2"><div class="groupText"><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a> </dd></dl>
</div></td></tr>
<tr class="memitem:a9833a6aa767f7f8ceecc8c929c56ca83"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a9833a6aa767f7f8ceecc8c929c56ca83">rcBuildCompactHeightfield</a> (<a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *ctx, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int walkableHeight, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int walkableClimb, <a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a> &amp;hf, <a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a> &amp;chf)</td></tr>
<tr class="separator:a9833a6aa767f7f8ceecc8c929c56ca83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a466672bb756c401fbf6dd1e99c920ebb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a466672bb756c401fbf6dd1e99c920ebb">rcErodeWalkableArea</a> (<a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *ctx, int radius, <a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a> &amp;chf)</td></tr>
<tr class="separator:a466672bb756c401fbf6dd1e99c920ebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a793672ade7833e916dd3c0e7a5bd6cc5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a793672ade7833e916dd3c0e7a5bd6cc5">rcMedianFilterWalkableArea</a> (<a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *ctx, <a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a> &amp;chf)</td></tr>
<tr class="separator:a793672ade7833e916dd3c0e7a5bd6cc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a527b4c24537e47bcc472f28965c7b7bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a527b4c24537e47bcc472f28965c7b7bf">rcMarkBoxArea</a> (<a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *ctx, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *bmin, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *bmax, unsigned char areaId, <a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a> &amp;chf)</td></tr>
<tr class="separator:a527b4c24537e47bcc472f28965c7b7bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e8f3c9c2cb664fb2874d01448a1f223"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a1e8f3c9c2cb664fb2874d01448a1f223">rcMarkConvexPolyArea</a> (<a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *ctx, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *verts, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int nverts, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float hmin, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float hmax, unsigned char areaId, <a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a> &amp;chf)</td></tr>
<tr class="separator:a1e8f3c9c2cb664fb2874d01448a1f223"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad71d03bb37c1a16700d57c5f7dff4057"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#ad71d03bb37c1a16700d57c5f7dff4057">rcOffsetPoly</a> (<a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *verts, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int nverts, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float offset, float *outVerts, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int maxOutVerts)</td></tr>
<tr class="separator:ad71d03bb37c1a16700d57c5f7dff4057"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2de1bc06b5804dd4304a90f39829948"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#ac2de1bc06b5804dd4304a90f39829948">rcMarkCylinderArea</a> (<a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *ctx, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *<a class="el" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float r, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float h, unsigned char areaId, <a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a> &amp;chf)</td></tr>
<tr class="separator:ac2de1bc06b5804dd4304a90f39829948"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a255c830cc0d30fa0229a05033242e77d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a255c830cc0d30fa0229a05033242e77d">rcBuildDistanceField</a> (<a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *ctx, <a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a> &amp;chf)</td></tr>
<tr class="separator:a255c830cc0d30fa0229a05033242e77d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd57817e13cb07edb8168d8d2b1be5a5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#abd57817e13cb07edb8168d8d2b1be5a5">rcBuildRegions</a> (<a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *ctx, <a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a> &amp;chf, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int borderSize, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int minRegionArea, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int mergeRegionArea)</td></tr>
<tr class="separator:abd57817e13cb07edb8168d8d2b1be5a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a29a95eba7d16654f2834d517f81c57"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a1a29a95eba7d16654f2834d517f81c57">rcBuildLayerRegions</a> (<a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *ctx, <a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a> &amp;chf, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int borderSize, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int minRegionArea)</td></tr>
<tr class="separator:a1a29a95eba7d16654f2834d517f81c57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae20320dae183d2e42addb42cced9cc8a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#ae20320dae183d2e42addb42cced9cc8a">rcBuildRegionsMonotone</a> (<a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *ctx, <a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a> &amp;chf, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int borderSize, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int minRegionArea, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int mergeRegionArea)</td></tr>
<tr class="separator:ae20320dae183d2e42addb42cced9cc8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a51a79ddfd8787740ca1b62359c5874"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a4a51a79ddfd8787740ca1b62359c5874">rcSetCon</a> (<a class="el" href="../../de/dce/structrc_compact_span.html">rcCompactSpan</a> &amp;s, int dir, int i)</td></tr>
<tr class="separator:a4a51a79ddfd8787740ca1b62359c5874"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a862229e50c96b6b157b0ad7eac980b3c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a> (<a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/dce/structrc_compact_span.html">rcCompactSpan</a> &amp;s, int dir)</td></tr>
<tr class="separator:a862229e50c96b6b157b0ad7eac980b3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08323ca2f8069b8c7291f8d26ba7fbb8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a08323ca2f8069b8c7291f8d26ba7fbb8">rcGetDirOffsetX</a> (int dir)</td></tr>
<tr class="separator:a08323ca2f8069b8c7291f8d26ba7fbb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2dfeacce04b6d055723627b61515aa0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#ab2dfeacce04b6d055723627b61515aa0">rcGetDirOffsetY</a> (int dir)</td></tr>
<tr class="separator:ab2dfeacce04b6d055723627b61515aa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03790db3c3b88013638325250ad88dca"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a03790db3c3b88013638325250ad88dca">rcGetDirForOffset</a> (int x, int y)</td></tr>
<tr class="separator:a03790db3c3b88013638325250ad88dca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Layer, Contour, Polymesh, and Detail Mesh Functions</div></td></tr>
<tr><td colspan="2"><div class="groupText"><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d3/d37/structrc_heightfield_layer.html">rcHeightfieldLayer</a>, <a class="el" href="../../db/d9f/structrc_contour_set.html">rcContourSet</a>, <a class="el" href="../../df/d75/structrc_poly_mesh.html">rcPolyMesh</a>, <a class="el" href="../../d6/d70/structrc_poly_mesh_detail.html">rcPolyMeshDetail</a> </dd></dl>
</div></td></tr>
<tr class="memitem:acc58a20e570a6b536967015655f06dba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#acc58a20e570a6b536967015655f06dba">rcBuildHeightfieldLayers</a> (<a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *ctx, <a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a> &amp;chf, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int borderSize, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int walkableHeight, <a class="el" href="../../dc/d3c/structrc_heightfield_layer_set.html">rcHeightfieldLayerSet</a> &amp;lset)</td></tr>
<tr class="separator:acc58a20e570a6b536967015655f06dba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7777534c5fe3d5fec0ac3f05eccaeb0b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a7777534c5fe3d5fec0ac3f05eccaeb0b">rcBuildContours</a> (<a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *ctx, <a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a> &amp;chf, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float maxError, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int maxEdgeLen, <a class="el" href="../../db/d9f/structrc_contour_set.html">rcContourSet</a> &amp;cset, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int buildFlags=<a class="el" href="../../de/d78/_recast_8h.html#a63345b5052e97366027aa92b54c7786fa895b8adb44c79179f5e22f8f65abe5ed">RC_CONTOUR_TESS_WALL_EDGES</a>)</td></tr>
<tr class="separator:a7777534c5fe3d5fec0ac3f05eccaeb0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ccf68fa67b52296071764bddf19dd9f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a6ccf68fa67b52296071764bddf19dd9f">rcBuildPolyMesh</a> (<a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *ctx, <a class="el" href="../../db/d9f/structrc_contour_set.html">rcContourSet</a> &amp;cset, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int nvp, <a class="el" href="../../df/d75/structrc_poly_mesh.html">rcPolyMesh</a> &amp;mesh)</td></tr>
<tr class="separator:a6ccf68fa67b52296071764bddf19dd9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa28c3eb627ca7d96015c7978ff0eb8f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#aa28c3eb627ca7d96015c7978ff0eb8f7">rcMergePolyMeshes</a> (<a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *ctx, <a class="el" href="../../df/d75/structrc_poly_mesh.html">rcPolyMesh</a> **meshes, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int nmeshes, <a class="el" href="../../df/d75/structrc_poly_mesh.html">rcPolyMesh</a> &amp;mesh)</td></tr>
<tr class="separator:aa28c3eb627ca7d96015c7978ff0eb8f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdf6b580a66cc9d47f96713dfab81e62"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#abdf6b580a66cc9d47f96713dfab81e62">rcBuildPolyMeshDetail</a> (<a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *ctx, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../df/d75/structrc_poly_mesh.html">rcPolyMesh</a> &amp;mesh, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a> &amp;chf, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float sampleDist, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float sampleMaxError, <a class="el" href="../../d6/d70/structrc_poly_mesh_detail.html">rcPolyMeshDetail</a> &amp;dmesh)</td></tr>
<tr class="separator:abdf6b580a66cc9d47f96713dfab81e62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add16ae360ef930c3ba8c4839e3065d40"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#add16ae360ef930c3ba8c4839e3065d40">rcCopyPolyMesh</a> (<a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *ctx, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../df/d75/structrc_poly_mesh.html">rcPolyMesh</a> &amp;src, <a class="el" href="../../df/d75/structrc_poly_mesh.html">rcPolyMesh</a> &amp;dst)</td></tr>
<tr class="separator:add16ae360ef930c3ba8c4839e3065d40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ef022fcf6dabdb0437b979304c0defe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a6ef022fcf6dabdb0437b979304c0defe">rcMergePolyMeshDetails</a> (<a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *ctx, <a class="el" href="../../d6/d70/structrc_poly_mesh_detail.html">rcPolyMeshDetail</a> **meshes, <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int nmeshes, <a class="el" href="../../d6/d70/structrc_poly_mesh_detail.html">rcPolyMeshDetail</a> &amp;mesh)</td></tr>
<tr class="separator:a6ef022fcf6dabdb0437b979304c0defe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac784d579fcb90e51ba0ea98fd529e5ed"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#ac784d579fcb90e51ba0ea98fd529e5ed">RC_PI</a> = 3.14159265<a class="el" href="../../d5/dfc/stack__direction_8c.html#a163af97e64bb0d7abc2c0b18e6210367">f</a></td></tr>
<tr class="memdesc:ac784d579fcb90e51ba0ea98fd529e5ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">The value of PI used by Recast.  <a href="../../de/d78/_recast_8h.html#ac784d579fcb90e51ba0ea98fd529e5ed">More...</a><br /></td></tr>
<tr class="separator:ac784d579fcb90e51ba0ea98fd529e5ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70b5ff22f9acea41e961ee7ea4f7300f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a70b5ff22f9acea41e961ee7ea4f7300f">RC_SPAN_HEIGHT_BITS</a> = 16</td></tr>
<tr class="memdesc:a70b5ff22f9acea41e961ee7ea4f7300f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the number of bits allocated to <a class="el" href="../../dc/d1d/structrc_span.html#aba70c34dc95c49c4b3142b7d9ca9d359" title="The lower limit of the span. [Limit: &lt; smax].">rcSpan::smin</a> and <a class="el" href="../../dc/d1d/structrc_span.html#a6bca504828087023719794cce9a5f0ab" title="The upper limit of the span. [Limit: &lt;= RC_SPAN_MAX_HEIGHT].">rcSpan::smax</a>.  <a href="../../de/d78/_recast_8h.html#a70b5ff22f9acea41e961ee7ea4f7300f">More...</a><br /></td></tr>
<tr class="separator:a70b5ff22f9acea41e961ee7ea4f7300f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29fe08410353b3b0dfdf777303750b43"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a29fe08410353b3b0dfdf777303750b43">RC_SPAN_MAX_HEIGHT</a> = (1 &lt;&lt; <a class="el" href="../../de/d78/_recast_8h.html#a70b5ff22f9acea41e961ee7ea4f7300f">RC_SPAN_HEIGHT_BITS</a>) - 1</td></tr>
<tr class="memdesc:a29fe08410353b3b0dfdf777303750b43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the maximum value for <a class="el" href="../../dc/d1d/structrc_span.html#aba70c34dc95c49c4b3142b7d9ca9d359" title="The lower limit of the span. [Limit: &lt; smax].">rcSpan::smin</a> and <a class="el" href="../../dc/d1d/structrc_span.html#a6bca504828087023719794cce9a5f0ab" title="The upper limit of the span. [Limit: &lt;= RC_SPAN_MAX_HEIGHT].">rcSpan::smax</a>.  <a href="../../de/d78/_recast_8h.html#a29fe08410353b3b0dfdf777303750b43">More...</a><br /></td></tr>
<tr class="separator:a29fe08410353b3b0dfdf777303750b43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55acc4ef20d0b0507e2c6fee696ecf5e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a55acc4ef20d0b0507e2c6fee696ecf5e">RC_SPANS_PER_POOL</a> = 2048</td></tr>
<tr class="separator:a55acc4ef20d0b0507e2c6fee696ecf5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac47ca685874fce67f50bd580ef1e0497"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#ac47ca685874fce67f50bd580ef1e0497">RC_BORDER_REG</a> = 0x8000</td></tr>
<tr class="separator:ac47ca685874fce67f50bd580ef1e0497"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf6ad8971b152bddbd9c1b1e1e256cc3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#abf6ad8971b152bddbd9c1b1e1e256cc3">RC_MULTIPLE_REGS</a> = 0</td></tr>
<tr class="separator:abf6ad8971b152bddbd9c1b1e1e256cc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b57de86c98abbad39cce7df7c0aa1f8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a8b57de86c98abbad39cce7df7c0aa1f8">RC_BORDER_VERTEX</a> = 0x10000</td></tr>
<tr class="separator:a8b57de86c98abbad39cce7df7c0aa1f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55bb146cbd1c0ec0e06ca8e90dd5b7bc"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a55bb146cbd1c0ec0e06ca8e90dd5b7bc">RC_AREA_BORDER</a> = 0x20000</td></tr>
<tr class="separator:a55bb146cbd1c0ec0e06ca8e90dd5b7bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86c6c9df2df0402a9d026fb9603fb02b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a86c6c9df2df0402a9d026fb9603fb02b">RC_CONTOUR_REG_MASK</a> = 0xffff</td></tr>
<tr class="separator:a86c6c9df2df0402a9d026fb9603fb02b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66e1b0e59a450182b5551eb12e68fcfe"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a66e1b0e59a450182b5551eb12e68fcfe">RC_MESH_NULL_IDX</a> = 0xffff</td></tr>
<tr class="separator:a66e1b0e59a450182b5551eb12e68fcfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5105dbfb2d2bf8aa69122db502d0e39e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a5105dbfb2d2bf8aa69122db502d0e39e">RC_NULL_AREA</a> = 0</td></tr>
<tr class="separator:a5105dbfb2d2bf8aa69122db502d0e39e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55c878bf81a2811829c8c5e491be41cb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a55c878bf81a2811829c8c5e491be41cb">RC_WALKABLE_AREA</a> = 63</td></tr>
<tr class="separator:a55c878bf81a2811829c8c5e491be41cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64354aff947c2d8040e39bb4ceaf1a9f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d78/_recast_8h.html#a64354aff947c2d8040e39bb4ceaf1a9f">RC_NOT_CONNECTED</a> = 0x3f</td></tr>
<tr class="separator:a64354aff947c2d8040e39bb4ceaf1a9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a63345b5052e97366027aa92b54c7786f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63345b5052e97366027aa92b54c7786f">&#9670;&nbsp;</a></span>rcBuildContoursFlags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../de/d78/_recast_8h.html#a63345b5052e97366027aa92b54c7786f">rcBuildContoursFlags</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Contour build flags. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/d78/_recast_8h.html#a7777534c5fe3d5fec0ac3f05eccaeb0b">rcBuildContours</a> </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a63345b5052e97366027aa92b54c7786fa895b8adb44c79179f5e22f8f65abe5ed"></a>RC_CONTOUR_TESS_WALL_EDGES&#160;</td><td class="fielddoc"><p>Tessellate solid (impassable) edges during contour simplification. </p>
</td></tr>
<tr><td class="fieldname"><a id="a63345b5052e97366027aa92b54c7786faf433dd3fd4cf358173e454a145233810"></a>RC_CONTOUR_TESS_AREA_EDGES&#160;</td><td class="fielddoc"><p>Tessellate edges between areas during contour simplification. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00564">564</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;{</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a63345b5052e97366027aa92b54c7786fa895b8adb44c79179f5e22f8f65abe5ed">RC_CONTOUR_TESS_WALL_EDGES</a> = 0x01,  </div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a63345b5052e97366027aa92b54c7786faf433dd3fd4cf358173e454a145233810">RC_CONTOUR_TESS_AREA_EDGES</a> = 0x02,  </div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;};</div>
<div class="ttc" id="a_recast_8h_html_a63345b5052e97366027aa92b54c7786fa895b8adb44c79179f5e22f8f65abe5ed"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a63345b5052e97366027aa92b54c7786fa895b8adb44c79179f5e22f8f65abe5ed">RC_CONTOUR_TESS_WALL_EDGES</a></div><div class="ttdeci">@ RC_CONTOUR_TESS_WALL_EDGES</div><div class="ttdoc">Tessellate solid (impassable) edges during contour simplification.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00566">Recast.h:566</a></div></div>
<div class="ttc" id="a_recast_8h_html_a63345b5052e97366027aa92b54c7786faf433dd3fd4cf358173e454a145233810"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a63345b5052e97366027aa92b54c7786faf433dd3fd4cf358173e454a145233810">RC_CONTOUR_TESS_AREA_EDGES</a></div><div class="ttdeci">@ RC_CONTOUR_TESS_AREA_EDGES</div><div class="ttdoc">Tessellate edges between areas during contour simplification.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00567">Recast.h:567</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a82cf824a1948a8442785a7ea184f410b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82cf824a1948a8442785a7ea184f410b">&#9670;&nbsp;</a></span>rcLogCategory</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410b">rcLogCategory</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Recast log categories. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../da/d07/classrc_context.html">rcContext</a> </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a82cf824a1948a8442785a7ea184f410ba4489590461db6062a1d83986297a1bcd"></a>RC_LOG_PROGRESS&#160;</td><td class="fielddoc"><p>A progress log entry. </p>
</td></tr>
<tr><td class="fieldname"><a id="a82cf824a1948a8442785a7ea184f410ba05dd323a1feaf0c125be248057cc40a5"></a>RC_LOG_WARNING&#160;</td><td class="fielddoc"><p>A warning log entry. </p>
</td></tr>
<tr><td class="fieldname"><a id="a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9"></a>RC_LOG_ERROR&#160;</td><td class="fielddoc"><p>An error log entry. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00027">27</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;{</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba4489590461db6062a1d83986297a1bcd">RC_LOG_PROGRESS</a> = 1,    </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba05dd323a1feaf0c125be248057cc40a5">RC_LOG_WARNING</a>,         </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>,           </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;};</div>
<div class="ttc" id="a_recast_8h_html_a82cf824a1948a8442785a7ea184f410ba05dd323a1feaf0c125be248057cc40a5"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba05dd323a1feaf0c125be248057cc40a5">RC_LOG_WARNING</a></div><div class="ttdeci">@ RC_LOG_WARNING</div><div class="ttdoc">A warning log entry.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00030">Recast.h:30</a></div></div>
<div class="ttc" id="a_recast_8h_html_a82cf824a1948a8442785a7ea184f410ba4489590461db6062a1d83986297a1bcd"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba4489590461db6062a1d83986297a1bcd">RC_LOG_PROGRESS</a></div><div class="ttdeci">@ RC_LOG_PROGRESS</div><div class="ttdoc">A progress log entry.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00029">Recast.h:29</a></div></div>
<div class="ttc" id="a_recast_8h_html_a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a></div><div class="ttdeci">@ RC_LOG_ERROR</div><div class="ttdoc">An error log entry.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00031">Recast.h:31</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0d44e82cf0c9a0df344aaff8654ea18d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d44e82cf0c9a0df344aaff8654ea18d">&#9670;&nbsp;</a></span>rcTimerLabel</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18d">rcTimerLabel</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Recast performance timer categories. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../da/d07/classrc_context.html">rcContext</a> </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a0d44e82cf0c9a0df344aaff8654ea18dade020216459ee686aac7c19d7ee2729a"></a>RC_TIMER_TOTAL&#160;</td><td class="fielddoc"><p>The user defined total time of the build. </p>
</td></tr>
<tr><td class="fieldname"><a id="a0d44e82cf0c9a0df344aaff8654ea18da92968e4f7d7e891393de01a5554f4b8c"></a>RC_TIMER_TEMP&#160;</td><td class="fielddoc"><p>A user defined build time. </p>
</td></tr>
<tr><td class="fieldname"><a id="a0d44e82cf0c9a0df344aaff8654ea18da3fa1b3fe84fd4f3624887a1fa38944e6"></a>RC_TIMER_RASTERIZE_TRIANGLES&#160;</td><td class="fielddoc"><p>The time to rasterize the triangles. (See: <a class="el" href="../../de/d78/_recast_8h.html#ab7c6fdfd6d6d22da3b1e9229e745454d">rcRasterizeTriangle</a>) </p>
</td></tr>
<tr><td class="fieldname"><a id="a0d44e82cf0c9a0df344aaff8654ea18da303c06e25bf4609eb21ba3b668f10bba"></a>RC_TIMER_BUILD_COMPACTHEIGHTFIELD&#160;</td><td class="fielddoc"><p>The time to build the compact heightfield. (See: <a class="el" href="../../de/d78/_recast_8h.html#a9833a6aa767f7f8ceecc8c929c56ca83">rcBuildCompactHeightfield</a>) </p>
</td></tr>
<tr><td class="fieldname"><a id="a0d44e82cf0c9a0df344aaff8654ea18da5bfad3b856c9ff5f3d94231adc363437"></a>RC_TIMER_BUILD_CONTOURS&#160;</td><td class="fielddoc"><p>The total time to build the contours. (See: <a class="el" href="../../de/d78/_recast_8h.html#a7777534c5fe3d5fec0ac3f05eccaeb0b">rcBuildContours</a>) </p>
</td></tr>
<tr><td class="fieldname"><a id="a0d44e82cf0c9a0df344aaff8654ea18da7780e2f5b2726d76169f8c0a38cfc12b"></a>RC_TIMER_BUILD_CONTOURS_TRACE&#160;</td><td class="fielddoc"><p>The time to trace the boundaries of the contours. (See: <a class="el" href="../../de/d78/_recast_8h.html#a7777534c5fe3d5fec0ac3f05eccaeb0b">rcBuildContours</a>) </p>
</td></tr>
<tr><td class="fieldname"><a id="a0d44e82cf0c9a0df344aaff8654ea18daac93d9ba18d8dedee3b584ef9131fdba"></a>RC_TIMER_BUILD_CONTOURS_SIMPLIFY&#160;</td><td class="fielddoc"><p>The time to simplify the contours. (See: <a class="el" href="../../de/d78/_recast_8h.html#a7777534c5fe3d5fec0ac3f05eccaeb0b">rcBuildContours</a>) </p>
</td></tr>
<tr><td class="fieldname"><a id="a0d44e82cf0c9a0df344aaff8654ea18da438af561b3f22c44dd9a4672ab7efa09"></a>RC_TIMER_FILTER_BORDER&#160;</td><td class="fielddoc"><p>The time to filter ledge spans. (See: <a class="el" href="../../de/d78/_recast_8h.html#a655160ad0aa9425305d0bdb69ede3f37">rcFilterLedgeSpans</a>) </p>
</td></tr>
<tr><td class="fieldname"><a id="a0d44e82cf0c9a0df344aaff8654ea18dae2cf8a1eed8d008417af66448900d120"></a>RC_TIMER_FILTER_WALKABLE&#160;</td><td class="fielddoc"><p>The time to filter low height spans. (See: <a class="el" href="../../de/d78/_recast_8h.html#a3a26d036fcf4c83438c31a2f01ec4d83">rcFilterWalkableLowHeightSpans</a>) </p>
</td></tr>
<tr><td class="fieldname"><a id="a0d44e82cf0c9a0df344aaff8654ea18daff9bd2eec4ca8457b601f3d8186824bf"></a>RC_TIMER_MEDIAN_AREA&#160;</td><td class="fielddoc"><p>The time to apply the median filter. (See: <a class="el" href="../../de/d78/_recast_8h.html#a793672ade7833e916dd3c0e7a5bd6cc5">rcMedianFilterWalkableArea</a>) </p>
</td></tr>
<tr><td class="fieldname"><a id="a0d44e82cf0c9a0df344aaff8654ea18dafd77d72ef738a5bb20b2bfc2753ed3c2"></a>RC_TIMER_FILTER_LOW_OBSTACLES&#160;</td><td class="fielddoc"><p>The time to filter low obstacles. (See: <a class="el" href="../../de/d78/_recast_8h.html#a67689871aaa190bc6489bae1b04301a8">rcFilterLowHangingWalkableObstacles</a>) </p>
</td></tr>
<tr><td class="fieldname"><a id="a0d44e82cf0c9a0df344aaff8654ea18da2db68b2ee0e88bd48f687d8912be2b87"></a>RC_TIMER_BUILD_POLYMESH&#160;</td><td class="fielddoc"><p>The time to build the polygon mesh. (See: <a class="el" href="../../de/d78/_recast_8h.html#a6ccf68fa67b52296071764bddf19dd9f">rcBuildPolyMesh</a>) </p>
</td></tr>
<tr><td class="fieldname"><a id="a0d44e82cf0c9a0df344aaff8654ea18da20a8bc8f7341a3ea1af2b7581b67de6c"></a>RC_TIMER_MERGE_POLYMESH&#160;</td><td class="fielddoc"><p>The time to merge polygon meshes. (See: <a class="el" href="../../de/d78/_recast_8h.html#aa28c3eb627ca7d96015c7978ff0eb8f7">rcMergePolyMeshes</a>) </p>
</td></tr>
<tr><td class="fieldname"><a id="a0d44e82cf0c9a0df344aaff8654ea18dad109da926d20816d0fd7b16001b6e463"></a>RC_TIMER_ERODE_AREA&#160;</td><td class="fielddoc"><p>The time to erode the walkable area. (See: <a class="el" href="../../de/d78/_recast_8h.html#a466672bb756c401fbf6dd1e99c920ebb">rcErodeWalkableArea</a>) </p>
</td></tr>
<tr><td class="fieldname"><a id="a0d44e82cf0c9a0df344aaff8654ea18da3ba77f8aaeff3f0ea1c0703144701789"></a>RC_TIMER_MARK_BOX_AREA&#160;</td><td class="fielddoc"><p>The time to mark a box area. (See: <a class="el" href="../../de/d78/_recast_8h.html#a527b4c24537e47bcc472f28965c7b7bf">rcMarkBoxArea</a>) </p>
</td></tr>
<tr><td class="fieldname"><a id="a0d44e82cf0c9a0df344aaff8654ea18daade33c6e1f1b1037e63546ca863d9690"></a>RC_TIMER_MARK_CYLINDER_AREA&#160;</td><td class="fielddoc"><p>The time to mark a cylinder area. (See: <a class="el" href="../../de/d78/_recast_8h.html#ac2de1bc06b5804dd4304a90f39829948">rcMarkCylinderArea</a>) </p>
</td></tr>
<tr><td class="fieldname"><a id="a0d44e82cf0c9a0df344aaff8654ea18dac76c8eea599c3cf1c7f76a7a90a245b1"></a>RC_TIMER_MARK_CONVEXPOLY_AREA&#160;</td><td class="fielddoc"><p>The time to mark a convex polygon area. (See: <a class="el" href="../../de/d78/_recast_8h.html#a1e8f3c9c2cb664fb2874d01448a1f223">rcMarkConvexPolyArea</a>) </p>
</td></tr>
<tr><td class="fieldname"><a id="a0d44e82cf0c9a0df344aaff8654ea18da2d9eae7de0473e03695f147c3b0ed4fe"></a>RC_TIMER_BUILD_DISTANCEFIELD&#160;</td><td class="fielddoc"><p>The total time to build the distance field. (See: <a class="el" href="../../de/d78/_recast_8h.html#a255c830cc0d30fa0229a05033242e77d">rcBuildDistanceField</a>) </p>
</td></tr>
<tr><td class="fieldname"><a id="a0d44e82cf0c9a0df344aaff8654ea18da95ae391397574299fa86757572dadf78"></a>RC_TIMER_BUILD_DISTANCEFIELD_DIST&#160;</td><td class="fielddoc"><p>The time to build the distances of the distance field. (See: <a class="el" href="../../de/d78/_recast_8h.html#a255c830cc0d30fa0229a05033242e77d">rcBuildDistanceField</a>) </p>
</td></tr>
<tr><td class="fieldname"><a id="a0d44e82cf0c9a0df344aaff8654ea18da9452d6a2c2be5c1bb92a20440a42509c"></a>RC_TIMER_BUILD_DISTANCEFIELD_BLUR&#160;</td><td class="fielddoc"><p>The time to blur the distance field. (See: <a class="el" href="../../de/d78/_recast_8h.html#a255c830cc0d30fa0229a05033242e77d">rcBuildDistanceField</a>) </p>
</td></tr>
<tr><td class="fieldname"><a id="a0d44e82cf0c9a0df344aaff8654ea18daeac9f250cd8a04c3d14f8fa548d4b31f"></a>RC_TIMER_BUILD_REGIONS&#160;</td><td class="fielddoc"><p>The total time to build the regions. (See: <a class="el" href="../../de/d78/_recast_8h.html#abd57817e13cb07edb8168d8d2b1be5a5">rcBuildRegions</a>, <a class="el" href="../../de/d78/_recast_8h.html#ae20320dae183d2e42addb42cced9cc8a">rcBuildRegionsMonotone</a>) </p>
</td></tr>
<tr><td class="fieldname"><a id="a0d44e82cf0c9a0df344aaff8654ea18da7c9d166e9be3c76d444908348fccde9c"></a>RC_TIMER_BUILD_REGIONS_WATERSHED&#160;</td><td class="fielddoc"><p>The total time to apply the watershed algorithm. (See: <a class="el" href="../../de/d78/_recast_8h.html#abd57817e13cb07edb8168d8d2b1be5a5">rcBuildRegions</a>) </p>
</td></tr>
<tr><td class="fieldname"><a id="a0d44e82cf0c9a0df344aaff8654ea18da92d9f71f85b57488a09a3d6d0cec04d2"></a>RC_TIMER_BUILD_REGIONS_EXPAND&#160;</td><td class="fielddoc"><p>The time to expand regions while applying the watershed algorithm. (See: <a class="el" href="../../de/d78/_recast_8h.html#abd57817e13cb07edb8168d8d2b1be5a5">rcBuildRegions</a>) </p>
</td></tr>
<tr><td class="fieldname"><a id="a0d44e82cf0c9a0df344aaff8654ea18da51802900abb3935de5b7dbc2423e2d62"></a>RC_TIMER_BUILD_REGIONS_FLOOD&#160;</td><td class="fielddoc"><p>The time to flood regions while applying the watershed algorithm. (See: <a class="el" href="../../de/d78/_recast_8h.html#abd57817e13cb07edb8168d8d2b1be5a5">rcBuildRegions</a>) </p>
</td></tr>
<tr><td class="fieldname"><a id="a0d44e82cf0c9a0df344aaff8654ea18da14403d6ce136beb776b9004e73dde436"></a>RC_TIMER_BUILD_REGIONS_FILTER&#160;</td><td class="fielddoc"><p>The time to filter out small regions. (See: <a class="el" href="../../de/d78/_recast_8h.html#abd57817e13cb07edb8168d8d2b1be5a5">rcBuildRegions</a>, <a class="el" href="../../de/d78/_recast_8h.html#ae20320dae183d2e42addb42cced9cc8a">rcBuildRegionsMonotone</a>) </p>
</td></tr>
<tr><td class="fieldname"><a id="a0d44e82cf0c9a0df344aaff8654ea18daa13252ec42af278ed8b511ef2573efba"></a>RC_TIMER_BUILD_LAYERS&#160;</td><td class="fielddoc"><p>The time to build heightfield layers. (See: <a class="el" href="../../de/d78/_recast_8h.html#acc58a20e570a6b536967015655f06dba">rcBuildHeightfieldLayers</a>) </p>
</td></tr>
<tr><td class="fieldname"><a id="a0d44e82cf0c9a0df344aaff8654ea18da154109a5c78860b81ce9370a6a8debfd"></a>RC_TIMER_BUILD_POLYMESHDETAIL&#160;</td><td class="fielddoc"><p>The time to build the polygon mesh detail. (See: <a class="el" href="../../de/d78/_recast_8h.html#abdf6b580a66cc9d47f96713dfab81e62">rcBuildPolyMeshDetail</a>) </p>
</td></tr>
<tr><td class="fieldname"><a id="a0d44e82cf0c9a0df344aaff8654ea18da24182cce77d41ba2d42db93b65dc7535"></a>RC_TIMER_MERGE_POLYMESHDETAIL&#160;</td><td class="fielddoc"><p>The time to merge polygon mesh details. (See: <a class="el" href="../../de/d78/_recast_8h.html#a6ef022fcf6dabdb0437b979304c0defe">rcMergePolyMeshDetails</a>) </p>
</td></tr>
<tr><td class="fieldname"><a id="a0d44e82cf0c9a0df344aaff8654ea18da3597bcc0a74259286ba7e06ec236b405"></a>RC_MAX_TIMERS&#160;</td><td class="fielddoc"><p>The maximum number of timers. (Used for iterating timers.) </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00036">36</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;{</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18dade020216459ee686aac7c19d7ee2729a">RC_TIMER_TOTAL</a>,</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da92968e4f7d7e891393de01a5554f4b8c">RC_TIMER_TEMP</a>,</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da3fa1b3fe84fd4f3624887a1fa38944e6">RC_TIMER_RASTERIZE_TRIANGLES</a>,</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da303c06e25bf4609eb21ba3b668f10bba">RC_TIMER_BUILD_COMPACTHEIGHTFIELD</a>,</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da5bfad3b856c9ff5f3d94231adc363437">RC_TIMER_BUILD_CONTOURS</a>,</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da7780e2f5b2726d76169f8c0a38cfc12b">RC_TIMER_BUILD_CONTOURS_TRACE</a>,</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18daac93d9ba18d8dedee3b584ef9131fdba">RC_TIMER_BUILD_CONTOURS_SIMPLIFY</a>,</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da438af561b3f22c44dd9a4672ab7efa09">RC_TIMER_FILTER_BORDER</a>,</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18dae2cf8a1eed8d008417af66448900d120">RC_TIMER_FILTER_WALKABLE</a>,</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18daff9bd2eec4ca8457b601f3d8186824bf">RC_TIMER_MEDIAN_AREA</a>,</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18dafd77d72ef738a5bb20b2bfc2753ed3c2">RC_TIMER_FILTER_LOW_OBSTACLES</a>,</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da2db68b2ee0e88bd48f687d8912be2b87">RC_TIMER_BUILD_POLYMESH</a>,</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da20a8bc8f7341a3ea1af2b7581b67de6c">RC_TIMER_MERGE_POLYMESH</a>,</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18dad109da926d20816d0fd7b16001b6e463">RC_TIMER_ERODE_AREA</a>,</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da3ba77f8aaeff3f0ea1c0703144701789">RC_TIMER_MARK_BOX_AREA</a>,</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18daade33c6e1f1b1037e63546ca863d9690">RC_TIMER_MARK_CYLINDER_AREA</a>,</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18dac76c8eea599c3cf1c7f76a7a90a245b1">RC_TIMER_MARK_CONVEXPOLY_AREA</a>,</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da2d9eae7de0473e03695f147c3b0ed4fe">RC_TIMER_BUILD_DISTANCEFIELD</a>,</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da95ae391397574299fa86757572dadf78">RC_TIMER_BUILD_DISTANCEFIELD_DIST</a>,</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da9452d6a2c2be5c1bb92a20440a42509c">RC_TIMER_BUILD_DISTANCEFIELD_BLUR</a>,</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18daeac9f250cd8a04c3d14f8fa548d4b31f">RC_TIMER_BUILD_REGIONS</a>,</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da7c9d166e9be3c76d444908348fccde9c">RC_TIMER_BUILD_REGIONS_WATERSHED</a>,</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da92d9f71f85b57488a09a3d6d0cec04d2">RC_TIMER_BUILD_REGIONS_EXPAND</a>,</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da51802900abb3935de5b7dbc2423e2d62">RC_TIMER_BUILD_REGIONS_FLOOD</a>,</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da14403d6ce136beb776b9004e73dde436">RC_TIMER_BUILD_REGIONS_FILTER</a>,</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18daa13252ec42af278ed8b511ef2573efba">RC_TIMER_BUILD_LAYERS</a>, </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da154109a5c78860b81ce9370a6a8debfd">RC_TIMER_BUILD_POLYMESHDETAIL</a>,</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da24182cce77d41ba2d42db93b65dc7535">RC_TIMER_MERGE_POLYMESHDETAIL</a>,</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da3597bcc0a74259286ba7e06ec236b405">RC_MAX_TIMERS</a></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;};</div>
<div class="ttc" id="a_recast_8h_html_a0d44e82cf0c9a0df344aaff8654ea18da14403d6ce136beb776b9004e73dde436"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da14403d6ce136beb776b9004e73dde436">RC_TIMER_BUILD_REGIONS_FILTER</a></div><div class="ttdeci">@ RC_TIMER_BUILD_REGIONS_FILTER</div><div class="ttdoc">The time to filter out small regions. (See: rcBuildRegions, rcBuildRegionsMonotone)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00087">Recast.h:87</a></div></div>
<div class="ttc" id="a_recast_8h_html_a0d44e82cf0c9a0df344aaff8654ea18da154109a5c78860b81ce9370a6a8debfd"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da154109a5c78860b81ce9370a6a8debfd">RC_TIMER_BUILD_POLYMESHDETAIL</a></div><div class="ttdeci">@ RC_TIMER_BUILD_POLYMESHDETAIL</div><div class="ttdoc">The time to build the polygon mesh detail. (See: rcBuildPolyMeshDetail)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00091">Recast.h:91</a></div></div>
<div class="ttc" id="a_recast_8h_html_a0d44e82cf0c9a0df344aaff8654ea18da20a8bc8f7341a3ea1af2b7581b67de6c"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da20a8bc8f7341a3ea1af2b7581b67de6c">RC_TIMER_MERGE_POLYMESH</a></div><div class="ttdeci">@ RC_TIMER_MERGE_POLYMESH</div><div class="ttdoc">The time to merge polygon meshes. (See: rcMergePolyMeshes)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00063">Recast.h:63</a></div></div>
<div class="ttc" id="a_recast_8h_html_a0d44e82cf0c9a0df344aaff8654ea18da24182cce77d41ba2d42db93b65dc7535"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da24182cce77d41ba2d42db93b65dc7535">RC_TIMER_MERGE_POLYMESHDETAIL</a></div><div class="ttdeci">@ RC_TIMER_MERGE_POLYMESHDETAIL</div><div class="ttdoc">The time to merge polygon mesh details. (See: rcMergePolyMeshDetails)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00093">Recast.h:93</a></div></div>
<div class="ttc" id="a_recast_8h_html_a0d44e82cf0c9a0df344aaff8654ea18da2d9eae7de0473e03695f147c3b0ed4fe"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da2d9eae7de0473e03695f147c3b0ed4fe">RC_TIMER_BUILD_DISTANCEFIELD</a></div><div class="ttdeci">@ RC_TIMER_BUILD_DISTANCEFIELD</div><div class="ttdoc">The total time to build the distance field. (See: rcBuildDistanceField)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00073">Recast.h:73</a></div></div>
<div class="ttc" id="a_recast_8h_html_a0d44e82cf0c9a0df344aaff8654ea18da2db68b2ee0e88bd48f687d8912be2b87"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da2db68b2ee0e88bd48f687d8912be2b87">RC_TIMER_BUILD_POLYMESH</a></div><div class="ttdeci">@ RC_TIMER_BUILD_POLYMESH</div><div class="ttdoc">The time to build the polygon mesh. (See: rcBuildPolyMesh)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00061">Recast.h:61</a></div></div>
<div class="ttc" id="a_recast_8h_html_a0d44e82cf0c9a0df344aaff8654ea18da303c06e25bf4609eb21ba3b668f10bba"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da303c06e25bf4609eb21ba3b668f10bba">RC_TIMER_BUILD_COMPACTHEIGHTFIELD</a></div><div class="ttdeci">@ RC_TIMER_BUILD_COMPACTHEIGHTFIELD</div><div class="ttdoc">The time to build the compact heightfield. (See: rcBuildCompactHeightfield)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00045">Recast.h:45</a></div></div>
<div class="ttc" id="a_recast_8h_html_a0d44e82cf0c9a0df344aaff8654ea18da3597bcc0a74259286ba7e06ec236b405"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da3597bcc0a74259286ba7e06ec236b405">RC_MAX_TIMERS</a></div><div class="ttdeci">@ RC_MAX_TIMERS</div><div class="ttdoc">The maximum number of timers. (Used for iterating timers.)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00096">Recast.h:95</a></div></div>
<div class="ttc" id="a_recast_8h_html_a0d44e82cf0c9a0df344aaff8654ea18da3ba77f8aaeff3f0ea1c0703144701789"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da3ba77f8aaeff3f0ea1c0703144701789">RC_TIMER_MARK_BOX_AREA</a></div><div class="ttdeci">@ RC_TIMER_MARK_BOX_AREA</div><div class="ttdoc">The time to mark a box area. (See: rcMarkBoxArea)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00067">Recast.h:67</a></div></div>
<div class="ttc" id="a_recast_8h_html_a0d44e82cf0c9a0df344aaff8654ea18da3fa1b3fe84fd4f3624887a1fa38944e6"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da3fa1b3fe84fd4f3624887a1fa38944e6">RC_TIMER_RASTERIZE_TRIANGLES</a></div><div class="ttdeci">@ RC_TIMER_RASTERIZE_TRIANGLES</div><div class="ttdoc">The time to rasterize the triangles. (See: rcRasterizeTriangle)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00043">Recast.h:43</a></div></div>
<div class="ttc" id="a_recast_8h_html_a0d44e82cf0c9a0df344aaff8654ea18da438af561b3f22c44dd9a4672ab7efa09"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da438af561b3f22c44dd9a4672ab7efa09">RC_TIMER_FILTER_BORDER</a></div><div class="ttdeci">@ RC_TIMER_FILTER_BORDER</div><div class="ttdoc">The time to filter ledge spans. (See: rcFilterLedgeSpans)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00053">Recast.h:53</a></div></div>
<div class="ttc" id="a_recast_8h_html_a0d44e82cf0c9a0df344aaff8654ea18da51802900abb3935de5b7dbc2423e2d62"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da51802900abb3935de5b7dbc2423e2d62">RC_TIMER_BUILD_REGIONS_FLOOD</a></div><div class="ttdeci">@ RC_TIMER_BUILD_REGIONS_FLOOD</div><div class="ttdoc">The time to flood regions while applying the watershed algorithm. (See: rcBuildRegions)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00085">Recast.h:85</a></div></div>
<div class="ttc" id="a_recast_8h_html_a0d44e82cf0c9a0df344aaff8654ea18da5bfad3b856c9ff5f3d94231adc363437"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da5bfad3b856c9ff5f3d94231adc363437">RC_TIMER_BUILD_CONTOURS</a></div><div class="ttdeci">@ RC_TIMER_BUILD_CONTOURS</div><div class="ttdoc">The total time to build the contours. (See: rcBuildContours)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00047">Recast.h:47</a></div></div>
<div class="ttc" id="a_recast_8h_html_a0d44e82cf0c9a0df344aaff8654ea18da7780e2f5b2726d76169f8c0a38cfc12b"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da7780e2f5b2726d76169f8c0a38cfc12b">RC_TIMER_BUILD_CONTOURS_TRACE</a></div><div class="ttdeci">@ RC_TIMER_BUILD_CONTOURS_TRACE</div><div class="ttdoc">The time to trace the boundaries of the contours. (See: rcBuildContours)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00049">Recast.h:49</a></div></div>
<div class="ttc" id="a_recast_8h_html_a0d44e82cf0c9a0df344aaff8654ea18da7c9d166e9be3c76d444908348fccde9c"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da7c9d166e9be3c76d444908348fccde9c">RC_TIMER_BUILD_REGIONS_WATERSHED</a></div><div class="ttdeci">@ RC_TIMER_BUILD_REGIONS_WATERSHED</div><div class="ttdoc">The total time to apply the watershed algorithm. (See: rcBuildRegions)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00081">Recast.h:81</a></div></div>
<div class="ttc" id="a_recast_8h_html_a0d44e82cf0c9a0df344aaff8654ea18da92968e4f7d7e891393de01a5554f4b8c"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da92968e4f7d7e891393de01a5554f4b8c">RC_TIMER_TEMP</a></div><div class="ttdeci">@ RC_TIMER_TEMP</div><div class="ttdoc">A user defined build time.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00041">Recast.h:41</a></div></div>
<div class="ttc" id="a_recast_8h_html_a0d44e82cf0c9a0df344aaff8654ea18da92d9f71f85b57488a09a3d6d0cec04d2"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da92d9f71f85b57488a09a3d6d0cec04d2">RC_TIMER_BUILD_REGIONS_EXPAND</a></div><div class="ttdeci">@ RC_TIMER_BUILD_REGIONS_EXPAND</div><div class="ttdoc">The time to expand regions while applying the watershed algorithm. (See: rcBuildRegions)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00083">Recast.h:83</a></div></div>
<div class="ttc" id="a_recast_8h_html_a0d44e82cf0c9a0df344aaff8654ea18da9452d6a2c2be5c1bb92a20440a42509c"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da9452d6a2c2be5c1bb92a20440a42509c">RC_TIMER_BUILD_DISTANCEFIELD_BLUR</a></div><div class="ttdeci">@ RC_TIMER_BUILD_DISTANCEFIELD_BLUR</div><div class="ttdoc">The time to blur the distance field. (See: rcBuildDistanceField)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00077">Recast.h:77</a></div></div>
<div class="ttc" id="a_recast_8h_html_a0d44e82cf0c9a0df344aaff8654ea18da95ae391397574299fa86757572dadf78"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da95ae391397574299fa86757572dadf78">RC_TIMER_BUILD_DISTANCEFIELD_DIST</a></div><div class="ttdeci">@ RC_TIMER_BUILD_DISTANCEFIELD_DIST</div><div class="ttdoc">The time to build the distances of the distance field. (See: rcBuildDistanceField)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00075">Recast.h:75</a></div></div>
<div class="ttc" id="a_recast_8h_html_a0d44e82cf0c9a0df344aaff8654ea18daa13252ec42af278ed8b511ef2573efba"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18daa13252ec42af278ed8b511ef2573efba">RC_TIMER_BUILD_LAYERS</a></div><div class="ttdeci">@ RC_TIMER_BUILD_LAYERS</div><div class="ttdoc">The time to build heightfield layers. (See: rcBuildHeightfieldLayers)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00089">Recast.h:89</a></div></div>
<div class="ttc" id="a_recast_8h_html_a0d44e82cf0c9a0df344aaff8654ea18daac93d9ba18d8dedee3b584ef9131fdba"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18daac93d9ba18d8dedee3b584ef9131fdba">RC_TIMER_BUILD_CONTOURS_SIMPLIFY</a></div><div class="ttdeci">@ RC_TIMER_BUILD_CONTOURS_SIMPLIFY</div><div class="ttdoc">The time to simplify the contours. (See: rcBuildContours)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00051">Recast.h:51</a></div></div>
<div class="ttc" id="a_recast_8h_html_a0d44e82cf0c9a0df344aaff8654ea18daade33c6e1f1b1037e63546ca863d9690"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18daade33c6e1f1b1037e63546ca863d9690">RC_TIMER_MARK_CYLINDER_AREA</a></div><div class="ttdeci">@ RC_TIMER_MARK_CYLINDER_AREA</div><div class="ttdoc">The time to mark a cylinder area. (See: rcMarkCylinderArea)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00069">Recast.h:69</a></div></div>
<div class="ttc" id="a_recast_8h_html_a0d44e82cf0c9a0df344aaff8654ea18dac76c8eea599c3cf1c7f76a7a90a245b1"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18dac76c8eea599c3cf1c7f76a7a90a245b1">RC_TIMER_MARK_CONVEXPOLY_AREA</a></div><div class="ttdeci">@ RC_TIMER_MARK_CONVEXPOLY_AREA</div><div class="ttdoc">The time to mark a convex polygon area. (See: rcMarkConvexPolyArea)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00071">Recast.h:71</a></div></div>
<div class="ttc" id="a_recast_8h_html_a0d44e82cf0c9a0df344aaff8654ea18dad109da926d20816d0fd7b16001b6e463"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18dad109da926d20816d0fd7b16001b6e463">RC_TIMER_ERODE_AREA</a></div><div class="ttdeci">@ RC_TIMER_ERODE_AREA</div><div class="ttdoc">The time to erode the walkable area. (See: rcErodeWalkableArea)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00065">Recast.h:65</a></div></div>
<div class="ttc" id="a_recast_8h_html_a0d44e82cf0c9a0df344aaff8654ea18dade020216459ee686aac7c19d7ee2729a"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18dade020216459ee686aac7c19d7ee2729a">RC_TIMER_TOTAL</a></div><div class="ttdeci">@ RC_TIMER_TOTAL</div><div class="ttdoc">The user defined total time of the build.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00039">Recast.h:39</a></div></div>
<div class="ttc" id="a_recast_8h_html_a0d44e82cf0c9a0df344aaff8654ea18dae2cf8a1eed8d008417af66448900d120"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18dae2cf8a1eed8d008417af66448900d120">RC_TIMER_FILTER_WALKABLE</a></div><div class="ttdeci">@ RC_TIMER_FILTER_WALKABLE</div><div class="ttdoc">The time to filter low height spans. (See: rcFilterWalkableLowHeightSpans)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00055">Recast.h:55</a></div></div>
<div class="ttc" id="a_recast_8h_html_a0d44e82cf0c9a0df344aaff8654ea18daeac9f250cd8a04c3d14f8fa548d4b31f"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18daeac9f250cd8a04c3d14f8fa548d4b31f">RC_TIMER_BUILD_REGIONS</a></div><div class="ttdeci">@ RC_TIMER_BUILD_REGIONS</div><div class="ttdoc">The total time to build the regions. (See: rcBuildRegions, rcBuildRegionsMonotone)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00079">Recast.h:79</a></div></div>
<div class="ttc" id="a_recast_8h_html_a0d44e82cf0c9a0df344aaff8654ea18dafd77d72ef738a5bb20b2bfc2753ed3c2"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18dafd77d72ef738a5bb20b2bfc2753ed3c2">RC_TIMER_FILTER_LOW_OBSTACLES</a></div><div class="ttdeci">@ RC_TIMER_FILTER_LOW_OBSTACLES</div><div class="ttdoc">The time to filter low obstacles. (See: rcFilterLowHangingWalkableObstacles)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00059">Recast.h:59</a></div></div>
<div class="ttc" id="a_recast_8h_html_a0d44e82cf0c9a0df344aaff8654ea18daff9bd2eec4ca8457b601f3d8186824bf"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18daff9bd2eec4ca8457b601f3d8186824bf">RC_TIMER_MEDIAN_AREA</a></div><div class="ttdeci">@ RC_TIMER_MEDIAN_AREA</div><div class="ttdoc">The time to apply the median filter. (See: rcMedianFilterWalkableArea)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00057">Recast.h:57</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="afa1623d0ed253473ef26cd7717f8bf2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa1623d0ed253473ef26cd7717f8bf2f">&#9670;&nbsp;</a></span>rcAbs()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T rcAbs </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the absolute value. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>The value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The absolute value of the specified value. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00623">623</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d4/d71/namespacempq.html#ae78cc6206276c5d8a54a7b181bcd4f8d">a</a> &lt; 0 ? -<a class="code" href="../../d4/d71/namespacempq.html#ae78cc6206276c5d8a54a7b181bcd4f8d">a</a> : <a class="code" href="../../d4/d71/namespacempq.html#ae78cc6206276c5d8a54a7b181bcd4f8d">a</a>; }</div>
<div class="ttc" id="anamespacempq_html_ae78cc6206276c5d8a54a7b181bcd4f8d"><div class="ttname"><a href="../../d4/d71/namespacempq.html#ae78cc6206276c5d8a54a7b181bcd4f8d">mpq.a</a></div><div class="ttdeci">a</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3e/mpq_8py_source.html#l00290">mpq.py:290</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d3e/mpq_8py_source.html#l00290">mpq::a</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d5e/_recast_rasterization_8cpp_source.html#l00085">addSpan()</a>, <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html#l00137">addVertex()</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00415">rcBuildCompactHeightfield()</a>, <a class="el" href="../../d8/d13/_recast_filter_8cpp_source.html#l00082">rcFilterLedgeSpans()</a>, <a class="el" href="../../d8/d13/_recast_filter_8cpp_source.html#l00036">rcFilterLowHangingWalkableObstacles()</a>, and <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00883">seedArrayWithPolyCenter()</a>.</p>

</div>
</div>
<a id="a824788a617f8879acb6d997b363c1fa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a824788a617f8879acb6d997b363c1fa8">&#9670;&nbsp;</a></span>rcAddSpan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> rcAddSpan </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a> &amp;&#160;</td>
          <td class="paramname"><em>hf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> unsigned short&#160;</td>
          <td class="paramname"><em>smin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> unsigned short&#160;</td>
          <td class="paramname"><em>smax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> unsigned char&#160;</td>
          <td class="paramname"><em>area</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>flagMergeThr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds a span to the specified heightfield.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>The build context to use during the operation. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">hf</td><td>An initialized heightfield. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>The width index where the span is to be added. [Limits: 0 &lt;= value &lt; <a class="el" href="../../dd/df7/structrc_heightfield.html#a9dd6e386c167f1537e3c7638f6b9a752" title="The width of the heightfield. (Along the x-axis in cell units.)">rcHeightfield::width</a>] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y</td><td>The height index where the span is to be added. [Limits: 0 &lt;= value &lt; <a class="el" href="../../dd/df7/structrc_heightfield.html#a568ceeea7acb4ddf67dd78ec4fee7672" title="The height of the heightfield. (Along the z-axis in cell units.)">rcHeightfield::height</a>] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">smin</td><td>The minimum height of the span. [Limit: &lt; <code>smax</code>] [Units: vx] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">smax</td><td>The maximum height of the span. [Limit: &lt;= <a class="el" href="../../de/d78/_recast_8h.html#a29fe08410353b3b0dfdf777303750b43" title="Defines the maximum value for rcSpan::smin and rcSpan::smax.">RC_SPAN_MAX_HEIGHT</a>] [Units: vx] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">area</td><td>The area id of the span. [Limit: &lt;= <a class="el" href="../../de/d78/_recast_8h.html#a55c878bf81a2811829c8c5e491be41cb">RC_WALKABLE_AREA</a>) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flagMergeThr</td><td>The merge theshold. [Limit: &gt;= 0] [Units: vx] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the operation completed successfully.</dd></dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<p>The span addition can be set to favor flags. If the span is merged to another span and the new <code>smax</code> is within <code>flagMergeThr</code> units from the existing span, the span flags are merged.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a>, <a class="el" href="../../dc/d1d/structrc_span.html">rcSpan</a>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d5e/_recast_rasterization_8cpp_source.html#l00168">168</a> of file <a class="el" href="../../d2/d5e/_recast_rasterization_8cpp_source.html">RecastRasterization.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;{</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <a class="code" href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a>(ctx);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d5e/_recast_rasterization_8cpp.html#a1dac612ca87588a81d87b4f822062675">addSpan</a>(hf, <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>, <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>, smin, smax, area, flagMergeThr))</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcAddSpan: Out of memory.&quot;</span>);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;}</div>
<div class="ttc" id="a_recast_assert_8h_html_a857ec26f725d5a8d341fedca5a32f649"><div class="ttname"><a href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a></div><div class="ttdeci">#define rcAssert(expression)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db5/_recast_assert_8h_source.html#l00047">RecastAssert.h:47</a></div></div>
<div class="ttc" id="a_recast_rasterization_8cpp_html_a1dac612ca87588a81d87b4f822062675"><div class="ttname"><a href="../../d2/d5e/_recast_rasterization_8cpp.html#a1dac612ca87588a81d87b4f822062675">addSpan</a></div><div class="ttdeci">static bool addSpan(rcHeightfield &amp;hf, const int x, const int y, const unsigned short smin, const unsigned short smax, const unsigned char area, const int flagMergeThr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/_recast_rasterization_8cpp_source.html#l00085">RecastRasterization.cpp:85</a></div></div>
<div class="ttc" id="aclassrc_context_html_ae3cc278477b1b923d03ea50e3ae96013"><div class="ttname"><a href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">rcContext::log</a></div><div class="ttdeci">void log(const rcLogCategory category, const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d01/_recast_8cpp_source.html#l00079">Recast.cpp:79</a></div></div>
<div class="ttc" id="anamespace_g3_d_html_a55ae91213b07da3a9e14fcd5068d497f"><div class="ttname"><a href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">G3D::x</a></div><div class="ttdeci">G3D::int16 x</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d14/_vector2int16_8h_source.html#l00037">Vector2int16.h:37</a></div></div>
<div class="ttc" id="anamespace_g3_d_html_a8942ba929b21cfdf30bd22fe36baaefa"><div class="ttname"><a href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">G3D::y</a></div><div class="ttdeci">G3D::int16 y</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d14/_vector2int16_8h_source.html#l00038">Vector2int16.h:38</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/d5e/_recast_rasterization_8cpp_source.html#l00085">addSpan()</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00079">rcContext::log()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00031">RC_LOG_ERROR</a>, <a class="el" href="../../d1/db5/_recast_assert_8h_source.html#l00047">rcAssert</a>, <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00037">G3D::x</a>, and <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00038">G3D::y</a>.</p>

</div>
</div>
<a id="a63ec2ca68dc897018b8b013507b9714d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63ec2ca68dc897018b8b013507b9714d">&#9670;&nbsp;</a></span>rcAllocCompactHeightfield()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a>* rcAllocCompactHeightfield </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocates a compact heightfield object using the Recast allocator. </p><dl class="section return"><dt>Returns</dt><dd>A compact heightfield that is ready for initialization, or null on failure.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/d78/_recast_8h.html#a9833a6aa767f7f8ceecc8c929c56ca83">rcBuildCompactHeightfield</a>, <a class="el" href="../../de/d78/_recast_8h.html#a67311a62f4476274e58bfd4fc1897c2b">rcFreeCompactHeightfield</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00132">132</a> of file <a class="el" href="../../d3/d01/_recast_8cpp_source.html">Recast.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;{</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">return</span> rcNew&lt;rcCompactHeightfield&gt;(<a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;}</div>
<div class="ttc" id="a_recast_alloc_8h_html_a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5"><div class="ttname"><a href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a></div><div class="ttdeci">@ RC_ALLOC_PERM</div><div class="ttdoc">Memory will persist after a function call.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d54/_recast_alloc_8h_source.html#l00031">RecastAlloc.h:31</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00031">RC_ALLOC_PERM</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00092">TileBuilder::BuildInstance()</a>, <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00542">MMAP::MapBuilder::buildMoveMapTile()</a>, and <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00219">TileBuilder::BuildTiled()</a>.</p>

</div>
</div>
<a id="a2b1a22ec58d51570e352c19cb2cb22a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b1a22ec58d51570e352c19cb2cb22a2">&#9670;&nbsp;</a></span>rcAllocContourSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d9f/structrc_contour_set.html">rcContourSet</a>* rcAllocContourSet </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocates a contour set object using the Recast allocator. </p><dl class="section return"><dt>Returns</dt><dd>A contour set that is ready for initialization, or null on failure.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/d78/_recast_8h.html#a7777534c5fe3d5fec0ac3f05eccaeb0b">rcBuildContours</a>, <a class="el" href="../../de/d78/_recast_8h.html#a2fb91095dd65acee1c4dfad8f61449b2">rcFreeContourSet</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00192">192</a> of file <a class="el" href="../../d3/d01/_recast_8cpp_source.html">Recast.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;{</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">return</span> rcNew&lt;rcContourSet&gt;(<a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00031">RC_ALLOC_PERM</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00092">TileBuilder::BuildInstance()</a>, <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00542">MMAP::MapBuilder::buildMoveMapTile()</a>, and <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00219">TileBuilder::BuildTiled()</a>.</p>

</div>
</div>
<a id="a3e717cb2fa2ef5d123f0fa218f0630a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e717cb2fa2ef5d123f0fa218f0630a9">&#9670;&nbsp;</a></span>rcAllocHeightfield()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a>* rcAllocHeightfield </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocates a heightfield object using the Recast allocator. </p><dl class="section return"><dt>Returns</dt><dd>A heightfield that is ready for initialization, or null on failure.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/d78/_recast_8h.html#aa09281f4f1ec87fed5b8bc2b35331793">rcCreateHeightfield</a>, <a class="el" href="../../de/d78/_recast_8h.html#a370dc7ef848ed74b7660d70a3972557c">rcFreeHeightField</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00097">97</a> of file <a class="el" href="../../d3/d01/_recast_8cpp_source.html">Recast.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;{</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">return</span> rcNew&lt;rcHeightfield&gt;(<a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00031">RC_ALLOC_PERM</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00092">TileBuilder::BuildInstance()</a>, <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00542">MMAP::MapBuilder::buildMoveMapTile()</a>, and <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00219">TileBuilder::BuildTiled()</a>.</p>

</div>
</div>
<a id="adc45406abb9ac9d1efddee04054207f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc45406abb9ac9d1efddee04054207f5">&#9670;&nbsp;</a></span>rcAllocHeightfieldLayerSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d3c/structrc_heightfield_layer_set.html">rcHeightfieldLayerSet</a>* rcAllocHeightfieldLayerSet </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocates a heightfield layer set using the Recast allocator. </p><dl class="section return"><dt>Returns</dt><dd>A heightfield layer set that is ready for initialization, or null on failure.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/d78/_recast_8h.html#acc58a20e570a6b536967015655f06dba">rcBuildHeightfieldLayers</a>, <a class="el" href="../../de/d78/_recast_8h.html#a664e8773ae1776108fb220ddcf6349c1">rcFreeHeightfieldLayerSet</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00169">169</a> of file <a class="el" href="../../d3/d01/_recast_8cpp_source.html">Recast.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;{</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">return</span> rcNew&lt;rcHeightfieldLayerSet&gt;(<a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00031">RC_ALLOC_PERM</a>.</p>

</div>
</div>
<a id="a1b6942363f019860984263c0f8f62b9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b6942363f019860984263c0f8f62b9d">&#9670;&nbsp;</a></span>rcAllocPolyMesh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d75/structrc_poly_mesh.html">rcPolyMesh</a>* rcAllocPolyMesh </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocates a polygon mesh object using the Recast allocator. </p><dl class="section return"><dt>Returns</dt><dd>A polygon mesh that is ready for initialization, or null on failure.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/d78/_recast_8h.html#a6ccf68fa67b52296071764bddf19dd9f">rcBuildPolyMesh</a>, <a class="el" href="../../de/d78/_recast_8h.html#a06d2af90959be1bc0090a7fd3bca4af3">rcFreePolyMesh</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00223">223</a> of file <a class="el" href="../../d3/d01/_recast_8cpp_source.html">Recast.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;{</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">return</span> rcNew&lt;rcPolyMesh&gt;(<a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00031">RC_ALLOC_PERM</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00092">TileBuilder::BuildInstance()</a>, <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00542">MMAP::MapBuilder::buildMoveMapTile()</a>, and <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00219">TileBuilder::BuildTiled()</a>.</p>

</div>
</div>
<a id="a617834c1759867250e21569c204f1410"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a617834c1759867250e21569c204f1410">&#9670;&nbsp;</a></span>rcAllocPolyMeshDetail()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d70/structrc_poly_mesh_detail.html">rcPolyMeshDetail</a>* rcAllocPolyMeshDetail </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocates a detail mesh object using the Recast allocator. </p><dl class="section return"><dt>Returns</dt><dd>A detail mesh that is ready for initialization, or null on failure.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/d78/_recast_8h.html#abdf6b580a66cc9d47f96713dfab81e62">rcBuildPolyMeshDetail</a>, <a class="el" href="../../de/d78/_recast_8h.html#a4d34c07695552e9fbd277809581af8c6">rcFreePolyMeshDetail</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00258">258</a> of file <a class="el" href="../../d3/d01/_recast_8cpp_source.html">Recast.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;{</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html">rcPolyMeshDetail</a>* dmesh = (<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html">rcPolyMeshDetail</a>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html">rcPolyMeshDetail</a>), <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(dmesh, 0, <span class="keyword">sizeof</span>(<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html">rcPolyMeshDetail</a>));</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">return</span> dmesh;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;}</div>
<div class="ttc" id="a_recast_alloc_8h_html_aaccb154539da523c5d4e6effb34dd69e"><div class="ttname"><a href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a></div><div class="ttdeci">void * rcAlloc(size_t size, rcAllocHint hint)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d42/_recast_alloc_8cpp_source.html#l00045">RecastAlloc.cpp:45</a></div></div>
<div class="ttc" id="am__string_8h_html_af1756e67d46227b3333bc21a1fadd361"><div class="ttname"><a href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a></div><div class="ttdeci">#define memset(A, C, B)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dda/m__string_8h_source.html#l00051">m_string.h:51</a></div></div>
<div class="ttc" id="astructrc_poly_mesh_detail_html"><div class="ttname"><a href="../../d6/d70/structrc_poly_mesh_detail.html">rcPolyMeshDetail</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00442">Recast.h:443</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/dda/m__string_8h_source.html#l00051">memset</a>, <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00031">RC_ALLOC_PERM</a>, and <a class="el" href="../../d5/d42/_recast_alloc_8cpp_source.html#l00045">rcAlloc()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00092">TileBuilder::BuildInstance()</a>, <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00542">MMAP::MapBuilder::buildMoveMapTile()</a>, and <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00219">TileBuilder::BuildTiled()</a>.</p>

</div>
</div>
<a id="a9833a6aa767f7f8ceecc8c929c56ca83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9833a6aa767f7f8ceecc8c929c56ca83">&#9670;&nbsp;</a></span>rcBuildCompactHeightfield()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> rcBuildCompactHeightfield </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>walkableHeight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>walkableClimb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a> &amp;&#160;</td>
          <td class="paramname"><em>hf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a> &amp;&#160;</td>
          <td class="paramname"><em>chf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Builds a compact heightfield representing open space, from a heightfield representing solid space.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>The build context to use during the operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">walkableHeight</td><td>Minimum floor to 'ceiling' height that will still allow the floor area to be considered walkable. [Limit: &gt;= 3] [Units: vx] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">walkableClimb</td><td>Maximum ledge height that is considered to still be traversable. [Limit: &gt;=0] [Units: vx] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hf</td><td>The heightfield to be compacted. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">chf</td><td>The resulting compact heightfield. (Must be pre-allocated.) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the operation completed successfully.</dd></dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<p>This is just the beginning of the process of fully building a compact heightfield. Various filters may be applied, then the distance field and regions built. E.g: <a class="el" href="../../d0/d84/_recast_region_8cpp.html#a255c830cc0d30fa0229a05033242e77d">rcBuildDistanceField</a> and <a class="el" href="../../d0/d84/_recast_region_8cpp.html#abd57817e13cb07edb8168d8d2b1be5a5">rcBuildRegions</a></p>
<p>See the <a class="el" href="../../d2/d52/structrc_config.html">rcConfig</a> documentation for more information on the configuration parameters.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d3/d01/_recast_8cpp.html#a63ec2ca68dc897018b8b013507b9714d">rcAllocCompactHeightfield</a>, <a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a>, <a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a>, <a class="el" href="../../d2/d52/structrc_config.html">rcConfig</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00415">415</a> of file <a class="el" href="../../d3/d01/_recast_8cpp_source.html">Recast.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;{</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <a class="code" href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a>(ctx);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <a class="code" href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a> timer(ctx, <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da303c06e25bf4609eb21ba3b668f10bba">RC_TIMER_BUILD_COMPACTHEIGHTFIELD</a>);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> w = hf.<a class="code" href="../../dd/df7/structrc_heightfield.html#a9dd6e386c167f1537e3c7638f6b9a752">width</a>;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> h = hf.<a class="code" href="../../dd/df7/structrc_heightfield.html#a568ceeea7acb4ddf67dd78ec4fee7672">height</a>;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> spanCount = <a class="code" href="../../d3/d01/_recast_8cpp.html#a3b744a3ee804e46503348f5f7c98d6eb">rcGetHeightFieldSpanCount</a>(ctx, hf);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160; </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="comment">// Fill in header.</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a98868c1df2523cd724696ed1d223ba13">width</a> = w;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a25d9e16e5d82cf698e47b18a5740b639">height</a> = h;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a> = spanCount;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a04baed5c41b0e19e525e3136b138dc1a">walkableHeight</a> = walkableHeight;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ae403555331ef3d2624ca9433226bd683">walkableClimb</a> = walkableClimb;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a6bfb7a2fdb06a64b03f0fffa885edd94">maxRegions</a> = 0;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a9cbb34310e47a6def133a4b533d073ea">rcVcopy</a>(chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ae73d55ffeafd659c189bf14e440b902f">bmin</a>, hf.<a class="code" href="../../dd/df7/structrc_heightfield.html#a0158658d3487f7531364a84887fc2bce">bmin</a>);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a9cbb34310e47a6def133a4b533d073ea">rcVcopy</a>(chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a5d175954135840be9d4e4fc3b36d8067">bmax</a>, hf.<a class="code" href="../../dd/df7/structrc_heightfield.html#a4da9e52fc907522aae0364fad9e865f7">bmax</a>);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a5d175954135840be9d4e4fc3b36d8067">bmax</a>[1] += walkableHeight*hf.<a class="code" href="../../dd/df7/structrc_heightfield.html#a23488349cb552d5410e29d089234effc">ch</a>;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a75ee8e198d672db29a2f98c7463c0b31">cs</a> = hf.<a class="code" href="../../dd/df7/structrc_heightfield.html#a3f28962585b2f726d809b1a86b925edb">cs</a>;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a39baf56bf3baf2b026aae0a309facaf4">ch</a> = hf.<a class="code" href="../../dd/df7/structrc_heightfield.html#a23488349cb552d5410e29d089234effc">ch</a>;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a> = (<a class="code" href="../../d6/dff/structrc_compact_cell.html">rcCompactCell</a>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../d6/dff/structrc_compact_cell.html">rcCompactCell</a>)*w*h, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordflow">if</span> (!chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>)</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildCompactHeightfield: Out of memory &#39;chf.cells&#39; (%d)&quot;</span>, w*h);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    }</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>, 0, <span class="keyword">sizeof</span>(<a class="code" href="../../d6/dff/structrc_compact_cell.html">rcCompactCell</a>)*w*h);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a> = (<a class="code" href="../../de/dce/structrc_compact_span.html">rcCompactSpan</a>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../de/dce/structrc_compact_span.html">rcCompactSpan</a>)*spanCount, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordflow">if</span> (!chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>)</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildCompactHeightfield: Out of memory &#39;chf.spans&#39; (%d)&quot;</span>, spanCount);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    }</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>, 0, <span class="keyword">sizeof</span>(<a class="code" href="../../de/dce/structrc_compact_span.html">rcCompactSpan</a>)*spanCount);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*spanCount, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordflow">if</span> (!chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>)</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    {</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildCompactHeightfield: Out of memory &#39;chf.areas&#39; (%d)&quot;</span>, spanCount);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    }</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>, <a class="code" href="../../de/d78/_recast_8h.html#a5105dbfb2d2bf8aa69122db502d0e39e">RC_NULL_AREA</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*spanCount);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    </div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d3/d63/_map_8h.html#a9059fa76eb5e8e86f870405d63e72c4c">MAX_HEIGHT</a> = 0xffff;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="comment">// Fill in cells and spans.</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../de/d17/lf_8h.html#a359b2d783027136786cee9f243efcbde">idx</a> = 0;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> = 0; <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> &lt; h; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>)</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> = 0; <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> &lt; w; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>)</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../dc/d1d/structrc_span.html">rcSpan</a>* s = hf.<a class="code" href="../../dd/df7/structrc_heightfield.html#a0fea35ab8365dfcb38c63566abf7f261">spans</a>[<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> + <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>*w];</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            <span class="comment">// If there are no spans at this cell, just leave the data to index=0, count=0.</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            <span class="keywordflow">if</span> (!s) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            <a class="code" href="../../d6/dff/structrc_compact_cell.html">rcCompactCell</a>&amp; <a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a> = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>+<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>*w];</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            <a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index = <a class="code" href="../../de/d17/lf_8h.html#a359b2d783027136786cee9f243efcbde">idx</a>;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            <a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.count = 0;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            <span class="keywordflow">while</span> (s)</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                <span class="keywordflow">if</span> (s-&gt;<a class="code" href="../../dc/d1d/structrc_span.html#a6619387b4e8707f2dd282fdb8beb65a1">area</a> != <a class="code" href="../../de/d78/_recast_8h.html#a5105dbfb2d2bf8aa69122db502d0e39e">RC_NULL_AREA</a>)</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                {</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> bot = (int)s-&gt;<a class="code" href="../../dc/d1d/structrc_span.html#a6bca504828087023719794cce9a5f0ab">smax</a>;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> top = s-&gt;<a class="code" href="../../dc/d1d/structrc_span.html#a3b1dbeacc04852fe7330dcd0f5745424">next</a> ? (<span class="keywordtype">int</span>)s-&gt;<a class="code" href="../../dc/d1d/structrc_span.html#a3b1dbeacc04852fe7330dcd0f5745424">next</a>-&gt;<a class="code" href="../../dc/d1d/structrc_span.html#aba70c34dc95c49c4b3142b7d9ca9d359">smin</a> : <a class="code" href="../../d3/d63/_map_8h.html#a9059fa76eb5e8e86f870405d63e72c4c">MAX_HEIGHT</a>;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                    chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>[<a class="code" href="../../de/d17/lf_8h.html#a359b2d783027136786cee9f243efcbde">idx</a>].<a class="code" href="../../de/dce/structrc_compact_span.html#a51e8cdcf30408a3f84da22c4d2623b68">y</a> = (<span class="keywordtype">unsigned</span> short)<a class="code" href="../../de/d78/_recast_8h.html#a2f9c3de8c3f30a442a541cb2254a9246">rcClamp</a>(bot, 0, 0xffff);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                    chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>[<a class="code" href="../../de/d17/lf_8h.html#a359b2d783027136786cee9f243efcbde">idx</a>].<a class="code" href="../../de/dce/structrc_compact_span.html#a7eb3771c94cae7b6e1bc239ec8fd7043">h</a> = (<span class="keywordtype">unsigned</span> char)<a class="code" href="../../de/d78/_recast_8h.html#a2f9c3de8c3f30a442a541cb2254a9246">rcClamp</a>(top - bot, 0, 0xff);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                    chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[<a class="code" href="../../de/d17/lf_8h.html#a359b2d783027136786cee9f243efcbde">idx</a>] = s-&gt;<a class="code" href="../../dc/d1d/structrc_span.html#a6619387b4e8707f2dd282fdb8beb65a1">area</a>;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                    <a class="code" href="../../de/d17/lf_8h.html#a359b2d783027136786cee9f243efcbde">idx</a>++;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                    <a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.count++;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                }</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                s = s-&gt;<a class="code" href="../../dc/d1d/structrc_span.html#a3b1dbeacc04852fe7330dcd0f5745424">next</a>;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        }</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    }</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160; </div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="comment">// Find neighbour connections.</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> MAX_LAYERS = <a class="code" href="../../de/d78/_recast_8h.html#a64354aff947c2d8040e39bb4ceaf1a9f">RC_NOT_CONNECTED</a>-1;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordtype">int</span> tooHighNeighbour = 0;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> = 0; <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> &lt; h; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>)</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> = 0; <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> &lt; w; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>)</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../d6/dff/structrc_compact_cell.html">rcCompactCell</a>&amp; <a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a> = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>+<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>*w];</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = (<span class="keywordtype">int</span>)<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index, ni = (int)(<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index+<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.count); i &lt; ni; ++i)</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                <a class="code" href="../../de/dce/structrc_compact_span.html">rcCompactSpan</a>&amp; s = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>[i];</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                </div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> dir = 0; dir &lt; 4; ++dir)</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                {</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                    <a class="code" href="../../de/d78/_recast_8h.html#a4a51a79ddfd8787740ca1b62359c5874">rcSetCon</a>(s, dir, <a class="code" href="../../de/d78/_recast_8h.html#a64354aff947c2d8040e39bb4ceaf1a9f">RC_NOT_CONNECTED</a>);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> nx = <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> + <a class="code" href="../../de/d78/_recast_8h.html#a08323ca2f8069b8c7291f8d26ba7fbb8">rcGetDirOffsetX</a>(dir);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> ny = <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> + <a class="code" href="../../de/d78/_recast_8h.html#ab2dfeacce04b6d055723627b61515aa0">rcGetDirOffsetY</a>(dir);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                    <span class="comment">// First check that the neighbour cell is in bounds.</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                    <span class="keywordflow">if</span> (nx &lt; 0 || ny &lt; 0 || nx &gt;= w || ny &gt;= h)</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                        </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                    <span class="comment">// Iterate over all neighbour spans and check if any of the is</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                    <span class="comment">// accessible from current cell.</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                    <span class="keyword">const</span> <a class="code" href="../../d6/dff/structrc_compact_cell.html">rcCompactCell</a>&amp; nc = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[nx+ny*w];</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = (<span class="keywordtype">int</span>)nc.<a class="code" href="../../d6/dff/structrc_compact_cell.html#ad1695135ae520dfee8c39aa7b1fd41d8">index</a>, nk = (<span class="keywordtype">int</span>)(nc.<a class="code" href="../../d6/dff/structrc_compact_cell.html#ad1695135ae520dfee8c39aa7b1fd41d8">index</a>+nc.<a class="code" href="../../d6/dff/structrc_compact_cell.html#a70bb509654a28a8c9d67bcb469d0b3ce">count</a>); k &lt; nk; ++k)</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                    {</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                        <span class="keyword">const</span> <a class="code" href="../../de/dce/structrc_compact_span.html">rcCompactSpan</a>&amp; ns = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>[k];</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> bot = <a class="code" href="../../de/d78/_recast_8h.html#accb921a8353da3a74aa90a491aff74c8">rcMax</a>(s.<a class="code" href="../../de/dce/structrc_compact_span.html#a51e8cdcf30408a3f84da22c4d2623b68">y</a>, ns.<a class="code" href="../../de/dce/structrc_compact_span.html#a51e8cdcf30408a3f84da22c4d2623b68">y</a>);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> top = <a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>(s.<a class="code" href="../../de/dce/structrc_compact_span.html#a51e8cdcf30408a3f84da22c4d2623b68">y</a>+s.<a class="code" href="../../de/dce/structrc_compact_span.html#a7eb3771c94cae7b6e1bc239ec8fd7043">h</a>, ns.<a class="code" href="../../de/dce/structrc_compact_span.html#a51e8cdcf30408a3f84da22c4d2623b68">y</a>+ns.<a class="code" href="../../de/dce/structrc_compact_span.html#a7eb3771c94cae7b6e1bc239ec8fd7043">h</a>);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160; </div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                        <span class="comment">// Check that the gap between the spans is walkable,</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                        <span class="comment">// and that the climb height between the gaps is not too high.</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                        <span class="keywordflow">if</span> ((top - bot) &gt;= walkableHeight &amp;&amp; <a class="code" href="../../de/d78/_recast_8h.html#afa1623d0ed253473ef26cd7717f8bf2f">rcAbs</a>((<span class="keywordtype">int</span>)ns.<a class="code" href="../../de/dce/structrc_compact_span.html#a51e8cdcf30408a3f84da22c4d2623b68">y</a> - (<span class="keywordtype">int</span>)s.<a class="code" href="../../de/dce/structrc_compact_span.html#a51e8cdcf30408a3f84da22c4d2623b68">y</a>) &lt;= walkableClimb)</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                        {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                            <span class="comment">// Mark direction as walkable.</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                            <span class="keyword">const</span> <span class="keywordtype">int</span> lidx = k - (int)nc.<a class="code" href="../../d6/dff/structrc_compact_cell.html#ad1695135ae520dfee8c39aa7b1fd41d8">index</a>;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                            <a class="code" href="../../dd/d68/_c_make_lists_8txt.html#a0b5da418382bdd0db6dff439e2863979">if</a> (lidx &lt; 0 || lidx &gt; MAX_LAYERS)</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                            {</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                                tooHighNeighbour = <a class="code" href="../../de/d78/_recast_8h.html#accb921a8353da3a74aa90a491aff74c8">rcMax</a>(tooHighNeighbour, lidx);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                            }</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                            <a class="code" href="../../de/d78/_recast_8h.html#a4a51a79ddfd8787740ca1b62359c5874">rcSetCon</a>(s, dir, lidx);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                        }</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                    }</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                    </div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                }</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            }</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        }</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    }</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    </div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keywordflow">if</span> (tooHighNeighbour &gt; MAX_LAYERS)</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildCompactHeightfield: Heightfield has too many layers %d (max: %d)&quot;</span>,</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                 tooHighNeighbour, MAX_LAYERS);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    }</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    </div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;}</div>
<div class="ttc" id="a_c_make_lists_8txt_html_a0b5da418382bdd0db6dff439e2863979"><div class="ttname"><a href="../../dd/d68/_c_make_lists_8txt.html#a0b5da418382bdd0db6dff439e2863979">if</a></div><div class="ttdeci">NAME if(&quot;;${DISABLED_AC_MODULES};&quot; MATCHES &quot;;${MODULENAME};&quot;) continue() endif() if(EXISTS &quot;$</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d68/_c_make_lists_8txt_source.html#l00068">CMakeLists.txt:68</a></div></div>
<div class="ttc" id="a_map_8h_html_a9059fa76eb5e8e86f870405d63e72c4c"><div class="ttname"><a href="../../d3/d63/_map_8h.html#a9059fa76eb5e8e86f870405d63e72c4c">MAX_HEIGHT</a></div><div class="ttdeci">#define MAX_HEIGHT</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d63/_map_8h_source.html#l00154">Map.h:154</a></div></div>
<div class="ttc" id="a_recast_8cpp_html_a3b744a3ee804e46503348f5f7c98d6eb"><div class="ttname"><a href="../../d3/d01/_recast_8cpp.html#a3b744a3ee804e46503348f5f7c98d6eb">rcGetHeightFieldSpanCount</a></div><div class="ttdeci">int rcGetHeightFieldSpanCount(rcContext *ctx, rcHeightfield &amp;hf)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d01/_recast_8cpp_source.html#l00385">Recast.cpp:385</a></div></div>
<div class="ttc" id="a_recast_8h_html_a08323ca2f8069b8c7291f8d26ba7fbb8"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a08323ca2f8069b8c7291f8d26ba7fbb8">rcGetDirOffsetX</a></div><div class="ttdeci">int rcGetDirOffsetX(int dir)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l01090">Recast.h:1090</a></div></div>
<div class="ttc" id="a_recast_8h_html_a2f9c3de8c3f30a442a541cb2254a9246"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a2f9c3de8c3f30a442a541cb2254a9246">rcClamp</a></div><div class="ttdeci">T rcClamp(T v, T mn, T mx)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00635">Recast.h:635</a></div></div>
<div class="ttc" id="a_recast_8h_html_a4a51a79ddfd8787740ca1b62359c5874"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a4a51a79ddfd8787740ca1b62359c5874">rcSetCon</a></div><div class="ttdeci">void rcSetCon(rcCompactSpan &amp;s, int dir, int i)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l01068">Recast.h:1068</a></div></div>
<div class="ttc" id="a_recast_8h_html_a5105dbfb2d2bf8aa69122db502d0e39e"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a5105dbfb2d2bf8aa69122db502d0e39e">RC_NULL_AREA</a></div><div class="ttdeci">static const unsigned char RC_NULL_AREA</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00584">Recast.h:584</a></div></div>
<div class="ttc" id="a_recast_8h_html_a64354aff947c2d8040e39bb4ceaf1a9f"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a64354aff947c2d8040e39bb4ceaf1a9f">RC_NOT_CONNECTED</a></div><div class="ttdeci">static const int RC_NOT_CONNECTED</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00593">Recast.h:593</a></div></div>
<div class="ttc" id="a_recast_8h_html_a9cbb34310e47a6def133a4b533d073ea"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a9cbb34310e47a6def133a4b533d073ea">rcVcopy</a></div><div class="ttdeci">void rcVcopy(float *dest, const float *v)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00723">Recast.h:723</a></div></div>
<div class="ttc" id="a_recast_8h_html_aac83e8b749d8fed2164e00e7e0f43687"><div class="ttname"><a href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a></div><div class="ttdeci">T rcMin(T a, T b)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00612">Recast.h:612</a></div></div>
<div class="ttc" id="a_recast_8h_html_ab2dfeacce04b6d055723627b61515aa0"><div class="ttname"><a href="../../de/d78/_recast_8h.html#ab2dfeacce04b6d055723627b61515aa0">rcGetDirOffsetY</a></div><div class="ttdeci">int rcGetDirOffsetY(int dir)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l01100">Recast.h:1100</a></div></div>
<div class="ttc" id="a_recast_8h_html_accb921a8353da3a74aa90a491aff74c8"><div class="ttname"><a href="../../de/d78/_recast_8h.html#accb921a8353da3a74aa90a491aff74c8">rcMax</a></div><div class="ttdeci">T rcMax(T a, T b)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00618">Recast.h:618</a></div></div>
<div class="ttc" id="a_recast_8h_html_afa1623d0ed253473ef26cd7717f8bf2f"><div class="ttname"><a href="../../de/d78/_recast_8h.html#afa1623d0ed253473ef26cd7717f8bf2f">rcAbs</a></div><div class="ttdeci">T rcAbs(T a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00623">Recast.h:623</a></div></div>
<div class="ttc" id="aclassrc_scoped_timer_html"><div class="ttname"><a href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00178">Recast.h:179</a></div></div>
<div class="ttc" id="alf_8h_html_a359b2d783027136786cee9f243efcbde"><div class="ttname"><a href="../../de/d17/lf_8h.html#a359b2d783027136786cee9f243efcbde">idx</a></div><div class="ttdeci">void LF_DYNARRAY uint idx</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d17/lf_8h_source.html#l00086">lf.h:86</a></div></div>
<div class="ttc" id="anamespacempq_html_af509b98ca1ebe6c0248f215d23e06c93"><div class="ttname"><a href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">mpq.c</a></div><div class="ttdeci">list c</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3e/mpq_8py_source.html#l00295">mpq.py:295</a></div></div>
<div class="ttc" id="astructrc_compact_cell_html"><div class="ttname"><a href="../../d6/dff/structrc_compact_cell.html">rcCompactCell</a></div><div class="ttdoc">Provides information on the content of a cell column in a compact heightfield.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00316">Recast.h:317</a></div></div>
<div class="ttc" id="astructrc_compact_cell_html_a70bb509654a28a8c9d67bcb469d0b3ce"><div class="ttname"><a href="../../d6/dff/structrc_compact_cell.html#a70bb509654a28a8c9d67bcb469d0b3ce">rcCompactCell::count</a></div><div class="ttdeci">unsigned int count</div><div class="ttdoc">Number of spans in the column.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00319">Recast.h:319</a></div></div>
<div class="ttc" id="astructrc_compact_cell_html_ad1695135ae520dfee8c39aa7b1fd41d8"><div class="ttname"><a href="../../d6/dff/structrc_compact_cell.html#ad1695135ae520dfee8c39aa7b1fd41d8">rcCompactCell::index</a></div><div class="ttdeci">unsigned int index</div><div class="ttdoc">Index to the first span in the column.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00318">Recast.h:318</a></div></div>
<div class="ttc" id="astructrc_compact_heightfield_html_a04baed5c41b0e19e525e3136b138dc1a"><div class="ttname"><a href="../../d0/dc4/structrc_compact_heightfield.html#a04baed5c41b0e19e525e3136b138dc1a">rcCompactHeightfield::walkableHeight</a></div><div class="ttdeci">int walkableHeight</div><div class="ttdoc">The walkable height used during the build of the field. (See: rcConfig::walkableHeight)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00340">Recast.h:340</a></div></div>
<div class="ttc" id="astructrc_compact_heightfield_html_a20f5a93095dfd199b0a9baad4127bec3"><div class="ttname"><a href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">rcCompactHeightfield::spans</a></div><div class="ttdeci">rcCompactSpan * spans</div><div class="ttdoc">Array of spans. [Size: spanCount].</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00350">Recast.h:350</a></div></div>
<div class="ttc" id="astructrc_compact_heightfield_html_a25d9e16e5d82cf698e47b18a5740b639"><div class="ttname"><a href="../../d0/dc4/structrc_compact_heightfield.html#a25d9e16e5d82cf698e47b18a5740b639">rcCompactHeightfield::height</a></div><div class="ttdeci">int height</div><div class="ttdoc">The height of the heightfield. (Along the z-axis in cell units.)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00338">Recast.h:338</a></div></div>
<div class="ttc" id="astructrc_compact_heightfield_html_a39baf56bf3baf2b026aae0a309facaf4"><div class="ttname"><a href="../../d0/dc4/structrc_compact_heightfield.html#a39baf56bf3baf2b026aae0a309facaf4">rcCompactHeightfield::ch</a></div><div class="ttdeci">float ch</div><div class="ttdoc">The height of each cell. (The minimum increment along the y-axis.)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00348">Recast.h:348</a></div></div>
<div class="ttc" id="astructrc_compact_heightfield_html_a5d175954135840be9d4e4fc3b36d8067"><div class="ttname"><a href="../../d0/dc4/structrc_compact_heightfield.html#a5d175954135840be9d4e4fc3b36d8067">rcCompactHeightfield::bmax</a></div><div class="ttdeci">float bmax[3]</div><div class="ttdoc">The maximum bounds in world space. [(x, y, z)].</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00346">Recast.h:346</a></div></div>
<div class="ttc" id="astructrc_compact_heightfield_html_a6bfb7a2fdb06a64b03f0fffa885edd94"><div class="ttname"><a href="../../d0/dc4/structrc_compact_heightfield.html#a6bfb7a2fdb06a64b03f0fffa885edd94">rcCompactHeightfield::maxRegions</a></div><div class="ttdeci">unsigned short maxRegions</div><div class="ttdoc">The maximum region id of any span within the field.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00344">Recast.h:344</a></div></div>
<div class="ttc" id="astructrc_compact_heightfield_html_a7206a15efe8a9e2a8e28b8c7d89b45bd"><div class="ttname"><a href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">rcCompactHeightfield::spanCount</a></div><div class="ttdeci">int spanCount</div><div class="ttdoc">The number of spans in the heightfield.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00339">Recast.h:339</a></div></div>
<div class="ttc" id="astructrc_compact_heightfield_html_a75ee8e198d672db29a2f98c7463c0b31"><div class="ttname"><a href="../../d0/dc4/structrc_compact_heightfield.html#a75ee8e198d672db29a2f98c7463c0b31">rcCompactHeightfield::cs</a></div><div class="ttdeci">float cs</div><div class="ttdoc">The size of each cell. (On the xz-plane.)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00347">Recast.h:347</a></div></div>
<div class="ttc" id="astructrc_compact_heightfield_html_a98868c1df2523cd724696ed1d223ba13"><div class="ttname"><a href="../../d0/dc4/structrc_compact_heightfield.html#a98868c1df2523cd724696ed1d223ba13">rcCompactHeightfield::width</a></div><div class="ttdeci">int width</div><div class="ttdoc">The width of the heightfield. (Along the x-axis in cell units.)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00337">Recast.h:337</a></div></div>
<div class="ttc" id="astructrc_compact_heightfield_html_ab497c9a9f6e0f1b8882fada13ce880a5"><div class="ttname"><a href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">rcCompactHeightfield::cells</a></div><div class="ttdeci">rcCompactCell * cells</div><div class="ttdoc">Array of cells. [Size: width*height].</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00349">Recast.h:349</a></div></div>
<div class="ttc" id="astructrc_compact_heightfield_html_abcdf0d737779779376bce23d1c0be910"><div class="ttname"><a href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">rcCompactHeightfield::areas</a></div><div class="ttdeci">unsigned char * areas</div><div class="ttdoc">Array containing area id data. [Size: spanCount].</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00352">Recast.h:352</a></div></div>
<div class="ttc" id="astructrc_compact_heightfield_html_ae403555331ef3d2624ca9433226bd683"><div class="ttname"><a href="../../d0/dc4/structrc_compact_heightfield.html#ae403555331ef3d2624ca9433226bd683">rcCompactHeightfield::walkableClimb</a></div><div class="ttdeci">int walkableClimb</div><div class="ttdoc">The walkable climb used during the build of the field. (See: rcConfig::walkableClimb)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00341">Recast.h:341</a></div></div>
<div class="ttc" id="astructrc_compact_heightfield_html_ae73d55ffeafd659c189bf14e440b902f"><div class="ttname"><a href="../../d0/dc4/structrc_compact_heightfield.html#ae73d55ffeafd659c189bf14e440b902f">rcCompactHeightfield::bmin</a></div><div class="ttdeci">float bmin[3]</div><div class="ttdoc">The minimum bounds in world space. [(x, y, z)].</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00345">Recast.h:345</a></div></div>
<div class="ttc" id="astructrc_compact_span_html"><div class="ttname"><a href="../../de/dce/structrc_compact_span.html">rcCompactSpan</a></div><div class="ttdoc">Represents a span of unobstructed space within a compact heightfield.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00323">Recast.h:324</a></div></div>
<div class="ttc" id="astructrc_compact_span_html_a51e8cdcf30408a3f84da22c4d2623b68"><div class="ttname"><a href="../../de/dce/structrc_compact_span.html#a51e8cdcf30408a3f84da22c4d2623b68">rcCompactSpan::y</a></div><div class="ttdeci">unsigned short y</div><div class="ttdoc">The lower extent of the span. (Measured from the heightfield's base.)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00325">Recast.h:325</a></div></div>
<div class="ttc" id="astructrc_compact_span_html_a7eb3771c94cae7b6e1bc239ec8fd7043"><div class="ttname"><a href="../../de/dce/structrc_compact_span.html#a7eb3771c94cae7b6e1bc239ec8fd7043">rcCompactSpan::h</a></div><div class="ttdeci">unsigned int h</div><div class="ttdoc">The height of the span. (Measured from y.)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00328">Recast.h:328</a></div></div>
<div class="ttc" id="astructrc_heightfield_html_a0158658d3487f7531364a84887fc2bce"><div class="ttname"><a href="../../dd/df7/structrc_heightfield.html#a0158658d3487f7531364a84887fc2bce">rcHeightfield::bmin</a></div><div class="ttdeci">float bmin[3]</div><div class="ttdoc">The minimum bounds in world space. [(x, y, z)].</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00301">Recast.h:301</a></div></div>
<div class="ttc" id="astructrc_heightfield_html_a0fea35ab8365dfcb38c63566abf7f261"><div class="ttname"><a href="../../dd/df7/structrc_heightfield.html#a0fea35ab8365dfcb38c63566abf7f261">rcHeightfield::spans</a></div><div class="ttdeci">rcSpan ** spans</div><div class="ttdoc">Heightfield of spans (width*height).</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00305">Recast.h:305</a></div></div>
<div class="ttc" id="astructrc_heightfield_html_a23488349cb552d5410e29d089234effc"><div class="ttname"><a href="../../dd/df7/structrc_heightfield.html#a23488349cb552d5410e29d089234effc">rcHeightfield::ch</a></div><div class="ttdeci">float ch</div><div class="ttdoc">The height of each cell. (The minimum increment along the y-axis.)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00304">Recast.h:304</a></div></div>
<div class="ttc" id="astructrc_heightfield_html_a3f28962585b2f726d809b1a86b925edb"><div class="ttname"><a href="../../dd/df7/structrc_heightfield.html#a3f28962585b2f726d809b1a86b925edb">rcHeightfield::cs</a></div><div class="ttdeci">float cs</div><div class="ttdoc">The size of each cell. (On the xz-plane.)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00303">Recast.h:303</a></div></div>
<div class="ttc" id="astructrc_heightfield_html_a4da9e52fc907522aae0364fad9e865f7"><div class="ttname"><a href="../../dd/df7/structrc_heightfield.html#a4da9e52fc907522aae0364fad9e865f7">rcHeightfield::bmax</a></div><div class="ttdeci">float bmax[3]</div><div class="ttdoc">The maximum bounds in world space. [(x, y, z)].</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00302">Recast.h:302</a></div></div>
<div class="ttc" id="astructrc_heightfield_html_a568ceeea7acb4ddf67dd78ec4fee7672"><div class="ttname"><a href="../../dd/df7/structrc_heightfield.html#a568ceeea7acb4ddf67dd78ec4fee7672">rcHeightfield::height</a></div><div class="ttdeci">int height</div><div class="ttdoc">The height of the heightfield. (Along the z-axis in cell units.)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00300">Recast.h:300</a></div></div>
<div class="ttc" id="astructrc_heightfield_html_a9dd6e386c167f1537e3c7638f6b9a752"><div class="ttname"><a href="../../dd/df7/structrc_heightfield.html#a9dd6e386c167f1537e3c7638f6b9a752">rcHeightfield::width</a></div><div class="ttdeci">int width</div><div class="ttdoc">The width of the heightfield. (Along the x-axis in cell units.)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00299">Recast.h:299</a></div></div>
<div class="ttc" id="astructrc_span_html"><div class="ttname"><a href="../../dc/d1d/structrc_span.html">rcSpan</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00276">Recast.h:277</a></div></div>
<div class="ttc" id="astructrc_span_html_a3b1dbeacc04852fe7330dcd0f5745424"><div class="ttname"><a href="../../dc/d1d/structrc_span.html#a3b1dbeacc04852fe7330dcd0f5745424">rcSpan::next</a></div><div class="ttdeci">rcSpan * next</div><div class="ttdoc">The next span higher up in column.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00281">Recast.h:281</a></div></div>
<div class="ttc" id="astructrc_span_html_a6619387b4e8707f2dd282fdb8beb65a1"><div class="ttname"><a href="../../dc/d1d/structrc_span.html#a6619387b4e8707f2dd282fdb8beb65a1">rcSpan::area</a></div><div class="ttdeci">unsigned char area</div><div class="ttdoc">The area id assigned to the span.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00280">Recast.h:280</a></div></div>
<div class="ttc" id="astructrc_span_html_a6bca504828087023719794cce9a5f0ab"><div class="ttname"><a href="../../dc/d1d/structrc_span.html#a6bca504828087023719794cce9a5f0ab">rcSpan::smax</a></div><div class="ttdeci">unsigned int smax</div><div class="ttdoc">The upper limit of the span. [Limit: &lt;= RC_SPAN_MAX_HEIGHT].</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00279">Recast.h:279</a></div></div>
<div class="ttc" id="astructrc_span_html_aba70c34dc95c49c4b3142b7d9ca9d359"><div class="ttname"><a href="../../dc/d1d/structrc_span.html#aba70c34dc95c49c4b3142b7d9ca9d359">rcSpan::smin</a></div><div class="ttdeci">unsigned int smin</div><div class="ttdoc">The lower limit of the span. [Limit: &lt; smax].</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00278">Recast.h:278</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d78/_recast_8h_source.html#l00280">rcSpan::area</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00352">rcCompactHeightfield::areas</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00302">rcHeightfield::bmax</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00346">rcCompactHeightfield::bmax</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00301">rcHeightfield::bmin</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00345">rcCompactHeightfield::bmin</a>, <a class="el" href="../../d6/d3e/mpq_8py_source.html#l00295">mpq::c</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00349">rcCompactHeightfield::cells</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00304">rcHeightfield::ch</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00348">rcCompactHeightfield::ch</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00319">rcCompactCell::count</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00303">rcHeightfield::cs</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00347">rcCompactHeightfield::cs</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00328">rcCompactSpan::h</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00300">rcHeightfield::height</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00338">rcCompactHeightfield::height</a>, <a class="el" href="../../de/d17/lf_8h_source.html#l00086">idx</a>, <a class="el" href="../../dd/d68/_c_make_lists_8txt_source.html#l00068">if()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00318">rcCompactCell::index</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00079">rcContext::log()</a>, <a class="el" href="../../d3/d63/_map_8h_source.html#l00154">MAX_HEIGHT</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00344">rcCompactHeightfield::maxRegions</a>, <a class="el" href="../../d6/dda/m__string_8h_source.html#l00051">memset</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00281">rcSpan::next</a>, <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00031">RC_ALLOC_PERM</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00031">RC_LOG_ERROR</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00593">RC_NOT_CONNECTED</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00584">RC_NULL_AREA</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00045">RC_TIMER_BUILD_COMPACTHEIGHTFIELD</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00623">rcAbs()</a>, <a class="el" href="../../d5/d42/_recast_alloc_8cpp_source.html#l00045">rcAlloc()</a>, <a class="el" href="../../d1/db5/_recast_assert_8h_source.html#l00047">rcAssert</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00635">rcClamp()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l01090">rcGetDirOffsetX()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l01100">rcGetDirOffsetY()</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00385">rcGetHeightFieldSpanCount()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00618">rcMax()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00612">rcMin()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l01068">rcSetCon()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00723">rcVcopy()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00279">rcSpan::smax</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00278">rcSpan::smin</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00339">rcCompactHeightfield::spanCount</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00305">rcHeightfield::spans</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00350">rcCompactHeightfield::spans</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00341">rcCompactHeightfield::walkableClimb</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00340">rcCompactHeightfield::walkableHeight</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00299">rcHeightfield::width</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00337">rcCompactHeightfield::width</a>, <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00037">G3D::x</a>, <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00038">G3D::y</a>, and <a class="el" href="../../de/d78/_recast_8h_source.html#l00325">rcCompactSpan::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00092">TileBuilder::BuildInstance()</a>, <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00542">MMAP::MapBuilder::buildMoveMapTile()</a>, and <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00219">TileBuilder::BuildTiled()</a>.</p>

</div>
</div>
<a id="a7777534c5fe3d5fec0ac3f05eccaeb0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7777534c5fe3d5fec0ac3f05eccaeb0b">&#9670;&nbsp;</a></span>rcBuildContours()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> rcBuildContours </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a> &amp;&#160;</td>
          <td class="paramname"><em>chf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float&#160;</td>
          <td class="paramname"><em>maxError</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>maxEdgeLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d9f/structrc_contour_set.html">rcContourSet</a> &amp;&#160;</td>
          <td class="paramname"><em>cset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>buildFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Builds a contour set from the region outlines in the provided compact heightfield.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>The build context to use during the operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">chf</td><td>A fully built compact heightfield. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxError</td><td>The maximum distance a simplfied contour's border edges should deviate the original raw contour. [Limit: &gt;=0] [Units: wu] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxEdgeLen</td><td>The maximum allowed length for contour edges along the border of the mesh. [Limit: &gt;=0] [Units: vx] </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">cset</td><td>The resulting contour set. (Must be pre-allocated.) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buildFlags</td><td>The build flags. (See: <a class="el" href="../../de/d78/_recast_8h.html#a63345b5052e97366027aa92b54c7786f">rcBuildContoursFlags</a>) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the operation completed successfully.</dd></dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<p>The raw contours will match the region outlines exactly. The <code>maxError</code> and <code>maxEdgeLen</code> parameters control how closely the simplified contours will match the raw contours.</p>
<p>Simplified contours are generated such that the vertices for portals between areas match up. (They are considered mandatory vertices.)</p>
<p>Setting <code>maxEdgeLength</code> to zero will disabled the edge length feature.</p>
<p>See the <a class="el" href="../../d2/d52/structrc_config.html">rcConfig</a> documentation for more information on the configuration parameters.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d3/d01/_recast_8cpp.html#a2b1a22ec58d51570e352c19cb2cb22a2">rcAllocContourSet</a>, <a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a>, <a class="el" href="../../db/d9f/structrc_contour_set.html">rcContourSet</a>, <a class="el" href="../../d2/d52/structrc_config.html">rcConfig</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00824">824</a> of file <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html">RecastContour.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;{</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <a class="code" href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a>(ctx);</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    </div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> w = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a98868c1df2523cd724696ed1d223ba13">width</a>;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> h = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a25d9e16e5d82cf698e47b18a5740b639">height</a>;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> borderSize = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a675418d81ce6ade83fbd18be2dfd1647">borderSize</a>;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    </div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <a class="code" href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a> timer(ctx, <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da5bfad3b856c9ff5f3d94231adc363437">RC_TIMER_BUILD_CONTOURS</a>);</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    </div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a9cbb34310e47a6def133a4b533d073ea">rcVcopy</a>(cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#a6528f1d81286f5bff26ae217c33da654">bmin</a>, chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ae73d55ffeafd659c189bf14e440b902f">bmin</a>);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a9cbb34310e47a6def133a4b533d073ea">rcVcopy</a>(cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#ae756cdf05388b7455768011841c0f6a1">bmax</a>, chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a5d175954135840be9d4e4fc3b36d8067">bmax</a>);</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="keywordflow">if</span> (borderSize &gt; 0)</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    {</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        <span class="comment">// If the heightfield was build with bordersize, remove the offset.</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> pad = borderSize*chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a75ee8e198d672db29a2f98c7463c0b31">cs</a>;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#a6528f1d81286f5bff26ae217c33da654">bmin</a>[0] += pad;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#a6528f1d81286f5bff26ae217c33da654">bmin</a>[2] += pad;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#ae756cdf05388b7455768011841c0f6a1">bmax</a>[0] -= pad;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#ae756cdf05388b7455768011841c0f6a1">bmax</a>[2] -= pad;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    }</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#a1dbf04db7e828a3757e951e4f8499c95">cs</a> = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a75ee8e198d672db29a2f98c7463c0b31">cs</a>;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#ada4d5c2916f351065c6f5a382f087ebc">ch</a> = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a39baf56bf3baf2b026aae0a309facaf4">ch</a>;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#af165415f9e2ef3cf446786040864e6d2">width</a> = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a98868c1df2523cd724696ed1d223ba13">width</a> - chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a675418d81ce6ade83fbd18be2dfd1647">borderSize</a>*2;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#a18be0e9d84b65e8688153b0adb517124">height</a> = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a25d9e16e5d82cf698e47b18a5740b639">height</a> - chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a675418d81ce6ade83fbd18be2dfd1647">borderSize</a>*2;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#adb04d1277e815ed89b156714bad3c17a">borderSize</a> = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a675418d81ce6ade83fbd18be2dfd1647">borderSize</a>;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#af657b46878e8fff2dd731ee066e4e1b2">maxError</a> = maxError;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    </div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="keywordtype">int</span> maxContours = <a class="code" href="../../de/d78/_recast_8h.html#accb921a8353da3a74aa90a491aff74c8">rcMax</a>((<span class="keywordtype">int</span>)chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a6bfb7a2fdb06a64b03f0fffa885edd94">maxRegions</a>, 8);</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#ad737b7220701eeae5aa9c488d4d4f18d">conts</a> = (<a class="code" href="../../df/d2c/structrc_contour.html">rcContour</a>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../df/d2c/structrc_contour.html">rcContour</a>)*maxContours, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="keywordflow">if</span> (!cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#ad737b7220701eeae5aa9c488d4d4f18d">conts</a>)</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#aa751e5adb077b2ea7a9c8795e7a2fa99">nconts</a> = 0;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    </div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <a class="code" href="../../d9/d65/classrc_scoped_delete.html">rcScopedDelete&lt;unsigned char&gt;</a> flags((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a>, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60a5e5b510fb1d2422e28f5262d4bd058ee">RC_ALLOC_TEMP</a>));</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <span class="keywordflow">if</span> (!flags)</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    {</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildContours: Out of memory &#39;flags&#39; (%d).&quot;</span>, chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a>);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    }</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    </div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#a3c8d3035e1046dd8907b10b7d9c8de57">startTimer</a>(<a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da7780e2f5b2726d76169f8c0a38cfc12b">RC_TIMER_BUILD_CONTOURS_TRACE</a>);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    </div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="comment">// Mark boundaries.</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> = 0; <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> &lt; h; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>)</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    {</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> = 0; <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> &lt; w; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>)</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        {</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../d6/dff/structrc_compact_cell.html">rcCompactCell</a>&amp; <a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a> = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>+<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>*w];</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = (<span class="keywordtype">int</span>)<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index, ni = (<span class="keywordtype">int</span>)(<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index+<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.count); i &lt; ni; ++i)</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;            {</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> res = 0;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                <span class="keyword">const</span> <a class="code" href="../../de/dce/structrc_compact_span.html">rcCompactSpan</a>&amp; s = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>[i];</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                <span class="keywordflow">if</span> (!chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>[i].<a class="code" href="../../de/dce/structrc_compact_span.html#aca1a16c8453c9533120c094979601d77">reg</a> || (chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>[i].<a class="code" href="../../de/dce/structrc_compact_span.html#aca1a16c8453c9533120c094979601d77">reg</a> &amp; <a class="code" href="../../de/d78/_recast_8h.html#ac47ca685874fce67f50bd580ef1e0497">RC_BORDER_REG</a>))</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                {</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                    flags[i] = 0;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                }</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> dir = 0; dir &lt; 4; ++dir)</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                {</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> r = 0;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(s, dir) != <a class="code" href="../../de/d78/_recast_8h.html#a64354aff947c2d8040e39bb4ceaf1a9f">RC_NOT_CONNECTED</a>)</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                    {</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> ax = <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> + <a class="code" href="../../de/d78/_recast_8h.html#a08323ca2f8069b8c7291f8d26ba7fbb8">rcGetDirOffsetX</a>(dir);</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> ay = <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> + <a class="code" href="../../de/d78/_recast_8h.html#ab2dfeacce04b6d055723627b61515aa0">rcGetDirOffsetY</a>(dir);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> ai = (int)chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[ax+ay*w].<a class="code" href="../../d6/dff/structrc_compact_cell.html#ad1695135ae520dfee8c39aa7b1fd41d8">index</a> + <a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(s, dir);</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                        r = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>[ai].<a class="code" href="../../de/dce/structrc_compact_span.html#aca1a16c8453c9533120c094979601d77">reg</a>;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                    }</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                    <span class="keywordflow">if</span> (r == chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>[i].<a class="code" href="../../de/dce/structrc_compact_span.html#aca1a16c8453c9533120c094979601d77">reg</a>)</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                        res |= (1 &lt;&lt; dir);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                }</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                flags[i] = res ^ 0xf; <span class="comment">// Inverse, mark non connected edges.</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;            }</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        }</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    }</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    </div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#a3f7042723b8d99d486575eb3d592af25">stopTimer</a>(<a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da7780e2f5b2726d76169f8c0a38cfc12b">RC_TIMER_BUILD_CONTOURS_TRACE</a>);</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    </div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <a class="code" href="../../d6/d40/classrc_int_array.html">rcIntArray</a> verts(256);</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <a class="code" href="../../d6/d40/classrc_int_array.html">rcIntArray</a> simplified(64);</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    </div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> = 0; <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> &lt; h; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>)</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    {</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> = 0; <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> &lt; w; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>)</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        {</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../d6/dff/structrc_compact_cell.html">rcCompactCell</a>&amp; <a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a> = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>+<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>*w];</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = (<span class="keywordtype">int</span>)<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index, ni = (<span class="keywordtype">int</span>)(<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index+<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.count); i &lt; ni; ++i)</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;            {</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                <span class="keywordflow">if</span> (flags[i] == 0 || flags[i] == 0xf)</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                {</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                    flags[i] = 0;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                }</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> reg = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>[i].<a class="code" href="../../de/dce/structrc_compact_span.html#aca1a16c8453c9533120c094979601d77">reg</a>;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                <span class="keywordflow">if</span> (!reg || (reg &amp; <a class="code" href="../../de/d78/_recast_8h.html#ac47ca685874fce67f50bd580ef1e0497">RC_BORDER_REG</a>))</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> area = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[i];</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                </div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                verts.resize(0);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                simplified.resize(0);</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                </div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#a3c8d3035e1046dd8907b10b7d9c8de57">startTimer</a>(<a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da7780e2f5b2726d76169f8c0a38cfc12b">RC_TIMER_BUILD_CONTOURS_TRACE</a>);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                <a class="code" href="../../de/d0e/_recast_contour_8cpp.html#a5f3ae9ba0be2db4fd93a7a6e01326c05">walkContour</a>(<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>, <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>, i, chf, flags, verts);</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#a3f7042723b8d99d486575eb3d592af25">stopTimer</a>(<a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da7780e2f5b2726d76169f8c0a38cfc12b">RC_TIMER_BUILD_CONTOURS_TRACE</a>);</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                </div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#a3c8d3035e1046dd8907b10b7d9c8de57">startTimer</a>(<a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18daac93d9ba18d8dedee3b584ef9131fdba">RC_TIMER_BUILD_CONTOURS_SIMPLIFY</a>);</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                <a class="code" href="../../de/d0e/_recast_contour_8cpp.html#aa7cef37578da730d57670d60132da73f">simplifyContour</a>(verts, simplified, maxError, maxEdgeLen, buildFlags);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                <a class="code" href="../../de/d0e/_recast_contour_8cpp.html#a4e79138985b8e7443e813250a17d3f71">removeDegenerateSegments</a>(simplified);</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#a3f7042723b8d99d486575eb3d592af25">stopTimer</a>(<a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18daac93d9ba18d8dedee3b584ef9131fdba">RC_TIMER_BUILD_CONTOURS_SIMPLIFY</a>);</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                </div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                </div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                <span class="comment">// Store region-&gt;contour remap info.</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                <span class="comment">// Create contour.</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                <span class="keywordflow">if</span> (simplified.size()/4 &gt;= 3)</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                {</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                    <span class="keywordflow">if</span> (cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#aa751e5adb077b2ea7a9c8795e7a2fa99">nconts</a> &gt;= maxContours)</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                    {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;                        <span class="comment">// Allocate more contours.</span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                        <span class="comment">// This happens when a region has holes.</span></div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> oldMax = maxContours;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                        maxContours *= 2;</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                        <a class="code" href="../../df/d2c/structrc_contour.html">rcContour</a>* newConts = (<a class="code" href="../../df/d2c/structrc_contour.html">rcContour</a>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../df/d2c/structrc_contour.html">rcContour</a>)*maxContours, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#aa751e5adb077b2ea7a9c8795e7a2fa99">nconts</a>; ++j)</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                        {</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                            newConts[j] = cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#ad737b7220701eeae5aa9c488d4d4f18d">conts</a>[j];</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;                            <span class="comment">// Reset source pointers to prevent data deletion.</span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                            cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#ad737b7220701eeae5aa9c488d4d4f18d">conts</a>[j].<a class="code" href="../../df/d2c/structrc_contour.html#aa544ceef431b5fc5b3a6087e4b2fc53c">verts</a> = 0;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;                            cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#ad737b7220701eeae5aa9c488d4d4f18d">conts</a>[j].<a class="code" href="../../df/d2c/structrc_contour.html#a59d014e6645850ab944767d427139996">rverts</a> = 0;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                        }</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                        <a class="code" href="../../de/d54/_recast_alloc_8h.html#a6fc4cfee655e24f94bad226f915ac397">rcFree</a>(cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#ad737b7220701eeae5aa9c488d4d4f18d">conts</a>);</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                        cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#ad737b7220701eeae5aa9c488d4d4f18d">conts</a> = newConts;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;                        </div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba05dd323a1feaf0c125be248057cc40a5">RC_LOG_WARNING</a>, <span class="stringliteral">&quot;rcBuildContours: Expanding max contours from %d to %d.&quot;</span>, oldMax, maxContours);</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;                    }</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                    </div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                    <a class="code" href="../../df/d2c/structrc_contour.html">rcContour</a>* cont = &amp;cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#ad737b7220701eeae5aa9c488d4d4f18d">conts</a>[cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#aa751e5adb077b2ea7a9c8795e7a2fa99">nconts</a>++];</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                    </div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                    cont-&gt;<a class="code" href="../../df/d2c/structrc_contour.html#afcf77c01352f2c46172fdfabd2f9b9f6">nverts</a> = simplified.size()/4;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                    cont-&gt;<a class="code" href="../../df/d2c/structrc_contour.html#aa544ceef431b5fc5b3a6087e4b2fc53c">verts</a> = (<span class="keywordtype">int</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*cont-&gt;<a class="code" href="../../df/d2c/structrc_contour.html#afcf77c01352f2c46172fdfabd2f9b9f6">nverts</a>*4, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                    <span class="keywordflow">if</span> (!cont-&gt;<a class="code" href="../../df/d2c/structrc_contour.html#aa544ceef431b5fc5b3a6087e4b2fc53c">verts</a>)</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                    {</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;                        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildContours: Out of memory &#39;verts&#39; (%d).&quot;</span>, cont-&gt;<a class="code" href="../../df/d2c/structrc_contour.html#afcf77c01352f2c46172fdfabd2f9b9f6">nverts</a>);</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                    }</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                    <a class="code" href="../../d6/dda/m__string_8h.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a>(cont-&gt;<a class="code" href="../../df/d2c/structrc_contour.html#aa544ceef431b5fc5b3a6087e4b2fc53c">verts</a>, &amp;simplified[0], <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*cont-&gt;<a class="code" href="../../df/d2c/structrc_contour.html#afcf77c01352f2c46172fdfabd2f9b9f6">nverts</a>*4);</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                    <span class="keywordflow">if</span> (borderSize &gt; 0)</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                    {</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;                        <span class="comment">// If the heightfield was build with bordersize, remove the offset.</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; cont-&gt;<a class="code" href="../../df/d2c/structrc_contour.html#afcf77c01352f2c46172fdfabd2f9b9f6">nverts</a>; ++j)</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                        {</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                            <span class="keywordtype">int</span>* v = &amp;cont-&gt;<a class="code" href="../../df/d2c/structrc_contour.html#aa544ceef431b5fc5b3a6087e4b2fc53c">verts</a>[j*4];</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                            v[0] -= borderSize;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                            v[2] -= borderSize;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                        }</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                    }</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                    </div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                    cont-&gt;<a class="code" href="../../df/d2c/structrc_contour.html#a0cceba5f2070c42ac2a871189d4ceb53">nrverts</a> = verts.size()/4;</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;                    cont-&gt;<a class="code" href="../../df/d2c/structrc_contour.html#a59d014e6645850ab944767d427139996">rverts</a> = (<span class="keywordtype">int</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*cont-&gt;<a class="code" href="../../df/d2c/structrc_contour.html#a0cceba5f2070c42ac2a871189d4ceb53">nrverts</a>*4, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                    <span class="keywordflow">if</span> (!cont-&gt;<a class="code" href="../../df/d2c/structrc_contour.html#a59d014e6645850ab944767d427139996">rverts</a>)</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                    {</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildContours: Out of memory &#39;rverts&#39; (%d).&quot;</span>, cont-&gt;<a class="code" href="../../df/d2c/structrc_contour.html#a0cceba5f2070c42ac2a871189d4ceb53">nrverts</a>);</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                    }</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                    <a class="code" href="../../d6/dda/m__string_8h.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a>(cont-&gt;<a class="code" href="../../df/d2c/structrc_contour.html#a59d014e6645850ab944767d427139996">rverts</a>, &amp;verts[0], <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*cont-&gt;<a class="code" href="../../df/d2c/structrc_contour.html#a0cceba5f2070c42ac2a871189d4ceb53">nrverts</a>*4);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;                    <span class="keywordflow">if</span> (borderSize &gt; 0)</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                    {</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                        <span class="comment">// If the heightfield was build with bordersize, remove the offset.</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; cont-&gt;<a class="code" href="../../df/d2c/structrc_contour.html#a0cceba5f2070c42ac2a871189d4ceb53">nrverts</a>; ++j)</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                        {</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                            <span class="keywordtype">int</span>* v = &amp;cont-&gt;<a class="code" href="../../df/d2c/structrc_contour.html#a59d014e6645850ab944767d427139996">rverts</a>[j*4];</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                            v[0] -= borderSize;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                            v[2] -= borderSize;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                        }</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                    }</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                    </div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                    cont-&gt;<a class="code" href="../../df/d2c/structrc_contour.html#a8971d5c5cc7c7fb8e5d79a6ff9812cd1">reg</a> = reg;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                    cont-&gt;<a class="code" href="../../df/d2c/structrc_contour.html#a1052e9ac2da6e515cbb12908a58fca78">area</a> = area;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;                }</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;            }</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        }</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    }</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    </div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <span class="comment">// Merge holes if needed.</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keywordflow">if</span> (cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#aa751e5adb077b2ea7a9c8795e7a2fa99">nconts</a> &gt; 0)</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    {</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        <span class="comment">// Calculate winding of all polygons.</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        <a class="code" href="../../d9/d65/classrc_scoped_delete.html">rcScopedDelete&lt;char&gt;</a> winding((<span class="keywordtype">char</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>)*cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#aa751e5adb077b2ea7a9c8795e7a2fa99">nconts</a>, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60a5e5b510fb1d2422e28f5262d4bd058ee">RC_ALLOC_TEMP</a>));</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;        <span class="keywordflow">if</span> (!winding)</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;        {</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;            ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildContours: Out of memory &#39;hole&#39; (%d).&quot;</span>, cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#aa751e5adb077b2ea7a9c8795e7a2fa99">nconts</a>);</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        }</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <span class="keywordtype">int</span> nholes = 0;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#aa751e5adb077b2ea7a9c8795e7a2fa99">nconts</a>; ++i)</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;        {</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;            <a class="code" href="../../df/d2c/structrc_contour.html">rcContour</a>&amp; cont = cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#ad737b7220701eeae5aa9c488d4d4f18d">conts</a>[i];</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;            <span class="comment">// If the contour is wound backwards, it is a hole.</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;            winding[i] = <a class="code" href="../../de/d0e/_recast_contour_8cpp.html#a538aea06d768e3c175b9b8e47f254b52">calcAreaOfPolygon2D</a>(cont.<a class="code" href="../../df/d2c/structrc_contour.html#aa544ceef431b5fc5b3a6087e4b2fc53c">verts</a>, cont.<a class="code" href="../../df/d2c/structrc_contour.html#afcf77c01352f2c46172fdfabd2f9b9f6">nverts</a>) &lt; 0 ? -1 : 1;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;            <span class="keywordflow">if</span> (winding[i] &lt; 0)</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                nholes++;</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        }</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        </div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        <span class="keywordflow">if</span> (nholes &gt; 0)</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;        {</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;            <span class="comment">// Collect outline contour and holes contours per region.</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;            <span class="comment">// We assume that there is one outline and multiple holes.</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> nregions = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a6bfb7a2fdb06a64b03f0fffa885edd94">maxRegions</a>+1;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;            <a class="code" href="../../d9/d65/classrc_scoped_delete.html">rcScopedDelete&lt;rcContourRegion&gt;</a> regions((<a class="code" href="../../d8/d2f/structrc_contour_region.html">rcContourRegion</a>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../d8/d2f/structrc_contour_region.html">rcContourRegion</a>)*nregions, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60a5e5b510fb1d2422e28f5262d4bd058ee">RC_ALLOC_TEMP</a>));</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;            <span class="keywordflow">if</span> (!regions)</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;            {</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildContours: Out of memory &#39;regions&#39; (%d).&quot;</span>, nregions);</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;            }</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;            <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(regions, 0, <span class="keyword">sizeof</span>(<a class="code" href="../../d8/d2f/structrc_contour_region.html">rcContourRegion</a>)*nregions);</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;            </div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;            <a class="code" href="../../d9/d65/classrc_scoped_delete.html">rcScopedDelete&lt;rcContourHole&gt;</a> <a class="code" href="../../d6/da4/src_2tools_2map__extractor_2_system_8cpp.html#a0dd5ee5c0a7fa0dacf58e50adf0e3803">holes</a>((<a class="code" href="../../d8/d26/structrc_contour_hole.html">rcContourHole</a>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../d8/d26/structrc_contour_hole.html">rcContourHole</a>)*cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#aa751e5adb077b2ea7a9c8795e7a2fa99">nconts</a>, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60a5e5b510fb1d2422e28f5262d4bd058ee">RC_ALLOC_TEMP</a>));</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d6/da4/src_2tools_2map__extractor_2_system_8cpp.html#a0dd5ee5c0a7fa0dacf58e50adf0e3803">holes</a>)</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;            {</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildContours: Out of memory &#39;holes&#39; (%d).&quot;</span>, cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#aa751e5adb077b2ea7a9c8795e7a2fa99">nconts</a>);</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;            }</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;            <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(<a class="code" href="../../d6/da4/src_2tools_2map__extractor_2_system_8cpp.html#a0dd5ee5c0a7fa0dacf58e50adf0e3803">holes</a>, 0, <span class="keyword">sizeof</span>(<a class="code" href="../../d8/d26/structrc_contour_hole.html">rcContourHole</a>)*cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#aa751e5adb077b2ea7a9c8795e7a2fa99">nconts</a>);</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;            </div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#aa751e5adb077b2ea7a9c8795e7a2fa99">nconts</a>; ++i)</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;            {</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                <a class="code" href="../../df/d2c/structrc_contour.html">rcContour</a>&amp; cont = cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#ad737b7220701eeae5aa9c488d4d4f18d">conts</a>[i];</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                <span class="comment">// Positively would contours are outlines, negative holes.</span></div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                <span class="keywordflow">if</span> (winding[i] &gt; 0)</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                {</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                    <span class="keywordflow">if</span> (regions[cont.<a class="code" href="../../df/d2c/structrc_contour.html#a8971d5c5cc7c7fb8e5d79a6ff9812cd1">reg</a>].outline)</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildContours: Multiple outlines for region %d.&quot;</span>, cont.<a class="code" href="../../df/d2c/structrc_contour.html#a8971d5c5cc7c7fb8e5d79a6ff9812cd1">reg</a>);</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                    regions[cont.<a class="code" href="../../df/d2c/structrc_contour.html#a8971d5c5cc7c7fb8e5d79a6ff9812cd1">reg</a>].outline = &amp;cont;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                }</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                {</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                    regions[cont.<a class="code" href="../../df/d2c/structrc_contour.html#a8971d5c5cc7c7fb8e5d79a6ff9812cd1">reg</a>].nholes++;</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                }</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;            }</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a7fc0249f0f8ba720115d2430f5b86cbaa6a992d5529f459a44fee58c733255e86">index</a> = 0;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nregions; i++)</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;            {</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;                <span class="keywordflow">if</span> (regions[i].nholes &gt; 0)</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;                {</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;                    regions[i].holes = &amp;<a class="code" href="../../d6/da4/src_2tools_2map__extractor_2_system_8cpp.html#a0dd5ee5c0a7fa0dacf58e50adf0e3803">holes</a>[<a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a7fc0249f0f8ba720115d2430f5b86cbaa6a992d5529f459a44fee58c733255e86">index</a>];</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;                    <a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a7fc0249f0f8ba720115d2430f5b86cbaa6a992d5529f459a44fee58c733255e86">index</a> += regions[i].nholes;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;                    regions[i].nholes = 0;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                }</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;            }</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#aa751e5adb077b2ea7a9c8795e7a2fa99">nconts</a>; ++i)</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;            {</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;                <a class="code" href="../../df/d2c/structrc_contour.html">rcContour</a>&amp; cont = cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#ad737b7220701eeae5aa9c488d4d4f18d">conts</a>[i];</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                <a class="code" href="../../d8/d2f/structrc_contour_region.html">rcContourRegion</a>&amp; reg = regions[cont.<a class="code" href="../../df/d2c/structrc_contour.html#a8971d5c5cc7c7fb8e5d79a6ff9812cd1">reg</a>];</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;                <span class="keywordflow">if</span> (winding[i] &lt; 0)</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                    reg.<a class="code" href="../../d8/d2f/structrc_contour_region.html#ae12d68ef4a40342b654ce16ad1962dec">holes</a>[reg.<a class="code" href="../../d8/d2f/structrc_contour_region.html#a868d233f83da1275952c46874d808114">nholes</a>++].<a class="code" href="../../d8/d26/structrc_contour_hole.html#a11fb23a6bba9ccc948b8779aa78f6b54">contour</a> = &amp;cont;</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;            }</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;            </div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;            <span class="comment">// Finally merge each regions holes into the outline.</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nregions; i++)</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;            {</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                <a class="code" href="../../d8/d2f/structrc_contour_region.html">rcContourRegion</a>&amp; reg = regions[i];</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                <span class="keywordflow">if</span> (!reg.<a class="code" href="../../d8/d2f/structrc_contour_region.html#a868d233f83da1275952c46874d808114">nholes</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                </div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                <span class="keywordflow">if</span> (reg.<a class="code" href="../../d8/d2f/structrc_contour_region.html#abe0095d55beae3075672c9584211662c">outline</a>)</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;                {</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                    <a class="code" href="../../de/d0e/_recast_contour_8cpp.html#a7321f3f5954d621c5255819fe4f73004">mergeRegionHoles</a>(ctx, reg);</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;                }</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;                {</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;                    <span class="comment">// The region does not have an outline.</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                    <span class="comment">// This can happen if the contour becaomes selfoverlapping because of</span></div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                    <span class="comment">// too aggressive simplification settings.</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;                    ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildContours: Bad outline for region %d, contour simplification is likely too aggressive.&quot;</span>, i);</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                }</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;            }</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        }</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        </div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    }</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    </div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;}</div>
<div class="ttc" id="a_recast_8h_html_a862229e50c96b6b157b0ad7eac980b3c"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a></div><div class="ttdeci">int rcGetCon(const rcCompactSpan &amp;s, int dir)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l01080">Recast.h:1080</a></div></div>
<div class="ttc" id="a_recast_8h_html_ac47ca685874fce67f50bd580ef1e0497"><div class="ttname"><a href="../../de/d78/_recast_8h.html#ac47ca685874fce67f50bd580ef1e0497">RC_BORDER_REG</a></div><div class="ttdeci">static const unsigned short RC_BORDER_REG</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00536">Recast.h:536</a></div></div>
<div class="ttc" id="a_recast_alloc_8h_html_a1e8b4a818c5bf25bceae59a0b1857e60a5e5b510fb1d2422e28f5262d4bd058ee"><div class="ttname"><a href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60a5e5b510fb1d2422e28f5262d4bd058ee">RC_ALLOC_TEMP</a></div><div class="ttdeci">@ RC_ALLOC_TEMP</div><div class="ttdoc">Memory used temporarily within a function.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d54/_recast_alloc_8h_source.html#l00033">RecastAlloc.h:32</a></div></div>
<div class="ttc" id="a_recast_alloc_8h_html_a6fc4cfee655e24f94bad226f915ac397"><div class="ttname"><a href="../../de/d54/_recast_alloc_8h.html#a6fc4cfee655e24f94bad226f915ac397">rcFree</a></div><div class="ttdeci">void rcFree(void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d42/_recast_alloc_8cpp_source.html#l00056">RecastAlloc.cpp:56</a></div></div>
<div class="ttc" id="a_recast_contour_8cpp_html_a4e79138985b8e7443e813250a17d3f71"><div class="ttname"><a href="../../de/d0e/_recast_contour_8cpp.html#a4e79138985b8e7443e813250a17d3f71">removeDegenerateSegments</a></div><div class="ttdeci">static void removeDegenerateSegments(rcIntArray &amp;simplified)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d0e/_recast_contour_8cpp_source.html#l00580">RecastContour.cpp:580</a></div></div>
<div class="ttc" id="a_recast_contour_8cpp_html_a538aea06d768e3c175b9b8e47f254b52"><div class="ttname"><a href="../../de/d0e/_recast_contour_8cpp.html#a538aea06d768e3c175b9b8e47f254b52">calcAreaOfPolygon2D</a></div><div class="ttdeci">static int calcAreaOfPolygon2D(const int *verts, const int nverts)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d0e/_recast_contour_8cpp_source.html#l00454">RecastContour.cpp:454</a></div></div>
<div class="ttc" id="a_recast_contour_8cpp_html_a5f3ae9ba0be2db4fd93a7a6e01326c05"><div class="ttname"><a href="../../de/d0e/_recast_contour_8cpp.html#a5f3ae9ba0be2db4fd93a7a6e01326c05">walkContour</a></div><div class="ttdeci">static void walkContour(int x, int y, int i, rcCompactHeightfield &amp;chf, unsigned char *flags, rcIntArray &amp;points)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d0e/_recast_contour_8cpp_source.html#l00104">RecastContour.cpp:104</a></div></div>
<div class="ttc" id="a_recast_contour_8cpp_html_a7321f3f5954d621c5255819fe4f73004"><div class="ttname"><a href="../../de/d0e/_recast_contour_8cpp.html#a7321f3f5954d621c5255819fe4f73004">mergeRegionHoles</a></div><div class="ttdeci">static void mergeRegionHoles(rcContext *ctx, rcContourRegion &amp;region)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d0e/_recast_contour_8cpp_source.html#l00722">RecastContour.cpp:722</a></div></div>
<div class="ttc" id="a_recast_contour_8cpp_html_aa7cef37578da730d57670d60132da73f"><div class="ttname"><a href="../../de/d0e/_recast_contour_8cpp.html#aa7cef37578da730d57670d60132da73f">simplifyContour</a></div><div class="ttdeci">static void simplifyContour(rcIntArray &amp;points, rcIntArray &amp;simplified, const float maxError, const int maxEdgeLen, const int buildFlags)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d0e/_recast_contour_8cpp_source.html#l00210">RecastContour.cpp:210</a></div></div>
<div class="ttc" id="aclassrc_context_html_a3c8d3035e1046dd8907b10b7d9c8de57"><div class="ttname"><a href="../../da/d07/classrc_context.html#a3c8d3035e1046dd8907b10b7d9c8de57">rcContext::startTimer</a></div><div class="ttdeci">void startTimer(const rcTimerLabel label)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00131">Recast.h:131</a></div></div>
<div class="ttc" id="aclassrc_context_html_a3f7042723b8d99d486575eb3d592af25"><div class="ttname"><a href="../../da/d07/classrc_context.html#a3f7042723b8d99d486575eb3d592af25">rcContext::stopTimer</a></div><div class="ttdeci">void stopTimer(const rcTimerLabel label)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00135">Recast.h:135</a></div></div>
<div class="ttc" id="aclassrc_int_array_html"><div class="ttname"><a href="../../d6/d40/classrc_int_array.html">rcIntArray</a></div><div class="ttdoc">Legacy class. Prefer rcVector&lt;int&gt;.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d54/_recast_alloc_8h_source.html#l00298">RecastAlloc.h:299</a></div></div>
<div class="ttc" id="aclassrc_scoped_delete_html"><div class="ttname"><a href="../../d9/d65/classrc_scoped_delete.html">rcScopedDelete</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d54/_recast_alloc_8h_source.html#l00319">RecastAlloc.h:320</a></div></div>
<div class="ttc" id="afmt_2include_2fmt_2core_8h_html_a7fc0249f0f8ba720115d2430f5b86cbaa6a992d5529f459a44fee58c733255e86"><div class="ttname"><a href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a7fc0249f0f8ba720115d2430f5b86cbaa6a992d5529f459a44fee58c733255e86">arg_id_kind::index</a></div><div class="ttdeci">@ index</div></div>
<div class="ttc" id="am__string_8h_html_aed653b4838032a2c5ce8960421c8cfd7"><div class="ttname"><a href="../../d6/dda/m__string_8h.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a></div><div class="ttdeci">#define memcpy(d, s, n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dda/m__string_8h_source.html#l00050">m_string.h:50</a></div></div>
<div class="ttc" id="asrc_2tools_2map__extractor_2_system_8cpp_html_a0dd5ee5c0a7fa0dacf58e50adf0e3803"><div class="ttname"><a href="../../d6/da4/src_2tools_2map__extractor_2_system_8cpp.html#a0dd5ee5c0a7fa0dacf58e50adf0e3803">holes</a></div><div class="ttdeci">uint16 holes[ADT_CELLS_PER_GRID][ADT_CELLS_PER_GRID]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da4/src_2tools_2map__extractor_2_system_8cpp_source.html#l00401">System.cpp:401</a></div></div>
<div class="ttc" id="astructrc_compact_heightfield_html_a675418d81ce6ade83fbd18be2dfd1647"><div class="ttname"><a href="../../d0/dc4/structrc_compact_heightfield.html#a675418d81ce6ade83fbd18be2dfd1647">rcCompactHeightfield::borderSize</a></div><div class="ttdeci">int borderSize</div><div class="ttdoc">The AABB border size used during the build of the field. (See: rcConfig::borderSize)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00342">Recast.h:342</a></div></div>
<div class="ttc" id="astructrc_compact_span_html_aca1a16c8453c9533120c094979601d77"><div class="ttname"><a href="../../de/dce/structrc_compact_span.html#aca1a16c8453c9533120c094979601d77">rcCompactSpan::reg</a></div><div class="ttdeci">unsigned short reg</div><div class="ttdoc">The id of the region the span belongs to. (Or zero if not in a region.)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00326">Recast.h:326</a></div></div>
<div class="ttc" id="astructrc_contour_hole_html"><div class="ttname"><a href="../../d8/d26/structrc_contour_hole.html">rcContourHole</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d0e/_recast_contour_8cpp_source.html#l00650">RecastContour.cpp:651</a></div></div>
<div class="ttc" id="astructrc_contour_hole_html_a11fb23a6bba9ccc948b8779aa78f6b54"><div class="ttname"><a href="../../d8/d26/structrc_contour_hole.html#a11fb23a6bba9ccc948b8779aa78f6b54">rcContourHole::contour</a></div><div class="ttdeci">rcContour * contour</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d0e/_recast_contour_8cpp_source.html#l00652">RecastContour.cpp:652</a></div></div>
<div class="ttc" id="astructrc_contour_html"><div class="ttname"><a href="../../df/d2c/structrc_contour.html">rcContour</a></div><div class="ttdoc">Represents a simple, non-overlapping contour in field space.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00388">Recast.h:389</a></div></div>
<div class="ttc" id="astructrc_contour_html_a0cceba5f2070c42ac2a871189d4ceb53"><div class="ttname"><a href="../../df/d2c/structrc_contour.html#a0cceba5f2070c42ac2a871189d4ceb53">rcContour::nrverts</a></div><div class="ttdeci">int nrverts</div><div class="ttdoc">The number of vertices in the raw contour.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00393">Recast.h:393</a></div></div>
<div class="ttc" id="astructrc_contour_html_a1052e9ac2da6e515cbb12908a58fca78"><div class="ttname"><a href="../../df/d2c/structrc_contour.html#a1052e9ac2da6e515cbb12908a58fca78">rcContour::area</a></div><div class="ttdeci">unsigned char area</div><div class="ttdoc">The area id of the contour.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00395">Recast.h:395</a></div></div>
<div class="ttc" id="astructrc_contour_html_a59d014e6645850ab944767d427139996"><div class="ttname"><a href="../../df/d2c/structrc_contour.html#a59d014e6645850ab944767d427139996">rcContour::rverts</a></div><div class="ttdeci">int * rverts</div><div class="ttdoc">Raw contour vertex and connection data. [Size: 4 * nrverts].</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00392">Recast.h:392</a></div></div>
<div class="ttc" id="astructrc_contour_html_a8971d5c5cc7c7fb8e5d79a6ff9812cd1"><div class="ttname"><a href="../../df/d2c/structrc_contour.html#a8971d5c5cc7c7fb8e5d79a6ff9812cd1">rcContour::reg</a></div><div class="ttdeci">unsigned short reg</div><div class="ttdoc">The region id of the contour.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00394">Recast.h:394</a></div></div>
<div class="ttc" id="astructrc_contour_html_aa544ceef431b5fc5b3a6087e4b2fc53c"><div class="ttname"><a href="../../df/d2c/structrc_contour.html#aa544ceef431b5fc5b3a6087e4b2fc53c">rcContour::verts</a></div><div class="ttdeci">int * verts</div><div class="ttdoc">Simplified contour vertex and connection data. [Size: 4 * nverts].</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00390">Recast.h:390</a></div></div>
<div class="ttc" id="astructrc_contour_html_afcf77c01352f2c46172fdfabd2f9b9f6"><div class="ttname"><a href="../../df/d2c/structrc_contour.html#afcf77c01352f2c46172fdfabd2f9b9f6">rcContour::nverts</a></div><div class="ttdeci">int nverts</div><div class="ttdoc">The number of vertices in the simplified contour.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00391">Recast.h:391</a></div></div>
<div class="ttc" id="astructrc_contour_region_html"><div class="ttname"><a href="../../d8/d2f/structrc_contour_region.html">rcContourRegion</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d0e/_recast_contour_8cpp_source.html#l00656">RecastContour.cpp:657</a></div></div>
<div class="ttc" id="astructrc_contour_region_html_a868d233f83da1275952c46874d808114"><div class="ttname"><a href="../../d8/d2f/structrc_contour_region.html#a868d233f83da1275952c46874d808114">rcContourRegion::nholes</a></div><div class="ttdeci">int nholes</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d0e/_recast_contour_8cpp_source.html#l00660">RecastContour.cpp:660</a></div></div>
<div class="ttc" id="astructrc_contour_region_html_abe0095d55beae3075672c9584211662c"><div class="ttname"><a href="../../d8/d2f/structrc_contour_region.html#abe0095d55beae3075672c9584211662c">rcContourRegion::outline</a></div><div class="ttdeci">rcContour * outline</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d0e/_recast_contour_8cpp_source.html#l00658">RecastContour.cpp:658</a></div></div>
<div class="ttc" id="astructrc_contour_region_html_ae12d68ef4a40342b654ce16ad1962dec"><div class="ttname"><a href="../../d8/d2f/structrc_contour_region.html#ae12d68ef4a40342b654ce16ad1962dec">rcContourRegion::holes</a></div><div class="ttdeci">rcContourHole * holes</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d0e/_recast_contour_8cpp_source.html#l00659">RecastContour.cpp:659</a></div></div>
<div class="ttc" id="astructrc_contour_set_html_a18be0e9d84b65e8688153b0adb517124"><div class="ttname"><a href="../../db/d9f/structrc_contour_set.html#a18be0e9d84b65e8688153b0adb517124">rcContourSet::height</a></div><div class="ttdeci">int height</div><div class="ttdoc">The height of the set. (Along the z-axis in cell units.)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00411">Recast.h:411</a></div></div>
<div class="ttc" id="astructrc_contour_set_html_a1dbf04db7e828a3757e951e4f8499c95"><div class="ttname"><a href="../../db/d9f/structrc_contour_set.html#a1dbf04db7e828a3757e951e4f8499c95">rcContourSet::cs</a></div><div class="ttdeci">float cs</div><div class="ttdoc">The size of each cell. (On the xz-plane.)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00408">Recast.h:408</a></div></div>
<div class="ttc" id="astructrc_contour_set_html_a6528f1d81286f5bff26ae217c33da654"><div class="ttname"><a href="../../db/d9f/structrc_contour_set.html#a6528f1d81286f5bff26ae217c33da654">rcContourSet::bmin</a></div><div class="ttdeci">float bmin[3]</div><div class="ttdoc">The minimum bounds in world space. [(x, y, z)].</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00406">Recast.h:406</a></div></div>
<div class="ttc" id="astructrc_contour_set_html_aa751e5adb077b2ea7a9c8795e7a2fa99"><div class="ttname"><a href="../../db/d9f/structrc_contour_set.html#aa751e5adb077b2ea7a9c8795e7a2fa99">rcContourSet::nconts</a></div><div class="ttdeci">int nconts</div><div class="ttdoc">The number of contours in the set.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00405">Recast.h:405</a></div></div>
<div class="ttc" id="astructrc_contour_set_html_ad737b7220701eeae5aa9c488d4d4f18d"><div class="ttname"><a href="../../db/d9f/structrc_contour_set.html#ad737b7220701eeae5aa9c488d4d4f18d">rcContourSet::conts</a></div><div class="ttdeci">rcContour * conts</div><div class="ttdoc">An array of the contours in the set. [Size: nconts].</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00404">Recast.h:404</a></div></div>
<div class="ttc" id="astructrc_contour_set_html_ada4d5c2916f351065c6f5a382f087ebc"><div class="ttname"><a href="../../db/d9f/structrc_contour_set.html#ada4d5c2916f351065c6f5a382f087ebc">rcContourSet::ch</a></div><div class="ttdeci">float ch</div><div class="ttdoc">The height of each cell. (The minimum increment along the y-axis.)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00409">Recast.h:409</a></div></div>
<div class="ttc" id="astructrc_contour_set_html_adb04d1277e815ed89b156714bad3c17a"><div class="ttname"><a href="../../db/d9f/structrc_contour_set.html#adb04d1277e815ed89b156714bad3c17a">rcContourSet::borderSize</a></div><div class="ttdeci">int borderSize</div><div class="ttdoc">The AABB border size used to generate the source data from which the contours were derived.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00412">Recast.h:412</a></div></div>
<div class="ttc" id="astructrc_contour_set_html_ae756cdf05388b7455768011841c0f6a1"><div class="ttname"><a href="../../db/d9f/structrc_contour_set.html#ae756cdf05388b7455768011841c0f6a1">rcContourSet::bmax</a></div><div class="ttdeci">float bmax[3]</div><div class="ttdoc">The maximum bounds in world space. [(x, y, z)].</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00407">Recast.h:407</a></div></div>
<div class="ttc" id="astructrc_contour_set_html_af165415f9e2ef3cf446786040864e6d2"><div class="ttname"><a href="../../db/d9f/structrc_contour_set.html#af165415f9e2ef3cf446786040864e6d2">rcContourSet::width</a></div><div class="ttdeci">int width</div><div class="ttdoc">The width of the set. (Along the x-axis in cell units.)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00410">Recast.h:410</a></div></div>
<div class="ttc" id="astructrc_contour_set_html_af657b46878e8fff2dd731ee066e4e1b2"><div class="ttname"><a href="../../db/d9f/structrc_contour_set.html#af657b46878e8fff2dd731ee066e4e1b2">rcContourSet::maxError</a></div><div class="ttdeci">float maxError</div><div class="ttdoc">The max edge error that this contour set was simplified with.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00413">Recast.h:413</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d78/_recast_8h_source.html#l00395">rcContour::area</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00352">rcCompactHeightfield::areas</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00346">rcCompactHeightfield::bmax</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00407">rcContourSet::bmax</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00345">rcCompactHeightfield::bmin</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00406">rcContourSet::bmin</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00342">rcCompactHeightfield::borderSize</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00412">rcContourSet::borderSize</a>, <a class="el" href="../../d6/d3e/mpq_8py_source.html#l00295">mpq::c</a>, <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00454">calcAreaOfPolygon2D()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00349">rcCompactHeightfield::cells</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00348">rcCompactHeightfield::ch</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00409">rcContourSet::ch</a>, <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00652">rcContourHole::contour</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00404">rcContourSet::conts</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00347">rcCompactHeightfield::cs</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00408">rcContourSet::cs</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00338">rcCompactHeightfield::height</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00411">rcContourSet::height</a>, <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00659">rcContourRegion::holes</a>, <a class="el" href="../../d6/da4/src_2tools_2map__extractor_2_system_8cpp_source.html#l00401">holes</a>, <a class="el" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a7fc0249f0f8ba720115d2430f5b86cbaa6a992d5529f459a44fee58c733255e86">index</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00318">rcCompactCell::index</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00079">rcContext::log()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00413">rcContourSet::maxError</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00344">rcCompactHeightfield::maxRegions</a>, <a class="el" href="../../d6/dda/m__string_8h_source.html#l00050">memcpy</a>, <a class="el" href="../../d6/dda/m__string_8h_source.html#l00051">memset</a>, <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00722">mergeRegionHoles()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00405">rcContourSet::nconts</a>, <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00660">rcContourRegion::nholes</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00393">rcContour::nrverts</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00391">rcContour::nverts</a>, <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00658">rcContourRegion::outline</a>, <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00031">RC_ALLOC_PERM</a>, <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00032">RC_ALLOC_TEMP</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00536">RC_BORDER_REG</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00031">RC_LOG_ERROR</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00030">RC_LOG_WARNING</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00593">RC_NOT_CONNECTED</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00047">RC_TIMER_BUILD_CONTOURS</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00051">RC_TIMER_BUILD_CONTOURS_SIMPLIFY</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00049">RC_TIMER_BUILD_CONTOURS_TRACE</a>, <a class="el" href="../../d5/d42/_recast_alloc_8cpp_source.html#l00045">rcAlloc()</a>, <a class="el" href="../../d1/db5/_recast_assert_8h_source.html#l00047">rcAssert</a>, <a class="el" href="../../d5/d42/_recast_alloc_8cpp_source.html#l00056">rcFree()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l01080">rcGetCon()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l01090">rcGetDirOffsetX()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l01100">rcGetDirOffsetY()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00618">rcMax()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00723">rcVcopy()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00326">rcCompactSpan::reg</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00394">rcContour::reg</a>, <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00580">removeDegenerateSegments()</a>, <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00305">rcIntArray::resize()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00392">rcContour::rverts</a>, <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00210">simplifyContour()</a>, <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00312">rcIntArray::size()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00339">rcCompactHeightfield::spanCount</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00350">rcCompactHeightfield::spans</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00131">rcContext::startTimer()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00135">rcContext::stopTimer()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00390">rcContour::verts</a>, <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00104">walkContour()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00337">rcCompactHeightfield::width</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00410">rcContourSet::width</a>, <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00037">G3D::x</a>, and <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00038">G3D::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00092">TileBuilder::BuildInstance()</a>, <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00542">MMAP::MapBuilder::buildMoveMapTile()</a>, and <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00219">TileBuilder::BuildTiled()</a>.</p>

</div>
</div>
<a id="a255c830cc0d30fa0229a05033242e77d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a255c830cc0d30fa0229a05033242e77d">&#9670;&nbsp;</a></span>rcBuildDistanceField()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> rcBuildDistanceField </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a> &amp;&#160;</td>
          <td class="paramname"><em>chf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Builds the distance field for the specified compact heightfield.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>The build context to use during the operation. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">chf</td><td>A populated compact heightfield. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the operation completed successfully.</dd></dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<p>This is usually the second to the last step in creating a fully built compact heightfield. This step is required before regions are built using <a class="el" href="../../d0/d84/_recast_region_8cpp.html#abd57817e13cb07edb8168d8d2b1be5a5">rcBuildRegions</a> or <a class="el" href="../../d0/d84/_recast_region_8cpp.html#ae20320dae183d2e42addb42cced9cc8a">rcBuildRegionsMonotone</a>.</p>
<p>After this step, the distance data is available via the <a class="el" href="../../d0/dc4/structrc_compact_heightfield.html#a38921b347d72bdc07487d07e7608ffc7" title="The maximum distance value of any span within the field.">rcCompactHeightfield::maxDistance</a> and <a class="el" href="../../d0/dc4/structrc_compact_heightfield.html#af345442d6b49e71a2191c5e2dac3ca97" title="Array containing border distance data. [Size: spanCount].">rcCompactHeightfield::dist</a> fields.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp.html#abd57817e13cb07edb8168d8d2b1be5a5">rcBuildRegions</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp.html#ae20320dae183d2e42addb42cced9cc8a">rcBuildRegionsMonotone</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01254">1254</a> of file <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html">RecastRegion.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;{</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    <a class="code" href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a>(ctx);</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    </div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    <a class="code" href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a> timer(ctx, <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da2d9eae7de0473e03695f147c3b0ed4fe">RC_TIMER_BUILD_DISTANCEFIELD</a>);</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    </div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="keywordflow">if</span> (chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#af345442d6b49e71a2191c5e2dac3ca97">dist</a>)</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    {</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;        <a class="code" href="../../de/d54/_recast_alloc_8h.html#a6fc4cfee655e24f94bad226f915ac397">rcFree</a>(chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#af345442d6b49e71a2191c5e2dac3ca97">dist</a>);</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;        chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#af345442d6b49e71a2191c5e2dac3ca97">dist</a> = 0;</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    }</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    </div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>* src = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a>, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60a5e5b510fb1d2422e28f5262d4bd058ee">RC_ALLOC_TEMP</a>);</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    <span class="keywordflow">if</span> (!src)</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    {</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildDistanceField: Out of memory &#39;src&#39; (%d).&quot;</span>, chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a>);</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    }</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>* dst = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a>, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60a5e5b510fb1d2422e28f5262d4bd058ee">RC_ALLOC_TEMP</a>);</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="keywordflow">if</span> (!dst)</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    {</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildDistanceField: Out of memory &#39;dst&#39; (%d).&quot;</span>, chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a>);</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;        <a class="code" href="../../de/d54/_recast_alloc_8h.html#a6fc4cfee655e24f94bad226f915ac397">rcFree</a>(src);</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    }</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    </div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> maxDist = 0;</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160; </div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    {</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        <a class="code" href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a> timerDist(ctx, <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da95ae391397574299fa86757572dadf78">RC_TIMER_BUILD_DISTANCEFIELD_DIST</a>);</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160; </div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;        <a class="code" href="../../d0/d84/_recast_region_8cpp.html#af63d2a9505ebfbbf63efc02531af5153">calculateDistanceField</a>(chf, src, maxDist);</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;        chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a38921b347d72bdc07487d07e7608ffc7">maxDistance</a> = maxDist;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    }</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160; </div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    {</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;        <a class="code" href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a> timerBlur(ctx, <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da9452d6a2c2be5c1bb92a20440a42509c">RC_TIMER_BUILD_DISTANCEFIELD_BLUR</a>);</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160; </div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;        <span class="comment">// Blur</span></div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/d84/_recast_region_8cpp.html#a68b94f221565ed5b4e80e34272f43ef0">boxBlur</a>(chf, 1, src, dst) != src)</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;            <a class="code" href="../../de/d78/_recast_8h.html#a2b7d8e54f72e8918a8b19c73eedf2d46">rcSwap</a>(src, dst);</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160; </div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;        <span class="comment">// Store distance.</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;        chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#af345442d6b49e71a2191c5e2dac3ca97">dist</a> = src;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    }</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    </div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    <a class="code" href="../../de/d54/_recast_alloc_8h.html#a6fc4cfee655e24f94bad226f915ac397">rcFree</a>(dst);</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    </div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;}</div>
<div class="ttc" id="a_recast_8h_html_a2b7d8e54f72e8918a8b19c73eedf2d46"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a2b7d8e54f72e8918a8b19c73eedf2d46">rcSwap</a></div><div class="ttdeci">void rcSwap(T &amp;a, T &amp;b)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00606">Recast.h:606</a></div></div>
<div class="ttc" id="a_recast_region_8cpp_html_a68b94f221565ed5b4e80e34272f43ef0"><div class="ttname"><a href="../../d0/d84/_recast_region_8cpp.html#a68b94f221565ed5b4e80e34272f43ef0">boxBlur</a></div><div class="ttdeci">static unsigned short * boxBlur(rcCompactHeightfield &amp;chf, int thr, unsigned short *src, unsigned short *dst)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/_recast_region_8cpp_source.html#l00193">RecastRegion.cpp:193</a></div></div>
<div class="ttc" id="a_recast_region_8cpp_html_af63d2a9505ebfbbf63efc02531af5153"><div class="ttname"><a href="../../d0/d84/_recast_region_8cpp.html#af63d2a9505ebfbbf63efc02531af5153">calculateDistanceField</a></div><div class="ttdeci">static void calculateDistanceField(rcCompactHeightfield &amp;chf, unsigned short *src, unsigned short &amp;maxDist)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/_recast_region_8cpp_source.html#l00040">RecastRegion.cpp:40</a></div></div>
<div class="ttc" id="astructrc_compact_heightfield_html_a38921b347d72bdc07487d07e7608ffc7"><div class="ttname"><a href="../../d0/dc4/structrc_compact_heightfield.html#a38921b347d72bdc07487d07e7608ffc7">rcCompactHeightfield::maxDistance</a></div><div class="ttdeci">unsigned short maxDistance</div><div class="ttdoc">The maximum distance value of any span within the field.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00343">Recast.h:343</a></div></div>
<div class="ttc" id="astructrc_compact_heightfield_html_af345442d6b49e71a2191c5e2dac3ca97"><div class="ttname"><a href="../../d0/dc4/structrc_compact_heightfield.html#af345442d6b49e71a2191c5e2dac3ca97">rcCompactHeightfield::dist</a></div><div class="ttdeci">unsigned short * dist</div><div class="ttdoc">Array containing border distance data. [Size: spanCount].</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00351">Recast.h:351</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00193">boxBlur()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00040">calculateDistanceField()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00351">rcCompactHeightfield::dist</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00079">rcContext::log()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00343">rcCompactHeightfield::maxDistance</a>, <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00032">RC_ALLOC_TEMP</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00031">RC_LOG_ERROR</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00073">RC_TIMER_BUILD_DISTANCEFIELD</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00077">RC_TIMER_BUILD_DISTANCEFIELD_BLUR</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00075">RC_TIMER_BUILD_DISTANCEFIELD_DIST</a>, <a class="el" href="../../d5/d42/_recast_alloc_8cpp_source.html#l00045">rcAlloc()</a>, <a class="el" href="../../d1/db5/_recast_assert_8h_source.html#l00047">rcAssert</a>, <a class="el" href="../../d5/d42/_recast_alloc_8cpp_source.html#l00056">rcFree()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00606">rcSwap()</a>, and <a class="el" href="../../de/d78/_recast_8h_source.html#l00339">rcCompactHeightfield::spanCount</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00092">TileBuilder::BuildInstance()</a>, <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00542">MMAP::MapBuilder::buildMoveMapTile()</a>, and <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00219">TileBuilder::BuildTiled()</a>.</p>

</div>
</div>
<a id="acc58a20e570a6b536967015655f06dba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc58a20e570a6b536967015655f06dba">&#9670;&nbsp;</a></span>rcBuildHeightfieldLayers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> rcBuildHeightfieldLayers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a> &amp;&#160;</td>
          <td class="paramname"><em>chf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>borderSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>walkableHeight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d3c/structrc_heightfield_layer_set.html">rcHeightfieldLayerSet</a> &amp;&#160;</td>
          <td class="paramname"><em>lset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Builds a layer set from the specified compact heightfield.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>The build context to use during the operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">chf</td><td>A fully built compact heightfield. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">borderSize</td><td>The size of the non-navigable border around the heightfield. [Limit: &gt;=0] [Units: vx] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">walkableHeight</td><td>Minimum floor to 'ceiling' height that will still allow the floor area to be considered walkable. [Limit: &gt;= 3] [Units: vx] </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">lset</td><td>The resulting layer set. (Must be pre-allocated.) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the operation completed successfully.</dd></dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<p>See the <a class="el" href="../../d2/d52/structrc_config.html">rcConfig</a> documentation for more information on the configuration parameters.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d3/d01/_recast_8cpp.html#adc45406abb9ac9d1efddee04054207f5">rcAllocHeightfieldLayerSet</a>, <a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a>, <a class="el" href="../../dc/d3c/structrc_heightfield_layer_set.html">rcHeightfieldLayerSet</a>, <a class="el" href="../../d2/d52/structrc_config.html">rcConfig</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d20/_recast_layers_8cpp_source.html#l00092">92</a> of file <a class="el" href="../../d3/d20/_recast_layers_8cpp_source.html">RecastLayers.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;{</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a>(ctx);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a> timer(ctx, <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18daa13252ec42af278ed8b511ef2573efba">RC_TIMER_BUILD_LAYERS</a>);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> w = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a98868c1df2523cd724696ed1d223ba13">width</a>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> h = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a25d9e16e5d82cf698e47b18a5740b639">height</a>;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <a class="code" href="../../d9/d65/classrc_scoped_delete.html">rcScopedDelete&lt;unsigned char&gt;</a> srcReg((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a>, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60a5e5b510fb1d2422e28f5262d4bd058ee">RC_ALLOC_TEMP</a>));</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">if</span> (!srcReg)</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildHeightfieldLayers: Out of memory &#39;srcReg&#39; (%d).&quot;</span>, chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a>);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(srcReg,0xff,<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a>);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> nsweeps = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a98868c1df2523cd724696ed1d223ba13">width</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <a class="code" href="../../d9/d65/classrc_scoped_delete.html">rcScopedDelete&lt;rcLayerSweepSpan&gt;</a> sweeps((<a class="code" href="../../d6/de9/structrc_layer_sweep_span.html">rcLayerSweepSpan</a>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../d6/de9/structrc_layer_sweep_span.html">rcLayerSweepSpan</a>)*nsweeps, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60a5e5b510fb1d2422e28f5262d4bd058ee">RC_ALLOC_TEMP</a>));</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">if</span> (!sweeps)</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildHeightfieldLayers: Out of memory &#39;sweeps&#39; (%d).&quot;</span>, nsweeps);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="comment">// Partition walkable area into monotone regions.</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordtype">int</span> prevCount[256];</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> regId = 0;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> = borderSize; <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> &lt; h-borderSize; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>)</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(prevCount,0,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*regId);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> sweepId = 0;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> = borderSize; <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> &lt; w-borderSize; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>)</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../d6/dff/structrc_compact_cell.html">rcCompactCell</a>&amp; <a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a> = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>+<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>*w];</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = (<span class="keywordtype">int</span>)<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index, ni = (<span class="keywordtype">int</span>)(<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index+<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.count); i &lt; ni; ++i)</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                <span class="keyword">const</span> <a class="code" href="../../de/dce/structrc_compact_span.html">rcCompactSpan</a>&amp; s = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>[i];</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                <span class="keywordflow">if</span> (chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[i] == <a class="code" href="../../de/d78/_recast_8h.html#a5105dbfb2d2bf8aa69122db502d0e39e">RC_NULL_AREA</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> sid = 0xff;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                <span class="comment">// -x</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(s, 0) != <a class="code" href="../../de/d78/_recast_8h.html#a64354aff947c2d8040e39bb4ceaf1a9f">RC_NOT_CONNECTED</a>)</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> ax = <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> + <a class="code" href="../../de/d78/_recast_8h.html#a08323ca2f8069b8c7291f8d26ba7fbb8">rcGetDirOffsetX</a>(0);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> ay = <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> + <a class="code" href="../../de/d78/_recast_8h.html#ab2dfeacce04b6d055723627b61515aa0">rcGetDirOffsetY</a>(0);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> ai = (int)chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[ax+ay*w].<a class="code" href="../../d6/dff/structrc_compact_cell.html#ad1695135ae520dfee8c39aa7b1fd41d8">index</a> + <a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(s, 0);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                    <span class="keywordflow">if</span> (chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[ai] != <a class="code" href="../../de/d78/_recast_8h.html#a5105dbfb2d2bf8aa69122db502d0e39e">RC_NULL_AREA</a> &amp;&amp; srcReg[ai] != 0xff)</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                        sid = srcReg[ai];</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                }</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                <span class="keywordflow">if</span> (sid == 0xff)</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                    sid = sweepId++;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                    sweeps[sid].nei = 0xff;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                    sweeps[sid].ns = 0;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                }</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                <span class="comment">// -y</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(s,3) != <a class="code" href="../../de/d78/_recast_8h.html#a64354aff947c2d8040e39bb4ceaf1a9f">RC_NOT_CONNECTED</a>)</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> ax = <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> + <a class="code" href="../../de/d78/_recast_8h.html#a08323ca2f8069b8c7291f8d26ba7fbb8">rcGetDirOffsetX</a>(3);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> ay = <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> + <a class="code" href="../../de/d78/_recast_8h.html#ab2dfeacce04b6d055723627b61515aa0">rcGetDirOffsetY</a>(3);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> ai = (int)chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[ax+ay*w].<a class="code" href="../../d6/dff/structrc_compact_cell.html#ad1695135ae520dfee8c39aa7b1fd41d8">index</a> + <a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(s, 3);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> nr = srcReg[ai];</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                    <span class="keywordflow">if</span> (nr != 0xff)</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                    {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                        <span class="comment">// Set neighbour when first valid neighbour is encoutered.</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                        <span class="keywordflow">if</span> (sweeps[sid].ns == 0)</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                            sweeps[sid].nei = nr;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                        </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                        <span class="keywordflow">if</span> (sweeps[sid].nei == nr)</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                        {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                            <span class="comment">// Update existing neighbour</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                            sweeps[sid].ns++;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                            prevCount[nr]++;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                        }</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                        {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                            <span class="comment">// This is hit if there is nore than one neighbour.</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                            <span class="comment">// Invalidate the neighbour.</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                            sweeps[sid].nei = 0xff;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                        }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                    }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                srcReg[i] = sid;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="comment">// Create unique ID.</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; sweepId; ++i)</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            <span class="comment">// If the neighbour is set and there is only one continuous connection to it,</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            <span class="comment">// the sweep will be merged with the previous one, else new region is created.</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            <span class="keywordflow">if</span> (sweeps[i].nei != 0xff &amp;&amp; prevCount[sweeps[i].nei] == (<span class="keywordtype">int</span>)sweeps[i].ns)</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                sweeps[i].id = sweeps[i].nei;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                <span class="keywordflow">if</span> (regId == 255)</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                    ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildHeightfieldLayers: Region ID overflow.&quot;</span>);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                }</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                sweeps[i].id = regId++;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        }</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="comment">// Remap local sweep ids to region ids.</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> = borderSize; <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> &lt; w-borderSize; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>)</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../d6/dff/structrc_compact_cell.html">rcCompactCell</a>&amp; <a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a> = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>+<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>*w];</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = (<span class="keywordtype">int</span>)<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index, ni = (int)(<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index+<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.count); i &lt; ni; ++i)</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                <span class="keywordflow">if</span> (srcReg[i] != 0xff)</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                    srcReg[i] = sweeps[srcReg[i]].id;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="comment">// Allocate and init layer regions.</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> nregs = (int)regId;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <a class="code" href="../../d9/d65/classrc_scoped_delete.html">rcScopedDelete&lt;rcLayerRegion&gt;</a> regs((<a class="code" href="../../d6/d96/structrc_layer_region.html">rcLayerRegion</a>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../d6/d96/structrc_layer_region.html">rcLayerRegion</a>)*nregs, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60a5e5b510fb1d2422e28f5262d4bd058ee">RC_ALLOC_TEMP</a>));</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">if</span> (!regs)</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildHeightfieldLayers: Out of memory &#39;regs&#39; (%d).&quot;</span>, nregs);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    }</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(regs, 0, <span class="keyword">sizeof</span>(<a class="code" href="../../d6/d96/structrc_layer_region.html">rcLayerRegion</a>)*nregs);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nregs; ++i)</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        regs[i].layerId = 0xff;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        regs[i].ymin = 0xffff;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        regs[i].ymax = 0;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    }</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="comment">// Find region neighbours and overlapping regions.</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> = 0; <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> &lt; h; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>)</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> = 0; <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> &lt; w; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>)</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../d6/dff/structrc_compact_cell.html">rcCompactCell</a>&amp; <a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a> = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>+<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>*w];</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> lregs[<a class="code" href="../../d3/d20/_recast_layers_8cpp.html#a0865bdb05f7816f06bd8666f04535f42">RC_MAX_LAYERS</a>];</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            <span class="keywordtype">int</span> nlregs = 0;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = (<span class="keywordtype">int</span>)<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index, ni = (<span class="keywordtype">int</span>)(<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index+<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.count); i &lt; ni; ++i)</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                <span class="keyword">const</span> <a class="code" href="../../de/dce/structrc_compact_span.html">rcCompactSpan</a>&amp; s = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>[i];</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ri = srcReg[i];</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                <span class="keywordflow">if</span> (ri == 0xff) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                regs[ri].ymin = <a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>(regs[ri].ymin, s.<a class="code" href="../../de/dce/structrc_compact_span.html#a51e8cdcf30408a3f84da22c4d2623b68">y</a>);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                regs[ri].ymax = <a class="code" href="../../de/d78/_recast_8h.html#accb921a8353da3a74aa90a491aff74c8">rcMax</a>(regs[ri].ymax, s.<a class="code" href="../../de/dce/structrc_compact_span.html#a51e8cdcf30408a3f84da22c4d2623b68">y</a>);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                <span class="comment">// Collect all region layers.</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                <span class="keywordflow">if</span> (nlregs &lt; <a class="code" href="../../d3/d20/_recast_layers_8cpp.html#a0865bdb05f7816f06bd8666f04535f42">RC_MAX_LAYERS</a>)</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                    lregs[nlregs++] = ri;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                <span class="comment">// Update neighbours</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> dir = 0; dir &lt; 4; ++dir)</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                {</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(s, dir) != <a class="code" href="../../de/d78/_recast_8h.html#a64354aff947c2d8040e39bb4ceaf1a9f">RC_NOT_CONNECTED</a>)</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                    {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> ax = <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> + <a class="code" href="../../de/d78/_recast_8h.html#a08323ca2f8069b8c7291f8d26ba7fbb8">rcGetDirOffsetX</a>(dir);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> ay = <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> + <a class="code" href="../../de/d78/_recast_8h.html#ab2dfeacce04b6d055723627b61515aa0">rcGetDirOffsetY</a>(dir);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> ai = (int)chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[ax+ay*w].<a class="code" href="../../d6/dff/structrc_compact_cell.html#ad1695135ae520dfee8c39aa7b1fd41d8">index</a> + <a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(s, dir);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> rai = srcReg[ai];</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                        <span class="keywordflow">if</span> (rai != 0xff &amp;&amp; rai != ri)</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                        {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                            <span class="comment">// Don&#39;t check return value -- if we cannot add the neighbor</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                            <span class="comment">// it will just cause a few more regions to be created, which</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                            <span class="comment">// is fine.</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                            <a class="code" href="../../d3/d20/_recast_layers_8cpp.html#adc2593ebcf70cf17029ab4a28013c29b">addUnique</a>(regs[ri].neis, regs[ri].nneis, <a class="code" href="../../d3/d20/_recast_layers_8cpp.html#adc47551fbc117d2c43a91dd14a78df66">RC_MAX_NEIS</a>, rai);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                        }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                    }</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            }</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <span class="comment">// Update overlapping regions.</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nlregs-1; ++i)</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = i+1; j &lt; nlregs; ++j)</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                    <span class="keywordflow">if</span> (lregs[i] != lregs[j])</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                    {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                        <a class="code" href="../../d6/d96/structrc_layer_region.html">rcLayerRegion</a>&amp; ri = regs[lregs[i]];</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                        <a class="code" href="../../d6/d96/structrc_layer_region.html">rcLayerRegion</a>&amp; rj = regs[lregs[j]];</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                        <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d20/_recast_layers_8cpp.html#adc2593ebcf70cf17029ab4a28013c29b">addUnique</a>(ri.<a class="code" href="../../d6/d96/structrc_layer_region.html#aba2653474f31343b075cb51167276b09">layers</a>, ri.<a class="code" href="../../d6/d96/structrc_layer_region.html#a6c0f115441207bdf6eb739a000229bb2">nlayers</a>, <a class="code" href="../../d3/d20/_recast_layers_8cpp.html#a0865bdb05f7816f06bd8666f04535f42">RC_MAX_LAYERS</a>, lregs[j]) ||</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                            !<a class="code" href="../../d3/d20/_recast_layers_8cpp.html#adc2593ebcf70cf17029ab4a28013c29b">addUnique</a>(rj.<a class="code" href="../../d6/d96/structrc_layer_region.html#aba2653474f31343b075cb51167276b09">layers</a>, rj.<a class="code" href="../../d6/d96/structrc_layer_region.html#a6c0f115441207bdf6eb739a000229bb2">nlayers</a>, <a class="code" href="../../d3/d20/_recast_layers_8cpp.html#a0865bdb05f7816f06bd8666f04535f42">RC_MAX_LAYERS</a>, lregs[i]))</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                        {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                            ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildHeightfieldLayers: layer overflow (too many overlapping walkable platforms). Try increasing RC_MAX_LAYERS.&quot;</span>);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                        }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                    }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                }</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="comment">// Create 2D layers from regions.</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> layerId = 0;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> MAX_STACK = 64;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> stack[MAX_STACK];</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordtype">int</span> nstack = 0;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nregs; ++i)</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <a class="code" href="../../d6/d96/structrc_layer_region.html">rcLayerRegion</a>&amp; root = regs[i];</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="comment">// Skip already visited.</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="keywordflow">if</span> (root.<a class="code" href="../../d6/d96/structrc_layer_region.html#a98aa2992acd9a6ebcf57a401182e6b1b">layerId</a> != 0xff)</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160; </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="comment">// Start search.</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        root.<a class="code" href="../../d6/d96/structrc_layer_region.html#a98aa2992acd9a6ebcf57a401182e6b1b">layerId</a> = layerId;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        root.<a class="code" href="../../d6/d96/structrc_layer_region.html#ad49bf74284d20c2d7c3ef56f6b4c589f">base</a> = 1;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        nstack = 0;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        stack[nstack++] = (<span class="keywordtype">unsigned</span> char)i;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <span class="keywordflow">while</span> (nstack)</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            <span class="comment">// Pop front</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            <a class="code" href="../../d6/d96/structrc_layer_region.html">rcLayerRegion</a>&amp; reg = regs[stack[0]];</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            nstack--;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; nstack; ++j)</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                stack[j] = stack[j+1];</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> nneis = (int)reg.<a class="code" href="../../d6/d96/structrc_layer_region.html#ac8dbef0b5cc388f6fb6492a7a4192c61">nneis</a>;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            for (<span class="keywordtype">int</span> j = 0; j &lt; nneis; ++j)</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> nei = reg.<a class="code" href="../../d6/d96/structrc_layer_region.html#a4ecba0bd9f4f46d3c349f96670c7ba05">neis</a>[j];</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                <a class="code" href="../../d6/d96/structrc_layer_region.html">rcLayerRegion</a>&amp; regn = regs[nei];</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                <span class="comment">// Skip already visited.</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                <span class="keywordflow">if</span> (regn.<a class="code" href="../../d6/d96/structrc_layer_region.html#a98aa2992acd9a6ebcf57a401182e6b1b">layerId</a> != 0xff)</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                <span class="comment">// Skip if the neighbour is overlapping root region.</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d3/d20/_recast_layers_8cpp.html#a4bb3cae5fa2c81629762ccb89c6d136c">contains</a>(root.<a class="code" href="../../d6/d96/structrc_layer_region.html#aba2653474f31343b075cb51167276b09">layers</a>, root.<a class="code" href="../../d6/d96/structrc_layer_region.html#a6c0f115441207bdf6eb739a000229bb2">nlayers</a>, nei))</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                <span class="comment">// Skip if the height range would become too large.</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> ymin = <a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>(root.<a class="code" href="../../d6/d96/structrc_layer_region.html#a5d6ec3a8040c16fd837ea4e06264044c">ymin</a>, regn.<a class="code" href="../../d6/d96/structrc_layer_region.html#a5d6ec3a8040c16fd837ea4e06264044c">ymin</a>);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> ymax = <a class="code" href="../../de/d78/_recast_8h.html#accb921a8353da3a74aa90a491aff74c8">rcMax</a>(root.<a class="code" href="../../d6/d96/structrc_layer_region.html#ac62ab3eceaca8cb92f3b72c9ef697bb4">ymax</a>, regn.<a class="code" href="../../d6/d96/structrc_layer_region.html#ac62ab3eceaca8cb92f3b72c9ef697bb4">ymax</a>);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                <span class="keywordflow">if</span> ((ymax - ymin) &gt;= 255)</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                     <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                <span class="keywordflow">if</span> (nstack &lt; MAX_STACK)</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                    <span class="comment">// Deepen</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                    stack[nstack++] = (<span class="keywordtype">unsigned</span> char)nei;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                    </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                    <span class="comment">// Mark layer id</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                    regn.<a class="code" href="../../d6/d96/structrc_layer_region.html#a98aa2992acd9a6ebcf57a401182e6b1b">layerId</a> = layerId;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                    <span class="comment">// Merge current layers to root.</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; regn.<a class="code" href="../../d6/d96/structrc_layer_region.html#a6c0f115441207bdf6eb739a000229bb2">nlayers</a>; ++k)</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                    {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                        <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d20/_recast_layers_8cpp.html#adc2593ebcf70cf17029ab4a28013c29b">addUnique</a>(root.<a class="code" href="../../d6/d96/structrc_layer_region.html#aba2653474f31343b075cb51167276b09">layers</a>, root.<a class="code" href="../../d6/d96/structrc_layer_region.html#a6c0f115441207bdf6eb739a000229bb2">nlayers</a>, <a class="code" href="../../d3/d20/_recast_layers_8cpp.html#a0865bdb05f7816f06bd8666f04535f42">RC_MAX_LAYERS</a>, regn.<a class="code" href="../../d6/d96/structrc_layer_region.html#aba2653474f31343b075cb51167276b09">layers</a>[k]))</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                        {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                            ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildHeightfieldLayers: layer overflow (too many overlapping walkable platforms). Try increasing RC_MAX_LAYERS.&quot;</span>);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                        }</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                    }</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                    root.<a class="code" href="../../d6/d96/structrc_layer_region.html#a5d6ec3a8040c16fd837ea4e06264044c">ymin</a> = <a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>(root.<a class="code" href="../../d6/d96/structrc_layer_region.html#a5d6ec3a8040c16fd837ea4e06264044c">ymin</a>, regn.<a class="code" href="../../d6/d96/structrc_layer_region.html#a5d6ec3a8040c16fd837ea4e06264044c">ymin</a>);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                    root.<a class="code" href="../../d6/d96/structrc_layer_region.html#ac62ab3eceaca8cb92f3b72c9ef697bb4">ymax</a> = <a class="code" href="../../de/d78/_recast_8h.html#accb921a8353da3a74aa90a491aff74c8">rcMax</a>(root.<a class="code" href="../../d6/d96/structrc_layer_region.html#ac62ab3eceaca8cb92f3b72c9ef697bb4">ymax</a>, regn.<a class="code" href="../../d6/d96/structrc_layer_region.html#ac62ab3eceaca8cb92f3b72c9ef697bb4">ymax</a>);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                }</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        layerId++;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="comment">// Merge non-overlapping regions that are close in height.</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> mergeHeight = (<span class="keywordtype">unsigned</span> short)walkableHeight * 4;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nregs; ++i)</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <a class="code" href="../../d6/d96/structrc_layer_region.html">rcLayerRegion</a>&amp; ri = regs[i];</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="keywordflow">if</span> (!ri.<a class="code" href="../../d6/d96/structrc_layer_region.html#ad49bf74284d20c2d7c3ef56f6b4c589f">base</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> newId = ri.<a class="code" href="../../d6/d96/structrc_layer_region.html#a98aa2992acd9a6ebcf57a401182e6b1b">layerId</a>;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="keywordflow">for</span> (;;)</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        {</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> oldId = 0xff;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; nregs; ++j)</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                <span class="keywordflow">if</span> (i == j) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                <a class="code" href="../../d6/d96/structrc_layer_region.html">rcLayerRegion</a>&amp; rj = regs[j];</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                <span class="keywordflow">if</span> (!rj.<a class="code" href="../../d6/d96/structrc_layer_region.html#ad49bf74284d20c2d7c3ef56f6b4c589f">base</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                <span class="comment">// Skip if the regions are not close to each other.</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d20/_recast_layers_8cpp.html#a9df3149dc43b5528b0003e20ccb931e3">overlapRange</a>(ri.<a class="code" href="../../d6/d96/structrc_layer_region.html#a5d6ec3a8040c16fd837ea4e06264044c">ymin</a>,ri.<a class="code" href="../../d6/d96/structrc_layer_region.html#ac62ab3eceaca8cb92f3b72c9ef697bb4">ymax</a>+mergeHeight, rj.<a class="code" href="../../d6/d96/structrc_layer_region.html#a5d6ec3a8040c16fd837ea4e06264044c">ymin</a>,rj.<a class="code" href="../../d6/d96/structrc_layer_region.html#ac62ab3eceaca8cb92f3b72c9ef697bb4">ymax</a>+mergeHeight))</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                <span class="comment">// Skip if the height range would become too large.</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> ymin = <a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>(ri.<a class="code" href="../../d6/d96/structrc_layer_region.html#a5d6ec3a8040c16fd837ea4e06264044c">ymin</a>, rj.<a class="code" href="../../d6/d96/structrc_layer_region.html#a5d6ec3a8040c16fd837ea4e06264044c">ymin</a>);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> ymax = <a class="code" href="../../de/d78/_recast_8h.html#accb921a8353da3a74aa90a491aff74c8">rcMax</a>(ri.<a class="code" href="../../d6/d96/structrc_layer_region.html#ac62ab3eceaca8cb92f3b72c9ef697bb4">ymax</a>, rj.<a class="code" href="../../d6/d96/structrc_layer_region.html#ac62ab3eceaca8cb92f3b72c9ef697bb4">ymax</a>);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                <span class="keywordflow">if</span> ((ymax - ymin) &gt;= 255)</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                  <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                          </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                <span class="comment">// Make sure that there is no overlap when merging &#39;ri&#39; and &#39;rj&#39;.</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                <span class="keywordtype">bool</span> overlap = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                <span class="comment">// Iterate over all regions which have the same layerId as &#39;rj&#39;</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; nregs; ++k)</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                    <span class="keywordflow">if</span> (regs[k].layerId != rj.<a class="code" href="../../d6/d96/structrc_layer_region.html#a98aa2992acd9a6ebcf57a401182e6b1b">layerId</a>)</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                    <span class="comment">// Check if region &#39;k&#39; is overlapping region &#39;ri&#39;</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                    <span class="comment">// Index to &#39;regs&#39; is the same as region id.</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d3/d20/_recast_layers_8cpp.html#a4bb3cae5fa2c81629762ccb89c6d136c">contains</a>(ri.<a class="code" href="../../d6/d96/structrc_layer_region.html#aba2653474f31343b075cb51167276b09">layers</a>,ri.<a class="code" href="../../d6/d96/structrc_layer_region.html#a6c0f115441207bdf6eb739a000229bb2">nlayers</a>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)k))</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                    {</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                        overlap = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                    }</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                }</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                <span class="comment">// Cannot merge of regions overlap.</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                <span class="keywordflow">if</span> (overlap)</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                </div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                <span class="comment">// Can merge i and j.</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                oldId = rj.<a class="code" href="../../d6/d96/structrc_layer_region.html#a98aa2992acd9a6ebcf57a401182e6b1b">layerId</a>;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            }</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            <span class="comment">// Could not find anything to merge with, stop.</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            <span class="keywordflow">if</span> (oldId == 0xff)</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            </div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            <span class="comment">// Merge</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; nregs; ++j)</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                <a class="code" href="../../d6/d96/structrc_layer_region.html">rcLayerRegion</a>&amp; rj = regs[j];</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                <span class="keywordflow">if</span> (rj.<a class="code" href="../../d6/d96/structrc_layer_region.html#a98aa2992acd9a6ebcf57a401182e6b1b">layerId</a> == oldId)</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                    rj.<a class="code" href="../../d6/d96/structrc_layer_region.html#ad49bf74284d20c2d7c3ef56f6b4c589f">base</a> = 0;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                    <span class="comment">// Remap layerIds.</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                    rj.<a class="code" href="../../d6/d96/structrc_layer_region.html#a98aa2992acd9a6ebcf57a401182e6b1b">layerId</a> = newId;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                    <span class="comment">// Add overlaid layers from &#39;rj&#39; to &#39;ri&#39;.</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; rj.<a class="code" href="../../d6/d96/structrc_layer_region.html#a6c0f115441207bdf6eb739a000229bb2">nlayers</a>; ++k)</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                    {</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                        <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d20/_recast_layers_8cpp.html#adc2593ebcf70cf17029ab4a28013c29b">addUnique</a>(ri.<a class="code" href="../../d6/d96/structrc_layer_region.html#aba2653474f31343b075cb51167276b09">layers</a>, ri.<a class="code" href="../../d6/d96/structrc_layer_region.html#a6c0f115441207bdf6eb739a000229bb2">nlayers</a>, <a class="code" href="../../d3/d20/_recast_layers_8cpp.html#a0865bdb05f7816f06bd8666f04535f42">RC_MAX_LAYERS</a>, rj.<a class="code" href="../../d6/d96/structrc_layer_region.html#aba2653474f31343b075cb51167276b09">layers</a>[k]))</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                        {</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                            ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildHeightfieldLayers: layer overflow (too many overlapping walkable platforms). Try increasing RC_MAX_LAYERS.&quot;</span>);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                        }</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                    }</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160; </div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                    <span class="comment">// Update height bounds.</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                    ri.<a class="code" href="../../d6/d96/structrc_layer_region.html#a5d6ec3a8040c16fd837ea4e06264044c">ymin</a> = <a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>(ri.<a class="code" href="../../d6/d96/structrc_layer_region.html#a5d6ec3a8040c16fd837ea4e06264044c">ymin</a>, rj.<a class="code" href="../../d6/d96/structrc_layer_region.html#a5d6ec3a8040c16fd837ea4e06264044c">ymin</a>);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                    ri.<a class="code" href="../../d6/d96/structrc_layer_region.html#ac62ab3eceaca8cb92f3b72c9ef697bb4">ymax</a> = <a class="code" href="../../de/d78/_recast_8h.html#accb921a8353da3a74aa90a491aff74c8">rcMax</a>(ri.<a class="code" href="../../d6/d96/structrc_layer_region.html#ac62ab3eceaca8cb92f3b72c9ef697bb4">ymax</a>, rj.<a class="code" href="../../d6/d96/structrc_layer_region.html#ac62ab3eceaca8cb92f3b72c9ef697bb4">ymax</a>);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                }</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        }</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    }</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    </div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="comment">// Compact layerIds</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> remap[256];</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(remap, 0, 256);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160; </div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="comment">// Find number of unique layers.</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    layerId = 0;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nregs; ++i)</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        remap[regs[i].layerId] = 1;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 256; ++i)</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="keywordflow">if</span> (remap[i])</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            remap[i] = layerId++;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            remap[i] = 0xff;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    }</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="comment">// Remap ids.</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nregs; ++i)</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        regs[i].layerId = remap[regs[i].layerId];</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    </div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="comment">// No layers, return empty.</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordflow">if</span> (layerId == 0)</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="comment">// Create layers.</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <a class="code" href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a>(lset.<a class="code" href="../../dc/d3c/structrc_heightfield_layer_set.html#a9ce20a3ccd65f24b6704e57768c2ea5c">layers</a> == 0);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> lw = w - borderSize*2;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> lh = h - borderSize*2;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160; </div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="comment">// Build contracted bbox for layers.</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keywordtype">float</span> bmin[3], bmax[3];</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a9cbb34310e47a6def133a4b533d073ea">rcVcopy</a>(bmin, chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ae73d55ffeafd659c189bf14e440b902f">bmin</a>);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a9cbb34310e47a6def133a4b533d073ea">rcVcopy</a>(bmax, chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a5d175954135840be9d4e4fc3b36d8067">bmax</a>);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    bmin[0] += borderSize*chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a75ee8e198d672db29a2f98c7463c0b31">cs</a>;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    bmin[2] += borderSize*chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a75ee8e198d672db29a2f98c7463c0b31">cs</a>;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    bmax[0] -= borderSize*chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a75ee8e198d672db29a2f98c7463c0b31">cs</a>;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    bmax[2] -= borderSize*chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a75ee8e198d672db29a2f98c7463c0b31">cs</a>;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    lset.<a class="code" href="../../dc/d3c/structrc_heightfield_layer_set.html#aee43327ad152d5dea25ed5299f38101a">nlayers</a> = (int)layerId;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    </div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    lset.<a class="code" href="../../dc/d3c/structrc_heightfield_layer_set.html#a9ce20a3ccd65f24b6704e57768c2ea5c">layers</a> = (<a class="code" href="../../d3/d37/structrc_heightfield_layer.html">rcHeightfieldLayer</a>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../d3/d37/structrc_heightfield_layer.html">rcHeightfieldLayer</a>)*lset.<a class="code" href="../../dc/d3c/structrc_heightfield_layer_set.html#aee43327ad152d5dea25ed5299f38101a">nlayers</a>, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">if</span> (!lset.<a class="code" href="../../dc/d3c/structrc_heightfield_layer_set.html#a9ce20a3ccd65f24b6704e57768c2ea5c">layers</a>)</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildHeightfieldLayers: Out of memory &#39;layers&#39; (%d).&quot;</span>, lset.<a class="code" href="../../dc/d3c/structrc_heightfield_layer_set.html#aee43327ad152d5dea25ed5299f38101a">nlayers</a>);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    }</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(lset.<a class="code" href="../../dc/d3c/structrc_heightfield_layer_set.html#a9ce20a3ccd65f24b6704e57768c2ea5c">layers</a>, 0, <span class="keyword">sizeof</span>(<a class="code" href="../../d3/d37/structrc_heightfield_layer.html">rcHeightfieldLayer</a>)*lset.<a class="code" href="../../dc/d3c/structrc_heightfield_layer_set.html#aee43327ad152d5dea25ed5299f38101a">nlayers</a>);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160; </div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    </div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="comment">// Store layers.</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; lset.<a class="code" href="../../dc/d3c/structrc_heightfield_layer_set.html#aee43327ad152d5dea25ed5299f38101a">nlayers</a>; ++i)</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> curId = (<span class="keywordtype">unsigned</span> char)i;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160; </div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <a class="code" href="../../d3/d37/structrc_heightfield_layer.html">rcHeightfieldLayer</a>* layer = &amp;lset.<a class="code" href="../../dc/d3c/structrc_heightfield_layer_set.html#a9ce20a3ccd65f24b6704e57768c2ea5c">layers</a>[i];</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160; </div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> gridSize = <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> char)*lw*lh;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#ac524f9b2f07bd31eba6a9ef72c2f2d0b">heights</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(gridSize, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="keywordflow">if</span> (!layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#ac524f9b2f07bd31eba6a9ef72c2f2d0b">heights</a>)</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildHeightfieldLayers: Out of memory &#39;heights&#39; (%d).&quot;</span>, gridSize);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        }</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#ac524f9b2f07bd31eba6a9ef72c2f2d0b">heights</a>, 0xff, gridSize);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160; </div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#a82606c7d0d590c924d49e84698452353">areas</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(gridSize, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="keywordflow">if</span> (!layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#a82606c7d0d590c924d49e84698452353">areas</a>)</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        {</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildHeightfieldLayers: Out of memory &#39;areas&#39; (%d).&quot;</span>, gridSize);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        }</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#a82606c7d0d590c924d49e84698452353">areas</a>, 0, gridSize);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#a48ca9f0db5708d03fe043e54bc515199">cons</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(gridSize, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <span class="keywordflow">if</span> (!layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#a48ca9f0db5708d03fe043e54bc515199">cons</a>)</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        {</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildHeightfieldLayers: Out of memory &#39;cons&#39; (%d).&quot;</span>, gridSize);</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        }</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#a48ca9f0db5708d03fe043e54bc515199">cons</a>, 0, gridSize);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        <span class="comment">// Find layer height bounds.</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <span class="keywordtype">int</span> hmin = 0, hmax = 0;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; nregs; ++j)</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        {</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            <span class="keywordflow">if</span> (regs[j].base &amp;&amp; regs[j].layerId == curId)</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            {</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                hmin = (int)regs[j].ymin;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                hmax = (int)regs[j].ymax;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;            }</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        }</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160; </div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#a6904f7a9539c4a5f88c2f134ac7b8649">width</a> = lw;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#a58d4448da1f29c63229a11ffc886b351">height</a> = lh;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#af0311febcc96aa2a2b611e0a65478f49">cs</a> = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a75ee8e198d672db29a2f98c7463c0b31">cs</a>;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#a4e3df2893e1773e801e6f41d077715d6">ch</a> = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a39baf56bf3baf2b026aae0a309facaf4">ch</a>;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <span class="comment">// Adjust the bbox to fit the heightfield.</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <a class="code" href="../../de/d78/_recast_8h.html#a9cbb34310e47a6def133a4b533d073ea">rcVcopy</a>(layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#aaca8964dd736b356e4ee2c0dcd4b1208">bmin</a>, bmin);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <a class="code" href="../../de/d78/_recast_8h.html#a9cbb34310e47a6def133a4b533d073ea">rcVcopy</a>(layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#a11c82fbf9e04182a0be7b6c877f7029c">bmax</a>, bmax);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#aaca8964dd736b356e4ee2c0dcd4b1208">bmin</a>[1] = bmin[1] + hmin*chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a39baf56bf3baf2b026aae0a309facaf4">ch</a>;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#a11c82fbf9e04182a0be7b6c877f7029c">bmax</a>[1] = bmin[1] + hmax*chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a39baf56bf3baf2b026aae0a309facaf4">ch</a>;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#a6ddd970ccf1cd15048ac535f9f75d083">hmin</a> = hmin;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#a95365db6dde274d1722aec90ade7a8c8">hmax</a> = hmax;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="comment">// Update usable data region.</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#adcd87e9ea184d277f36eea61314f6f4a">minx</a> = layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#a6904f7a9539c4a5f88c2f134ac7b8649">width</a>;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#ab0b3836202050d3a701d2e3cfba8d9ab">maxx</a> = 0;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#af5df0f6946f89193ca1c3e5c6f9ab49b">miny</a> = layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#a58d4448da1f29c63229a11ffc886b351">height</a>;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#ad697fc4a8a65c2b1ef1f976097ee2b3f">maxy</a> = 0;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        <span class="comment">// Copy height and area from compact heightfield. </span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> = 0; <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> &lt; lh; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>)</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> = 0; <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> &lt; lw; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>)</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> cx = borderSize+<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> cy = borderSize+<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                <span class="keyword">const</span> <a class="code" href="../../d6/dff/structrc_compact_cell.html">rcCompactCell</a>&amp; <a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a> = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[cx+cy*w];</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = (<span class="keywordtype">int</span>)<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index, nj = (<span class="keywordtype">int</span>)(<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index+<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.count); j &lt; nj; ++j)</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                    <span class="keyword">const</span> <a class="code" href="../../de/dce/structrc_compact_span.html">rcCompactSpan</a>&amp; s = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>[j];</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                    <span class="comment">// Skip unassigned regions.</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                    <span class="keywordflow">if</span> (srcReg[j] == 0xff)</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                    <span class="comment">// Skip of does nto belong to current layer.</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> lid = regs[srcReg[j]].layerId;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                    <span class="keywordflow">if</span> (lid != curId)</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                    </div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                    <span class="comment">// Update data bounds.</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                    layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#adcd87e9ea184d277f36eea61314f6f4a">minx</a> = <a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>(layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#adcd87e9ea184d277f36eea61314f6f4a">minx</a>, <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                    layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#ab0b3836202050d3a701d2e3cfba8d9ab">maxx</a> = <a class="code" href="../../de/d78/_recast_8h.html#accb921a8353da3a74aa90a491aff74c8">rcMax</a>(layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#ab0b3836202050d3a701d2e3cfba8d9ab">maxx</a>, <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                    layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#af5df0f6946f89193ca1c3e5c6f9ab49b">miny</a> = <a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>(layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#af5df0f6946f89193ca1c3e5c6f9ab49b">miny</a>, <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                    layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#ad697fc4a8a65c2b1ef1f976097ee2b3f">maxy</a> = <a class="code" href="../../de/d78/_recast_8h.html#accb921a8353da3a74aa90a491aff74c8">rcMax</a>(layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#ad697fc4a8a65c2b1ef1f976097ee2b3f">maxy</a>, <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                    </div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                    <span class="comment">// Store height and area type.</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../de/d17/lf_8h.html#a359b2d783027136786cee9f243efcbde">idx</a> = <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>+<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>*lw;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                    layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#ac524f9b2f07bd31eba6a9ef72c2f2d0b">heights</a>[<a class="code" href="../../de/d17/lf_8h.html#a359b2d783027136786cee9f243efcbde">idx</a>] = (<span class="keywordtype">unsigned</span> char)(s.<a class="code" href="../../de/dce/structrc_compact_span.html#a51e8cdcf30408a3f84da22c4d2623b68">y</a> - hmin);</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                    layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#a82606c7d0d590c924d49e84698452353">areas</a>[<a class="code" href="../../de/d17/lf_8h.html#a359b2d783027136786cee9f243efcbde">idx</a>] = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[j];</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                    </div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                    <span class="comment">// Check connection.</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> portal = 0;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> con = 0;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> dir = 0; dir &lt; 4; ++dir)</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                    {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(s, dir) != <a class="code" href="../../de/d78/_recast_8h.html#a64354aff947c2d8040e39bb4ceaf1a9f">RC_NOT_CONNECTED</a>)</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                        {</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                            <span class="keyword">const</span> <span class="keywordtype">int</span> ax = cx + <a class="code" href="../../de/d78/_recast_8h.html#a08323ca2f8069b8c7291f8d26ba7fbb8">rcGetDirOffsetX</a>(dir);</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                            <span class="keyword">const</span> <span class="keywordtype">int</span> ay = cy + <a class="code" href="../../de/d78/_recast_8h.html#ab2dfeacce04b6d055723627b61515aa0">rcGetDirOffsetY</a>(dir);</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                            <span class="keyword">const</span> <span class="keywordtype">int</span> ai = (int)chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[ax+ay*w].<a class="code" href="../../d6/dff/structrc_compact_cell.html#ad1695135ae520dfee8c39aa7b1fd41d8">index</a> + <a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(s, dir);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                            <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> alid = srcReg[ai] != 0xff ? regs[srcReg[ai]].layerId : 0xff;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                            <span class="comment">// Portal mask</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                            <span class="keywordflow">if</span> (chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[ai] != <a class="code" href="../../de/d78/_recast_8h.html#a5105dbfb2d2bf8aa69122db502d0e39e">RC_NULL_AREA</a> &amp;&amp; lid != alid)</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                            {</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                                portal |= (<span class="keywordtype">unsigned</span> char)(1&lt;&lt;dir);</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                                <span class="comment">// Update height so that it matches on both sides of the portal.</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                                <span class="keyword">const</span> <a class="code" href="../../de/dce/structrc_compact_span.html">rcCompactSpan</a>&amp; as = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>[ai];</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                                <span class="keywordflow">if</span> (as.<a class="code" href="../../de/dce/structrc_compact_span.html#a51e8cdcf30408a3f84da22c4d2623b68">y</a> &gt; hmin)</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                                    layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#ac524f9b2f07bd31eba6a9ef72c2f2d0b">heights</a>[<a class="code" href="../../de/d17/lf_8h.html#a359b2d783027136786cee9f243efcbde">idx</a>] = <a class="code" href="../../de/d78/_recast_8h.html#accb921a8353da3a74aa90a491aff74c8">rcMax</a>(layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#ac524f9b2f07bd31eba6a9ef72c2f2d0b">heights</a>[<a class="code" href="../../de/d17/lf_8h.html#a359b2d783027136786cee9f243efcbde">idx</a>], (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(as.<a class="code" href="../../de/dce/structrc_compact_span.html#a51e8cdcf30408a3f84da22c4d2623b68">y</a> - hmin));</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                            }</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                            <span class="comment">// Valid connection mask</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                            <span class="keywordflow">if</span> (chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[ai] != <a class="code" href="../../de/d78/_recast_8h.html#a5105dbfb2d2bf8aa69122db502d0e39e">RC_NULL_AREA</a> &amp;&amp; lid == alid)</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                            {</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">int</span> nx = ax - borderSize;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">int</span> ny = ay - borderSize;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                                <span class="keywordflow">if</span> (nx &gt;= 0 &amp;&amp; ny &gt;= 0 &amp;&amp; nx &lt; lw &amp;&amp; ny &lt; lh)</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                                    con |= (<span class="keywordtype">unsigned</span> char)(1&lt;&lt;dir);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                            }</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                        }</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                    }</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                    </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                    layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#a48ca9f0db5708d03fe043e54bc515199">cons</a>[<a class="code" href="../../de/d17/lf_8h.html#a359b2d783027136786cee9f243efcbde">idx</a>] = (portal &lt;&lt; 4) | con;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                }</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            }</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        }</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        </div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <span class="keywordflow">if</span> (layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#adcd87e9ea184d277f36eea61314f6f4a">minx</a> &gt; layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#ab0b3836202050d3a701d2e3cfba8d9ab">maxx</a>)</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#adcd87e9ea184d277f36eea61314f6f4a">minx</a> = layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#ab0b3836202050d3a701d2e3cfba8d9ab">maxx</a> = 0;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <span class="keywordflow">if</span> (layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#af5df0f6946f89193ca1c3e5c6f9ab49b">miny</a> &gt; layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#ad697fc4a8a65c2b1ef1f976097ee2b3f">maxy</a>)</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;            layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#af5df0f6946f89193ca1c3e5c6f9ab49b">miny</a> = layer-&gt;<a class="code" href="../../d3/d37/structrc_heightfield_layer.html#ad697fc4a8a65c2b1ef1f976097ee2b3f">maxy</a> = 0;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    }</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    </div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;}</div>
<div class="ttc" id="a_recast_layers_8cpp_html_a0865bdb05f7816f06bd8666f04535f42"><div class="ttname"><a href="../../d3/d20/_recast_layers_8cpp.html#a0865bdb05f7816f06bd8666f04535f42">RC_MAX_LAYERS</a></div><div class="ttdeci">static const int RC_MAX_LAYERS</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d20/_recast_layers_8cpp_source.html#l00032">RecastLayers.cpp:32</a></div></div>
<div class="ttc" id="a_recast_layers_8cpp_html_a4bb3cae5fa2c81629762ccb89c6d136c"><div class="ttname"><a href="../../d3/d20/_recast_layers_8cpp.html#a4bb3cae5fa2c81629762ccb89c6d136c">contains</a></div><div class="ttdeci">static bool contains(const unsigned char *a, const unsigned char an, const unsigned char v)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d20/_recast_layers_8cpp_source.html#l00047">RecastLayers.cpp:47</a></div></div>
<div class="ttc" id="a_recast_layers_8cpp_html_a9df3149dc43b5528b0003e20ccb931e3"><div class="ttname"><a href="../../d3/d20/_recast_layers_8cpp.html#a9df3149dc43b5528b0003e20ccb931e3">overlapRange</a></div><div class="ttdeci">bool overlapRange(const unsigned short amin, const unsigned short amax, const unsigned short bmin, const unsigned short bmax)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d20/_recast_layers_8cpp_source.html#l00072">RecastLayers.cpp:72</a></div></div>
<div class="ttc" id="a_recast_layers_8cpp_html_adc2593ebcf70cf17029ab4a28013c29b"><div class="ttname"><a href="../../d3/d20/_recast_layers_8cpp.html#adc2593ebcf70cf17029ab4a28013c29b">addUnique</a></div><div class="ttdeci">static bool addUnique(unsigned char *a, unsigned char &amp;an, int anMax, unsigned char v)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d20/_recast_layers_8cpp_source.html#l00058">RecastLayers.cpp:58</a></div></div>
<div class="ttc" id="a_recast_layers_8cpp_html_adc47551fbc117d2c43a91dd14a78df66"><div class="ttname"><a href="../../d3/d20/_recast_layers_8cpp.html#adc47551fbc117d2c43a91dd14a78df66">RC_MAX_NEIS</a></div><div class="ttdeci">static const int RC_MAX_NEIS</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d20/_recast_layers_8cpp_source.html#l00033">RecastLayers.cpp:33</a></div></div>
<div class="ttc" id="astructrc_heightfield_layer_html"><div class="ttname"><a href="../../d3/d37/structrc_heightfield_layer.html">rcHeightfieldLayer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00357">Recast.h:358</a></div></div>
<div class="ttc" id="astructrc_heightfield_layer_html_a11c82fbf9e04182a0be7b6c877f7029c"><div class="ttname"><a href="../../d3/d37/structrc_heightfield_layer.html#a11c82fbf9e04182a0be7b6c877f7029c">rcHeightfieldLayer::bmax</a></div><div class="ttdeci">float bmax[3]</div><div class="ttdoc">The maximum bounds in world space. [(x, y, z)].</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00360">Recast.h:360</a></div></div>
<div class="ttc" id="astructrc_heightfield_layer_html_a48ca9f0db5708d03fe043e54bc515199"><div class="ttname"><a href="../../d3/d37/structrc_heightfield_layer.html#a48ca9f0db5708d03fe043e54bc515199">rcHeightfieldLayer::cons</a></div><div class="ttdeci">unsigned char * cons</div><div class="ttdoc">Packed neighbor connection information. [Size: Same as heights].</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00373">Recast.h:373</a></div></div>
<div class="ttc" id="astructrc_heightfield_layer_html_a4e3df2893e1773e801e6f41d077715d6"><div class="ttname"><a href="../../d3/d37/structrc_heightfield_layer.html#a4e3df2893e1773e801e6f41d077715d6">rcHeightfieldLayer::ch</a></div><div class="ttdeci">float ch</div><div class="ttdoc">The height of each cell. (The minimum increment along the y-axis.)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00362">Recast.h:362</a></div></div>
<div class="ttc" id="astructrc_heightfield_layer_html_a58d4448da1f29c63229a11ffc886b351"><div class="ttname"><a href="../../d3/d37/structrc_heightfield_layer.html#a58d4448da1f29c63229a11ffc886b351">rcHeightfieldLayer::height</a></div><div class="ttdeci">int height</div><div class="ttdoc">The height of the heightfield. (Along the z-axis in cell units.)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00364">Recast.h:364</a></div></div>
<div class="ttc" id="astructrc_heightfield_layer_html_a6904f7a9539c4a5f88c2f134ac7b8649"><div class="ttname"><a href="../../d3/d37/structrc_heightfield_layer.html#a6904f7a9539c4a5f88c2f134ac7b8649">rcHeightfieldLayer::width</a></div><div class="ttdeci">int width</div><div class="ttdoc">The width of the heightfield. (Along the x-axis in cell units.)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00363">Recast.h:363</a></div></div>
<div class="ttc" id="astructrc_heightfield_layer_html_a6ddd970ccf1cd15048ac535f9f75d083"><div class="ttname"><a href="../../d3/d37/structrc_heightfield_layer.html#a6ddd970ccf1cd15048ac535f9f75d083">rcHeightfieldLayer::hmin</a></div><div class="ttdeci">int hmin</div><div class="ttdoc">The minimum height bounds of usable data. (Along the y-axis.)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00369">Recast.h:369</a></div></div>
<div class="ttc" id="astructrc_heightfield_layer_html_a82606c7d0d590c924d49e84698452353"><div class="ttname"><a href="../../d3/d37/structrc_heightfield_layer.html#a82606c7d0d590c924d49e84698452353">rcHeightfieldLayer::areas</a></div><div class="ttdeci">unsigned char * areas</div><div class="ttdoc">Area ids. [Size: Same as heights].</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00372">Recast.h:372</a></div></div>
<div class="ttc" id="astructrc_heightfield_layer_html_a95365db6dde274d1722aec90ade7a8c8"><div class="ttname"><a href="../../d3/d37/structrc_heightfield_layer.html#a95365db6dde274d1722aec90ade7a8c8">rcHeightfieldLayer::hmax</a></div><div class="ttdeci">int hmax</div><div class="ttdoc">The maximum height bounds of usable data. (Along the y-axis.)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00370">Recast.h:370</a></div></div>
<div class="ttc" id="astructrc_heightfield_layer_html_aaca8964dd736b356e4ee2c0dcd4b1208"><div class="ttname"><a href="../../d3/d37/structrc_heightfield_layer.html#aaca8964dd736b356e4ee2c0dcd4b1208">rcHeightfieldLayer::bmin</a></div><div class="ttdeci">float bmin[3]</div><div class="ttdoc">The minimum bounds in world space. [(x, y, z)].</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00359">Recast.h:359</a></div></div>
<div class="ttc" id="astructrc_heightfield_layer_html_ab0b3836202050d3a701d2e3cfba8d9ab"><div class="ttname"><a href="../../d3/d37/structrc_heightfield_layer.html#ab0b3836202050d3a701d2e3cfba8d9ab">rcHeightfieldLayer::maxx</a></div><div class="ttdeci">int maxx</div><div class="ttdoc">The maximum x-bounds of usable data.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00366">Recast.h:366</a></div></div>
<div class="ttc" id="astructrc_heightfield_layer_html_ac524f9b2f07bd31eba6a9ef72c2f2d0b"><div class="ttname"><a href="../../d3/d37/structrc_heightfield_layer.html#ac524f9b2f07bd31eba6a9ef72c2f2d0b">rcHeightfieldLayer::heights</a></div><div class="ttdeci">unsigned char * heights</div><div class="ttdoc">The heightfield. [Size: width * height].</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00371">Recast.h:371</a></div></div>
<div class="ttc" id="astructrc_heightfield_layer_html_ad697fc4a8a65c2b1ef1f976097ee2b3f"><div class="ttname"><a href="../../d3/d37/structrc_heightfield_layer.html#ad697fc4a8a65c2b1ef1f976097ee2b3f">rcHeightfieldLayer::maxy</a></div><div class="ttdeci">int maxy</div><div class="ttdoc">The maximum y-bounds of usable data. (Along the z-axis.)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00368">Recast.h:368</a></div></div>
<div class="ttc" id="astructrc_heightfield_layer_html_adcd87e9ea184d277f36eea61314f6f4a"><div class="ttname"><a href="../../d3/d37/structrc_heightfield_layer.html#adcd87e9ea184d277f36eea61314f6f4a">rcHeightfieldLayer::minx</a></div><div class="ttdeci">int minx</div><div class="ttdoc">The minimum x-bounds of usable data.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00365">Recast.h:365</a></div></div>
<div class="ttc" id="astructrc_heightfield_layer_html_af0311febcc96aa2a2b611e0a65478f49"><div class="ttname"><a href="../../d3/d37/structrc_heightfield_layer.html#af0311febcc96aa2a2b611e0a65478f49">rcHeightfieldLayer::cs</a></div><div class="ttdeci">float cs</div><div class="ttdoc">The size of each cell. (On the xz-plane.)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00361">Recast.h:361</a></div></div>
<div class="ttc" id="astructrc_heightfield_layer_html_af5df0f6946f89193ca1c3e5c6f9ab49b"><div class="ttname"><a href="../../d3/d37/structrc_heightfield_layer.html#af5df0f6946f89193ca1c3e5c6f9ab49b">rcHeightfieldLayer::miny</a></div><div class="ttdeci">int miny</div><div class="ttdoc">The minimum y-bounds of usable data. (Along the z-axis.)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00367">Recast.h:367</a></div></div>
<div class="ttc" id="astructrc_heightfield_layer_set_html_a9ce20a3ccd65f24b6704e57768c2ea5c"><div class="ttname"><a href="../../dc/d3c/structrc_heightfield_layer_set.html#a9ce20a3ccd65f24b6704e57768c2ea5c">rcHeightfieldLayerSet::layers</a></div><div class="ttdeci">rcHeightfieldLayer * layers</div><div class="ttdoc">The layers in the set. [Size: nlayers].</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00383">Recast.h:383</a></div></div>
<div class="ttc" id="astructrc_heightfield_layer_set_html_aee43327ad152d5dea25ed5299f38101a"><div class="ttname"><a href="../../dc/d3c/structrc_heightfield_layer_set.html#aee43327ad152d5dea25ed5299f38101a">rcHeightfieldLayerSet::nlayers</a></div><div class="ttdeci">int nlayers</div><div class="ttdoc">The number of layers in the set.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00384">Recast.h:384</a></div></div>
<div class="ttc" id="astructrc_layer_region_html"><div class="ttname"><a href="../../d6/d96/structrc_layer_region.html">rcLayerRegion</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d20/_recast_layers_8cpp_source.html#l00035">RecastLayers.cpp:36</a></div></div>
<div class="ttc" id="astructrc_layer_region_html_a4ecba0bd9f4f46d3c349f96670c7ba05"><div class="ttname"><a href="../../d6/d96/structrc_layer_region.html#a4ecba0bd9f4f46d3c349f96670c7ba05">rcLayerRegion::neis</a></div><div class="ttdeci">unsigned char neis[RC_MAX_NEIS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d20/_recast_layers_8cpp_source.html#l00038">RecastLayers.cpp:38</a></div></div>
<div class="ttc" id="astructrc_layer_region_html_a5d6ec3a8040c16fd837ea4e06264044c"><div class="ttname"><a href="../../d6/d96/structrc_layer_region.html#a5d6ec3a8040c16fd837ea4e06264044c">rcLayerRegion::ymin</a></div><div class="ttdeci">unsigned short ymin</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d20/_recast_layers_8cpp_source.html#l00039">RecastLayers.cpp:39</a></div></div>
<div class="ttc" id="astructrc_layer_region_html_a6c0f115441207bdf6eb739a000229bb2"><div class="ttname"><a href="../../d6/d96/structrc_layer_region.html#a6c0f115441207bdf6eb739a000229bb2">rcLayerRegion::nlayers</a></div><div class="ttdeci">unsigned char nlayers</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d20/_recast_layers_8cpp_source.html#l00041">RecastLayers.cpp:41</a></div></div>
<div class="ttc" id="astructrc_layer_region_html_a98aa2992acd9a6ebcf57a401182e6b1b"><div class="ttname"><a href="../../d6/d96/structrc_layer_region.html#a98aa2992acd9a6ebcf57a401182e6b1b">rcLayerRegion::layerId</a></div><div class="ttdeci">unsigned char layerId</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d20/_recast_layers_8cpp_source.html#l00040">RecastLayers.cpp:40</a></div></div>
<div class="ttc" id="astructrc_layer_region_html_aba2653474f31343b075cb51167276b09"><div class="ttname"><a href="../../d6/d96/structrc_layer_region.html#aba2653474f31343b075cb51167276b09">rcLayerRegion::layers</a></div><div class="ttdeci">unsigned char layers[RC_MAX_LAYERS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d20/_recast_layers_8cpp_source.html#l00037">RecastLayers.cpp:37</a></div></div>
<div class="ttc" id="astructrc_layer_region_html_ac62ab3eceaca8cb92f3b72c9ef697bb4"><div class="ttname"><a href="../../d6/d96/structrc_layer_region.html#ac62ab3eceaca8cb92f3b72c9ef697bb4">rcLayerRegion::ymax</a></div><div class="ttdeci">unsigned short ymax</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d20/_recast_layers_8cpp_source.html#l00039">RecastLayers.cpp:39</a></div></div>
<div class="ttc" id="astructrc_layer_region_html_ac8dbef0b5cc388f6fb6492a7a4192c61"><div class="ttname"><a href="../../d6/d96/structrc_layer_region.html#ac8dbef0b5cc388f6fb6492a7a4192c61">rcLayerRegion::nneis</a></div><div class="ttdeci">unsigned char nneis</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d20/_recast_layers_8cpp_source.html#l00042">RecastLayers.cpp:42</a></div></div>
<div class="ttc" id="astructrc_layer_region_html_ad49bf74284d20c2d7c3ef56f6b4c589f"><div class="ttname"><a href="../../d6/d96/structrc_layer_region.html#ad49bf74284d20c2d7c3ef56f6b4c589f">rcLayerRegion::base</a></div><div class="ttdeci">unsigned char base</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d20/_recast_layers_8cpp_source.html#l00043">RecastLayers.cpp:43</a></div></div>
<div class="ttc" id="astructrc_layer_sweep_span_html"><div class="ttname"><a href="../../d6/de9/structrc_layer_sweep_span.html">rcLayerSweepSpan</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d20/_recast_layers_8cpp_source.html#l00080">RecastLayers.cpp:81</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d20/_recast_layers_8cpp_source.html#l00058">addUnique()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00352">rcCompactHeightfield::areas</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00372">rcHeightfieldLayer::areas</a>, <a class="el" href="../../d3/d20/_recast_layers_8cpp_source.html#l00043">rcLayerRegion::base</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00346">rcCompactHeightfield::bmax</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00360">rcHeightfieldLayer::bmax</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00345">rcCompactHeightfield::bmin</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00359">rcHeightfieldLayer::bmin</a>, <a class="el" href="../../d6/d3e/mpq_8py_source.html#l00295">mpq::c</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00349">rcCompactHeightfield::cells</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00348">rcCompactHeightfield::ch</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00362">rcHeightfieldLayer::ch</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00373">rcHeightfieldLayer::cons</a>, <a class="el" href="../../d3/d20/_recast_layers_8cpp_source.html#l00047">contains()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00347">rcCompactHeightfield::cs</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00361">rcHeightfieldLayer::cs</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00338">rcCompactHeightfield::height</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00364">rcHeightfieldLayer::height</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00371">rcHeightfieldLayer::heights</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00370">rcHeightfieldLayer::hmax</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00369">rcHeightfieldLayer::hmin</a>, <a class="el" href="../../de/d17/lf_8h_source.html#l00086">idx</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00318">rcCompactCell::index</a>, <a class="el" href="../../d3/d20/_recast_layers_8cpp_source.html#l00040">rcLayerRegion::layerId</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00383">rcHeightfieldLayerSet::layers</a>, <a class="el" href="../../d3/d20/_recast_layers_8cpp_source.html#l00037">rcLayerRegion::layers</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00079">rcContext::log()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00366">rcHeightfieldLayer::maxx</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00368">rcHeightfieldLayer::maxy</a>, <a class="el" href="../../d6/dda/m__string_8h_source.html#l00051">memset</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00365">rcHeightfieldLayer::minx</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00367">rcHeightfieldLayer::miny</a>, <a class="el" href="../../d3/d20/_recast_layers_8cpp_source.html#l00038">rcLayerRegion::neis</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00384">rcHeightfieldLayerSet::nlayers</a>, <a class="el" href="../../d3/d20/_recast_layers_8cpp_source.html#l00041">rcLayerRegion::nlayers</a>, <a class="el" href="../../d3/d20/_recast_layers_8cpp_source.html#l00042">rcLayerRegion::nneis</a>, <a class="el" href="../../d3/d20/_recast_layers_8cpp_source.html#l00072">overlapRange()</a>, <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00031">RC_ALLOC_PERM</a>, <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00032">RC_ALLOC_TEMP</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00031">RC_LOG_ERROR</a>, <a class="el" href="../../d3/d20/_recast_layers_8cpp_source.html#l00032">RC_MAX_LAYERS</a>, <a class="el" href="../../d3/d20/_recast_layers_8cpp_source.html#l00033">RC_MAX_NEIS</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00593">RC_NOT_CONNECTED</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00584">RC_NULL_AREA</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00089">RC_TIMER_BUILD_LAYERS</a>, <a class="el" href="../../d5/d42/_recast_alloc_8cpp_source.html#l00045">rcAlloc()</a>, <a class="el" href="../../d1/db5/_recast_assert_8h_source.html#l00047">rcAssert</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l01080">rcGetCon()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l01090">rcGetDirOffsetX()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l01100">rcGetDirOffsetY()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00618">rcMax()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00612">rcMin()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00723">rcVcopy()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00339">rcCompactHeightfield::spanCount</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00350">rcCompactHeightfield::spans</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00337">rcCompactHeightfield::width</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00363">rcHeightfieldLayer::width</a>, <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00037">G3D::x</a>, <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00038">G3D::y</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00325">rcCompactSpan::y</a>, <a class="el" href="../../d3/d20/_recast_layers_8cpp_source.html#l00039">rcLayerRegion::ymax</a>, and <a class="el" href="../../d3/d20/_recast_layers_8cpp_source.html#l00039">rcLayerRegion::ymin</a>.</p>

</div>
</div>
<a id="a1a29a95eba7d16654f2834d517f81c57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a29a95eba7d16654f2834d517f81c57">&#9670;&nbsp;</a></span>rcBuildLayerRegions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> rcBuildLayerRegions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a> &amp;&#160;</td>
          <td class="paramname"><em>chf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>borderSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>minRegionArea</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Builds region data for the heightfield by partitioning the heightfield in non-overlapping layers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>The build context to use during the operation. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">chf</td><td>A populated compact heightfield. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">borderSize</td><td>The size of the non-navigable border around the heightfield. [Limit: &gt;=0] [Units: vx] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">minRegionArea</td><td>The minimum number of cells allowed to form isolated island areas. [Limit: &gt;=0] [Units: vx]. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the operation completed successfully. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01662">1662</a> of file <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html">RecastRegion.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;{</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    <a class="code" href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a>(ctx);</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    </div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    <a class="code" href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a> timer(ctx, <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18daeac9f250cd8a04c3d14f8fa548d4b31f">RC_TIMER_BUILD_REGIONS</a>);</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    </div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> w = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a98868c1df2523cd724696ed1d223ba13">width</a>;</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> h = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a25d9e16e5d82cf698e47b18a5740b639">height</a>;</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <span class="keywordtype">id</span> = 1;</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    </div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    <a class="code" href="../../d9/d65/classrc_scoped_delete.html">rcScopedDelete&lt;unsigned short&gt;</a> srcReg((<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a>, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60a5e5b510fb1d2422e28f5262d4bd058ee">RC_ALLOC_TEMP</a>));</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    <span class="keywordflow">if</span> (!srcReg)</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    {</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildLayerRegions: Out of memory &#39;src&#39; (%d).&quot;</span>, chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a>);</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    }</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(srcReg,0,<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a>);</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    </div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> nsweeps = <a class="code" href="../../de/d78/_recast_8h.html#accb921a8353da3a74aa90a491aff74c8">rcMax</a>(chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a98868c1df2523cd724696ed1d223ba13">width</a>,chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a25d9e16e5d82cf698e47b18a5740b639">height</a>);</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;    <a class="code" href="../../d9/d65/classrc_scoped_delete.html">rcScopedDelete&lt;rcSweepSpan&gt;</a> sweeps((<a class="code" href="../../dc/d8a/structrc_sweep_span.html">rcSweepSpan</a>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../dc/d8a/structrc_sweep_span.html">rcSweepSpan</a>)*nsweeps, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60a5e5b510fb1d2422e28f5262d4bd058ee">RC_ALLOC_TEMP</a>));</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    <span class="keywordflow">if</span> (!sweeps)</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    {</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildLayerRegions: Out of memory &#39;sweeps&#39; (%d).&quot;</span>, nsweeps);</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    }</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    </div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    </div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    <span class="comment">// Mark border regions.</span></div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;    <span class="keywordflow">if</span> (borderSize &gt; 0)</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    {</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;        <span class="comment">// Make sure border will not overflow.</span></div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> bw = <a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>(w, borderSize);</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> bh = <a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>(h, borderSize);</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;        <span class="comment">// Paint regions</span></div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;        <a class="code" href="../../d0/d84/_recast_region_8cpp.html#abc80f3a23c09dd8f6570fa5b3d30792a">paintRectRegion</a>(0, bw, 0, h, <span class="keywordtype">id</span>|<a class="code" href="../../de/d78/_recast_8h.html#ac47ca685874fce67f50bd580ef1e0497">RC_BORDER_REG</a>, chf, srcReg); <span class="keywordtype">id</span>++;</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;        <a class="code" href="../../d0/d84/_recast_region_8cpp.html#abc80f3a23c09dd8f6570fa5b3d30792a">paintRectRegion</a>(w-bw, w, 0, h, <span class="keywordtype">id</span>|<a class="code" href="../../de/d78/_recast_8h.html#ac47ca685874fce67f50bd580ef1e0497">RC_BORDER_REG</a>, chf, srcReg); <span class="keywordtype">id</span>++;</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;        <a class="code" href="../../d0/d84/_recast_region_8cpp.html#abc80f3a23c09dd8f6570fa5b3d30792a">paintRectRegion</a>(0, w, 0, bh, <span class="keywordtype">id</span>|<a class="code" href="../../de/d78/_recast_8h.html#ac47ca685874fce67f50bd580ef1e0497">RC_BORDER_REG</a>, chf, srcReg); <span class="keywordtype">id</span>++;</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;        <a class="code" href="../../d0/d84/_recast_region_8cpp.html#abc80f3a23c09dd8f6570fa5b3d30792a">paintRectRegion</a>(0, w, h-bh, h, <span class="keywordtype">id</span>|<a class="code" href="../../de/d78/_recast_8h.html#ac47ca685874fce67f50bd580ef1e0497">RC_BORDER_REG</a>, chf, srcReg); <span class="keywordtype">id</span>++;</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    }</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160; </div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;    chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a675418d81ce6ade83fbd18be2dfd1647">borderSize</a> = borderSize;</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;    </div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;    <a class="code" href="../../d6/d40/classrc_int_array.html">rcIntArray</a> <a class="code" href="../../de/d0e/_recast_contour_8cpp.html#a6f1109916123abdff2b46675c13307e3">prev</a>(256);</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    </div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;    <span class="comment">// Sweep one line at a time.</span></div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> = borderSize; <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> &lt; h-borderSize; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>)</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;    {</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;        <span class="comment">// Collect spans from this row.</span></div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;        <a class="code" href="../../de/d0e/_recast_contour_8cpp.html#a6f1109916123abdff2b46675c13307e3">prev</a>.resize(<span class="keywordtype">id</span>+1);</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;        <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(&amp;<a class="code" href="../../de/d0e/_recast_contour_8cpp.html#a6f1109916123abdff2b46675c13307e3">prev</a>[0],0,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> rid = 1;</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;        </div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> = borderSize; <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> &lt; w-borderSize; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>)</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;        {</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../d6/dff/structrc_compact_cell.html">rcCompactCell</a>&amp; <a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a> = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>+<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>*w];</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;            </div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = (<span class="keywordtype">int</span>)<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index, ni = (<span class="keywordtype">int</span>)(<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index+<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.count); i &lt; ni; ++i)</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;            {</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;                <span class="keyword">const</span> <a class="code" href="../../de/dce/structrc_compact_span.html">rcCompactSpan</a>&amp; s = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>[i];</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;                <span class="keywordflow">if</span> (chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[i] == <a class="code" href="../../de/d78/_recast_8h.html#a5105dbfb2d2bf8aa69122db502d0e39e">RC_NULL_AREA</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;                </div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;                <span class="comment">// -x</span></div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;                <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> previd = 0;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(s, 0) != <a class="code" href="../../de/d78/_recast_8h.html#a64354aff947c2d8040e39bb4ceaf1a9f">RC_NOT_CONNECTED</a>)</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;                {</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> ax = <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> + <a class="code" href="../../de/d78/_recast_8h.html#a08323ca2f8069b8c7291f8d26ba7fbb8">rcGetDirOffsetX</a>(0);</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> ay = <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> + <a class="code" href="../../de/d78/_recast_8h.html#ab2dfeacce04b6d055723627b61515aa0">rcGetDirOffsetY</a>(0);</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> ai = (int)chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[ax+ay*w].<a class="code" href="../../d6/dff/structrc_compact_cell.html#ad1695135ae520dfee8c39aa7b1fd41d8">index</a> + <a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(s, 0);</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;                    <span class="keywordflow">if</span> ((srcReg[ai] &amp; <a class="code" href="../../de/d78/_recast_8h.html#ac47ca685874fce67f50bd580ef1e0497">RC_BORDER_REG</a>) == 0 &amp;&amp; chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[i] == chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[ai])</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;                        previd = srcReg[ai];</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;                }</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;                </div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;                <span class="keywordflow">if</span> (!previd)</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;                {</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;                    previd = rid++;</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;                    sweeps[previd].rid = previd;</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;                    sweeps[previd].ns = 0;</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;                    sweeps[previd].nei = 0;</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;                }</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;                </div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;                <span class="comment">// -y</span></div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(s,3) != <a class="code" href="../../de/d78/_recast_8h.html#a64354aff947c2d8040e39bb4ceaf1a9f">RC_NOT_CONNECTED</a>)</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;                {</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> ax = <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> + <a class="code" href="../../de/d78/_recast_8h.html#a08323ca2f8069b8c7291f8d26ba7fbb8">rcGetDirOffsetX</a>(3);</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> ay = <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> + <a class="code" href="../../de/d78/_recast_8h.html#ab2dfeacce04b6d055723627b61515aa0">rcGetDirOffsetY</a>(3);</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> ai = (int)chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[ax+ay*w].<a class="code" href="../../d6/dff/structrc_compact_cell.html#ad1695135ae520dfee8c39aa7b1fd41d8">index</a> + <a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(s, 3);</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;                    <span class="keywordflow">if</span> (srcReg[ai] &amp;&amp; (srcReg[ai] &amp; <a class="code" href="../../de/d78/_recast_8h.html#ac47ca685874fce67f50bd580ef1e0497">RC_BORDER_REG</a>) == 0 &amp;&amp; chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[i] == chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[ai])</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;                    {</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;                        <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> nr = srcReg[ai];</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;                        <span class="keywordflow">if</span> (!sweeps[previd].nei || sweeps[previd].nei == nr)</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;                        {</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;                            sweeps[previd].nei = nr;</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;                            sweeps[previd].ns++;</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;                            <a class="code" href="../../de/d0e/_recast_contour_8cpp.html#a6f1109916123abdff2b46675c13307e3">prev</a>[nr]++;</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;                        }</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;                        {</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;                            sweeps[previd].nei = <a class="code" href="../../d0/d84/_recast_region_8cpp.html#ae985981f9a0039f8584d8c165959c817">RC_NULL_NEI</a>;</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;                        }</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;                    }</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;                }</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;                </div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;                srcReg[i] = previd;</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;            }</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;        }</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;        </div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;        <span class="comment">// Create unique ID.</span></div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; rid; ++i)</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;        {</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;            <span class="keywordflow">if</span> (sweeps[i].nei != <a class="code" href="../../d0/d84/_recast_region_8cpp.html#ae985981f9a0039f8584d8c165959c817">RC_NULL_NEI</a> &amp;&amp; sweeps[i].nei != 0 &amp;&amp;</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;                <a class="code" href="../../de/d0e/_recast_contour_8cpp.html#a6f1109916123abdff2b46675c13307e3">prev</a>[sweeps[i].nei] == (<span class="keywordtype">int</span>)sweeps[i].ns)</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;            {</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;                sweeps[i].id = sweeps[i].nei;</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;            }</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;            {</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;                sweeps[i].id = <span class="keywordtype">id</span>++;</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;            }</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;        }</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;        </div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;        <span class="comment">// Remap IDs</span></div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> = borderSize; <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> &lt; w-borderSize; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>)</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;        {</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../d6/dff/structrc_compact_cell.html">rcCompactCell</a>&amp; <a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a> = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>+<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>*w];</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;            </div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = (<span class="keywordtype">int</span>)<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index, ni = (int)(<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index+<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.count); i &lt; ni; ++i)</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;            {</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;                <span class="keywordflow">if</span> (srcReg[i] &gt; 0 &amp;&amp; srcReg[i] &lt; rid)</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;                    srcReg[i] = sweeps[srcReg[i]].id;</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;            }</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;        }</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;    }</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    </div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    </div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    {</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;        <a class="code" href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a> timerFilter(ctx, <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da14403d6ce136beb776b9004e73dde436">RC_TIMER_BUILD_REGIONS_FILTER</a>);</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160; </div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;        <span class="comment">// Merge monotone regions to layers and remove small regions.</span></div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;        chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a6bfb7a2fdb06a64b03f0fffa885edd94">maxRegions</a> = id;</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d84/_recast_region_8cpp.html#a25912e8836b3489f54fecd65d850beff">mergeAndFilterLayerRegions</a>(ctx, minRegionArea, chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a6bfb7a2fdb06a64b03f0fffa885edd94">maxRegions</a>, chf, srcReg))</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    }</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    </div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    </div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <span class="comment">// Store the result out.</span></div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a>; ++i)</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;        chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>[i].<a class="code" href="../../de/dce/structrc_compact_span.html#aca1a16c8453c9533120c094979601d77">reg</a> = srcReg[i];</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    </div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;}</div>
<div class="ttc" id="a_recast_contour_8cpp_html_a6f1109916123abdff2b46675c13307e3"><div class="ttname"><a href="../../de/d0e/_recast_contour_8cpp.html#a6f1109916123abdff2b46675c13307e3">prev</a></div><div class="ttdeci">int prev(int i, int n)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d0e/_recast_contour_8cpp_source.html#l00468">RecastContour.cpp:468</a></div></div>
<div class="ttc" id="a_recast_region_8cpp_html_a25912e8836b3489f54fecd65d850beff"><div class="ttname"><a href="../../d0/d84/_recast_region_8cpp.html#a25912e8836b3489f54fecd65d850beff">mergeAndFilterLayerRegions</a></div><div class="ttdeci">static bool mergeAndFilterLayerRegions(rcContext *ctx, int minRegionArea, unsigned short &amp;maxRegionId, rcCompactHeightfield &amp;chf, unsigned short *srcReg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/_recast_region_8cpp_source.html#l01044">RecastRegion.cpp:1044</a></div></div>
<div class="ttc" id="a_recast_region_8cpp_html_abc80f3a23c09dd8f6570fa5b3d30792a"><div class="ttname"><a href="../../d0/d84/_recast_region_8cpp.html#abc80f3a23c09dd8f6570fa5b3d30792a">paintRectRegion</a></div><div class="ttdeci">static void paintRectRegion(int minx, int maxx, int miny, int maxy, unsigned short regId, rcCompactHeightfield &amp;chf, unsigned short *srcReg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/_recast_region_8cpp_source.html#l01305">RecastRegion.cpp:1305</a></div></div>
<div class="ttc" id="a_recast_region_8cpp_html_ae985981f9a0039f8584d8c165959c817"><div class="ttname"><a href="../../d0/d84/_recast_region_8cpp.html#ae985981f9a0039f8584d8c165959c817">RC_NULL_NEI</a></div><div class="ttdeci">static const unsigned short RC_NULL_NEI</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/_recast_region_8cpp_source.html#l01324">RecastRegion.cpp:1324</a></div></div>
<div class="ttc" id="astructrc_sweep_span_html"><div class="ttname"><a href="../../dc/d8a/structrc_sweep_span.html">rcSweepSpan</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/_recast_region_8cpp_source.html#l01326">RecastRegion.cpp:1327</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d78/_recast_8h_source.html#l00352">rcCompactHeightfield::areas</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00342">rcCompactHeightfield::borderSize</a>, <a class="el" href="../../d6/d3e/mpq_8py_source.html#l00295">mpq::c</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00349">rcCompactHeightfield::cells</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00338">rcCompactHeightfield::height</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00318">rcCompactCell::index</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00079">rcContext::log()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00344">rcCompactHeightfield::maxRegions</a>, <a class="el" href="../../d6/dda/m__string_8h_source.html#l00051">memset</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01044">mergeAndFilterLayerRegions()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01305">paintRectRegion()</a>, <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00468">prev()</a>, <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00032">RC_ALLOC_TEMP</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00536">RC_BORDER_REG</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00031">RC_LOG_ERROR</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00593">RC_NOT_CONNECTED</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00584">RC_NULL_AREA</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01324">RC_NULL_NEI</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00079">RC_TIMER_BUILD_REGIONS</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00087">RC_TIMER_BUILD_REGIONS_FILTER</a>, <a class="el" href="../../d5/d42/_recast_alloc_8cpp_source.html#l00045">rcAlloc()</a>, <a class="el" href="../../d1/db5/_recast_assert_8h_source.html#l00047">rcAssert</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l01080">rcGetCon()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l01090">rcGetDirOffsetX()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l01100">rcGetDirOffsetY()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00618">rcMax()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00612">rcMin()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00326">rcCompactSpan::reg</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00339">rcCompactHeightfield::spanCount</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00350">rcCompactHeightfield::spans</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00337">rcCompactHeightfield::width</a>, <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00037">G3D::x</a>, and <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00038">G3D::y</a>.</p>

</div>
</div>
<a id="a6ccf68fa67b52296071764bddf19dd9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ccf68fa67b52296071764bddf19dd9f">&#9670;&nbsp;</a></span>rcBuildPolyMesh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> rcBuildPolyMesh </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d9f/structrc_contour_set.html">rcContourSet</a> &amp;&#160;</td>
          <td class="paramname"><em>cset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>nvp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d75/structrc_poly_mesh.html">rcPolyMesh</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Builds a polygon mesh from the provided contours.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>The build context to use during the operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cset</td><td>A fully built contour set. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nvp</td><td>The maximum number of vertices allowed for polygons generated during the contour to polygon conversion process. [Limit: &gt;= 3] </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">mesh</td><td>The resulting polygon mesh. (Must be re-allocated.) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the operation completed successfully.</dd></dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<dl class="section note"><dt>Note</dt><dd>If the mesh data is to be used to construct a Detour navigation mesh, then the upper limit must be retricted to &lt;= <a class="el" href="../../d5/d7a/group__detour.html#ga8591fdac662dbfabb580de626c64c9f3">DT_VERTS_PER_POLYGON</a>.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d3/d01/_recast_8cpp.html#a1b6942363f019860984263c0f8f62b9d">rcAllocPolyMesh</a>, <a class="el" href="../../db/d9f/structrc_contour_set.html">rcContourSet</a>, <a class="el" href="../../df/d75/structrc_poly_mesh.html">rcPolyMesh</a>, <a class="el" href="../../d2/d52/structrc_config.html">rcConfig</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html#l00992">992</a> of file <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html">RecastMesh.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;{</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <a class="code" href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a>(ctx);</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    </div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    <a class="code" href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a> timer(ctx, <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da2db68b2ee0e88bd48f687d8912be2b87">RC_TIMER_BUILD_POLYMESH</a>);</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160; </div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a9cbb34310e47a6def133a4b533d073ea">rcVcopy</a>(mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a63625dd55ca66c97ca29a87a5455cc27">bmin</a>, cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#a6528f1d81286f5bff26ae217c33da654">bmin</a>);</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a9cbb34310e47a6def133a4b533d073ea">rcVcopy</a>(mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#aabdf91f888b1c2dacd077a339a6df3a4">bmax</a>, cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#ae756cdf05388b7455768011841c0f6a1">bmax</a>);</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a4c3ca520c55f96037cffcf6a92809563">cs</a> = cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#a1dbf04db7e828a3757e951e4f8499c95">cs</a>;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#aa1ba795ddbb893da041b2a5273716ac5">ch</a> = cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#ada4d5c2916f351065c6f5a382f087ebc">ch</a>;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a9f367a88b878ce8029b9709fb27b878b">borderSize</a> = cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#adb04d1277e815ed89b156714bad3c17a">borderSize</a>;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab26e9ea24492a2c45b1a2d71ccdb091d">maxEdgeError</a> = cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#af657b46878e8fff2dd731ee066e4e1b2">maxError</a>;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    </div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <span class="keywordtype">int</span> maxVertices = 0;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="keywordtype">int</span> maxTris = 0;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordtype">int</span> maxVertsPerCont = 0;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#aa751e5adb077b2ea7a9c8795e7a2fa99">nconts</a>; ++i)</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    {</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        <span class="comment">// Skip null contours.</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        <span class="keywordflow">if</span> (cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#ad737b7220701eeae5aa9c488d4d4f18d">conts</a>[i].<a class="code" href="../../df/d2c/structrc_contour.html#afcf77c01352f2c46172fdfabd2f9b9f6">nverts</a> &lt; 3) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        maxVertices += cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#ad737b7220701eeae5aa9c488d4d4f18d">conts</a>[i].<a class="code" href="../../df/d2c/structrc_contour.html#afcf77c01352f2c46172fdfabd2f9b9f6">nverts</a>;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;        maxTris += cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#ad737b7220701eeae5aa9c488d4d4f18d">conts</a>[i].<a class="code" href="../../df/d2c/structrc_contour.html#afcf77c01352f2c46172fdfabd2f9b9f6">nverts</a> - 2;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;        maxVertsPerCont = <a class="code" href="../../de/d78/_recast_8h.html#accb921a8353da3a74aa90a491aff74c8">rcMax</a>(maxVertsPerCont, cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#ad737b7220701eeae5aa9c488d4d4f18d">conts</a>[i].<a class="code" href="../../df/d2c/structrc_contour.html#afcf77c01352f2c46172fdfabd2f9b9f6">nverts</a>);</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    }</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    </div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <span class="keywordflow">if</span> (maxVertices &gt;= 0xfffe)</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    {</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildPolyMesh: Too many vertices %d.&quot;</span>, maxVertices);</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    }</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;        </div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <a class="code" href="../../d9/d65/classrc_scoped_delete.html">rcScopedDelete&lt;unsigned char&gt;</a> vflags((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*maxVertices, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60a5e5b510fb1d2422e28f5262d4bd058ee">RC_ALLOC_TEMP</a>));</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <span class="keywordflow">if</span> (!vflags)</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    {</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildPolyMesh: Out of memory &#39;vflags&#39; (%d).&quot;</span>, maxVertices);</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    }</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(vflags, 0, maxVertices);</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    </div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a0c43c2f7d5b98a8d5bc15a15a838280e">verts</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*maxVertices*3, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <span class="keywordflow">if</span> (!mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a0c43c2f7d5b98a8d5bc15a15a838280e">verts</a>)</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    {</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildPolyMesh: Out of memory &#39;mesh.verts&#39; (%d).&quot;</span>, maxVertices);</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    }</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab7458680db9fe833bd86ced5f7c28308">polys</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*maxTris*nvp*2, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <span class="keywordflow">if</span> (!mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab7458680db9fe833bd86ced5f7c28308">polys</a>)</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    {</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildPolyMesh: Out of memory &#39;mesh.polys&#39; (%d).&quot;</span>, maxTris*nvp*2);</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    }</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a9ae584e99de152fb89d957d43b7becd8">regs</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*maxTris, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keywordflow">if</span> (!mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a9ae584e99de152fb89d957d43b7becd8">regs</a>)</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    {</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildPolyMesh: Out of memory &#39;mesh.regs&#39; (%d).&quot;</span>, maxTris);</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    }</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a991d461df21cfccb2b97fa3c4828fec7">areas</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*maxTris, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <span class="keywordflow">if</span> (!mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a991d461df21cfccb2b97fa3c4828fec7">areas</a>)</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    {</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildPolyMesh: Out of memory &#39;mesh.areas&#39; (%d).&quot;</span>, maxTris);</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    }</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    </div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ac9c762a21343c45649638e02332e53eb">nverts</a> = 0;</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a> = 0;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab0c55272b556ffc9db9e643b463cb66a">nvp</a> = nvp;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#afc6261e7cee3e3ff2a83b6ee8baf14a9">maxpolys</a> = maxTris;</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    </div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a0c43c2f7d5b98a8d5bc15a15a838280e">verts</a>, 0, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*maxVertices*3);</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab7458680db9fe833bd86ced5f7c28308">polys</a>, 0xff, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*maxTris*nvp*2);</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a9ae584e99de152fb89d957d43b7becd8">regs</a>, 0, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*maxTris);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a991d461df21cfccb2b97fa3c4828fec7">areas</a>, 0, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*maxTris);</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    </div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <a class="code" href="../../d9/d65/classrc_scoped_delete.html">rcScopedDelete&lt;int&gt;</a> nextVert((<span class="keywordtype">int</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*maxVertices, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60a5e5b510fb1d2422e28f5262d4bd058ee">RC_ALLOC_TEMP</a>));</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="keywordflow">if</span> (!nextVert)</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    {</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildPolyMesh: Out of memory &#39;nextVert&#39; (%d).&quot;</span>, maxVertices);</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    }</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(nextVert, 0, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*maxVertices);</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    </div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <a class="code" href="../../d9/d65/classrc_scoped_delete.html">rcScopedDelete&lt;int&gt;</a> firstVert((<span class="keywordtype">int</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*<a class="code" href="../../d9/dbf/_recast_mesh_8cpp.html#a3a4e01616a89d8ef01154d9dd46e0ccc">VERTEX_BUCKET_COUNT</a>, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60a5e5b510fb1d2422e28f5262d4bd058ee">RC_ALLOC_TEMP</a>));</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <span class="keywordflow">if</span> (!firstVert)</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    {</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildPolyMesh: Out of memory &#39;firstVert&#39; (%d).&quot;</span>, <a class="code" href="../../d9/dbf/_recast_mesh_8cpp.html#a3a4e01616a89d8ef01154d9dd46e0ccc">VERTEX_BUCKET_COUNT</a>);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    }</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d9/dbf/_recast_mesh_8cpp.html#a3a4e01616a89d8ef01154d9dd46e0ccc">VERTEX_BUCKET_COUNT</a>; ++i)</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        firstVert[i] = -1;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    </div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <a class="code" href="../../d9/d65/classrc_scoped_delete.html">rcScopedDelete&lt;int&gt;</a> indices((<span class="keywordtype">int</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*maxVertsPerCont, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60a5e5b510fb1d2422e28f5262d4bd058ee">RC_ALLOC_TEMP</a>));</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <span class="keywordflow">if</span> (!indices)</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    {</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildPolyMesh: Out of memory &#39;indices&#39; (%d).&quot;</span>, maxVertsPerCont);</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    }</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <a class="code" href="../../d9/d65/classrc_scoped_delete.html">rcScopedDelete&lt;int&gt;</a> tris((<span class="keywordtype">int</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*maxVertsPerCont*3, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60a5e5b510fb1d2422e28f5262d4bd058ee">RC_ALLOC_TEMP</a>));</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <span class="keywordflow">if</span> (!tris)</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    {</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildPolyMesh: Out of memory &#39;tris&#39; (%d).&quot;</span>, maxVertsPerCont*3);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    }</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    <a class="code" href="../../d9/d65/classrc_scoped_delete.html">rcScopedDelete&lt;unsigned short&gt;</a> polys((<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*(maxVertsPerCont+1)*nvp, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60a5e5b510fb1d2422e28f5262d4bd058ee">RC_ALLOC_TEMP</a>));</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="keywordflow">if</span> (!polys)</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    {</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildPolyMesh: Out of memory &#39;polys&#39; (%d).&quot;</span>, maxVertsPerCont*nvp);</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    }</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>* tmpPoly = &amp;polys[maxVertsPerCont*nvp];</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160; </div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#aa751e5adb077b2ea7a9c8795e7a2fa99">nconts</a>; ++i)</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    {</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        <a class="code" href="../../df/d2c/structrc_contour.html">rcContour</a>&amp; cont = cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#ad737b7220701eeae5aa9c488d4d4f18d">conts</a>[i];</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        </div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        <span class="comment">// Skip null contours.</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;        <span class="keywordflow">if</span> (cont.<a class="code" href="../../df/d2c/structrc_contour.html#afcf77c01352f2c46172fdfabd2f9b9f6">nverts</a> &lt; 3)</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;        </div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        <span class="comment">// Triangulate contour</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; cont.<a class="code" href="../../df/d2c/structrc_contour.html#afcf77c01352f2c46172fdfabd2f9b9f6">nverts</a>; ++j)</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;            indices[j] = j;</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;            </div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        <span class="keywordtype">int</span> ntris = <a class="code" href="../../d9/dbf/_recast_mesh_8cpp.html#af19401e5d7d90391fe30c6d31de5a533">triangulate</a>(cont.<a class="code" href="../../df/d2c/structrc_contour.html#afcf77c01352f2c46172fdfabd2f9b9f6">nverts</a>, cont.<a class="code" href="../../df/d2c/structrc_contour.html#aa544ceef431b5fc5b3a6087e4b2fc53c">verts</a>, &amp;indices[0], &amp;tris[0]);</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;        <span class="keywordflow">if</span> (ntris &lt;= 0)</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        {</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;            <span class="comment">// Bad triangulation, should not happen.</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;<span class="comment">/*          printf(&quot;\tconst float bmin[3] = {%ff,%ff,%ff};\n&quot;, cset.bmin[0], cset.bmin[1], cset.bmin[2]);</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;<span class="comment">            printf(&quot;\tconst float cs = %ff;\n&quot;, cset.cs);</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;<span class="comment">            printf(&quot;\tconst float ch = %ff;\n&quot;, cset.ch);</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;<span class="comment">            printf(&quot;\tconst int verts[] = {\n&quot;);</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;<span class="comment">            for (int k = 0; k &lt; cont.nverts; ++k)</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;<span class="comment">            {</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;<span class="comment">                const int* v = &amp;cont.verts[k*4];</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;<span class="comment">                printf(&quot;\t\t%d,%d,%d,%d,\n&quot;, v[0], v[1], v[2], v[3]);</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;<span class="comment">            }</span></div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;<span class="comment">            printf(&quot;\t};\n\tconst int nverts = sizeof(verts)/(sizeof(int)*4);\n&quot;);*/</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;            ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba05dd323a1feaf0c125be248057cc40a5">RC_LOG_WARNING</a>, <span class="stringliteral">&quot;rcBuildPolyMesh: Bad triangulation Contour %d.&quot;</span>, i);</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;            ntris = -ntris;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        }</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;                </div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;        <span class="comment">// Add and merge vertices.</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; cont.<a class="code" href="../../df/d2c/structrc_contour.html#afcf77c01352f2c46172fdfabd2f9b9f6">nverts</a>; ++j)</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        {</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span>* v = &amp;cont.<a class="code" href="../../df/d2c/structrc_contour.html#aa544ceef431b5fc5b3a6087e4b2fc53c">verts</a>[j*4];</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;            indices[j] = <a class="code" href="../../d9/dbf/_recast_mesh_8cpp.html#a80775c4842d1c1c9f9acbe1c99e0ccd5">addVertex</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)v[0], (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)v[1], (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)v[2],</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;                                   mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a0c43c2f7d5b98a8d5bc15a15a838280e">verts</a>, firstVert, nextVert, mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ac9c762a21343c45649638e02332e53eb">nverts</a>);</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;            <span class="keywordflow">if</span> (v[3] &amp; <a class="code" href="../../de/d78/_recast_8h.html#a8b57de86c98abbad39cce7df7c0aa1f8">RC_BORDER_VERTEX</a>)</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;            {</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                <span class="comment">// This vertex should be removed.</span></div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;                vflags[indices[j]] = 1;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;            }</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        }</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160; </div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        <span class="comment">// Build initial polygons.</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        <span class="keywordtype">int</span> npolys = 0;</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(polys, 0xff, maxVertsPerCont*nvp*<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>));</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; ntris; ++j)</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;        {</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;            <span class="keywordtype">int</span>* t = &amp;tris[j*3];</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;            <span class="keywordflow">if</span> (t[0] != t[1] &amp;&amp; t[0] != t[2] &amp;&amp; t[1] != t[2])</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;            {</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;                polys[npolys*nvp+0] = (<span class="keywordtype">unsigned</span> short)indices[t[0]];</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;                polys[npolys*nvp+1] = (<span class="keywordtype">unsigned</span> short)indices[t[1]];</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                polys[npolys*nvp+2] = (<span class="keywordtype">unsigned</span> short)indices[t[2]];</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;                npolys++;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;            }</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;        }</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;        <span class="keywordflow">if</span> (!npolys)</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;        </div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;        <span class="comment">// Merge polygons.</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        <span class="keywordflow">if</span> (nvp &gt; 3)</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;        {</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;            <span class="keywordflow">for</span>(;;)</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;            {</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                <span class="comment">// Find best polygons to merge.</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                <span class="keywordtype">int</span> bestMergeVal = 0;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                <span class="keywordtype">int</span> bestPa = 0, bestPb = 0, bestEa = 0, bestEb = 0;</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                </div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; npolys-1; ++j)</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;                {</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;                    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>* pj = &amp;polys[j*nvp];</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = j+1; k &lt; npolys; ++k)</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;                    {</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;                        <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>* pk = &amp;polys[k*nvp];</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;                        <span class="keywordtype">int</span> ea, eb;</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;                        <span class="keywordtype">int</span> v = <a class="code" href="../../d9/dbf/_recast_mesh_8cpp.html#aa51188672fa9e4efd3dffdb7012765b5">getPolyMergeValue</a>(pj, pk, mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a0c43c2f7d5b98a8d5bc15a15a838280e">verts</a>, ea, eb, nvp);</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;                        <span class="keywordflow">if</span> (v &gt; bestMergeVal)</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;                        {</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                            bestMergeVal = v;</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;                            bestPa = j;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;                            bestPb = k;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;                            bestEa = ea;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;                            bestEb = eb;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;                        }</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                    }</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                }</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;                </div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                <span class="keywordflow">if</span> (bestMergeVal &gt; 0)</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;                {</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                    <span class="comment">// Found best, merge.</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>* pa = &amp;polys[bestPa*nvp];</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>* pb = &amp;polys[bestPb*nvp];</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                    <a class="code" href="../../d9/dbf/_recast_mesh_8cpp.html#ab16a0c6bfd0ae903d4c02eabd16fd5af">mergePolyVerts</a>(pa, pb, bestEa, bestEb, tmpPoly, nvp);</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;                    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>* lastPoly = &amp;polys[(npolys-1)*nvp];</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;                    <span class="keywordflow">if</span> (pb != lastPoly)</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;                        <a class="code" href="../../d6/dda/m__string_8h.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a>(pb, lastPoly, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*nvp);</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;                    npolys--;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;                }</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;                {</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;                    <span class="comment">// Could not merge any polygons, stop.</span></div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;                }</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;            }</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;        }</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;        </div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;        <span class="comment">// Store polygons.</span></div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; npolys; ++j)</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;        {</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>* p = &amp;mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab7458680db9fe833bd86ced5f7c28308">polys</a>[mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>*nvp*2];</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>* q = &amp;polys[j*nvp];</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; nvp; ++k)</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;                p[k] = q[k];</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;            mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a9ae584e99de152fb89d957d43b7becd8">regs</a>[mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>] = cont.<a class="code" href="../../df/d2c/structrc_contour.html#a8971d5c5cc7c7fb8e5d79a6ff9812cd1">reg</a>;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;            mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a991d461df21cfccb2b97fa3c4828fec7">areas</a>[mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>] = cont.<a class="code" href="../../df/d2c/structrc_contour.html#a1052e9ac2da6e515cbb12908a58fca78">area</a>;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;            mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>++;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;            <span class="keywordflow">if</span> (mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a> &gt; maxTris)</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;            {</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;                ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildPolyMesh: Too many polygons %d (max:%d).&quot;</span>, mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>, maxTris);</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;            }</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        }</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    }</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    </div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    </div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    <span class="comment">// Remove edge vertices.</span></div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ac9c762a21343c45649638e02332e53eb">nverts</a>; ++i)</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    {</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        <span class="keywordflow">if</span> (vflags[i])</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        {</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d9/dbf/_recast_mesh_8cpp.html#a837800b7a34e1106d7ad287b8cb7fc33">canRemoveVertex</a>(ctx, mesh, (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)i))</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d9/dbf/_recast_mesh_8cpp.html#ac8ebd1bb6f534d5a37959dcb3321ce7d">removeVertex</a>(ctx, mesh, (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)i, maxTris))</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;            {</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;                <span class="comment">// Failed to remove vertex</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;                ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildPolyMesh: Failed to remove edge vertex %d.&quot;</span>, i);</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;            }</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;            <span class="comment">// Remove vertex</span></div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;            <span class="comment">// Note: mesh.nverts is already decremented inside removeVertex()!</span></div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;            <span class="comment">// Fixup vertex flags</span></div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = i; j &lt; mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ac9c762a21343c45649638e02332e53eb">nverts</a>; ++j)</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;                vflags[j] = vflags[j+1];</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;            --i;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;        }</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    }</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    </div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <span class="comment">// Calculate adjacency.</span></div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d9/dbf/_recast_mesh_8cpp.html#a256e19cca110edc31cb96adf9a52521d">buildMeshAdjacency</a>(mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab7458680db9fe833bd86ced5f7c28308">polys</a>, mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>, mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ac9c762a21343c45649638e02332e53eb">nverts</a>, nvp))</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    {</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildPolyMesh: Adjacency failed.&quot;</span>);</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    }</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    </div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    <span class="comment">// Find portal edges</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    <span class="keywordflow">if</span> (mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a9f367a88b878ce8029b9709fb27b878b">borderSize</a> &gt; 0)</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    {</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> w = cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#af165415f9e2ef3cf446786040864e6d2">width</a>;</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> h = cset.<a class="code" href="../../db/d9f/structrc_contour_set.html#a18be0e9d84b65e8688153b0adb517124">height</a>;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>; ++i)</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;        {</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>* p = &amp;mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab7458680db9fe833bd86ced5f7c28308">polys</a>[i*2*nvp];</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; nvp; ++j)</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;            {</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;                <span class="keywordflow">if</span> (p[j] == <a class="code" href="../../de/d78/_recast_8h.html#a66e1b0e59a450182b5551eb12e68fcfe">RC_MESH_NULL_IDX</a>) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;                <span class="comment">// Skip connected edges.</span></div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;                <span class="keywordflow">if</span> (p[nvp+j] != <a class="code" href="../../de/d78/_recast_8h.html#a66e1b0e59a450182b5551eb12e68fcfe">RC_MESH_NULL_IDX</a>)</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;                <span class="keywordtype">int</span> nj = j+1;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;                <span class="keywordflow">if</span> (nj &gt;= nvp || p[nj] == <a class="code" href="../../de/d78/_recast_8h.html#a66e1b0e59a450182b5551eb12e68fcfe">RC_MESH_NULL_IDX</a>) nj = 0;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>* va = &amp;mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a0c43c2f7d5b98a8d5bc15a15a838280e">verts</a>[p[j]*3];</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>* vb = &amp;mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a0c43c2f7d5b98a8d5bc15a15a838280e">verts</a>[p[nj]*3];</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160; </div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;                <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)va[0] == 0 &amp;&amp; (<span class="keywordtype">int</span>)vb[0] == 0)</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;                    p[nvp+j] = 0x8000 | 0;</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)va[2] == h &amp;&amp; (<span class="keywordtype">int</span>)vb[2] == h)</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;                    p[nvp+j] = 0x8000 | 1;</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)va[0] == w &amp;&amp; (<span class="keywordtype">int</span>)vb[0] == w)</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;                    p[nvp+j] = 0x8000 | 2;</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)va[2] == 0 &amp;&amp; (<span class="keywordtype">int</span>)vb[2] == 0)</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;                    p[nvp+j] = 0x8000 | 3;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;            }</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;        }</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    }</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160; </div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    <span class="comment">// Just allocate the mesh flags array. The user is resposible to fill it.</span></div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab91ec949432297f7d0341a6ba9c88288">flags</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    <span class="keywordflow">if</span> (!mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab91ec949432297f7d0341a6ba9c88288">flags</a>)</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    {</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildPolyMesh: Out of memory &#39;mesh.flags&#39; (%d).&quot;</span>, mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>);</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    }</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab91ec949432297f7d0341a6ba9c88288">flags</a>, 0, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>) * mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>);</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    </div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <span class="keywordflow">if</span> (mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ac9c762a21343c45649638e02332e53eb">nverts</a> &gt; 0xffff)</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    {</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildPolyMesh: The resulting mesh has too many vertices %d (max %d). Data can be corrupted.&quot;</span>, mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ac9c762a21343c45649638e02332e53eb">nverts</a>, 0xffff);</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    }</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    <span class="keywordflow">if</span> (mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a> &gt; 0xffff)</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    {</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildPolyMesh: The resulting mesh has too many polygons %d (max %d). Data can be corrupted.&quot;</span>, mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>, 0xffff);</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    }</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    </div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;}</div>
<div class="ttc" id="a_recast_8h_html_a66e1b0e59a450182b5551eb12e68fcfe"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a66e1b0e59a450182b5551eb12e68fcfe">RC_MESH_NULL_IDX</a></div><div class="ttdeci">static const unsigned short RC_MESH_NULL_IDX</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00579">Recast.h:579</a></div></div>
<div class="ttc" id="a_recast_8h_html_a8b57de86c98abbad39cce7df7c0aa1f8"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a8b57de86c98abbad39cce7df7c0aa1f8">RC_BORDER_VERTEX</a></div><div class="ttdeci">static const int RC_BORDER_VERTEX</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00553">Recast.h:553</a></div></div>
<div class="ttc" id="a_recast_mesh_8cpp_html_a256e19cca110edc31cb96adf9a52521d"><div class="ttname"><a href="../../d9/dbf/_recast_mesh_8cpp.html#a256e19cca110edc31cb96adf9a52521d">buildMeshAdjacency</a></div><div class="ttdeci">static bool buildMeshAdjacency(unsigned short *polys, const int npolys, const int nverts, const int vertsPerPoly)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dbf/_recast_mesh_8cpp_source.html#l00034">RecastMesh.cpp:34</a></div></div>
<div class="ttc" id="a_recast_mesh_8cpp_html_a3a4e01616a89d8ef01154d9dd46e0ccc"><div class="ttname"><a href="../../d9/dbf/_recast_mesh_8cpp.html#a3a4e01616a89d8ef01154d9dd46e0ccc">VERTEX_BUCKET_COUNT</a></div><div class="ttdeci">static const int VERTEX_BUCKET_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dbf/_recast_mesh_8cpp_source.html#l00126">RecastMesh.cpp:126</a></div></div>
<div class="ttc" id="a_recast_mesh_8cpp_html_a80775c4842d1c1c9f9acbe1c99e0ccd5"><div class="ttname"><a href="../../d9/dbf/_recast_mesh_8cpp.html#a80775c4842d1c1c9f9acbe1c99e0ccd5">addVertex</a></div><div class="ttdeci">static unsigned short addVertex(unsigned short x, unsigned short y, unsigned short z, unsigned short *verts, int *firstVert, int *nextVert, int &amp;nv)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dbf/_recast_mesh_8cpp_source.html#l00137">RecastMesh.cpp:137</a></div></div>
<div class="ttc" id="a_recast_mesh_8cpp_html_a837800b7a34e1106d7ad287b8cb7fc33"><div class="ttname"><a href="../../d9/dbf/_recast_mesh_8cpp.html#a837800b7a34e1106d7ad287b8cb7fc33">canRemoveVertex</a></div><div class="ttdeci">static bool canRemoveVertex(rcContext *ctx, rcPolyMesh &amp;mesh, const unsigned short rem)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dbf/_recast_mesh_8cpp_source.html#l00564">RecastMesh.cpp:564</a></div></div>
<div class="ttc" id="a_recast_mesh_8cpp_html_aa51188672fa9e4efd3dffdb7012765b5"><div class="ttname"><a href="../../d9/dbf/_recast_mesh_8cpp.html#aa51188672fa9e4efd3dffdb7012765b5">getPolyMergeValue</a></div><div class="ttdeci">static int getPolyMergeValue(unsigned short *pa, unsigned short *pb, const unsigned short *verts, int &amp;ea, int &amp;eb, const int nvp)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dbf/_recast_mesh_8cpp_source.html#l00467">RecastMesh.cpp:467</a></div></div>
<div class="ttc" id="a_recast_mesh_8cpp_html_ab16a0c6bfd0ae903d4c02eabd16fd5af"><div class="ttname"><a href="../../d9/dbf/_recast_mesh_8cpp.html#ab16a0c6bfd0ae903d4c02eabd16fd5af">mergePolyVerts</a></div><div class="ttdeci">static void mergePolyVerts(unsigned short *pa, unsigned short *pb, int ea, int eb, unsigned short *tmp, const int nvp)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dbf/_recast_mesh_8cpp_source.html#l00531">RecastMesh.cpp:531</a></div></div>
<div class="ttc" id="a_recast_mesh_8cpp_html_ac8ebd1bb6f534d5a37959dcb3321ce7d"><div class="ttname"><a href="../../d9/dbf/_recast_mesh_8cpp.html#ac8ebd1bb6f534d5a37959dcb3321ce7d">removeVertex</a></div><div class="ttdeci">static bool removeVertex(rcContext *ctx, rcPolyMesh &amp;mesh, const unsigned short rem, const int maxTris)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dbf/_recast_mesh_8cpp_source.html#l00666">RecastMesh.cpp:666</a></div></div>
<div class="ttc" id="a_recast_mesh_8cpp_html_af19401e5d7d90391fe30c6d31de5a533"><div class="ttname"><a href="../../d9/dbf/_recast_mesh_8cpp.html#af19401e5d7d90391fe30c6d31de5a533">triangulate</a></div><div class="ttdeci">static int triangulate(int n, const int *verts, int *indices, int *tris)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dbf/_recast_mesh_8cpp_source.html#l00339">RecastMesh.cpp:339</a></div></div>
<div class="ttc" id="astructrc_poly_mesh_html_a0c43c2f7d5b98a8d5bc15a15a838280e"><div class="ttname"><a href="../../df/d75/structrc_poly_mesh.html#a0c43c2f7d5b98a8d5bc15a15a838280e">rcPolyMesh::verts</a></div><div class="ttdeci">unsigned short * verts</div><div class="ttdoc">The mesh vertices. [Form: (x, y, z) * nverts].</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00422">Recast.h:422</a></div></div>
<div class="ttc" id="astructrc_poly_mesh_html_a4c3ca520c55f96037cffcf6a92809563"><div class="ttname"><a href="../../df/d75/structrc_poly_mesh.html#a4c3ca520c55f96037cffcf6a92809563">rcPolyMesh::cs</a></div><div class="ttdeci">float cs</div><div class="ttdoc">The size of each cell. (On the xz-plane.)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00433">Recast.h:433</a></div></div>
<div class="ttc" id="astructrc_poly_mesh_html_a63625dd55ca66c97ca29a87a5455cc27"><div class="ttname"><a href="../../df/d75/structrc_poly_mesh.html#a63625dd55ca66c97ca29a87a5455cc27">rcPolyMesh::bmin</a></div><div class="ttdeci">float bmin[3]</div><div class="ttdoc">The minimum bounds in world space. [(x, y, z)].</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00431">Recast.h:431</a></div></div>
<div class="ttc" id="astructrc_poly_mesh_html_a991d461df21cfccb2b97fa3c4828fec7"><div class="ttname"><a href="../../df/d75/structrc_poly_mesh.html#a991d461df21cfccb2b97fa3c4828fec7">rcPolyMesh::areas</a></div><div class="ttdeci">unsigned char * areas</div><div class="ttdoc">The area id assigned to each polygon. [Length: maxpolys].</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00426">Recast.h:426</a></div></div>
<div class="ttc" id="astructrc_poly_mesh_html_a9ae584e99de152fb89d957d43b7becd8"><div class="ttname"><a href="../../df/d75/structrc_poly_mesh.html#a9ae584e99de152fb89d957d43b7becd8">rcPolyMesh::regs</a></div><div class="ttdeci">unsigned short * regs</div><div class="ttdoc">The region id assigned to each polygon. [Length: maxpolys].</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00424">Recast.h:424</a></div></div>
<div class="ttc" id="astructrc_poly_mesh_html_a9f367a88b878ce8029b9709fb27b878b"><div class="ttname"><a href="../../df/d75/structrc_poly_mesh.html#a9f367a88b878ce8029b9709fb27b878b">rcPolyMesh::borderSize</a></div><div class="ttdeci">int borderSize</div><div class="ttdoc">The AABB border size used to generate the source data from which the mesh was derived.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00435">Recast.h:435</a></div></div>
<div class="ttc" id="astructrc_poly_mesh_html_aa1ba795ddbb893da041b2a5273716ac5"><div class="ttname"><a href="../../df/d75/structrc_poly_mesh.html#aa1ba795ddbb893da041b2a5273716ac5">rcPolyMesh::ch</a></div><div class="ttdeci">float ch</div><div class="ttdoc">The height of each cell. (The minimum increment along the y-axis.)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00434">Recast.h:434</a></div></div>
<div class="ttc" id="astructrc_poly_mesh_html_aabdf91f888b1c2dacd077a339a6df3a4"><div class="ttname"><a href="../../df/d75/structrc_poly_mesh.html#aabdf91f888b1c2dacd077a339a6df3a4">rcPolyMesh::bmax</a></div><div class="ttdeci">float bmax[3]</div><div class="ttdoc">The maximum bounds in world space. [(x, y, z)].</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00432">Recast.h:432</a></div></div>
<div class="ttc" id="astructrc_poly_mesh_html_ab0c55272b556ffc9db9e643b463cb66a"><div class="ttname"><a href="../../df/d75/structrc_poly_mesh.html#ab0c55272b556ffc9db9e643b463cb66a">rcPolyMesh::nvp</a></div><div class="ttdeci">int nvp</div><div class="ttdoc">The maximum number of vertices per polygon.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00430">Recast.h:430</a></div></div>
<div class="ttc" id="astructrc_poly_mesh_html_ab26e9ea24492a2c45b1a2d71ccdb091d"><div class="ttname"><a href="../../df/d75/structrc_poly_mesh.html#ab26e9ea24492a2c45b1a2d71ccdb091d">rcPolyMesh::maxEdgeError</a></div><div class="ttdeci">float maxEdgeError</div><div class="ttdoc">The max error of the polygon edges in the mesh.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00436">Recast.h:436</a></div></div>
<div class="ttc" id="astructrc_poly_mesh_html_ab7458680db9fe833bd86ced5f7c28308"><div class="ttname"><a href="../../df/d75/structrc_poly_mesh.html#ab7458680db9fe833bd86ced5f7c28308">rcPolyMesh::polys</a></div><div class="ttdeci">unsigned short * polys</div><div class="ttdoc">Polygon and neighbor data. [Length: maxpolys * 2 * nvp].</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00423">Recast.h:423</a></div></div>
<div class="ttc" id="astructrc_poly_mesh_html_ab91ec949432297f7d0341a6ba9c88288"><div class="ttname"><a href="../../df/d75/structrc_poly_mesh.html#ab91ec949432297f7d0341a6ba9c88288">rcPolyMesh::flags</a></div><div class="ttdeci">unsigned short * flags</div><div class="ttdoc">The user defined flags for each polygon. [Length: maxpolys].</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00425">Recast.h:425</a></div></div>
<div class="ttc" id="astructrc_poly_mesh_html_abd3e50c1eb0aba7157aa3e2902ae019e"><div class="ttname"><a href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">rcPolyMesh::npolys</a></div><div class="ttdeci">int npolys</div><div class="ttdoc">The number of polygons.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00428">Recast.h:428</a></div></div>
<div class="ttc" id="astructrc_poly_mesh_html_ac9c762a21343c45649638e02332e53eb"><div class="ttname"><a href="../../df/d75/structrc_poly_mesh.html#ac9c762a21343c45649638e02332e53eb">rcPolyMesh::nverts</a></div><div class="ttdeci">int nverts</div><div class="ttdoc">The number of vertices.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00427">Recast.h:427</a></div></div>
<div class="ttc" id="astructrc_poly_mesh_html_afc6261e7cee3e3ff2a83b6ee8baf14a9"><div class="ttname"><a href="../../df/d75/structrc_poly_mesh.html#afc6261e7cee3e3ff2a83b6ee8baf14a9">rcPolyMesh::maxpolys</a></div><div class="ttdeci">int maxpolys</div><div class="ttdoc">The number of allocated polygons.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00429">Recast.h:429</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html#l00137">addVertex()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00395">rcContour::area</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00426">rcPolyMesh::areas</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00407">rcContourSet::bmax</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00432">rcPolyMesh::bmax</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00406">rcContourSet::bmin</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00431">rcPolyMesh::bmin</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00412">rcContourSet::borderSize</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00435">rcPolyMesh::borderSize</a>, <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html#l00034">buildMeshAdjacency()</a>, <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html#l00564">canRemoveVertex()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00409">rcContourSet::ch</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00434">rcPolyMesh::ch</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00404">rcContourSet::conts</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00408">rcContourSet::cs</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00433">rcPolyMesh::cs</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00425">rcPolyMesh::flags</a>, <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html#l00467">getPolyMergeValue()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00411">rcContourSet::height</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00079">rcContext::log()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00436">rcPolyMesh::maxEdgeError</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00413">rcContourSet::maxError</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00429">rcPolyMesh::maxpolys</a>, <a class="el" href="../../d6/dda/m__string_8h_source.html#l00050">memcpy</a>, <a class="el" href="../../d6/dda/m__string_8h_source.html#l00051">memset</a>, <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html#l00531">mergePolyVerts()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00405">rcContourSet::nconts</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00428">rcPolyMesh::npolys</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00391">rcContour::nverts</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00427">rcPolyMesh::nverts</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00430">rcPolyMesh::nvp</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00423">rcPolyMesh::polys</a>, <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00031">RC_ALLOC_PERM</a>, <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00032">RC_ALLOC_TEMP</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00553">RC_BORDER_VERTEX</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00031">RC_LOG_ERROR</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00030">RC_LOG_WARNING</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00579">RC_MESH_NULL_IDX</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00061">RC_TIMER_BUILD_POLYMESH</a>, <a class="el" href="../../d5/d42/_recast_alloc_8cpp_source.html#l00045">rcAlloc()</a>, <a class="el" href="../../d1/db5/_recast_assert_8h_source.html#l00047">rcAssert</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00618">rcMax()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00723">rcVcopy()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00394">rcContour::reg</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00424">rcPolyMesh::regs</a>, <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html#l00666">removeVertex()</a>, <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html#l00339">triangulate()</a>, <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html#l00126">VERTEX_BUCKET_COUNT</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00390">rcContour::verts</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00422">rcPolyMesh::verts</a>, and <a class="el" href="../../de/d78/_recast_8h_source.html#l00410">rcContourSet::width</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00092">TileBuilder::BuildInstance()</a>, <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00542">MMAP::MapBuilder::buildMoveMapTile()</a>, and <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00219">TileBuilder::BuildTiled()</a>.</p>

</div>
</div>
<a id="abdf6b580a66cc9d47f96713dfab81e62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdf6b580a66cc9d47f96713dfab81e62">&#9670;&nbsp;</a></span>rcBuildPolyMeshDetail()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> rcBuildPolyMeshDetail </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../df/d75/structrc_poly_mesh.html">rcPolyMesh</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a> &amp;&#160;</td>
          <td class="paramname"><em>chf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float&#160;</td>
          <td class="paramname"><em>sampleDist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float&#160;</td>
          <td class="paramname"><em>sampleMaxError</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d70/structrc_poly_mesh_detail.html">rcPolyMeshDetail</a> &amp;&#160;</td>
          <td class="paramname"><em>dmesh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Builds a detail mesh from the provided polygon mesh.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>The build context to use during the operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mesh</td><td>A fully built polygon mesh. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">chf</td><td>The compact heightfield used to build the polygon mesh. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sampleDist</td><td>Sets the distance to use when samping the heightfield. [Limit: &gt;=0] [Units: wu] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sampleMaxError</td><td>The maximum distance the detail mesh surface should deviate from heightfield data. [Limit: &gt;=0] [Units: wu] </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dmesh</td><td>The resulting detail mesh. (Must be pre-allocated.) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the operation completed successfully.</dd></dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<p>See the <a class="el" href="../../d2/d52/structrc_config.html">rcConfig</a> documentation for more information on the configuration parameters.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d3/d01/_recast_8cpp.html#a617834c1759867250e21569c204f1410">rcAllocPolyMeshDetail</a>, <a class="el" href="../../df/d75/structrc_poly_mesh.html">rcPolyMesh</a>, <a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a>, <a class="el" href="../../d6/d70/structrc_poly_mesh_detail.html">rcPolyMeshDetail</a>, <a class="el" href="../../d2/d52/structrc_config.html">rcConfig</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l01171">1171</a> of file <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html">RecastMeshDetail.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;{</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    <a class="code" href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a>(ctx);</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    </div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <a class="code" href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a> timer(ctx, <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da154109a5c78860b81ce9370a6a8debfd">RC_TIMER_BUILD_POLYMESHDETAIL</a>);</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    </div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <span class="keywordflow">if</span> (mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ac9c762a21343c45649638e02332e53eb">nverts</a> == 0 || mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a> == 0)</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    </div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> nvp = mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab0c55272b556ffc9db9e643b463cb66a">nvp</a>;</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> cs = mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a4c3ca520c55f96037cffcf6a92809563">cs</a>;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> ch = mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#aa1ba795ddbb893da041b2a5273716ac5">ch</a>;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span>* orig = mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a63625dd55ca66c97ca29a87a5455cc27">bmin</a>;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> borderSize = mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a9f367a88b878ce8029b9709fb27b878b">borderSize</a>;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> heightSearchRadius = <a class="code" href="../../de/d78/_recast_8h.html#accb921a8353da3a74aa90a491aff74c8">rcMax</a>(1, (<span class="keywordtype">int</span>)ceilf(mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab26e9ea24492a2c45b1a2d71ccdb091d">maxEdgeError</a>));</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    </div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <a class="code" href="../../d6/d40/classrc_int_array.html">rcIntArray</a> edges(64);</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    <a class="code" href="../../d6/d40/classrc_int_array.html">rcIntArray</a> tris(512);</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    <a class="code" href="../../d6/d40/classrc_int_array.html">rcIntArray</a> arr(512);</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <a class="code" href="../../d6/d40/classrc_int_array.html">rcIntArray</a> samples(512);</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    <span class="keywordtype">float</span> verts[256*3];</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <a class="code" href="../../d7/de0/structrc_height_patch.html">rcHeightPatch</a> hp;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <span class="keywordtype">int</span> nPolyVerts = 0;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    <span class="keywordtype">int</span> maxhw = 0, maxhh = 0;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    </div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <a class="code" href="../../d9/d65/classrc_scoped_delete.html">rcScopedDelete&lt;int&gt;</a> bounds((<span class="keywordtype">int</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>*4, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60a5e5b510fb1d2422e28f5262d4bd058ee">RC_ALLOC_TEMP</a>));</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <span class="keywordflow">if</span> (!bounds)</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    {</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildPolyMeshDetail: Out of memory &#39;bounds&#39; (%d).&quot;</span>, mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>*4);</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    }</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <a class="code" href="../../d9/d65/classrc_scoped_delete.html">rcScopedDelete&lt;float&gt;</a> poly((<span class="keywordtype">float</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>)*nvp*3, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60a5e5b510fb1d2422e28f5262d4bd058ee">RC_ALLOC_TEMP</a>));</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <span class="keywordflow">if</span> (!poly)</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    {</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildPolyMeshDetail: Out of memory &#39;poly&#39; (%d).&quot;</span>, nvp*3);</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    }</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    </div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="comment">// Find max size for a polygon area.</span></div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>; ++i)</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    {</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>* p = &amp;mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab7458680db9fe833bd86ced5f7c28308">polys</a>[i*nvp*2];</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        <span class="keywordtype">int</span>&amp; xmin = bounds[i*4+0];</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;        <span class="keywordtype">int</span>&amp; xmax = bounds[i*4+1];</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;        <span class="keywordtype">int</span>&amp; ymin = bounds[i*4+2];</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;        <span class="keywordtype">int</span>&amp; ymax = bounds[i*4+3];</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;        xmin = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a98868c1df2523cd724696ed1d223ba13">width</a>;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;        xmax = 0;</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;        ymin = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a25d9e16e5d82cf698e47b18a5740b639">height</a>;</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;        ymax = 0;</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; nvp; ++j)</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;        {</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;            <span class="keywordflow">if</span>(p[j] == <a class="code" href="../../de/d78/_recast_8h.html#a66e1b0e59a450182b5551eb12e68fcfe">RC_MESH_NULL_IDX</a>) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>* v = &amp;mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a0c43c2f7d5b98a8d5bc15a15a838280e">verts</a>[p[j]*3];</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;            xmin = <a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>(xmin, (<span class="keywordtype">int</span>)v[0]);</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;            xmax = <a class="code" href="../../de/d78/_recast_8h.html#accb921a8353da3a74aa90a491aff74c8">rcMax</a>(xmax, (<span class="keywordtype">int</span>)v[0]);</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;            ymin = <a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>(ymin, (<span class="keywordtype">int</span>)v[2]);</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;            ymax = <a class="code" href="../../de/d78/_recast_8h.html#accb921a8353da3a74aa90a491aff74c8">rcMax</a>(ymax, (<span class="keywordtype">int</span>)v[2]);</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;            nPolyVerts++;</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        }</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        xmin = <a class="code" href="../../de/d78/_recast_8h.html#accb921a8353da3a74aa90a491aff74c8">rcMax</a>(0,xmin-1);</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;        xmax = <a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>(chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a98868c1df2523cd724696ed1d223ba13">width</a>,xmax+1);</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        ymin = <a class="code" href="../../de/d78/_recast_8h.html#accb921a8353da3a74aa90a491aff74c8">rcMax</a>(0,ymin-1);</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        ymax = <a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>(chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a25d9e16e5d82cf698e47b18a5740b639">height</a>,ymax+1);</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;        <span class="keywordflow">if</span> (xmin &gt;= xmax || ymin &gt;= ymax) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        maxhw = <a class="code" href="../../de/d78/_recast_8h.html#accb921a8353da3a74aa90a491aff74c8">rcMax</a>(maxhw, xmax-xmin);</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        maxhh = <a class="code" href="../../de/d78/_recast_8h.html#accb921a8353da3a74aa90a491aff74c8">rcMax</a>(maxhh, ymax-ymin);</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    }</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    </div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    hp.<a class="code" href="../../d7/de0/structrc_height_patch.html#a02c8a5e18872b3eee023888f0a85adcf">data</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*maxhw*maxhh, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60a5e5b510fb1d2422e28f5262d4bd058ee">RC_ALLOC_TEMP</a>);</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <span class="keywordflow">if</span> (!hp.<a class="code" href="../../d7/de0/structrc_height_patch.html#a02c8a5e18872b3eee023888f0a85adcf">data</a>)</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    {</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildPolyMeshDetail: Out of memory &#39;hp.data&#39; (%d).&quot;</span>, maxhw*maxhh);</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    }</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    </div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#afbe7e21cf0f9dca429c6762f457f61b6">nmeshes</a> = mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a5424a45b24c43d49d93d89e89f11b59f">nverts</a> = 0;</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a80041af5ae32e618d4980cd81a08c9e3">ntris</a> = 0;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#ad3999d4eee9137eee882f844f09115c5">meshes</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)*dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#afbe7e21cf0f9dca429c6762f457f61b6">nmeshes</a>*4, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    <span class="keywordflow">if</span> (!dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#ad3999d4eee9137eee882f844f09115c5">meshes</a>)</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    {</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildPolyMeshDetail: Out of memory &#39;dmesh.meshes&#39; (%d).&quot;</span>, dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#afbe7e21cf0f9dca429c6762f457f61b6">nmeshes</a>*4);</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    }</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    </div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    <span class="keywordtype">int</span> vcap = nPolyVerts+nPolyVerts/2;</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="keywordtype">int</span> tcap = vcap*2;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    </div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a5424a45b24c43d49d93d89e89f11b59f">nverts</a> = 0;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a25ed980262b5e825eeabc883d7861ae2">verts</a> = (<span class="keywordtype">float</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>)*vcap*3, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <span class="keywordflow">if</span> (!dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a25ed980262b5e825eeabc883d7861ae2">verts</a>)</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    {</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildPolyMeshDetail: Out of memory &#39;dmesh.verts&#39; (%d).&quot;</span>, vcap*3);</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    }</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a80041af5ae32e618d4980cd81a08c9e3">ntris</a> = 0;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a1cab5cee259774a833c4e2d6ea5df169">tris</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*tcap*4, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <span class="keywordflow">if</span> (!dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a1cab5cee259774a833c4e2d6ea5df169">tris</a>)</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    {</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildPolyMeshDetail: Out of memory &#39;dmesh.tris&#39; (%d).&quot;</span>, tcap*4);</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    }</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    </div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>; ++i)</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    {</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>* p = &amp;mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab7458680db9fe833bd86ced5f7c28308">polys</a>[i*nvp*2];</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;        </div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        <span class="comment">// Store polygon vertices for processing.</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;        <span class="keywordtype">int</span> npoly = 0;</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; nvp; ++j)</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;        {</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;            <span class="keywordflow">if</span>(p[j] == <a class="code" href="../../de/d78/_recast_8h.html#a66e1b0e59a450182b5551eb12e68fcfe">RC_MESH_NULL_IDX</a>) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>* v = &amp;mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a0c43c2f7d5b98a8d5bc15a15a838280e">verts</a>[p[j]*3];</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;            poly[j*3+0] = v[0]*cs;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;            poly[j*3+1] = v[1]*ch;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;            poly[j*3+2] = v[2]*cs;</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;            npoly++;</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;        }</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;        </div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;        <span class="comment">// Get the height data from the area of the polygon.</span></div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;        hp.<a class="code" href="../../d7/de0/structrc_height_patch.html#ac8af7bf8fa73d87c84ba155fd48be28a">xmin</a> = bounds[i*4+0];</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;        hp.<a class="code" href="../../d7/de0/structrc_height_patch.html#addd346c10b03e29029ffe5c520e8f66f">ymin</a> = bounds[i*4+2];</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;        hp.<a class="code" href="../../d7/de0/structrc_height_patch.html#ab26096449132f591083d5355b88953f8">width</a> = bounds[i*4+1]-bounds[i*4+0];</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;        hp.<a class="code" href="../../d7/de0/structrc_height_patch.html#a6e2f9591899f48231b2d13e87bc5ba6a">height</a> = bounds[i*4+3]-bounds[i*4+2];</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;        <a class="code" href="../../da/ded/_recast_mesh_detail_8cpp.html#abb8411f8d3acf15a62f60228d6c4ff21">getHeightData</a>(ctx, chf, p, npoly, mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a0c43c2f7d5b98a8d5bc15a15a838280e">verts</a>, borderSize, hp, arr, mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a9ae584e99de152fb89d957d43b7becd8">regs</a>[i]);</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;        </div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;        <span class="comment">// Build detail mesh.</span></div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        <span class="keywordtype">int</span> nverts = 0;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../da/ded/_recast_mesh_detail_8cpp.html#a71ca10a7c35e12de63aebe7f7cba59b0">buildPolyDetail</a>(ctx, poly, npoly,</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;                             sampleDist, sampleMaxError,</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;                             heightSearchRadius, chf, hp,</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;                             verts, nverts, tris,</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;                             edges, samples))</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;        {</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;        }</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;        </div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;        <span class="comment">// Move detail verts to world space.</span></div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; nverts; ++j)</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;        {</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;            verts[j*3+0] += orig[0];</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;            verts[j*3+1] += orig[1] + chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a39baf56bf3baf2b026aae0a309facaf4">ch</a>; <span class="comment">// Is this offset necessary?</span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;            verts[j*3+2] += orig[2];</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;        }</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;        <span class="comment">// Offset poly too, will be used to flag checking.</span></div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; npoly; ++j)</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        {</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;            poly[j*3+0] += orig[0];</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;            poly[j*3+1] += orig[1];</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;            poly[j*3+2] += orig[2];</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;        }</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;        </div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;        <span class="comment">// Store detail submesh.</span></div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> ntris = tris.size()/4;</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;        </div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;        dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#ad3999d4eee9137eee882f844f09115c5">meshes</a>[i*4+0] = (<span class="keywordtype">unsigned</span> int)dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a5424a45b24c43d49d93d89e89f11b59f">nverts</a>;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;        dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#ad3999d4eee9137eee882f844f09115c5">meshes</a>[i*4+1] = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)nverts;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#ad3999d4eee9137eee882f844f09115c5">meshes</a>[i*4+2] = (<span class="keywordtype">unsigned</span> int)dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a80041af5ae32e618d4980cd81a08c9e3">ntris</a>;</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;        dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#ad3999d4eee9137eee882f844f09115c5">meshes</a>[i*4+3] = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ntris;</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;        </div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;        <span class="comment">// Store vertices, allocate more memory if necessary.</span></div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;        <span class="keywordflow">if</span> (dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a5424a45b24c43d49d93d89e89f11b59f">nverts</a>+nverts &gt; vcap)</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;        {</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;            <span class="keywordflow">while</span> (dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a5424a45b24c43d49d93d89e89f11b59f">nverts</a>+nverts &gt; vcap)</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                vcap += 256;</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;            </div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;            <span class="keywordtype">float</span>* newv = (<span class="keywordtype">float</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>)*vcap*3, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;            <span class="keywordflow">if</span> (!newv)</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;            {</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;                ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildPolyMeshDetail: Out of memory &#39;newv&#39; (%d).&quot;</span>, vcap*3);</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;            }</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;            <span class="keywordflow">if</span> (dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a5424a45b24c43d49d93d89e89f11b59f">nverts</a>)</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;                <a class="code" href="../../d6/dda/m__string_8h.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a>(newv, dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a25ed980262b5e825eeabc883d7861ae2">verts</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>)*3*dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a5424a45b24c43d49d93d89e89f11b59f">nverts</a>);</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;            <a class="code" href="../../de/d54/_recast_alloc_8h.html#a6fc4cfee655e24f94bad226f915ac397">rcFree</a>(dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a25ed980262b5e825eeabc883d7861ae2">verts</a>);</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;            dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a25ed980262b5e825eeabc883d7861ae2">verts</a> = newv;</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;        }</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; nverts; ++j)</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;        {</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;            dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a25ed980262b5e825eeabc883d7861ae2">verts</a>[dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a5424a45b24c43d49d93d89e89f11b59f">nverts</a>*3+0] = verts[j*3+0];</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;            dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a25ed980262b5e825eeabc883d7861ae2">verts</a>[dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a5424a45b24c43d49d93d89e89f11b59f">nverts</a>*3+1] = verts[j*3+1];</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;            dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a25ed980262b5e825eeabc883d7861ae2">verts</a>[dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a5424a45b24c43d49d93d89e89f11b59f">nverts</a>*3+2] = verts[j*3+2];</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;            dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a5424a45b24c43d49d93d89e89f11b59f">nverts</a>++;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;        }</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;        </div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;        <span class="comment">// Store triangles, allocate more memory if necessary.</span></div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;        <span class="keywordflow">if</span> (dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a80041af5ae32e618d4980cd81a08c9e3">ntris</a>+ntris &gt; tcap)</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;        {</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;            <span class="keywordflow">while</span> (dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a80041af5ae32e618d4980cd81a08c9e3">ntris</a>+ntris &gt; tcap)</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;                tcap += 256;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* newt = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*tcap*4, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;            <span class="keywordflow">if</span> (!newt)</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;            {</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;                ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildPolyMeshDetail: Out of memory &#39;newt&#39; (%d).&quot;</span>, tcap*4);</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;            }</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;            <span class="keywordflow">if</span> (dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a80041af5ae32e618d4980cd81a08c9e3">ntris</a>)</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;                <a class="code" href="../../d6/dda/m__string_8h.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a>(newt, dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a1cab5cee259774a833c4e2d6ea5df169">tris</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*4*dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a80041af5ae32e618d4980cd81a08c9e3">ntris</a>);</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;            <a class="code" href="../../de/d54/_recast_alloc_8h.html#a6fc4cfee655e24f94bad226f915ac397">rcFree</a>(dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a1cab5cee259774a833c4e2d6ea5df169">tris</a>);</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;            dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a1cab5cee259774a833c4e2d6ea5df169">tris</a> = newt;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;        }</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; ntris; ++j)</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;        {</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span>* t = &amp;tris[j*4];</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;            dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a1cab5cee259774a833c4e2d6ea5df169">tris</a>[dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a80041af5ae32e618d4980cd81a08c9e3">ntris</a>*4+0] = (<span class="keywordtype">unsigned</span> char)t[0];</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;            dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a1cab5cee259774a833c4e2d6ea5df169">tris</a>[dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a80041af5ae32e618d4980cd81a08c9e3">ntris</a>*4+1] = (<span class="keywordtype">unsigned</span> char)t[1];</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;            dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a1cab5cee259774a833c4e2d6ea5df169">tris</a>[dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a80041af5ae32e618d4980cd81a08c9e3">ntris</a>*4+2] = (<span class="keywordtype">unsigned</span> char)t[2];</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;            dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a1cab5cee259774a833c4e2d6ea5df169">tris</a>[dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a80041af5ae32e618d4980cd81a08c9e3">ntris</a>*4+3] = <a class="code" href="../../da/ded/_recast_mesh_detail_8cpp.html#ab92e230a5419da84e12aadb8bbfc1819">getTriFlags</a>(&amp;verts[t[0]*3], &amp;verts[t[1]*3], &amp;verts[t[2]*3], poly, npoly);</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;            dmesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a80041af5ae32e618d4980cd81a08c9e3">ntris</a>++;</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;        }</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    }</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    </div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;}</div>
<div class="ttc" id="a_recast_mesh_detail_8cpp_html_a71ca10a7c35e12de63aebe7f7cba59b0"><div class="ttname"><a href="../../da/ded/_recast_mesh_detail_8cpp.html#a71ca10a7c35e12de63aebe7f7cba59b0">buildPolyDetail</a></div><div class="ttdeci">static bool buildPolyDetail(rcContext *ctx, const float *in, const int nin, const float sampleDist, const float sampleMaxError, const int heightSearchRadius, const rcCompactHeightfield &amp;chf, const rcHeightPatch &amp;hp, float *verts, int &amp;nverts, rcIntArray &amp;tris, rcIntArray &amp;edges, rcIntArray &amp;samples)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00638">RecastMeshDetail.cpp:638</a></div></div>
<div class="ttc" id="a_recast_mesh_detail_8cpp_html_ab92e230a5419da84e12aadb8bbfc1819"><div class="ttname"><a href="../../da/ded/_recast_mesh_detail_8cpp.html#ab92e230a5419da84e12aadb8bbfc1819">getTriFlags</a></div><div class="ttdeci">static unsigned char getTriFlags(const float *va, const float *vb, const float *vc, const float *vpoly, const int npoly)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l01156">RecastMeshDetail.cpp:1156</a></div></div>
<div class="ttc" id="a_recast_mesh_detail_8cpp_html_abb8411f8d3acf15a62f60228d6c4ff21"><div class="ttname"><a href="../../da/ded/_recast_mesh_detail_8cpp.html#abb8411f8d3acf15a62f60228d6c4ff21">getHeightData</a></div><div class="ttdeci">static void getHeightData(rcContext *ctx, const rcCompactHeightfield &amp;chf, const unsigned short *poly, const int npoly, const unsigned short *verts, const int bs, rcHeightPatch &amp;hp, rcIntArray &amp;queue, int region)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l01024">RecastMeshDetail.cpp:1024</a></div></div>
<div class="ttc" id="astructrc_height_patch_html"><div class="ttname"><a href="../../d7/de0/structrc_height_patch.html">rcHeightPatch</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00032">RecastMeshDetail.cpp:33</a></div></div>
<div class="ttc" id="astructrc_height_patch_html_a02c8a5e18872b3eee023888f0a85adcf"><div class="ttname"><a href="../../d7/de0/structrc_height_patch.html#a02c8a5e18872b3eee023888f0a85adcf">rcHeightPatch::data</a></div><div class="ttdeci">unsigned short * data</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00036">RecastMeshDetail.cpp:36</a></div></div>
<div class="ttc" id="astructrc_height_patch_html_a6e2f9591899f48231b2d13e87bc5ba6a"><div class="ttname"><a href="../../d7/de0/structrc_height_patch.html#a6e2f9591899f48231b2d13e87bc5ba6a">rcHeightPatch::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00037">RecastMeshDetail.cpp:37</a></div></div>
<div class="ttc" id="astructrc_height_patch_html_ab26096449132f591083d5355b88953f8"><div class="ttname"><a href="../../d7/de0/structrc_height_patch.html#ab26096449132f591083d5355b88953f8">rcHeightPatch::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00037">RecastMeshDetail.cpp:37</a></div></div>
<div class="ttc" id="astructrc_height_patch_html_ac8af7bf8fa73d87c84ba155fd48be28a"><div class="ttname"><a href="../../d7/de0/structrc_height_patch.html#ac8af7bf8fa73d87c84ba155fd48be28a">rcHeightPatch::xmin</a></div><div class="ttdeci">int xmin</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00037">RecastMeshDetail.cpp:37</a></div></div>
<div class="ttc" id="astructrc_height_patch_html_addd346c10b03e29029ffe5c520e8f66f"><div class="ttname"><a href="../../d7/de0/structrc_height_patch.html#addd346c10b03e29029ffe5c520e8f66f">rcHeightPatch::ymin</a></div><div class="ttdeci">int ymin</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00037">RecastMeshDetail.cpp:37</a></div></div>
<div class="ttc" id="astructrc_poly_mesh_detail_html_a1cab5cee259774a833c4e2d6ea5df169"><div class="ttname"><a href="../../d6/d70/structrc_poly_mesh_detail.html#a1cab5cee259774a833c4e2d6ea5df169">rcPolyMeshDetail::tris</a></div><div class="ttdeci">unsigned char * tris</div><div class="ttdoc">The mesh triangles. [Size: 4*ntris].</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00446">Recast.h:446</a></div></div>
<div class="ttc" id="astructrc_poly_mesh_detail_html_a25ed980262b5e825eeabc883d7861ae2"><div class="ttname"><a href="../../d6/d70/structrc_poly_mesh_detail.html#a25ed980262b5e825eeabc883d7861ae2">rcPolyMeshDetail::verts</a></div><div class="ttdeci">float * verts</div><div class="ttdoc">The mesh vertices. [Size: 3*nverts].</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00445">Recast.h:445</a></div></div>
<div class="ttc" id="astructrc_poly_mesh_detail_html_a5424a45b24c43d49d93d89e89f11b59f"><div class="ttname"><a href="../../d6/d70/structrc_poly_mesh_detail.html#a5424a45b24c43d49d93d89e89f11b59f">rcPolyMeshDetail::nverts</a></div><div class="ttdeci">int nverts</div><div class="ttdoc">The number of vertices in verts.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00448">Recast.h:448</a></div></div>
<div class="ttc" id="astructrc_poly_mesh_detail_html_a80041af5ae32e618d4980cd81a08c9e3"><div class="ttname"><a href="../../d6/d70/structrc_poly_mesh_detail.html#a80041af5ae32e618d4980cd81a08c9e3">rcPolyMeshDetail::ntris</a></div><div class="ttdeci">int ntris</div><div class="ttdoc">The number of triangles in tris.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00449">Recast.h:449</a></div></div>
<div class="ttc" id="astructrc_poly_mesh_detail_html_ad3999d4eee9137eee882f844f09115c5"><div class="ttname"><a href="../../d6/d70/structrc_poly_mesh_detail.html#ad3999d4eee9137eee882f844f09115c5">rcPolyMeshDetail::meshes</a></div><div class="ttdeci">unsigned int * meshes</div><div class="ttdoc">The sub-mesh data. [Size: 4*nmeshes].</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00444">Recast.h:444</a></div></div>
<div class="ttc" id="astructrc_poly_mesh_detail_html_afbe7e21cf0f9dca429c6762f457f61b6"><div class="ttname"><a href="../../d6/d70/structrc_poly_mesh_detail.html#afbe7e21cf0f9dca429c6762f457f61b6">rcPolyMeshDetail::nmeshes</a></div><div class="ttdeci">int nmeshes</div><div class="ttdoc">The number of sub-meshes defined by meshes.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00447">Recast.h:447</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d78/_recast_8h_source.html#l00431">rcPolyMesh::bmin</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00435">rcPolyMesh::borderSize</a>, <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00638">buildPolyDetail()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00348">rcCompactHeightfield::ch</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00434">rcPolyMesh::ch</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00433">rcPolyMesh::cs</a>, <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00036">rcHeightPatch::data</a>, <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l01024">getHeightData()</a>, <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l01156">getTriFlags()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00338">rcCompactHeightfield::height</a>, <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00037">rcHeightPatch::height</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00079">rcContext::log()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00436">rcPolyMesh::maxEdgeError</a>, <a class="el" href="../../d6/dda/m__string_8h_source.html#l00050">memcpy</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00444">rcPolyMeshDetail::meshes</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00447">rcPolyMeshDetail::nmeshes</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00428">rcPolyMesh::npolys</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00449">rcPolyMeshDetail::ntris</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00427">rcPolyMesh::nverts</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00448">rcPolyMeshDetail::nverts</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00430">rcPolyMesh::nvp</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00423">rcPolyMesh::polys</a>, <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00031">RC_ALLOC_PERM</a>, <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00032">RC_ALLOC_TEMP</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00031">RC_LOG_ERROR</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00579">RC_MESH_NULL_IDX</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00091">RC_TIMER_BUILD_POLYMESHDETAIL</a>, <a class="el" href="../../d5/d42/_recast_alloc_8cpp_source.html#l00045">rcAlloc()</a>, <a class="el" href="../../d1/db5/_recast_assert_8h_source.html#l00047">rcAssert</a>, <a class="el" href="../../d5/d42/_recast_alloc_8cpp_source.html#l00056">rcFree()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00618">rcMax()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00612">rcMin()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00424">rcPolyMesh::regs</a>, <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00312">rcIntArray::size()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00446">rcPolyMeshDetail::tris</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00422">rcPolyMesh::verts</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00445">rcPolyMeshDetail::verts</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00337">rcCompactHeightfield::width</a>, <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00037">rcHeightPatch::width</a>, <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00037">rcHeightPatch::xmin</a>, and <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00037">rcHeightPatch::ymin</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00092">TileBuilder::BuildInstance()</a>, <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00542">MMAP::MapBuilder::buildMoveMapTile()</a>, and <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00219">TileBuilder::BuildTiled()</a>.</p>

</div>
</div>
<a id="abd57817e13cb07edb8168d8d2b1be5a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd57817e13cb07edb8168d8d2b1be5a5">&#9670;&nbsp;</a></span>rcBuildRegions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> rcBuildRegions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a> &amp;&#160;</td>
          <td class="paramname"><em>chf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>borderSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>minRegionArea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>mergeRegionArea</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Builds region data for the heightfield using watershed partitioning.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>The build context to use during the operation. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">chf</td><td>A populated compact heightfield. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">borderSize</td><td>The size of the non-navigable border around the heightfield. [Limit: &gt;=0] [Units: vx] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">minRegionArea</td><td>The minimum number of cells allowed to form isolated island areas. [Limit: &gt;=0] [Units: vx]. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mergeRegionArea</td><td>Any regions with a span count smaller than this value will, if possible, be merged with larger regions. [Limit: &gt;=0] [Units: vx] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the operation completed successfully.</dd></dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<p>Non-null regions will consist of connected, non-overlapping walkable spans that form a single contour. Contours will form simple polygons.</p>
<p>If multiple regions form an area that is smaller than <code>minRegionArea</code>, then all spans will be re-assigned to the zero (null) region.</p>
<p>Watershed partitioning can result in smaller than necessary regions, especially in diagonal corridors. <code>mergeRegionArea</code> helps reduce unecessarily small regions.</p>
<p>See the <a class="el" href="../../d2/d52/structrc_config.html">rcConfig</a> documentation for more information on the configuration parameters.</p>
<p>The region data will be available via the <a class="el" href="../../d0/dc4/structrc_compact_heightfield.html#a6bfb7a2fdb06a64b03f0fffa885edd94" title="The maximum region id of any span within the field.">rcCompactHeightfield::maxRegions</a> and <a class="el" href="../../de/dce/structrc_compact_span.html#aca1a16c8453c9533120c094979601d77" title="The id of the region the span belongs to. (Or zero if not in a region.)">rcCompactSpan::reg</a> fields.</p>
<dl class="section warning"><dt>Warning</dt><dd>The distance field must be created using <a class="el" href="../../d0/d84/_recast_region_8cpp.html#a255c830cc0d30fa0229a05033242e77d">rcBuildDistanceField</a> before attempting to build regions.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a>, <a class="el" href="../../de/dce/structrc_compact_span.html" title="Represents a span of unobstructed space within a compact heightfield.">rcCompactSpan</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp.html#a255c830cc0d30fa0229a05033242e77d">rcBuildDistanceField</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp.html#ae20320dae183d2e42addb42cced9cc8a">rcBuildRegionsMonotone</a>, <a class="el" href="../../d2/d52/structrc_config.html">rcConfig</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01526">1526</a> of file <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html">RecastRegion.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;{</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    <a class="code" href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a>(ctx);</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    </div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    <a class="code" href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a> timer(ctx, <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18daeac9f250cd8a04c3d14f8fa548d4b31f">RC_TIMER_BUILD_REGIONS</a>);</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    </div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> w = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a98868c1df2523cd724696ed1d223ba13">width</a>;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> h = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a25d9e16e5d82cf698e47b18a5740b639">height</a>;</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    </div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    <a class="code" href="../../d9/d65/classrc_scoped_delete.html">rcScopedDelete&lt;unsigned short&gt;</a> buf((<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a>*2, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60a5e5b510fb1d2422e28f5262d4bd058ee">RC_ALLOC_TEMP</a>));</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <span class="keywordflow">if</span> (!buf)</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    {</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildRegions: Out of memory &#39;tmp&#39; (%d).&quot;</span>, chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a>*4);</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    }</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    </div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;    ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#a3c8d3035e1046dd8907b10b7d9c8de57">startTimer</a>(<a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da7c9d166e9be3c76d444908348fccde9c">RC_TIMER_BUILD_REGIONS_WATERSHED</a>);</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160; </div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> LOG_NB_STACKS = 3;</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> NB_STACKS = 1 &lt;&lt; LOG_NB_STACKS;</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <a class="code" href="../../db/d92/classrc_temp_vector.html">rcTempVector&lt;LevelStackEntry&gt;</a> lvlStacks[NB_STACKS];</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;NB_STACKS; ++i)</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;        lvlStacks[i].<a class="code" href="../../dd/d39/namespacedetail.html#a78de08fc5487b6cd087de260594c0db0">reserve</a>(256);</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160; </div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    <a class="code" href="../../db/d92/classrc_temp_vector.html">rcTempVector&lt;LevelStackEntry&gt;</a> stack;</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    stack.<a class="code" href="../../d8/dac/classrc_vector_base.html#a1177670bcc87add05f0e060e93b5e6bd">reserve</a>(256);</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    </div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>* srcReg = buf;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>* srcDist = buf+chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a>;</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    </div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(srcReg, 0, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a>);</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(srcDist, 0, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a>);</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    </div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> regionId = 1;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> level = (chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a38921b347d72bdc07487d07e7608ffc7">maxDistance</a>+1) &amp; ~1;</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160; </div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    <span class="comment">// TODO: Figure better formula, expandIters defines how much the </span></div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    <span class="comment">// watershed &quot;overflows&quot; and simplifies the regions. Tying it to</span></div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    <span class="comment">// agent radius was usually good indication how greedy it could be.</span></div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;<span class="comment">//  const int expandIters = 4 + walkableRadius * 2;</span></div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> expandIters = 8;</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160; </div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    <span class="keywordflow">if</span> (borderSize &gt; 0)</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    {</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;        <span class="comment">// Make sure border will not overflow.</span></div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> bw = <a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>(w, borderSize);</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> bh = <a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>(h, borderSize);</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;        </div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;        <span class="comment">// Paint regions</span></div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;        <a class="code" href="../../d0/d84/_recast_region_8cpp.html#abc80f3a23c09dd8f6570fa5b3d30792a">paintRectRegion</a>(0, bw, 0, h, regionId|<a class="code" href="../../de/d78/_recast_8h.html#ac47ca685874fce67f50bd580ef1e0497">RC_BORDER_REG</a>, chf, srcReg); regionId++;</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;        <a class="code" href="../../d0/d84/_recast_region_8cpp.html#abc80f3a23c09dd8f6570fa5b3d30792a">paintRectRegion</a>(w-bw, w, 0, h, regionId|<a class="code" href="../../de/d78/_recast_8h.html#ac47ca685874fce67f50bd580ef1e0497">RC_BORDER_REG</a>, chf, srcReg); regionId++;</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;        <a class="code" href="../../d0/d84/_recast_region_8cpp.html#abc80f3a23c09dd8f6570fa5b3d30792a">paintRectRegion</a>(0, w, 0, bh, regionId|<a class="code" href="../../de/d78/_recast_8h.html#ac47ca685874fce67f50bd580ef1e0497">RC_BORDER_REG</a>, chf, srcReg); regionId++;</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;        <a class="code" href="../../d0/d84/_recast_region_8cpp.html#abc80f3a23c09dd8f6570fa5b3d30792a">paintRectRegion</a>(0, w, h-bh, h, regionId|<a class="code" href="../../de/d78/_recast_8h.html#ac47ca685874fce67f50bd580ef1e0497">RC_BORDER_REG</a>, chf, srcReg); regionId++;</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    }</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160; </div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a675418d81ce6ade83fbd18be2dfd1647">borderSize</a> = borderSize;</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    </div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    <span class="keywordtype">int</span> sId = -1;</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    <span class="keywordflow">while</span> (level &gt; 0)</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    {</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;        level = level &gt;= 2 ? level-2 : 0;</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;        sId = (sId+1) &amp; (NB_STACKS-1);</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160; </div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;<span class="comment">//      ctx-&gt;startTimer(RC_TIMER_DIVIDE_TO_LEVELS);</span></div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160; </div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;        <span class="keywordflow">if</span> (sId == 0)</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;            <a class="code" href="../../d0/d84/_recast_region_8cpp.html#a02ba6d0e792550e0ce791fa42ef865d1">sortCellsByLevel</a>(level, chf, srcReg, NB_STACKS, lvlStacks, 1);</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;        <span class="keywordflow">else</span> </div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;            <a class="code" href="../../d0/d84/_recast_region_8cpp.html#acae78c0a97b367d4ace3294d6dcb8216">appendStacks</a>(lvlStacks[sId-1], lvlStacks[sId], srcReg); <span class="comment">// copy left overs from last level</span></div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160; </div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;<span class="comment">//      ctx-&gt;stopTimer(RC_TIMER_DIVIDE_TO_LEVELS);</span></div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160; </div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;        {</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;            <a class="code" href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a> timerExpand(ctx, <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da92d9f71f85b57488a09a3d6d0cec04d2">RC_TIMER_BUILD_REGIONS_EXPAND</a>);</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160; </div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;            <span class="comment">// Expand current regions until no empty connected cells found.</span></div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;            <a class="code" href="../../d0/d84/_recast_region_8cpp.html#a019a1b335b38abce33594128c4806a04">expandRegions</a>(expandIters, level, chf, srcReg, srcDist, lvlStacks[sId], <span class="keyword">false</span>);</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;        }</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;        </div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;        {</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;            <a class="code" href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a> timerFloor(ctx, <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da51802900abb3935de5b7dbc2423e2d62">RC_TIMER_BUILD_REGIONS_FLOOD</a>);</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160; </div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;            <span class="comment">// Mark new regions with IDs.</span></div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j&lt;lvlStacks[sId].<a class="code" href="../../d8/dac/classrc_vector_base.html#acfbb0217a292f75069614da62f6af0c7">size</a>(); j++)</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;            {</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;                LevelStackEntry current = lvlStacks[sId][j];</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> = current.x;</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> = current.y;</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;                <span class="keywordtype">int</span> i = current.index;</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;                <span class="keywordflow">if</span> (i &gt;= 0 &amp;&amp; srcReg[i] == 0)</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;                {</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d84/_recast_region_8cpp.html#ad881e621a7be30bee577ec6a56bf18b3">floodRegion</a>(<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>, <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>, i, level, regionId, chf, srcReg, srcDist, stack))</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;                    {</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;                        <span class="keywordflow">if</span> (regionId == 0xFFFF)</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;                        {</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;                            ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildRegions: Region ID overflow&quot;</span>);</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;                            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;                        }</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;                        </div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;                        regionId++;</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;                    }</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;                }</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;            }</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;        }</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    }</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    </div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    <span class="comment">// Expand current regions until no empty connected cells found.</span></div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    <a class="code" href="../../d0/d84/_recast_region_8cpp.html#a019a1b335b38abce33594128c4806a04">expandRegions</a>(expandIters*8, 0, chf, srcReg, srcDist, stack, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    </div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;    ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#a3f7042723b8d99d486575eb3d592af25">stopTimer</a>(<a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da7c9d166e9be3c76d444908348fccde9c">RC_TIMER_BUILD_REGIONS_WATERSHED</a>);</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    </div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    {</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;        <a class="code" href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a> timerFilter(ctx, <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da14403d6ce136beb776b9004e73dde436">RC_TIMER_BUILD_REGIONS_FILTER</a>);</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160; </div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;        <span class="comment">// Merge regions and filter out smalle regions.</span></div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;        <a class="code" href="../../d6/d40/classrc_int_array.html">rcIntArray</a> overlaps;</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;        chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a6bfb7a2fdb06a64b03f0fffa885edd94">maxRegions</a> = regionId;</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d84/_recast_region_8cpp.html#a5725fdd6c9d2c932db4686ba6d411dac">mergeAndFilterRegions</a>(ctx, minRegionArea, mergeRegionArea, chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a6bfb7a2fdb06a64b03f0fffa885edd94">maxRegions</a>, chf, srcReg, overlaps))</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160; </div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;        <span class="comment">// If overlapping regions were found during merging, split those regions.</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;        <span class="keywordflow">if</span> (overlaps.<a class="code" href="../../d6/d40/classrc_int_array.html#af17b8fb439ac8121af044d4f4d13753c">size</a>() &gt; 0)</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;        {</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;            ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildRegions: %d overlapping regions.&quot;</span>, overlaps.<a class="code" href="../../d6/d40/classrc_int_array.html#af17b8fb439ac8121af044d4f4d13753c">size</a>());</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;        }</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;    }</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;        </div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    <span class="comment">// Write the result out.</span></div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a>; ++i)</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;        chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>[i].<a class="code" href="../../de/dce/structrc_compact_span.html#aca1a16c8453c9533120c094979601d77">reg</a> = srcReg[i];</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    </div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;}</div>
<div class="ttc" id="a_recast_region_8cpp_html_a019a1b335b38abce33594128c4806a04"><div class="ttname"><a href="../../d0/d84/_recast_region_8cpp.html#a019a1b335b38abce33594128c4806a04">expandRegions</a></div><div class="ttdeci">static void expandRegions(int maxIter, unsigned short level, rcCompactHeightfield &amp;chf, unsigned short *srcReg, unsigned short *srcDist, rcTempVector&lt; LevelStackEntry &gt; &amp;stack, bool fillStack)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/_recast_region_8cpp_source.html#l00362">RecastRegion.cpp:362</a></div></div>
<div class="ttc" id="a_recast_region_8cpp_html_a02ba6d0e792550e0ce791fa42ef865d1"><div class="ttname"><a href="../../d0/d84/_recast_region_8cpp.html#a02ba6d0e792550e0ce791fa42ef865d1">sortCellsByLevel</a></div><div class="ttdeci">static void sortCellsByLevel(unsigned short startLevel, rcCompactHeightfield &amp;chf, const unsigned short *srcReg, unsigned int nbStacks, rcTempVector&lt; LevelStackEntry &gt; *stacks, unsigned short loglevelsPerStack)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/_recast_region_8cpp_source.html#l00471">RecastRegion.cpp:471</a></div></div>
<div class="ttc" id="a_recast_region_8cpp_html_a5725fdd6c9d2c932db4686ba6d411dac"><div class="ttname"><a href="../../d0/d84/_recast_region_8cpp.html#a5725fdd6c9d2c932db4686ba6d411dac">mergeAndFilterRegions</a></div><div class="ttdeci">static bool mergeAndFilterRegions(rcContext *ctx, int minRegionArea, int mergeRegionSize, unsigned short &amp;maxRegionId, rcCompactHeightfield &amp;chf, unsigned short *srcReg, rcIntArray &amp;overlaps)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/_recast_region_8cpp_source.html#l00789">RecastRegion.cpp:789</a></div></div>
<div class="ttc" id="a_recast_region_8cpp_html_acae78c0a97b367d4ace3294d6dcb8216"><div class="ttname"><a href="../../d0/d84/_recast_region_8cpp.html#acae78c0a97b367d4ace3294d6dcb8216">appendStacks</a></div><div class="ttdeci">static void appendStacks(const rcTempVector&lt; LevelStackEntry &gt; &amp;srcStack, rcTempVector&lt; LevelStackEntry &gt; &amp;dstStack, const unsigned short *srcReg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/_recast_region_8cpp_source.html#l00509">RecastRegion.cpp:509</a></div></div>
<div class="ttc" id="a_recast_region_8cpp_html_ad881e621a7be30bee577ec6a56bf18b3"><div class="ttname"><a href="../../d0/d84/_recast_region_8cpp.html#ad881e621a7be30bee577ec6a56bf18b3">floodRegion</a></div><div class="ttdeci">static bool floodRegion(int x, int y, int i, unsigned short level, unsigned short r, rcCompactHeightfield &amp;chf, unsigned short *srcReg, unsigned short *srcDist, rcTempVector&lt; LevelStackEntry &gt; &amp;stack)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d84/_recast_region_8cpp_source.html#l00253">RecastRegion.cpp:253</a></div></div>
<div class="ttc" id="aclassrc_int_array_html_af17b8fb439ac8121af044d4f4d13753c"><div class="ttname"><a href="../../d6/d40/classrc_int_array.html#af17b8fb439ac8121af044d4f4d13753c">rcIntArray::size</a></div><div class="ttdeci">int size() const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d54/_recast_alloc_8h_source.html#l00312">RecastAlloc.h:312</a></div></div>
<div class="ttc" id="aclassrc_temp_vector_html"><div class="ttname"><a href="../../db/d92/classrc_temp_vector.html">rcTempVector</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d54/_recast_alloc_8h_source.html#l00276">RecastAlloc.h:276</a></div></div>
<div class="ttc" id="aclassrc_vector_base_html_a1177670bcc87add05f0e060e93b5e6bd"><div class="ttname"><a href="../../d8/dac/classrc_vector_base.html#a1177670bcc87add05f0e060e93b5e6bd">rcVectorBase::reserve</a></div><div class="ttdeci">bool reserve(rcSizeType size)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d54/_recast_alloc_8h_source.html#l00160">RecastAlloc.h:160</a></div></div>
<div class="ttc" id="aclassrc_vector_base_html_acfbb0217a292f75069614da62f6af0c7"><div class="ttname"><a href="../../d8/dac/classrc_vector_base.html#acfbb0217a292f75069614da62f6af0c7">rcVectorBase::size</a></div><div class="ttdeci">rcSizeType size() const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d54/_recast_alloc_8h_source.html#l00134">RecastAlloc.h:134</a></div></div>
<div class="ttc" id="anamespacedetail_html_a78de08fc5487b6cd087de260594c0db0"><div class="ttname"><a href="../../dd/d39/namespacedetail.html#a78de08fc5487b6cd087de260594c0db0">detail::reserve</a></div><div class="ttdeci">auto reserve(std::back_insert_iterator&lt; Container &gt; it, size_t n) -&gt; checked_ptr&lt; typename Container::value_type &gt;</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddf/fmt_2include_2fmt_2format_8h_source.html#l00357">format.h:357</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00509">appendStacks()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00342">rcCompactHeightfield::borderSize</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00362">expandRegions()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00253">floodRegion()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00338">rcCompactHeightfield::height</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00079">rcContext::log()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00343">rcCompactHeightfield::maxDistance</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00344">rcCompactHeightfield::maxRegions</a>, <a class="el" href="../../d6/dda/m__string_8h_source.html#l00051">memset</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00789">mergeAndFilterRegions()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01305">paintRectRegion()</a>, <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00032">RC_ALLOC_TEMP</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00536">RC_BORDER_REG</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00031">RC_LOG_ERROR</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00079">RC_TIMER_BUILD_REGIONS</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00083">RC_TIMER_BUILD_REGIONS_EXPAND</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00087">RC_TIMER_BUILD_REGIONS_FILTER</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00085">RC_TIMER_BUILD_REGIONS_FLOOD</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00081">RC_TIMER_BUILD_REGIONS_WATERSHED</a>, <a class="el" href="../../d5/d42/_recast_alloc_8cpp_source.html#l00045">rcAlloc()</a>, <a class="el" href="../../d1/db5/_recast_assert_8h_source.html#l00047">rcAssert</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00612">rcMin()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00326">rcCompactSpan::reg</a>, <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00160">rcVectorBase&lt; T, H &gt;::reserve()</a>, <a class="el" href="../../d0/ddf/fmt_2include_2fmt_2format_8h_source.html#l00357">detail::reserve()</a>, <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00134">rcVectorBase&lt; T, H &gt;::size()</a>, <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00312">rcIntArray::size()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00471">sortCellsByLevel()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00339">rcCompactHeightfield::spanCount</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00350">rcCompactHeightfield::spans</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00131">rcContext::startTimer()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00135">rcContext::stopTimer()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00337">rcCompactHeightfield::width</a>, <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00037">G3D::x</a>, and <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00038">G3D::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00092">TileBuilder::BuildInstance()</a>, <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00542">MMAP::MapBuilder::buildMoveMapTile()</a>, and <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00219">TileBuilder::BuildTiled()</a>.</p>

</div>
</div>
<a id="ae20320dae183d2e42addb42cced9cc8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae20320dae183d2e42addb42cced9cc8a">&#9670;&nbsp;</a></span>rcBuildRegionsMonotone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> rcBuildRegionsMonotone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a> &amp;&#160;</td>
          <td class="paramname"><em>chf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>borderSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>minRegionArea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>mergeRegionArea</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Builds region data for the heightfield using simple monotone partitioning.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>The build context to use during the operation. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">chf</td><td>A populated compact heightfield. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">borderSize</td><td>The size of the non-navigable border around the heightfield. [Limit: &gt;=0] [Units: vx] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">minRegionArea</td><td>The minimum number of cells allowed to form isolated island areas. [Limit: &gt;=0] [Units: vx]. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mergeRegionArea</td><td>Any regions with a span count smaller than this value will, if possible, be merged with larger regions. [Limit: &gt;=0] [Units: vx] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the operation completed successfully.</dd></dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<p>Non-null regions will consist of connected, non-overlapping walkable spans that form a single contour. Contours will form simple polygons.</p>
<p>If multiple regions form an area that is smaller than <code>minRegionArea</code>, then all spans will be re-assigned to the zero (null) region.</p>
<p>Partitioning can result in smaller than necessary regions. <code>mergeRegionArea</code> helps reduce unecessarily small regions.</p>
<p>See the <a class="el" href="../../d2/d52/structrc_config.html">rcConfig</a> documentation for more information on the configuration parameters.</p>
<p>The region data will be available via the <a class="el" href="../../d0/dc4/structrc_compact_heightfield.html#a6bfb7a2fdb06a64b03f0fffa885edd94" title="The maximum region id of any span within the field.">rcCompactHeightfield::maxRegions</a> and <a class="el" href="../../de/dce/structrc_compact_span.html#aca1a16c8453c9533120c094979601d77" title="The id of the region the span belongs to. (Or zero if not in a region.)">rcCompactSpan::reg</a> fields.</p>
<dl class="section warning"><dt>Warning</dt><dd>The distance field must be created using <a class="el" href="../../d0/d84/_recast_region_8cpp.html#a255c830cc0d30fa0229a05033242e77d">rcBuildDistanceField</a> before attempting to build regions.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a>, <a class="el" href="../../de/dce/structrc_compact_span.html" title="Represents a span of unobstructed space within a compact heightfield.">rcCompactSpan</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp.html#a255c830cc0d30fa0229a05033242e77d">rcBuildDistanceField</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp.html#ae20320dae183d2e42addb42cced9cc8a">rcBuildRegionsMonotone</a>, <a class="el" href="../../d2/d52/structrc_config.html">rcConfig</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01353">1353</a> of file <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html">RecastRegion.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;{</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    <a class="code" href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a>(ctx);</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    </div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    <a class="code" href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a> timer(ctx, <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18daeac9f250cd8a04c3d14f8fa548d4b31f">RC_TIMER_BUILD_REGIONS</a>);</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    </div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> w = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a98868c1df2523cd724696ed1d223ba13">width</a>;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> h = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a25d9e16e5d82cf698e47b18a5740b639">height</a>;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <span class="keywordtype">id</span> = 1;</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    </div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    <a class="code" href="../../d9/d65/classrc_scoped_delete.html">rcScopedDelete&lt;unsigned short&gt;</a> srcReg((<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a>, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60a5e5b510fb1d2422e28f5262d4bd058ee">RC_ALLOC_TEMP</a>));</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <span class="keywordflow">if</span> (!srcReg)</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    {</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildRegionsMonotone: Out of memory &#39;src&#39; (%d).&quot;</span>, chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a>);</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    }</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(srcReg,0,<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a>);</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160; </div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> nsweeps = <a class="code" href="../../de/d78/_recast_8h.html#accb921a8353da3a74aa90a491aff74c8">rcMax</a>(chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a98868c1df2523cd724696ed1d223ba13">width</a>,chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a25d9e16e5d82cf698e47b18a5740b639">height</a>);</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <a class="code" href="../../d9/d65/classrc_scoped_delete.html">rcScopedDelete&lt;rcSweepSpan&gt;</a> sweeps((<a class="code" href="../../dc/d8a/structrc_sweep_span.html">rcSweepSpan</a>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../dc/d8a/structrc_sweep_span.html">rcSweepSpan</a>)*nsweeps, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60a5e5b510fb1d2422e28f5262d4bd058ee">RC_ALLOC_TEMP</a>));</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <span class="keywordflow">if</span> (!sweeps)</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    {</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildRegionsMonotone: Out of memory &#39;sweeps&#39; (%d).&quot;</span>, nsweeps);</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    }</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    </div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    </div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    <span class="comment">// Mark border regions.</span></div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    <span class="keywordflow">if</span> (borderSize &gt; 0)</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    {</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;        <span class="comment">// Make sure border will not overflow.</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> bw = <a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>(w, borderSize);</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> bh = <a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>(h, borderSize);</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;        <span class="comment">// Paint regions</span></div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;        <a class="code" href="../../d0/d84/_recast_region_8cpp.html#abc80f3a23c09dd8f6570fa5b3d30792a">paintRectRegion</a>(0, bw, 0, h, <span class="keywordtype">id</span>|<a class="code" href="../../de/d78/_recast_8h.html#ac47ca685874fce67f50bd580ef1e0497">RC_BORDER_REG</a>, chf, srcReg); <span class="keywordtype">id</span>++;</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;        <a class="code" href="../../d0/d84/_recast_region_8cpp.html#abc80f3a23c09dd8f6570fa5b3d30792a">paintRectRegion</a>(w-bw, w, 0, h, <span class="keywordtype">id</span>|<a class="code" href="../../de/d78/_recast_8h.html#ac47ca685874fce67f50bd580ef1e0497">RC_BORDER_REG</a>, chf, srcReg); <span class="keywordtype">id</span>++;</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;        <a class="code" href="../../d0/d84/_recast_region_8cpp.html#abc80f3a23c09dd8f6570fa5b3d30792a">paintRectRegion</a>(0, w, 0, bh, <span class="keywordtype">id</span>|<a class="code" href="../../de/d78/_recast_8h.html#ac47ca685874fce67f50bd580ef1e0497">RC_BORDER_REG</a>, chf, srcReg); <span class="keywordtype">id</span>++;</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;        <a class="code" href="../../d0/d84/_recast_region_8cpp.html#abc80f3a23c09dd8f6570fa5b3d30792a">paintRectRegion</a>(0, w, h-bh, h, <span class="keywordtype">id</span>|<a class="code" href="../../de/d78/_recast_8h.html#ac47ca685874fce67f50bd580ef1e0497">RC_BORDER_REG</a>, chf, srcReg); <span class="keywordtype">id</span>++;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    }</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160; </div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a675418d81ce6ade83fbd18be2dfd1647">borderSize</a> = borderSize;</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    </div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    <a class="code" href="../../d6/d40/classrc_int_array.html">rcIntArray</a> <a class="code" href="../../de/d0e/_recast_contour_8cpp.html#a6f1109916123abdff2b46675c13307e3">prev</a>(256);</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160; </div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <span class="comment">// Sweep one line at a time.</span></div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> = borderSize; <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> &lt; h-borderSize; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>)</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    {</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;        <span class="comment">// Collect spans from this row.</span></div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;        <a class="code" href="../../de/d0e/_recast_contour_8cpp.html#a6f1109916123abdff2b46675c13307e3">prev</a>.resize(<span class="keywordtype">id</span>+1);</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;        <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(&amp;<a class="code" href="../../de/d0e/_recast_contour_8cpp.html#a6f1109916123abdff2b46675c13307e3">prev</a>[0],0,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> rid = 1;</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;        </div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> = borderSize; <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> &lt; w-borderSize; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>)</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;        {</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../d6/dff/structrc_compact_cell.html">rcCompactCell</a>&amp; <a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a> = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>+<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>*w];</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;            </div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = (<span class="keywordtype">int</span>)<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index, ni = (<span class="keywordtype">int</span>)(<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index+<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.count); i &lt; ni; ++i)</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;            {</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;                <span class="keyword">const</span> <a class="code" href="../../de/dce/structrc_compact_span.html">rcCompactSpan</a>&amp; s = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>[i];</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;                <span class="keywordflow">if</span> (chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[i] == <a class="code" href="../../de/d78/_recast_8h.html#a5105dbfb2d2bf8aa69122db502d0e39e">RC_NULL_AREA</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;                </div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;                <span class="comment">// -x</span></div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;                <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> previd = 0;</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(s, 0) != <a class="code" href="../../de/d78/_recast_8h.html#a64354aff947c2d8040e39bb4ceaf1a9f">RC_NOT_CONNECTED</a>)</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;                {</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> ax = <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> + <a class="code" href="../../de/d78/_recast_8h.html#a08323ca2f8069b8c7291f8d26ba7fbb8">rcGetDirOffsetX</a>(0);</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> ay = <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> + <a class="code" href="../../de/d78/_recast_8h.html#ab2dfeacce04b6d055723627b61515aa0">rcGetDirOffsetY</a>(0);</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> ai = (int)chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[ax+ay*w].<a class="code" href="../../d6/dff/structrc_compact_cell.html#ad1695135ae520dfee8c39aa7b1fd41d8">index</a> + <a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(s, 0);</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;                    <span class="keywordflow">if</span> ((srcReg[ai] &amp; <a class="code" href="../../de/d78/_recast_8h.html#ac47ca685874fce67f50bd580ef1e0497">RC_BORDER_REG</a>) == 0 &amp;&amp; chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[i] == chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[ai])</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;                        previd = srcReg[ai];</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;                }</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;                </div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;                <span class="keywordflow">if</span> (!previd)</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;                {</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;                    previd = rid++;</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;                    sweeps[previd].rid = previd;</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;                    sweeps[previd].ns = 0;</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;                    sweeps[previd].nei = 0;</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;                }</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160; </div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;                <span class="comment">// -y</span></div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(s,3) != <a class="code" href="../../de/d78/_recast_8h.html#a64354aff947c2d8040e39bb4ceaf1a9f">RC_NOT_CONNECTED</a>)</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;                {</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> ax = <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> + <a class="code" href="../../de/d78/_recast_8h.html#a08323ca2f8069b8c7291f8d26ba7fbb8">rcGetDirOffsetX</a>(3);</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> ay = <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> + <a class="code" href="../../de/d78/_recast_8h.html#ab2dfeacce04b6d055723627b61515aa0">rcGetDirOffsetY</a>(3);</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> ai = (int)chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[ax+ay*w].<a class="code" href="../../d6/dff/structrc_compact_cell.html#ad1695135ae520dfee8c39aa7b1fd41d8">index</a> + <a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(s, 3);</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;                    <span class="keywordflow">if</span> (srcReg[ai] &amp;&amp; (srcReg[ai] &amp; <a class="code" href="../../de/d78/_recast_8h.html#ac47ca685874fce67f50bd580ef1e0497">RC_BORDER_REG</a>) == 0 &amp;&amp; chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[i] == chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[ai])</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;                    {</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;                        <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> nr = srcReg[ai];</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;                        <span class="keywordflow">if</span> (!sweeps[previd].nei || sweeps[previd].nei == nr)</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;                        {</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;                            sweeps[previd].nei = nr;</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;                            sweeps[previd].ns++;</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;                            <a class="code" href="../../de/d0e/_recast_contour_8cpp.html#a6f1109916123abdff2b46675c13307e3">prev</a>[nr]++;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;                        }</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;                        {</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;                            sweeps[previd].nei = <a class="code" href="../../d0/d84/_recast_region_8cpp.html#ae985981f9a0039f8584d8c165959c817">RC_NULL_NEI</a>;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;                        }</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;                    }</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;                }</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160; </div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;                srcReg[i] = previd;</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;            }</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;        }</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;        </div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;        <span class="comment">// Create unique ID.</span></div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; rid; ++i)</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;        {</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;            <span class="keywordflow">if</span> (sweeps[i].nei != <a class="code" href="../../d0/d84/_recast_region_8cpp.html#ae985981f9a0039f8584d8c165959c817">RC_NULL_NEI</a> &amp;&amp; sweeps[i].nei != 0 &amp;&amp;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;                <a class="code" href="../../de/d0e/_recast_contour_8cpp.html#a6f1109916123abdff2b46675c13307e3">prev</a>[sweeps[i].nei] == (<span class="keywordtype">int</span>)sweeps[i].ns)</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;            {</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;                sweeps[i].id = sweeps[i].nei;</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;            }</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;            {</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;                sweeps[i].id = <span class="keywordtype">id</span>++;</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;            }</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;        }</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;        </div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;        <span class="comment">// Remap IDs</span></div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> = borderSize; <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> &lt; w-borderSize; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>)</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;        {</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../d6/dff/structrc_compact_cell.html">rcCompactCell</a>&amp; <a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a> = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>+<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>*w];</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;            </div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = (<span class="keywordtype">int</span>)<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index, ni = (int)(<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index+<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.count); i &lt; ni; ++i)</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;            {</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;                <span class="keywordflow">if</span> (srcReg[i] &gt; 0 &amp;&amp; srcReg[i] &lt; rid)</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;                    srcReg[i] = sweeps[srcReg[i]].id;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;            }</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;        }</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    }</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160; </div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160; </div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    {</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;        <a class="code" href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a> timerFilter(ctx, <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da14403d6ce136beb776b9004e73dde436">RC_TIMER_BUILD_REGIONS_FILTER</a>);</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160; </div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;        <span class="comment">// Merge regions and filter out small regions.</span></div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;        <a class="code" href="../../d6/d40/classrc_int_array.html">rcIntArray</a> overlaps;</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;        chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a6bfb7a2fdb06a64b03f0fffa885edd94">maxRegions</a> = id;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d84/_recast_region_8cpp.html#a5725fdd6c9d2c932db4686ba6d411dac">mergeAndFilterRegions</a>(ctx, minRegionArea, mergeRegionArea, chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a6bfb7a2fdb06a64b03f0fffa885edd94">maxRegions</a>, chf, srcReg, overlaps))</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160; </div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;        <span class="comment">// Monotone partitioning does not generate overlapping regions.</span></div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    }</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    </div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <span class="comment">// Store the result out.</span></div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a>; ++i)</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;        chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>[i].<a class="code" href="../../de/dce/structrc_compact_span.html#aca1a16c8453c9533120c094979601d77">reg</a> = srcReg[i];</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160; </div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d78/_recast_8h_source.html#l00352">rcCompactHeightfield::areas</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00342">rcCompactHeightfield::borderSize</a>, <a class="el" href="../../d6/d3e/mpq_8py_source.html#l00295">mpq::c</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00349">rcCompactHeightfield::cells</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00338">rcCompactHeightfield::height</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00318">rcCompactCell::index</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00079">rcContext::log()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00344">rcCompactHeightfield::maxRegions</a>, <a class="el" href="../../d6/dda/m__string_8h_source.html#l00051">memset</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00789">mergeAndFilterRegions()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01305">paintRectRegion()</a>, <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00468">prev()</a>, <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00032">RC_ALLOC_TEMP</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00536">RC_BORDER_REG</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00031">RC_LOG_ERROR</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00593">RC_NOT_CONNECTED</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00584">RC_NULL_AREA</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01324">RC_NULL_NEI</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00079">RC_TIMER_BUILD_REGIONS</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00087">RC_TIMER_BUILD_REGIONS_FILTER</a>, <a class="el" href="../../d5/d42/_recast_alloc_8cpp_source.html#l00045">rcAlloc()</a>, <a class="el" href="../../d1/db5/_recast_assert_8h_source.html#l00047">rcAssert</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l01080">rcGetCon()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l01090">rcGetDirOffsetX()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l01100">rcGetDirOffsetY()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00618">rcMax()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00612">rcMin()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00326">rcCompactSpan::reg</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00339">rcCompactHeightfield::spanCount</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00350">rcCompactHeightfield::spans</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00337">rcCompactHeightfield::width</a>, <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00037">G3D::x</a>, and <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00038">G3D::y</a>.</p>

</div>
</div>
<a id="af5247365fb1db9f26a9153d984a98c82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5247365fb1db9f26a9153d984a98c82">&#9670;&nbsp;</a></span>rcCalcBounds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rcCalcBounds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>verts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>bmin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>bmax</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates the bounding box of an array of vertices.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">verts</td><td>An array of vertices. [(x, y, z) * <code>nv</code>] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nv</td><td>The number of vertices in the <code>verts</code> array. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bmin</td><td>The minimum bounds of the AABB. [(x, y, z)] [Units: wu] </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bmax</td><td>The maximum bounds of the AABB. [(x, y, z)] [Units: wu] </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00274">274</a> of file <a class="el" href="../../d3/d01/_recast_8cpp_source.html">Recast.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;{</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="comment">// Calculate bounding box.</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a9cbb34310e47a6def133a4b533d073ea">rcVcopy</a>(bmin, verts);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a9cbb34310e47a6def133a4b533d073ea">rcVcopy</a>(bmax, verts);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; nv; ++i)</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span>* v = &amp;verts[i*3];</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <a class="code" href="../../de/d78/_recast_8h.html#ab49a84d90945782df879b0c7e84239db">rcVmin</a>(bmin, v);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <a class="code" href="../../de/d78/_recast_8h.html#a5033980308619575a48cef8f497af3cf">rcVmax</a>(bmax, v);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;}</div>
<div class="ttc" id="a_recast_8h_html_a5033980308619575a48cef8f497af3cf"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a5033980308619575a48cef8f497af3cf">rcVmax</a></div><div class="ttdeci">void rcVmax(float *mx, const float *v)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00713">Recast.h:713</a></div></div>
<div class="ttc" id="a_recast_8h_html_ab49a84d90945782df879b0c7e84239db"><div class="ttname"><a href="../../de/d78/_recast_8h.html#ab49a84d90945782df879b0c7e84239db">rcVmin</a></div><div class="ttdeci">void rcVmin(float *mn, const float *v)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00703">Recast.h:703</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d78/_recast_8h_source.html#l00723">rcVcopy()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00713">rcVmax()</a>, and <a class="el" href="../../de/d78/_recast_8h_source.html#l00703">rcVmin()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00215">MMAP::MapBuilder::getGridBounds()</a>, <a class="el" href="../../d5/d2d/_continent_builder_8cpp_source.html#l00085">ContinentBuilder::getTileBounds()</a>, and <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00886">MMAP::MapBuilder::getTileBounds()</a>.</p>

</div>
</div>
<a id="ae2c5a39eb34164e35b8ebc2001c3a0e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2c5a39eb34164e35b8ebc2001c3a0e5">&#9670;&nbsp;</a></span>rcCalcGridSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rcCalcGridSize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>bmin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>bmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>cs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>h</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates the grid size based on the bounding box and grid cell size.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bmin</td><td>The minimum bounds of the AABB. [(x, y, z)] [Units: wu] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bmax</td><td>The maximum bounds of the AABB. [(x, y, z)] [Units: wu] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cs</td><td>The xz-plane cell size. [Limit: &gt; 0] [Units: wu] </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">w</td><td>The width along the x-axis. [Limit: &gt;= 0] [Units: vx] </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">h</td><td>The height along the z-axis. [Limit: &gt;= 0] [Units: vx] </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00287">287</a> of file <a class="el" href="../../d3/d01/_recast_8cpp_source.html">Recast.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;{</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    *w = (int)((bmax[0] - bmin[0])/cs+0.5f);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    *h = (int)((bmax[2] - bmin[2])/cs+0.5f);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00092">TileBuilder::BuildInstance()</a>, and <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00542">MMAP::MapBuilder::buildMoveMapTile()</a>.</p>

</div>
</div>
<a id="a2f9c3de8c3f30a442a541cb2254a9246"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f9c3de8c3f30a442a541cb2254a9246">&#9670;&nbsp;</a></span>rcClamp()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T rcClamp </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>mn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>mx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Clamps the value to the specified range. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">v</td><td>The value to clamp. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mn</td><td>The minimum permitted return value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mx</td><td>The maximum permitted return value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The value, clamped to the specified range. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00635">635</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;{ <span class="keywordflow">return</span> v &lt; mn ? mn : (v &gt; mx ? mx : v); }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00203">getHeight()</a>, <a class="el" href="../../d2/d5e/_recast_rasterization_8cpp_source.html#l00241">rasterizeTri()</a>, and <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00415">rcBuildCompactHeightfield()</a>.</p>

</div>
</div>
<a id="a60059d7c34162cdf9b4c735672739012"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60059d7c34162cdf9b4c735672739012">&#9670;&nbsp;</a></span>rcClearUnwalkableTriangles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rcClearUnwalkableTriangles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float&#160;</td>
          <td class="paramname"><em>walkableSlopeAngle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>verts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int *&#160;</td>
          <td class="paramname"><em>tris</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>areas</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the area id of all triangles with a slope greater than or equal to the specified value to <a class="el" href="../../de/d78/_recast_8h.html#a5105dbfb2d2bf8aa69122db502d0e39e">RC_NULL_AREA</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>The build context to use during the operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">walkableSlopeAngle</td><td>The maximum slope that is considered walkable. [Limits: 0 &lt;= value &lt; 90] [Units: Degrees] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">verts</td><td>The vertices. [(x, y, z) * <code>nv</code>] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nv</td><td>The number of vertices. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tris</td><td>The triangle vertex indices. [(vertA, vertB, vertC) * <code>nt</code>] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nt</td><td>The number of triangles. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">areas</td><td>The triangle area ids. [Length: &gt;= <code>nt</code>]</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<p>Only sets the area id's for the unwalkable triangles. Does not alter the area id's for walkable triangles.</p>
<p>See the <a class="el" href="../../d2/d52/structrc_config.html">rcConfig</a> documentation for more information on the configuration parameters.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a>, <a class="el" href="../../d3/d01/_recast_8cpp.html#a39ea0d8eeb61fb5168156604d9229145">rcClearUnwalkableTriangles</a>, <a class="el" href="../../d2/d5e/_recast_rasterization_8cpp.html#ad639cf9ca7c14d11c6b2e7f54ac99a8e">rcRasterizeTriangles</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00364">364</a> of file <a class="el" href="../../d3/d01/_recast_8cpp_source.html">Recast.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;{</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a590be6fed00e1ed747939ee51b0b433c">rcIgnoreUnused</a>(ctx);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> walkableThr = cosf(walkableSlopeAngle/180.0f*<a class="code" href="../../de/d78/_recast_8h.html#ac784d579fcb90e51ba0ea98fd529e5ed">RC_PI</a>);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    </div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordtype">float</span> norm[3];</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nt; ++i)</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span>* tri = &amp;tris[i*3];</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <a class="code" href="../../d3/d01/_recast_8cpp.html#a0edf213140df6221fa6dc8da3aa5602e">calcTriNormal</a>(&amp;verts[tri[0]*3], &amp;verts[tri[1]*3], &amp;verts[tri[2]*3], norm);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="comment">// Check if the face is walkable.</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="keywordflow">if</span> (norm[1] &lt;= walkableThr)</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            areas[i] = <a class="code" href="../../de/d78/_recast_8h.html#a5105dbfb2d2bf8aa69122db502d0e39e">RC_NULL_AREA</a>;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    }</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;}</div>
<div class="ttc" id="a_recast_8cpp_html_a0edf213140df6221fa6dc8da3aa5602e"><div class="ttname"><a href="../../d3/d01/_recast_8cpp.html#a0edf213140df6221fa6dc8da3aa5602e">calcTriNormal</a></div><div class="ttdeci">static void calcTriNormal(const float *v0, const float *v1, const float *v2, float *norm)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d01/_recast_8cpp_source.html#l00317">Recast.cpp:317</a></div></div>
<div class="ttc" id="a_recast_8h_html_a590be6fed00e1ed747939ee51b0b433c"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a590be6fed00e1ed747939ee51b0b433c">rcIgnoreUnused</a></div><div class="ttdeci">void rcIgnoreUnused(const T &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00601">Recast.h:601</a></div></div>
<div class="ttc" id="a_recast_8h_html_ac784d579fcb90e51ba0ea98fd529e5ed"><div class="ttname"><a href="../../de/d78/_recast_8h.html#ac784d579fcb90e51ba0ea98fd529e5ed">RC_PI</a></div><div class="ttdeci">static const float RC_PI</div><div class="ttdoc">The value of PI used by Recast.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00023">Recast.h:23</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00317">calcTriNormal()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00584">RC_NULL_AREA</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00023">RC_PI</a>, and <a class="el" href="../../de/d78/_recast_8h_source.html#l00601">rcIgnoreUnused()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00092">TileBuilder::BuildInstance()</a>, <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00542">MMAP::MapBuilder::buildMoveMapTile()</a>, and <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00219">TileBuilder::BuildTiled()</a>.</p>

</div>
</div>
<a id="add16ae360ef930c3ba8c4839e3065d40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add16ae360ef930c3ba8c4839e3065d40">&#9670;&nbsp;</a></span>rcCopyPolyMesh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> rcCopyPolyMesh </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../df/d75/structrc_poly_mesh.html">rcPolyMesh</a> &amp;&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d75/structrc_poly_mesh.html">rcPolyMesh</a> &amp;&#160;</td>
          <td class="paramname"><em>dst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copies the poly mesh data from src to dst.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>The build context to use during the operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">src</td><td>The source mesh to copy from. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dst</td><td>The resulting detail mesh. (Must be pre-allocated, must be empty mesh.) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the operation completed successfully. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html#l01489">1489</a> of file <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html">RecastMesh.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;{</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    <a class="code" href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a>(ctx);</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    </div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    <span class="comment">// Destination must be empty.</span></div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    <a class="code" href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a>(dst.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a0c43c2f7d5b98a8d5bc15a15a838280e">verts</a> == 0);</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    <a class="code" href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a>(dst.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab7458680db9fe833bd86ced5f7c28308">polys</a> == 0);</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    <a class="code" href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a>(dst.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a9ae584e99de152fb89d957d43b7becd8">regs</a> == 0);</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    <a class="code" href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a>(dst.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a991d461df21cfccb2b97fa3c4828fec7">areas</a> == 0);</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    <a class="code" href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a>(dst.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab91ec949432297f7d0341a6ba9c88288">flags</a> == 0);</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    </div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    dst.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ac9c762a21343c45649638e02332e53eb">nverts</a> = src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ac9c762a21343c45649638e02332e53eb">nverts</a>;</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    dst.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a> = src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    dst.<a class="code" href="../../df/d75/structrc_poly_mesh.html#afc6261e7cee3e3ff2a83b6ee8baf14a9">maxpolys</a> = src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    dst.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab0c55272b556ffc9db9e643b463cb66a">nvp</a> = src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab0c55272b556ffc9db9e643b463cb66a">nvp</a>;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a9cbb34310e47a6def133a4b533d073ea">rcVcopy</a>(dst.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a63625dd55ca66c97ca29a87a5455cc27">bmin</a>, src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a63625dd55ca66c97ca29a87a5455cc27">bmin</a>);</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a9cbb34310e47a6def133a4b533d073ea">rcVcopy</a>(dst.<a class="code" href="../../df/d75/structrc_poly_mesh.html#aabdf91f888b1c2dacd077a339a6df3a4">bmax</a>, src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#aabdf91f888b1c2dacd077a339a6df3a4">bmax</a>);</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    dst.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a4c3ca520c55f96037cffcf6a92809563">cs</a> = src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a4c3ca520c55f96037cffcf6a92809563">cs</a>;</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    dst.<a class="code" href="../../df/d75/structrc_poly_mesh.html#aa1ba795ddbb893da041b2a5273716ac5">ch</a> = src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#aa1ba795ddbb893da041b2a5273716ac5">ch</a>;</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    dst.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a9f367a88b878ce8029b9709fb27b878b">borderSize</a> = src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a9f367a88b878ce8029b9709fb27b878b">borderSize</a>;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    dst.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab26e9ea24492a2c45b1a2d71ccdb091d">maxEdgeError</a> = src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab26e9ea24492a2c45b1a2d71ccdb091d">maxEdgeError</a>;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    </div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    dst.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a0c43c2f7d5b98a8d5bc15a15a838280e">verts</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ac9c762a21343c45649638e02332e53eb">nverts</a>*3, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    <span class="keywordflow">if</span> (!dst.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a0c43c2f7d5b98a8d5bc15a15a838280e">verts</a>)</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    {</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcCopyPolyMesh: Out of memory &#39;dst.verts&#39; (%d).&quot;</span>, src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ac9c762a21343c45649638e02332e53eb">nverts</a>*3);</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    }</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a>(dst.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a0c43c2f7d5b98a8d5bc15a15a838280e">verts</a>, src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a0c43c2f7d5b98a8d5bc15a15a838280e">verts</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ac9c762a21343c45649638e02332e53eb">nverts</a>*3);</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    </div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    dst.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab7458680db9fe833bd86ced5f7c28308">polys</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>*2*src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab0c55272b556ffc9db9e643b463cb66a">nvp</a>, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    <span class="keywordflow">if</span> (!dst.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab7458680db9fe833bd86ced5f7c28308">polys</a>)</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    {</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcCopyPolyMesh: Out of memory &#39;dst.polys&#39; (%d).&quot;</span>, src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>*2*src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab0c55272b556ffc9db9e643b463cb66a">nvp</a>);</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    }</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a>(dst.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab7458680db9fe833bd86ced5f7c28308">polys</a>, src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab7458680db9fe833bd86ced5f7c28308">polys</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>*2*src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab0c55272b556ffc9db9e643b463cb66a">nvp</a>);</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    </div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    dst.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a9ae584e99de152fb89d957d43b7becd8">regs</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    <span class="keywordflow">if</span> (!dst.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a9ae584e99de152fb89d957d43b7becd8">regs</a>)</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    {</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcCopyPolyMesh: Out of memory &#39;dst.regs&#39; (%d).&quot;</span>, src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>);</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    }</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a>(dst.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a9ae584e99de152fb89d957d43b7becd8">regs</a>, src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a9ae584e99de152fb89d957d43b7becd8">regs</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>);</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    </div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    dst.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a991d461df21cfccb2b97fa3c4828fec7">areas</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    <span class="keywordflow">if</span> (!dst.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a991d461df21cfccb2b97fa3c4828fec7">areas</a>)</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    {</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcCopyPolyMesh: Out of memory &#39;dst.areas&#39; (%d).&quot;</span>, src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>);</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    }</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a>(dst.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a991d461df21cfccb2b97fa3c4828fec7">areas</a>, src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a991d461df21cfccb2b97fa3c4828fec7">areas</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>);</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    </div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;    dst.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab91ec949432297f7d0341a6ba9c88288">flags</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    <span class="keywordflow">if</span> (!dst.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab91ec949432297f7d0341a6ba9c88288">flags</a>)</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    {</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcCopyPolyMesh: Out of memory &#39;dst.flags&#39; (%d).&quot;</span>, src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>);</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    }</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a>(dst.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab91ec949432297f7d0341a6ba9c88288">flags</a>, src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab91ec949432297f7d0341a6ba9c88288">flags</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*src.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>);</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    </div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d78/_recast_8h_source.html#l00426">rcPolyMesh::areas</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00432">rcPolyMesh::bmax</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00431">rcPolyMesh::bmin</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00435">rcPolyMesh::borderSize</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00434">rcPolyMesh::ch</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00433">rcPolyMesh::cs</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00425">rcPolyMesh::flags</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00079">rcContext::log()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00436">rcPolyMesh::maxEdgeError</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00429">rcPolyMesh::maxpolys</a>, <a class="el" href="../../d6/dda/m__string_8h_source.html#l00050">memcpy</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00428">rcPolyMesh::npolys</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00427">rcPolyMesh::nverts</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00430">rcPolyMesh::nvp</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00423">rcPolyMesh::polys</a>, <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00031">RC_ALLOC_PERM</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00031">RC_LOG_ERROR</a>, <a class="el" href="../../d5/d42/_recast_alloc_8cpp_source.html#l00045">rcAlloc()</a>, <a class="el" href="../../d1/db5/_recast_assert_8h_source.html#l00047">rcAssert</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00723">rcVcopy()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00424">rcPolyMesh::regs</a>, and <a class="el" href="../../de/d78/_recast_8h_source.html#l00422">rcPolyMesh::verts</a>.</p>

</div>
</div>
<a id="aa09281f4f1ec87fed5b8bc2b35331793"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa09281f4f1ec87fed5b8bc2b35331793">&#9670;&nbsp;</a></span>rcCreateHeightfield()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> rcCreateHeightfield </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a> &amp;&#160;</td>
          <td class="paramname"><em>hf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>bmin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>bmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>cs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>ch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes a new heightfield.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>The build context to use during the operation. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">hf</td><td>The allocated heightfield to initialize. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">width</td><td>The width of the field along the x-axis. [Limit: &gt;= 0] [Units: vx] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">height</td><td>The height of the field along the z-axis. [Limit: &gt;= 0] [Units: vx] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bmin</td><td>The minimum bounds of the field's AABB. [(x, y, z)] [Units: wu] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bmax</td><td>The maximum bounds of the field's AABB. [(x, y, z)] [Units: wu] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cs</td><td>The xz-plane cell size to use for the field. [Limit: &gt; 0] [Units: wu] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ch</td><td>The y-axis cell size to use for field. [Limit: &gt; 0] [Units: wu] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the operation completed successfully.</dd></dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<p>See the <a class="el" href="../../d2/d52/structrc_config.html">rcConfig</a> documentation for more information on the configuration parameters.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d3/d01/_recast_8cpp.html#a3e717cb2fa2ef5d123f0fa218f0630a9">rcAllocHeightfield</a>, <a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a> <br  />
 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00298">298</a> of file <a class="el" href="../../d3/d01/_recast_8cpp_source.html">Recast.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;{</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a590be6fed00e1ed747939ee51b0b433c">rcIgnoreUnused</a>(ctx);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    hf.<a class="code" href="../../dd/df7/structrc_heightfield.html#a9dd6e386c167f1537e3c7638f6b9a752">width</a> = <a class="code" href="../../dd/d7f/emitter_8h.html#af64ddd66ec847040624d5cf51214e807">width</a>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    hf.<a class="code" href="../../dd/df7/structrc_heightfield.html#a568ceeea7acb4ddf67dd78ec4fee7672">height</a> = height;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a9cbb34310e47a6def133a4b533d073ea">rcVcopy</a>(hf.<a class="code" href="../../dd/df7/structrc_heightfield.html#a0158658d3487f7531364a84887fc2bce">bmin</a>, bmin);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a9cbb34310e47a6def133a4b533d073ea">rcVcopy</a>(hf.<a class="code" href="../../dd/df7/structrc_heightfield.html#a4da9e52fc907522aae0364fad9e865f7">bmax</a>, bmax);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    hf.<a class="code" href="../../dd/df7/structrc_heightfield.html#a3f28962585b2f726d809b1a86b925edb">cs</a> = cs;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    hf.<a class="code" href="../../dd/df7/structrc_heightfield.html#a23488349cb552d5410e29d089234effc">ch</a> = ch;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    hf.<a class="code" href="../../dd/df7/structrc_heightfield.html#a0fea35ab8365dfcb38c63566abf7f261">spans</a> = (<a class="code" href="../../dc/d1d/structrc_span.html">rcSpan</a>**)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../dc/d1d/structrc_span.html">rcSpan</a>*)*hf.<a class="code" href="../../dd/df7/structrc_heightfield.html#a9dd6e386c167f1537e3c7638f6b9a752">width</a>*hf.<a class="code" href="../../dd/df7/structrc_heightfield.html#a568ceeea7acb4ddf67dd78ec4fee7672">height</a>, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">if</span> (!hf.<a class="code" href="../../dd/df7/structrc_heightfield.html#a0fea35ab8365dfcb38c63566abf7f261">spans</a>)</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(hf.<a class="code" href="../../dd/df7/structrc_heightfield.html#a0fea35ab8365dfcb38c63566abf7f261">spans</a>, 0, <span class="keyword">sizeof</span>(<a class="code" href="../../dc/d1d/structrc_span.html">rcSpan</a>*)*hf.<a class="code" href="../../dd/df7/structrc_heightfield.html#a9dd6e386c167f1537e3c7638f6b9a752">width</a>*hf.<a class="code" href="../../dd/df7/structrc_heightfield.html#a568ceeea7acb4ddf67dd78ec4fee7672">height</a>);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;}</div>
<div class="ttc" id="aemitter_8h_html_af64ddd66ec847040624d5cf51214e807"><div class="ttname"><a href="../../dd/d7f/emitter_8h.html#af64ddd66ec847040624d5cf51214e807">width</a></div><div class="ttdeci">static const char size_t const char emitter_justify_t int width</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7f/emitter_8h_source.html#l00091">emitter.h:91</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d78/_recast_8h_source.html#l00302">rcHeightfield::bmax</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00301">rcHeightfield::bmin</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00304">rcHeightfield::ch</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00303">rcHeightfield::cs</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00300">rcHeightfield::height</a>, <a class="el" href="../../d6/dda/m__string_8h_source.html#l00051">memset</a>, <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00031">RC_ALLOC_PERM</a>, <a class="el" href="../../d5/d42/_recast_alloc_8cpp_source.html#l00045">rcAlloc()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00601">rcIgnoreUnused()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00723">rcVcopy()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00305">rcHeightfield::spans</a>, <a class="el" href="../../dd/d7f/emitter_8h_source.html#l00091">width</a>, and <a class="el" href="../../de/d78/_recast_8h_source.html#l00299">rcHeightfield::width</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00092">TileBuilder::BuildInstance()</a>, <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00542">MMAP::MapBuilder::buildMoveMapTile()</a>, and <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00219">TileBuilder::BuildTiled()</a>.</p>

</div>
</div>
<a id="a466672bb756c401fbf6dd1e99c920ebb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a466672bb756c401fbf6dd1e99c920ebb">&#9670;&nbsp;</a></span>rcErodeWalkableArea()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> rcErodeWalkableArea </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>radius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a> &amp;&#160;</td>
          <td class="paramname"><em>chf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Erodes the walkable area within the heightfield by the specified radius.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>The build context to use during the operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">radius</td><td>The radius of erosion. [Limits: 0 &lt; value &lt; 255] [Units: vx] </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">chf</td><td>The populated compact heightfield to erode. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the operation completed successfully.</dd></dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<p>Basically, any spans that are closer to a boundary or obstruction than the specified radius are marked as unwalkable.</p>
<p>This method is usually called immediately after the heightfield has been built.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a>, <a class="el" href="../../d3/d01/_recast_8cpp.html#a9833a6aa767f7f8ceecc8c929c56ca83">rcBuildCompactHeightfield</a>, <a class="el" href="../../d2/d52/structrc_config.html#a85f1ff0f181cc33a3cc137cbd025c216">rcConfig::walkableRadius</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html#l00037">37</a> of file <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html">RecastArea.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;{</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <a class="code" href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a>(ctx);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> w = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a98868c1df2523cd724696ed1d223ba13">width</a>;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> h = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a25d9e16e5d82cf698e47b18a5740b639">height</a>;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <a class="code" href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a> timer(ctx, <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18dad109da926d20816d0fd7b16001b6e463">RC_TIMER_ERODE_AREA</a>);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* dist = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a>, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60a5e5b510fb1d2422e28f5262d4bd058ee">RC_ALLOC_TEMP</a>);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">if</span> (!dist)</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;erodeWalkableArea: Out of memory &#39;dist&#39; (%d).&quot;</span>, chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a>);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    }</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="comment">// Init distance.</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(dist, 0xff, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a>);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="comment">// Mark boundary cells.</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> = 0; <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> &lt; h; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>)</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> = 0; <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> &lt; w; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>)</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../d6/dff/structrc_compact_cell.html">rcCompactCell</a>&amp; <a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a> = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>+<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>*w];</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = (<span class="keywordtype">int</span>)<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index, ni = (<span class="keywordtype">int</span>)(<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index+<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.count); i &lt; ni; ++i)</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                <span class="keywordflow">if</span> (chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[i] == <a class="code" href="../../de/d78/_recast_8h.html#a5105dbfb2d2bf8aa69122db502d0e39e">RC_NULL_AREA</a>)</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                {</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                    dist[i] = 0;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                    <span class="keyword">const</span> <a class="code" href="../../de/dce/structrc_compact_span.html">rcCompactSpan</a>&amp; s = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>[i];</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                    <span class="keywordtype">int</span> nc = 0;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> dir = 0; dir &lt; 4; ++dir)</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                    {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(s, dir) != <a class="code" href="../../de/d78/_recast_8h.html#a64354aff947c2d8040e39bb4ceaf1a9f">RC_NOT_CONNECTED</a>)</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                        {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                            <span class="keyword">const</span> <span class="keywordtype">int</span> nx = <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> + <a class="code" href="../../de/d78/_recast_8h.html#a08323ca2f8069b8c7291f8d26ba7fbb8">rcGetDirOffsetX</a>(dir);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                            <span class="keyword">const</span> <span class="keywordtype">int</span> ny = <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> + <a class="code" href="../../de/d78/_recast_8h.html#ab2dfeacce04b6d055723627b61515aa0">rcGetDirOffsetY</a>(dir);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                            <span class="keyword">const</span> <span class="keywordtype">int</span> nidx = (int)chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[nx+ny*w].<a class="code" href="../../d6/dff/structrc_compact_cell.html#ad1695135ae520dfee8c39aa7b1fd41d8">index</a> + <a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(s, dir);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                            <span class="keywordflow">if</span> (chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[nidx] != <a class="code" href="../../de/d78/_recast_8h.html#a5105dbfb2d2bf8aa69122db502d0e39e">RC_NULL_AREA</a>)</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                            {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                                nc++;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                            }</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                        }</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                    }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                    <span class="comment">// At least one missing neighbour.</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                    <span class="keywordflow">if</span> (nc != 4)</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                        dist[i] = 0;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                }</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            }</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        }</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    }</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> nd;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="comment">// Pass 1</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> = 0; <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> &lt; h; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>)</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> = 0; <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> &lt; w; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>)</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../d6/dff/structrc_compact_cell.html">rcCompactCell</a>&amp; <a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a> = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>+<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>*w];</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = (<span class="keywordtype">int</span>)<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index, ni = (int)(<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index+<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.count); i &lt; ni; ++i)</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                <span class="keyword">const</span> <a class="code" href="../../de/dce/structrc_compact_span.html">rcCompactSpan</a>&amp; s = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>[i];</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(s, 0) != <a class="code" href="../../de/d78/_recast_8h.html#a64354aff947c2d8040e39bb4ceaf1a9f">RC_NOT_CONNECTED</a>)</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                    <span class="comment">// (-1,0)</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> ax = <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> + <a class="code" href="../../de/d78/_recast_8h.html#a08323ca2f8069b8c7291f8d26ba7fbb8">rcGetDirOffsetX</a>(0);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> ay = <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> + <a class="code" href="../../de/d78/_recast_8h.html#ab2dfeacce04b6d055723627b61515aa0">rcGetDirOffsetY</a>(0);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> ai = (int)chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[ax+ay*w].<a class="code" href="../../d6/dff/structrc_compact_cell.html#ad1695135ae520dfee8c39aa7b1fd41d8">index</a> + <a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(s, 0);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                    <span class="keyword">const</span> <a class="code" href="../../de/dce/structrc_compact_span.html">rcCompactSpan</a>&amp; as = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>[ai];</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                    nd = (<span class="keywordtype">unsigned</span> char)<a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>((<span class="keywordtype">int</span>)dist[ai]+2, 255);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                    <span class="keywordflow">if</span> (nd &lt; dist[i])</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                        dist[i] = nd;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                    </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                    <span class="comment">// (-1,-1)</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(as, 3) != <a class="code" href="../../de/d78/_recast_8h.html#a64354aff947c2d8040e39bb4ceaf1a9f">RC_NOT_CONNECTED</a>)</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                    {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> aax = ax + <a class="code" href="../../de/d78/_recast_8h.html#a08323ca2f8069b8c7291f8d26ba7fbb8">rcGetDirOffsetX</a>(3);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> aay = ay + <a class="code" href="../../de/d78/_recast_8h.html#ab2dfeacce04b6d055723627b61515aa0">rcGetDirOffsetY</a>(3);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> aai = (int)chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[aax+aay*w].<a class="code" href="../../d6/dff/structrc_compact_cell.html#ad1695135ae520dfee8c39aa7b1fd41d8">index</a> + <a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(as, 3);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                        nd = (<span class="keywordtype">unsigned</span> char)<a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>((<span class="keywordtype">int</span>)dist[aai]+3, 255);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                        <span class="keywordflow">if</span> (nd &lt; dist[i])</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                            dist[i] = nd;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                    }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(s, 3) != <a class="code" href="../../de/d78/_recast_8h.html#a64354aff947c2d8040e39bb4ceaf1a9f">RC_NOT_CONNECTED</a>)</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                    <span class="comment">// (0,-1)</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> ax = <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> + <a class="code" href="../../de/d78/_recast_8h.html#a08323ca2f8069b8c7291f8d26ba7fbb8">rcGetDirOffsetX</a>(3);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> ay = <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> + <a class="code" href="../../de/d78/_recast_8h.html#ab2dfeacce04b6d055723627b61515aa0">rcGetDirOffsetY</a>(3);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> ai = (int)chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[ax+ay*w].<a class="code" href="../../d6/dff/structrc_compact_cell.html#ad1695135ae520dfee8c39aa7b1fd41d8">index</a> + <a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(s, 3);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                    <span class="keyword">const</span> <a class="code" href="../../de/dce/structrc_compact_span.html">rcCompactSpan</a>&amp; as = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>[ai];</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                    nd = (<span class="keywordtype">unsigned</span> char)<a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>((<span class="keywordtype">int</span>)dist[ai]+2, 255);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                    <span class="keywordflow">if</span> (nd &lt; dist[i])</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                        dist[i] = nd;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                    </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                    <span class="comment">// (1,-1)</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(as, 2) != <a class="code" href="../../de/d78/_recast_8h.html#a64354aff947c2d8040e39bb4ceaf1a9f">RC_NOT_CONNECTED</a>)</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                    {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> aax = ax + <a class="code" href="../../de/d78/_recast_8h.html#a08323ca2f8069b8c7291f8d26ba7fbb8">rcGetDirOffsetX</a>(2);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> aay = ay + <a class="code" href="../../de/d78/_recast_8h.html#ab2dfeacce04b6d055723627b61515aa0">rcGetDirOffsetY</a>(2);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> aai = (int)chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[aax+aay*w].<a class="code" href="../../d6/dff/structrc_compact_cell.html#ad1695135ae520dfee8c39aa7b1fd41d8">index</a> + <a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(as, 2);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                        nd = (<span class="keywordtype">unsigned</span> char)<a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>((<span class="keywordtype">int</span>)dist[aai]+3, 255);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                        <span class="keywordflow">if</span> (nd &lt; dist[i])</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                            dist[i] = nd;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                    }</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                }</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        }</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="comment">// Pass 2</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> = h-1; <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> &gt;= 0; --<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>)</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> = w-1; <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> &gt;= 0; --<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>)</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../d6/dff/structrc_compact_cell.html">rcCompactCell</a>&amp; <a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a> = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>+<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>*w];</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = (<span class="keywordtype">int</span>)<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index, ni = (int)(<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index+<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.count); i &lt; ni; ++i)</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                <span class="keyword">const</span> <a class="code" href="../../de/dce/structrc_compact_span.html">rcCompactSpan</a>&amp; s = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>[i];</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(s, 2) != <a class="code" href="../../de/d78/_recast_8h.html#a64354aff947c2d8040e39bb4ceaf1a9f">RC_NOT_CONNECTED</a>)</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                    <span class="comment">// (1,0)</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> ax = <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> + <a class="code" href="../../de/d78/_recast_8h.html#a08323ca2f8069b8c7291f8d26ba7fbb8">rcGetDirOffsetX</a>(2);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> ay = <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> + <a class="code" href="../../de/d78/_recast_8h.html#ab2dfeacce04b6d055723627b61515aa0">rcGetDirOffsetY</a>(2);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> ai = (int)chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[ax+ay*w].<a class="code" href="../../d6/dff/structrc_compact_cell.html#ad1695135ae520dfee8c39aa7b1fd41d8">index</a> + <a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(s, 2);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                    <span class="keyword">const</span> <a class="code" href="../../de/dce/structrc_compact_span.html">rcCompactSpan</a>&amp; as = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>[ai];</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                    nd = (<span class="keywordtype">unsigned</span> char)<a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>((<span class="keywordtype">int</span>)dist[ai]+2, 255);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                    <span class="keywordflow">if</span> (nd &lt; dist[i])</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                        dist[i] = nd;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                    </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                    <span class="comment">// (1,1)</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(as, 1) != <a class="code" href="../../de/d78/_recast_8h.html#a64354aff947c2d8040e39bb4ceaf1a9f">RC_NOT_CONNECTED</a>)</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                    {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> aax = ax + <a class="code" href="../../de/d78/_recast_8h.html#a08323ca2f8069b8c7291f8d26ba7fbb8">rcGetDirOffsetX</a>(1);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> aay = ay + <a class="code" href="../../de/d78/_recast_8h.html#ab2dfeacce04b6d055723627b61515aa0">rcGetDirOffsetY</a>(1);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> aai = (int)chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[aax+aay*w].<a class="code" href="../../d6/dff/structrc_compact_cell.html#ad1695135ae520dfee8c39aa7b1fd41d8">index</a> + <a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(as, 1);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                        nd = (<span class="keywordtype">unsigned</span> char)<a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>((<span class="keywordtype">int</span>)dist[aai]+3, 255);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                        <span class="keywordflow">if</span> (nd &lt; dist[i])</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                            dist[i] = nd;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                    }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(s, 1) != <a class="code" href="../../de/d78/_recast_8h.html#a64354aff947c2d8040e39bb4ceaf1a9f">RC_NOT_CONNECTED</a>)</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                    <span class="comment">// (0,1)</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> ax = <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> + <a class="code" href="../../de/d78/_recast_8h.html#a08323ca2f8069b8c7291f8d26ba7fbb8">rcGetDirOffsetX</a>(1);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> ay = <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> + <a class="code" href="../../de/d78/_recast_8h.html#ab2dfeacce04b6d055723627b61515aa0">rcGetDirOffsetY</a>(1);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> ai = (int)chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[ax+ay*w].<a class="code" href="../../d6/dff/structrc_compact_cell.html#ad1695135ae520dfee8c39aa7b1fd41d8">index</a> + <a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(s, 1);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                    <span class="keyword">const</span> <a class="code" href="../../de/dce/structrc_compact_span.html">rcCompactSpan</a>&amp; as = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>[ai];</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                    nd = (<span class="keywordtype">unsigned</span> char)<a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>((<span class="keywordtype">int</span>)dist[ai]+2, 255);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                    <span class="keywordflow">if</span> (nd &lt; dist[i])</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                        dist[i] = nd;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                    </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                    <span class="comment">// (-1,1)</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(as, 0) != <a class="code" href="../../de/d78/_recast_8h.html#a64354aff947c2d8040e39bb4ceaf1a9f">RC_NOT_CONNECTED</a>)</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                    {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> aax = ax + <a class="code" href="../../de/d78/_recast_8h.html#a08323ca2f8069b8c7291f8d26ba7fbb8">rcGetDirOffsetX</a>(0);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> aay = ay + <a class="code" href="../../de/d78/_recast_8h.html#ab2dfeacce04b6d055723627b61515aa0">rcGetDirOffsetY</a>(0);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> aai = (int)chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[aax+aay*w].<a class="code" href="../../d6/dff/structrc_compact_cell.html#ad1695135ae520dfee8c39aa7b1fd41d8">index</a> + <a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(as, 0);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                        nd = (<span class="keywordtype">unsigned</span> char)<a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>((<span class="keywordtype">int</span>)dist[aai]+3, 255);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                        <span class="keywordflow">if</span> (nd &lt; dist[i])</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                            dist[i] = nd;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                    }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            }</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> thr = (<span class="keywordtype">unsigned</span> char)(radius*2);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a>; ++i)</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keywordflow">if</span> (dist[i] &lt; thr)</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[i] = <a class="code" href="../../de/d78/_recast_8h.html#a5105dbfb2d2bf8aa69122db502d0e39e">RC_NULL_AREA</a>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <a class="code" href="../../de/d54/_recast_alloc_8h.html#a6fc4cfee655e24f94bad226f915ac397">rcFree</a>(dist);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d78/_recast_8h_source.html#l00352">rcCompactHeightfield::areas</a>, <a class="el" href="../../d6/d3e/mpq_8py_source.html#l00295">mpq::c</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00349">rcCompactHeightfield::cells</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00338">rcCompactHeightfield::height</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00318">rcCompactCell::index</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00079">rcContext::log()</a>, <a class="el" href="../../d6/dda/m__string_8h_source.html#l00051">memset</a>, <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00032">RC_ALLOC_TEMP</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00031">RC_LOG_ERROR</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00593">RC_NOT_CONNECTED</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00584">RC_NULL_AREA</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00065">RC_TIMER_ERODE_AREA</a>, <a class="el" href="../../d5/d42/_recast_alloc_8cpp_source.html#l00045">rcAlloc()</a>, <a class="el" href="../../d1/db5/_recast_assert_8h_source.html#l00047">rcAssert</a>, <a class="el" href="../../d5/d42/_recast_alloc_8cpp_source.html#l00056">rcFree()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l01080">rcGetCon()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l01090">rcGetDirOffsetX()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l01100">rcGetDirOffsetY()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00612">rcMin()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00339">rcCompactHeightfield::spanCount</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00350">rcCompactHeightfield::spans</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00337">rcCompactHeightfield::width</a>, <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00037">G3D::x</a>, and <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00038">G3D::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00092">TileBuilder::BuildInstance()</a>, <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00542">MMAP::MapBuilder::buildMoveMapTile()</a>, and <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00219">TileBuilder::BuildTiled()</a>.</p>

</div>
</div>
<a id="a655160ad0aa9425305d0bdb69ede3f37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a655160ad0aa9425305d0bdb69ede3f37">&#9670;&nbsp;</a></span>rcFilterLedgeSpans()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rcFilterLedgeSpans </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>walkableHeight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>walkableClimb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a> &amp;&#160;</td>
          <td class="paramname"><em>solid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Marks spans that are ledges as not-walkable.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>The build context to use during the operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">walkableHeight</td><td>Minimum floor to 'ceiling' height that will still allow the floor area to be considered walkable. [Limit: &gt;= 3] [Units: vx] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">walkableClimb</td><td>Maximum ledge height that is considered to still be traversable. [Limit: &gt;=0] [Units: vx] </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">solid</td><td>A fully built heightfield. (All spans have been added.)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<p>A ledge is a span with one or more neighbors whose maximum is further away than <code>walkableClimb</code> from the current span's maximum. This method removes the impact of the overestimation of conservative voxelization so the resulting mesh will not have regions hanging in the air over ledges.</p>
<p>A span is a ledge if: <code>rcAbs(currentSpan.smax - neighborSpan.smax) &gt; walkableClimb</code></p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a>, <a class="el" href="../../d2/d52/structrc_config.html">rcConfig</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d13/_recast_filter_8cpp_source.html#l00082">82</a> of file <a class="el" href="../../d8/d13/_recast_filter_8cpp_source.html">RecastFilter.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;{</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a>(ctx);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a> timer(ctx, <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da438af561b3f22c44dd9a4672ab7efa09">RC_TIMER_FILTER_BORDER</a>);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> w = solid.<a class="code" href="../../dd/df7/structrc_heightfield.html#a9dd6e386c167f1537e3c7638f6b9a752">width</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> h = solid.<a class="code" href="../../dd/df7/structrc_heightfield.html#a568ceeea7acb4ddf67dd78ec4fee7672">height</a>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d3/d63/_map_8h.html#a9059fa76eb5e8e86f870405d63e72c4c">MAX_HEIGHT</a> = 0xffff;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="comment">// Mark border spans.</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> = 0; <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> &lt; h; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>)</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> = 0; <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> &lt; w; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>)</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="../../dc/d1d/structrc_span.html">rcSpan</a>* s = solid.<a class="code" href="../../dd/df7/structrc_heightfield.html#a0fea35ab8365dfcb38c63566abf7f261">spans</a>[<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> + <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>*w]; s; s = s-&gt;<a class="code" href="../../dc/d1d/structrc_span.html#a3b1dbeacc04852fe7330dcd0f5745424">next</a>)</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                <span class="comment">// Skip non walkable spans.</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                <span class="keywordflow">if</span> (s-&gt;area == <a class="code" href="../../de/d78/_recast_8h.html#a5105dbfb2d2bf8aa69122db502d0e39e">RC_NULL_AREA</a>)</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> bot = (int)(s-&gt;smax);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> top = s-&gt;next ? (int)(s-&gt;next-&gt;smin) : <a class="code" href="../../d3/d63/_map_8h.html#a9059fa76eb5e8e86f870405d63e72c4c">MAX_HEIGHT</a>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                </div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                <span class="comment">// Find neighbours minimum height.</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                <span class="keywordtype">int</span> minh = <a class="code" href="../../d3/d63/_map_8h.html#a9059fa76eb5e8e86f870405d63e72c4c">MAX_HEIGHT</a>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                <span class="comment">// Min and max height of accessible neighbours.</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                <span class="keywordtype">int</span> asmin = s-&gt;smax;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                <span class="keywordtype">int</span> asmax = s-&gt;smax;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> dir = 0; dir &lt; 4; ++dir)</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                    <span class="keywordtype">int</span> dx = <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> + <a class="code" href="../../de/d78/_recast_8h.html#a08323ca2f8069b8c7291f8d26ba7fbb8">rcGetDirOffsetX</a>(dir);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                    <span class="keywordtype">int</span> dy = <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> + <a class="code" href="../../de/d78/_recast_8h.html#ab2dfeacce04b6d055723627b61515aa0">rcGetDirOffsetY</a>(dir);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                    <span class="comment">// Skip neighbours which are out of bounds.</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                    <span class="keywordflow">if</span> (dx &lt; 0 || dy &lt; 0 || dx &gt;= w || dy &gt;= h)</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                    {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                        minh = <a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>(minh, -walkableClimb - bot);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                    }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                    <span class="comment">// From minus infinity to the first span.</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                    <a class="code" href="../../dc/d1d/structrc_span.html">rcSpan</a>* ns = solid.<a class="code" href="../../dd/df7/structrc_heightfield.html#a0fea35ab8365dfcb38c63566abf7f261">spans</a>[dx + dy*w];</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                    <span class="keywordtype">int</span> nbot = -walkableClimb;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                    <span class="keywordtype">int</span> ntop = ns ? (int)ns-&gt;<a class="code" href="../../dc/d1d/structrc_span.html#aba70c34dc95c49c4b3142b7d9ca9d359">smin</a> : <a class="code" href="../../d3/d63/_map_8h.html#a9059fa76eb5e8e86f870405d63e72c4c">MAX_HEIGHT</a>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                    <span class="comment">// Skip neightbour if the gap between the spans is too small.</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                    <a class="code" href="../../dd/d68/_c_make_lists_8txt.html#a0b5da418382bdd0db6dff439e2863979">if</a> (<a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>(top,ntop) - <a class="code" href="../../de/d78/_recast_8h.html#accb921a8353da3a74aa90a491aff74c8">rcMax</a>(bot,nbot) &gt; walkableHeight)</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                        minh = <a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>(minh, nbot - bot);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                    </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                    <span class="comment">// Rest of the spans.</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                    <span class="keywordflow">for</span> (ns = solid.<a class="code" href="../../dd/df7/structrc_heightfield.html#a0fea35ab8365dfcb38c63566abf7f261">spans</a>[dx + dy*w]; ns; ns = ns-&gt;<a class="code" href="../../dc/d1d/structrc_span.html#a3b1dbeacc04852fe7330dcd0f5745424">next</a>)</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                    {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                        nbot = (int)ns-&gt;<a class="code" href="../../dc/d1d/structrc_span.html#a6bca504828087023719794cce9a5f0ab">smax</a>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                        ntop = ns-&gt;<a class="code" href="../../dc/d1d/structrc_span.html#a3b1dbeacc04852fe7330dcd0f5745424">next</a> ? (<span class="keywordtype">int</span>)ns-&gt;<a class="code" href="../../dc/d1d/structrc_span.html#a3b1dbeacc04852fe7330dcd0f5745424">next</a>-&gt;<a class="code" href="../../dc/d1d/structrc_span.html#aba70c34dc95c49c4b3142b7d9ca9d359">smin</a> : <a class="code" href="../../d3/d63/_map_8h.html#a9059fa76eb5e8e86f870405d63e72c4c">MAX_HEIGHT</a>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                        <span class="comment">// Skip neightbour if the gap between the spans is too small.</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>(top,ntop) - <a class="code" href="../../de/d78/_recast_8h.html#accb921a8353da3a74aa90a491aff74c8">rcMax</a>(bot,nbot) &gt; walkableHeight)</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                        {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                            minh = <a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>(minh, nbot - bot);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                        </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                            <span class="comment">// Find min/max accessible neighbour height. </span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                            <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/_recast_8h.html#afa1623d0ed253473ef26cd7717f8bf2f">rcAbs</a>(nbot - bot) &lt;= walkableClimb)</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                            {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                                <span class="keywordflow">if</span> (nbot &lt; asmin) asmin = nbot;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                                <span class="keywordflow">if</span> (nbot &gt; asmax) asmax = nbot;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                            }</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                            </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                        }</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                    }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                }</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                <span class="comment">// The current span is close to a ledge if the drop to any</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                <span class="comment">// neighbour span is less than the walkableClimb.</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                <span class="keywordflow">if</span> (minh &lt; -walkableClimb)</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                    s-&gt;area = <a class="code" href="../../de/d78/_recast_8h.html#a5105dbfb2d2bf8aa69122db502d0e39e">RC_NULL_AREA</a>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                <span class="comment">// If the difference between all neighbours is too large,</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                <span class="comment">// we are at steep slope, mark the span as ledge.</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((asmax - asmin) &gt; walkableClimb)</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                    s-&gt;area = <a class="code" href="../../de/d78/_recast_8h.html#a5105dbfb2d2bf8aa69122db502d0e39e">RC_NULL_AREA</a>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                }</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    }</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d78/_recast_8h_source.html#l00300">rcHeightfield::height</a>, <a class="el" href="../../dd/d68/_c_make_lists_8txt_source.html#l00068">if()</a>, <a class="el" href="../../d3/d63/_map_8h_source.html#l00154">MAX_HEIGHT</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00281">rcSpan::next</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00584">RC_NULL_AREA</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00053">RC_TIMER_FILTER_BORDER</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00623">rcAbs()</a>, <a class="el" href="../../d1/db5/_recast_assert_8h_source.html#l00047">rcAssert</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l01090">rcGetDirOffsetX()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l01100">rcGetDirOffsetY()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00618">rcMax()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00612">rcMin()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00279">rcSpan::smax</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00278">rcSpan::smin</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00305">rcHeightfield::spans</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00299">rcHeightfield::width</a>, <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00037">G3D::x</a>, and <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00038">G3D::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00092">TileBuilder::BuildInstance()</a>, <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00542">MMAP::MapBuilder::buildMoveMapTile()</a>, and <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00219">TileBuilder::BuildTiled()</a>.</p>

</div>
</div>
<a id="a67689871aaa190bc6489bae1b04301a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67689871aaa190bc6489bae1b04301a8">&#9670;&nbsp;</a></span>rcFilterLowHangingWalkableObstacles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rcFilterLowHangingWalkableObstacles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>walkableClimb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a> &amp;&#160;</td>
          <td class="paramname"><em>solid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Marks non-walkable spans as walkable if their maximum is within <code>walkableClimp</code> of a walkable neighbor.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>The build context to use during the operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">walkableClimb</td><td>Maximum ledge height that is considered to still be traversable. [Limit: &gt;=0] [Units: vx] </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">solid</td><td>A fully built heightfield. (All spans have been added.)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<p>Allows the formation of walkable regions that will flow over low lying objects such as curbs, and up structures such as stairways.</p>
<p>Two neighboring spans are walkable if: <code>rcAbs(currentSpan.smax - neighborSpan.smax) &lt; waklableClimb</code></p>
<dl class="section warning"><dt>Warning</dt><dd>Will override the effect of <a class="el" href="../../d8/d13/_recast_filter_8cpp.html#a655160ad0aa9425305d0bdb69ede3f37">rcFilterLedgeSpans</a>. So if both filters are used, call <a class="el" href="../../d8/d13/_recast_filter_8cpp.html#a655160ad0aa9425305d0bdb69ede3f37">rcFilterLedgeSpans</a> after calling this filter.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a>, <a class="el" href="../../d2/d52/structrc_config.html">rcConfig</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d13/_recast_filter_8cpp_source.html#l00036">36</a> of file <a class="el" href="../../d8/d13/_recast_filter_8cpp_source.html">RecastFilter.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;{</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <a class="code" href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a>(ctx);</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <a class="code" href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a> timer(ctx, <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18dafd77d72ef738a5bb20b2bfc2753ed3c2">RC_TIMER_FILTER_LOW_OBSTACLES</a>);</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> w = solid.<a class="code" href="../../dd/df7/structrc_heightfield.html#a9dd6e386c167f1537e3c7638f6b9a752">width</a>;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> h = solid.<a class="code" href="../../dd/df7/structrc_heightfield.html#a568ceeea7acb4ddf67dd78ec4fee7672">height</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> = 0; <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> &lt; h; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>)</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> = 0; <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> &lt; w; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>)</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;            <a class="code" href="../../dc/d1d/structrc_span.html">rcSpan</a>* ps = 0;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;            <span class="keywordtype">bool</span> previousWalkable = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> previousArea = <a class="code" href="../../de/d78/_recast_8h.html#a5105dbfb2d2bf8aa69122db502d0e39e">RC_NULL_AREA</a>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="../../dc/d1d/structrc_span.html">rcSpan</a>* s = solid.<a class="code" href="../../dd/df7/structrc_heightfield.html#a0fea35ab8365dfcb38c63566abf7f261">spans</a>[<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> + <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>*w]; s; ps = s, s = s-&gt;<a class="code" href="../../dc/d1d/structrc_span.html#a3b1dbeacc04852fe7330dcd0f5745424">next</a>)</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">bool</span> walkable = s-&gt;area != <a class="code" href="../../de/d78/_recast_8h.html#a5105dbfb2d2bf8aa69122db502d0e39e">RC_NULL_AREA</a>;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                <span class="comment">// If current span is not walkable, but there is walkable</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                <span class="comment">// span just below it, mark the span above it walkable too.</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                <span class="keywordflow">if</span> (!walkable &amp;&amp; previousWalkable)</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/_recast_8h.html#afa1623d0ed253473ef26cd7717f8bf2f">rcAbs</a>((<span class="keywordtype">int</span>)s-&gt;smax - (<span class="keywordtype">int</span>)ps-&gt;<a class="code" href="../../dc/d1d/structrc_span.html#a6bca504828087023719794cce9a5f0ab">smax</a>) &lt;= walkableClimb)</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                        s-&gt;area = previousArea;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                }</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                <span class="comment">// Copy walkable flag so that it cannot propagate</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                <span class="comment">// past multiple non-walkable objects.</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                previousWalkable = walkable;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                previousArea = s-&gt;area;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    }</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d78/_recast_8h_source.html#l00300">rcHeightfield::height</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00281">rcSpan::next</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00584">RC_NULL_AREA</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00059">RC_TIMER_FILTER_LOW_OBSTACLES</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00623">rcAbs()</a>, <a class="el" href="../../d1/db5/_recast_assert_8h_source.html#l00047">rcAssert</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00279">rcSpan::smax</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00305">rcHeightfield::spans</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00299">rcHeightfield::width</a>, <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00037">G3D::x</a>, and <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00038">G3D::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00092">TileBuilder::BuildInstance()</a>, <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00542">MMAP::MapBuilder::buildMoveMapTile()</a>, and <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00219">TileBuilder::BuildTiled()</a>.</p>

</div>
</div>
<a id="a3a26d036fcf4c83438c31a2f01ec4d83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a26d036fcf4c83438c31a2f01ec4d83">&#9670;&nbsp;</a></span>rcFilterWalkableLowHeightSpans()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rcFilterWalkableLowHeightSpans </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>walkableHeight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a> &amp;&#160;</td>
          <td class="paramname"><em>solid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Marks walkable spans as not walkable if the clearence above the span is less than the specified height.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>The build context to use during the operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">walkableHeight</td><td>Minimum floor to 'ceiling' height that will still allow the floor area to be considered walkable. [Limit: &gt;= 3] [Units: vx] </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">solid</td><td>A fully built heightfield. (All spans have been added.)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<p>For this filter, the clearance above the span is the distance from the span's maximum to the next higher span's minimum. (Same grid column.)</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a>, <a class="el" href="../../d2/d52/structrc_config.html">rcConfig</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d13/_recast_filter_8cpp_source.html#l00177">177</a> of file <a class="el" href="../../d8/d13/_recast_filter_8cpp_source.html">RecastFilter.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;{</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="code" href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a>(ctx);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a> timer(ctx, <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18dae2cf8a1eed8d008417af66448900d120">RC_TIMER_FILTER_WALKABLE</a>);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> w = solid.<a class="code" href="../../dd/df7/structrc_heightfield.html#a9dd6e386c167f1537e3c7638f6b9a752">width</a>;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> h = solid.<a class="code" href="../../dd/df7/structrc_heightfield.html#a568ceeea7acb4ddf67dd78ec4fee7672">height</a>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d3/d63/_map_8h.html#a9059fa76eb5e8e86f870405d63e72c4c">MAX_HEIGHT</a> = 0xffff;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="comment">// Remove walkable flag from spans which do not have enough</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="comment">// space above them for the agent to stand there.</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> = 0; <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> &lt; h; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>)</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> = 0; <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> &lt; w; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>)</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="../../dc/d1d/structrc_span.html">rcSpan</a>* s = solid.<a class="code" href="../../dd/df7/structrc_heightfield.html#a0fea35ab8365dfcb38c63566abf7f261">spans</a>[<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> + <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>*w]; s; s = s-&gt;<a class="code" href="../../dc/d1d/structrc_span.html#a3b1dbeacc04852fe7330dcd0f5745424">next</a>)</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> bot = (int)(s-&gt;smax);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> top = s-&gt;next ? (int)(s-&gt;next-&gt;smin) : <a class="code" href="../../d3/d63/_map_8h.html#a9059fa76eb5e8e86f870405d63e72c4c">MAX_HEIGHT</a>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                <span class="keywordflow">if</span> ((top - bot) &lt;= walkableHeight)</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                    s-&gt;area = <a class="code" href="../../de/d78/_recast_8h.html#a5105dbfb2d2bf8aa69122db502d0e39e">RC_NULL_AREA</a>;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    }</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d78/_recast_8h_source.html#l00300">rcHeightfield::height</a>, <a class="el" href="../../d3/d63/_map_8h_source.html#l00154">MAX_HEIGHT</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00281">rcSpan::next</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00584">RC_NULL_AREA</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00055">RC_TIMER_FILTER_WALKABLE</a>, <a class="el" href="../../d1/db5/_recast_assert_8h_source.html#l00047">rcAssert</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00305">rcHeightfield::spans</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00299">rcHeightfield::width</a>, <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00037">G3D::x</a>, and <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00038">G3D::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00092">TileBuilder::BuildInstance()</a>, <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00542">MMAP::MapBuilder::buildMoveMapTile()</a>, and <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00219">TileBuilder::BuildTiled()</a>.</p>

</div>
</div>
<a id="a67311a62f4476274e58bfd4fc1897c2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67311a62f4476274e58bfd4fc1897c2b">&#9670;&nbsp;</a></span>rcFreeCompactHeightfield()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rcFreeCompactHeightfield </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a> *&#160;</td>
          <td class="paramname"><em>chf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees the specified compact heightfield object using the Recast allocator. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">chf</td><td>A compact heightfield allocated using <a class="el" href="../../de/d78/_recast_8h.html#a63ec2ca68dc897018b8b013507b9714d">rcAllocCompactHeightfield</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/d78/_recast_8h.html#a63ec2ca68dc897018b8b013507b9714d">rcAllocCompactHeightfield</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00137">137</a> of file <a class="el" href="../../d3/d01/_recast_8cpp_source.html">Recast.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;{</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <a class="code" href="../../d1/d8b/namespaceanonymous__namespace_02_recast_8cpp_03.html#a24ca1fa8b73b21eed8c6e0af57224090">rcDelete</a>(chf);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div>
<div class="ttc" id="anamespaceanonymous__namespace_02_recast_8cpp_03_html_a24ca1fa8b73b21eed8c6e0af57224090"><div class="ttname"><a href="../../d1/d8b/namespaceanonymous__namespace_02_recast_8cpp_03.html#a24ca1fa8b73b21eed8c6e0af57224090">anonymous_namespace{Recast.cpp}::rcDelete</a></div><div class="ttdeci">void rcDelete(T *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d01/_recast_8cpp_source.html#l00045">Recast.cpp:45</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00045">anonymous_namespace{Recast.cpp}::rcDelete()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00092">TileBuilder::BuildInstance()</a>, <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00542">MMAP::MapBuilder::buildMoveMapTile()</a>, <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00219">TileBuilder::BuildTiled()</a>, <a class="el" href="../../d2/df5/_intermediate_values_8cpp_source.html#l00022">MMAP::IntermediateValues::~IntermediateValues()</a>, and <a class="el" href="../../d2/dbb/_map_builder_8h_source.html#l00060">MMAP::Tile::~Tile()</a>.</p>

</div>
</div>
<a id="a2fb91095dd65acee1c4dfad8f61449b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fb91095dd65acee1c4dfad8f61449b2">&#9670;&nbsp;</a></span>rcFreeContourSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rcFreeContourSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d9f/structrc_contour_set.html">rcContourSet</a> *&#160;</td>
          <td class="paramname"><em>cset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees the specified contour set using the Recast allocator. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cset</td><td>A contour set allocated using <a class="el" href="../../de/d78/_recast_8h.html#a2b1a22ec58d51570e352c19cb2cb22a2">rcAllocContourSet</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/d78/_recast_8h.html#a2b1a22ec58d51570e352c19cb2cb22a2">rcAllocContourSet</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00196">196</a> of file <a class="el" href="../../d3/d01/_recast_8cpp_source.html">Recast.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;{</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <a class="code" href="../../d1/d8b/namespaceanonymous__namespace_02_recast_8cpp_03.html#a24ca1fa8b73b21eed8c6e0af57224090">rcDelete</a>(cset);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00045">anonymous_namespace{Recast.cpp}::rcDelete()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00092">TileBuilder::BuildInstance()</a>, <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00542">MMAP::MapBuilder::buildMoveMapTile()</a>, <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00219">TileBuilder::BuildTiled()</a>, <a class="el" href="../../d2/df5/_intermediate_values_8cpp_source.html#l00022">MMAP::IntermediateValues::~IntermediateValues()</a>, and <a class="el" href="../../d2/dbb/_map_builder_8h_source.html#l00060">MMAP::Tile::~Tile()</a>.</p>

</div>
</div>
<a id="a370dc7ef848ed74b7660d70a3972557c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a370dc7ef848ed74b7660d70a3972557c">&#9670;&nbsp;</a></span>rcFreeHeightField()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rcFreeHeightField </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a> *&#160;</td>
          <td class="paramname"><em>hf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees the specified heightfield object using the Recast allocator. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hf</td><td>A heightfield allocated using <a class="el" href="../../de/d78/_recast_8h.html#a3e717cb2fa2ef5d123f0fa218f0630a9">rcAllocHeightfield</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/d78/_recast_8h.html#a3e717cb2fa2ef5d123f0fa218f0630a9">rcAllocHeightfield</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00127">127</a> of file <a class="el" href="../../d3/d01/_recast_8cpp_source.html">Recast.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;{</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <a class="code" href="../../d1/d8b/namespaceanonymous__namespace_02_recast_8cpp_03.html#a24ca1fa8b73b21eed8c6e0af57224090">rcDelete</a>(hf);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00045">anonymous_namespace{Recast.cpp}::rcDelete()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00092">TileBuilder::BuildInstance()</a>, <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00542">MMAP::MapBuilder::buildMoveMapTile()</a>, <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00219">TileBuilder::BuildTiled()</a>, <a class="el" href="../../d2/df5/_intermediate_values_8cpp_source.html#l00022">MMAP::IntermediateValues::~IntermediateValues()</a>, and <a class="el" href="../../d2/dbb/_map_builder_8h_source.html#l00060">MMAP::Tile::~Tile()</a>.</p>

</div>
</div>
<a id="a664e8773ae1776108fb220ddcf6349c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a664e8773ae1776108fb220ddcf6349c1">&#9670;&nbsp;</a></span>rcFreeHeightfieldLayerSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rcFreeHeightfieldLayerSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d3c/structrc_heightfield_layer_set.html">rcHeightfieldLayerSet</a> *&#160;</td>
          <td class="paramname"><em>lset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees the specified heightfield layer set using the Recast allocator. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lset</td><td>A heightfield layer set allocated using <a class="el" href="../../de/d78/_recast_8h.html#adc45406abb9ac9d1efddee04054207f5">rcAllocHeightfieldLayerSet</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/d78/_recast_8h.html#adc45406abb9ac9d1efddee04054207f5">rcAllocHeightfieldLayerSet</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00173">173</a> of file <a class="el" href="../../d3/d01/_recast_8cpp_source.html">Recast.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;{</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <a class="code" href="../../d1/d8b/namespaceanonymous__namespace_02_recast_8cpp_03.html#a24ca1fa8b73b21eed8c6e0af57224090">rcDelete</a>(lset);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00045">anonymous_namespace{Recast.cpp}::rcDelete()</a>.</p>

</div>
</div>
<a id="a06d2af90959be1bc0090a7fd3bca4af3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06d2af90959be1bc0090a7fd3bca4af3">&#9670;&nbsp;</a></span>rcFreePolyMesh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rcFreePolyMesh </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d75/structrc_poly_mesh.html">rcPolyMesh</a> *&#160;</td>
          <td class="paramname"><em>pmesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees the specified polygon mesh using the Recast allocator. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pmesh</td><td>A polygon mesh allocated using <a class="el" href="../../de/d78/_recast_8h.html#a1b6942363f019860984263c0f8f62b9d">rcAllocPolyMesh</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/d78/_recast_8h.html#a1b6942363f019860984263c0f8f62b9d">rcAllocPolyMesh</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00227">227</a> of file <a class="el" href="../../d3/d01/_recast_8cpp_source.html">Recast.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;{</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <a class="code" href="../../d1/d8b/namespaceanonymous__namespace_02_recast_8cpp_03.html#a24ca1fa8b73b21eed8c6e0af57224090">rcDelete</a>(pmesh);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00045">anonymous_namespace{Recast.cpp}::rcDelete()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00092">TileBuilder::BuildInstance()</a>, <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00219">TileBuilder::BuildTiled()</a>, <a class="el" href="../../d2/df5/_intermediate_values_8cpp_source.html#l00022">MMAP::IntermediateValues::~IntermediateValues()</a>, and <a class="el" href="../../d2/dbb/_map_builder_8h_source.html#l00060">MMAP::Tile::~Tile()</a>.</p>

</div>
</div>
<a id="a4d34c07695552e9fbd277809581af8c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d34c07695552e9fbd277809581af8c6">&#9670;&nbsp;</a></span>rcFreePolyMeshDetail()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rcFreePolyMeshDetail </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d70/structrc_poly_mesh_detail.html">rcPolyMeshDetail</a> *&#160;</td>
          <td class="paramname"><em>dmesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees the specified detail mesh using the Recast allocator. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dmesh</td><td>A detail mesh allocated using <a class="el" href="../../de/d78/_recast_8h.html#a617834c1759867250e21569c204f1410">rcAllocPolyMeshDetail</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/d78/_recast_8h.html#a617834c1759867250e21569c204f1410">rcAllocPolyMeshDetail</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00265">265</a> of file <a class="el" href="../../d3/d01/_recast_8cpp_source.html">Recast.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;{</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">if</span> (!dmesh) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <a class="code" href="../../de/d54/_recast_alloc_8h.html#a6fc4cfee655e24f94bad226f915ac397">rcFree</a>(dmesh-&gt;<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#ad3999d4eee9137eee882f844f09115c5">meshes</a>);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <a class="code" href="../../de/d54/_recast_alloc_8h.html#a6fc4cfee655e24f94bad226f915ac397">rcFree</a>(dmesh-&gt;<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a25ed980262b5e825eeabc883d7861ae2">verts</a>);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <a class="code" href="../../de/d54/_recast_alloc_8h.html#a6fc4cfee655e24f94bad226f915ac397">rcFree</a>(dmesh-&gt;<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a1cab5cee259774a833c4e2d6ea5df169">tris</a>);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <a class="code" href="../../de/d54/_recast_alloc_8h.html#a6fc4cfee655e24f94bad226f915ac397">rcFree</a>(dmesh);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d78/_recast_8h_source.html#l00444">rcPolyMeshDetail::meshes</a>, <a class="el" href="../../d5/d42/_recast_alloc_8cpp_source.html#l00056">rcFree()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00446">rcPolyMeshDetail::tris</a>, and <a class="el" href="../../de/d78/_recast_8h_source.html#l00445">rcPolyMeshDetail::verts</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00092">TileBuilder::BuildInstance()</a>, <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00219">TileBuilder::BuildTiled()</a>, <a class="el" href="../../d2/df5/_intermediate_values_8cpp_source.html#l00022">MMAP::IntermediateValues::~IntermediateValues()</a>, and <a class="el" href="../../d2/dbb/_map_builder_8h_source.html#l00060">MMAP::Tile::~Tile()</a>.</p>

</div>
</div>
<a id="a862229e50c96b6b157b0ad7eac980b3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a862229e50c96b6b157b0ad7eac980b3c">&#9670;&nbsp;</a></span>rcGetCon()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int rcGetCon </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/dce/structrc_compact_span.html">rcCompactSpan</a> &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Gets neighbor connection data for the specified direction. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>The span to check. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dir</td><td>The direction to check. [Limits: 0 &lt;= value &lt; 4] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The neighbor connection data for the specified direction, or <a class="el" href="../../de/d78/_recast_8h.html#a64354aff947c2d8040e39bb4ceaf1a9f">RC_NOT_CONNECTED</a> if there is no connection. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l01080">1080</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;{</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> shift = (<span class="keywordtype">unsigned</span> int)dir*6;</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <span class="keywordflow">return</span> (s.<a class="code" href="../../de/dce/structrc_compact_span.html#ac01d1dafd150efc71de4ee671edb8539">con</a> &gt;&gt; shift) &amp; 0x3f;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;}</div>
<div class="ttc" id="astructrc_compact_span_html_ac01d1dafd150efc71de4ee671edb8539"><div class="ttname"><a href="../../de/dce/structrc_compact_span.html#ac01d1dafd150efc71de4ee671edb8539">rcCompactSpan::con</a></div><div class="ttdeci">unsigned int con</div><div class="ttdoc">Packed neighbor connection data.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00327">Recast.h:327</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d78/_recast_8h_source.html#l00327">rcCompactSpan::con</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00193">boxBlur()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00040">calculateDistanceField()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00362">expandRegions()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00253">floodRegion()</a>, <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00029">getCornerHeight()</a>, <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l01024">getHeightData()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00683">isSolidEdge()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01044">mergeAndFilterLayerRegions()</a>, <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00824">rcBuildContours()</a>, <a class="el" href="../../d3/d20/_recast_layers_8cpp_source.html#l00092">rcBuildHeightfieldLayers()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01662">rcBuildLayerRegions()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01353">rcBuildRegionsMonotone()</a>, <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html#l00037">rcErodeWalkableArea()</a>, <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html#l00239">rcMedianFilterWalkableArea()</a>, <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00883">seedArrayWithPolyCenter()</a>, and <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00104">walkContour()</a>.</p>

</div>
</div>
<a id="a03790db3c3b88013638325250ad88dca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03790db3c3b88013638325250ad88dca">&#9670;&nbsp;</a></span>rcGetDirForOffset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int rcGetDirForOffset </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Gets the direction for the specified offset. One of x and y should be 0. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>The x offset. [Limits: -1 &lt;= value &lt;= 1] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y</td><td>The y offset. [Limits: -1 &lt;= value &lt;= 1] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The direction that represents the offset. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l01110">1110</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;{</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> dirs[5] = { 3, 0, -1, 2, 1 };</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <span class="keywordflow">return</span> dirs[((<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>+1)&lt;&lt;1)+<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>];</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00037">G3D::x</a>, and <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00038">G3D::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00883">seedArrayWithPolyCenter()</a>.</p>

</div>
</div>
<a id="a08323ca2f8069b8c7291f8d26ba7fbb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08323ca2f8069b8c7291f8d26ba7fbb8">&#9670;&nbsp;</a></span>rcGetDirOffsetX()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int rcGetDirOffsetX </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Gets the standard width (x-axis) offset for the specified direction. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dir</td><td>The direction. [Limits: 0 &lt;= value &lt; 4] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The width offset to apply to the current cell position to move in the direction. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l01090">1090</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;{</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> offset[4] = { -1, 0, 1, 0, };</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <span class="keywordflow">return</span> offset[dir&amp;0x03];</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00193">boxBlur()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00040">calculateDistanceField()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00362">expandRegions()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00253">floodRegion()</a>, <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00029">getCornerHeight()</a>, <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l01024">getHeightData()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00683">isSolidEdge()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01044">mergeAndFilterLayerRegions()</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00415">rcBuildCompactHeightfield()</a>, <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00824">rcBuildContours()</a>, <a class="el" href="../../d3/d20/_recast_layers_8cpp_source.html#l00092">rcBuildHeightfieldLayers()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01662">rcBuildLayerRegions()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01353">rcBuildRegionsMonotone()</a>, <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html#l00037">rcErodeWalkableArea()</a>, <a class="el" href="../../d8/d13/_recast_filter_8cpp_source.html#l00082">rcFilterLedgeSpans()</a>, <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html#l00239">rcMedianFilterWalkableArea()</a>, <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00883">seedArrayWithPolyCenter()</a>, and <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00104">walkContour()</a>.</p>

</div>
</div>
<a id="ab2dfeacce04b6d055723627b61515aa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2dfeacce04b6d055723627b61515aa0">&#9670;&nbsp;</a></span>rcGetDirOffsetY()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int rcGetDirOffsetY </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Gets the standard height (z-axis) offset for the specified direction. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dir</td><td>The direction. [Limits: 0 &lt;= value &lt; 4] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The height offset to apply to the current cell position to move in the direction. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l01100">1100</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;{</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> offset[4] = { 0, 1, 0, -1 };</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <span class="keywordflow">return</span> offset[dir&amp;0x03];</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00193">boxBlur()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00040">calculateDistanceField()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00362">expandRegions()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00253">floodRegion()</a>, <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00029">getCornerHeight()</a>, <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l01024">getHeightData()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00683">isSolidEdge()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01044">mergeAndFilterLayerRegions()</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00415">rcBuildCompactHeightfield()</a>, <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00824">rcBuildContours()</a>, <a class="el" href="../../d3/d20/_recast_layers_8cpp_source.html#l00092">rcBuildHeightfieldLayers()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01662">rcBuildLayerRegions()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01353">rcBuildRegionsMonotone()</a>, <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html#l00037">rcErodeWalkableArea()</a>, <a class="el" href="../../d8/d13/_recast_filter_8cpp_source.html#l00082">rcFilterLedgeSpans()</a>, <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html#l00239">rcMedianFilterWalkableArea()</a>, <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00883">seedArrayWithPolyCenter()</a>, and <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00104">walkContour()</a>.</p>

</div>
</div>
<a id="a3b744a3ee804e46503348f5f7c98d6eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b744a3ee804e46503348f5f7c98d6eb">&#9670;&nbsp;</a></span>rcGetHeightFieldSpanCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rcGetHeightFieldSpanCount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a> &amp;&#160;</td>
          <td class="paramname"><em>hf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the number of spans contained in the specified heightfield.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>The build context to use during the operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hf</td><td>An initialized heightfield. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of spans in the heightfield. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00385">385</a> of file <a class="el" href="../../d3/d01/_recast_8cpp_source.html">Recast.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;{</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a590be6fed00e1ed747939ee51b0b433c">rcIgnoreUnused</a>(ctx);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> w = hf.<a class="code" href="../../dd/df7/structrc_heightfield.html#a9dd6e386c167f1537e3c7638f6b9a752">width</a>;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> h = hf.<a class="code" href="../../dd/df7/structrc_heightfield.html#a568ceeea7acb4ddf67dd78ec4fee7672">height</a>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordtype">int</span> spanCount = 0;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> = 0; <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> &lt; h; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>)</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> = 0; <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> &lt; w; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>)</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="../../dc/d1d/structrc_span.html">rcSpan</a>* s = hf.<a class="code" href="../../dd/df7/structrc_heightfield.html#a0fea35ab8365dfcb38c63566abf7f261">spans</a>[<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> + <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>*w]; s; s = s-&gt;<a class="code" href="../../dc/d1d/structrc_span.html#a3b1dbeacc04852fe7330dcd0f5745424">next</a>)</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                <span class="keywordflow">if</span> (s-&gt;area != <a class="code" href="../../de/d78/_recast_8h.html#a5105dbfb2d2bf8aa69122db502d0e39e">RC_NULL_AREA</a>)</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                    spanCount++;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            }</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        }</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="keywordflow">return</span> spanCount;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d78/_recast_8h_source.html#l00300">rcHeightfield::height</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00281">rcSpan::next</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00584">RC_NULL_AREA</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00601">rcIgnoreUnused()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00305">rcHeightfield::spans</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00299">rcHeightfield::width</a>, <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00037">G3D::x</a>, and <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00038">G3D::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00415">rcBuildCompactHeightfield()</a>.</p>

</div>
</div>
<a id="a590be6fed00e1ed747939ee51b0b433c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a590be6fed00e1ed747939ee51b0b433c">&#9670;&nbsp;</a></span>rcIgnoreUnused()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void rcIgnoreUnused </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> T &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used to ignore a function parameter. VS complains about unused parameters and this silences the warning. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_</td><td>Unused parameter </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00601">601</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;{ }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00364">rcClearUnwalkableTriangles()</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00298">rcCreateHeightfield()</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00385">rcGetHeightFieldSpanCount()</a>, and <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00334">rcMarkWalkableTriangles()</a>.</p>

</div>
</div>
<a id="a527b4c24537e47bcc472f28965c7b7bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a527b4c24537e47bcc472f28965c7b7bf">&#9670;&nbsp;</a></span>rcMarkBoxArea()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rcMarkBoxArea </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>bmin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>bmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>areaId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a> &amp;&#160;</td>
          <td class="paramname"><em>chf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Applies an area id to all spans within the specified bounding box. (AABB)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>The build context to use during the operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bmin</td><td>The minimum of the bounding box. [(x, y, z)] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bmax</td><td>The maximum of the bounding box. [(x, y, z)] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">areaId</td><td>The area id to apply. [Limit: &lt;= <a class="el" href="../../de/d78/_recast_8h.html#a55c878bf81a2811829c8c5e491be41cb">RC_WALKABLE_AREA</a>] </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">chf</td><td>A populated compact heightfield.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<p>The value of spacial parameters are in world units.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a>, <a class="el" href="../../d7/d85/_recast_area_8cpp.html#a793672ade7833e916dd3c0e7a5bd6cc5">rcMedianFilterWalkableArea</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html#l00316">316</a> of file <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html">RecastArea.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;{</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <a class="code" href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a>(ctx);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <a class="code" href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a> timer(ctx, <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da3ba77f8aaeff3f0ea1c0703144701789">RC_TIMER_MARK_BOX_AREA</a>);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordtype">int</span> minx = (int)((bmin[0]-chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ae73d55ffeafd659c189bf14e440b902f">bmin</a>[0])/chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a75ee8e198d672db29a2f98c7463c0b31">cs</a>);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordtype">int</span> miny = (int)((bmin[1]-chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ae73d55ffeafd659c189bf14e440b902f">bmin</a>[1])/chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a39baf56bf3baf2b026aae0a309facaf4">ch</a>);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordtype">int</span> minz = (int)((bmin[2]-chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ae73d55ffeafd659c189bf14e440b902f">bmin</a>[2])/chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a75ee8e198d672db29a2f98c7463c0b31">cs</a>);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordtype">int</span> maxx = (int)((bmax[0]-chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ae73d55ffeafd659c189bf14e440b902f">bmin</a>[0])/chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a75ee8e198d672db29a2f98c7463c0b31">cs</a>);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordtype">int</span> maxy = (int)((bmax[1]-chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ae73d55ffeafd659c189bf14e440b902f">bmin</a>[1])/chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a39baf56bf3baf2b026aae0a309facaf4">ch</a>);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordtype">int</span> maxz = (int)((bmax[2]-chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ae73d55ffeafd659c189bf14e440b902f">bmin</a>[2])/chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a75ee8e198d672db29a2f98c7463c0b31">cs</a>);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">if</span> (maxx &lt; 0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordflow">if</span> (minx &gt;= chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a98868c1df2523cd724696ed1d223ba13">width</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">if</span> (maxz &lt; 0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">if</span> (minz &gt;= chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a25d9e16e5d82cf698e47b18a5740b639">height</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">if</span> (minx &lt; 0) minx = 0;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">if</span> (maxx &gt;= chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a98868c1df2523cd724696ed1d223ba13">width</a>) maxx = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a98868c1df2523cd724696ed1d223ba13">width</a>-1;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">if</span> (minz &lt; 0) minz = 0;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordflow">if</span> (maxz &gt;= chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a25d9e16e5d82cf698e47b18a5740b639">height</a>) maxz = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a25d9e16e5d82cf698e47b18a5740b639">height</a>-1;    </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a05e047033db3919db794d0f77e38797f">z</a> = minz; <a class="code" href="../../df/de2/namespace_g3_d.html#a05e047033db3919db794d0f77e38797f">z</a> &lt;= maxz; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a05e047033db3919db794d0f77e38797f">z</a>)</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    {</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> = minx; <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> &lt;= maxx; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>)</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../d6/dff/structrc_compact_cell.html">rcCompactCell</a>&amp; <a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a> = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>+<a class="code" href="../../df/de2/namespace_g3_d.html#a05e047033db3919db794d0f77e38797f">z</a>*chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a98868c1df2523cd724696ed1d223ba13">width</a>];</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = (<span class="keywordtype">int</span>)<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index, ni = (int)(<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index+<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.count); i &lt; ni; ++i)</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            {</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                <a class="code" href="../../de/dce/structrc_compact_span.html">rcCompactSpan</a>&amp; s = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>[i];</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)s.<a class="code" href="../../de/dce/structrc_compact_span.html#a51e8cdcf30408a3f84da22c4d2623b68">y</a> &gt;= miny &amp;&amp; (int)s.<a class="code" href="../../de/dce/structrc_compact_span.html#a51e8cdcf30408a3f84da22c4d2623b68">y</a> &lt;= maxy)</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                    <span class="keywordflow">if</span> (chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[i] != <a class="code" href="../../de/d78/_recast_8h.html#a5105dbfb2d2bf8aa69122db502d0e39e">RC_NULL_AREA</a>)</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                        chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[i] = areaId;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                }</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            }</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    }</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;}</div>
<div class="ttc" id="anamespace_g3_d_html_a05e047033db3919db794d0f77e38797f"><div class="ttname"><a href="../../df/de2/namespace_g3_d.html#a05e047033db3919db794d0f77e38797f">G3D::z</a></div><div class="ttdeci">G3D::int16 z</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5d/_vector3int16_8h_source.html#l00046">Vector3int16.h:46</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d78/_recast_8h_source.html#l00352">rcCompactHeightfield::areas</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00345">rcCompactHeightfield::bmin</a>, <a class="el" href="../../d6/d3e/mpq_8py_source.html#l00295">mpq::c</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00349">rcCompactHeightfield::cells</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00348">rcCompactHeightfield::ch</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00347">rcCompactHeightfield::cs</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00338">rcCompactHeightfield::height</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00584">RC_NULL_AREA</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00067">RC_TIMER_MARK_BOX_AREA</a>, <a class="el" href="../../d1/db5/_recast_assert_8h_source.html#l00047">rcAssert</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00350">rcCompactHeightfield::spans</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00337">rcCompactHeightfield::width</a>, <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00037">G3D::x</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00325">rcCompactSpan::y</a>, and <a class="el" href="../../db/d5d/_vector3int16_8h_source.html#l00046">G3D::z</a>.</p>

</div>
</div>
<a id="a1e8f3c9c2cb664fb2874d01448a1f223"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e8f3c9c2cb664fb2874d01448a1f223">&#9670;&nbsp;</a></span>rcMarkConvexPolyArea()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rcMarkConvexPolyArea </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>verts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>nverts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float&#160;</td>
          <td class="paramname"><em>hmin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float&#160;</td>
          <td class="paramname"><em>hmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>areaId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a> &amp;&#160;</td>
          <td class="paramname"><em>chf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Applies the area id to the all spans within the specified convex polygon.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>The build context to use during the operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">verts</td><td>The vertices of the polygon [Fomr: (x, y, z) * <code>nverts</code>] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nverts</td><td>The number of vertices in the polygon. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hmin</td><td>The height of the base of the polygon. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hmax</td><td>The height of the top of the polygon. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">areaId</td><td>The area id to apply. [Limit: &lt;= <a class="el" href="../../de/d78/_recast_8h.html#a55c878bf81a2811829c8c5e491be41cb">RC_WALKABLE_AREA</a>] </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">chf</td><td>A populated compact heightfield.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<p>The value of spacial parameters are in world units.</p>
<p>The y-values of the polygon vertices are ignored. So the polygon is effectively projected onto the xz-plane at <code>hmin</code>, then extruded to <code>hmax</code>.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a>, <a class="el" href="../../d7/d85/_recast_area_8cpp.html#a793672ade7833e916dd3c0e7a5bd6cc5">rcMedianFilterWalkableArea</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html#l00381">381</a> of file <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html">RecastArea.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;{</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <a class="code" href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a>(ctx);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <a class="code" href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a> timer(ctx, <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18dac76c8eea599c3cf1c7f76a7a90a245b1">RC_TIMER_MARK_CONVEXPOLY_AREA</a>);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordtype">float</span> bmin[3], bmax[3];</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a9cbb34310e47a6def133a4b533d073ea">rcVcopy</a>(bmin, verts);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a9cbb34310e47a6def133a4b533d073ea">rcVcopy</a>(bmax, verts);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; nverts; ++i)</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <a class="code" href="../../de/d78/_recast_8h.html#ab49a84d90945782df879b0c7e84239db">rcVmin</a>(bmin, &amp;verts[i*3]);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <a class="code" href="../../de/d78/_recast_8h.html#a5033980308619575a48cef8f497af3cf">rcVmax</a>(bmax, &amp;verts[i*3]);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    }</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    bmin[1] = hmin;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    bmax[1] = hmax;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160; </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordtype">int</span> minx = (int)((bmin[0]-chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ae73d55ffeafd659c189bf14e440b902f">bmin</a>[0])/chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a75ee8e198d672db29a2f98c7463c0b31">cs</a>);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordtype">int</span> miny = (int)((bmin[1]-chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ae73d55ffeafd659c189bf14e440b902f">bmin</a>[1])/chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a39baf56bf3baf2b026aae0a309facaf4">ch</a>);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordtype">int</span> minz = (int)((bmin[2]-chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ae73d55ffeafd659c189bf14e440b902f">bmin</a>[2])/chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a75ee8e198d672db29a2f98c7463c0b31">cs</a>);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="keywordtype">int</span> maxx = (int)((bmax[0]-chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ae73d55ffeafd659c189bf14e440b902f">bmin</a>[0])/chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a75ee8e198d672db29a2f98c7463c0b31">cs</a>);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordtype">int</span> maxy = (int)((bmax[1]-chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ae73d55ffeafd659c189bf14e440b902f">bmin</a>[1])/chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a39baf56bf3baf2b026aae0a309facaf4">ch</a>);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordtype">int</span> maxz = (int)((bmax[2]-chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ae73d55ffeafd659c189bf14e440b902f">bmin</a>[2])/chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a75ee8e198d672db29a2f98c7463c0b31">cs</a>);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordflow">if</span> (maxx &lt; 0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordflow">if</span> (minx &gt;= chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a98868c1df2523cd724696ed1d223ba13">width</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordflow">if</span> (maxz &lt; 0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">if</span> (minz &gt;= chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a25d9e16e5d82cf698e47b18a5740b639">height</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordflow">if</span> (minx &lt; 0) minx = 0;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">if</span> (maxx &gt;= chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a98868c1df2523cd724696ed1d223ba13">width</a>) maxx = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a98868c1df2523cd724696ed1d223ba13">width</a>-1;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordflow">if</span> (minz &lt; 0) minz = 0;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordflow">if</span> (maxz &gt;= chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a25d9e16e5d82cf698e47b18a5740b639">height</a>) maxz = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a25d9e16e5d82cf698e47b18a5740b639">height</a>-1;    </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    </div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="comment">// TODO: Optimize.</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a05e047033db3919db794d0f77e38797f">z</a> = minz; <a class="code" href="../../df/de2/namespace_g3_d.html#a05e047033db3919db794d0f77e38797f">z</a> &lt;= maxz; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a05e047033db3919db794d0f77e38797f">z</a>)</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    {</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> = minx; <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> &lt;= maxx; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>)</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        {</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../d6/dff/structrc_compact_cell.html">rcCompactCell</a>&amp; <a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a> = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>+<a class="code" href="../../df/de2/namespace_g3_d.html#a05e047033db3919db794d0f77e38797f">z</a>*chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a98868c1df2523cd724696ed1d223ba13">width</a>];</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = (<span class="keywordtype">int</span>)<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index, ni = (int)(<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index+<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.count); i &lt; ni; ++i)</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            {</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                <a class="code" href="../../de/dce/structrc_compact_span.html">rcCompactSpan</a>&amp; s = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>[i];</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                <span class="keywordflow">if</span> (chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[i] == <a class="code" href="../../de/d78/_recast_8h.html#a5105dbfb2d2bf8aa69122db502d0e39e">RC_NULL_AREA</a>)</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)s.<a class="code" href="../../de/dce/structrc_compact_span.html#a51e8cdcf30408a3f84da22c4d2623b68">y</a> &gt;= miny &amp;&amp; (int)s.<a class="code" href="../../de/dce/structrc_compact_span.html#a51e8cdcf30408a3f84da22c4d2623b68">y</a> &lt;= maxy)</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                    <span class="keywordtype">float</span> p[3];</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                    p[0] = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ae73d55ffeafd659c189bf14e440b902f">bmin</a>[0] + (<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>+0.5f)*chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a75ee8e198d672db29a2f98c7463c0b31">cs</a>; </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                    p[1] = 0;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                    p[2] = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ae73d55ffeafd659c189bf14e440b902f">bmin</a>[2] + (<a class="code" href="../../df/de2/namespace_g3_d.html#a05e047033db3919db794d0f77e38797f">z</a>+0.5f)*chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a75ee8e198d672db29a2f98c7463c0b31">cs</a>; </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160; </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d85/_recast_area_8cpp.html#aec57aa531152be79fa4a68bd4b2782f0">pointInPoly</a>(nverts, verts, p))</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                    {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                        chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[i] = areaId;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                    }</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                }</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            }</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        }</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    }</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;}</div>
<div class="ttc" id="a_recast_area_8cpp_html_aec57aa531152be79fa4a68bd4b2782f0"><div class="ttname"><a href="../../d7/d85/_recast_area_8cpp.html#aec57aa531152be79fa4a68bd4b2782f0">pointInPoly</a></div><div class="ttdeci">static int pointInPoly(int nvert, const float *verts, const float *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d85/_recast_area_8cpp_source.html#l00359">RecastArea.cpp:359</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d78/_recast_8h_source.html#l00352">rcCompactHeightfield::areas</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00345">rcCompactHeightfield::bmin</a>, <a class="el" href="../../d6/d3e/mpq_8py_source.html#l00295">mpq::c</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00349">rcCompactHeightfield::cells</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00348">rcCompactHeightfield::ch</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00347">rcCompactHeightfield::cs</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00338">rcCompactHeightfield::height</a>, <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html#l00359">pointInPoly()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00584">RC_NULL_AREA</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00071">RC_TIMER_MARK_CONVEXPOLY_AREA</a>, <a class="el" href="../../d1/db5/_recast_assert_8h_source.html#l00047">rcAssert</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00723">rcVcopy()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00713">rcVmax()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00703">rcVmin()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00350">rcCompactHeightfield::spans</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00337">rcCompactHeightfield::width</a>, <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00037">G3D::x</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00325">rcCompactSpan::y</a>, and <a class="el" href="../../db/d5d/_vector3int16_8h_source.html#l00046">G3D::z</a>.</p>

</div>
</div>
<a id="ac2de1bc06b5804dd4304a90f39829948"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2de1bc06b5804dd4304a90f39829948">&#9670;&nbsp;</a></span>rcMarkCylinderArea()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rcMarkCylinderArea </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>areaId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a> &amp;&#160;</td>
          <td class="paramname"><em>chf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Applies the area id to all spans within the specified cylinder.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>The build context to use during the operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pos</td><td>The center of the base of the cylinder. [Form: (x, y, z)] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">r</td><td>The radius of the cylinder. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">h</td><td>The height of the cylinder. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">areaId</td><td>The area id to apply. [Limit: &lt;= <a class="el" href="../../de/d78/_recast_8h.html#a55c878bf81a2811829c8c5e491be41cb">RC_WALKABLE_AREA</a>] </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">chf</td><td>A populated compact heightfield.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<p>The value of spacial parameters are in world units.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a>, <a class="el" href="../../d7/d85/_recast_area_8cpp.html#a793672ade7833e916dd3c0e7a5bd6cc5">rcMedianFilterWalkableArea</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html#l00529">529</a> of file <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html">RecastArea.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;{</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <a class="code" href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a>(ctx);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <a class="code" href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a> timer(ctx, <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18daade33c6e1f1b1037e63546ca863d9690">RC_TIMER_MARK_CYLINDER_AREA</a>);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    </div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordtype">float</span> bmin[3], bmax[3];</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    bmin[0] = <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>[0] - r;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    bmin[1] = <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>[1];</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    bmin[2] = <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>[2] - r;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    bmax[0] = <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>[0] + r;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    bmax[1] = <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>[1] + h;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    bmax[2] = <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>[2] + r;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> r2 = r*r;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="keywordtype">int</span> minx = (int)((bmin[0]-chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ae73d55ffeafd659c189bf14e440b902f">bmin</a>[0])/chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a75ee8e198d672db29a2f98c7463c0b31">cs</a>);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordtype">int</span> miny = (int)((bmin[1]-chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ae73d55ffeafd659c189bf14e440b902f">bmin</a>[1])/chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a39baf56bf3baf2b026aae0a309facaf4">ch</a>);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keywordtype">int</span> minz = (int)((bmin[2]-chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ae73d55ffeafd659c189bf14e440b902f">bmin</a>[2])/chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a75ee8e198d672db29a2f98c7463c0b31">cs</a>);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordtype">int</span> maxx = (int)((bmax[0]-chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ae73d55ffeafd659c189bf14e440b902f">bmin</a>[0])/chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a75ee8e198d672db29a2f98c7463c0b31">cs</a>);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keywordtype">int</span> maxy = (int)((bmax[1]-chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ae73d55ffeafd659c189bf14e440b902f">bmin</a>[1])/chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a39baf56bf3baf2b026aae0a309facaf4">ch</a>);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordtype">int</span> maxz = (int)((bmax[2]-chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ae73d55ffeafd659c189bf14e440b902f">bmin</a>[2])/chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a75ee8e198d672db29a2f98c7463c0b31">cs</a>);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    </div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">if</span> (maxx &lt; 0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="keywordflow">if</span> (minx &gt;= chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a98868c1df2523cd724696ed1d223ba13">width</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="keywordflow">if</span> (maxz &lt; 0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keywordflow">if</span> (minz &gt;= chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a25d9e16e5d82cf698e47b18a5740b639">height</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    </div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordflow">if</span> (minx &lt; 0) minx = 0;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">if</span> (maxx &gt;= chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a98868c1df2523cd724696ed1d223ba13">width</a>) maxx = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a98868c1df2523cd724696ed1d223ba13">width</a>-1;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordflow">if</span> (minz &lt; 0) minz = 0;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="keywordflow">if</span> (maxz &gt;= chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a25d9e16e5d82cf698e47b18a5740b639">height</a>) maxz = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a25d9e16e5d82cf698e47b18a5740b639">height</a>-1;    </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    </div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a05e047033db3919db794d0f77e38797f">z</a> = minz; <a class="code" href="../../df/de2/namespace_g3_d.html#a05e047033db3919db794d0f77e38797f">z</a> &lt;= maxz; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a05e047033db3919db794d0f77e38797f">z</a>)</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> = minx; <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> &lt;= maxx; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>)</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        {</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../d6/dff/structrc_compact_cell.html">rcCompactCell</a>&amp; <a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a> = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>+<a class="code" href="../../df/de2/namespace_g3_d.html#a05e047033db3919db794d0f77e38797f">z</a>*chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a98868c1df2523cd724696ed1d223ba13">width</a>];</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = (<span class="keywordtype">int</span>)<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index, ni = (int)(<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index+<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.count); i &lt; ni; ++i)</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            {</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                <a class="code" href="../../de/dce/structrc_compact_span.html">rcCompactSpan</a>&amp; s = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>[i];</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                </div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                <span class="keywordflow">if</span> (chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[i] == <a class="code" href="../../de/d78/_recast_8h.html#a5105dbfb2d2bf8aa69122db502d0e39e">RC_NULL_AREA</a>)</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                </div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)s.<a class="code" href="../../de/dce/structrc_compact_span.html#a51e8cdcf30408a3f84da22c4d2623b68">y</a> &gt;= miny &amp;&amp; (int)s.<a class="code" href="../../de/dce/structrc_compact_span.html#a51e8cdcf30408a3f84da22c4d2623b68">y</a> &lt;= maxy)</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                {</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">float</span> sx = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ae73d55ffeafd659c189bf14e440b902f">bmin</a>[0] + (<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>+0.5f)*chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a75ee8e198d672db29a2f98c7463c0b31">cs</a>; </div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">float</span> sz = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ae73d55ffeafd659c189bf14e440b902f">bmin</a>[2] + (<a class="code" href="../../df/de2/namespace_g3_d.html#a05e047033db3919db794d0f77e38797f">z</a>+0.5f)*chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a75ee8e198d672db29a2f98c7463c0b31">cs</a>; </div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">float</span> dx = sx - <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>[0];</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">float</span> dz = sz - <a class="code" href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a>[2];</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                    </div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                    <span class="keywordflow">if</span> (dx*dx + dz*dz &lt; r2)</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                    {</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                        chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[i] = areaId;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                    }</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                }</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            }</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        }</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    }</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;}</div>
<div class="ttc" id="abase64_8c_html_a5e75484d7880fa39b31f27c3d7058936"><div class="ttname"><a href="../../db/d36/base64_8c.html#a5e75484d7880fa39b31f27c3d7058936">pos</a></div><div class="ttdeci">static uint pos(unsigned char c)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d36/base64_8c_source.html#l00104">base64.c:104</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d78/_recast_8h_source.html#l00352">rcCompactHeightfield::areas</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00345">rcCompactHeightfield::bmin</a>, <a class="el" href="../../d6/d3e/mpq_8py_source.html#l00295">mpq::c</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00349">rcCompactHeightfield::cells</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00348">rcCompactHeightfield::ch</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00347">rcCompactHeightfield::cs</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00338">rcCompactHeightfield::height</a>, <a class="el" href="../../db/d36/base64_8c_source.html#l00104">pos()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00584">RC_NULL_AREA</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00069">RC_TIMER_MARK_CYLINDER_AREA</a>, <a class="el" href="../../d1/db5/_recast_assert_8h_source.html#l00047">rcAssert</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00350">rcCompactHeightfield::spans</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00337">rcCompactHeightfield::width</a>, <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00037">G3D::x</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00325">rcCompactSpan::y</a>, and <a class="el" href="../../db/d5d/_vector3int16_8h_source.html#l00046">G3D::z</a>.</p>

</div>
</div>
<a id="a1346288993c8ab565bee3e212e9c9890"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1346288993c8ab565bee3e212e9c9890">&#9670;&nbsp;</a></span>rcMarkWalkableTriangles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rcMarkWalkableTriangles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float&#160;</td>
          <td class="paramname"><em>walkableSlopeAngle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>verts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int *&#160;</td>
          <td class="paramname"><em>tris</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>areas</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the area id of all triangles with a slope below the specified value to <a class="el" href="../../de/d78/_recast_8h.html#a55c878bf81a2811829c8c5e491be41cb">RC_WALKABLE_AREA</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>The build context to use during the operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">walkableSlopeAngle</td><td>The maximum slope that is considered walkable. [Limits: 0 &lt;= value &lt; 90] [Units: Degrees] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">verts</td><td>The vertices. [(x, y, z) * <code>nv</code>] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nv</td><td>The number of vertices. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tris</td><td>The triangle vertex indices. [(vertA, vertB, vertC) * <code>nt</code>] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nt</td><td>The number of triangles. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">areas</td><td>The triangle area ids. [Length: &gt;= <code>nt</code>]</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<p>Only sets the area id's for the walkable triangles. Does not alter the area id's for unwalkable triangles.</p>
<p>See the <a class="el" href="../../d2/d52/structrc_config.html">rcConfig</a> documentation for more information on the configuration parameters.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a>, <a class="el" href="../../d3/d01/_recast_8cpp.html#a39ea0d8eeb61fb5168156604d9229145">rcClearUnwalkableTriangles</a>, <a class="el" href="../../d2/d5e/_recast_rasterization_8cpp.html#ad639cf9ca7c14d11c6b2e7f54ac99a8e">rcRasterizeTriangles</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00334">334</a> of file <a class="el" href="../../d3/d01/_recast_8cpp_source.html">Recast.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;{</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a590be6fed00e1ed747939ee51b0b433c">rcIgnoreUnused</a>(ctx);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a590be6fed00e1ed747939ee51b0b433c">rcIgnoreUnused</a>(nv);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> walkableThr = cosf(walkableSlopeAngle/180.0f*<a class="code" href="../../de/d78/_recast_8h.html#ac784d579fcb90e51ba0ea98fd529e5ed">RC_PI</a>);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160; </div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordtype">float</span> norm[3];</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    </div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nt; ++i)</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span>* tri = &amp;tris[i*3];</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <a class="code" href="../../d3/d01/_recast_8cpp.html#a0edf213140df6221fa6dc8da3aa5602e">calcTriNormal</a>(&amp;verts[tri[0]*3], &amp;verts[tri[1]*3], &amp;verts[tri[2]*3], norm);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <span class="comment">// Check if the face is walkable.</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="keywordflow">if</span> (norm[1] &gt; walkableThr)</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            areas[i] = <a class="code" href="../../de/d78/_recast_8h.html#a55c878bf81a2811829c8c5e491be41cb">RC_WALKABLE_AREA</a>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    }</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;}</div>
<div class="ttc" id="a_recast_8h_html_a55c878bf81a2811829c8c5e491be41cb"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a55c878bf81a2811829c8c5e491be41cb">RC_WALKABLE_AREA</a></div><div class="ttdeci">static const unsigned char RC_WALKABLE_AREA</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00589">Recast.h:589</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00317">calcTriNormal()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00023">RC_PI</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00589">RC_WALKABLE_AREA</a>, and <a class="el" href="../../de/d78/_recast_8h_source.html#l00601">rcIgnoreUnused()</a>.</p>

</div>
</div>
<a id="accb921a8353da3a74aa90a491aff74c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accb921a8353da3a74aa90a491aff74c8">&#9670;&nbsp;</a></span>rcMax()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T rcMax </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the maximum of two values. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>Value A </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>Value B </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The maximum of the two values. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00618">618</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d4/d71/namespacempq.html#ae78cc6206276c5d8a54a7b181bcd4f8d">a</a> &gt; <a class="code" href="../../df/d31/prof_8c.html#a3fca4d23183335e3d46f507d28e94e8b">b</a> ? <a class="code" href="../../d4/d71/namespacempq.html#ae78cc6206276c5d8a54a7b181bcd4f8d">a</a> : <a class="code" href="../../df/d31/prof_8c.html#a3fca4d23183335e3d46f507d28e94e8b">b</a>; }</div>
<div class="ttc" id="aprof_8c_html_a3fca4d23183335e3d46f507d28e94e8b"><div class="ttname"><a href="../../df/d31/prof_8c.html#a3fca4d23183335e3d46f507d28e94e8b">b</a></div><div class="ttdeci">const prof_gctx_t * b</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d31/prof_8c_source.html#l00277">prof.c:277</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d3e/mpq_8py_source.html#l00290">mpq::a</a>, and <a class="el" href="../../df/d31/prof_8c_source.html#l00277">b</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d5e/_recast_rasterization_8cpp_source.html#l00085">addSpan()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00040">calculateDistanceField()</a>, <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00029">getCornerHeight()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01044">mergeAndFilterLayerRegions()</a>, <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00536">polyMinExtent()</a>, <a class="el" href="../../d2/d5e/_recast_rasterization_8cpp_source.html#l00241">rasterizeTri()</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00415">rcBuildCompactHeightfield()</a>, <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00824">rcBuildContours()</a>, <a class="el" href="../../d3/d20/_recast_layers_8cpp_source.html#l00092">rcBuildHeightfieldLayers()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01662">rcBuildLayerRegions()</a>, <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html#l00992">rcBuildPolyMesh()</a>, <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l01171">rcBuildPolyMeshDetail()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01353">rcBuildRegionsMonotone()</a>, <a class="el" href="../../d8/d13/_recast_filter_8cpp_source.html#l00082">rcFilterLedgeSpans()</a>, <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html#l01311">rcMergePolyMeshes()</a>, and <a class="el" href="../../de/d78/_recast_8h_source.html#l00713">rcVmax()</a>.</p>

</div>
</div>
<a id="a793672ade7833e916dd3c0e7a5bd6cc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a793672ade7833e916dd3c0e7a5bd6cc5">&#9670;&nbsp;</a></span>rcMedianFilterWalkableArea()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> rcMedianFilterWalkableArea </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a> &amp;&#160;</td>
          <td class="paramname"><em>chf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Applies a median filter to walkable area types (based on area id), removing noise.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>The build context to use during the operation. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">chf</td><td>A populated compact heightfield. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the operation completed successfully.</dd></dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<p>This filter is usually applied after applying area id's using functions such as <a class="el" href="../../d7/d85/_recast_area_8cpp.html#a527b4c24537e47bcc472f28965c7b7bf">rcMarkBoxArea</a>, <a class="el" href="../../d7/d85/_recast_area_8cpp.html#a1e8f3c9c2cb664fb2874d01448a1f223">rcMarkConvexPolyArea</a>, and <a class="el" href="../../d7/d85/_recast_area_8cpp.html#ac2de1bc06b5804dd4304a90f39829948">rcMarkCylinderArea</a>.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d0/dc4/structrc_compact_heightfield.html">rcCompactHeightfield</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html#l00239">239</a> of file <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html">RecastArea.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;{</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <a class="code" href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a>(ctx);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> w = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a98868c1df2523cd724696ed1d223ba13">width</a>;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> h = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a25d9e16e5d82cf698e47b18a5740b639">height</a>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a> timer(ctx, <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18daff9bd2eec4ca8457b601f3d8186824bf">RC_TIMER_MEDIAN_AREA</a>);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* areas = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a>, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60a5e5b510fb1d2422e28f5262d4bd058ee">RC_ALLOC_TEMP</a>);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">if</span> (!areas)</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;medianFilterWalkableArea: Out of memory &#39;areas&#39; (%d).&quot;</span>, chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a>);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    }</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="comment">// Init distance.</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(areas, 0xff, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a>);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> = 0; <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> &lt; h; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>)</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> = 0; <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> &lt; w; ++<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>)</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../d6/dff/structrc_compact_cell.html">rcCompactCell</a>&amp; <a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a> = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>+<a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>*w];</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = (<span class="keywordtype">int</span>)<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index, ni = (<span class="keywordtype">int</span>)(<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.index+<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>.count); i &lt; ni; ++i)</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                <span class="keyword">const</span> <a class="code" href="../../de/dce/structrc_compact_span.html">rcCompactSpan</a>&amp; s = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>[i];</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                <span class="keywordflow">if</span> (chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[i] == <a class="code" href="../../de/d78/_recast_8h.html#a5105dbfb2d2bf8aa69122db502d0e39e">RC_NULL_AREA</a>)</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                    areas[i] = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[i];</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                }</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> nei[9];</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 9; ++j)</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                    nei[j] = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[i];</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                for (<span class="keywordtype">int</span> dir = 0; dir &lt; 4; ++dir)</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                {</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(s, dir) != <a class="code" href="../../de/d78/_recast_8h.html#a64354aff947c2d8040e39bb4ceaf1a9f">RC_NOT_CONNECTED</a>)</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                    {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> ax = <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a> + <a class="code" href="../../de/d78/_recast_8h.html#a08323ca2f8069b8c7291f8d26ba7fbb8">rcGetDirOffsetX</a>(dir);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> ay = <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a> + <a class="code" href="../../de/d78/_recast_8h.html#ab2dfeacce04b6d055723627b61515aa0">rcGetDirOffsetY</a>(dir);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> ai = (int)chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[ax+ay*w].<a class="code" href="../../d6/dff/structrc_compact_cell.html#ad1695135ae520dfee8c39aa7b1fd41d8">index</a> + <a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(s, dir);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                        <span class="keywordflow">if</span> (chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[ai] != <a class="code" href="../../de/d78/_recast_8h.html#a5105dbfb2d2bf8aa69122db502d0e39e">RC_NULL_AREA</a>)</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                            nei[dir*2+0] = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[ai];</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                        </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                        <span class="keyword">const</span> <a class="code" href="../../de/dce/structrc_compact_span.html">rcCompactSpan</a>&amp; as = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a20f5a93095dfd199b0a9baad4127bec3">spans</a>[ai];</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> dir2 = (dir+1) &amp; 0x3;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(as, dir2) != <a class="code" href="../../de/d78/_recast_8h.html#a64354aff947c2d8040e39bb4ceaf1a9f">RC_NOT_CONNECTED</a>)</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                        {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                            <span class="keyword">const</span> <span class="keywordtype">int</span> ax2 = ax + <a class="code" href="../../de/d78/_recast_8h.html#a08323ca2f8069b8c7291f8d26ba7fbb8">rcGetDirOffsetX</a>(dir2);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                            <span class="keyword">const</span> <span class="keywordtype">int</span> ay2 = ay + <a class="code" href="../../de/d78/_recast_8h.html#ab2dfeacce04b6d055723627b61515aa0">rcGetDirOffsetY</a>(dir2);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                            <span class="keyword">const</span> <span class="keywordtype">int</span> ai2 = (int)chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#ab497c9a9f6e0f1b8882fada13ce880a5">cells</a>[ax2+ay2*w].<a class="code" href="../../d6/dff/structrc_compact_cell.html#ad1695135ae520dfee8c39aa7b1fd41d8">index</a> + <a class="code" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a>(as, dir2);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                            <span class="keywordflow">if</span> (chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[ai2] != <a class="code" href="../../de/d78/_recast_8h.html#a5105dbfb2d2bf8aa69122db502d0e39e">RC_NULL_AREA</a>)</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                                nei[dir*2+1] = chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>[ai2];</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                        }</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                    }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                <a class="code" href="../../d7/d85/_recast_area_8cpp.html#a1071db3bfc13a7c581093d1f448f5e40">insertSort</a>(nei, 9);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                areas[i] = nei[4];</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            }</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a>(chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#abcdf0d737779779376bce23d1c0be910">areas</a>, areas, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*chf.<a class="code" href="../../d0/dc4/structrc_compact_heightfield.html#a7206a15efe8a9e2a8e28b8c7d89b45bd">spanCount</a>);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <a class="code" href="../../de/d54/_recast_alloc_8h.html#a6fc4cfee655e24f94bad226f915ac397">rcFree</a>(areas);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;}</div>
<div class="ttc" id="a_recast_area_8cpp_html_a1071db3bfc13a7c581093d1f448f5e40"><div class="ttname"><a href="../../d7/d85/_recast_area_8cpp.html#a1071db3bfc13a7c581093d1f448f5e40">insertSort</a></div><div class="ttdeci">static void insertSort(unsigned char *a, const int n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d85/_recast_area_8cpp_source.html#l00221">RecastArea.cpp:221</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d78/_recast_8h_source.html#l00352">rcCompactHeightfield::areas</a>, <a class="el" href="../../d6/d3e/mpq_8py_source.html#l00295">mpq::c</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00349">rcCompactHeightfield::cells</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00338">rcCompactHeightfield::height</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00318">rcCompactCell::index</a>, <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html#l00221">insertSort()</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00079">rcContext::log()</a>, <a class="el" href="../../d6/dda/m__string_8h_source.html#l00050">memcpy</a>, <a class="el" href="../../d6/dda/m__string_8h_source.html#l00051">memset</a>, <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00032">RC_ALLOC_TEMP</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00031">RC_LOG_ERROR</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00593">RC_NOT_CONNECTED</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00584">RC_NULL_AREA</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00057">RC_TIMER_MEDIAN_AREA</a>, <a class="el" href="../../d5/d42/_recast_alloc_8cpp_source.html#l00045">rcAlloc()</a>, <a class="el" href="../../d1/db5/_recast_assert_8h_source.html#l00047">rcAssert</a>, <a class="el" href="../../d5/d42/_recast_alloc_8cpp_source.html#l00056">rcFree()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l01080">rcGetCon()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l01090">rcGetDirOffsetX()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l01100">rcGetDirOffsetY()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00339">rcCompactHeightfield::spanCount</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00350">rcCompactHeightfield::spans</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00337">rcCompactHeightfield::width</a>, <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00037">G3D::x</a>, and <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00038">G3D::y</a>.</p>

</div>
</div>
<a id="a6ef022fcf6dabdb0437b979304c0defe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ef022fcf6dabdb0437b979304c0defe">&#9670;&nbsp;</a></span>rcMergePolyMeshDetails()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> rcMergePolyMeshDetails </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d70/structrc_poly_mesh_detail.html">rcPolyMeshDetail</a> **&#160;</td>
          <td class="paramname"><em>meshes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>nmeshes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d70/structrc_poly_mesh_detail.html">rcPolyMeshDetail</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Merges multiple detail meshes into a single detail mesh.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>The build context to use during the operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">meshes</td><td>An array of detail meshes to merge. [Size: <code>nmeshes</code>] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nmeshes</td><td>The number of detail meshes in the meshes array. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">mesh</td><td>The resulting detail mesh. (Must be pre-allocated.) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the operation completed successfully.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d3/d01/_recast_8cpp.html#a617834c1759867250e21569c204f1410">rcAllocPolyMeshDetail</a>, <a class="el" href="../../d6/d70/structrc_poly_mesh_detail.html">rcPolyMeshDetail</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l01390">1390</a> of file <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html">RecastMeshDetail.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;{</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    <a class="code" href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a>(ctx);</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    </div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    <a class="code" href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a> timer(ctx, <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da24182cce77d41ba2d42db93b65dc7535">RC_TIMER_MERGE_POLYMESHDETAIL</a>);</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    </div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    <span class="keywordtype">int</span> maxVerts = 0;</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <span class="keywordtype">int</span> maxTris = 0;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <span class="keywordtype">int</span> maxMeshes = 0;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    </div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nmeshes; ++i)</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    {</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;        <span class="keywordflow">if</span> (!meshes[i]) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;        maxVerts += meshes[i]-&gt;<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a5424a45b24c43d49d93d89e89f11b59f">nverts</a>;</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;        maxTris += meshes[i]-&gt;<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a80041af5ae32e618d4980cd81a08c9e3">ntris</a>;</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;        maxMeshes += meshes[i]-&gt;<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#afbe7e21cf0f9dca429c6762f457f61b6">nmeshes</a>;</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    }</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    </div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    mesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#afbe7e21cf0f9dca429c6762f457f61b6">nmeshes</a> = 0;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    mesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#ad3999d4eee9137eee882f844f09115c5">meshes</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)*maxMeshes*4, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    <span class="keywordflow">if</span> (!mesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#ad3999d4eee9137eee882f844f09115c5">meshes</a>)</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    {</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildPolyMeshDetail: Out of memory &#39;pmdtl.meshes&#39; (%d).&quot;</span>, maxMeshes*4);</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    }</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    </div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    mesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a80041af5ae32e618d4980cd81a08c9e3">ntris</a> = 0;</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    mesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a1cab5cee259774a833c4e2d6ea5df169">tris</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*maxTris*4, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    <span class="keywordflow">if</span> (!mesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a1cab5cee259774a833c4e2d6ea5df169">tris</a>)</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    {</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildPolyMeshDetail: Out of memory &#39;dmesh.tris&#39; (%d).&quot;</span>, maxTris*4);</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    }</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    </div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    mesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a5424a45b24c43d49d93d89e89f11b59f">nverts</a> = 0;</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    mesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a25ed980262b5e825eeabc883d7861ae2">verts</a> = (<span class="keywordtype">float</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>)*maxVerts*3, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <span class="keywordflow">if</span> (!mesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a25ed980262b5e825eeabc883d7861ae2">verts</a>)</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    {</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcBuildPolyMeshDetail: Out of memory &#39;dmesh.verts&#39; (%d).&quot;</span>, maxVerts*3);</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    }</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    </div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    <span class="comment">// Merge datas.</span></div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nmeshes; ++i)</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    {</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;        <a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html">rcPolyMeshDetail</a>* dm = meshes[i];</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;        <span class="keywordflow">if</span> (!dm) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; dm-&gt;<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#afbe7e21cf0f9dca429c6762f457f61b6">nmeshes</a>; ++j)</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;        {</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>* dst = &amp;mesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#ad3999d4eee9137eee882f844f09115c5">meshes</a>[mesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#afbe7e21cf0f9dca429c6762f457f61b6">nmeshes</a>*4];</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>* src = &amp;dm-&gt;<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#ad3999d4eee9137eee882f844f09115c5">meshes</a>[j*4];</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;            dst[0] = (<span class="keywordtype">unsigned</span> int)mesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a5424a45b24c43d49d93d89e89f11b59f">nverts</a>+src[0];</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;            dst[1] = src[1];</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;            dst[2] = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)mesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a80041af5ae32e618d4980cd81a08c9e3">ntris</a>+src[2];</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;            dst[3] = src[3];</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;            mesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#afbe7e21cf0f9dca429c6762f457f61b6">nmeshes</a>++;</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;        }</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;        </div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; dm-&gt;<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a5424a45b24c43d49d93d89e89f11b59f">nverts</a>; ++k)</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;        {</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;            <a class="code" href="../../de/d78/_recast_8h.html#a9cbb34310e47a6def133a4b533d073ea">rcVcopy</a>(&amp;mesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a25ed980262b5e825eeabc883d7861ae2">verts</a>[mesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a5424a45b24c43d49d93d89e89f11b59f">nverts</a>*3], &amp;dm-&gt;<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a25ed980262b5e825eeabc883d7861ae2">verts</a>[k*3]);</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;            mesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a5424a45b24c43d49d93d89e89f11b59f">nverts</a>++;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;        }</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; dm-&gt;<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a80041af5ae32e618d4980cd81a08c9e3">ntris</a>; ++k)</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;        {</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;            mesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a1cab5cee259774a833c4e2d6ea5df169">tris</a>[mesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a80041af5ae32e618d4980cd81a08c9e3">ntris</a>*4+0] = dm-&gt;<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a1cab5cee259774a833c4e2d6ea5df169">tris</a>[k*4+0];</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;            mesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a1cab5cee259774a833c4e2d6ea5df169">tris</a>[mesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a80041af5ae32e618d4980cd81a08c9e3">ntris</a>*4+1] = dm-&gt;<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a1cab5cee259774a833c4e2d6ea5df169">tris</a>[k*4+1];</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;            mesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a1cab5cee259774a833c4e2d6ea5df169">tris</a>[mesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a80041af5ae32e618d4980cd81a08c9e3">ntris</a>*4+2] = dm-&gt;<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a1cab5cee259774a833c4e2d6ea5df169">tris</a>[k*4+2];</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;            mesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a1cab5cee259774a833c4e2d6ea5df169">tris</a>[mesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a80041af5ae32e618d4980cd81a08c9e3">ntris</a>*4+3] = dm-&gt;<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a1cab5cee259774a833c4e2d6ea5df169">tris</a>[k*4+3];</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;            mesh.<a class="code" href="../../d6/d70/structrc_poly_mesh_detail.html#a80041af5ae32e618d4980cd81a08c9e3">ntris</a>++;</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;        }</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    }</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    </div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00079">rcContext::log()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00444">rcPolyMeshDetail::meshes</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00447">rcPolyMeshDetail::nmeshes</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00449">rcPolyMeshDetail::ntris</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00448">rcPolyMeshDetail::nverts</a>, <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00031">RC_ALLOC_PERM</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00031">RC_LOG_ERROR</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00093">RC_TIMER_MERGE_POLYMESHDETAIL</a>, <a class="el" href="../../d5/d42/_recast_alloc_8cpp_source.html#l00045">rcAlloc()</a>, <a class="el" href="../../d1/db5/_recast_assert_8h_source.html#l00047">rcAssert</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00723">rcVcopy()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00446">rcPolyMeshDetail::tris</a>, and <a class="el" href="../../de/d78/_recast_8h_source.html#l00445">rcPolyMeshDetail::verts</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00542">MMAP::MapBuilder::buildMoveMapTile()</a>.</p>

</div>
</div>
<a id="aa28c3eb627ca7d96015c7978ff0eb8f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa28c3eb627ca7d96015c7978ff0eb8f7">&#9670;&nbsp;</a></span>rcMergePolyMeshes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> rcMergePolyMeshes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d75/structrc_poly_mesh.html">rcPolyMesh</a> **&#160;</td>
          <td class="paramname"><em>meshes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>nmeshes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d75/structrc_poly_mesh.html">rcPolyMesh</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Merges multiple polygon meshes into a single mesh.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>The build context to use during the operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">meshes</td><td>An array of polygon meshes to merge. [Size: <code>nmeshes</code>] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nmeshes</td><td>The number of polygon meshes in the meshes array. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mesh</td><td>The resulting polygon mesh. (Must be pre-allocated.) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the operation completed successfully.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d3/d01/_recast_8cpp.html#a1b6942363f019860984263c0f8f62b9d">rcAllocPolyMesh</a>, <a class="el" href="../../df/d75/structrc_poly_mesh.html">rcPolyMesh</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html#l01311">1311</a> of file <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html">RecastMesh.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;{</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    <a class="code" href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a>(ctx);</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    </div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    <span class="keywordflow">if</span> (!nmeshes || !meshes)</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160; </div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <a class="code" href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a> timer(ctx, <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da20a8bc8f7341a3ea1af2b7581b67de6c">RC_TIMER_MERGE_POLYMESH</a>);</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160; </div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab0c55272b556ffc9db9e643b463cb66a">nvp</a> = meshes[0]-&gt;<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab0c55272b556ffc9db9e643b463cb66a">nvp</a>;</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a4c3ca520c55f96037cffcf6a92809563">cs</a> = meshes[0]-&gt;<a class="code" href="../../df/d75/structrc_poly_mesh.html#a4c3ca520c55f96037cffcf6a92809563">cs</a>;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#aa1ba795ddbb893da041b2a5273716ac5">ch</a> = meshes[0]-&gt;<a class="code" href="../../df/d75/structrc_poly_mesh.html#aa1ba795ddbb893da041b2a5273716ac5">ch</a>;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a9cbb34310e47a6def133a4b533d073ea">rcVcopy</a>(mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a63625dd55ca66c97ca29a87a5455cc27">bmin</a>, meshes[0]-&gt;bmin);</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <a class="code" href="../../de/d78/_recast_8h.html#a9cbb34310e47a6def133a4b533d073ea">rcVcopy</a>(mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#aabdf91f888b1c2dacd077a339a6df3a4">bmax</a>, meshes[0]-&gt;bmax);</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160; </div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    <span class="keywordtype">int</span> maxVerts = 0;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    <span class="keywordtype">int</span> maxPolys = 0;</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <span class="keywordtype">int</span> maxVertsPerMesh = 0;</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nmeshes; ++i)</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    {</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        <a class="code" href="../../de/d78/_recast_8h.html#ab49a84d90945782df879b0c7e84239db">rcVmin</a>(mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a63625dd55ca66c97ca29a87a5455cc27">bmin</a>, meshes[i]-&gt;bmin);</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;        <a class="code" href="../../de/d78/_recast_8h.html#a5033980308619575a48cef8f497af3cf">rcVmax</a>(mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#aabdf91f888b1c2dacd077a339a6df3a4">bmax</a>, meshes[i]-&gt;bmax);</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;        maxVertsPerMesh = <a class="code" href="../../de/d78/_recast_8h.html#accb921a8353da3a74aa90a491aff74c8">rcMax</a>(maxVertsPerMesh, meshes[i]-&gt;nverts);</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;        maxVerts += meshes[i]-&gt;<a class="code" href="../../df/d75/structrc_poly_mesh.html#ac9c762a21343c45649638e02332e53eb">nverts</a>;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;        maxPolys += meshes[i]-&gt;<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    }</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    </div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ac9c762a21343c45649638e02332e53eb">nverts</a> = 0;</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a0c43c2f7d5b98a8d5bc15a15a838280e">verts</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*maxVerts*3, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <span class="keywordflow">if</span> (!mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a0c43c2f7d5b98a8d5bc15a15a838280e">verts</a>)</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    {</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcMergePolyMeshes: Out of memory &#39;mesh.verts&#39; (%d).&quot;</span>, maxVerts*3);</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    }</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160; </div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a> = 0;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab7458680db9fe833bd86ced5f7c28308">polys</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*maxPolys*2*mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab0c55272b556ffc9db9e643b463cb66a">nvp</a>, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <span class="keywordflow">if</span> (!mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab7458680db9fe833bd86ced5f7c28308">polys</a>)</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    {</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcMergePolyMeshes: Out of memory &#39;mesh.polys&#39; (%d).&quot;</span>, maxPolys*2*mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab0c55272b556ffc9db9e643b463cb66a">nvp</a>);</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    }</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab7458680db9fe833bd86ced5f7c28308">polys</a>, 0xff, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*maxPolys*2*mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab0c55272b556ffc9db9e643b463cb66a">nvp</a>);</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160; </div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a9ae584e99de152fb89d957d43b7becd8">regs</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*maxPolys, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    <span class="keywordflow">if</span> (!mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a9ae584e99de152fb89d957d43b7becd8">regs</a>)</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    {</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcMergePolyMeshes: Out of memory &#39;mesh.regs&#39; (%d).&quot;</span>, maxPolys);</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    }</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a9ae584e99de152fb89d957d43b7becd8">regs</a>, 0, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*maxPolys);</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160; </div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a991d461df21cfccb2b97fa3c4828fec7">areas</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*maxPolys, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    <span class="keywordflow">if</span> (!mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a991d461df21cfccb2b97fa3c4828fec7">areas</a>)</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    {</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcMergePolyMeshes: Out of memory &#39;mesh.areas&#39; (%d).&quot;</span>, maxPolys);</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    }</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a991d461df21cfccb2b97fa3c4828fec7">areas</a>, 0, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*maxPolys);</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160; </div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab91ec949432297f7d0341a6ba9c88288">flags</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*maxPolys, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>);</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    <span class="keywordflow">if</span> (!mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab91ec949432297f7d0341a6ba9c88288">flags</a>)</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    {</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcMergePolyMeshes: Out of memory &#39;mesh.flags&#39; (%d).&quot;</span>, maxPolys);</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    }</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab91ec949432297f7d0341a6ba9c88288">flags</a>, 0, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*maxPolys);</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    </div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    <a class="code" href="../../d9/d65/classrc_scoped_delete.html">rcScopedDelete&lt;int&gt;</a> nextVert((<span class="keywordtype">int</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*maxVerts, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60a5e5b510fb1d2422e28f5262d4bd058ee">RC_ALLOC_TEMP</a>));</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    <span class="keywordflow">if</span> (!nextVert)</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    {</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcMergePolyMeshes: Out of memory &#39;nextVert&#39; (%d).&quot;</span>, maxVerts);</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    }</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(nextVert, 0, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*maxVerts);</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    </div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    <a class="code" href="../../d9/d65/classrc_scoped_delete.html">rcScopedDelete&lt;int&gt;</a> firstVert((<span class="keywordtype">int</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*<a class="code" href="../../d9/dbf/_recast_mesh_8cpp.html#a3a4e01616a89d8ef01154d9dd46e0ccc">VERTEX_BUCKET_COUNT</a>, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60a5e5b510fb1d2422e28f5262d4bd058ee">RC_ALLOC_TEMP</a>));</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    <span class="keywordflow">if</span> (!firstVert)</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    {</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcMergePolyMeshes: Out of memory &#39;firstVert&#39; (%d).&quot;</span>, <a class="code" href="../../d9/dbf/_recast_mesh_8cpp.html#a3a4e01616a89d8ef01154d9dd46e0ccc">VERTEX_BUCKET_COUNT</a>);</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    }</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d9/dbf/_recast_mesh_8cpp.html#a3a4e01616a89d8ef01154d9dd46e0ccc">VERTEX_BUCKET_COUNT</a>; ++i)</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;        firstVert[i] = -1;</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160; </div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    <a class="code" href="../../d9/d65/classrc_scoped_delete.html">rcScopedDelete&lt;unsigned short&gt;</a> vremap((<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>*)<a class="code" href="../../de/d54/_recast_alloc_8h.html#aaccb154539da523c5d4e6effb34dd69e">rcAlloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*maxVertsPerMesh, <a class="code" href="../../de/d54/_recast_alloc_8h.html#a1e8b4a818c5bf25bceae59a0b1857e60ac5753fe6be6e82f85794f719149356a5">RC_ALLOC_PERM</a>));</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <span class="keywordflow">if</span> (!vremap)</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    {</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcMergePolyMeshes: Out of memory &#39;vremap&#39; (%d).&quot;</span>, maxVertsPerMesh);</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    }</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <a class="code" href="../../d6/dda/m__string_8h.html#af1756e67d46227b3333bc21a1fadd361">memset</a>(vremap, 0, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)*maxVertsPerMesh);</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    </div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nmeshes; ++i)</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    {</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;        <span class="keyword">const</span> <a class="code" href="../../df/d75/structrc_poly_mesh.html">rcPolyMesh</a>* pmesh = meshes[i];</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;        </div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> ox = (<span class="keywordtype">unsigned</span> short)floorf((pmesh-&gt;<a class="code" href="../../df/d75/structrc_poly_mesh.html#a63625dd55ca66c97ca29a87a5455cc27">bmin</a>[0]-mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a63625dd55ca66c97ca29a87a5455cc27">bmin</a>[0])/mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a4c3ca520c55f96037cffcf6a92809563">cs</a>+0.5f);</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> oz = (<span class="keywordtype">unsigned</span> short)floorf((pmesh-&gt;<a class="code" href="../../df/d75/structrc_poly_mesh.html#a63625dd55ca66c97ca29a87a5455cc27">bmin</a>[2]-mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a63625dd55ca66c97ca29a87a5455cc27">bmin</a>[2])/mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a4c3ca520c55f96037cffcf6a92809563">cs</a>+0.5f);</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;        </div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;        <span class="keywordtype">bool</span> isMinX = (ox == 0);</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;        <span class="keywordtype">bool</span> isMinZ = (oz == 0);</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        <span class="keywordtype">bool</span> isMaxX = ((<span class="keywordtype">unsigned</span> short)floorf((mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#aabdf91f888b1c2dacd077a339a6df3a4">bmax</a>[0] - pmesh-&gt;<a class="code" href="../../df/d75/structrc_poly_mesh.html#aabdf91f888b1c2dacd077a339a6df3a4">bmax</a>[0]) / mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a4c3ca520c55f96037cffcf6a92809563">cs</a> + 0.5f)) == 0;</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;        <span class="keywordtype">bool</span> isMaxZ = ((<span class="keywordtype">unsigned</span> short)floorf((mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#aabdf91f888b1c2dacd077a339a6df3a4">bmax</a>[2] - pmesh-&gt;<a class="code" href="../../df/d75/structrc_poly_mesh.html#aabdf91f888b1c2dacd077a339a6df3a4">bmax</a>[2]) / mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a4c3ca520c55f96037cffcf6a92809563">cs</a> + 0.5f)) == 0;</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;        <span class="keywordtype">bool</span> isOnBorder = (isMinX || isMinZ || isMaxX || isMaxZ);</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160; </div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; pmesh-&gt;<a class="code" href="../../df/d75/structrc_poly_mesh.html#ac9c762a21343c45649638e02332e53eb">nverts</a>; ++j)</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;        {</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>* v = &amp;pmesh-&gt;<a class="code" href="../../df/d75/structrc_poly_mesh.html#a0c43c2f7d5b98a8d5bc15a15a838280e">verts</a>[j*3];</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;            vremap[j] = <a class="code" href="../../d9/dbf/_recast_mesh_8cpp.html#a80775c4842d1c1c9f9acbe1c99e0ccd5">addVertex</a>(v[0]+ox, v[1], v[2]+oz,</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;                                  mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a0c43c2f7d5b98a8d5bc15a15a838280e">verts</a>, firstVert, nextVert, mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ac9c762a21343c45649638e02332e53eb">nverts</a>);</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        }</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;        </div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; pmesh-&gt;<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>; ++j)</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;        {</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>* tgt = &amp;mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab7458680db9fe833bd86ced5f7c28308">polys</a>[mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>*2*mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab0c55272b556ffc9db9e643b463cb66a">nvp</a>];</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>* src = &amp;pmesh-&gt;<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab7458680db9fe833bd86ced5f7c28308">polys</a>[j*2*mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab0c55272b556ffc9db9e643b463cb66a">nvp</a>];</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;            mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a9ae584e99de152fb89d957d43b7becd8">regs</a>[mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>] = pmesh-&gt;<a class="code" href="../../df/d75/structrc_poly_mesh.html#a9ae584e99de152fb89d957d43b7becd8">regs</a>[j];</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;            mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#a991d461df21cfccb2b97fa3c4828fec7">areas</a>[mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>] = pmesh-&gt;<a class="code" href="../../df/d75/structrc_poly_mesh.html#a991d461df21cfccb2b97fa3c4828fec7">areas</a>[j];</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;            mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab91ec949432297f7d0341a6ba9c88288">flags</a>[mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>] = pmesh-&gt;<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab91ec949432297f7d0341a6ba9c88288">flags</a>[j];</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;            mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>++;</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab0c55272b556ffc9db9e643b463cb66a">nvp</a>; ++k)</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;            {</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;                <span class="keywordflow">if</span> (src[k] == <a class="code" href="../../de/d78/_recast_8h.html#a66e1b0e59a450182b5551eb12e68fcfe">RC_MESH_NULL_IDX</a>) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;                tgt[k] = vremap[src[k]];</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;            }</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160; </div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;            <span class="keywordflow">if</span> (isOnBorder)</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;            {</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab0c55272b556ffc9db9e643b463cb66a">nvp</a>; k &lt; mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab0c55272b556ffc9db9e643b463cb66a">nvp</a> * 2; ++k)</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;                {</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;                    <span class="keywordflow">if</span> (src[k] &amp; 0x8000 &amp;&amp; src[k] != 0xffff)</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;                    {</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;                        <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> dir = src[k] &amp; 0xf;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;                        <span class="keywordflow">switch</span> (dir)</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;                        {</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;                            <span class="keywordflow">case</span> 0: <span class="comment">// Portal x-</span></div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;                                <span class="keywordflow">if</span> (isMinX)</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;                                    tgt[k] = src[k];</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;                                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;                            <span class="keywordflow">case</span> 1: <span class="comment">// Portal z+</span></div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;                                <span class="keywordflow">if</span> (isMaxZ)</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;                                    tgt[k] = src[k];</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;                                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;                            <span class="keywordflow">case</span> 2: <span class="comment">// Portal x+</span></div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;                                <span class="keywordflow">if</span> (isMaxX)</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;                                    tgt[k] = src[k];</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;                                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;                            <span class="keywordflow">case</span> 3: <span class="comment">// Portal z-</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;                                <span class="keywordflow">if</span> (isMinZ)</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;                                    tgt[k] = src[k];</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;                                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;                        }</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;                    }</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;                }</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;            }</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;        }</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    }</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160; </div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <span class="comment">// Calculate adjacency.</span></div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d9/dbf/_recast_mesh_8cpp.html#a256e19cca110edc31cb96adf9a52521d">buildMeshAdjacency</a>(mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab7458680db9fe833bd86ced5f7c28308">polys</a>, mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>, mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ac9c762a21343c45649638e02332e53eb">nverts</a>, mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ab0c55272b556ffc9db9e643b463cb66a">nvp</a>))</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    {</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcMergePolyMeshes: Adjacency failed.&quot;</span>);</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    }</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160; </div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    <span class="keywordflow">if</span> (mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ac9c762a21343c45649638e02332e53eb">nverts</a> &gt; 0xffff)</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    {</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcMergePolyMeshes: The resulting mesh has too many vertices %d (max %d). Data can be corrupted.&quot;</span>, mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#ac9c762a21343c45649638e02332e53eb">nverts</a>, 0xffff);</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    }</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    <span class="keywordflow">if</span> (mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a> &gt; 0xffff)</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    {</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcMergePolyMeshes: The resulting mesh has too many polygons %d (max %d). Data can be corrupted.&quot;</span>, mesh.<a class="code" href="../../df/d75/structrc_poly_mesh.html#abd3e50c1eb0aba7157aa3e2902ae019e">npolys</a>, 0xffff);</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    }</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    </div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;}</div>
<div class="ttc" id="astructrc_poly_mesh_html"><div class="ttname"><a href="../../df/d75/structrc_poly_mesh.html">rcPolyMesh</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00418">Recast.h:419</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html#l00137">addVertex()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00426">rcPolyMesh::areas</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00432">rcPolyMesh::bmax</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00431">rcPolyMesh::bmin</a>, <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html#l00034">buildMeshAdjacency()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00434">rcPolyMesh::ch</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00433">rcPolyMesh::cs</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00425">rcPolyMesh::flags</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00079">rcContext::log()</a>, <a class="el" href="../../d6/dda/m__string_8h_source.html#l00051">memset</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00428">rcPolyMesh::npolys</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00427">rcPolyMesh::nverts</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00430">rcPolyMesh::nvp</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00423">rcPolyMesh::polys</a>, <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00031">RC_ALLOC_PERM</a>, <a class="el" href="../../de/d54/_recast_alloc_8h_source.html#l00032">RC_ALLOC_TEMP</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00031">RC_LOG_ERROR</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00579">RC_MESH_NULL_IDX</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00063">RC_TIMER_MERGE_POLYMESH</a>, <a class="el" href="../../d5/d42/_recast_alloc_8cpp_source.html#l00045">rcAlloc()</a>, <a class="el" href="../../d1/db5/_recast_assert_8h_source.html#l00047">rcAssert</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00618">rcMax()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00723">rcVcopy()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00713">rcVmax()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00703">rcVmin()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00424">rcPolyMesh::regs</a>, <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html#l00126">VERTEX_BUCKET_COUNT</a>, and <a class="el" href="../../de/d78/_recast_8h_source.html#l00422">rcPolyMesh::verts</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00542">MMAP::MapBuilder::buildMoveMapTile()</a>.</p>

</div>
</div>
<a id="aac83e8b749d8fed2164e00e7e0f43687"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac83e8b749d8fed2164e00e7e0f43687">&#9670;&nbsp;</a></span>rcMin()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T rcMin </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the minimum of two values. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>Value A </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>Value B </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The minimum of the two values. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00612">612</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d4/d71/namespacempq.html#ae78cc6206276c5d8a54a7b181bcd4f8d">a</a> &lt; <a class="code" href="../../df/d31/prof_8c.html#a3fca4d23183335e3d46f507d28e94e8b">b</a> ? <a class="code" href="../../d4/d71/namespacempq.html#ae78cc6206276c5d8a54a7b181bcd4f8d">a</a> : <a class="code" href="../../df/d31/prof_8c.html#a3fca4d23183335e3d46f507d28e94e8b">b</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d3e/mpq_8py_source.html#l00290">mpq::a</a>, and <a class="el" href="../../df/d31/prof_8c_source.html#l00277">b</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00185">distToPoly()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01044">mergeAndFilterLayerRegions()</a>, <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00536">polyMinExtent()</a>, <a class="el" href="../../d2/d5e/_recast_rasterization_8cpp_source.html#l00241">rasterizeTri()</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00415">rcBuildCompactHeightfield()</a>, <a class="el" href="../../d3/d20/_recast_layers_8cpp_source.html#l00092">rcBuildHeightfieldLayers()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01662">rcBuildLayerRegions()</a>, <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l01171">rcBuildPolyMeshDetail()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01526">rcBuildRegions()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01353">rcBuildRegionsMonotone()</a>, <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html#l00037">rcErodeWalkableArea()</a>, <a class="el" href="../../d8/d13/_recast_filter_8cpp_source.html#l00082">rcFilterLedgeSpans()</a>, and <a class="el" href="../../de/d78/_recast_8h_source.html#l00703">rcVmin()</a>.</p>

</div>
</div>
<a id="ad71d03bb37c1a16700d57c5f7dff4057"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad71d03bb37c1a16700d57c5f7dff4057">&#9670;&nbsp;</a></span>rcOffsetPoly()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rcOffsetPoly </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>verts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>nverts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>outVerts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>maxOutVerts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Helper function to offset voncex polygons for rcMarkConvexPolyArea.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">verts</td><td>The vertices of the polygon [Form: (x, y, z) * <code>nverts</code>] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nverts</td><td>The number of vertices in the polygon. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">outVerts</td><td>The offset vertices (should hold up to 2 * <code>nverts</code>) [Form: (x, y, z) * return value] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxOutVerts</td><td>The max number of vertices that can be stored to <code>outVerts</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of vertices in the offset polygon or 0 if too few vertices in <code>outVerts</code>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html#l00446">446</a> of file <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html">RecastArea.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;{</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> MITER_LIMIT = 1.20f;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160; </div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordtype">int</span> n = 0;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nverts; i++)</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    {</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d4/d71/namespacempq.html#ae78cc6206276c5d8a54a7b181bcd4f8d">a</a> = (i+nverts-1) % nverts;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../df/d31/prof_8c.html#a3fca4d23183335e3d46f507d28e94e8b">b</a> = i;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a> = (i+1) % nverts;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span>* va = &amp;verts[<a class="code" href="../../d4/d71/namespacempq.html#ae78cc6206276c5d8a54a7b181bcd4f8d">a</a>*3];</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span>* vb = &amp;verts[<a class="code" href="../../df/d31/prof_8c.html#a3fca4d23183335e3d46f507d28e94e8b">b</a>*3];</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span>* vc = &amp;verts[<a class="code" href="../../d4/d71/namespacempq.html#af509b98ca1ebe6c0248f215d23e06c93">c</a>*3];</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <span class="keywordtype">float</span> dx0 = vb[0] - va[0];</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <span class="keywordtype">float</span> dy0 = vb[2] - va[2];</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <span class="keywordtype">float</span> <a class="code" href="../../d9/d39/dtoa_8c.html#ade11f3df9cc63f54fa743250c646e270">d0</a> = dx0*dx0 + dy0*dy0;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/d39/dtoa_8c.html#ade11f3df9cc63f54fa743250c646e270">d0</a> &gt; 1e-6f)</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            <a class="code" href="../../d9/d39/dtoa_8c.html#ade11f3df9cc63f54fa743250c646e270">d0</a> = 1.0f/<a class="code" href="../../de/d78/_recast_8h.html#a27c978b5bf2b857ec501ebd86c4e5981">rcSqrt</a>(<a class="code" href="../../d9/d39/dtoa_8c.html#ade11f3df9cc63f54fa743250c646e270">d0</a>);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            dx0 *= <a class="code" href="../../d9/d39/dtoa_8c.html#ade11f3df9cc63f54fa743250c646e270">d0</a>;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;            dy0 *= <a class="code" href="../../d9/d39/dtoa_8c.html#ade11f3df9cc63f54fa743250c646e270">d0</a>;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        }</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <span class="keywordtype">float</span> dx1 = vc[0] - vb[0];</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <span class="keywordtype">float</span> dy1 = vc[2] - vb[2];</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="keywordtype">float</span> <a class="code" href="../../d9/d39/dtoa_8c.html#a1fe17aa2ff1722c937379044a27da68a">d1</a> = dx1*dx1 + dy1*dy1;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/d39/dtoa_8c.html#a1fe17aa2ff1722c937379044a27da68a">d1</a> &gt; 1e-6f)</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            <a class="code" href="../../d9/d39/dtoa_8c.html#a1fe17aa2ff1722c937379044a27da68a">d1</a> = 1.0f/<a class="code" href="../../de/d78/_recast_8h.html#a27c978b5bf2b857ec501ebd86c4e5981">rcSqrt</a>(<a class="code" href="../../d9/d39/dtoa_8c.html#a1fe17aa2ff1722c937379044a27da68a">d1</a>);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            dx1 *= <a class="code" href="../../d9/d39/dtoa_8c.html#a1fe17aa2ff1722c937379044a27da68a">d1</a>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            dy1 *= <a class="code" href="../../d9/d39/dtoa_8c.html#a1fe17aa2ff1722c937379044a27da68a">d1</a>;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> dlx0 = -dy0;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> dly0 = dx0;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> dlx1 = -dy1;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> dly1 = dx1;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <span class="keywordtype">float</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a81dbffac4ab63d0bd07aaf4cbdc5dd35">cross</a> = dx1*dy0 - dx0*dy1;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        <span class="keywordtype">float</span> dmx = (dlx0 + dlx1) * 0.5f;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="keywordtype">float</span> dmy = (dly0 + dly1) * 0.5f;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <span class="keywordtype">float</span> dmr2 = dmx*dmx + dmy*dmy;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <span class="keywordtype">bool</span> bevel = dmr2 * MITER_LIMIT*MITER_LIMIT &lt; 1.0f;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <span class="keywordflow">if</span> (dmr2 &gt; 1e-6f)</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        {</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">float</span> scale = 1.0f / dmr2;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            dmx *= scale;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            dmy *= scale;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        }</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160; </div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <span class="keywordflow">if</span> (bevel &amp;&amp; <a class="code" href="../../df/de2/namespace_g3_d.html#a81dbffac4ab63d0bd07aaf4cbdc5dd35">cross</a> &lt; 0.0f)</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        {</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            <span class="keywordflow">if</span> (n+2 &gt;= maxOutVerts)</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            <span class="keywordtype">float</span> <a class="code" href="../../d4/d71/namespacempq.html#a9fbd3a52049cfe1e11371096a422d94e">d</a> = (1.0f - (dx0*dx1 + dy0*dy1))*0.5f;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            outVerts[n*3+0] = vb[0] + (-dlx0+dx0*<a class="code" href="../../d4/d71/namespacempq.html#a9fbd3a52049cfe1e11371096a422d94e">d</a>)*offset;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            outVerts[n*3+1] = vb[1];</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;            outVerts[n*3+2] = vb[2] + (-dly0+dy0*<a class="code" href="../../d4/d71/namespacempq.html#a9fbd3a52049cfe1e11371096a422d94e">d</a>)*offset;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;            n++;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            outVerts[n*3+0] = vb[0] + (-dlx1-dx1*<a class="code" href="../../d4/d71/namespacempq.html#a9fbd3a52049cfe1e11371096a422d94e">d</a>)*offset;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            outVerts[n*3+1] = vb[1];</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            outVerts[n*3+2] = vb[2] + (-dly1-dy1*<a class="code" href="../../d4/d71/namespacempq.html#a9fbd3a52049cfe1e11371096a422d94e">d</a>)*offset;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            n++;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        }</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;            <span class="keywordflow">if</span> (n+1 &gt;= maxOutVerts)</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;            outVerts[n*3+0] = vb[0] - dmx*offset;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            outVerts[n*3+1] = vb[1];</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            outVerts[n*3+2] = vb[2] - dmy*offset;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            n++;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        }</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    }</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">return</span> n;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;}</div>
<div class="ttc" id="a_recast_8h_html_a27c978b5bf2b857ec501ebd86c4e5981"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a27c978b5bf2b857ec501ebd86c4e5981">rcSqrt</a></div><div class="ttdeci">float rcSqrt(float x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d01/_recast_8cpp_source.html#l00054">Recast.cpp:54</a></div></div>
<div class="ttc" id="adtoa_8c_html_a1fe17aa2ff1722c937379044a27da68a"><div class="ttname"><a href="../../d9/d39/dtoa_8c.html#a1fe17aa2ff1722c937379044a27da68a">d1</a></div><div class="ttdeci">#define d1</div></div>
<div class="ttc" id="adtoa_8c_html_ade11f3df9cc63f54fa743250c646e270"><div class="ttname"><a href="../../d9/d39/dtoa_8c.html#ade11f3df9cc63f54fa743250c646e270">d0</a></div><div class="ttdeci">#define d0</div></div>
<div class="ttc" id="anamespace_g3_d_html_a81dbffac4ab63d0bd07aaf4cbdc5dd35"><div class="ttname"><a href="../../df/de2/namespace_g3_d.html#a81dbffac4ab63d0bd07aaf4cbdc5dd35">G3D::cross</a></div><div class="ttdeci">Vector3 cross(const Vector3 &amp;v1, const Vector3 &amp;v2)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d0b/vector_math_8h_source.html#l00144">vectorMath.h:144</a></div></div>
<div class="ttc" id="anamespacempq_html_a9fbd3a52049cfe1e11371096a422d94e"><div class="ttname"><a href="../../d4/d71/namespacempq.html#a9fbd3a52049cfe1e11371096a422d94e">mpq.d</a></div><div class="ttdeci">d</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3e/mpq_8py_source.html#l00298">mpq.py:298</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d3e/mpq_8py_source.html#l00290">mpq::a</a>, <a class="el" href="../../df/d31/prof_8c_source.html#l00277">b</a>, <a class="el" href="../../d6/d3e/mpq_8py_source.html#l00295">mpq::c</a>, <a class="el" href="../../d3/d0b/vector_math_8h_source.html#l00144">G3D::cross()</a>, <a class="el" href="../../d6/d3e/mpq_8py_source.html#l00298">mpq::d</a>, <a class="el" href="../../d9/d39/dtoa_8c.html#ade11f3df9cc63f54fa743250c646e270">d0</a>, <a class="el" href="../../d9/d39/dtoa_8c.html#a1fe17aa2ff1722c937379044a27da68a">d1</a>, and <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00054">rcSqrt()</a>.</p>

</div>
</div>
<a id="ab7c6fdfd6d6d22da3b1e9229e745454d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7c6fdfd6d6d22da3b1e9229e745454d">&#9670;&nbsp;</a></span>rcRasterizeTriangle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> rcRasterizeTriangle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>v2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> unsigned char&#160;</td>
          <td class="paramname"><em>area</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a> &amp;&#160;</td>
          <td class="paramname"><em>solid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>flagMergeThr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Rasterizes a triangle into the specified heightfield.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>The build context to use during the operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">v0</td><td><a class="el" href="../../d5/d4f/struct_triangle.html">Triangle</a> vertex 0 [(x, y, z)] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">v1</td><td><a class="el" href="../../d5/d4f/struct_triangle.html">Triangle</a> vertex 1 [(x, y, z)] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">v2</td><td><a class="el" href="../../d5/d4f/struct_triangle.html">Triangle</a> vertex 2 [(x, y, z)] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">area</td><td>The area id of the triangle. [Limit: &lt;= <a class="el" href="../../de/d78/_recast_8h.html#a55c878bf81a2811829c8c5e491be41cb">RC_WALKABLE_AREA</a>] </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">solid</td><td>An initialized heightfield. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flagMergeThr</td><td>The distance where the walkable flag is favored over the non-walkable flag. [Limit: &gt;= 0] [Units: vx] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the operation completed successfully.</dd></dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<p>No spans will be added if the triangle does not overlap the heightfield grid.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d5e/_recast_rasterization_8cpp_source.html#l00342">342</a> of file <a class="el" href="../../d2/d5e/_recast_rasterization_8cpp_source.html">RecastRasterization.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;{</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <a class="code" href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a>(ctx);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a> timer(ctx, <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da3fa1b3fe84fd4f3624887a1fa38944e6">RC_TIMER_RASTERIZE_TRIANGLES</a>);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> ics = 1.0f/solid.<a class="code" href="../../dd/df7/structrc_heightfield.html#a3f28962585b2f726d809b1a86b925edb">cs</a>;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> ich = 1.0f/solid.<a class="code" href="../../dd/df7/structrc_heightfield.html#a23488349cb552d5410e29d089234effc">ch</a>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d5e/_recast_rasterization_8cpp.html#a8b7561b6e9315be79207708ac855f4c2">rasterizeTri</a>(v0, v1, v2, area, solid, solid.<a class="code" href="../../dd/df7/structrc_heightfield.html#a0158658d3487f7531364a84887fc2bce">bmin</a>, solid.<a class="code" href="../../dd/df7/structrc_heightfield.html#a4da9e52fc907522aae0364fad9e865f7">bmax</a>, solid.<a class="code" href="../../dd/df7/structrc_heightfield.html#a3f28962585b2f726d809b1a86b925edb">cs</a>, ics, ich, flagMergeThr))</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcRasterizeTriangle: Out of memory.&quot;</span>);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160; </div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;}</div>
<div class="ttc" id="a_recast_rasterization_8cpp_html_a8b7561b6e9315be79207708ac855f4c2"><div class="ttname"><a href="../../d2/d5e/_recast_rasterization_8cpp.html#a8b7561b6e9315be79207708ac855f4c2">rasterizeTri</a></div><div class="ttdeci">static bool rasterizeTri(const float *v0, const float *v1, const float *v2, const unsigned char area, rcHeightfield &amp;hf, const float *bmin, const float *bmax, const float cs, const float ics, const float ich, const int flagMergeThr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/_recast_rasterization_8cpp_source.html#l00241">RecastRasterization.cpp:241</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d78/_recast_8h_source.html#l00302">rcHeightfield::bmax</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00301">rcHeightfield::bmin</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00304">rcHeightfield::ch</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00303">rcHeightfield::cs</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00079">rcContext::log()</a>, <a class="el" href="../../d2/d5e/_recast_rasterization_8cpp_source.html#l00241">rasterizeTri()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00031">RC_LOG_ERROR</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00043">RC_TIMER_RASTERIZE_TRIANGLES</a>, and <a class="el" href="../../d1/db5/_recast_assert_8h_source.html#l00047">rcAssert</a>.</p>

</div>
</div>
<a id="a47a48413c347ca0d127939ceb92b9e8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47a48413c347ca0d127939ceb92b9e8b">&#9670;&nbsp;</a></span>rcRasterizeTriangles() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> rcRasterizeTriangles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>verts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>nv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int *&#160;</td>
          <td class="paramname"><em>tris</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> unsigned char *&#160;</td>
          <td class="paramname"><em>areas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>nt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a> &amp;&#160;</td>
          <td class="paramname"><em>solid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>flagMergeThr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Rasterizes an indexed triangle mesh into the specified heightfield.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>The build context to use during the operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">verts</td><td>The vertices. [(x, y, z) * <code>nv</code>] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nv</td><td>The number of vertices. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tris</td><td>The triangle indices. [(vertA, vertB, vertC) * <code>nt</code>] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">areas</td><td>The area id's of the triangles. [Limit: &lt;= <a class="el" href="../../de/d78/_recast_8h.html#a55c878bf81a2811829c8c5e491be41cb">RC_WALKABLE_AREA</a>] [Size: <code>nt</code>] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nt</td><td>The number of triangles. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">solid</td><td>An initialized heightfield. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flagMergeThr</td><td>The distance where the walkable flag is favored over the non-walkable flag. [Limit: &gt;= 0] [Units: vx] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the operation completed successfully.</dd></dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<p>Spans will only be added for triangles that overlap the heightfield grid.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d5e/_recast_rasterization_8cpp_source.html#l00366">366</a> of file <a class="el" href="../../d2/d5e/_recast_rasterization_8cpp_source.html">RecastRasterization.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;{</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <a class="code" href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a>(ctx);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <a class="code" href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a> timer(ctx, <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da3fa1b3fe84fd4f3624887a1fa38944e6">RC_TIMER_RASTERIZE_TRIANGLES</a>);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> ics = 1.0f/solid.<a class="code" href="../../dd/df7/structrc_heightfield.html#a3f28962585b2f726d809b1a86b925edb">cs</a>;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> ich = 1.0f/solid.<a class="code" href="../../dd/df7/structrc_heightfield.html#a23488349cb552d5410e29d089234effc">ch</a>;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="comment">// Rasterize triangles.</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nt; ++i)</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    {</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span>* v0 = &amp;verts[tris[i*3+0]*3];</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span>* v1 = &amp;verts[tris[i*3+1]*3];</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span>* v2 = &amp;verts[tris[i*3+2]*3];</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="comment">// Rasterize.</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d5e/_recast_rasterization_8cpp.html#a8b7561b6e9315be79207708ac855f4c2">rasterizeTri</a>(v0, v1, v2, areas[i], solid, solid.<a class="code" href="../../dd/df7/structrc_heightfield.html#a0158658d3487f7531364a84887fc2bce">bmin</a>, solid.<a class="code" href="../../dd/df7/structrc_heightfield.html#a4da9e52fc907522aae0364fad9e865f7">bmax</a>, solid.<a class="code" href="../../dd/df7/structrc_heightfield.html#a3f28962585b2f726d809b1a86b925edb">cs</a>, ics, ich, flagMergeThr))</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcRasterizeTriangles: Out of memory.&quot;</span>);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        }</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    }</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d78/_recast_8h_source.html#l00302">rcHeightfield::bmax</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00301">rcHeightfield::bmin</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00304">rcHeightfield::ch</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00303">rcHeightfield::cs</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00079">rcContext::log()</a>, <a class="el" href="../../d2/d5e/_recast_rasterization_8cpp_source.html#l00241">rasterizeTri()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00031">RC_LOG_ERROR</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00043">RC_TIMER_RASTERIZE_TRIANGLES</a>, and <a class="el" href="../../d1/db5/_recast_assert_8h_source.html#l00047">rcAssert</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00092">TileBuilder::BuildInstance()</a>, <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00542">MMAP::MapBuilder::buildMoveMapTile()</a>, and <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00219">TileBuilder::BuildTiled()</a>.</p>

</div>
</div>
<a id="a14cda2ed89768f84b73ea4339c36baaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14cda2ed89768f84b73ea4339c36baaf">&#9670;&nbsp;</a></span>rcRasterizeTriangles() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> rcRasterizeTriangles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>verts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>nv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> unsigned short *&#160;</td>
          <td class="paramname"><em>tris</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> unsigned char *&#160;</td>
          <td class="paramname"><em>areas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>nt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a> &amp;&#160;</td>
          <td class="paramname"><em>solid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>flagMergeThr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Rasterizes an indexed triangle mesh into the specified heightfield.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>The build context to use during the operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">verts</td><td>The vertices. [(x, y, z) * <code>nv</code>] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nv</td><td>The number of vertices. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tris</td><td>The triangle indices. [(vertA, vertB, vertC) * <code>nt</code>] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">areas</td><td>The area id's of the triangles. [Limit: &lt;= <a class="el" href="../../de/d78/_recast_8h.html#a55c878bf81a2811829c8c5e491be41cb">RC_WALKABLE_AREA</a>] [Size: <code>nt</code>] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nt</td><td>The number of triangles. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">solid</td><td>An initialized heightfield. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flagMergeThr</td><td>The distance where the walkable flag is favored over the non-walkable flag. [Limit: &gt;= 0] [Units: vx] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the operation completed successfully.</dd></dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<p>Spans will only be added for triangles that overlap the heightfield grid.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d5e/_recast_rasterization_8cpp_source.html#l00398">398</a> of file <a class="el" href="../../d2/d5e/_recast_rasterization_8cpp_source.html">RecastRasterization.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;{</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <a class="code" href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a>(ctx);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <a class="code" href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a> timer(ctx, <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da3fa1b3fe84fd4f3624887a1fa38944e6">RC_TIMER_RASTERIZE_TRIANGLES</a>);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> ics = 1.0f/solid.<a class="code" href="../../dd/df7/structrc_heightfield.html#a3f28962585b2f726d809b1a86b925edb">cs</a>;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> ich = 1.0f/solid.<a class="code" href="../../dd/df7/structrc_heightfield.html#a23488349cb552d5410e29d089234effc">ch</a>;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="comment">// Rasterize triangles.</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nt; ++i)</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    {</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span>* v0 = &amp;verts[tris[i*3+0]*3];</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span>* v1 = &amp;verts[tris[i*3+1]*3];</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span>* v2 = &amp;verts[tris[i*3+2]*3];</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="comment">// Rasterize.</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d5e/_recast_rasterization_8cpp.html#a8b7561b6e9315be79207708ac855f4c2">rasterizeTri</a>(v0, v1, v2, areas[i], solid, solid.<a class="code" href="../../dd/df7/structrc_heightfield.html#a0158658d3487f7531364a84887fc2bce">bmin</a>, solid.<a class="code" href="../../dd/df7/structrc_heightfield.html#a4da9e52fc907522aae0364fad9e865f7">bmax</a>, solid.<a class="code" href="../../dd/df7/structrc_heightfield.html#a3f28962585b2f726d809b1a86b925edb">cs</a>, ics, ich, flagMergeThr))</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcRasterizeTriangles: Out of memory.&quot;</span>);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        }</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    }</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160; </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d78/_recast_8h_source.html#l00302">rcHeightfield::bmax</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00301">rcHeightfield::bmin</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00304">rcHeightfield::ch</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00303">rcHeightfield::cs</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00079">rcContext::log()</a>, <a class="el" href="../../d2/d5e/_recast_rasterization_8cpp_source.html#l00241">rasterizeTri()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00031">RC_LOG_ERROR</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00043">RC_TIMER_RASTERIZE_TRIANGLES</a>, and <a class="el" href="../../d1/db5/_recast_assert_8h_source.html#l00047">rcAssert</a>.</p>

</div>
</div>
<a id="ac71006f719ddd462076d5a2ee3d447e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac71006f719ddd462076d5a2ee3d447e4">&#9670;&nbsp;</a></span>rcRasterizeTriangles() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/df6/my__global_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> rcRasterizeTriangles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d07/classrc_context.html">rcContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>verts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> unsigned char *&#160;</td>
          <td class="paramname"><em>areas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>nt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a> &amp;&#160;</td>
          <td class="paramname"><em>solid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td>
          <td class="paramname"><em>flagMergeThr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Rasterizes triangles into the specified heightfield.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>The build context to use during the operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">verts</td><td>The triangle vertices. [(ax, ay, az, bx, by, bz, cx, by, cx) * <code>nt</code>] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">areas</td><td>The area id's of the triangles. [Limit: &lt;= <a class="el" href="../../de/d78/_recast_8h.html#a55c878bf81a2811829c8c5e491be41cb">RC_WALKABLE_AREA</a>] [Size: <code>nt</code>] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nt</td><td>The number of triangles. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">solid</td><td>An initialized heightfield. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flagMergeThr</td><td>The distance where the walkable flag is favored over the non-walkable flag. [Limit: &gt;= 0] [Units: vx] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the operation completed successfully.</dd></dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<p>Spans will only be added for triangles that overlap the heightfield grid.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/df7/structrc_heightfield.html">rcHeightfield</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d5e/_recast_rasterization_8cpp_source.html#l00430">430</a> of file <a class="el" href="../../d2/d5e/_recast_rasterization_8cpp_source.html">RecastRasterization.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;{</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <a class="code" href="../../d1/db5/_recast_assert_8h.html#a857ec26f725d5a8d341fedca5a32f649">rcAssert</a>(ctx);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <a class="code" href="../../da/d2d/classrc_scoped_timer.html">rcScopedTimer</a> timer(ctx, <a class="code" href="../../de/d78/_recast_8h.html#a0d44e82cf0c9a0df344aaff8654ea18da3fa1b3fe84fd4f3624887a1fa38944e6">RC_TIMER_RASTERIZE_TRIANGLES</a>);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> ics = 1.0f/solid.<a class="code" href="../../dd/df7/structrc_heightfield.html#a3f28962585b2f726d809b1a86b925edb">cs</a>;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> ich = 1.0f/solid.<a class="code" href="../../dd/df7/structrc_heightfield.html#a23488349cb552d5410e29d089234effc">ch</a>;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="comment">// Rasterize triangles.</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nt; ++i)</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    {</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span>* v0 = &amp;verts[(i*3+0)*3];</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span>* v1 = &amp;verts[(i*3+1)*3];</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span>* v2 = &amp;verts[(i*3+2)*3];</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        <span class="comment">// Rasterize.</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d5e/_recast_rasterization_8cpp.html#a8b7561b6e9315be79207708ac855f4c2">rasterizeTri</a>(v0, v1, v2, areas[i], solid, solid.<a class="code" href="../../dd/df7/structrc_heightfield.html#a0158658d3487f7531364a84887fc2bce">bmin</a>, solid.<a class="code" href="../../dd/df7/structrc_heightfield.html#a4da9e52fc907522aae0364fad9e865f7">bmax</a>, solid.<a class="code" href="../../dd/df7/structrc_heightfield.html#a3f28962585b2f726d809b1a86b925edb">cs</a>, ics, ich, flagMergeThr))</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            ctx-&gt;<a class="code" href="../../da/d07/classrc_context.html#ae3cc278477b1b923d03ea50e3ae96013">log</a>(<a class="code" href="../../de/d78/_recast_8h.html#a82cf824a1948a8442785a7ea184f410ba50cefdab02ef964b5f5ba6093752eea9">RC_LOG_ERROR</a>, <span class="stringliteral">&quot;rcRasterizeTriangles: Out of memory.&quot;</span>);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        }</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    }</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d78/_recast_8h_source.html#l00302">rcHeightfield::bmax</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00301">rcHeightfield::bmin</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00304">rcHeightfield::ch</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00303">rcHeightfield::cs</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00079">rcContext::log()</a>, <a class="el" href="../../d2/d5e/_recast_rasterization_8cpp_source.html#l00241">rasterizeTri()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00031">RC_LOG_ERROR</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00043">RC_TIMER_RASTERIZE_TRIANGLES</a>, and <a class="el" href="../../d1/db5/_recast_assert_8h_source.html#l00047">rcAssert</a>.</p>

</div>
</div>
<a id="a4a51a79ddfd8787740ca1b62359c5874"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a51a79ddfd8787740ca1b62359c5874">&#9670;&nbsp;</a></span>rcSetCon()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rcSetCon </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/dce/structrc_compact_span.html">rcCompactSpan</a> &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets the neighbor connection data for the specified direction. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>The span to update. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dir</td><td>The direction to set. [Limits: 0 &lt;= value &lt; 4] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">i</td><td>The index of the neighbor span. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l01068">1068</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;{</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> shift = (<span class="keywordtype">unsigned</span> int)dir*6;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> con = s.<a class="code" href="../../de/dce/structrc_compact_span.html#ac01d1dafd150efc71de4ee671edb8539">con</a>;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    s.<a class="code" href="../../de/dce/structrc_compact_span.html#ac01d1dafd150efc71de4ee671edb8539">con</a> = (con &amp; ~(0x3f &lt;&lt; shift)) | (((<span class="keywordtype">unsigned</span> int)i &amp; 0x3f) &lt;&lt; shift);</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d78/_recast_8h_source.html#l00327">rcCompactSpan::con</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00415">rcBuildCompactHeightfield()</a>.</p>

</div>
</div>
<a id="a9c26528d4e9f1c67f9a44c37462fd8fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c26528d4e9f1c67f9a44c37462fd8fd">&#9670;&nbsp;</a></span>rcSqr()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T rcSqr </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the square of the value. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>The value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The square of the value. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00628">628</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../d4/d71/namespacempq.html#ae78cc6206276c5d8a54a7b181bcd4f8d">a</a>*<a class="code" href="../../d4/d71/namespacempq.html#ae78cc6206276c5d8a54a7b181bcd4f8d">a</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d3e/mpq_8py_source.html#l00290">mpq::a</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00542">MMAP::MapBuilder::buildMoveMapTile()</a>, <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00638">buildPolyDetail()</a>, <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l01141">getEdgeFlags()</a>, and <a class="el" href="../../de/d78/_recast_8h_source.html#l00756">rcVnormalize()</a>.</p>

</div>
</div>
<a id="a27c978b5bf2b857ec501ebd86c4e5981"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27c978b5bf2b857ec501ebd86c4e5981">&#9670;&nbsp;</a></span>rcSqrt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float rcSqrt </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the square root of the value. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>The value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The square root of the vlaue. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00054">54</a> of file <a class="el" href="../../d3/d01/_recast_8cpp_source.html">Recast.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;{</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordflow">return</span> sqrtf(<a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d14/_vector2int16_8h_source.html#l00037">G3D::x</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00536">polyMinExtent()</a>, <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html#l00446">rcOffsetPoly()</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00734">rcVdist()</a>, and <a class="el" href="../../de/d78/_recast_8h_source.html#l00756">rcVnormalize()</a>.</p>

</div>
</div>
<a id="a2b7d8e54f72e8918a8b19c73eedf2d46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b7d8e54f72e8918a8b19c73eedf2d46">&#9670;&nbsp;</a></span>rcSwap()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rcSwap </td>
          <td>(</td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Swaps the values of the two parameters. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">a</td><td>Value A </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">b</td><td>Value B </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00606">606</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;{ T t = <a class="code" href="../../d4/d71/namespacempq.html#ae78cc6206276c5d8a54a7b181bcd4f8d">a</a>; <a class="code" href="../../d4/d71/namespacempq.html#ae78cc6206276c5d8a54a7b181bcd4f8d">a</a> = <a class="code" href="../../df/d31/prof_8c.html#a3fca4d23183335e3d46f507d28e94e8b">b</a>; <a class="code" href="../../df/d31/prof_8c.html#a3fca4d23183335e3d46f507d28e94e8b">b</a> = t; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d3e/mpq_8py_source.html#l00290">mpq::a</a>, and <a class="el" href="../../df/d31/prof_8c_source.html#l00277">b</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00638">buildPolyDetail()</a>, <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html#l00564">canRemoveVertex()</a>, <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html#l00467">getPolyMergeValue()</a>, <a class="el" href="../../d2/d5e/_recast_rasterization_8cpp_source.html#l00241">rasterizeTri()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01254">rcBuildDistanceField()</a>, <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00883">seedArrayWithPolyCenter()</a>, and <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00210">simplifyContour()</a>.</p>

</div>
</div>
<a id="ac291c13507720ed59b046c7730d1cee7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac291c13507720ed59b046c7730d1cee7">&#9670;&nbsp;</a></span>rcVadd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rcVadd </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>v2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Performs a vector addition. (<code>v1</code> + <code>v2</code>) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">dest</td><td>The result vector. [(x, y, z)] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">v1</td><td>The base vector. [(x, y, z)] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">v2</td><td>The vector to add to <code>v1</code>. [(x, y, z)] </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00682">682</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;{</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    dest[0] = v1[0]+v2[0];</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    dest[1] = v1[1]+v2[1];</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    dest[2] = v1[2]+v2[2];</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00067">circumCircle()</a>.</p>

</div>
</div>
<a id="a9cbb34310e47a6def133a4b533d073ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cbb34310e47a6def133a4b533d073ea">&#9670;&nbsp;</a></span>rcVcopy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rcVcopy </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Performs a vector copy. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">dest</td><td>The result. [(x, y, z)] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">v</td><td>The vector to copy. [(x, y, z)] </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00723">723</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;{</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    dest[0] = v[0];</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    dest[1] = v[1];</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    dest[2] = v[2];</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d5/d2d/_continent_builder_8cpp_source.html#l00116">ContinentBuilder::Build()</a>, <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00092">TileBuilder::BuildInstance()</a>, <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00542">MMAP::MapBuilder::buildMoveMapTile()</a>, <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00467">MMAP::MapBuilder::buildNavMesh()</a>, <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00638">buildPolyDetail()</a>, <a class="el" href="../../d9/d77/_tile_builder_8cpp_source.html#l00219">TileBuilder::BuildTiled()</a>, <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00067">circumCircle()</a>, <a class="el" href="../../d2/d5e/_recast_rasterization_8cpp_source.html#l00184">dividePoly()</a>, <a class="el" href="../../d2/d5e/_recast_rasterization_8cpp_source.html#l00241">rasterizeTri()</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00415">rcBuildCompactHeightfield()</a>, <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00824">rcBuildContours()</a>, <a class="el" href="../../d3/d20/_recast_layers_8cpp_source.html#l00092">rcBuildHeightfieldLayers()</a>, <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html#l00992">rcBuildPolyMesh()</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00274">rcCalcBounds()</a>, <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html#l01489">rcCopyPolyMesh()</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00298">rcCreateHeightfield()</a>, <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html#l00381">rcMarkConvexPolyArea()</a>, <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l01390">rcMergePolyMeshDetails()</a>, and <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html#l01311">rcMergePolyMeshes()</a>.</p>

</div>
</div>
<a id="a374fcf43c2ade76f195d3089b6964833"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a374fcf43c2ade76f195d3089b6964833">&#9670;&nbsp;</a></span>rcVcross()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rcVcross </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>v2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Derives the cross product of two vectors. (<code>v1</code> x <code>v2</code>) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">dest</td><td>The cross product. [(x, y, z)] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">v1</td><td>A Vector [(x, y, z)] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">v2</td><td>A vector [(x, y, z)] </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00650">650</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;{</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    dest[0] = v1[1]*v2[2] - v1[2]*v2[1];</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    dest[1] = v1[2]*v2[0] - v1[0]*v2[2];</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    dest[2] = v1[0]*v2[1] - v1[1]*v2[0];</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00317">calcTriNormal()</a>.</p>

</div>
</div>
<a id="a0d790d74c5ca7363ba1c0cddc9d2d896"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d790d74c5ca7363ba1c0cddc9d2d896">&#9670;&nbsp;</a></span>rcVdist()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float rcVdist </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>v2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the distance between two points. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">v1</td><td>A point. [(x, y, z)] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">v2</td><td>A point. [(x, y, z)] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The distance between the two points. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00734">734</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;{</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="keywordtype">float</span> dx = v2[0] - v1[0];</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="keywordtype">float</span> dy = v2[1] - v1[1];</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordtype">float</span> dz = v2[2] - v1[2];</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../de/d78/_recast_8h.html#a27c978b5bf2b857ec501ebd86c4e5981">rcSqrt</a>(dx*dx + dy*dy + dz*dz);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00054">rcSqrt()</a>.</p>

</div>
</div>
<a id="aa30870674c29a9777390a289bf862163"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa30870674c29a9777390a289bf862163">&#9670;&nbsp;</a></span>rcVdistSqr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float rcVdistSqr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>v2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the square of the distance between two points. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">v1</td><td>A point. [(x, y, z)] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">v2</td><td>A point. [(x, y, z)] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The square of the distance between the two points. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00746">746</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;{</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="keywordtype">float</span> dx = v2[0] - v1[0];</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordtype">float</span> dy = v2[1] - v1[1];</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordtype">float</span> dz = v2[2] - v1[2];</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordflow">return</span> dx*dx + dy*dy + dz*dz;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0c946b3f2523d0dfb776fc393387279f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c946b3f2523d0dfb776fc393387279f">&#9670;&nbsp;</a></span>rcVdot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float rcVdot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>v2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Derives the dot product of two vectors. (<code>v1</code> . <code>v2</code>) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">v1</td><td>A Vector [(x, y, z)] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">v2</td><td>A vector [(x, y, z)] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The dot product. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00661">661</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;{</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordflow">return</span> v1[0]*v2[0] + v1[1]*v2[1] + v1[2]*v2[2];</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1a400b0467856a9ab0cbcd8a695484e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a400b0467856a9ab0cbcd8a695484e0">&#9670;&nbsp;</a></span>rcVmad()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rcVmad </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>v2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float&#160;</td>
          <td class="paramname"><em>s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Performs a scaled vector addition. (<code>v1</code> + (<code>v2</code> * <code>s</code>)) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">dest</td><td>The result vector. [(x, y, z)] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">v1</td><td>The base vector. [(x, y, z)] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">v2</td><td>The vector to scale and add to <code>v1</code>. [(x, y, z)] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>The amount to scale <code>v2</code> by before adding to <code>v1</code>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00671">671</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;{</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    dest[0] = v1[0]+v2[0]*s;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    dest[1] = v1[1]+v2[1]*s;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    dest[2] = v1[2]+v2[2]*s;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5033980308619575a48cef8f497af3cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5033980308619575a48cef8f497af3cf">&#9670;&nbsp;</a></span>rcVmax()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rcVmax </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>mx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Selects the maximum value of each element from the specified vectors. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">mx</td><td>A vector. (Will be updated with the result.) [(x, y, z)] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">v</td><td>A vector. [(x, y, z)] </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00713">713</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;{</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    mx[0] = <a class="code" href="../../de/d78/_recast_8h.html#accb921a8353da3a74aa90a491aff74c8">rcMax</a>(mx[0], v[0]);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    mx[1] = <a class="code" href="../../de/d78/_recast_8h.html#accb921a8353da3a74aa90a491aff74c8">rcMax</a>(mx[1], v[1]);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    mx[2] = <a class="code" href="../../de/d78/_recast_8h.html#accb921a8353da3a74aa90a491aff74c8">rcMax</a>(mx[2], v[2]);</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d78/_recast_8h_source.html#l00618">rcMax()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00638">buildPolyDetail()</a>, <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00215">MMAP::MapBuilder::getGridBounds()</a>, <a class="el" href="../../d2/d5e/_recast_rasterization_8cpp_source.html#l00241">rasterizeTri()</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00274">rcCalcBounds()</a>, <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html#l00381">rcMarkConvexPolyArea()</a>, and <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html#l01311">rcMergePolyMeshes()</a>.</p>

</div>
</div>
<a id="ab49a84d90945782df879b0c7e84239db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab49a84d90945782df879b0c7e84239db">&#9670;&nbsp;</a></span>rcVmin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rcVmin </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>mn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Selects the minimum value of each element from the specified vectors. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">mn</td><td>A vector. (Will be updated with the result.) [(x, y, z)] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">v</td><td>A vector. [(x, y, z)] </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00703">703</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;{</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    mn[0] = <a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>(mn[0], v[0]);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    mn[1] = <a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>(mn[1], v[1]);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    mn[2] = <a class="code" href="../../de/d78/_recast_8h.html#aac83e8b749d8fed2164e00e7e0f43687">rcMin</a>(mn[2], v[2]);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d78/_recast_8h_source.html#l00612">rcMin()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00638">buildPolyDetail()</a>, <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00215">MMAP::MapBuilder::getGridBounds()</a>, <a class="el" href="../../d2/d5e/_recast_rasterization_8cpp_source.html#l00241">rasterizeTri()</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00274">rcCalcBounds()</a>, <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html#l00381">rcMarkConvexPolyArea()</a>, and <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html#l01311">rcMergePolyMeshes()</a>.</p>

</div>
</div>
<a id="adad36d3a913091d1288e386192c3c6ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adad36d3a913091d1288e386192c3c6ab">&#9670;&nbsp;</a></span>rcVnormalize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rcVnormalize </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>v</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Normalizes the vector. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">v</td><td>The vector to normalize. [(x, y, z)] </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00756">756</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;{</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d4/d71/namespacempq.html#a9fbd3a52049cfe1e11371096a422d94e">d</a> = 1.0f / <a class="code" href="../../de/d78/_recast_8h.html#a27c978b5bf2b857ec501ebd86c4e5981">rcSqrt</a>(<a class="code" href="../../de/d78/_recast_8h.html#a9c26528d4e9f1c67f9a44c37462fd8fd">rcSqr</a>(v[0]) + <a class="code" href="../../de/d78/_recast_8h.html#a9c26528d4e9f1c67f9a44c37462fd8fd">rcSqr</a>(v[1]) + <a class="code" href="../../de/d78/_recast_8h.html#a9c26528d4e9f1c67f9a44c37462fd8fd">rcSqr</a>(v[2]));</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    v[0] *= <a class="code" href="../../d4/d71/namespacempq.html#a9fbd3a52049cfe1e11371096a422d94e">d</a>;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    v[1] *= <a class="code" href="../../d4/d71/namespacempq.html#a9fbd3a52049cfe1e11371096a422d94e">d</a>;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    v[2] *= <a class="code" href="../../d4/d71/namespacempq.html#a9fbd3a52049cfe1e11371096a422d94e">d</a>;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;}</div>
<div class="ttc" id="a_recast_8h_html_a9c26528d4e9f1c67f9a44c37462fd8fd"><div class="ttname"><a href="../../de/d78/_recast_8h.html#a9c26528d4e9f1c67f9a44c37462fd8fd">rcSqr</a></div><div class="ttdeci">T rcSqr(T a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d78/_recast_8h_source.html#l00628">Recast.h:628</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d3e/mpq_8py_source.html#l00298">mpq::d</a>, <a class="el" href="../../de/d78/_recast_8h_source.html#l00628">rcSqr()</a>, and <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00054">rcSqrt()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00317">calcTriNormal()</a>.</p>

</div>
</div>
<a id="a5d171a02fc4cda0b829b6ff7a4793376"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d171a02fc4cda0b829b6ff7a4793376">&#9670;&nbsp;</a></span>rcVsub()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rcVsub </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float *&#160;</td>
          <td class="paramname"><em>v2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Performs a vector subtraction. (<code>v1</code> - <code>v2</code>) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">dest</td><td>The result vector. [(x, y, z)] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">v1</td><td>The base vector. [(x, y, z)] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">v2</td><td>The vector to subtract from <code>v1</code>. [(x, y, z)] </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00693">693</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;{</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    dest[0] = v1[0]-v2[0];</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    dest[1] = v1[1]-v2[1];</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    dest[2] = v1[2]-v2[2];</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00317">calcTriNormal()</a>, <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00067">circumCircle()</a>, and <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00096">distPtTri()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a55bb146cbd1c0ec0e06ca8e90dd5b7bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55bb146cbd1c0ec0e06ca8e90dd5b7bc">&#9670;&nbsp;</a></span>RC_AREA_BORDER</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int RC_AREA_BORDER = 0x20000</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Area border flag. If a region ID has this bit set, then the associated element lies on the border of an area. (Used during the region and contour build process.) </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/dce/structrc_compact_span.html#aca1a16c8453c9533120c094979601d77" title="The id of the region the span belongs to. (Or zero if not in a region.)">rcCompactSpan::reg</a>, <a class="el" href="../../df/d2c/structrc_contour.html#aa544ceef431b5fc5b3a6087e4b2fc53c" title="Simplified contour vertex and connection data. [Size: 4 * nverts].">rcContour::verts</a>, <a class="el" href="../../df/d2c/structrc_contour.html#a59d014e6645850ab944767d427139996" title="Raw contour vertex and connection data. [Size: 4 * nrverts].">rcContour::rverts</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00560">560</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00210">simplifyContour()</a>, and <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00104">walkContour()</a>.</p>

</div>
</div>
<a id="ac47ca685874fce67f50bd580ef1e0497"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac47ca685874fce67f50bd580ef1e0497">&#9670;&nbsp;</a></span>RC_BORDER_REG</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> unsigned short RC_BORDER_REG = 0x8000</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Heighfield border flag. If a heightfield region ID has this bit set, then the region is a border region and its spans are considered unwalkable. (Used during the region and contour build process.) </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/dce/structrc_compact_span.html#aca1a16c8453c9533120c094979601d77" title="The id of the region the span belongs to. (Or zero if not in a region.)">rcCompactSpan::reg</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00536">536</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00362">expandRegions()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00253">floodRegion()</a>, <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00029">getCornerHeight()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01044">mergeAndFilterLayerRegions()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00789">mergeAndFilterRegions()</a>, <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00824">rcBuildContours()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01662">rcBuildLayerRegions()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01526">rcBuildRegions()</a>, and <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01353">rcBuildRegionsMonotone()</a>.</p>

</div>
</div>
<a id="a8b57de86c98abbad39cce7df7c0aa1f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b57de86c98abbad39cce7df7c0aa1f8">&#9670;&nbsp;</a></span>RC_BORDER_VERTEX</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int RC_BORDER_VERTEX = 0x10000</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Border vertex flag. If a region ID has this bit set, then the associated element lies on a tile border. If a contour vertex's region ID has this bit set, the vertex will later be removed in order to match the segments and vertices at tile boundaries. (Used during the build process.) </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/dce/structrc_compact_span.html#aca1a16c8453c9533120c094979601d77" title="The id of the region the span belongs to. (Or zero if not in a region.)">rcCompactSpan::reg</a>, <a class="el" href="../../df/d2c/structrc_contour.html#aa544ceef431b5fc5b3a6087e4b2fc53c" title="Simplified contour vertex and connection data. [Size: 4 * nverts].">rcContour::verts</a>, <a class="el" href="../../df/d2c/structrc_contour.html#a59d014e6645850ab944767d427139996" title="Raw contour vertex and connection data. [Size: 4 * nrverts].">rcContour::rverts</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00553">553</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html#l00992">rcBuildPolyMesh()</a>, <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00210">simplifyContour()</a>, and <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00104">walkContour()</a>.</p>

</div>
</div>
<a id="a86c6c9df2df0402a9d026fb9603fb02b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86c6c9df2df0402a9d026fb9603fb02b">&#9670;&nbsp;</a></span>RC_CONTOUR_REG_MASK</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int RC_CONTOUR_REG_MASK = 0xffff</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Applied to the region id field of contour vertices in order to extract the region id. The region id field of a vertex may have several flags applied to it. So the fields value can't be used directly. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../df/d2c/structrc_contour.html#aa544ceef431b5fc5b3a6087e4b2fc53c" title="Simplified contour vertex and connection data. [Size: 4 * nverts].">rcContour::verts</a>, <a class="el" href="../../df/d2c/structrc_contour.html#a59d014e6645850ab944767d427139996" title="Raw contour vertex and connection data. [Size: 4 * nrverts].">rcContour::rverts</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00574">574</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00210">simplifyContour()</a>.</p>

</div>
</div>
<a id="a66e1b0e59a450182b5551eb12e68fcfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66e1b0e59a450182b5551eb12e68fcfe">&#9670;&nbsp;</a></span>RC_MESH_NULL_IDX</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> unsigned short RC_MESH_NULL_IDX = 0xffff</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>An value which indicates an invalid index within a mesh. </p><dl class="section note"><dt>Note</dt><dd>This does not necessarily indicate an error. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../df/d75/structrc_poly_mesh.html#ab7458680db9fe833bd86ced5f7c28308" title="Polygon and neighbor data. [Length: maxpolys * 2 * nvp].">rcPolyMesh::polys</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00579">579</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html#l00034">buildMeshAdjacency()</a>, <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html#l00453">countPolyVerts()</a>, <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html#l00992">rcBuildPolyMesh()</a>, <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l01171">rcBuildPolyMeshDetail()</a>, and <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html#l01311">rcMergePolyMeshes()</a>.</p>

</div>
</div>
<a id="abf6ad8971b152bddbd9c1b1e1e256cc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf6ad8971b152bddbd9c1b1e1e256cc3">&#9670;&nbsp;</a></span>RC_MULTIPLE_REGS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> unsigned short RC_MULTIPLE_REGS = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Polygon touches multiple regions. If a polygon has this region ID it was merged with or created from polygons of different regions during the polymesh build step that removes redundant border vertices. (Used during the polymesh and detail polymesh build processes) </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../df/d75/structrc_poly_mesh.html#a9ae584e99de152fb89d957d43b7becd8" title="The region id assigned to each polygon. [Length: maxpolys].">rcPolyMesh::regs</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00544">544</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l01024">getHeightData()</a>, and <a class="el" href="../../d9/dbf/_recast_mesh_8cpp_source.html#l00666">removeVertex()</a>.</p>

</div>
</div>
<a id="a64354aff947c2d8040e39bb4ceaf1a9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64354aff947c2d8040e39bb4ceaf1a9f">&#9670;&nbsp;</a></span>RC_NOT_CONNECTED</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int RC_NOT_CONNECTED = 0x3f</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The value returned by <a class="el" href="../../de/d78/_recast_8h.html#a862229e50c96b6b157b0ad7eac980b3c">rcGetCon</a> if the specified direction is not connected to another span. (Has no neighbor.) </p>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00593">593</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00193">boxBlur()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00040">calculateDistanceField()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00362">expandRegions()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00253">floodRegion()</a>, <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00029">getCornerHeight()</a>, <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l01024">getHeightData()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00683">isSolidEdge()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01044">mergeAndFilterLayerRegions()</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00415">rcBuildCompactHeightfield()</a>, <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00824">rcBuildContours()</a>, <a class="el" href="../../d3/d20/_recast_layers_8cpp_source.html#l00092">rcBuildHeightfieldLayers()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01662">rcBuildLayerRegions()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01353">rcBuildRegionsMonotone()</a>, <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html#l00037">rcErodeWalkableArea()</a>, <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html#l00239">rcMedianFilterWalkableArea()</a>, <a class="el" href="../../da/ded/_recast_mesh_detail_8cpp_source.html#l00883">seedArrayWithPolyCenter()</a>, and <a class="el" href="../../de/d0e/_recast_contour_8cpp_source.html#l00104">walkContour()</a>.</p>

</div>
</div>
<a id="a5105dbfb2d2bf8aa69122db502d0e39e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5105dbfb2d2bf8aa69122db502d0e39e">&#9670;&nbsp;</a></span>RC_NULL_AREA</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> unsigned char RC_NULL_AREA = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Represents the null area. When a data element is given this value it is considered to no longer be assigned to a usable area. (E.g. It is unwalkable.) </p>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00584">584</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00362">expandRegions()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01305">paintRectRegion()</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00415">rcBuildCompactHeightfield()</a>, <a class="el" href="../../d3/d20/_recast_layers_8cpp_source.html#l00092">rcBuildHeightfieldLayers()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01662">rcBuildLayerRegions()</a>, <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l01353">rcBuildRegionsMonotone()</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00364">rcClearUnwalkableTriangles()</a>, <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html#l00037">rcErodeWalkableArea()</a>, <a class="el" href="../../d8/d13/_recast_filter_8cpp_source.html#l00082">rcFilterLedgeSpans()</a>, <a class="el" href="../../d8/d13/_recast_filter_8cpp_source.html#l00036">rcFilterLowHangingWalkableObstacles()</a>, <a class="el" href="../../d8/d13/_recast_filter_8cpp_source.html#l00177">rcFilterWalkableLowHeightSpans()</a>, <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00385">rcGetHeightFieldSpanCount()</a>, <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html#l00316">rcMarkBoxArea()</a>, <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html#l00381">rcMarkConvexPolyArea()</a>, <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html#l00529">rcMarkCylinderArea()</a>, <a class="el" href="../../d7/d85/_recast_area_8cpp_source.html#l00239">rcMedianFilterWalkableArea()</a>, and <a class="el" href="../../d0/d84/_recast_region_8cpp_source.html#l00471">sortCellsByLevel()</a>.</p>

</div>
</div>
<a id="ac784d579fcb90e51ba0ea98fd529e5ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac784d579fcb90e51ba0ea98fd529e5ed">&#9670;&nbsp;</a></span>RC_PI</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float RC_PI = 3.14159265<a class="el" href="../../d5/dfc/stack__direction_8c.html#a163af97e64bb0d7abc2c0b18e6210367">f</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The value of PI used by Recast. </p>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00023">23</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00364">rcClearUnwalkableTriangles()</a>, and <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00334">rcMarkWalkableTriangles()</a>.</p>

</div>
</div>
<a id="a70b5ff22f9acea41e961ee7ea4f7300f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70b5ff22f9acea41e961ee7ea4f7300f">&#9670;&nbsp;</a></span>RC_SPAN_HEIGHT_BITS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int RC_SPAN_HEIGHT_BITS = 16</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Defines the number of bits allocated to <a class="el" href="../../dc/d1d/structrc_span.html#aba70c34dc95c49c4b3142b7d9ca9d359" title="The lower limit of the span. [Limit: &lt; smax].">rcSpan::smin</a> and <a class="el" href="../../dc/d1d/structrc_span.html#a6bca504828087023719794cce9a5f0ab" title="The upper limit of the span. [Limit: &lt;= RC_SPAN_MAX_HEIGHT].">rcSpan::smax</a>. </p>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00266">266</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>

</div>
</div>
<a id="a29fe08410353b3b0dfdf777303750b43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29fe08410353b3b0dfdf777303750b43">&#9670;&nbsp;</a></span>RC_SPAN_MAX_HEIGHT</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int RC_SPAN_MAX_HEIGHT = (1 &lt;&lt; <a class="el" href="../../de/d78/_recast_8h.html#a70b5ff22f9acea41e961ee7ea4f7300f">RC_SPAN_HEIGHT_BITS</a>) - 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Defines the maximum value for <a class="el" href="../../dc/d1d/structrc_span.html#aba70c34dc95c49c4b3142b7d9ca9d359" title="The lower limit of the span. [Limit: &lt; smax].">rcSpan::smin</a> and <a class="el" href="../../dc/d1d/structrc_span.html#a6bca504828087023719794cce9a5f0ab" title="The upper limit of the span. [Limit: &lt;= RC_SPAN_MAX_HEIGHT].">rcSpan::smax</a>. </p>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00268">268</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d5e/_recast_rasterization_8cpp_source.html#l00241">rasterizeTri()</a>.</p>

</div>
</div>
<a id="a55acc4ef20d0b0507e2c6fee696ecf5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55acc4ef20d0b0507e2c6fee696ecf5e">&#9670;&nbsp;</a></span>RC_SPANS_PER_POOL</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int RC_SPANS_PER_POOL = 2048</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The number of spans allocated per span spool. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../df/d77/structrc_span_pool.html">rcSpanPool</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00272">272</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d5e/_recast_rasterization_8cpp_source.html#l00044">allocSpan()</a>.</p>

</div>
</div>
<a id="a55c878bf81a2811829c8c5e491be41cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55c878bf81a2811829c8c5e491be41cb">&#9670;&nbsp;</a></span>RC_WALKABLE_AREA</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d95/zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> unsigned char RC_WALKABLE_AREA = 63</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The default area id used to indicate a walkable polygon. This is also the maximum allowed area id, and the only non-null area id recognized by some steps in the build process. <br  />
 </p>

<p class="definition">Definition at line <a class="el" href="../../de/d78/_recast_8h_source.html#l00589">589</a> of file <a class="el" href="../../de/d78/_recast_8h_source.html">Recast.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd6/_map_builder_8cpp_source.html#l00542">MMAP::MapBuilder::buildMoveMapTile()</a>, and <a class="el" href="../../d3/d01/_recast_8cpp_source.html#l00334">rcMarkWalkableTriangles()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
