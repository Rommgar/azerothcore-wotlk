<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Azerotcore-wotlk: src/server/game/Entities/Player/PlayerMisc.cpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Azerotcore-wotlk
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_075bb3ff235063c77951cd176d15a741.html">server</a></li><li class="navelem"><a class="el" href="../../dir_6f9eed72e6ac35fa9b9946c34be827b2.html">game</a></li><li class="navelem"><a class="el" href="../../dir_ef5a2a8c88ba4298ea6498713c5f8f32.html">Entities</a></li><li class="navelem"><a class="el" href="../../dir_f3bd1c46f8b01b31a11b6187b59f6126.html">Player</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">PlayerMisc.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d2/d7b/_player_misc_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * This file is part of the AzerothCore Project. See AUTHORS file for Copyright information</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * This program is free software; you can redistribute it and/or modify it</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * under the terms of the GNU Affero General Public License as published by the</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * Free Software Foundation; either version 3 of the License, or (at your</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * option) any later version.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * This program is distributed in the hope that it will be useful, but WITHOUT</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * more details.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License along</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; </div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/dca/_map_mgr_8h.html">MapMgr.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d39/_player_8h.html">Player.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/d7d/_script_mgr_8h.html">ScriptMgr.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">/*********************************************************/</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">/***               FLOOD FILTER SYSTEM                 ***/</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">/*********************************************************/</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#ab02cea70b3ffda8e2cab9c6972a649de">   26</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#ab02cea70b3ffda8e2cab9c6972a649de">Player::UpdateSpeakTime</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> specialMessageLimit)</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;{</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="comment">// ignore chat spam protection for GMs in any mode</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../df/d1b/namespace_account_mgr.html#a63751f144cb7acb57fc20f0caf5e7043">AccountMgr::IsPlayerAccount</a>(<a class="code" href="../../d8/d53/class_player.html#a1c212b8f9ae8b1a38a41f9c7db005dca">GetSession</a>()-&gt;<a class="code" href="../../df/d1b/namespace_account_mgr.html#a8280510b2564ec6ea76727218c1687b3">GetSecurity</a>()))</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    time_t current = time (<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#a80b52d62bc948d41cd21f201ace22aac">m_speakTime</a> &gt; current)</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    {</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> max_count = specialMessageLimit ? specialMessageLimit : <a class="code" href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code" href="../../d2/d80/_i_world_8h.html#a17aac4c166ebe43e3b8fdccf9e012e41aea0f00dd08cdcb4353400106dafbe5f4">CONFIG_CHATFLOOD_MESSAGE_COUNT</a>);</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <span class="keywordflow">if</span> (!max_count)</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        ++<a class="code" href="../../d8/d53/class_player.html#a2ff889ab3397371394a716de7fd207f5">m_speakCount</a>;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#a2ff889ab3397371394a716de7fd207f5">m_speakCount</a> &gt;= max_count)</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;            <span class="comment">// prevent overwrite mute time, if message send just before mutes set, for example.</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;            time_t new_mute = current + <a class="code" href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code" href="../../d2/d80/_i_world_8h.html#a17aac4c166ebe43e3b8fdccf9e012e41a24f06431795abdafbd914894a2d48bb0">CONFIG_CHATFLOOD_MUTE_TIME</a>);</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#a1c212b8f9ae8b1a38a41f9c7db005dca">GetSession</a>()-&gt;m_muteTime &lt; new_mute)</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                <a class="code" href="../../d8/d53/class_player.html#a1c212b8f9ae8b1a38a41f9c7db005dca">GetSession</a>()-&gt;<a class="code" href="../../d1/d47/class_world_session.html#add117187a32a871148dfadd7e4526e81">m_muteTime</a> = new_mute;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;            <a class="code" href="../../d8/d53/class_player.html#a2ff889ab3397371394a716de7fd207f5">m_speakCount</a> = 0;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        }</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    }</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a2ff889ab3397371394a716de7fd207f5">m_speakCount</a> = 1;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a80b52d62bc948d41cd21f201ace22aac">m_speakTime</a> = current + <a class="code" href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code" href="../../d2/d80/_i_world_8h.html#a17aac4c166ebe43e3b8fdccf9e012e41ac52a3f49e57d4b119cd85e7c7db8bc68">CONFIG_CHATFLOOD_MESSAGE_DELAY</a>);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;}</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a02ed847754aaf3aecf7294742169168a">   56</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d53/class_player.html#a02ed847754aaf3aecf7294742169168a">Player::CanSpeak</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">return</span>  <a class="code" href="../../d8/d53/class_player.html#a1c212b8f9ae8b1a38a41f9c7db005dca">GetSession</a>()-&gt;<a class="code" href="../../d1/d47/class_world_session.html#add117187a32a871148dfadd7e4526e81">m_muteTime</a> &lt;= time (<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;}</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">/*********************************************************/</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">/***              LOW LEVEL FUNCTIONS:Notifiers        ***/</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">/*********************************************************/</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a62a08b0de5f32b752ca51d2056848408">   65</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a62a08b0de5f32b752ca51d2056848408">Player::SendAttackSwingNotInRange</a>()</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;{</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="code" href="../../d6/d1a/class_world_packet.html">WorldPacket</a> <a class="code" href="../../df/dea/structdata.html">data</a>(<a class="code" href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9baa04ea0f238f9d5a670600b9b45234353">SMSG_ATTACKSWING_NOTINRANGE</a>, 0);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a1c212b8f9ae8b1a38a41f9c7db005dca">GetSession</a>()-&gt;<a class="code" href="../../d1/d47/class_world_session.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;<a class="code" href="../../df/dea/structdata.html">data</a>);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;}</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#ae700cc88ca33f3a8ff8cf3e308380bc7">   71</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#ae700cc88ca33f3a8ff8cf3e308380bc7">Player::SavePositionInDB</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> mapid, <span class="keywordtype">float</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>, <span class="keywordtype">float</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>, <span class="keywordtype">float</span> <a class="code" href="../../df/de2/namespace_g3_d.html#a05e047033db3919db794d0f77e38797f">z</a>, <span class="keywordtype">float</span> o, <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> zone, <a class="code" href="../../d8/d03/class_object_guid.html">ObjectGuid</a> guid)</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;{</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <a class="code" href="../../da/d37/class_prepared_statement.html">CharacterDatabasePreparedStatement</a>* stmt = <a class="code" href="../../d6/d2e/_database_env_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code" href="../../d7/d54/_character_database_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7a79f7572ec67f28e39a8df5c5e3e2bf72">CHAR_UPD_CHARACTER_POSITION</a>);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    stmt-&gt;<a class="code" href="../../dd/d6a/class_prepared_statement_base.html#a2b5ec613e09d42b74c62c9a2169b9f81">setFloat</a>(0, <a class="code" href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">x</a>);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    stmt-&gt;<a class="code" href="../../dd/d6a/class_prepared_statement_base.html#a2b5ec613e09d42b74c62c9a2169b9f81">setFloat</a>(1, <a class="code" href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">y</a>);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    stmt-&gt;<a class="code" href="../../dd/d6a/class_prepared_statement_base.html#a2b5ec613e09d42b74c62c9a2169b9f81">setFloat</a>(2, <a class="code" href="../../df/de2/namespace_g3_d.html#a05e047033db3919db794d0f77e38797f">z</a>);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    stmt-&gt;<a class="code" href="../../dd/d6a/class_prepared_statement_base.html#a2b5ec613e09d42b74c62c9a2169b9f81">setFloat</a>(3, o);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    stmt-&gt;<a class="code" href="../../dd/d6a/class_prepared_statement_base.html#aa67f12b86e2ab6788f44a444d1a4dc01">setUInt16</a>(4, <a class="code" href="../../df/de2/namespace_g3_d.html#ae768a08580bf2b48ea6487bbda39dd34">uint16</a>(mapid));</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    stmt-&gt;<a class="code" href="../../dd/d6a/class_prepared_statement_base.html#aa67f12b86e2ab6788f44a444d1a4dc01">setUInt16</a>(5, <a class="code" href="../../df/de2/namespace_g3_d.html#ae768a08580bf2b48ea6487bbda39dd34">uint16</a>(zone));</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    stmt-&gt;<a class="code" href="../../dd/d6a/class_prepared_statement_base.html#a93efae944cba1cd7e11583a08f25b2d6">setUInt32</a>(6, guid.<a class="code" href="../../d8/d03/class_object_guid.html#a0df27b85c91a2c619e8f1d9c2cb31677">GetCounter</a>());</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="../../d6/d2e/_database_env_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Execute(stmt);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;}</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a54763153108dae4e0b2e8edd4f92d196">   86</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#ae700cc88ca33f3a8ff8cf3e308380bc7">Player::SavePositionInDB</a>(<a class="code" href="../../d6/d64/class_world_location.html">WorldLocation</a> <span class="keyword">const</span>&amp; loc, <a class="code" href="../../d9/df6/my__global_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> zoneId, <a class="code" href="../../d8/d03/class_object_guid.html">ObjectGuid</a> guid, <a class="code" href="../../db/d04/_database_env_fwd_8h.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a> trans)</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;{</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="../../da/d37/class_prepared_statement.html">CharacterDatabasePreparedStatement</a>* stmt = <a class="code" href="../../d6/d2e/_database_env_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code" href="../../d7/d54/_character_database_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7a79f7572ec67f28e39a8df5c5e3e2bf72">CHAR_UPD_CHARACTER_POSITION</a>);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    stmt-&gt;<a class="code" href="../../dd/d6a/class_prepared_statement_base.html#a2b5ec613e09d42b74c62c9a2169b9f81">setFloat</a>(0, loc.<a class="code" href="../../d1/d26/struct_position.html#ad5577c934d9e845b44759b67c534c3e8">GetPositionX</a>());</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    stmt-&gt;<a class="code" href="../../dd/d6a/class_prepared_statement_base.html#a2b5ec613e09d42b74c62c9a2169b9f81">setFloat</a>(1, loc.<a class="code" href="../../d1/d26/struct_position.html#ae79fc664f6cd027f5d49f6c7df8e4c9e">GetPositionY</a>());</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    stmt-&gt;<a class="code" href="../../dd/d6a/class_prepared_statement_base.html#a2b5ec613e09d42b74c62c9a2169b9f81">setFloat</a>(2, loc.<a class="code" href="../../d1/d26/struct_position.html#a4e813a59345a6275e8b87b96be03e60b">GetPositionZ</a>());</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    stmt-&gt;<a class="code" href="../../dd/d6a/class_prepared_statement_base.html#a2b5ec613e09d42b74c62c9a2169b9f81">setFloat</a>(3, loc.<a class="code" href="../../d1/d26/struct_position.html#a74cabfb8f441acb38e1abd5bf6ecdc84">GetOrientation</a>());</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    stmt-&gt;<a class="code" href="../../dd/d6a/class_prepared_statement_base.html#aa67f12b86e2ab6788f44a444d1a4dc01">setUInt16</a>(4, <a class="code" href="../../df/de2/namespace_g3_d.html#ae768a08580bf2b48ea6487bbda39dd34">uint16</a>(loc.<a class="code" href="../../d6/d64/class_world_location.html#a2682e56ae4f0ce4b517a8ba3cd2798b1">GetMapId</a>()));</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    stmt-&gt;<a class="code" href="../../dd/d6a/class_prepared_statement_base.html#aa67f12b86e2ab6788f44a444d1a4dc01">setUInt16</a>(5, zoneId);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    stmt-&gt;<a class="code" href="../../dd/d6a/class_prepared_statement_base.html#a93efae944cba1cd7e11583a08f25b2d6">setUInt32</a>(6, guid.<a class="code" href="../../d8/d03/class_object_guid.html#a0df27b85c91a2c619e8f1d9c2cb31677">GetCounter</a>());</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="../../d6/d2e/_database_env_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.ExecuteOrAppend(trans, stmt);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;}</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#ac6111a081e3ac7362bf4658f0686880d">  101</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#ac6111a081e3ac7362bf4658f0686880d">Player::SetUInt32ValueInArray</a>(<a class="code" href="../../d8/d0e/class_tokenizer.html">Tokenizer</a>&amp; tokens, <a class="code" href="../../d9/df6/my__global_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> index, <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <a class="code" href="../../d7/d71/classvalue.html">value</a>)</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;{</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordtype">char</span> buf[11];</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    snprintf(buf, 11, <span class="stringliteral">&quot;%u&quot;</span>, <a class="code" href="../../d7/d71/classvalue.html">value</a>);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a7fc0249f0f8ba720115d2430f5b86cbaa6a992d5529f459a44fee58c733255e86">index</a> &gt;= tokens.<a class="code" href="../../d8/d0e/class_tokenizer.html#a84fec1cbb0c61932c2121b60947fbbe9">size</a>())</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    tokens[<a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a7fc0249f0f8ba720115d2430f5b86cbaa6a992d5529f459a44fee58c733255e86">index</a>] = buf;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;}</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a3bb704a077f4a868867af3a6d15cec1e">  112</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a3bb704a077f4a868867af3a6d15cec1e">Player::Customize</a>(<a class="code" href="../../dd/d88/struct_character_customize_info.html">CharacterCustomizeInfo</a> <span class="keyword">const</span>* customizeInfo, <a class="code" href="../../db/d04/_database_env_fwd_8h.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a> trans)</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;{</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <a class="code" href="../../da/d37/class_prepared_statement.html">CharacterDatabasePreparedStatement</a>* stmt = <a class="code" href="../../d6/d2e/_database_env_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code" href="../../d7/d54/_character_database_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7aaae5117ac0c987e98fe2cf2a7b08e59a">CHAR_UPD_GENDER_AND_APPEARANCE</a>);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    stmt-&gt;<a class="code" href="../../dd/d6a/class_prepared_statement_base.html#a6f6a7b65201600c68182453300119e5b">setUInt8</a>(0, customizeInfo-&gt;<a class="code" href="../../dd/d88/struct_character_customize_info.html#a14321ea3595debe2836eceab8a82f944">Gender</a>);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    stmt-&gt;<a class="code" href="../../dd/d6a/class_prepared_statement_base.html#a6f6a7b65201600c68182453300119e5b">setUInt8</a>(1, customizeInfo-&gt;<a class="code" href="../../dd/d88/struct_character_customize_info.html#a2876110e687e7248e8c64fcb3a3a80db">Skin</a>);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    stmt-&gt;<a class="code" href="../../dd/d6a/class_prepared_statement_base.html#a6f6a7b65201600c68182453300119e5b">setUInt8</a>(2, customizeInfo-&gt;<a class="code" href="../../dd/d88/struct_character_customize_info.html#a6334464eea38be514f3faa7538b39a5a">Face</a>);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    stmt-&gt;<a class="code" href="../../dd/d6a/class_prepared_statement_base.html#a6f6a7b65201600c68182453300119e5b">setUInt8</a>(3, customizeInfo-&gt;<a class="code" href="../../dd/d88/struct_character_customize_info.html#ade5b2dff213547ab4d707070f8979085">HairStyle</a>);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    stmt-&gt;<a class="code" href="../../dd/d6a/class_prepared_statement_base.html#a6f6a7b65201600c68182453300119e5b">setUInt8</a>(4, customizeInfo-&gt;<a class="code" href="../../dd/d88/struct_character_customize_info.html#aeaa7ce4ecea7f42def63049424a2dd6b">HairColor</a>);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    stmt-&gt;<a class="code" href="../../dd/d6a/class_prepared_statement_base.html#a6f6a7b65201600c68182453300119e5b">setUInt8</a>(5, customizeInfo-&gt;<a class="code" href="../../dd/d88/struct_character_customize_info.html#a44643270b211d275eb94283842791407">FacialHair</a>);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    stmt-&gt;<a class="code" href="../../dd/d6a/class_prepared_statement_base.html#a93efae944cba1cd7e11583a08f25b2d6">setUInt32</a>(6, customizeInfo-&gt;<a class="code" href="../../d4/d50/struct_character_rename_info.html#a46a89b6904e59f39f4e1460a9bb45765">Guid</a>.<a class="code" href="../../d8/d03/class_object_guid.html#a0df27b85c91a2c619e8f1d9c2cb31677">GetCounter</a>());</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <a class="code" href="../../d6/d2e/_database_env_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.ExecuteOrAppend(trans, stmt);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;}</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a33d742156858f880cc0caa9e36368694">  126</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a33d742156858f880cc0caa9e36368694">Player::SendAttackSwingDeadTarget</a>()</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;{</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <a class="code" href="../../d6/d1a/class_world_packet.html">WorldPacket</a> <a class="code" href="../../df/dea/structdata.html">data</a>(<a class="code" href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9baf5e9de8d1e76b82f79aedc5c623081ae">SMSG_ATTACKSWING_DEADTARGET</a>, 0);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a1c212b8f9ae8b1a38a41f9c7db005dca">GetSession</a>()-&gt;<a class="code" href="../../d1/d47/class_world_session.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;<a class="code" href="../../df/dea/structdata.html">data</a>);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;}</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a87101c44db241c06fdc90690f019f19c">  132</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a87101c44db241c06fdc90690f019f19c">Player::SendAttackSwingCantAttack</a>()</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;{</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <a class="code" href="../../d6/d1a/class_world_packet.html">WorldPacket</a> <a class="code" href="../../df/dea/structdata.html">data</a>(<a class="code" href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9ba5b8f013fc6d62b41f1824a65a1b03372">SMSG_ATTACKSWING_CANT_ATTACK</a>, 0);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a1c212b8f9ae8b1a38a41f9c7db005dca">GetSession</a>()-&gt;<a class="code" href="../../d1/d47/class_world_session.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;<a class="code" href="../../df/dea/structdata.html">data</a>);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;}</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a0eaf8ade1fc32527b845a3213bb27703">  138</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a0eaf8ade1fc32527b845a3213bb27703">Player::SendAttackSwingCancelAttack</a>()</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;{</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <a class="code" href="../../d6/d1a/class_world_packet.html">WorldPacket</a> <a class="code" href="../../df/dea/structdata.html">data</a>(<a class="code" href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9ba4dc1be4abebf4ab3d5689ba8c66bae20">SMSG_CANCEL_COMBAT</a>, 0);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a1c212b8f9ae8b1a38a41f9c7db005dca">GetSession</a>()-&gt;<a class="code" href="../../d1/d47/class_world_session.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;<a class="code" href="../../df/dea/structdata.html">data</a>);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;}</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a209a7a3971ad297c2aeee0a15cfce132">  144</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a209a7a3971ad297c2aeee0a15cfce132">Player::SendAttackSwingBadFacingAttack</a>()</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;{</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <a class="code" href="../../d6/d1a/class_world_packet.html">WorldPacket</a> <a class="code" href="../../df/dea/structdata.html">data</a>(<a class="code" href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9ba790422a0dce80f61a95b0a860174fdaf">SMSG_ATTACKSWING_BADFACING</a>, 0);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a1c212b8f9ae8b1a38a41f9c7db005dca">GetSession</a>()-&gt;<a class="code" href="../../d1/d47/class_world_session.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;<a class="code" href="../../df/dea/structdata.html">data</a>);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;}</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a2f876e332a71e68aa8fd08863ad3623c">  150</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a2f876e332a71e68aa8fd08863ad3623c">Player::SendAutoRepeatCancel</a>(<a class="code" href="../../da/db7/class_unit.html">Unit</a>* target)</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;{</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <a class="code" href="../../d6/d1a/class_world_packet.html">WorldPacket</a> <a class="code" href="../../df/dea/structdata.html">data</a>(<a class="code" href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9baac5a1f00ab7c4d2b83f3dbfec64113b3">SMSG_CANCEL_AUTO_REPEAT</a>, target-&gt;<a class="code" href="../../d8/d83/class_object.html#ad4b3f372b6700cd50e1eb7ef238cf3be">GetPackGUID</a>().<a class="code" href="../../d5/df6/class_packed_guid.html#a22ac06b7072951e84bbf69abcd7d58f6">size</a>());</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <a class="code" href="../../df/dea/structdata.html">data</a> &lt;&lt; target-&gt;<a class="code" href="../../d8/d83/class_object.html#ad4b3f372b6700cd50e1eb7ef238cf3be">GetPackGUID</a>();                  <span class="comment">// may be it&#39;s target guid</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#ac0eec5ae3172170db1c8ccd591656d2d">SendMessageToSet</a>(&amp;<a class="code" href="../../df/dea/structdata.html">data</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;}</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a09666cc06a561b03657205d249b40fec">  157</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a09666cc06a561b03657205d249b40fec">Player::SendExplorationExperience</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> Area, <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> Experience)</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;{</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="../../d6/d1a/class_world_packet.html">WorldPacket</a> <a class="code" href="../../df/dea/structdata.html">data</a>(<a class="code" href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9baa600f179f70d9f4078f5c5a2dc1af1d3">SMSG_EXPLORATION_EXPERIENCE</a>, 8);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <a class="code" href="../../df/dea/structdata.html">data</a> &lt;&lt; <a class="code" href="../../df/de2/namespace_g3_d.html#ae911b90657d7162d47997c702af655a8">uint32</a>(Area);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <a class="code" href="../../df/dea/structdata.html">data</a> &lt;&lt; <a class="code" href="../../df/de2/namespace_g3_d.html#ae911b90657d7162d47997c702af655a8">uint32</a>(Experience);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a1c212b8f9ae8b1a38a41f9c7db005dca">GetSession</a>()-&gt;<a class="code" href="../../d1/d47/class_world_session.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;<a class="code" href="../../df/dea/structdata.html">data</a>);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a57f3aa161993f5105c1aac5dda7bc919">  165</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a57f3aa161993f5105c1aac5dda7bc919">Player::SendDungeonDifficulty</a>(<span class="keywordtype">bool</span> IsInGroup)</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;{</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <a class="code" href="../../d9/df6/my__global_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> val = 0x00000001;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="../../d6/d1a/class_world_packet.html">WorldPacket</a> <a class="code" href="../../df/dea/structdata.html">data</a>(<a class="code" href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9bad1b637a99863ca230dd1945432166433">MSG_SET_DUNGEON_DIFFICULTY</a>, 12);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <a class="code" href="../../df/dea/structdata.html">data</a> &lt;&lt; (<a class="code" href="../../df/de2/namespace_g3_d.html#ae911b90657d7162d47997c702af655a8">uint32</a>)<a class="code" href="../../d8/d53/class_player.html#ae7d054b6d8fa0d9133b9bee01829f700">GetDungeonDifficulty</a>();</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <a class="code" href="../../df/dea/structdata.html">data</a> &lt;&lt; <a class="code" href="../../df/de2/namespace_g3_d.html#ae911b90657d7162d47997c702af655a8">uint32</a>(val);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <a class="code" href="../../df/dea/structdata.html">data</a> &lt;&lt; <a class="code" href="../../df/de2/namespace_g3_d.html#ae911b90657d7162d47997c702af655a8">uint32</a>(IsInGroup);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a1c212b8f9ae8b1a38a41f9c7db005dca">GetSession</a>()-&gt;<a class="code" href="../../d1/d47/class_world_session.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;<a class="code" href="../../df/dea/structdata.html">data</a>);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;}</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#af48dc87f6ce3faea52f7de59e7f92d0b">  175</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#af48dc87f6ce3faea52f7de59e7f92d0b">Player::SendRaidDifficulty</a>(<span class="keywordtype">bool</span> IsInGroup, <a class="code" href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> forcedDifficulty)</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;{</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="../../d9/df6/my__global_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> val = 0x00000001;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <a class="code" href="../../d6/d1a/class_world_packet.html">WorldPacket</a> <a class="code" href="../../df/dea/structdata.html">data</a>(<a class="code" href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9ba6034e8b5d782cc67a2e271a60e758684">MSG_SET_RAID_DIFFICULTY</a>, 12);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="code" href="../../df/dea/structdata.html">data</a> &lt;&lt; <a class="code" href="../../df/de2/namespace_g3_d.html#ae911b90657d7162d47997c702af655a8">uint32</a>(forcedDifficulty == -1 ? <a class="code" href="../../d8/d53/class_player.html#a0a8049df86707056ac7d376363e8a3da">GetRaidDifficulty</a>() : forcedDifficulty);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="../../df/dea/structdata.html">data</a> &lt;&lt; <a class="code" href="../../df/de2/namespace_g3_d.html#ae911b90657d7162d47997c702af655a8">uint32</a>(val);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="../../df/dea/structdata.html">data</a> &lt;&lt; <a class="code" href="../../df/de2/namespace_g3_d.html#ae911b90657d7162d47997c702af655a8">uint32</a>(IsInGroup);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a1c212b8f9ae8b1a38a41f9c7db005dca">GetSession</a>()-&gt;<a class="code" href="../../d1/d47/class_world_session.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;<a class="code" href="../../df/dea/structdata.html">data</a>);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;}</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a84f8fc339951e79af1bf98269f1433fe">  185</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a84f8fc339951e79af1bf98269f1433fe">Player::SendResetFailedNotify</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> mapid)</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;{</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <a class="code" href="../../d6/d1a/class_world_packet.html">WorldPacket</a> <a class="code" href="../../df/dea/structdata.html">data</a>(<a class="code" href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9bac5c45910bbb413b7248c60e8ea9c97b1">SMSG_RESET_FAILED_NOTIFY</a>, 4);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <a class="code" href="../../df/dea/structdata.html">data</a> &lt;&lt; <a class="code" href="../../df/de2/namespace_g3_d.html#ae911b90657d7162d47997c702af655a8">uint32</a>(mapid);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a1c212b8f9ae8b1a38a41f9c7db005dca">GetSession</a>()-&gt;<a class="code" href="../../d1/d47/class_world_session.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;<a class="code" href="../../df/dea/structdata.html">data</a>);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;}</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#ad1d3a9f2d29c011bd71d453222b69b8a">  193</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#ad1d3a9f2d29c011bd71d453222b69b8a">Player::ResetInstances</a>(<a class="code" href="../../d8/d03/class_object_guid.html">ObjectGuid</a> guid, <a class="code" href="../../d9/df6/my__global_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> method, <span class="keywordtype">bool</span> isRaid)</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;{</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">switch</span> (method)</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d3/d63/_map_8h.html#a85895841def625e565ac3122a1267447ab5ba7473d0bfac9d0f4dbc0e22a5a84d">INSTANCE_RESET_ALL</a>:</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            <a class="code" href="../../d8/d53/class_player.html">Player</a>* p = <a class="code" href="../../d4/d27/namespace_object_accessor.html#a354f7e7aaf4b12d6ad8fe8ef6291eaa0">ObjectAccessor::FindConnectedPlayer</a>(guid);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            <span class="keywordflow">if</span> (!p || p-&gt;<a class="code" href="../../d8/d53/class_player.html#a4e146717e02e530b473d147e6c650ff4">GetDifficulty</a>(<span class="keyword">false</span>) != <a class="code" href="../../dc/d6e/_d_b_c_enums_8h.html#a43efb0a2e61815a66134dfa5ccea0a83a351d9a9eb4c38c4324e4905b2b451b99">DUNGEON_DIFFICULTY_NORMAL</a>)</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            std::vector&lt;InstanceSave*&gt; toUnbind;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            <a class="code" href="../../d4/d01/_instance_save_mgr_8h.html#aaa779bf09b703eb355cb51ac3481a19e">BoundInstancesMap</a> <span class="keyword">const</span>&amp; m_boundInstances = <a class="code" href="../../d4/d01/_instance_save_mgr_8h.html#ae1d3c96dbd749e40f06799fa52eeb9a2">sInstanceSaveMgr</a>-&gt;PlayerGetBoundInstances(p-&gt;<a class="code" href="../../d8/d83/class_object.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>(), <a class="code" href="../../dc/d6e/_d_b_c_enums_8h.html#a43efb0a2e61815a66134dfa5ccea0a83">Difficulty</a>(<a class="code" href="../../dc/d6e/_d_b_c_enums_8h.html#a43efb0a2e61815a66134dfa5ccea0a83a351d9a9eb4c38c4324e4905b2b451b99">DUNGEON_DIFFICULTY_NORMAL</a>));</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            <span class="keywordflow">for</span> (BoundInstancesMap::const_iterator itr = m_boundInstances.begin(); itr != m_boundInstances.end(); ++itr)</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                <a class="code" href="../../de/dfe/class_instance_save.html">InstanceSave</a>* instanceSave = itr-&gt;second.save;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                <span class="keyword">const</span> <a class="code" href="../../d2/d99/struct_map_entry.html">MapEntry</a>* entry = <a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#ac28198d1c28605951e9debe1298b8304">sMapStore</a>.LookupEntry(itr-&gt;first);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                <span class="keywordflow">if</span> (!entry || entry-&gt;<a class="code" href="../../d2/d99/struct_map_entry.html#adc49d2974929327b06a442012b0a07d1">IsRaid</a>() || !instanceSave-&gt;<a class="code" href="../../de/dfe/class_instance_save.html#aba8d512041c8485f49eef8c1fafce729">CanReset</a>())</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                <a class="code" href="../../dd/d11/class_map.html">Map</a>* map = <a class="code" href="../../dd/dca/_map_mgr_8h.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a>-&gt;FindMap(instanceSave-&gt;<a class="code" href="../../de/dfe/class_instance_save.html#a92ce355e9be7f83d53307b6dcd354c5d">GetMapId</a>(), instanceSave-&gt;<a class="code" href="../../de/dfe/class_instance_save.html#a7def734d9c4698457fa4f631e30fa9db">GetInstanceId</a>());</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                <span class="keywordflow">if</span> (!map || map-&gt;<a class="code" href="../../dd/d11/class_map.html#a5f818fd7349136f0d2198717527aa9bb">ToInstanceMap</a>()-&gt;<a class="code" href="../../d8/ded/class_instance_map.html#ad60b7ef4ef14f36245394fd7c929aad2">Reset</a>(method))</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                    p-&gt;<a class="code" href="../../d8/d53/class_player.html#ab568defddd21754ed10afc57eed069b1">SendResetInstanceSuccess</a>(instanceSave-&gt;<a class="code" href="../../de/dfe/class_instance_save.html#a92ce355e9be7f83d53307b6dcd354c5d">GetMapId</a>());</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                    toUnbind.push_back(instanceSave);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                    p-&gt;<a class="code" href="../../d8/d53/class_player.html#adf1c3782f303f43603ff1831bb246f39">SendResetInstanceFailed</a>(0, instanceSave-&gt;<a class="code" href="../../de/dfe/class_instance_save.html#a92ce355e9be7f83d53307b6dcd354c5d">GetMapId</a>());</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            <span class="keywordflow">for</span> (std::vector&lt;InstanceSave*&gt;::const_iterator itr = toUnbind.begin(); itr != toUnbind.end(); ++itr)</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                <a class="code" href="../../d4/d01/_instance_save_mgr_8h.html#ae1d3c96dbd749e40f06799fa52eeb9a2">sInstanceSaveMgr</a>-&gt;UnbindAllFor(*itr);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        }</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d3/d63/_map_8h.html#a85895841def625e565ac3122a1267447a364d607eec219f808901d16aeec31a8d">INSTANCE_RESET_CHANGE_DIFFICULTY</a>:</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            <a class="code" href="../../d8/d53/class_player.html">Player</a>* p = <a class="code" href="../../d4/d27/namespace_object_accessor.html#a354f7e7aaf4b12d6ad8fe8ef6291eaa0">ObjectAccessor::FindConnectedPlayer</a>(guid);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <span class="keywordflow">if</span> (!p)</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            std::vector&lt;InstanceSave*&gt; toUnbind;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <a class="code" href="../../d4/d01/_instance_save_mgr_8h.html#aaa779bf09b703eb355cb51ac3481a19e">BoundInstancesMap</a> <span class="keyword">const</span>&amp; m_boundInstances = <a class="code" href="../../d4/d01/_instance_save_mgr_8h.html#ae1d3c96dbd749e40f06799fa52eeb9a2">sInstanceSaveMgr</a>-&gt;PlayerGetBoundInstances(p-&gt;<a class="code" href="../../d8/d83/class_object.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>(), p-&gt;<a class="code" href="../../d8/d53/class_player.html#a4e146717e02e530b473d147e6c650ff4">GetDifficulty</a>(isRaid));</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            <span class="keywordflow">for</span> (BoundInstancesMap::const_iterator itr = m_boundInstances.begin(); itr != m_boundInstances.end(); ++itr)</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                <a class="code" href="../../de/dfe/class_instance_save.html">InstanceSave</a>* instanceSave = itr-&gt;second.save;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                <span class="keyword">const</span> <a class="code" href="../../d2/d99/struct_map_entry.html">MapEntry</a>* entry = <a class="code" href="../../dd/d17/_d_b_c_stores_8cpp.html#ac28198d1c28605951e9debe1298b8304">sMapStore</a>.LookupEntry(itr-&gt;first);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                <span class="keywordflow">if</span> (!entry || entry-&gt;<a class="code" href="../../d2/d99/struct_map_entry.html#adc49d2974929327b06a442012b0a07d1">IsRaid</a>() != isRaid || !instanceSave-&gt;<a class="code" href="../../de/dfe/class_instance_save.html#aba8d512041c8485f49eef8c1fafce729">CanReset</a>())</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                <a class="code" href="../../dd/d11/class_map.html">Map</a>* map = <a class="code" href="../../dd/dca/_map_mgr_8h.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a>-&gt;FindMap(instanceSave-&gt;<a class="code" href="../../de/dfe/class_instance_save.html#a92ce355e9be7f83d53307b6dcd354c5d">GetMapId</a>(), instanceSave-&gt;<a class="code" href="../../de/dfe/class_instance_save.html#a7def734d9c4698457fa4f631e30fa9db">GetInstanceId</a>());</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                <span class="keywordflow">if</span> (!map || map-&gt;<a class="code" href="../../dd/d11/class_map.html#a5f818fd7349136f0d2198717527aa9bb">ToInstanceMap</a>()-&gt;<a class="code" href="../../d8/ded/class_instance_map.html#ad60b7ef4ef14f36245394fd7c929aad2">Reset</a>(method))</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                    p-&gt;<a class="code" href="../../d8/d53/class_player.html#ab568defddd21754ed10afc57eed069b1">SendResetInstanceSuccess</a>(instanceSave-&gt;<a class="code" href="../../de/dfe/class_instance_save.html#a92ce355e9be7f83d53307b6dcd354c5d">GetMapId</a>());</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                    toUnbind.push_back(instanceSave);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                    p-&gt;<a class="code" href="../../d8/d53/class_player.html#adf1c3782f303f43603ff1831bb246f39">SendResetInstanceFailed</a>(0, instanceSave-&gt;<a class="code" href="../../de/dfe/class_instance_save.html#a92ce355e9be7f83d53307b6dcd354c5d">GetMapId</a>());</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <span class="keywordflow">for</span> (std::vector&lt;InstanceSave*&gt;::const_iterator itr = toUnbind.begin(); itr != toUnbind.end(); ++itr)</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                <a class="code" href="../../d4/d01/_instance_save_mgr_8h.html#ae1d3c96dbd749e40f06799fa52eeb9a2">sInstanceSaveMgr</a>-&gt;UnbindAllFor(*itr);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d3/d63/_map_8h.html#a85895841def625e565ac3122a1267447a0a6535943a7d7ce282d8d415f125a170">INSTANCE_RESET_GROUP_JOIN</a>:</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            <a class="code" href="../../d8/d53/class_player.html">Player</a>* p = <a class="code" href="../../d4/d27/namespace_object_accessor.html#a354f7e7aaf4b12d6ad8fe8ef6291eaa0">ObjectAccessor::FindConnectedPlayer</a>(guid);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            <span class="keywordflow">if</span> (!p)</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="../../d9/df6/my__global_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="code" href="../../d4/d71/namespacempq.html#a9fbd3a52049cfe1e11371096a422d94e">d</a> = 0; <a class="code" href="../../d4/d71/namespacempq.html#a9fbd3a52049cfe1e11371096a422d94e">d</a> &lt; <a class="code" href="../../dc/d6e/_d_b_c_enums_8h.html#a4b8f96edf5459f120db77f80275dfe5c">MAX_DIFFICULTY</a>; ++<a class="code" href="../../d4/d71/namespacempq.html#a9fbd3a52049cfe1e11371096a422d94e">d</a>)</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                std::vector&lt;InstanceSave*&gt; toUnbind;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                <a class="code" href="../../d4/d01/_instance_save_mgr_8h.html#aaa779bf09b703eb355cb51ac3481a19e">BoundInstancesMap</a> <span class="keyword">const</span>&amp; m_boundInstances = <a class="code" href="../../d4/d01/_instance_save_mgr_8h.html#ae1d3c96dbd749e40f06799fa52eeb9a2">sInstanceSaveMgr</a>-&gt;PlayerGetBoundInstances(p-&gt;<a class="code" href="../../d8/d83/class_object.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>(), <a class="code" href="../../dc/d6e/_d_b_c_enums_8h.html#a43efb0a2e61815a66134dfa5ccea0a83">Difficulty</a>(<a class="code" href="../../d4/d71/namespacempq.html#a9fbd3a52049cfe1e11371096a422d94e">d</a>));</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                <span class="keywordflow">for</span> (BoundInstancesMap::const_iterator itr = m_boundInstances.begin(); itr != m_boundInstances.end(); ++itr)</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                    <span class="keywordflow">if</span> (itr-&gt;second.perm)</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                    <a class="code" href="../../de/dfe/class_instance_save.html">InstanceSave</a>* instanceSave = itr-&gt;second.save;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                    <a class="code" href="../../dd/d11/class_map.html">Map</a>* map = <a class="code" href="../../dd/dca/_map_mgr_8h.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a>-&gt;FindMap(instanceSave-&gt;<a class="code" href="../../de/dfe/class_instance_save.html#a92ce355e9be7f83d53307b6dcd354c5d">GetMapId</a>(), instanceSave-&gt;<a class="code" href="../../de/dfe/class_instance_save.html#a7def734d9c4698457fa4f631e30fa9db">GetInstanceId</a>());</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                    <span class="keywordflow">if</span> (!map || p-&gt;<a class="code" href="../../db/df7/class_world_object.html#a5ee93bba16f1a008756484be117fe855">FindMap</a>() != map)</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                    {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                        <span class="comment">//p-&gt;SendResetInstanceSuccess(instanceSave-&gt;GetMapId());</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                        toUnbind.push_back(instanceSave);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                    }</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                    <span class="comment">//else</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                    <span class="comment">//  p-&gt;SendResetInstanceFailed(0, instanceSave-&gt;GetMapId());</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                }</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                <span class="keywordflow">for</span> (std::vector&lt;InstanceSave*&gt;::const_iterator itr = toUnbind.begin(); itr != toUnbind.end(); ++itr)</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                    <a class="code" href="../../d4/d01/_instance_save_mgr_8h.html#ae1d3c96dbd749e40f06799fa52eeb9a2">sInstanceSaveMgr</a>-&gt;PlayerUnbindInstance(p-&gt;<a class="code" href="../../d8/d83/class_object.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>(), (*itr)-&gt;GetMapId(), (*itr)-&gt;GetDifficulty(), <span class="keyword">true</span>, p);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            }</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d3/d63/_map_8h.html#a85895841def625e565ac3122a1267447aa247d3a9d4e2cbb1ed24680fa3405bab">INSTANCE_RESET_GROUP_LEAVE</a>:</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <a class="code" href="../../d8/d53/class_player.html">Player</a>* p = <a class="code" href="../../d4/d27/namespace_object_accessor.html#a354f7e7aaf4b12d6ad8fe8ef6291eaa0">ObjectAccessor::FindConnectedPlayer</a>(guid);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="../../d9/df6/my__global_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="code" href="../../d4/d71/namespacempq.html#a9fbd3a52049cfe1e11371096a422d94e">d</a> = 0; <a class="code" href="../../d4/d71/namespacempq.html#a9fbd3a52049cfe1e11371096a422d94e">d</a> &lt; <a class="code" href="../../dc/d6e/_d_b_c_enums_8h.html#a4b8f96edf5459f120db77f80275dfe5c">MAX_DIFFICULTY</a>; ++<a class="code" href="../../d4/d71/namespacempq.html#a9fbd3a52049cfe1e11371096a422d94e">d</a>)</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                std::vector&lt;InstanceSave*&gt; toUnbind;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                <a class="code" href="../../d4/d01/_instance_save_mgr_8h.html#aaa779bf09b703eb355cb51ac3481a19e">BoundInstancesMap</a> <span class="keyword">const</span>&amp; m_boundInstances = <a class="code" href="../../d4/d01/_instance_save_mgr_8h.html#ae1d3c96dbd749e40f06799fa52eeb9a2">sInstanceSaveMgr</a>-&gt;PlayerGetBoundInstances(guid, <a class="code" href="../../dc/d6e/_d_b_c_enums_8h.html#a43efb0a2e61815a66134dfa5ccea0a83">Difficulty</a>(<a class="code" href="../../d4/d71/namespacempq.html#a9fbd3a52049cfe1e11371096a422d94e">d</a>));</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                <span class="keywordflow">for</span> (BoundInstancesMap::const_iterator itr = m_boundInstances.begin(); itr != m_boundInstances.end(); ++itr)</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                    <span class="keywordflow">if</span> (itr-&gt;second.perm)</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                    <a class="code" href="../../de/dfe/class_instance_save.html">InstanceSave</a>* instanceSave = itr-&gt;second.save;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                    <a class="code" href="../../dd/d11/class_map.html">Map</a>* map = <a class="code" href="../../dd/dca/_map_mgr_8h.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a>-&gt;FindMap(instanceSave-&gt;<a class="code" href="../../de/dfe/class_instance_save.html#a92ce355e9be7f83d53307b6dcd354c5d">GetMapId</a>(), instanceSave-&gt;<a class="code" href="../../de/dfe/class_instance_save.html#a7def734d9c4698457fa4f631e30fa9db">GetInstanceId</a>());</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                    <span class="keywordflow">if</span> (!p || !map || p-&gt;<a class="code" href="../../db/df7/class_world_object.html#a5ee93bba16f1a008756484be117fe855">FindMap</a>() != map)</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                    {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                        <span class="comment">//p-&gt;SendResetInstanceSuccess(instanceSave-&gt;GetMapId());</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                        toUnbind.push_back(instanceSave);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                    }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                    <span class="comment">//else</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                    <span class="comment">//  p-&gt;SendResetInstanceFailed(0, instanceSave-&gt;GetMapId());</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                <span class="keywordflow">for</span> (std::vector&lt;InstanceSave*&gt;::const_iterator itr = toUnbind.begin(); itr != toUnbind.end(); ++itr)</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                    <a class="code" href="../../d4/d01/_instance_save_mgr_8h.html#ae1d3c96dbd749e40f06799fa52eeb9a2">sInstanceSaveMgr</a>-&gt;PlayerUnbindInstance(guid, (*itr)-&gt;GetMapId(), (*itr)-&gt;GetDifficulty(), <span class="keyword">true</span>, p);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        }</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;}</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#ab568defddd21754ed10afc57eed069b1">  308</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#ab568defddd21754ed10afc57eed069b1">Player::SendResetInstanceSuccess</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> MapId)</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;{</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <a class="code" href="../../d6/d1a/class_world_packet.html">WorldPacket</a> <a class="code" href="../../df/dea/structdata.html">data</a>(<a class="code" href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9ba16e7a5aca7a5e90921d7086bbacaae9a">SMSG_INSTANCE_RESET</a>, 4);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <a class="code" href="../../df/dea/structdata.html">data</a> &lt;&lt; <a class="code" href="../../df/de2/namespace_g3_d.html#ae911b90657d7162d47997c702af655a8">uint32</a>(MapId);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a1c212b8f9ae8b1a38a41f9c7db005dca">GetSession</a>()-&gt;<a class="code" href="../../d1/d47/class_world_session.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;<a class="code" href="../../df/dea/structdata.html">data</a>);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;}</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#adf1c3782f303f43603ff1831bb246f39">  315</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#adf1c3782f303f43603ff1831bb246f39">Player::SendResetInstanceFailed</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> reason, <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> MapId)</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;{</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="comment">/*reasons for instance reset failure:</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">    // 0: There are players inside the instance.</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">    // 1: There are players offline in your party.</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">    // 2&gt;: There are players in your party attempting to zone into an instance.</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <a class="code" href="../../d6/d1a/class_world_packet.html">WorldPacket</a> <a class="code" href="../../df/dea/structdata.html">data</a>(<a class="code" href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9ba855ab6b1b103a8de23daf12efb968d3f">SMSG_INSTANCE_RESET_FAILED</a>, 4);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <a class="code" href="../../df/dea/structdata.html">data</a> &lt;&lt; <a class="code" href="../../df/de2/namespace_g3_d.html#ae911b90657d7162d47997c702af655a8">uint32</a>(reason);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <a class="code" href="../../df/dea/structdata.html">data</a> &lt;&lt; <a class="code" href="../../df/de2/namespace_g3_d.html#ae911b90657d7162d47997c702af655a8">uint32</a>(MapId);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a1c212b8f9ae8b1a38a41f9c7db005dca">GetSession</a>()-&gt;<a class="code" href="../../d1/d47/class_world_session.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;<a class="code" href="../../df/dea/structdata.html">data</a>);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;}</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">/*********************************************************/</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">/***              Update timers                        ***/</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">/*********************************************************/</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#affdbd69b2c33a4a6123e764703b6bd57">  333</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#affdbd69b2c33a4a6123e764703b6bd57">Player::UpdateAfkReport</a>(time_t currTime)</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;{</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#aee25758fdb264cb59243b24434a42a26">m_bgData</a>.<a class="code" href="../../d1/d77/struct_b_g_data.html#a51f8f4e05dc0224982af9a61d2dfae36">bgAfkReportedTimer</a> &lt;= currTime)</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#aee25758fdb264cb59243b24434a42a26">m_bgData</a>.<a class="code" href="../../d1/d77/struct_b_g_data.html#ab7374e7b8fc6607dd6b4f04385e80ca3">bgAfkReportedCount</a> = 0;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#aee25758fdb264cb59243b24434a42a26">m_bgData</a>.<a class="code" href="../../d1/d77/struct_b_g_data.html#a51f8f4e05dc0224982af9a61d2dfae36">bgAfkReportedTimer</a> = currTime + 5 * <a class="code" href="../../d1/d8b/src_2common_2common_8h.html#afacf27522adfacf698390ddafc53fa30">MINUTE</a>;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    }</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;}</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a205b675c105e632b08e2eb4edeec99bf">  342</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a205b675c105e632b08e2eb4edeec99bf">Player::UpdateContestedPvP</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <a class="code" href="../../d9/d39/dtoa_8c.html#a158860430cb5f139d88fdf19cf9ad511">diff</a>)</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;{</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d53/class_player.html#a92a64826ef333d70d701622b415a3727">m_contestedPvPTimer</a> || <a class="code" href="../../da/db7/class_unit.html#af5e75d013dfa8a8b888d7714992e3f2a">IsInCombat</a>())</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#a92a64826ef333d70d701622b415a3727">m_contestedPvPTimer</a> &lt;= <a class="code" href="../../d9/d39/dtoa_8c.html#a158860430cb5f139d88fdf19cf9ad511">diff</a>)</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a284f042fd1a97b5011b1c30d8db69ec0">ResetContestedPvP</a>();</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    }</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <a class="code" href="../../d8/d53/class_player.html#a92a64826ef333d70d701622b415a3727">m_contestedPvPTimer</a> -= <a class="code" href="../../d9/d39/dtoa_8c.html#a158860430cb5f139d88fdf19cf9ad511">diff</a>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;}</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160; </div>
<div class="line"><a name="l00354"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a738787cc25568c4d55365150153440dd">  354</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a738787cc25568c4d55365150153440dd">Player::UpdatePvPFlag</a>(time_t currTime)</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;{</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d53/class_player.html#af257fef589544a08a5d3b69e44f15472">IsPvP</a>())</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; </div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d53/class_player.html#aa1b93687507f29637f2e42574ddd02ed">pvpInfo</a>.<a class="code" href="../../d6/db0/struct_pv_p_info.html#ae06b5030552c02f30fe8386633a753df">EndTimer</a> == 0 || <a class="code" href="../../d8/d53/class_player.html#aa1b93687507f29637f2e42574ddd02ed">pvpInfo</a>.<a class="code" href="../../d6/db0/struct_pv_p_info.html#a22a1c8f0e8c51f4a27cb8ab362028d61">IsHostile</a>)</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordflow">if</span> (currTime &lt; (<a class="code" href="../../d8/d53/class_player.html#aa1b93687507f29637f2e42574ddd02ed">pvpInfo</a>.<a class="code" href="../../d6/db0/struct_pv_p_info.html#ae06b5030552c02f30fe8386633a753df">EndTimer</a> + 300 + 5))</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <span class="keywordflow">if</span> (currTime &gt; (<a class="code" href="../../d8/d53/class_player.html#aa1b93687507f29637f2e42574ddd02ed">pvpInfo</a>.<a class="code" href="../../d6/db0/struct_pv_p_info.html#ae06b5030552c02f30fe8386633a753df">EndTimer</a> + 4) &amp;&amp; !<a class="code" href="../../d8/d83/class_object.html#acf64820d3725a37cef2c63f0baa820e7">HasFlag</a>(<a class="code" href="../../dd/d65/_update_fields_8h.html#a0e42dc606678c9df7884e1aad621e881a65a8142f4727b52425e593eb2727d9f4">PLAYER_FLAGS</a>, <a class="code" href="../../d1/d39/_player_8h.html#a486dd000e9a9532459d9dd9010570621adc8433300089ff8f6753b673ca882555">PLAYER_FLAGS_PVP_TIMER</a>))</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            <a class="code" href="../../d8/d83/class_object.html#a79a7a80acdec46961b4d8aaead4ae631">SetFlag</a>(<a class="code" href="../../dd/d65/_update_fields_8h.html#a0e42dc606678c9df7884e1aad621e881a65a8142f4727b52425e593eb2727d9f4">PLAYER_FLAGS</a>, <a class="code" href="../../d1/d39/_player_8h.html#a486dd000e9a9532459d9dd9010570621adc8433300089ff8f6753b673ca882555">PLAYER_FLAGS_PVP_TIMER</a>);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    }</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a2f8909f36282889342c505016e76e98e">UpdatePvP</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;}</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160; </div>
<div class="line"><a name="l00373"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a935fe38c6d06165395ba8660a1328afc">  373</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a935fe38c6d06165395ba8660a1328afc">Player::UpdateFFAPvPFlag</a>(time_t currTime)</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;{</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d53/class_player.html#a9966f1ea2cb3a16e36aa80a8b5fbb5c2">IsFFAPvP</a>() || <a class="code" href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;IsFFAPvPRealm() || !<a class="code" href="../../d8/d53/class_player.html#aa1b93687507f29637f2e42574ddd02ed">pvpInfo</a>.<a class="code" href="../../d6/db0/struct_pv_p_info.html#a739dfc63dfe39429a44ea682d9120522">FFAPvPEndTimer</a> || currTime &lt; <a class="code" href="../../d8/d53/class_player.html#aa1b93687507f29637f2e42574ddd02ed">pvpInfo</a>.<a class="code" href="../../d6/db0/struct_pv_p_info.html#a739dfc63dfe39429a44ea682d9120522">FFAPvPEndTimer</a> + 30)</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    }</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160; </div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#aa1b93687507f29637f2e42574ddd02ed">pvpInfo</a>.<a class="code" href="../../d6/db0/struct_pv_p_info.html#a739dfc63dfe39429a44ea682d9120522">FFAPvPEndTimer</a> = time_t(0);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160; </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <a class="code" href="../../d8/d83/class_object.html#acef75a7f84673fda790861bd1b0b68b7">RemoveByteFlag</a>(<a class="code" href="../../dd/d65/_update_fields_8h.html#a0e42dc606678c9df7884e1aad621e881af2d4e268d5842c9b63100cfa2876c8cd">UNIT_FIELD_BYTES_2</a>, 1, <a class="code" href="../../d5/d32/_unit_8h.html#adfd426d7c800ae9b37ca91f5f2fd5d01a30e3d9f365bdf3a3c77f106080ab70cc">UNIT_BYTE2_FLAG_FFA_PVP</a>);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">for</span> (ControlSet::iterator itr = <a class="code" href="../../da/db7/class_unit.html#a148e79f1285e417f73d2a95b49fc2bf9">m_Controlled</a>.begin(); itr != <a class="code" href="../../da/db7/class_unit.html#a148e79f1285e417f73d2a95b49fc2bf9">m_Controlled</a>.end(); ++itr)</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        (*itr)-&gt;RemoveByteFlag(<a class="code" href="../../dd/d65/_update_fields_8h.html#a0e42dc606678c9df7884e1aad621e881af2d4e268d5842c9b63100cfa2876c8cd">UNIT_FIELD_BYTES_2</a>, 1, <a class="code" href="../../d5/d32/_unit_8h.html#adfd426d7c800ae9b37ca91f5f2fd5d01a30e3d9f365bdf3a3c77f106080ab70cc">UNIT_BYTE2_FLAG_FFA_PVP</a>);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160; </div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="comment">// xinef: iterate attackers</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <a class="code" href="../../da/db7/class_unit.html#a82fb2d4bc61ba6e8ef2c4169003a7d65">AttackerSet</a> toRemove;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <a class="code" href="../../da/db7/class_unit.html#a82fb2d4bc61ba6e8ef2c4169003a7d65">AttackerSet</a> <span class="keyword">const</span>&amp; attackers = <a class="code" href="../../da/db7/class_unit.html#a264d868fa0654fdfe1529137f97248e3">getAttackers</a>();</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordflow">for</span> (AttackerSet::const_iterator itr = attackers.begin(); itr != attackers.end(); ++itr)</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="keywordflow">if</span> (!(*itr)-&gt;IsValidAttackTarget(<span class="keyword">this</span>))</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            toRemove.insert(*itr);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordflow">for</span> (AttackerSet::const_iterator itr = toRemove.begin(); itr != toRemove.end(); ++itr)</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        (*itr)-&gt;AttackStop();</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160; </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="comment">// xinef: remove our own victim</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/db7/class_unit.html">Unit</a>* victim = <a class="code" href="../../da/db7/class_unit.html#af8c91dcb86bd35e070c646e8baeaa4b4">GetVictim</a>())</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../da/db7/class_unit.html#a1a733a908c073be90e5174601d448002">IsValidAttackTarget</a>(victim))</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            <a class="code" href="../../da/db7/class_unit.html#aee07e22b70ed433a845b0673579d5fee">AttackStop</a>();</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;}</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160; </div>
<div class="line"><a name="l00402"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a3459940c7ff9e2c6719bbfdc4336389d">  402</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a3459940c7ff9e2c6719bbfdc4336389d">Player::UpdateDuelFlag</a>(time_t currTime)</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;{</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d53/class_player.html#af4276a95add7ab745b78082e800f0306">duel</a> || <a class="code" href="../../d8/d53/class_player.html#af4276a95add7ab745b78082e800f0306">duel</a>-&gt;<a class="code" href="../../db/def/struct_duel_info.html#a9c74c722ada5fbb14b852f05ff887c5b">startTimer</a> == 0 || currTime &lt; duel-&gt;startTimer + 3)</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160; </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <a class="code" href="../../d0/d7d/_script_mgr_8h.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnPlayerDuelStart(<span class="keyword">this</span>, <a class="code" href="../../d8/d53/class_player.html#af4276a95add7ab745b78082e800f0306">duel</a>-&gt;<a class="code" href="../../db/def/struct_duel_info.html#a3b032f1dea0693f9571bd1926056d9b5">opponent</a>);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <a class="code" href="../../d8/d83/class_object.html#adc7e9b205f35f9894ec9a4f0ec0871f9">SetUInt32Value</a>(<a class="code" href="../../dd/d65/_update_fields_8h.html#a0e42dc606678c9df7884e1aad621e881ad3da9a4f8db021fd6ee10500b2999c59">PLAYER_DUEL_TEAM</a>, 1);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#af4276a95add7ab745b78082e800f0306">duel</a>-&gt;<a class="code" href="../../db/def/struct_duel_info.html#a3b032f1dea0693f9571bd1926056d9b5">opponent</a>-&gt;<a class="code" href="../../d8/d83/class_object.html#adc7e9b205f35f9894ec9a4f0ec0871f9">SetUInt32Value</a>(<a class="code" href="../../dd/d65/_update_fields_8h.html#a0e42dc606678c9df7884e1aad621e881ad3da9a4f8db021fd6ee10500b2999c59">PLAYER_DUEL_TEAM</a>, 2);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#af4276a95add7ab745b78082e800f0306">duel</a>-&gt;<a class="code" href="../../db/def/struct_duel_info.html#a9c74c722ada5fbb14b852f05ff887c5b">startTimer</a> = 0;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#af4276a95add7ab745b78082e800f0306">duel</a>-&gt;<a class="code" href="../../db/def/struct_duel_info.html#ae98d6579ccc51e4c40cedce0479edaf5">startTime</a>  = currTime;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#af4276a95add7ab745b78082e800f0306">duel</a>-&gt;<a class="code" href="../../db/def/struct_duel_info.html#a3b032f1dea0693f9571bd1926056d9b5">opponent</a>-&gt;<a class="code" href="../../d8/d53/class_player.html#af4276a95add7ab745b78082e800f0306">duel</a>-&gt;<a class="code" href="../../db/def/struct_duel_info.html#a9c74c722ada5fbb14b852f05ff887c5b">startTimer</a> = 0;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#af4276a95add7ab745b78082e800f0306">duel</a>-&gt;<a class="code" href="../../db/def/struct_duel_info.html#a3b032f1dea0693f9571bd1926056d9b5">opponent</a>-&gt;<a class="code" href="../../d8/d53/class_player.html#af4276a95add7ab745b78082e800f0306">duel</a>-&gt;<a class="code" href="../../db/def/struct_duel_info.html#ae98d6579ccc51e4c40cedce0479edaf5">startTime</a>  = currTime;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;}</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160; </div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">/*********************************************************/</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a5287085841b4a0e311f7dd0ea20f61af">  420</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a5287085841b4a0e311f7dd0ea20f61af">Player::SendItemRetrievalMail</a>(<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> itemEntry, <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a501bb1bb2f0cc5706178ed237958e73b">count</a>)</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;{</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <a class="code" href="../../d8/d53/class_player.html#a5287085841b4a0e311f7dd0ea20f61af">SendItemRetrievalMail</a>({ { itemEntry, <a class="code" href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a501bb1bb2f0cc5706178ed237958e73b">count</a> } });</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;}</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160; </div>
<div class="line"><a name="l00425"></a><span class="lineno"><a class="line" href="../../d8/d53/class_player.html#a3232400117192bad735c339d3482056f">  425</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d53/class_player.html#a5287085841b4a0e311f7dd0ea20f61af">Player::SendItemRetrievalMail</a>(std::vector&lt;std::pair&lt;uint32, uint32&gt;&gt; mailItems)</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;{</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">if</span> (mailItems.empty())</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <span class="comment">// Skip send if empty items</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        <a class="code" href="../../d3/d07/src_2common_2_logging_2_log_8h.html#a42bcf0f5d8fbd8c8f9f4ef66e35766d5">FMT_LOG_ERROR</a>(<span class="stringliteral">&quot;entities.player.items&quot;</span>, <span class="stringliteral">&quot;&gt; SendItemRetrievalMail: Attempt to send almost with items without items. Player {}&quot;</span>, <a class="code" href="../../d8/d83/class_object.html#ae65fbd7720a9aa448516f6cf494bda67">GetGUID</a>().<a class="code" href="../../d1/d26/struct_position.html#a3a41e36588db20c750b48569894a2753">ToString</a>());</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    }</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160; </div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keyword">using</span> SendMailTempateVector = std::vector&lt;std::pair&lt;uint32, uint32&gt;&gt;;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160; </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    std::vector&lt;SendMailTempateVector&gt; allItems;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160; </div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keyword">auto</span> AddMailItem = [&amp;allItems](<a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> itemEntry, <a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> itemCount)</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        SendMailTempateVector toSendItems;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160; </div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <a class="code" href="../../da/d61/struct_item_template.html">ItemTemplate</a> <span class="keyword">const</span>* itemTemplate = <a class="code" href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplate(itemEntry);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <span class="keywordflow">if</span> (!itemTemplate)</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            <a class="code" href="../../d3/d07/src_2common_2_logging_2_log_8h.html#a42bcf0f5d8fbd8c8f9f4ef66e35766d5">FMT_LOG_ERROR</a>(<span class="stringliteral">&quot;entities.player.items&quot;</span>, <span class="stringliteral">&quot;&gt; SendItemRetrievalMail: Item id {} is invalid&quot;</span>, itemEntry);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        }</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <span class="keywordflow">if</span> (itemCount &lt; 1 || (itemTemplate-&gt;<a class="code" href="../../da/d61/struct_item_template.html#a2c13c4c1edbd3add9c6e0e2263f6c717">MaxCount</a> &gt; 0 &amp;&amp; itemCount &gt; <span class="keyword">static_cast&lt;</span><a class="code" href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a><span class="keyword">&gt;</span>(itemTemplate-&gt;<a class="code" href="../../da/d61/struct_item_template.html#a2c13c4c1edbd3add9c6e0e2263f6c717">MaxCount</a>)))</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        {</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            <a class="code" href="../../d3/d07/src_2common_2_logging_2_log_8h.html#a42bcf0f5d8fbd8c8f9f4ef66e35766d5">FMT_LOG_ERROR</a>(<span class="stringliteral">&quot;entities.player.items&quot;</span>, <span class="stringliteral">&quot;&gt; SendItemRetrievalMail: Incorrect item count ({}) for item id {}&quot;</span>, itemEntry, itemCount);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <span class="keywordflow">while</span> (itemCount &gt; itemTemplate-&gt;<a class="code" href="../../da/d61/struct_item_template.html#a397d7a20deee4000f7692ba5e8eae176">GetMaxStackSize</a>())</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            <span class="keywordflow">if</span> (toSendItems.size() &lt;= <a class="code" href="../../d8/d23/_mail_8h.html#a92d79b5b2210d828abe28a8834a50770">MAX_MAIL_ITEMS</a>)</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            {</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                toSendItems.emplace_back(itemEntry, itemTemplate-&gt;<a class="code" href="../../da/d61/struct_item_template.html#a397d7a20deee4000f7692ba5e8eae176">GetMaxStackSize</a>());</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                itemCount -= itemTemplate-&gt;<a class="code" href="../../da/d61/struct_item_template.html#a397d7a20deee4000f7692ba5e8eae176">GetMaxStackSize</a>();</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            }</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            {</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                allItems.emplace_back(toSendItems);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                toSendItems.clear();</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            }</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        }</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        toSendItems.emplace_back(itemEntry, itemCount);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        allItems.emplace_back(toSendItems);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    };</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160; </div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; [itemEntry, itemCount] : mailItems)</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        AddMailItem(itemEntry, itemCount);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    }</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160; </div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <a class="code" href="../../db/d04/_database_env_fwd_8h.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a> trans = <a class="code" href="../../d6/d2e/_database_env_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.BeginTransaction();</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160; </div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; items : allItems)</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <a class="code" href="../../d6/d19/class_mail_sender.html">MailSender</a> sender(<a class="code" href="../../d8/d23/_mail_8h.html#afb83216fd8c410f5d4bdfef0f9b302eda462b01f59d339ec67b080f100e97256c">MAIL_CREATURE</a>, 34337 <span class="comment">/* The Postmaster */</span>);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <a class="code" href="../../dd/dc0/class_mail_draft.html">MailDraft</a> draft(<span class="stringliteral">&quot;Recovered Item&quot;</span>, <span class="stringliteral">&quot;We recovered a lost item in the twisting nether and noted that it was yours.$B$BPlease find said object enclosed.&quot;</span>); <span class="comment">// This is the text used in Cataclysm, it probably wasn&#39;t changed.</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160; </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; [itemEntry, itemCount] : items)</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        {</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../dc/d32/class_item.html">Item</a>* mailItem = <a class="code" href="../../dc/d32/class_item.html#a1eba1689f9ddd48d21394c4206aff398">Item::CreateItem</a>(itemEntry, itemCount))</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            {</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                mailItem-&gt;SaveToDB(trans);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                draft.<a class="code" href="../../dd/dc0/class_mail_draft.html#ae0c2b4bac4dd8f2a8c53608c45cbb11a">AddItem</a>(mailItem);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            }</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        }</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160; </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        draft.<a class="code" href="../../dd/dc0/class_mail_draft.html#a54d7c515fcbf1523dc840657e28ecc2c">SendMailTo</a>(trans, <a class="code" href="../../dc/d7a/class_mail_receiver.html">MailReceiver</a>(<span class="keyword">this</span>, <a class="code" href="../../d8/d83/class_object.html#ae65fbd7720a9aa448516f6cf494bda67">GetGUID</a>().GetCounter()), sender);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    }</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160; </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <a class="code" href="../../d6/d2e/_database_env_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.CommitTransaction(trans);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;}</div>
<div class="ttc" id="a_character_database_8h_html_a76116b4fa282d8e35bf8f8e940b5cba7a79f7572ec67f28e39a8df5c5e3e2bf72"><div class="ttname"><a href="../../d7/d54/_character_database_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7a79f7572ec67f28e39a8df5c5e3e2bf72">CHAR_UPD_CHARACTER_POSITION</a></div><div class="ttdeci">@ CHAR_UPD_CHARACTER_POSITION</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d54/_character_database_8h_source.html#l00318">CharacterDatabase.h:318</a></div></div>
<div class="ttc" id="a_character_database_8h_html_a76116b4fa282d8e35bf8f8e940b5cba7aaae5117ac0c987e98fe2cf2a7b08e59a"><div class="ttname"><a href="../../d7/d54/_character_database_8h.html#a76116b4fa282d8e35bf8f8e940b5cba7aaae5117ac0c987e98fe2cf2a7b08e59a">CHAR_UPD_GENDER_AND_APPEARANCE</a></div><div class="ttdeci">@ CHAR_UPD_GENDER_AND_APPEARANCE</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d54/_character_database_8h_source.html#l00311">CharacterDatabase.h:311</a></div></div>
<div class="ttc" id="a_d_b_c_enums_8h_html_a43efb0a2e61815a66134dfa5ccea0a83"><div class="ttname"><a href="../../dc/d6e/_d_b_c_enums_8h.html#a43efb0a2e61815a66134dfa5ccea0a83">Difficulty</a></div><div class="ttdeci">Difficulty</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6e/_d_b_c_enums_8h_source.html#l00253">DBCEnums.h:254</a></div></div>
<div class="ttc" id="a_d_b_c_enums_8h_html_a43efb0a2e61815a66134dfa5ccea0a83a351d9a9eb4c38c4324e4905b2b451b99"><div class="ttname"><a href="../../dc/d6e/_d_b_c_enums_8h.html#a43efb0a2e61815a66134dfa5ccea0a83a351d9a9eb4c38c4324e4905b2b451b99">DUNGEON_DIFFICULTY_NORMAL</a></div><div class="ttdeci">@ DUNGEON_DIFFICULTY_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6e/_d_b_c_enums_8h_source.html#l00257">DBCEnums.h:257</a></div></div>
<div class="ttc" id="a_d_b_c_enums_8h_html_a4b8f96edf5459f120db77f80275dfe5c"><div class="ttname"><a href="../../dc/d6e/_d_b_c_enums_8h.html#a4b8f96edf5459f120db77f80275dfe5c">MAX_DIFFICULTY</a></div><div class="ttdeci">#define MAX_DIFFICULTY</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6e/_d_b_c_enums_8h_source.html#l00271">DBCEnums.h:271</a></div></div>
<div class="ttc" id="a_d_b_c_stores_8cpp_html_ac28198d1c28605951e9debe1298b8304"><div class="ttname"><a href="../../dd/d17/_d_b_c_stores_8cpp.html#ac28198d1c28605951e9debe1298b8304">sMapStore</a></div><div class="ttdeci">DBCStorage&lt; MapEntry &gt; sMapStore(MapEntryfmt)</div></div>
<div class="ttc" id="a_database_env_8cpp_html_a7e7534bc66d79434bd280b77cb124eec"><div class="ttname"><a href="../../d6/d2e/_database_env_8cpp.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a></div><div class="ttdeci">DatabaseWorkerPool&lt; CharacterDatabaseConnection &gt; CharacterDatabase</div><div class="ttdoc">Accessor to the character database.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2e/_database_env_8cpp_source.html#l00021">DatabaseEnv.cpp:21</a></div></div>
<div class="ttc" id="a_database_env_fwd_8h_html_a96bac9a371212c6bab7a9448214666c0"><div class="ttname"><a href="../../db/d04/_database_env_fwd_8h.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a></div><div class="ttdeci">SQLTransaction&lt; CharacterDatabaseConnection &gt; CharacterDatabaseTransaction</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d04/_database_env_fwd_8h_source.html#l00070">DatabaseEnvFwd.h:70</a></div></div>
<div class="ttc" id="a_define_8h_html_a0bf9964a3ce962c07ad3d8b5432bbbcd"><div class="ttname"><a href="../../db/d35/_define_8h.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a></div><div class="ttdeci">std::int32_t int32</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d35/_define_8h_source.html#l00110">Define.h:110</a></div></div>
<div class="ttc" id="a_define_8h_html_a22f78cc9780bf32aff91ae17c3101c8d"><div class="ttname"><a href="../../db/d35/_define_8h.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a></div><div class="ttdeci">std::uint32_t uint32</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d35/_define_8h_source.html#l00114">Define.h:114</a></div></div>
<div class="ttc" id="a_i_world_8h_html_a17aac4c166ebe43e3b8fdccf9e012e41a24f06431795abdafbd914894a2d48bb0"><div class="ttname"><a href="../../d2/d80/_i_world_8h.html#a17aac4c166ebe43e3b8fdccf9e012e41a24f06431795abdafbd914894a2d48bb0">CONFIG_CHATFLOOD_MUTE_TIME</a></div><div class="ttdeci">@ CONFIG_CHATFLOOD_MUTE_TIME</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/_i_world_8h_source.html#l00263">IWorld.h:263</a></div></div>
<div class="ttc" id="a_i_world_8h_html_a17aac4c166ebe43e3b8fdccf9e012e41ac52a3f49e57d4b119cd85e7c7db8bc68"><div class="ttname"><a href="../../d2/d80/_i_world_8h.html#a17aac4c166ebe43e3b8fdccf9e012e41ac52a3f49e57d4b119cd85e7c7db8bc68">CONFIG_CHATFLOOD_MESSAGE_DELAY</a></div><div class="ttdeci">@ CONFIG_CHATFLOOD_MESSAGE_DELAY</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/_i_world_8h_source.html#l00262">IWorld.h:262</a></div></div>
<div class="ttc" id="a_i_world_8h_html_a17aac4c166ebe43e3b8fdccf9e012e41aea0f00dd08cdcb4353400106dafbe5f4"><div class="ttname"><a href="../../d2/d80/_i_world_8h.html#a17aac4c166ebe43e3b8fdccf9e012e41aea0f00dd08cdcb4353400106dafbe5f4">CONFIG_CHATFLOOD_MESSAGE_COUNT</a></div><div class="ttdeci">@ CONFIG_CHATFLOOD_MESSAGE_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d80/_i_world_8h_source.html#l00261">IWorld.h:261</a></div></div>
<div class="ttc" id="a_instance_save_mgr_8h_html_aaa779bf09b703eb355cb51ac3481a19e"><div class="ttname"><a href="../../d4/d01/_instance_save_mgr_8h.html#aaa779bf09b703eb355cb51ac3481a19e">BoundInstancesMap</a></div><div class="ttdeci">std::unordered_map&lt; uint32, InstancePlayerBind &gt; BoundInstancesMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d01/_instance_save_mgr_8h_source.html#l00046">InstanceSaveMgr.h:46</a></div></div>
<div class="ttc" id="a_instance_save_mgr_8h_html_ae1d3c96dbd749e40f06799fa52eeb9a2"><div class="ttname"><a href="../../d4/d01/_instance_save_mgr_8h.html#ae1d3c96dbd749e40f06799fa52eeb9a2">sInstanceSaveMgr</a></div><div class="ttdeci">#define sInstanceSaveMgr</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d01/_instance_save_mgr_8h_source.html#l00200">InstanceSaveMgr.h:200</a></div></div>
<div class="ttc" id="a_mail_8h_html_a92d79b5b2210d828abe28a8834a50770"><div class="ttname"><a href="../../d8/d23/_mail_8h.html#a92d79b5b2210d828abe28a8834a50770">MAX_MAIL_ITEMS</a></div><div class="ttdeci">#define MAX_MAIL_ITEMS</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d23/_mail_8h_source.html#l00032">Mail.h:32</a></div></div>
<div class="ttc" id="a_mail_8h_html_afb83216fd8c410f5d4bdfef0f9b302eda462b01f59d339ec67b080f100e97256c"><div class="ttname"><a href="../../d8/d23/_mail_8h.html#afb83216fd8c410f5d4bdfef0f9b302eda462b01f59d339ec67b080f100e97256c">MAIL_CREATURE</a></div><div class="ttdeci">@ MAIL_CREATURE</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d23/_mail_8h_source.html#l00038">Mail.h:38</a></div></div>
<div class="ttc" id="a_map_8h_html_a85895841def625e565ac3122a1267447a0a6535943a7d7ce282d8d415f125a170"><div class="ttname"><a href="../../d3/d63/_map_8h.html#a85895841def625e565ac3122a1267447a0a6535943a7d7ce282d8d415f125a170">INSTANCE_RESET_GROUP_JOIN</a></div><div class="ttdeci">@ INSTANCE_RESET_GROUP_JOIN</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d63/_map_8h_source.html#l00783">Map.h:783</a></div></div>
<div class="ttc" id="a_map_8h_html_a85895841def625e565ac3122a1267447a364d607eec219f808901d16aeec31a8d"><div class="ttname"><a href="../../d3/d63/_map_8h.html#a85895841def625e565ac3122a1267447a364d607eec219f808901d16aeec31a8d">INSTANCE_RESET_CHANGE_DIFFICULTY</a></div><div class="ttdeci">@ INSTANCE_RESET_CHANGE_DIFFICULTY</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d63/_map_8h_source.html#l00781">Map.h:781</a></div></div>
<div class="ttc" id="a_map_8h_html_a85895841def625e565ac3122a1267447aa247d3a9d4e2cbb1ed24680fa3405bab"><div class="ttname"><a href="../../d3/d63/_map_8h.html#a85895841def625e565ac3122a1267447aa247d3a9d4e2cbb1ed24680fa3405bab">INSTANCE_RESET_GROUP_LEAVE</a></div><div class="ttdeci">@ INSTANCE_RESET_GROUP_LEAVE</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d63/_map_8h_source.html#l00785">Map.h:784</a></div></div>
<div class="ttc" id="a_map_8h_html_a85895841def625e565ac3122a1267447ab5ba7473d0bfac9d0f4dbc0e22a5a84d"><div class="ttname"><a href="../../d3/d63/_map_8h.html#a85895841def625e565ac3122a1267447ab5ba7473d0bfac9d0f4dbc0e22a5a84d">INSTANCE_RESET_ALL</a></div><div class="ttdeci">@ INSTANCE_RESET_ALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d63/_map_8h_source.html#l00780">Map.h:780</a></div></div>
<div class="ttc" id="a_map_mgr_8h_html"><div class="ttname"><a href="../../dd/dca/_map_mgr_8h.html">MapMgr.h</a></div></div>
<div class="ttc" id="a_map_mgr_8h_html_a9132749f8376c48b0ca7212eb3293905"><div class="ttname"><a href="../../dd/dca/_map_mgr_8h.html#a9132749f8376c48b0ca7212eb3293905">sMapMgr</a></div><div class="ttdeci">#define sMapMgr</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dca/_map_mgr_8h_source.html#l00212">MapMgr.h:212</a></div></div>
<div class="ttc" id="a_object_mgr_8h_html_a736e30da2b5261060ac6cdbb5de3b787"><div class="ttname"><a href="../../d9/d77/_object_mgr_8h.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a></div><div class="ttdeci">#define sObjectMgr</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d77/_object_mgr_8h_source.html#l01546">ObjectMgr.h:1546</a></div></div>
<div class="ttc" id="a_player_8h_html"><div class="ttname"><a href="../../d1/d39/_player_8h.html">Player.h</a></div></div>
<div class="ttc" id="a_player_8h_html_a486dd000e9a9532459d9dd9010570621adc8433300089ff8f6753b673ca882555"><div class="ttname"><a href="../../d1/d39/_player_8h.html#a486dd000e9a9532459d9dd9010570621adc8433300089ff8f6753b673ca882555">PLAYER_FLAGS_PVP_TIMER</a></div><div class="ttdeci">@ PLAYER_FLAGS_PVP_TIMER</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l00475">Player.h:475</a></div></div>
<div class="ttc" id="a_script_mgr_8h_html"><div class="ttname"><a href="../../d0/d7d/_script_mgr_8h.html">ScriptMgr.h</a></div></div>
<div class="ttc" id="a_script_mgr_8h_html_ae8161e629869974bc49b1cbfc73c1087"><div class="ttname"><a href="../../d0/d7d/_script_mgr_8h.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a></div><div class="ttdeci">#define sScriptMgr</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d7d/_script_mgr_8h_source.html#l02048">ScriptMgr.h:2048</a></div></div>
<div class="ttc" id="a_unit_8h_html_adfd426d7c800ae9b37ca91f5f2fd5d01a30e3d9f365bdf3a3c77f106080ab70cc"><div class="ttname"><a href="../../d5/d32/_unit_8h.html#adfd426d7c800ae9b37ca91f5f2fd5d01a30e3d9f365bdf3a3c77f106080ab70cc">UNIT_BYTE2_FLAG_FFA_PVP</a></div><div class="ttdeci">@ UNIT_BYTE2_FLAG_FFA_PVP</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l00247">Unit.h:247</a></div></div>
<div class="ttc" id="a_update_fields_8h_html_a0e42dc606678c9df7884e1aad621e881a65a8142f4727b52425e593eb2727d9f4"><div class="ttname"><a href="../../dd/d65/_update_fields_8h.html#a0e42dc606678c9df7884e1aad621e881a65a8142f4727b52425e593eb2727d9f4">PLAYER_FLAGS</a></div><div class="ttdeci">@ PLAYER_FLAGS</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d65/_update_fields_8h_source.html#l00178">UpdateFields.h:178</a></div></div>
<div class="ttc" id="a_update_fields_8h_html_a0e42dc606678c9df7884e1aad621e881ad3da9a4f8db021fd6ee10500b2999c59"><div class="ttname"><a href="../../dd/d65/_update_fields_8h.html#a0e42dc606678c9df7884e1aad621e881ad3da9a4f8db021fd6ee10500b2999c59">PLAYER_DUEL_TEAM</a></div><div class="ttdeci">@ PLAYER_DUEL_TEAM</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d65/_update_fields_8h_source.html#l00184">UpdateFields.h:184</a></div></div>
<div class="ttc" id="a_update_fields_8h_html_a0e42dc606678c9df7884e1aad621e881af2d4e268d5842c9b63100cfa2876c8cd"><div class="ttname"><a href="../../dd/d65/_update_fields_8h.html#a0e42dc606678c9df7884e1aad621e881af2d4e268d5842c9b63100cfa2876c8cd">UNIT_FIELD_BYTES_2</a></div><div class="ttdeci">@ UNIT_FIELD_BYTES_2</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d65/_update_fields_8h_source.html#l00161">UpdateFields.h:161</a></div></div>
<div class="ttc" id="aclass_instance_map_html_ad60b7ef4ef14f36245394fd7c929aad2"><div class="ttname"><a href="../../d8/ded/class_instance_map.html#ad60b7ef4ef14f36245394fd7c929aad2">InstanceMap::Reset</a></div><div class="ttdeci">bool Reset(uint8 method, GuidList *globalSkipList=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df4/_map_8cpp_source.html#l03044">Map.cpp:3044</a></div></div>
<div class="ttc" id="aclass_instance_save_html"><div class="ttname"><a href="../../de/dfe/class_instance_save.html">InstanceSave</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d01/_instance_save_mgr_8h_source.html#l00055">InstanceSaveMgr.h:56</a></div></div>
<div class="ttc" id="aclass_instance_save_html_a7def734d9c4698457fa4f631e30fa9db"><div class="ttname"><a href="../../de/dfe/class_instance_save.html#a7def734d9c4698457fa4f631e30fa9db">InstanceSave::GetInstanceId</a></div><div class="ttdeci">uint32 GetInstanceId() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d01/_instance_save_mgr_8h_source.html#l00061">InstanceSaveMgr.h:61</a></div></div>
<div class="ttc" id="aclass_instance_save_html_a92ce355e9be7f83d53307b6dcd354c5d"><div class="ttname"><a href="../../de/dfe/class_instance_save.html#a92ce355e9be7f83d53307b6dcd354c5d">InstanceSave::GetMapId</a></div><div class="ttdeci">uint32 GetMapId() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d01/_instance_save_mgr_8h_source.html#l00062">InstanceSaveMgr.h:62</a></div></div>
<div class="ttc" id="aclass_instance_save_html_aba8d512041c8485f49eef8c1fafce729"><div class="ttname"><a href="../../de/dfe/class_instance_save.html#aba8d512041c8485f49eef8c1fafce729">InstanceSave::CanReset</a></div><div class="ttdeci">bool CanReset() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d01/_instance_save_mgr_8h_source.html#l00081">InstanceSaveMgr.h:81</a></div></div>
<div class="ttc" id="aclass_item_html"><div class="ttname"><a href="../../dc/d32/class_item.html">Item</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d43/_item_8h_source.html#l00213">Item.h:214</a></div></div>
<div class="ttc" id="aclass_item_html_a1eba1689f9ddd48d21394c4206aff398"><div class="ttname"><a href="../../dc/d32/class_item.html#a1eba1689f9ddd48d21394c4206aff398">Item::CreateItem</a></div><div class="ttdeci">static Item * CreateItem(uint32 item, uint32 count, Player const *player=nullptr, bool clone=false, uint32 randomPropertyId=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d54/_item_8cpp_source.html#l01050">Item.cpp:1050</a></div></div>
<div class="ttc" id="aclass_mail_draft_html"><div class="ttname"><a href="../../dd/dc0/class_mail_draft.html">MailDraft</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d23/_mail_8h_source.html#l00117">Mail.h:118</a></div></div>
<div class="ttc" id="aclass_mail_draft_html_a54d7c515fcbf1523dc840657e28ecc2c"><div class="ttname"><a href="../../dd/dc0/class_mail_draft.html#a54d7c515fcbf1523dc840657e28ecc2c">MailDraft::SendMailTo</a></div><div class="ttdeci">void SendMailTo(CharacterDatabaseTransaction trans, MailReceiver const &amp;receiver, MailSender const &amp;sender, MailCheckMask checked=MAIL_CHECK_MASK_NONE, uint32 deliver_delay=0, uint32 custom_expiration=0, bool deleteMailItemsFromDB=false, bool sendMail=true, int32 auctionId=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db8/_mail_8cpp_source.html#l00181">Mail.cpp:181</a></div></div>
<div class="ttc" id="aclass_mail_draft_html_ae0c2b4bac4dd8f2a8c53608c45cbb11a"><div class="ttname"><a href="../../dd/dc0/class_mail_draft.html#ae0c2b4bac4dd8f2a8c53608c45cbb11a">MailDraft::AddItem</a></div><div class="ttdeci">MailDraft &amp; AddItem(Item *item)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db8/_mail_8cpp_source.html#l00092">Mail.cpp:92</a></div></div>
<div class="ttc" id="aclass_mail_receiver_html"><div class="ttname"><a href="../../dc/d7a/class_mail_receiver.html">MailReceiver</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d23/_mail_8h_source.html#l00103">Mail.h:104</a></div></div>
<div class="ttc" id="aclass_mail_sender_html"><div class="ttname"><a href="../../d6/d19/class_mail_sender.html">MailSender</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d23/_mail_8h_source.html#l00081">Mail.h:82</a></div></div>
<div class="ttc" id="aclass_map_html"><div class="ttname"><a href="../../dd/d11/class_map.html">Map</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d63/_map_8h_source.html#l00298">Map.h:299</a></div></div>
<div class="ttc" id="aclass_map_html_a5f818fd7349136f0d2198717527aa9bb"><div class="ttname"><a href="../../dd/d11/class_map.html#a5f818fd7349136f0d2198717527aa9bb">Map::ToInstanceMap</a></div><div class="ttdeci">InstanceMap * ToInstanceMap()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d63/_map_8h_source.html#l00529">Map.h:529</a></div></div>
<div class="ttc" id="aclass_object_guid_html"><div class="ttname"><a href="../../d8/d03/class_object_guid.html">ObjectGuid</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d83/_object_guid_8h_source.html#l00119">ObjectGuid.h:120</a></div></div>
<div class="ttc" id="aclass_object_guid_html_a0df27b85c91a2c619e8f1d9c2cb31677"><div class="ttname"><a href="../../d8/d03/class_object_guid.html#a0df27b85c91a2c619e8f1d9c2cb31677">ObjectGuid::GetCounter</a></div><div class="ttdeci">LowType GetCounter() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d83/_object_guid_8h_source.html#l00147">ObjectGuid.h:147</a></div></div>
<div class="ttc" id="aclass_object_html_a79a7a80acdec46961b4d8aaead4ae631"><div class="ttname"><a href="../../d8/d83/class_object.html#a79a7a80acdec46961b4d8aaead4ae631">Object::SetFlag</a></div><div class="ttdeci">void SetFlag(uint16 index, uint32 newFlag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/ded/_object_8cpp_source.html#l00836">Object.cpp:836</a></div></div>
<div class="ttc" id="aclass_object_html_acef75a7f84673fda790861bd1b0b68b7"><div class="ttname"><a href="../../d8/d83/class_object.html#acef75a7f84673fda790861bd1b0b68b7">Object::RemoveByteFlag</a></div><div class="ttdeci">void RemoveByteFlag(uint16 index, uint8 offset, uint8 newFlag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/ded/_object_8cpp_source.html#l00921">Object.cpp:921</a></div></div>
<div class="ttc" id="aclass_object_html_acf64820d3725a37cef2c63f0baa820e7"><div class="ttname"><a href="../../d8/d83/class_object.html#acf64820d3725a37cef2c63f0baa820e7">Object::HasFlag</a></div><div class="ttdeci">bool HasFlag(uint16 index, uint32 flag) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/ded/_object_8cpp_source.html#l00880">Object.cpp:880</a></div></div>
<div class="ttc" id="aclass_object_html_ad23b997e2442fa6a6228ba73a7ecc138"><div class="ttname"><a href="../../d8/d83/class_object.html#ad23b997e2442fa6a6228ba73a7ecc138">Object::GetGUID</a></div><div class="ttdeci">static ObjectGuid GetGUID(Object const *o)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/_object_8h_source.html#l00098">Object.h:98</a></div></div>
<div class="ttc" id="aclass_object_html_ad4b3f372b6700cd50e1eb7ef238cf3be"><div class="ttname"><a href="../../d8/d83/class_object.html#ad4b3f372b6700cd50e1eb7ef238cf3be">Object::GetPackGUID</a></div><div class="ttdeci">PackedGuid const  &amp; GetPackGUID() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/_object_8h_source.html#l00100">Object.h:100</a></div></div>
<div class="ttc" id="aclass_object_html_adc7e9b205f35f9894ec9a4f0ec0871f9"><div class="ttname"><a href="../../d8/d83/class_object.html#adc7e9b205f35f9894ec9a4f0ec0871f9">Object::SetUInt32Value</a></div><div class="ttdeci">void SetUInt32Value(uint16 index, uint32 value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/ded/_object_8cpp_source.html#l00641">Object.cpp:641</a></div></div>
<div class="ttc" id="aclass_object_html_ae65fbd7720a9aa448516f6cf494bda67"><div class="ttname"><a href="../../d8/d83/class_object.html#ae65fbd7720a9aa448516f6cf494bda67">Object::GetGUID</a></div><div class="ttdeci">ObjectGuid GetGUID() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/_object_8h_source.html#l00099">Object.h:99</a></div></div>
<div class="ttc" id="aclass_packed_guid_html_a22ac06b7072951e84bbf69abcd7d58f6"><div class="ttname"><a href="../../d5/df6/class_packed_guid.html#a22ac06b7072951e84bbf69abcd7d58f6">PackedGuid::size</a></div><div class="ttdeci">std::size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d83/_object_guid_8h_source.html#l00276">ObjectGuid.h:276</a></div></div>
<div class="ttc" id="aclass_player_html"><div class="ttname"><a href="../../d8/d53/class_player.html">Player</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l01023">Player.h:1024</a></div></div>
<div class="ttc" id="aclass_player_html_a02ed847754aaf3aecf7294742169168a"><div class="ttname"><a href="../../d8/d53/class_player.html#a02ed847754aaf3aecf7294742169168a">Player::CanSpeak</a></div><div class="ttdeci">bool CanSpeak() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7b/_player_misc_8cpp_source.html#l00056">PlayerMisc.cpp:56</a></div></div>
<div class="ttc" id="aclass_player_html_a09666cc06a561b03657205d249b40fec"><div class="ttname"><a href="../../d8/d53/class_player.html#a09666cc06a561b03657205d249b40fec">Player::SendExplorationExperience</a></div><div class="ttdeci">void SendExplorationExperience(uint32 Area, uint32 Experience)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7b/_player_misc_8cpp_source.html#l00157">PlayerMisc.cpp:157</a></div></div>
<div class="ttc" id="aclass_player_html_a0a8049df86707056ac7d376363e8a3da"><div class="ttname"><a href="../../d8/d53/class_player.html#a0a8049df86707056ac7d376363e8a3da">Player::GetRaidDifficulty</a></div><div class="ttdeci">Difficulty GetRaidDifficulty() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l01864">Player.h:1864</a></div></div>
<div class="ttc" id="aclass_player_html_a0eaf8ade1fc32527b845a3213bb27703"><div class="ttname"><a href="../../d8/d53/class_player.html#a0eaf8ade1fc32527b845a3213bb27703">Player::SendAttackSwingCancelAttack</a></div><div class="ttdeci">void SendAttackSwingCancelAttack()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7b/_player_misc_8cpp_source.html#l00138">PlayerMisc.cpp:138</a></div></div>
<div class="ttc" id="aclass_player_html_a1c212b8f9ae8b1a38a41f9c7db005dca"><div class="ttname"><a href="../../d8/d53/class_player.html#a1c212b8f9ae8b1a38a41f9c7db005dca">Player::GetSession</a></div><div class="ttdeci">WorldSession * GetSession() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l01940">Player.h:1940</a></div></div>
<div class="ttc" id="aclass_player_html_a205b675c105e632b08e2eb4edeec99bf"><div class="ttname"><a href="../../d8/d53/class_player.html#a205b675c105e632b08e2eb4edeec99bf">Player::UpdateContestedPvP</a></div><div class="ttdeci">void UpdateContestedPvP(uint32 currTime)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7b/_player_misc_8cpp_source.html#l00342">PlayerMisc.cpp:342</a></div></div>
<div class="ttc" id="aclass_player_html_a209a7a3971ad297c2aeee0a15cfce132"><div class="ttname"><a href="../../d8/d53/class_player.html#a209a7a3971ad297c2aeee0a15cfce132">Player::SendAttackSwingBadFacingAttack</a></div><div class="ttdeci">void SendAttackSwingBadFacingAttack()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7b/_player_misc_8cpp_source.html#l00144">PlayerMisc.cpp:144</a></div></div>
<div class="ttc" id="aclass_player_html_a284f042fd1a97b5011b1c30d8db69ec0"><div class="ttname"><a href="../../d8/d53/class_player.html#a284f042fd1a97b5011b1c30d8db69ec0">Player::ResetContestedPvP</a></div><div class="ttdeci">void ResetContestedPvP()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l01809">Player.h:1809</a></div></div>
<div class="ttc" id="aclass_player_html_a2f876e332a71e68aa8fd08863ad3623c"><div class="ttname"><a href="../../d8/d53/class_player.html#a2f876e332a71e68aa8fd08863ad3623c">Player::SendAutoRepeatCancel</a></div><div class="ttdeci">void SendAutoRepeatCancel(Unit *target)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7b/_player_misc_8cpp_source.html#l00150">PlayerMisc.cpp:150</a></div></div>
<div class="ttc" id="aclass_player_html_a2f8909f36282889342c505016e76e98e"><div class="ttname"><a href="../../d8/d53/class_player.html#a2f8909f36282889342c505016e76e98e">Player::UpdatePvP</a></div><div class="ttdeci">void UpdatePvP(bool state, bool _override=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d38/_player_updates_8cpp_source.html#l01463">PlayerUpdates.cpp:1463</a></div></div>
<div class="ttc" id="aclass_player_html_a2ff889ab3397371394a716de7fd207f5"><div class="ttname"><a href="../../d8/d53/class_player.html#a2ff889ab3397371394a716de7fd207f5">Player::m_speakCount</a></div><div class="ttdeci">uint32 m_speakCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l02723">Player.h:2723</a></div></div>
<div class="ttc" id="aclass_player_html_a33d742156858f880cc0caa9e36368694"><div class="ttname"><a href="../../d8/d53/class_player.html#a33d742156858f880cc0caa9e36368694">Player::SendAttackSwingDeadTarget</a></div><div class="ttdeci">void SendAttackSwingDeadTarget()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7b/_player_misc_8cpp_source.html#l00126">PlayerMisc.cpp:126</a></div></div>
<div class="ttc" id="aclass_player_html_a3459940c7ff9e2c6719bbfdc4336389d"><div class="ttname"><a href="../../d8/d53/class_player.html#a3459940c7ff9e2c6719bbfdc4336389d">Player::UpdateDuelFlag</a></div><div class="ttdeci">void UpdateDuelFlag(time_t currTime)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7b/_player_misc_8cpp_source.html#l00402">PlayerMisc.cpp:402</a></div></div>
<div class="ttc" id="aclass_player_html_a3bb704a077f4a868867af3a6d15cec1e"><div class="ttname"><a href="../../d8/d53/class_player.html#a3bb704a077f4a868867af3a6d15cec1e">Player::Customize</a></div><div class="ttdeci">static void Customize(CharacterCustomizeInfo const *customizeInfo, CharacterDatabaseTransaction trans)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7b/_player_misc_8cpp_source.html#l00112">PlayerMisc.cpp:112</a></div></div>
<div class="ttc" id="aclass_player_html_a4e146717e02e530b473d147e6c650ff4"><div class="ttname"><a href="../../d8/d53/class_player.html#a4e146717e02e530b473d147e6c650ff4">Player::GetDifficulty</a></div><div class="ttdeci">Difficulty GetDifficulty(bool isRaid) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l01862">Player.h:1862</a></div></div>
<div class="ttc" id="aclass_player_html_a5287085841b4a0e311f7dd0ea20f61af"><div class="ttname"><a href="../../d8/d53/class_player.html#a5287085841b4a0e311f7dd0ea20f61af">Player::SendItemRetrievalMail</a></div><div class="ttdeci">void SendItemRetrievalMail(uint32 itemEntry, uint32 count)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7b/_player_misc_8cpp_source.html#l00420">PlayerMisc.cpp:420</a></div></div>
<div class="ttc" id="aclass_player_html_a57f3aa161993f5105c1aac5dda7bc919"><div class="ttname"><a href="../../d8/d53/class_player.html#a57f3aa161993f5105c1aac5dda7bc919">Player::SendDungeonDifficulty</a></div><div class="ttdeci">void SendDungeonDifficulty(bool IsInGroup)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7b/_player_misc_8cpp_source.html#l00165">PlayerMisc.cpp:165</a></div></div>
<div class="ttc" id="aclass_player_html_a62a08b0de5f32b752ca51d2056848408"><div class="ttname"><a href="../../d8/d53/class_player.html#a62a08b0de5f32b752ca51d2056848408">Player::SendAttackSwingNotInRange</a></div><div class="ttdeci">void SendAttackSwingNotInRange()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7b/_player_misc_8cpp_source.html#l00065">PlayerMisc.cpp:65</a></div></div>
<div class="ttc" id="aclass_player_html_a738787cc25568c4d55365150153440dd"><div class="ttname"><a href="../../d8/d53/class_player.html#a738787cc25568c4d55365150153440dd">Player::UpdatePvPFlag</a></div><div class="ttdeci">void UpdatePvPFlag(time_t currTime)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7b/_player_misc_8cpp_source.html#l00354">PlayerMisc.cpp:354</a></div></div>
<div class="ttc" id="aclass_player_html_a80b52d62bc948d41cd21f201ace22aac"><div class="ttname"><a href="../../d8/d53/class_player.html#a80b52d62bc948d41cd21f201ace22aac">Player::m_speakTime</a></div><div class="ttdeci">time_t m_speakTime</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l02722">Player.h:2722</a></div></div>
<div class="ttc" id="aclass_player_html_a84f8fc339951e79af1bf98269f1433fe"><div class="ttname"><a href="../../d8/d53/class_player.html#a84f8fc339951e79af1bf98269f1433fe">Player::SendResetFailedNotify</a></div><div class="ttdeci">void SendResetFailedNotify(uint32 mapid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7b/_player_misc_8cpp_source.html#l00185">PlayerMisc.cpp:185</a></div></div>
<div class="ttc" id="aclass_player_html_a87101c44db241c06fdc90690f019f19c"><div class="ttname"><a href="../../d8/d53/class_player.html#a87101c44db241c06fdc90690f019f19c">Player::SendAttackSwingCantAttack</a></div><div class="ttdeci">void SendAttackSwingCantAttack()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7b/_player_misc_8cpp_source.html#l00132">PlayerMisc.cpp:132</a></div></div>
<div class="ttc" id="aclass_player_html_a92a64826ef333d70d701622b415a3727"><div class="ttname"><a href="../../d8/d53/class_player.html#a92a64826ef333d70d701622b415a3727">Player::m_contestedPvPTimer</a></div><div class="ttdeci">uint32 m_contestedPvPTimer</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l02614">Player.h:2614</a></div></div>
<div class="ttc" id="aclass_player_html_a935fe38c6d06165395ba8660a1328afc"><div class="ttname"><a href="../../d8/d53/class_player.html#a935fe38c6d06165395ba8660a1328afc">Player::UpdateFFAPvPFlag</a></div><div class="ttdeci">void UpdateFFAPvPFlag(time_t currTime)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7b/_player_misc_8cpp_source.html#l00373">PlayerMisc.cpp:373</a></div></div>
<div class="ttc" id="aclass_player_html_a9966f1ea2cb3a16e36aa80a8b5fbb5c2"><div class="ttname"><a href="../../d8/d53/class_player.html#a9966f1ea2cb3a16e36aa80a8b5fbb5c2">Player::IsFFAPvP</a></div><div class="ttdeci">bool IsFFAPvP()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d82/_player_8cpp_source.html#l15332">Player.cpp:15332</a></div></div>
<div class="ttc" id="aclass_player_html_aa1b93687507f29637f2e42574ddd02ed"><div class="ttname"><a href="../../d8/d53/class_player.html#aa1b93687507f29637f2e42574ddd02ed">Player::pvpInfo</a></div><div class="ttdeci">PvPInfo pvpInfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l01787">Player.h:1787</a></div></div>
<div class="ttc" id="aclass_player_html_ab02cea70b3ffda8e2cab9c6972a649de"><div class="ttname"><a href="../../d8/d53/class_player.html#ab02cea70b3ffda8e2cab9c6972a649de">Player::UpdateSpeakTime</a></div><div class="ttdeci">void UpdateSpeakTime(uint32 specialMessageLimit=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7b/_player_misc_8cpp_source.html#l00026">PlayerMisc.cpp:26</a></div></div>
<div class="ttc" id="aclass_player_html_ab568defddd21754ed10afc57eed069b1"><div class="ttname"><a href="../../d8/d53/class_player.html#ab568defddd21754ed10afc57eed069b1">Player::SendResetInstanceSuccess</a></div><div class="ttdeci">void SendResetInstanceSuccess(uint32 MapId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7b/_player_misc_8cpp_source.html#l00308">PlayerMisc.cpp:308</a></div></div>
<div class="ttc" id="aclass_player_html_ac0eec5ae3172170db1c8ccd591656d2d"><div class="ttname"><a href="../../d8/d53/class_player.html#ac0eec5ae3172170db1c8ccd591656d2d">Player::SendMessageToSet</a></div><div class="ttdeci">void SendMessageToSet(WorldPacket *data, bool self) override</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l01968">Player.h:1968</a></div></div>
<div class="ttc" id="aclass_player_html_ac6111a081e3ac7362bf4658f0686880d"><div class="ttname"><a href="../../d8/d53/class_player.html#ac6111a081e3ac7362bf4658f0686880d">Player::SetUInt32ValueInArray</a></div><div class="ttdeci">static void SetUInt32ValueInArray(Tokenizer &amp;data, uint16 index, uint32 value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7b/_player_misc_8cpp_source.html#l00101">PlayerMisc.cpp:101</a></div></div>
<div class="ttc" id="aclass_player_html_ad1d3a9f2d29c011bd71d453222b69b8a"><div class="ttname"><a href="../../d8/d53/class_player.html#ad1d3a9f2d29c011bd71d453222b69b8a">Player::ResetInstances</a></div><div class="ttdeci">static void ResetInstances(ObjectGuid guid, uint8 method, bool isRaid)</div><div class="ttdoc">Reset all solo instances and optionally send a message on success for each.</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7b/_player_misc_8cpp_source.html#l00193">PlayerMisc.cpp:193</a></div></div>
<div class="ttc" id="aclass_player_html_adf1c3782f303f43603ff1831bb246f39"><div class="ttname"><a href="../../d8/d53/class_player.html#adf1c3782f303f43603ff1831bb246f39">Player::SendResetInstanceFailed</a></div><div class="ttdeci">void SendResetInstanceFailed(uint32 reason, uint32 MapId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7b/_player_misc_8cpp_source.html#l00315">PlayerMisc.cpp:315</a></div></div>
<div class="ttc" id="aclass_player_html_ae700cc88ca33f3a8ff8cf3e308380bc7"><div class="ttname"><a href="../../d8/d53/class_player.html#ae700cc88ca33f3a8ff8cf3e308380bc7">Player::SavePositionInDB</a></div><div class="ttdeci">static void SavePositionInDB(uint32 mapid, float x, float y, float z, float o, uint32 zone, ObjectGuid guid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7b/_player_misc_8cpp_source.html#l00071">PlayerMisc.cpp:71</a></div></div>
<div class="ttc" id="aclass_player_html_ae7d054b6d8fa0d9133b9bee01829f700"><div class="ttname"><a href="../../d8/d53/class_player.html#ae7d054b6d8fa0d9133b9bee01829f700">Player::GetDungeonDifficulty</a></div><div class="ttdeci">Difficulty GetDungeonDifficulty() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l01863">Player.h:1863</a></div></div>
<div class="ttc" id="aclass_player_html_aee25758fdb264cb59243b24434a42a26"><div class="ttname"><a href="../../d8/d53/class_player.html#aee25758fdb264cb59243b24434a42a26">Player::m_bgData</a></div><div class="ttdeci">BGData m_bgData</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l02621">Player.h:2621</a></div></div>
<div class="ttc" id="aclass_player_html_af257fef589544a08a5d3b69e44f15472"><div class="ttname"><a href="../../d8/d53/class_player.html#af257fef589544a08a5d3b69e44f15472">Player::IsPvP</a></div><div class="ttdeci">bool IsPvP()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d82/_player_8cpp_source.html#l15341">Player.cpp:15341</a></div></div>
<div class="ttc" id="aclass_player_html_af4276a95add7ab745b78082e800f0306"><div class="ttname"><a href="../../d8/d53/class_player.html#af4276a95add7ab745b78082e800f0306">Player::duel</a></div><div class="ttdeci">DuelInfo * duel</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l01817">Player.h:1817</a></div></div>
<div class="ttc" id="aclass_player_html_af48dc87f6ce3faea52f7de59e7f92d0b"><div class="ttname"><a href="../../d8/d53/class_player.html#af48dc87f6ce3faea52f7de59e7f92d0b">Player::SendRaidDifficulty</a></div><div class="ttdeci">void SendRaidDifficulty(bool IsInGroup, int32 forcedDifficulty=-1)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7b/_player_misc_8cpp_source.html#l00175">PlayerMisc.cpp:175</a></div></div>
<div class="ttc" id="aclass_player_html_affdbd69b2c33a4a6123e764703b6bd57"><div class="ttname"><a href="../../d8/d53/class_player.html#affdbd69b2c33a4a6123e764703b6bd57">Player::UpdateAfkReport</a></div><div class="ttdeci">void UpdateAfkReport(time_t currTime)</div><div class="ttdoc">checks the 15 afk reports per 5 minutes limit</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7b/_player_misc_8cpp_source.html#l00333">PlayerMisc.cpp:333</a></div></div>
<div class="ttc" id="aclass_prepared_statement_base_html_a2b5ec613e09d42b74c62c9a2169b9f81"><div class="ttname"><a href="../../dd/d6a/class_prepared_statement_base.html#a2b5ec613e09d42b74c62c9a2169b9f81">PreparedStatementBase::setFloat</a></div><div class="ttdeci">void setFloat(const uint8 index, const float value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4f/_prepared_statement_8cpp_source.html#l00086">PreparedStatement.cpp:86</a></div></div>
<div class="ttc" id="aclass_prepared_statement_base_html_a6f6a7b65201600c68182453300119e5b"><div class="ttname"><a href="../../dd/d6a/class_prepared_statement_base.html#a6f6a7b65201600c68182453300119e5b">PreparedStatementBase::setUInt8</a></div><div class="ttdeci">void setUInt8(const uint8 index, const uint8 value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4f/_prepared_statement_8cpp_source.html#l00038">PreparedStatement.cpp:38</a></div></div>
<div class="ttc" id="aclass_prepared_statement_base_html_a93efae944cba1cd7e11583a08f25b2d6"><div class="ttname"><a href="../../dd/d6a/class_prepared_statement_base.html#a93efae944cba1cd7e11583a08f25b2d6">PreparedStatementBase::setUInt32</a></div><div class="ttdeci">void setUInt32(const uint8 index, const uint32 value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4f/_prepared_statement_8cpp_source.html#l00050">PreparedStatement.cpp:50</a></div></div>
<div class="ttc" id="aclass_prepared_statement_base_html_aa67f12b86e2ab6788f44a444d1a4dc01"><div class="ttname"><a href="../../dd/d6a/class_prepared_statement_base.html#aa67f12b86e2ab6788f44a444d1a4dc01">PreparedStatementBase::setUInt16</a></div><div class="ttdeci">void setUInt16(const uint8 index, const uint16 value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4f/_prepared_statement_8cpp_source.html#l00044">PreparedStatement.cpp:44</a></div></div>
<div class="ttc" id="aclass_prepared_statement_html"><div class="ttname"><a href="../../da/d37/class_prepared_statement.html">PreparedStatement</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d89/_prepared_statement_8h_source.html#l00102">PreparedStatement.h:103</a></div></div>
<div class="ttc" id="aclass_tokenizer_html"><div class="ttname"><a href="../../d8/d0e/class_tokenizer.html">Tokenizer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de9/src_2common_2_utilities_2util_8h_source.html#l00045">Util.h:46</a></div></div>
<div class="ttc" id="aclass_tokenizer_html_a84fec1cbb0c61932c2121b60947fbbe9"><div class="ttname"><a href="../../d8/d0e/class_tokenizer.html#a84fec1cbb0c61932c2121b60947fbbe9">Tokenizer::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de9/src_2common_2_utilities_2util_8h_source.html#l00063">Util.h:63</a></div></div>
<div class="ttc" id="aclass_unit_html"><div class="ttname"><a href="../../da/db7/class_unit.html">Unit</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l01418">Unit.h:1419</a></div></div>
<div class="ttc" id="aclass_unit_html_a148e79f1285e417f73d2a95b49fc2bf9"><div class="ttname"><a href="../../da/db7/class_unit.html#a148e79f1285e417f73d2a95b49fc2bf9">Unit::m_Controlled</a></div><div class="ttdeci">ControlSet m_Controlled</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l01947">Unit.h:1947</a></div></div>
<div class="ttc" id="aclass_unit_html_a1a733a908c073be90e5174601d448002"><div class="ttname"><a href="../../da/db7/class_unit.html#a1a733a908c073be90e5174601d448002">Unit::IsValidAttackTarget</a></div><div class="ttdeci">bool IsValidAttackTarget(Unit const *target) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d2e/_unit_8cpp_source.html#l13053">Unit.cpp:13053</a></div></div>
<div class="ttc" id="aclass_unit_html_a264d868fa0654fdfe1529137f97248e3"><div class="ttname"><a href="../../da/db7/class_unit.html#a264d868fa0654fdfe1529137f97248e3">Unit::getAttackers</a></div><div class="ttdeci">AttackerSet const  &amp; getAttackers() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l01505">Unit.h:1505</a></div></div>
<div class="ttc" id="aclass_unit_html_a82fb2d4bc61ba6e8ef2c4169003a7d65"><div class="ttname"><a href="../../da/db7/class_unit.html#a82fb2d4bc61ba6e8ef2c4169003a7d65">Unit::AttackerSet</a></div><div class="ttdeci">std::unordered_set&lt; Unit * &gt; AttackerSet</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l01421">Unit.h:1421</a></div></div>
<div class="ttc" id="aclass_unit_html_aee07e22b70ed433a845b0673579d5fee"><div class="ttname"><a href="../../da/db7/class_unit.html#aee07e22b70ed433a845b0673579d5fee">Unit::AttackStop</a></div><div class="ttdeci">bool AttackStop()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d2e/_unit_8cpp_source.html#l09802">Unit.cpp:9802</a></div></div>
<div class="ttc" id="aclass_unit_html_af5e75d013dfa8a8b888d7714992e3f2a"><div class="ttname"><a href="../../da/db7/class_unit.html#af5e75d013dfa8a8b888d7714992e3f2a">Unit::IsInCombat</a></div><div class="ttdeci">bool IsInCombat() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l01770">Unit.h:1770</a></div></div>
<div class="ttc" id="aclass_unit_html_af8c91dcb86bd35e070c646e8baeaa4b4"><div class="ttname"><a href="../../da/db7/class_unit.html#af8c91dcb86bd35e070c646e8baeaa4b4">Unit::GetVictim</a></div><div class="ttdeci">Unit * GetVictim() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d32/_unit_8h_source.html#l01508">Unit.h:1508</a></div></div>
<div class="ttc" id="aclass_world_location_html"><div class="ttname"><a href="../../d6/d64/class_world_location.html">WorldLocation</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/_object_8h_source.html#l00460">Object.h:461</a></div></div>
<div class="ttc" id="aclass_world_location_html_a2682e56ae4f0ce4b517a8ba3cd2798b1"><div class="ttname"><a href="../../d6/d64/class_world_location.html#a2682e56ae4f0ce4b517a8ba3cd2798b1">WorldLocation::GetMapId</a></div><div class="ttdeci">uint32 GetMapId() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/_object_8h_source.html#l00486">Object.h:486</a></div></div>
<div class="ttc" id="aclass_world_object_html_a5ee93bba16f1a008756484be117fe855"><div class="ttname"><a href="../../db/df7/class_world_object.html#a5ee93bba16f1a008756484be117fe855">WorldObject::FindMap</a></div><div class="ttdeci">Map * FindMap() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/_object_8h_source.html#l00801">Object.h:801</a></div></div>
<div class="ttc" id="aclass_world_packet_html"><div class="ttname"><a href="../../d6/d1a/class_world_packet.html">WorldPacket</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d66/_world_packet_8h_source.html#l00026">WorldPacket.h:27</a></div></div>
<div class="ttc" id="aclass_world_session_html_a2c74b80ca9b81765049e315813b29269"><div class="ttname"><a href="../../d1/d47/class_world_session.html#a2c74b80ca9b81765049e315813b29269">WorldSession::SendPacket</a></div><div class="ttdeci">void SendPacket(WorldPacket const *packet)</div><div class="ttdoc">Send a packet to the client.</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcc/_world_session_8cpp_source.html#l00210">WorldSession.cpp:210</a></div></div>
<div class="ttc" id="aclass_world_session_html_add117187a32a871148dfadd7e4526e81"><div class="ttname"><a href="../../d1/d47/class_world_session.html#add117187a32a871148dfadd7e4526e81">WorldSession::m_muteTime</a></div><div class="ttdeci">time_t m_muteTime</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc6/_world_session_8h_source.html#l00404">WorldSession.h:404</a></div></div>
<div class="ttc" id="aclassvalue_html"><div class="ttname"><a href="../../d7/d71/classvalue.html">value</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d71/fmt_2include_2fmt_2core_8h_source.html#l01120">core.h:1120</a></div></div>
<div class="ttc" id="adtoa_8c_html_a158860430cb5f139d88fdf19cf9ad511"><div class="ttname"><a href="../../d9/d39/dtoa_8c.html#a158860430cb5f139d88fdf19cf9ad511">diff</a></div><div class="ttdeci">static Bigint * diff(Bigint *a, Bigint *b, Stack_alloc *alloc)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d39/dtoa_8c_source.html#l01108">dtoa.c:1108</a></div></div>
<div class="ttc" id="afmt_2include_2fmt_2core_8h_html_a501bb1bb2f0cc5706178ed237958e73b"><div class="ttname"><a href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a501bb1bb2f0cc5706178ed237958e73b">count</a></div><div class="ttdeci">constexpr auto count() -&gt; size_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d71/fmt_2include_2fmt_2core_8h_source.html#l01039">core.h:1039</a></div></div>
<div class="ttc" id="afmt_2include_2fmt_2core_8h_html_a7fc0249f0f8ba720115d2430f5b86cbaa6a992d5529f459a44fee58c733255e86"><div class="ttname"><a href="../../d5/d71/fmt_2include_2fmt_2core_8h.html#a7fc0249f0f8ba720115d2430f5b86cbaa6a992d5529f459a44fee58c733255e86">arg_id_kind::index</a></div><div class="ttdeci">@ index</div></div>
<div class="ttc" id="agroup__u2w_html_gga1073b6abb3a749f18bf1633020879e9ba16e7a5aca7a5e90921d7086bbacaae9a"><div class="ttname"><a href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9ba16e7a5aca7a5e90921d7086bbacaae9a">SMSG_INSTANCE_RESET</a></div><div class="ttdeci">@ SMSG_INSTANCE_RESET</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/_opcodes_8h_source.html#l00828">Opcodes.h:828</a></div></div>
<div class="ttc" id="agroup__u2w_html_gga1073b6abb3a749f18bf1633020879e9ba4dc1be4abebf4ab3d5689ba8c66bae20"><div class="ttname"><a href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9ba4dc1be4abebf4ab3d5689ba8c66bae20">SMSG_CANCEL_COMBAT</a></div><div class="ttdeci">@ SMSG_CANCEL_COMBAT</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/_opcodes_8h_source.html#l00364">Opcodes.h:364</a></div></div>
<div class="ttc" id="agroup__u2w_html_gga1073b6abb3a749f18bf1633020879e9ba5b8f013fc6d62b41f1824a65a1b03372"><div class="ttname"><a href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9ba5b8f013fc6d62b41f1824a65a1b03372">SMSG_ATTACKSWING_CANT_ATTACK</a></div><div class="ttdeci">@ SMSG_ATTACKSWING_CANT_ATTACK</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/_opcodes_8h_source.html#l00359">Opcodes.h:359</a></div></div>
<div class="ttc" id="agroup__u2w_html_gga1073b6abb3a749f18bf1633020879e9ba6034e8b5d782cc67a2e271a60e758684"><div class="ttname"><a href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9ba6034e8b5d782cc67a2e271a60e758684">MSG_SET_RAID_DIFFICULTY</a></div><div class="ttdeci">@ MSG_SET_RAID_DIFFICULTY</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/_opcodes_8h_source.html#l01289">Opcodes.h:1289</a></div></div>
<div class="ttc" id="agroup__u2w_html_gga1073b6abb3a749f18bf1633020879e9ba790422a0dce80f61a95b0a860174fdaf"><div class="ttname"><a href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9ba790422a0dce80f61a95b0a860174fdaf">SMSG_ATTACKSWING_BADFACING</a></div><div class="ttdeci">@ SMSG_ATTACKSWING_BADFACING</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/_opcodes_8h_source.html#l00356">Opcodes.h:356</a></div></div>
<div class="ttc" id="agroup__u2w_html_gga1073b6abb3a749f18bf1633020879e9ba855ab6b1b103a8de23daf12efb968d3f"><div class="ttname"><a href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9ba855ab6b1b103a8de23daf12efb968d3f">SMSG_INSTANCE_RESET_FAILED</a></div><div class="ttdeci">@ SMSG_INSTANCE_RESET_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/_opcodes_8h_source.html#l00829">Opcodes.h:829</a></div></div>
<div class="ttc" id="agroup__u2w_html_gga1073b6abb3a749f18bf1633020879e9baa04ea0f238f9d5a670600b9b45234353"><div class="ttname"><a href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9baa04ea0f238f9d5a670600b9b45234353">SMSG_ATTACKSWING_NOTINRANGE</a></div><div class="ttdeci">@ SMSG_ATTACKSWING_NOTINRANGE</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/_opcodes_8h_source.html#l00355">Opcodes.h:355</a></div></div>
<div class="ttc" id="agroup__u2w_html_gga1073b6abb3a749f18bf1633020879e9baa600f179f70d9f4078f5c5a2dc1af1d3"><div class="ttname"><a href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9baa600f179f70d9f4078f5c5a2dc1af1d3">SMSG_EXPLORATION_EXPERIENCE</a></div><div class="ttdeci">@ SMSG_EXPLORATION_EXPERIENCE</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/_opcodes_8h_source.html#l00534">Opcodes.h:534</a></div></div>
<div class="ttc" id="agroup__u2w_html_gga1073b6abb3a749f18bf1633020879e9baac5a1f00ab7c4d2b83f3dbfec64113b3"><div class="ttname"><a href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9baac5a1f00ab7c4d2b83f3dbfec64113b3">SMSG_CANCEL_AUTO_REPEAT</a></div><div class="ttdeci">@ SMSG_CANCEL_AUTO_REPEAT</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/_opcodes_8h_source.html#l00698">Opcodes.h:698</a></div></div>
<div class="ttc" id="agroup__u2w_html_gga1073b6abb3a749f18bf1633020879e9bac5c45910bbb413b7248c60e8ea9c97b1"><div class="ttname"><a href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9bac5c45910bbb413b7248c60e8ea9c97b1">SMSG_RESET_FAILED_NOTIFY</a></div><div class="ttdeci">@ SMSG_RESET_FAILED_NOTIFY</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/_opcodes_8h_source.html#l00948">Opcodes.h:948</a></div></div>
<div class="ttc" id="agroup__u2w_html_gga1073b6abb3a749f18bf1633020879e9bad1b637a99863ca230dd1945432166433"><div class="ttname"><a href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9bad1b637a99863ca230dd1945432166433">MSG_SET_DUNGEON_DIFFICULTY</a></div><div class="ttdeci">@ MSG_SET_DUNGEON_DIFFICULTY</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/_opcodes_8h_source.html#l00839">Opcodes.h:839</a></div></div>
<div class="ttc" id="agroup__u2w_html_gga1073b6abb3a749f18bf1633020879e9baf5e9de8d1e76b82f79aedc5c623081ae"><div class="ttname"><a href="../../d2/dec/group__u2w.html#gga1073b6abb3a749f18bf1633020879e9baf5e9de8d1e76b82f79aedc5c623081ae">SMSG_ATTACKSWING_DEADTARGET</a></div><div class="ttdeci">@ SMSG_ATTACKSWING_DEADTARGET</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d10/_opcodes_8h_source.html#l00358">Opcodes.h:358</a></div></div>
<div class="ttc" id="agroup__world_html_ga05dfb35c344e5b947a19e4284e7f5fa7"><div class="ttname"><a href="../../df/d17/group__world.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a></div><div class="ttdeci">#define sWorld</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d86/_world_8h_source.html#l00511">World.h:511</a></div></div>
<div class="ttc" id="amy__global_8h_html_a05f6b0ae8f6a6e135b0e290c25fe0e4e"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a></div><div class="ttdeci">unsigned short uint16</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00887">my_global.h:887</a></div></div>
<div class="ttc" id="amy__global_8h_html_adde6aaee8457bee49c2a92621fe22b79"><div class="ttname"><a href="../../d9/df6/my__global_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a></div><div class="ttdeci">unsigned char uint8</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df6/my__global_8h_source.html#l00881">my_global.h:881</a></div></div>
<div class="ttc" id="anamespace_account_mgr_html_a63751f144cb7acb57fc20f0caf5e7043"><div class="ttname"><a href="../../df/d1b/namespace_account_mgr.html#a63751f144cb7acb57fc20f0caf5e7043">AccountMgr::IsPlayerAccount</a></div><div class="ttdeci">bool IsPlayerAccount(uint32 gmlevel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dac/_account_mgr_8cpp_source.html#l00276">AccountMgr.cpp:276</a></div></div>
<div class="ttc" id="anamespace_account_mgr_html_a8280510b2564ec6ea76727218c1687b3"><div class="ttname"><a href="../../df/d1b/namespace_account_mgr.html#a8280510b2564ec6ea76727218c1687b3">AccountMgr::GetSecurity</a></div><div class="ttdeci">uint32 GetSecurity(uint32 accountId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dac/_account_mgr_8cpp_source.html#l00209">AccountMgr.cpp:209</a></div></div>
<div class="ttc" id="anamespace_g3_d_html_a05e047033db3919db794d0f77e38797f"><div class="ttname"><a href="../../df/de2/namespace_g3_d.html#a05e047033db3919db794d0f77e38797f">G3D::z</a></div><div class="ttdeci">G3D::int16 z</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5d/_vector3int16_8h_source.html#l00046">Vector3int16.h:46</a></div></div>
<div class="ttc" id="anamespace_g3_d_html_a55ae91213b07da3a9e14fcd5068d497f"><div class="ttname"><a href="../../df/de2/namespace_g3_d.html#a55ae91213b07da3a9e14fcd5068d497f">G3D::x</a></div><div class="ttdeci">G3D::int16 x</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d14/_vector2int16_8h_source.html#l00037">Vector2int16.h:37</a></div></div>
<div class="ttc" id="anamespace_g3_d_html_a8942ba929b21cfdf30bd22fe36baaefa"><div class="ttname"><a href="../../df/de2/namespace_g3_d.html#a8942ba929b21cfdf30bd22fe36baaefa">G3D::y</a></div><div class="ttdeci">G3D::int16 y</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d14/_vector2int16_8h_source.html#l00038">Vector2int16.h:38</a></div></div>
<div class="ttc" id="anamespace_g3_d_html_ae768a08580bf2b48ea6487bbda39dd34"><div class="ttname"><a href="../../df/de2/namespace_g3_d.html#ae768a08580bf2b48ea6487bbda39dd34">G3D::uint16</a></div><div class="ttdeci">uint16_t uint16</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfa/g3dmath_8h_source.html#l00166">g3dmath.h:166</a></div></div>
<div class="ttc" id="anamespace_g3_d_html_ae911b90657d7162d47997c702af655a8"><div class="ttname"><a href="../../df/de2/namespace_g3_d.html#ae911b90657d7162d47997c702af655a8">G3D::uint32</a></div><div class="ttdeci">uint32_t uint32</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dfa/g3dmath_8h_source.html#l00168">g3dmath.h:168</a></div></div>
<div class="ttc" id="anamespace_object_accessor_html_a354f7e7aaf4b12d6ad8fe8ef6291eaa0"><div class="ttname"><a href="../../d4/d27/namespace_object_accessor.html#a354f7e7aaf4b12d6ad8fe8ef6291eaa0">ObjectAccessor::FindConnectedPlayer</a></div><div class="ttdeci">Player * FindConnectedPlayer(ObjectGuid const guid)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5d/_object_accessor_8cpp_source.html#l00257">ObjectAccessor.cpp:257</a></div></div>
<div class="ttc" id="anamespacempq_html_a9fbd3a52049cfe1e11371096a422d94e"><div class="ttname"><a href="../../d4/d71/namespacempq.html#a9fbd3a52049cfe1e11371096a422d94e">mpq.d</a></div><div class="ttdeci">d</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d3e/mpq_8py_source.html#l00298">mpq.py:298</a></div></div>
<div class="ttc" id="asrc_2common_2_logging_2_log_8h_html_a42bcf0f5d8fbd8c8f9f4ef66e35766d5"><div class="ttname"><a href="../../d3/d07/src_2common_2_logging_2_log_8h.html#a42bcf0f5d8fbd8c8f9f4ef66e35766d5">FMT_LOG_ERROR</a></div><div class="ttdeci">#define FMT_LOG_ERROR(filterType__,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d07/src_2common_2_logging_2_log_8h_source.html#l00312">Log.h:312</a></div></div>
<div class="ttc" id="asrc_2common_2common_8h_html_afacf27522adfacf698390ddafc53fa30"><div class="ttname"><a href="../../d1/d8b/src_2common_2common_8h.html#afacf27522adfacf698390ddafc53fa30">MINUTE</a></div><div class="ttdeci">constexpr auto MINUTE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8b/src_2common_2common_8h_source.html#l00056">Common.h:56</a></div></div>
<div class="ttc" id="astruct_b_g_data_html_a51f8f4e05dc0224982af9a61d2dfae36"><div class="ttname"><a href="../../d1/d77/struct_b_g_data.html#a51f8f4e05dc0224982af9a61d2dfae36">BGData::bgAfkReportedTimer</a></div><div class="ttdeci">time_t bgAfkReportedTimer</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l01004">Player.h:1004</a></div></div>
<div class="ttc" id="astruct_b_g_data_html_ab7374e7b8fc6607dd6b4f04385e80ca3"><div class="ttname"><a href="../../d1/d77/struct_b_g_data.html#ab7374e7b8fc6607dd6b4f04385e80ca3">BGData::bgAfkReportedCount</a></div><div class="ttdeci">uint8 bgAfkReportedCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l01003">Player.h:1003</a></div></div>
<div class="ttc" id="astruct_character_customize_info_html"><div class="ttname"><a href="../../dd/d88/struct_character_customize_info.html">CharacterCustomizeInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc6/_world_session_8h_source.html#l00210">WorldSession.h:211</a></div></div>
<div class="ttc" id="astruct_character_customize_info_html_a14321ea3595debe2836eceab8a82f944"><div class="ttname"><a href="../../dd/d88/struct_character_customize_info.html#a14321ea3595debe2836eceab8a82f944">CharacterCustomizeInfo::Gender</a></div><div class="ttdeci">uint8 Gender</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc6/_world_session_8h_source.html#l00216">WorldSession.h:216</a></div></div>
<div class="ttc" id="astruct_character_customize_info_html_a2876110e687e7248e8c64fcb3a3a80db"><div class="ttname"><a href="../../dd/d88/struct_character_customize_info.html#a2876110e687e7248e8c64fcb3a3a80db">CharacterCustomizeInfo::Skin</a></div><div class="ttdeci">uint8 Skin</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc6/_world_session_8h_source.html#l00217">WorldSession.h:217</a></div></div>
<div class="ttc" id="astruct_character_customize_info_html_a44643270b211d275eb94283842791407"><div class="ttname"><a href="../../dd/d88/struct_character_customize_info.html#a44643270b211d275eb94283842791407">CharacterCustomizeInfo::FacialHair</a></div><div class="ttdeci">uint8 FacialHair</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc6/_world_session_8h_source.html#l00221">WorldSession.h:221</a></div></div>
<div class="ttc" id="astruct_character_customize_info_html_a6334464eea38be514f3faa7538b39a5a"><div class="ttname"><a href="../../dd/d88/struct_character_customize_info.html#a6334464eea38be514f3faa7538b39a5a">CharacterCustomizeInfo::Face</a></div><div class="ttdeci">uint8 Face</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc6/_world_session_8h_source.html#l00218">WorldSession.h:218</a></div></div>
<div class="ttc" id="astruct_character_customize_info_html_ade5b2dff213547ab4d707070f8979085"><div class="ttname"><a href="../../dd/d88/struct_character_customize_info.html#ade5b2dff213547ab4d707070f8979085">CharacterCustomizeInfo::HairStyle</a></div><div class="ttdeci">uint8 HairStyle</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc6/_world_session_8h_source.html#l00219">WorldSession.h:219</a></div></div>
<div class="ttc" id="astruct_character_customize_info_html_aeaa7ce4ecea7f42def63049424a2dd6b"><div class="ttname"><a href="../../dd/d88/struct_character_customize_info.html#aeaa7ce4ecea7f42def63049424a2dd6b">CharacterCustomizeInfo::HairColor</a></div><div class="ttdeci">uint8 HairColor</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc6/_world_session_8h_source.html#l00220">WorldSession.h:220</a></div></div>
<div class="ttc" id="astruct_character_rename_info_html_a46a89b6904e59f39f4e1460a9bb45765"><div class="ttname"><a href="../../d4/d50/struct_character_rename_info.html#a46a89b6904e59f39f4e1460a9bb45765">CharacterRenameInfo::Guid</a></div><div class="ttdeci">ObjectGuid Guid</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc6/_world_session_8h_source.html#l00206">WorldSession.h:206</a></div></div>
<div class="ttc" id="astruct_duel_info_html_a3b032f1dea0693f9571bd1926056d9b5"><div class="ttname"><a href="../../db/def/struct_duel_info.html#a3b032f1dea0693f9571bd1926056d9b5">DuelInfo::opponent</a></div><div class="ttdeci">Player * opponent</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l00364">Player.h:364</a></div></div>
<div class="ttc" id="astruct_duel_info_html_a9c74c722ada5fbb14b852f05ff887c5b"><div class="ttname"><a href="../../db/def/struct_duel_info.html#a9c74c722ada5fbb14b852f05ff887c5b">DuelInfo::startTimer</a></div><div class="ttdeci">time_t startTimer</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l00365">Player.h:365</a></div></div>
<div class="ttc" id="astruct_duel_info_html_ae98d6579ccc51e4c40cedce0479edaf5"><div class="ttname"><a href="../../db/def/struct_duel_info.html#ae98d6579ccc51e4c40cedce0479edaf5">DuelInfo::startTime</a></div><div class="ttdeci">time_t startTime</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l00366">Player.h:366</a></div></div>
<div class="ttc" id="astruct_item_template_html"><div class="ttname"><a href="../../da/d61/struct_item_template.html">ItemTemplate</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d9e/_item_template_8h_source.html#l00627">ItemTemplate.h:628</a></div></div>
<div class="ttc" id="astruct_item_template_html_a2c13c4c1edbd3add9c6e0e2263f6c717"><div class="ttname"><a href="../../da/d61/struct_item_template.html#a2c13c4c1edbd3add9c6e0e2263f6c717">ItemTemplate::MaxCount</a></div><div class="ttdeci">int32 MaxCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d9e/_item_template_8h_source.html#l00653">ItemTemplate.h:653</a></div></div>
<div class="ttc" id="astruct_item_template_html_a397d7a20deee4000f7692ba5e8eae176"><div class="ttname"><a href="../../da/d61/struct_item_template.html#a397d7a20deee4000f7692ba5e8eae176">ItemTemplate::GetMaxStackSize</a></div><div class="ttdeci">uint32 GetMaxStackSize() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d9e/_item_template_8h_source.html#l00738">ItemTemplate.h:738</a></div></div>
<div class="ttc" id="astruct_map_entry_html"><div class="ttname"><a href="../../d2/d99/struct_map_entry.html">MapEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01270">DBCStructure.h:1271</a></div></div>
<div class="ttc" id="astruct_map_entry_html_adc49d2974929327b06a442012b0a07d1"><div class="ttname"><a href="../../d2/d99/struct_map_entry.html#adc49d2974929327b06a442012b0a07d1">MapEntry::IsRaid</a></div><div class="ttdeci">bool IsRaid() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/_d_b_c_structure_8h_source.html#l01300">DBCStructure.h:1300</a></div></div>
<div class="ttc" id="astruct_position_html_a3a41e36588db20c750b48569894a2753"><div class="ttname"><a href="../../d1/d26/struct_position.html#a3a41e36588db20c750b48569894a2753">Position::ToString</a></div><div class="ttdeci">std::string ToString() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/ded/_object_8cpp_source.html#l01026">Object.cpp:1026</a></div></div>
<div class="ttc" id="astruct_position_html_a4e813a59345a6275e8b87b96be03e60b"><div class="ttname"><a href="../../d1/d26/struct_position.html#a4e813a59345a6275e8b87b96be03e60b">Position::GetPositionZ</a></div><div class="ttdeci">float GetPositionZ() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/_object_8h_source.html#l00336">Object.h:336</a></div></div>
<div class="ttc" id="astruct_position_html_a74cabfb8f441acb38e1abd5bf6ecdc84"><div class="ttname"><a href="../../d1/d26/struct_position.html#a74cabfb8f441acb38e1abd5bf6ecdc84">Position::GetOrientation</a></div><div class="ttdeci">float GetOrientation() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/_object_8h_source.html#l00337">Object.h:337</a></div></div>
<div class="ttc" id="astruct_position_html_ad5577c934d9e845b44759b67c534c3e8"><div class="ttname"><a href="../../d1/d26/struct_position.html#ad5577c934d9e845b44759b67c534c3e8">Position::GetPositionX</a></div><div class="ttdeci">float GetPositionX() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/_object_8h_source.html#l00334">Object.h:334</a></div></div>
<div class="ttc" id="astruct_position_html_ae79fc664f6cd027f5d49f6c7df8e4c9e"><div class="ttname"><a href="../../d1/d26/struct_position.html#ae79fc664f6cd027f5d49f6c7df8e4c9e">Position::GetPositionY</a></div><div class="ttdeci">float GetPositionY() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/_object_8h_source.html#l00335">Object.h:335</a></div></div>
<div class="ttc" id="astruct_pv_p_info_html_a22a1c8f0e8c51f4a27cb8ab362028d61"><div class="ttname"><a href="../../d6/db0/struct_pv_p_info.html#a22a1c8f0e8c51f4a27cb8ab362028d61">PvPInfo::IsHostile</a></div><div class="ttdeci">bool IsHostile</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l00351">Player.h:351</a></div></div>
<div class="ttc" id="astruct_pv_p_info_html_a739dfc63dfe39429a44ea682d9120522"><div class="ttname"><a href="../../d6/db0/struct_pv_p_info.html#a739dfc63dfe39429a44ea682d9120522">PvPInfo::FFAPvPEndTimer</a></div><div class="ttdeci">time_t FFAPvPEndTimer</div><div class="ttdoc">Time when player unflags himself for PvP (flag removed after 5 minutes)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l00356">Player.h:356</a></div></div>
<div class="ttc" id="astruct_pv_p_info_html_ae06b5030552c02f30fe8386633a753df"><div class="ttname"><a href="../../d6/db0/struct_pv_p_info.html#ae06b5030552c02f30fe8386633a753df">PvPInfo::EndTimer</a></div><div class="ttdeci">time_t EndTimer</div><div class="ttdoc">Marks if player is in an FFAPvP area (such as Gurubashi Arena)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l00355">Player.h:355</a></div></div>
<div class="ttc" id="astructdata_html"><div class="ttname"><a href="../../df/dea/structdata.html">data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddf/fmt_2include_2fmt_2format_8h_source.html#l00897">format.h:897</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
